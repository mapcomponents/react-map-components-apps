var mj=Object.defineProperty;var jk=e=>{throw TypeError(e)};var gj=(e,t,r)=>t in e?mj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Dy=(e,t,r)=>gj(e,typeof t!="symbol"?t+"":t,r),Q5=(e,t,r)=>t.has(e)||jk("Cannot "+r);var st=(e,t,r)=>(Q5(e,t,"read from private field"),r?r.call(e):t.get(e)),un=(e,t,r)=>t.has(e)?jk("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),_r=(e,t,r,n)=>(Q5(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),En=(e,t,r)=>(Q5(e,t,"access private method"),r);var $2=(e,t,r,n)=>({set _(o){_r(e,t,o,r)},get _(){return st(e,t,n)}});function yj(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in e)){const s=Object.getOwnPropertyDescriptor(n,o);s&&Object.defineProperty(e,o,s.get?s:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();var Th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $A(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function GR(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),r}var WR={exports:{}},dx={},XR={exports:{}},Vn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv=Symbol.for("react.element"),vj=Symbol.for("react.portal"),bj=Symbol.for("react.fragment"),_j=Symbol.for("react.strict_mode"),xj=Symbol.for("react.profiler"),wj=Symbol.for("react.provider"),Sj=Symbol.for("react.context"),Cj=Symbol.for("react.forward_ref"),Aj=Symbol.for("react.suspense"),Ej=Symbol.for("react.memo"),Tj=Symbol.for("react.lazy"),Uk=Symbol.iterator;function Pj(e){return e===null||typeof e!="object"?null:(e=Uk&&e[Uk]||e["@@iterator"],typeof e=="function"?e:null)}var KR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ZR=Object.assign,YR={};function zg(e,t,r){this.props=e,this.context=t,this.refs=YR,this.updater=r||KR}zg.prototype.isReactComponent={};zg.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};zg.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function JR(){}JR.prototype=zg.prototype;function BA(e,t,r){this.props=e,this.context=t,this.refs=YR,this.updater=r||KR}var zA=BA.prototype=new JR;zA.constructor=BA;ZR(zA,zg.prototype);zA.isPureReactComponent=!0;var Vk=Array.isArray,QR=Object.prototype.hasOwnProperty,jA={current:null},e8={key:!0,ref:!0,__self:!0,__source:!0};function t8(e,t,r){var n,o={},s=null,u=null;if(t!=null)for(n in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(s=""+t.key),t)QR.call(t,n)&&!e8.hasOwnProperty(n)&&(o[n]=t[n]);var l=arguments.length-2;if(l===1)o.children=r;else if(1<l){for(var f=Array(l),v=0;v<l;v++)f[v]=arguments[v+2];o.children=f}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)o[n]===void 0&&(o[n]=l[n]);return{$$typeof:Uv,type:e,key:s,ref:u,props:o,_owner:jA.current}}function kj(e,t){return{$$typeof:Uv,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function UA(e){return typeof e=="object"&&e!==null&&e.$$typeof===Uv}function Ij(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var qk=/\/+/g;function eS(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ij(""+e.key):t.toString(36)}function Rb(e,t,r,n,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case Uv:case vj:u=!0}}if(u)return u=e,o=o(u),e=n===""?"."+eS(u,0):n,Vk(o)?(r="",e!=null&&(r=e.replace(qk,"$&/")+"/"),Rb(o,t,r,"",function(v){return v})):o!=null&&(UA(o)&&(o=kj(o,r+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(qk,"$&/")+"/")+e)),t.push(o)),1;if(u=0,n=n===""?".":n+":",Vk(e))for(var l=0;l<e.length;l++){s=e[l];var f=n+eS(s,l);u+=Rb(s,t,r,f,o)}else if(f=Pj(e),typeof f=="function")for(e=f.call(e),l=0;!(s=e.next()).done;)s=s.value,f=n+eS(s,l++),u+=Rb(s,t,r,f,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function B2(e,t,r){if(e==null)return e;var n=[],o=0;return Rb(e,n,"","",function(s){return t.call(r,s,o++)}),n}function Lj(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var dl={current:null},Ob={transition:null},Mj={ReactCurrentDispatcher:dl,ReactCurrentBatchConfig:Ob,ReactCurrentOwner:jA};function r8(){throw Error("act(...) is not supported in production builds of React.")}Vn.Children={map:B2,forEach:function(e,t,r){B2(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return B2(e,function(){t++}),t},toArray:function(e){return B2(e,function(t){return t})||[]},only:function(e){if(!UA(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Vn.Component=zg;Vn.Fragment=bj;Vn.Profiler=xj;Vn.PureComponent=BA;Vn.StrictMode=_j;Vn.Suspense=Aj;Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mj;Vn.act=r8;Vn.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=ZR({},e.props),o=e.key,s=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,u=jA.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(f in t)QR.call(t,f)&&!e8.hasOwnProperty(f)&&(n[f]=t[f]===void 0&&l!==void 0?l[f]:t[f])}var f=arguments.length-2;if(f===1)n.children=r;else if(1<f){l=Array(f);for(var v=0;v<f;v++)l[v]=arguments[v+2];n.children=l}return{$$typeof:Uv,type:e.type,key:o,ref:s,props:n,_owner:u}};Vn.createContext=function(e){return e={$$typeof:Sj,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:wj,_context:e},e.Consumer=e};Vn.createElement=t8;Vn.createFactory=function(e){var t=t8.bind(null,e);return t.type=e,t};Vn.createRef=function(){return{current:null}};Vn.forwardRef=function(e){return{$$typeof:Cj,render:e}};Vn.isValidElement=UA;Vn.lazy=function(e){return{$$typeof:Tj,_payload:{_status:-1,_result:e},_init:Lj}};Vn.memo=function(e,t){return{$$typeof:Ej,type:e,compare:t===void 0?null:t}};Vn.startTransition=function(e){var t=Ob.transition;Ob.transition={};try{e()}finally{Ob.transition=t}};Vn.unstable_act=r8;Vn.useCallback=function(e,t){return dl.current.useCallback(e,t)};Vn.useContext=function(e){return dl.current.useContext(e)};Vn.useDebugValue=function(){};Vn.useDeferredValue=function(e){return dl.current.useDeferredValue(e)};Vn.useEffect=function(e,t){return dl.current.useEffect(e,t)};Vn.useId=function(){return dl.current.useId()};Vn.useImperativeHandle=function(e,t,r){return dl.current.useImperativeHandle(e,t,r)};Vn.useInsertionEffect=function(e,t){return dl.current.useInsertionEffect(e,t)};Vn.useLayoutEffect=function(e,t){return dl.current.useLayoutEffect(e,t)};Vn.useMemo=function(e,t){return dl.current.useMemo(e,t)};Vn.useReducer=function(e,t,r){return dl.current.useReducer(e,t,r)};Vn.useRef=function(e){return dl.current.useRef(e)};Vn.useState=function(e){return dl.current.useState(e)};Vn.useSyncExternalStore=function(e,t,r){return dl.current.useSyncExternalStore(e,t,r)};Vn.useTransition=function(){return dl.current.useTransition()};Vn.version="18.3.1";XR.exports=Vn;var Q=XR.exports;const ve=$A(Q),q1=yj({__proto__:null,default:ve},[Q]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dj=Q,Rj=Symbol.for("react.element"),Oj=Symbol.for("react.fragment"),Nj=Object.prototype.hasOwnProperty,Fj=Dj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$j={key:!0,ref:!0,__self:!0,__source:!0};function n8(e,t,r){var n,o={},s=null,u=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(u=t.ref);for(n in t)Nj.call(t,n)&&!$j.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)o[n]===void 0&&(o[n]=t[n]);return{$$typeof:Rj,type:e,key:s,ref:u,props:o,_owner:Fj.current}}dx.Fragment=Oj;dx.jsx=n8;dx.jsxs=n8;WR.exports=dx;var ut=WR.exports,_3={},i8={exports:{}},Eu={},o8={exports:{}},a8={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(xe,Oe){var Ke=xe.length;xe.push(Oe);e:for(;0<Ke;){var ht=Ke-1>>>1,le=xe[ht];if(0<o(le,Oe))xe[ht]=Oe,xe[Ke]=le,Ke=ht;else break e}}function r(xe){return xe.length===0?null:xe[0]}function n(xe){if(xe.length===0)return null;var Oe=xe[0],Ke=xe.pop();if(Ke!==Oe){xe[0]=Ke;e:for(var ht=0,le=xe.length,me=le>>>1;ht<me;){var we=2*(ht+1)-1,Ie=xe[we],Me=we+1,tt=xe[Me];if(0>o(Ie,Ke))Me<le&&0>o(tt,Ie)?(xe[ht]=tt,xe[Me]=Ke,ht=Me):(xe[ht]=Ie,xe[we]=Ke,ht=we);else if(Me<le&&0>o(tt,Ke))xe[ht]=tt,xe[Me]=Ke,ht=Me;else break e}}return Oe}function o(xe,Oe){var Ke=xe.sortIndex-Oe.sortIndex;return Ke!==0?Ke:xe.id-Oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var u=Date,l=u.now();e.unstable_now=function(){return u.now()-l}}var f=[],v=[],x=1,w=null,C=3,P=!1,O=!1,I=!1,z=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(xe){for(var Oe=r(v);Oe!==null;){if(Oe.callback===null)n(v);else if(Oe.startTime<=xe)n(v),Oe.sortIndex=Oe.expirationTime,t(f,Oe);else break;Oe=r(v)}}function W(xe){if(I=!1,V(xe),!O)if(r(f)!==null)O=!0,Le(re);else{var Oe=r(v);Oe!==null&&je(W,Oe.startTime-xe)}}function re(xe,Oe){O=!1,I&&(I=!1,N(ne),ne=-1),P=!0;var Ke=C;try{for(V(Oe),w=r(f);w!==null&&(!(w.expirationTime>Oe)||xe&&!X());){var ht=w.callback;if(typeof ht=="function"){w.callback=null,C=w.priorityLevel;var le=ht(w.expirationTime<=Oe);Oe=e.unstable_now(),typeof le=="function"?w.callback=le:w===r(f)&&n(f),V(Oe)}else n(f);w=r(f)}if(w!==null)var me=!0;else{var we=r(v);we!==null&&je(W,we.startTime-Oe),me=!1}return me}finally{w=null,C=Ke,P=!1}}var ie=!1,J=null,ne=-1,Ae=5,Z=-1;function X(){return!(e.unstable_now()-Z<Ae)}function oe(){if(J!==null){var xe=e.unstable_now();Z=xe;var Oe=!0;try{Oe=J(!0,xe)}finally{Oe?be():(ie=!1,J=null)}}else ie=!1}var be;if(typeof j=="function")be=function(){j(oe)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,De=ge.port2;ge.port1.onmessage=oe,be=function(){De.postMessage(null)}}else be=function(){z(oe,0)};function Le(xe){J=xe,ie||(ie=!0,be())}function je(xe,Oe){ne=z(function(){xe(e.unstable_now())},Oe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(xe){xe.callback=null},e.unstable_continueExecution=function(){O||P||(O=!0,Le(re))},e.unstable_forceFrameRate=function(xe){0>xe||125<xe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ae=0<xe?Math.floor(1e3/xe):5},e.unstable_getCurrentPriorityLevel=function(){return C},e.unstable_getFirstCallbackNode=function(){return r(f)},e.unstable_next=function(xe){switch(C){case 1:case 2:case 3:var Oe=3;break;default:Oe=C}var Ke=C;C=Oe;try{return xe()}finally{C=Ke}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(xe,Oe){switch(xe){case 1:case 2:case 3:case 4:case 5:break;default:xe=3}var Ke=C;C=xe;try{return Oe()}finally{C=Ke}},e.unstable_scheduleCallback=function(xe,Oe,Ke){var ht=e.unstable_now();switch(typeof Ke=="object"&&Ke!==null?(Ke=Ke.delay,Ke=typeof Ke=="number"&&0<Ke?ht+Ke:ht):Ke=ht,xe){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=Ke+le,xe={id:x++,callback:Oe,priorityLevel:xe,startTime:Ke,expirationTime:le,sortIndex:-1},Ke>ht?(xe.sortIndex=Ke,t(v,xe),r(f)===null&&xe===r(v)&&(I?(N(ne),ne=-1):I=!0,je(W,Ke-ht))):(xe.sortIndex=le,t(f,xe),O||P||(O=!0,Le(re))),xe},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(xe){var Oe=C;return function(){var Ke=C;C=Oe;try{return xe.apply(this,arguments)}finally{C=Ke}}}})(a8);o8.exports=a8;var Bj=o8.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zj=Q,wu=Bj;function or(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s8=new Set,H1={};function rm(e,t){wg(e,t),wg(e+"Capture",t)}function wg(e,t){for(H1[e]=t,e=0;e<t.length;e++)s8.add(t[e])}var Ad=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x3=Object.prototype.hasOwnProperty,jj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hk={},Gk={};function Uj(e){return x3.call(Gk,e)?!0:x3.call(Hk,e)?!1:jj.test(e)?Gk[e]=!0:(Hk[e]=!0,!1)}function Vj(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qj(e,t,r,n){if(t===null||typeof t>"u"||Vj(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function fl(e,t,r,n,o,s,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=u}var ms={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ms[e]=new fl(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ms[t]=new fl(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ms[e]=new fl(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ms[e]=new fl(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ms[e]=new fl(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ms[e]=new fl(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ms[e]=new fl(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ms[e]=new fl(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ms[e]=new fl(e,5,!1,e.toLowerCase(),null,!1,!1)});var VA=/[\-:]([a-z])/g;function qA(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(VA,qA);ms[t]=new fl(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(VA,qA);ms[t]=new fl(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(VA,qA);ms[t]=new fl(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ms[e]=new fl(e,1,!1,e.toLowerCase(),null,!1,!1)});ms.xlinkHref=new fl("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ms[e]=new fl(e,1,!1,e.toLowerCase(),null,!0,!0)});function HA(e,t,r,n){var o=ms.hasOwnProperty(t)?ms[t]:null;(o!==null?o.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(qj(t,r,o,n)&&(r=null),n||o===null?Uj(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=r===null?o.type===3?!1:"":r:(t=o.attributeName,n=o.attributeNamespace,r===null?e.removeAttribute(t):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Od=zj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z2=Symbol.for("react.element"),T0=Symbol.for("react.portal"),P0=Symbol.for("react.fragment"),GA=Symbol.for("react.strict_mode"),w3=Symbol.for("react.profiler"),l8=Symbol.for("react.provider"),u8=Symbol.for("react.context"),WA=Symbol.for("react.forward_ref"),S3=Symbol.for("react.suspense"),C3=Symbol.for("react.suspense_list"),XA=Symbol.for("react.memo"),uf=Symbol.for("react.lazy"),c8=Symbol.for("react.offscreen"),Wk=Symbol.iterator;function Ry(e){return e===null||typeof e!="object"?null:(e=Wk&&e[Wk]||e["@@iterator"],typeof e=="function"?e:null)}var Lo=Object.assign,tS;function a1(e){if(tS===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);tS=t&&t[1]||""}return`
`+tS+e}var rS=!1;function nS(e,t){if(!e||rS)return"";rS=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(v){var n=v}Reflect.construct(e,[],t)}else{try{t.call()}catch(v){n=v}e.call(t.prototype)}else{try{throw Error()}catch(v){n=v}e()}}catch(v){if(v&&n&&typeof v.stack=="string"){for(var o=v.stack.split(`
`),s=n.stack.split(`
`),u=o.length-1,l=s.length-1;1<=u&&0<=l&&o[u]!==s[l];)l--;for(;1<=u&&0<=l;u--,l--)if(o[u]!==s[l]){if(u!==1||l!==1)do if(u--,l--,0>l||o[u]!==s[l]){var f=`
`+o[u].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=u&&0<=l);break}}}finally{rS=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?a1(e):""}function Hj(e){switch(e.tag){case 5:return a1(e.type);case 16:return a1("Lazy");case 13:return a1("Suspense");case 19:return a1("SuspenseList");case 0:case 2:case 15:return e=nS(e.type,!1),e;case 11:return e=nS(e.type.render,!1),e;case 1:return e=nS(e.type,!0),e;default:return""}}function A3(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case P0:return"Fragment";case T0:return"Portal";case w3:return"Profiler";case GA:return"StrictMode";case S3:return"Suspense";case C3:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case u8:return(e.displayName||"Context")+".Consumer";case l8:return(e._context.displayName||"Context")+".Provider";case WA:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case XA:return t=e.displayName||null,t!==null?t:A3(e.type)||"Memo";case uf:t=e._payload,e=e._init;try{return A3(e(t))}catch{}}return null}function Gj(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return A3(t);case 8:return t===GA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Of(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function h8(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Wj(e){var t=h8(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(u){n=""+u,s.call(this,u)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(u){n=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function j2(e){e._valueTracker||(e._valueTracker=Wj(e))}function d8(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=h8(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function l_(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function E3(e,t){var r=t.checked;return Lo({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Xk(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Of(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function f8(e,t){t=t.checked,t!=null&&HA(e,"checked",t,!1)}function T3(e,t){f8(e,t);var r=Of(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?P3(e,t.type,r):t.hasOwnProperty("defaultValue")&&P3(e,t.type,Of(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Kk(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function P3(e,t,r){(t!=="number"||l_(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var s1=Array.isArray;function V0(e,t,r,n){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Of(r),t=null,o=0;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,n&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function k3(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(or(91));return Lo({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Zk(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(or(92));if(s1(r)){if(1<r.length)throw Error(or(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Of(r)}}function p8(e,t){var r=Of(t.value),n=Of(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Yk(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function m8(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function I3(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?m8(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var U2,g8=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,o){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(U2=U2||document.createElement("div"),U2.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=U2.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function G1(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var w1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xj=["Webkit","ms","Moz","O"];Object.keys(w1).forEach(function(e){Xj.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),w1[t]=w1[e]})});function y8(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||w1.hasOwnProperty(e)&&w1[e]?(""+t).trim():t+"px"}function v8(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,o=y8(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,o):e[r]=o}}var Kj=Lo({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function L3(e,t){if(t){if(Kj[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(or(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(or(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(or(61))}if(t.style!=null&&typeof t.style!="object")throw Error(or(62))}}function M3(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var D3=null;function KA(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var R3=null,q0=null,H0=null;function Jk(e){if(e=Hv(e)){if(typeof R3!="function")throw Error(or(280));var t=e.stateNode;t&&(t=yx(t),R3(e.stateNode,e.type,t))}}function b8(e){q0?H0?H0.push(e):H0=[e]:q0=e}function _8(){if(q0){var e=q0,t=H0;if(H0=q0=null,Jk(e),t)for(e=0;e<t.length;e++)Jk(t[e])}}function x8(e,t){return e(t)}function w8(){}var iS=!1;function S8(e,t,r){if(iS)return e(t,r);iS=!0;try{return x8(e,t,r)}finally{iS=!1,(q0!==null||H0!==null)&&(w8(),_8())}}function W1(e,t){var r=e.stateNode;if(r===null)return null;var n=yx(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(or(231,t,typeof r));return r}var O3=!1;if(Ad)try{var Oy={};Object.defineProperty(Oy,"passive",{get:function(){O3=!0}}),window.addEventListener("test",Oy,Oy),window.removeEventListener("test",Oy,Oy)}catch{O3=!1}function Zj(e,t,r,n,o,s,u,l,f){var v=Array.prototype.slice.call(arguments,3);try{t.apply(r,v)}catch(x){this.onError(x)}}var S1=!1,u_=null,c_=!1,N3=null,Yj={onError:function(e){S1=!0,u_=e}};function Jj(e,t,r,n,o,s,u,l,f){S1=!1,u_=null,Zj.apply(Yj,arguments)}function Qj(e,t,r,n,o,s,u,l,f){if(Jj.apply(this,arguments),S1){if(S1){var v=u_;S1=!1,u_=null}else throw Error(or(198));c_||(c_=!0,N3=v)}}function nm(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function C8(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Qk(e){if(nm(e)!==e)throw Error(or(188))}function eU(e){var t=e.alternate;if(!t){if(t=nm(e),t===null)throw Error(or(188));return t!==e?null:e}for(var r=e,n=t;;){var o=r.return;if(o===null)break;var s=o.alternate;if(s===null){if(n=o.return,n!==null){r=n;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===r)return Qk(o),e;if(s===n)return Qk(o),t;s=s.sibling}throw Error(or(188))}if(r.return!==n.return)r=o,n=s;else{for(var u=!1,l=o.child;l;){if(l===r){u=!0,r=o,n=s;break}if(l===n){u=!0,n=o,r=s;break}l=l.sibling}if(!u){for(l=s.child;l;){if(l===r){u=!0,r=s,n=o;break}if(l===n){u=!0,n=s,r=o;break}l=l.sibling}if(!u)throw Error(or(189))}}if(r.alternate!==n)throw Error(or(190))}if(r.tag!==3)throw Error(or(188));return r.stateNode.current===r?e:t}function A8(e){return e=eU(e),e!==null?E8(e):null}function E8(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=E8(e);if(t!==null)return t;e=e.sibling}return null}var T8=wu.unstable_scheduleCallback,eI=wu.unstable_cancelCallback,tU=wu.unstable_shouldYield,rU=wu.unstable_requestPaint,ea=wu.unstable_now,nU=wu.unstable_getCurrentPriorityLevel,ZA=wu.unstable_ImmediatePriority,P8=wu.unstable_UserBlockingPriority,h_=wu.unstable_NormalPriority,iU=wu.unstable_LowPriority,k8=wu.unstable_IdlePriority,fx=null,Lh=null;function oU(e){if(Lh&&typeof Lh.onCommitFiberRoot=="function")try{Lh.onCommitFiberRoot(fx,e,void 0,(e.current.flags&128)===128)}catch{}}var $c=Math.clz32?Math.clz32:lU,aU=Math.log,sU=Math.LN2;function lU(e){return e>>>=0,e===0?32:31-(aU(e)/sU|0)|0}var V2=64,q2=4194304;function l1(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function d_(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,o=e.suspendedLanes,s=e.pingedLanes,u=r&268435455;if(u!==0){var l=u&~o;l!==0?n=l1(l):(s&=u,s!==0&&(n=l1(s)))}else u=r&~o,u!==0?n=l1(u):s!==0&&(n=l1(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&o)&&(o=n&-n,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-$c(t),o=1<<r,n|=e[r],t&=~o;return n}function uU(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cU(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-$c(s),l=1<<u,f=o[u];f===-1?(!(l&r)||l&n)&&(o[u]=uU(l,t)):f<=t&&(e.expiredLanes|=l),s&=~l}}function F3(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function I8(){var e=V2;return V2<<=1,!(V2&4194240)&&(V2=64),e}function oS(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Vv(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$c(t),e[t]=r}function hU(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-$c(r),s=1<<o;t[o]=0,n[o]=-1,e[o]=-1,r&=~s}}function YA(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-$c(r),o=1<<n;o&t|e[n]&t&&(e[n]|=t),r&=~o}}var Di=0;function L8(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var M8,JA,D8,R8,O8,$3=!1,H2=[],Tf=null,Pf=null,kf=null,X1=new Map,K1=new Map,ff=[],dU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tI(e,t){switch(e){case"focusin":case"focusout":Tf=null;break;case"dragenter":case"dragleave":Pf=null;break;case"mouseover":case"mouseout":kf=null;break;case"pointerover":case"pointerout":X1.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":K1.delete(t.pointerId)}}function Ny(e,t,r,n,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[o]},t!==null&&(t=Hv(t),t!==null&&JA(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function fU(e,t,r,n,o){switch(t){case"focusin":return Tf=Ny(Tf,e,t,r,n,o),!0;case"dragenter":return Pf=Ny(Pf,e,t,r,n,o),!0;case"mouseover":return kf=Ny(kf,e,t,r,n,o),!0;case"pointerover":var s=o.pointerId;return X1.set(s,Ny(X1.get(s)||null,e,t,r,n,o)),!0;case"gotpointercapture":return s=o.pointerId,K1.set(s,Ny(K1.get(s)||null,e,t,r,n,o)),!0}return!1}function N8(e){var t=xp(e.target);if(t!==null){var r=nm(t);if(r!==null){if(t=r.tag,t===13){if(t=C8(r),t!==null){e.blockedOn=t,O8(e.priority,function(){D8(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Nb(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=B3(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);D3=n,r.target.dispatchEvent(n),D3=null}else return t=Hv(r),t!==null&&JA(t),e.blockedOn=r,!1;t.shift()}return!0}function rI(e,t,r){Nb(e)&&r.delete(t)}function pU(){$3=!1,Tf!==null&&Nb(Tf)&&(Tf=null),Pf!==null&&Nb(Pf)&&(Pf=null),kf!==null&&Nb(kf)&&(kf=null),X1.forEach(rI),K1.forEach(rI)}function Fy(e,t){e.blockedOn===t&&(e.blockedOn=null,$3||($3=!0,wu.unstable_scheduleCallback(wu.unstable_NormalPriority,pU)))}function Z1(e){function t(o){return Fy(o,e)}if(0<H2.length){Fy(H2[0],e);for(var r=1;r<H2.length;r++){var n=H2[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Tf!==null&&Fy(Tf,e),Pf!==null&&Fy(Pf,e),kf!==null&&Fy(kf,e),X1.forEach(t),K1.forEach(t),r=0;r<ff.length;r++)n=ff[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ff.length&&(r=ff[0],r.blockedOn===null);)N8(r),r.blockedOn===null&&ff.shift()}var G0=Od.ReactCurrentBatchConfig,f_=!0;function mU(e,t,r,n){var o=Di,s=G0.transition;G0.transition=null;try{Di=1,QA(e,t,r,n)}finally{Di=o,G0.transition=s}}function gU(e,t,r,n){var o=Di,s=G0.transition;G0.transition=null;try{Di=4,QA(e,t,r,n)}finally{Di=o,G0.transition=s}}function QA(e,t,r,n){if(f_){var o=B3(e,t,r,n);if(o===null)mS(e,t,n,p_,r),tI(e,n);else if(fU(o,e,t,r,n))n.stopPropagation();else if(tI(e,n),t&4&&-1<dU.indexOf(e)){for(;o!==null;){var s=Hv(o);if(s!==null&&M8(s),s=B3(e,t,r,n),s===null&&mS(e,t,n,p_,r),s===o)break;o=s}o!==null&&n.stopPropagation()}else mS(e,t,n,null,r)}}var p_=null;function B3(e,t,r,n){if(p_=null,e=KA(n),e=xp(e),e!==null)if(t=nm(e),t===null)e=null;else if(r=t.tag,r===13){if(e=C8(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return p_=e,null}function F8(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nU()){case ZA:return 1;case P8:return 4;case h_:case iU:return 16;case k8:return 536870912;default:return 16}default:return 16}}var Cf=null,eE=null,Fb=null;function $8(){if(Fb)return Fb;var e,t=eE,r=t.length,n,o="value"in Cf?Cf.value:Cf.textContent,s=o.length;for(e=0;e<r&&t[e]===o[e];e++);var u=r-e;for(n=1;n<=u&&t[r-n]===o[s-n];n++);return Fb=o.slice(e,1<n?1-n:void 0)}function $b(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function G2(){return!0}function nI(){return!1}function Tu(e){function t(r,n,o,s,u){this._reactName=r,this._targetInst=o,this.type=n,this.nativeEvent=s,this.target=u,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?G2:nI,this.isPropagationStopped=nI,this}return Lo(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=G2)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=G2)},persist:function(){},isPersistent:G2}),t}var jg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tE=Tu(jg),qv=Lo({},jg,{view:0,detail:0}),yU=Tu(qv),aS,sS,$y,px=Lo({},qv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rE,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$y&&($y&&e.type==="mousemove"?(aS=e.screenX-$y.screenX,sS=e.screenY-$y.screenY):sS=aS=0,$y=e),aS)},movementY:function(e){return"movementY"in e?e.movementY:sS}}),iI=Tu(px),vU=Lo({},px,{dataTransfer:0}),bU=Tu(vU),_U=Lo({},qv,{relatedTarget:0}),lS=Tu(_U),xU=Lo({},jg,{animationName:0,elapsedTime:0,pseudoElement:0}),wU=Tu(xU),SU=Lo({},jg,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),CU=Tu(SU),AU=Lo({},jg,{data:0}),oI=Tu(AU),EU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kU(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=PU[e])?!!t[e]:!1}function rE(){return kU}var IU=Lo({},qv,{key:function(e){if(e.key){var t=EU[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$b(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?TU[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rE,charCode:function(e){return e.type==="keypress"?$b(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$b(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),LU=Tu(IU),MU=Lo({},px,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),aI=Tu(MU),DU=Lo({},qv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rE}),RU=Tu(DU),OU=Lo({},jg,{propertyName:0,elapsedTime:0,pseudoElement:0}),NU=Tu(OU),FU=Lo({},px,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$U=Tu(FU),BU=[9,13,27,32],nE=Ad&&"CompositionEvent"in window,C1=null;Ad&&"documentMode"in document&&(C1=document.documentMode);var zU=Ad&&"TextEvent"in window&&!C1,B8=Ad&&(!nE||C1&&8<C1&&11>=C1),sI=" ",lI=!1;function z8(e,t){switch(e){case"keyup":return BU.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function j8(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var k0=!1;function jU(e,t){switch(e){case"compositionend":return j8(t);case"keypress":return t.which!==32?null:(lI=!0,sI);case"textInput":return e=t.data,e===sI&&lI?null:e;default:return null}}function UU(e,t){if(k0)return e==="compositionend"||!nE&&z8(e,t)?(e=$8(),Fb=eE=Cf=null,k0=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return B8&&t.locale!=="ko"?null:t.data;default:return null}}var VU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uI(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!VU[e.type]:t==="textarea"}function U8(e,t,r,n){b8(n),t=m_(t,"onChange"),0<t.length&&(r=new tE("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var A1=null,Y1=null;function qU(e){Q8(e,0)}function mx(e){var t=M0(e);if(d8(t))return e}function HU(e,t){if(e==="change")return t}var V8=!1;if(Ad){var uS;if(Ad){var cS="oninput"in document;if(!cS){var cI=document.createElement("div");cI.setAttribute("oninput","return;"),cS=typeof cI.oninput=="function"}uS=cS}else uS=!1;V8=uS&&(!document.documentMode||9<document.documentMode)}function hI(){A1&&(A1.detachEvent("onpropertychange",q8),Y1=A1=null)}function q8(e){if(e.propertyName==="value"&&mx(Y1)){var t=[];U8(t,Y1,e,KA(e)),S8(qU,t)}}function GU(e,t,r){e==="focusin"?(hI(),A1=t,Y1=r,A1.attachEvent("onpropertychange",q8)):e==="focusout"&&hI()}function WU(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mx(Y1)}function XU(e,t){if(e==="click")return mx(t)}function KU(e,t){if(e==="input"||e==="change")return mx(t)}function ZU(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jc=typeof Object.is=="function"?Object.is:ZU;function J1(e,t){if(jc(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var o=r[n];if(!x3.call(t,o)||!jc(e[o],t[o]))return!1}return!0}function dI(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fI(e,t){var r=dI(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dI(r)}}function H8(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?H8(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function G8(){for(var e=window,t=l_();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=l_(e.document)}return t}function iE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function YU(e){var t=G8(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&H8(r.ownerDocument.documentElement,r)){if(n!==null&&iE(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=r.textContent.length,s=Math.min(n.start,o);n=n.end===void 0?s:Math.min(n.end,o),!e.extend&&s>n&&(o=n,n=s,s=o),o=fI(r,s);var u=fI(r,n);o&&u&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var JU=Ad&&"documentMode"in document&&11>=document.documentMode,I0=null,z3=null,E1=null,j3=!1;function pI(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;j3||I0==null||I0!==l_(n)||(n=I0,"selectionStart"in n&&iE(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),E1&&J1(E1,n)||(E1=n,n=m_(z3,"onSelect"),0<n.length&&(t=new tE("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=I0)))}function W2(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var L0={animationend:W2("Animation","AnimationEnd"),animationiteration:W2("Animation","AnimationIteration"),animationstart:W2("Animation","AnimationStart"),transitionend:W2("Transition","TransitionEnd")},hS={},W8={};Ad&&(W8=document.createElement("div").style,"AnimationEvent"in window||(delete L0.animationend.animation,delete L0.animationiteration.animation,delete L0.animationstart.animation),"TransitionEvent"in window||delete L0.transitionend.transition);function gx(e){if(hS[e])return hS[e];if(!L0[e])return e;var t=L0[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in W8)return hS[e]=t[r];return e}var X8=gx("animationend"),K8=gx("animationiteration"),Z8=gx("animationstart"),Y8=gx("transitionend"),J8=new Map,mI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vf(e,t){J8.set(e,t),rm(t,[e])}for(var dS=0;dS<mI.length;dS++){var fS=mI[dS],QU=fS.toLowerCase(),eV=fS[0].toUpperCase()+fS.slice(1);Vf(QU,"on"+eV)}Vf(X8,"onAnimationEnd");Vf(K8,"onAnimationIteration");Vf(Z8,"onAnimationStart");Vf("dblclick","onDoubleClick");Vf("focusin","onFocus");Vf("focusout","onBlur");Vf(Y8,"onTransitionEnd");wg("onMouseEnter",["mouseout","mouseover"]);wg("onMouseLeave",["mouseout","mouseover"]);wg("onPointerEnter",["pointerout","pointerover"]);wg("onPointerLeave",["pointerout","pointerover"]);rm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rm("onBeforeInput",["compositionend","keypress","textInput","paste"]);rm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var u1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tV=new Set("cancel close invalid load scroll toggle".split(" ").concat(u1));function gI(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Qj(n,t,void 0,e),e.currentTarget=null}function Q8(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],o=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var u=n.length-1;0<=u;u--){var l=n[u],f=l.instance,v=l.currentTarget;if(l=l.listener,f!==s&&o.isPropagationStopped())break e;gI(o,l,v),s=f}else for(u=0;u<n.length;u++){if(l=n[u],f=l.instance,v=l.currentTarget,l=l.listener,f!==s&&o.isPropagationStopped())break e;gI(o,l,v),s=f}}}if(c_)throw e=N3,c_=!1,N3=null,e}function so(e,t){var r=t[G3];r===void 0&&(r=t[G3]=new Set);var n=e+"__bubble";r.has(n)||(eO(t,e,2,!1),r.add(n))}function pS(e,t,r){var n=0;t&&(n|=4),eO(r,e,n,t)}var X2="_reactListening"+Math.random().toString(36).slice(2);function Q1(e){if(!e[X2]){e[X2]=!0,s8.forEach(function(r){r!=="selectionchange"&&(tV.has(r)||pS(r,!1,e),pS(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[X2]||(t[X2]=!0,pS("selectionchange",!1,t))}}function eO(e,t,r,n){switch(F8(t)){case 1:var o=mU;break;case 4:o=gU;break;default:o=QA}r=o.bind(null,t,r,e),o=void 0,!O3||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),n?o!==void 0?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):o!==void 0?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function mS(e,t,r,n,o){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var u=n.tag;if(u===3||u===4){var l=n.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(u===4)for(u=n.return;u!==null;){var f=u.tag;if((f===3||f===4)&&(f=u.stateNode.containerInfo,f===o||f.nodeType===8&&f.parentNode===o))return;u=u.return}for(;l!==null;){if(u=xp(l),u===null)return;if(f=u.tag,f===5||f===6){n=s=u;continue e}l=l.parentNode}}n=n.return}S8(function(){var v=s,x=KA(r),w=[];e:{var C=J8.get(e);if(C!==void 0){var P=tE,O=e;switch(e){case"keypress":if($b(r)===0)break e;case"keydown":case"keyup":P=LU;break;case"focusin":O="focus",P=lS;break;case"focusout":O="blur",P=lS;break;case"beforeblur":case"afterblur":P=lS;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=iI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=bU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=RU;break;case X8:case K8:case Z8:P=wU;break;case Y8:P=NU;break;case"scroll":P=yU;break;case"wheel":P=$U;break;case"copy":case"cut":case"paste":P=CU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=aI}var I=(t&4)!==0,z=!I&&e==="scroll",N=I?C!==null?C+"Capture":null:C;I=[];for(var j=v,V;j!==null;){V=j;var W=V.stateNode;if(V.tag===5&&W!==null&&(V=W,N!==null&&(W=W1(j,N),W!=null&&I.push(ev(j,W,V)))),z)break;j=j.return}0<I.length&&(C=new P(C,O,null,r,x),w.push({event:C,listeners:I}))}}if(!(t&7)){e:{if(C=e==="mouseover"||e==="pointerover",P=e==="mouseout"||e==="pointerout",C&&r!==D3&&(O=r.relatedTarget||r.fromElement)&&(xp(O)||O[Ed]))break e;if((P||C)&&(C=x.window===x?x:(C=x.ownerDocument)?C.defaultView||C.parentWindow:window,P?(O=r.relatedTarget||r.toElement,P=v,O=O?xp(O):null,O!==null&&(z=nm(O),O!==z||O.tag!==5&&O.tag!==6)&&(O=null)):(P=null,O=v),P!==O)){if(I=iI,W="onMouseLeave",N="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(I=aI,W="onPointerLeave",N="onPointerEnter",j="pointer"),z=P==null?C:M0(P),V=O==null?C:M0(O),C=new I(W,j+"leave",P,r,x),C.target=z,C.relatedTarget=V,W=null,xp(x)===v&&(I=new I(N,j+"enter",O,r,x),I.target=V,I.relatedTarget=z,W=I),z=W,P&&O)t:{for(I=P,N=O,j=0,V=I;V;V=Om(V))j++;for(V=0,W=N;W;W=Om(W))V++;for(;0<j-V;)I=Om(I),j--;for(;0<V-j;)N=Om(N),V--;for(;j--;){if(I===N||N!==null&&I===N.alternate)break t;I=Om(I),N=Om(N)}I=null}else I=null;P!==null&&yI(w,C,P,I,!1),O!==null&&z!==null&&yI(w,z,O,I,!0)}}e:{if(C=v?M0(v):window,P=C.nodeName&&C.nodeName.toLowerCase(),P==="select"||P==="input"&&C.type==="file")var re=HU;else if(uI(C))if(V8)re=KU;else{re=WU;var ie=GU}else(P=C.nodeName)&&P.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(re=XU);if(re&&(re=re(e,v))){U8(w,re,r,x);break e}ie&&ie(e,C,v),e==="focusout"&&(ie=C._wrapperState)&&ie.controlled&&C.type==="number"&&P3(C,"number",C.value)}switch(ie=v?M0(v):window,e){case"focusin":(uI(ie)||ie.contentEditable==="true")&&(I0=ie,z3=v,E1=null);break;case"focusout":E1=z3=I0=null;break;case"mousedown":j3=!0;break;case"contextmenu":case"mouseup":case"dragend":j3=!1,pI(w,r,x);break;case"selectionchange":if(JU)break;case"keydown":case"keyup":pI(w,r,x)}var J;if(nE)e:{switch(e){case"compositionstart":var ne="onCompositionStart";break e;case"compositionend":ne="onCompositionEnd";break e;case"compositionupdate":ne="onCompositionUpdate";break e}ne=void 0}else k0?z8(e,r)&&(ne="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(ne="onCompositionStart");ne&&(B8&&r.locale!=="ko"&&(k0||ne!=="onCompositionStart"?ne==="onCompositionEnd"&&k0&&(J=$8()):(Cf=x,eE="value"in Cf?Cf.value:Cf.textContent,k0=!0)),ie=m_(v,ne),0<ie.length&&(ne=new oI(ne,e,null,r,x),w.push({event:ne,listeners:ie}),J?ne.data=J:(J=j8(r),J!==null&&(ne.data=J)))),(J=zU?jU(e,r):UU(e,r))&&(v=m_(v,"onBeforeInput"),0<v.length&&(x=new oI("onBeforeInput","beforeinput",null,r,x),w.push({event:x,listeners:v}),x.data=J))}Q8(w,t)})}function ev(e,t,r){return{instance:e,listener:t,currentTarget:r}}function m_(e,t){for(var r=t+"Capture",n=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=W1(e,r),s!=null&&n.unshift(ev(e,s,o)),s=W1(e,t),s!=null&&n.push(ev(e,s,o))),e=e.return}return n}function Om(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function yI(e,t,r,n,o){for(var s=t._reactName,u=[];r!==null&&r!==n;){var l=r,f=l.alternate,v=l.stateNode;if(f!==null&&f===n)break;l.tag===5&&v!==null&&(l=v,o?(f=W1(r,s),f!=null&&u.unshift(ev(r,f,l))):o||(f=W1(r,s),f!=null&&u.push(ev(r,f,l)))),r=r.return}u.length!==0&&e.push({event:t,listeners:u})}var rV=/\r\n?/g,nV=/\u0000|\uFFFD/g;function vI(e){return(typeof e=="string"?e:""+e).replace(rV,`
`).replace(nV,"")}function K2(e,t,r){if(t=vI(t),vI(e)!==t&&r)throw Error(or(425))}function g_(){}var U3=null,V3=null;function q3(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var H3=typeof setTimeout=="function"?setTimeout:void 0,iV=typeof clearTimeout=="function"?clearTimeout:void 0,bI=typeof Promise=="function"?Promise:void 0,oV=typeof queueMicrotask=="function"?queueMicrotask:typeof bI<"u"?function(e){return bI.resolve(null).then(e).catch(aV)}:H3;function aV(e){setTimeout(function(){throw e})}function gS(e,t){var r=t,n=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(n===0){e.removeChild(o),Z1(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=o}while(r);Z1(t)}function If(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _I(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ug=Math.random().toString(36).slice(2),Ph="__reactFiber$"+Ug,tv="__reactProps$"+Ug,Ed="__reactContainer$"+Ug,G3="__reactEvents$"+Ug,sV="__reactListeners$"+Ug,lV="__reactHandles$"+Ug;function xp(e){var t=e[Ph];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ed]||r[Ph]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=_I(e);e!==null;){if(r=e[Ph])return r;e=_I(e)}return t}e=r,r=e.parentNode}return null}function Hv(e){return e=e[Ph]||e[Ed],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function M0(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(or(33))}function yx(e){return e[tv]||null}var W3=[],D0=-1;function qf(e){return{current:e}}function ho(e){0>D0||(e.current=W3[D0],W3[D0]=null,D0--)}function to(e,t){D0++,W3[D0]=e.current,e.current=t}var Nf={},qs=qf(Nf),$l=qf(!1),Up=Nf;function Sg(e,t){var r=e.type.contextTypes;if(!r)return Nf;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in r)o[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Bl(e){return e=e.childContextTypes,e!=null}function y_(){ho($l),ho(qs)}function xI(e,t,r){if(qs.current!==Nf)throw Error(or(168));to(qs,t),to($l,r)}function tO(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var o in n)if(!(o in t))throw Error(or(108,Gj(e)||"Unknown",o));return Lo({},r,n)}function v_(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Nf,Up=qs.current,to(qs,e),to($l,$l.current),!0}function wI(e,t,r){var n=e.stateNode;if(!n)throw Error(or(169));r?(e=tO(e,t,Up),n.__reactInternalMemoizedMergedChildContext=e,ho($l),ho(qs),to(qs,e)):ho($l),to($l,r)}var md=null,vx=!1,yS=!1;function rO(e){md===null?md=[e]:md.push(e)}function uV(e){vx=!0,rO(e)}function Hf(){if(!yS&&md!==null){yS=!0;var e=0,t=Di;try{var r=md;for(Di=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}md=null,vx=!1}catch(o){throw md!==null&&(md=md.slice(e+1)),T8(ZA,Hf),o}finally{Di=t,yS=!1}}return null}var R0=[],O0=0,b_=null,__=0,Zu=[],Yu=0,Vp=null,yd=1,vd="";function hp(e,t){R0[O0++]=__,R0[O0++]=b_,b_=e,__=t}function nO(e,t,r){Zu[Yu++]=yd,Zu[Yu++]=vd,Zu[Yu++]=Vp,Vp=e;var n=yd;e=vd;var o=32-$c(n)-1;n&=~(1<<o),r+=1;var s=32-$c(t)+o;if(30<s){var u=o-o%5;s=(n&(1<<u)-1).toString(32),n>>=u,o-=u,yd=1<<32-$c(t)+o|r<<o|n,vd=s+e}else yd=1<<s|r<<o|n,vd=e}function oE(e){e.return!==null&&(hp(e,1),nO(e,1,0))}function aE(e){for(;e===b_;)b_=R0[--O0],R0[O0]=null,__=R0[--O0],R0[O0]=null;for(;e===Vp;)Vp=Zu[--Yu],Zu[Yu]=null,vd=Zu[--Yu],Zu[Yu]=null,yd=Zu[--Yu],Zu[Yu]=null}var _u=null,vu=null,xo=!1,Lc=null;function iO(e,t){var r=nc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function SI(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,_u=e,vu=If(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,_u=e,vu=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Vp!==null?{id:yd,overflow:vd}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=nc(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,_u=e,vu=null,!0):!1;default:return!1}}function X3(e){return(e.mode&1)!==0&&(e.flags&128)===0}function K3(e){if(xo){var t=vu;if(t){var r=t;if(!SI(e,t)){if(X3(e))throw Error(or(418));t=If(r.nextSibling);var n=_u;t&&SI(e,t)?iO(n,r):(e.flags=e.flags&-4097|2,xo=!1,_u=e)}}else{if(X3(e))throw Error(or(418));e.flags=e.flags&-4097|2,xo=!1,_u=e}}}function CI(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;_u=e}function Z2(e){if(e!==_u)return!1;if(!xo)return CI(e),xo=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!q3(e.type,e.memoizedProps)),t&&(t=vu)){if(X3(e))throw oO(),Error(or(418));for(;t;)iO(e,t),t=If(t.nextSibling)}if(CI(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(or(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){vu=If(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}vu=null}}else vu=_u?If(e.stateNode.nextSibling):null;return!0}function oO(){for(var e=vu;e;)e=If(e.nextSibling)}function Cg(){vu=_u=null,xo=!1}function sE(e){Lc===null?Lc=[e]:Lc.push(e)}var cV=Od.ReactCurrentBatchConfig;function By(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(or(309));var n=r.stateNode}if(!n)throw Error(or(147,e));var o=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(u){var l=o.refs;u===null?delete l[s]:l[s]=u},t._stringRef=s,t)}if(typeof e!="string")throw Error(or(284));if(!r._owner)throw Error(or(290,e))}return e}function Y2(e,t){throw e=Object.prototype.toString.call(t),Error(or(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function AI(e){var t=e._init;return t(e._payload)}function aO(e){function t(N,j){if(e){var V=N.deletions;V===null?(N.deletions=[j],N.flags|=16):V.push(j)}}function r(N,j){if(!e)return null;for(;j!==null;)t(N,j),j=j.sibling;return null}function n(N,j){for(N=new Map;j!==null;)j.key!==null?N.set(j.key,j):N.set(j.index,j),j=j.sibling;return N}function o(N,j){return N=Rf(N,j),N.index=0,N.sibling=null,N}function s(N,j,V){return N.index=V,e?(V=N.alternate,V!==null?(V=V.index,V<j?(N.flags|=2,j):V):(N.flags|=2,j)):(N.flags|=1048576,j)}function u(N){return e&&N.alternate===null&&(N.flags|=2),N}function l(N,j,V,W){return j===null||j.tag!==6?(j=CS(V,N.mode,W),j.return=N,j):(j=o(j,V),j.return=N,j)}function f(N,j,V,W){var re=V.type;return re===P0?x(N,j,V.props.children,W,V.key):j!==null&&(j.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===uf&&AI(re)===j.type)?(W=o(j,V.props),W.ref=By(N,j,V),W.return=N,W):(W=Hb(V.type,V.key,V.props,null,N.mode,W),W.ref=By(N,j,V),W.return=N,W)}function v(N,j,V,W){return j===null||j.tag!==4||j.stateNode.containerInfo!==V.containerInfo||j.stateNode.implementation!==V.implementation?(j=AS(V,N.mode,W),j.return=N,j):(j=o(j,V.children||[]),j.return=N,j)}function x(N,j,V,W,re){return j===null||j.tag!==7?(j=Op(V,N.mode,W,re),j.return=N,j):(j=o(j,V),j.return=N,j)}function w(N,j,V){if(typeof j=="string"&&j!==""||typeof j=="number")return j=CS(""+j,N.mode,V),j.return=N,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case z2:return V=Hb(j.type,j.key,j.props,null,N.mode,V),V.ref=By(N,null,j),V.return=N,V;case T0:return j=AS(j,N.mode,V),j.return=N,j;case uf:var W=j._init;return w(N,W(j._payload),V)}if(s1(j)||Ry(j))return j=Op(j,N.mode,V,null),j.return=N,j;Y2(N,j)}return null}function C(N,j,V,W){var re=j!==null?j.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return re!==null?null:l(N,j,""+V,W);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case z2:return V.key===re?f(N,j,V,W):null;case T0:return V.key===re?v(N,j,V,W):null;case uf:return re=V._init,C(N,j,re(V._payload),W)}if(s1(V)||Ry(V))return re!==null?null:x(N,j,V,W,null);Y2(N,V)}return null}function P(N,j,V,W,re){if(typeof W=="string"&&W!==""||typeof W=="number")return N=N.get(V)||null,l(j,N,""+W,re);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case z2:return N=N.get(W.key===null?V:W.key)||null,f(j,N,W,re);case T0:return N=N.get(W.key===null?V:W.key)||null,v(j,N,W,re);case uf:var ie=W._init;return P(N,j,V,ie(W._payload),re)}if(s1(W)||Ry(W))return N=N.get(V)||null,x(j,N,W,re,null);Y2(j,W)}return null}function O(N,j,V,W){for(var re=null,ie=null,J=j,ne=j=0,Ae=null;J!==null&&ne<V.length;ne++){J.index>ne?(Ae=J,J=null):Ae=J.sibling;var Z=C(N,J,V[ne],W);if(Z===null){J===null&&(J=Ae);break}e&&J&&Z.alternate===null&&t(N,J),j=s(Z,j,ne),ie===null?re=Z:ie.sibling=Z,ie=Z,J=Ae}if(ne===V.length)return r(N,J),xo&&hp(N,ne),re;if(J===null){for(;ne<V.length;ne++)J=w(N,V[ne],W),J!==null&&(j=s(J,j,ne),ie===null?re=J:ie.sibling=J,ie=J);return xo&&hp(N,ne),re}for(J=n(N,J);ne<V.length;ne++)Ae=P(J,N,ne,V[ne],W),Ae!==null&&(e&&Ae.alternate!==null&&J.delete(Ae.key===null?ne:Ae.key),j=s(Ae,j,ne),ie===null?re=Ae:ie.sibling=Ae,ie=Ae);return e&&J.forEach(function(X){return t(N,X)}),xo&&hp(N,ne),re}function I(N,j,V,W){var re=Ry(V);if(typeof re!="function")throw Error(or(150));if(V=re.call(V),V==null)throw Error(or(151));for(var ie=re=null,J=j,ne=j=0,Ae=null,Z=V.next();J!==null&&!Z.done;ne++,Z=V.next()){J.index>ne?(Ae=J,J=null):Ae=J.sibling;var X=C(N,J,Z.value,W);if(X===null){J===null&&(J=Ae);break}e&&J&&X.alternate===null&&t(N,J),j=s(X,j,ne),ie===null?re=X:ie.sibling=X,ie=X,J=Ae}if(Z.done)return r(N,J),xo&&hp(N,ne),re;if(J===null){for(;!Z.done;ne++,Z=V.next())Z=w(N,Z.value,W),Z!==null&&(j=s(Z,j,ne),ie===null?re=Z:ie.sibling=Z,ie=Z);return xo&&hp(N,ne),re}for(J=n(N,J);!Z.done;ne++,Z=V.next())Z=P(J,N,ne,Z.value,W),Z!==null&&(e&&Z.alternate!==null&&J.delete(Z.key===null?ne:Z.key),j=s(Z,j,ne),ie===null?re=Z:ie.sibling=Z,ie=Z);return e&&J.forEach(function(oe){return t(N,oe)}),xo&&hp(N,ne),re}function z(N,j,V,W){if(typeof V=="object"&&V!==null&&V.type===P0&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case z2:e:{for(var re=V.key,ie=j;ie!==null;){if(ie.key===re){if(re=V.type,re===P0){if(ie.tag===7){r(N,ie.sibling),j=o(ie,V.props.children),j.return=N,N=j;break e}}else if(ie.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===uf&&AI(re)===ie.type){r(N,ie.sibling),j=o(ie,V.props),j.ref=By(N,ie,V),j.return=N,N=j;break e}r(N,ie);break}else t(N,ie);ie=ie.sibling}V.type===P0?(j=Op(V.props.children,N.mode,W,V.key),j.return=N,N=j):(W=Hb(V.type,V.key,V.props,null,N.mode,W),W.ref=By(N,j,V),W.return=N,N=W)}return u(N);case T0:e:{for(ie=V.key;j!==null;){if(j.key===ie)if(j.tag===4&&j.stateNode.containerInfo===V.containerInfo&&j.stateNode.implementation===V.implementation){r(N,j.sibling),j=o(j,V.children||[]),j.return=N,N=j;break e}else{r(N,j);break}else t(N,j);j=j.sibling}j=AS(V,N.mode,W),j.return=N,N=j}return u(N);case uf:return ie=V._init,z(N,j,ie(V._payload),W)}if(s1(V))return O(N,j,V,W);if(Ry(V))return I(N,j,V,W);Y2(N,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,j!==null&&j.tag===6?(r(N,j.sibling),j=o(j,V),j.return=N,N=j):(r(N,j),j=CS(V,N.mode,W),j.return=N,N=j),u(N)):r(N,j)}return z}var Ag=aO(!0),sO=aO(!1),x_=qf(null),w_=null,N0=null,lE=null;function uE(){lE=N0=w_=null}function cE(e){var t=x_.current;ho(x_),e._currentValue=t}function Z3(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function W0(e,t){w_=e,lE=N0=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ol=!0),e.firstContext=null)}function oc(e){var t=e._currentValue;if(lE!==e)if(e={context:e,memoizedValue:t,next:null},N0===null){if(w_===null)throw Error(or(308));N0=e,w_.dependencies={lanes:0,firstContext:e}}else N0=N0.next=e;return t}var wp=null;function hE(e){wp===null?wp=[e]:wp.push(e)}function lO(e,t,r,n){var o=t.interleaved;return o===null?(r.next=r,hE(t)):(r.next=o.next,o.next=r),t.interleaved=r,Td(e,n)}function Td(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var cf=!1;function dE(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uO(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wd(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lf(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,si&2){var o=n.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),n.pending=t,Td(e,r)}return o=n.interleaved,o===null?(t.next=t,hE(n)):(t.next=o.next,o.next=t),n.interleaved=t,Td(e,r)}function Bb(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,YA(e,r)}}function EI(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var o=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var u={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?o=s=u:s=s.next=u,r=r.next}while(r!==null);s===null?o=s=t:s=s.next=t}else o=s=t;r={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function S_(e,t,r,n){var o=e.updateQueue;cf=!1;var s=o.firstBaseUpdate,u=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var f=l,v=f.next;f.next=null,u===null?s=v:u.next=v,u=f;var x=e.alternate;x!==null&&(x=x.updateQueue,l=x.lastBaseUpdate,l!==u&&(l===null?x.firstBaseUpdate=v:l.next=v,x.lastBaseUpdate=f))}if(s!==null){var w=o.baseState;u=0,x=v=f=null,l=s;do{var C=l.lane,P=l.eventTime;if((n&C)===C){x!==null&&(x=x.next={eventTime:P,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var O=e,I=l;switch(C=t,P=r,I.tag){case 1:if(O=I.payload,typeof O=="function"){w=O.call(P,w,C);break e}w=O;break e;case 3:O.flags=O.flags&-65537|128;case 0:if(O=I.payload,C=typeof O=="function"?O.call(P,w,C):O,C==null)break e;w=Lo({},w,C);break e;case 2:cf=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,C=o.effects,C===null?o.effects=[l]:C.push(l))}else P={eventTime:P,lane:C,tag:l.tag,payload:l.payload,callback:l.callback,next:null},x===null?(v=x=P,f=w):x=x.next=P,u|=C;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;C=l,l=C.next,C.next=null,o.lastBaseUpdate=C,o.shared.pending=null}}while(!0);if(x===null&&(f=w),o.baseState=f,o.firstBaseUpdate=v,o.lastBaseUpdate=x,t=o.shared.interleaved,t!==null){o=t;do u|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);Hp|=u,e.lanes=u,e.memoizedState=w}}function TI(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(o!==null){if(n.callback=null,n=r,typeof o!="function")throw Error(or(191,o));o.call(n)}}}var Gv={},Mh=qf(Gv),rv=qf(Gv),nv=qf(Gv);function Sp(e){if(e===Gv)throw Error(or(174));return e}function fE(e,t){switch(to(nv,t),to(rv,e),to(Mh,Gv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:I3(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=I3(t,e)}ho(Mh),to(Mh,t)}function Eg(){ho(Mh),ho(rv),ho(nv)}function cO(e){Sp(nv.current);var t=Sp(Mh.current),r=I3(t,e.type);t!==r&&(to(rv,e),to(Mh,r))}function pE(e){rv.current===e&&(ho(Mh),ho(rv))}var Po=qf(0);function C_(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vS=[];function mE(){for(var e=0;e<vS.length;e++)vS[e]._workInProgressVersionPrimary=null;vS.length=0}var zb=Od.ReactCurrentDispatcher,bS=Od.ReactCurrentBatchConfig,qp=0,Io=null,Ma=null,Ha=null,A_=!1,T1=!1,iv=0,hV=0;function Ns(){throw Error(or(321))}function gE(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!jc(e[r],t[r]))return!1;return!0}function yE(e,t,r,n,o,s){if(qp=s,Io=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zb.current=e===null||e.memoizedState===null?mV:gV,e=r(n,o),T1){s=0;do{if(T1=!1,iv=0,25<=s)throw Error(or(301));s+=1,Ha=Ma=null,t.updateQueue=null,zb.current=yV,e=r(n,o)}while(T1)}if(zb.current=E_,t=Ma!==null&&Ma.next!==null,qp=0,Ha=Ma=Io=null,A_=!1,t)throw Error(or(300));return e}function vE(){var e=iv!==0;return iv=0,e}function vh(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ha===null?Io.memoizedState=Ha=e:Ha=Ha.next=e,Ha}function ac(){if(Ma===null){var e=Io.alternate;e=e!==null?e.memoizedState:null}else e=Ma.next;var t=Ha===null?Io.memoizedState:Ha.next;if(t!==null)Ha=t,Ma=e;else{if(e===null)throw Error(or(310));Ma=e,e={memoizedState:Ma.memoizedState,baseState:Ma.baseState,baseQueue:Ma.baseQueue,queue:Ma.queue,next:null},Ha===null?Io.memoizedState=Ha=e:Ha=Ha.next=e}return Ha}function ov(e,t){return typeof t=="function"?t(e):t}function _S(e){var t=ac(),r=t.queue;if(r===null)throw Error(or(311));r.lastRenderedReducer=e;var n=Ma,o=n.baseQueue,s=r.pending;if(s!==null){if(o!==null){var u=o.next;o.next=s.next,s.next=u}n.baseQueue=o=s,r.pending=null}if(o!==null){s=o.next,n=n.baseState;var l=u=null,f=null,v=s;do{var x=v.lane;if((qp&x)===x)f!==null&&(f=f.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),n=v.hasEagerState?v.eagerState:e(n,v.action);else{var w={lane:x,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};f===null?(l=f=w,u=n):f=f.next=w,Io.lanes|=x,Hp|=x}v=v.next}while(v!==null&&v!==s);f===null?u=n:f.next=l,jc(n,t.memoizedState)||(Ol=!0),t.memoizedState=n,t.baseState=u,t.baseQueue=f,r.lastRenderedState=n}if(e=r.interleaved,e!==null){o=e;do s=o.lane,Io.lanes|=s,Hp|=s,o=o.next;while(o!==e)}else o===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function xS(e){var t=ac(),r=t.queue;if(r===null)throw Error(or(311));r.lastRenderedReducer=e;var n=r.dispatch,o=r.pending,s=t.memoizedState;if(o!==null){r.pending=null;var u=o=o.next;do s=e(s,u.action),u=u.next;while(u!==o);jc(s,t.memoizedState)||(Ol=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function hO(){}function dO(e,t){var r=Io,n=ac(),o=t(),s=!jc(n.memoizedState,o);if(s&&(n.memoizedState=o,Ol=!0),n=n.queue,bE(mO.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Ha!==null&&Ha.memoizedState.tag&1){if(r.flags|=2048,av(9,pO.bind(null,r,n,o,t),void 0,null),Wa===null)throw Error(or(349));qp&30||fO(r,t,o)}return o}function fO(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Io.updateQueue,t===null?(t={lastEffect:null,stores:null},Io.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function pO(e,t,r,n){t.value=r,t.getSnapshot=n,gO(t)&&yO(e)}function mO(e,t,r){return r(function(){gO(t)&&yO(e)})}function gO(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!jc(e,r)}catch{return!0}}function yO(e){var t=Td(e,1);t!==null&&Bc(t,e,1,-1)}function PI(e){var t=vh();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ov,lastRenderedState:e},t.queue=e,e=e.dispatch=pV.bind(null,Io,e),[t.memoizedState,e]}function av(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Io.updateQueue,t===null?(t={lastEffect:null,stores:null},Io.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function vO(){return ac().memoizedState}function jb(e,t,r,n){var o=vh();Io.flags|=e,o.memoizedState=av(1|t,r,void 0,n===void 0?null:n)}function bx(e,t,r,n){var o=ac();n=n===void 0?null:n;var s=void 0;if(Ma!==null){var u=Ma.memoizedState;if(s=u.destroy,n!==null&&gE(n,u.deps)){o.memoizedState=av(t,r,s,n);return}}Io.flags|=e,o.memoizedState=av(1|t,r,s,n)}function kI(e,t){return jb(8390656,8,e,t)}function bE(e,t){return bx(2048,8,e,t)}function bO(e,t){return bx(4,2,e,t)}function _O(e,t){return bx(4,4,e,t)}function xO(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wO(e,t,r){return r=r!=null?r.concat([e]):null,bx(4,4,xO.bind(null,t,e),r)}function _E(){}function SO(e,t){var r=ac();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&gE(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function CO(e,t){var r=ac();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&gE(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function AO(e,t,r){return qp&21?(jc(r,t)||(r=I8(),Io.lanes|=r,Hp|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ol=!0),e.memoizedState=r)}function dV(e,t){var r=Di;Di=r!==0&&4>r?r:4,e(!0);var n=bS.transition;bS.transition={};try{e(!1),t()}finally{Di=r,bS.transition=n}}function EO(){return ac().memoizedState}function fV(e,t,r){var n=Df(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},TO(e))PO(t,r);else if(r=lO(e,t,r,n),r!==null){var o=cl();Bc(r,e,n,o),kO(r,t,n)}}function pV(e,t,r){var n=Df(e),o={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(TO(e))PO(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var u=t.lastRenderedState,l=s(u,r);if(o.hasEagerState=!0,o.eagerState=l,jc(l,u)){var f=t.interleaved;f===null?(o.next=o,hE(t)):(o.next=f.next,f.next=o),t.interleaved=o;return}}catch{}finally{}r=lO(e,t,o,n),r!==null&&(o=cl(),Bc(r,e,n,o),kO(r,t,n))}}function TO(e){var t=e.alternate;return e===Io||t!==null&&t===Io}function PO(e,t){T1=A_=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function kO(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,YA(e,r)}}var E_={readContext:oc,useCallback:Ns,useContext:Ns,useEffect:Ns,useImperativeHandle:Ns,useInsertionEffect:Ns,useLayoutEffect:Ns,useMemo:Ns,useReducer:Ns,useRef:Ns,useState:Ns,useDebugValue:Ns,useDeferredValue:Ns,useTransition:Ns,useMutableSource:Ns,useSyncExternalStore:Ns,useId:Ns,unstable_isNewReconciler:!1},mV={readContext:oc,useCallback:function(e,t){return vh().memoizedState=[e,t===void 0?null:t],e},useContext:oc,useEffect:kI,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,jb(4194308,4,xO.bind(null,t,e),r)},useLayoutEffect:function(e,t){return jb(4194308,4,e,t)},useInsertionEffect:function(e,t){return jb(4,2,e,t)},useMemo:function(e,t){var r=vh();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=vh();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=fV.bind(null,Io,e),[n.memoizedState,e]},useRef:function(e){var t=vh();return e={current:e},t.memoizedState=e},useState:PI,useDebugValue:_E,useDeferredValue:function(e){return vh().memoizedState=e},useTransition:function(){var e=PI(!1),t=e[0];return e=dV.bind(null,e[1]),vh().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Io,o=vh();if(xo){if(r===void 0)throw Error(or(407));r=r()}else{if(r=t(),Wa===null)throw Error(or(349));qp&30||fO(n,t,r)}o.memoizedState=r;var s={value:r,getSnapshot:t};return o.queue=s,kI(mO.bind(null,n,s,e),[e]),n.flags|=2048,av(9,pO.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=vh(),t=Wa.identifierPrefix;if(xo){var r=vd,n=yd;r=(n&~(1<<32-$c(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=iv++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=hV++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gV={readContext:oc,useCallback:SO,useContext:oc,useEffect:bE,useImperativeHandle:wO,useInsertionEffect:bO,useLayoutEffect:_O,useMemo:CO,useReducer:_S,useRef:vO,useState:function(){return _S(ov)},useDebugValue:_E,useDeferredValue:function(e){var t=ac();return AO(t,Ma.memoizedState,e)},useTransition:function(){var e=_S(ov)[0],t=ac().memoizedState;return[e,t]},useMutableSource:hO,useSyncExternalStore:dO,useId:EO,unstable_isNewReconciler:!1},yV={readContext:oc,useCallback:SO,useContext:oc,useEffect:bE,useImperativeHandle:wO,useInsertionEffect:bO,useLayoutEffect:_O,useMemo:CO,useReducer:xS,useRef:vO,useState:function(){return xS(ov)},useDebugValue:_E,useDeferredValue:function(e){var t=ac();return Ma===null?t.memoizedState=e:AO(t,Ma.memoizedState,e)},useTransition:function(){var e=xS(ov)[0],t=ac().memoizedState;return[e,t]},useMutableSource:hO,useSyncExternalStore:dO,useId:EO,unstable_isNewReconciler:!1};function Pc(e,t){if(e&&e.defaultProps){t=Lo({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Y3(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Lo({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var _x={isMounted:function(e){return(e=e._reactInternals)?nm(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=cl(),o=Df(e),s=wd(n,o);s.payload=t,r!=null&&(s.callback=r),t=Lf(e,s,o),t!==null&&(Bc(t,e,o,n),Bb(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=cl(),o=Df(e),s=wd(n,o);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Lf(e,s,o),t!==null&&(Bc(t,e,o,n),Bb(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=cl(),n=Df(e),o=wd(r,n);o.tag=2,t!=null&&(o.callback=t),t=Lf(e,o,n),t!==null&&(Bc(t,e,n,r),Bb(t,e,n))}};function II(e,t,r,n,o,s,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,u):t.prototype&&t.prototype.isPureReactComponent?!J1(r,n)||!J1(o,s):!0}function IO(e,t,r){var n=!1,o=Nf,s=t.contextType;return typeof s=="object"&&s!==null?s=oc(s):(o=Bl(t)?Up:qs.current,n=t.contextTypes,s=(n=n!=null)?Sg(e,o):Nf),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=_x,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function LI(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&_x.enqueueReplaceState(t,t.state,null)}function J3(e,t,r,n){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs={},dE(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=oc(s):(s=Bl(t)?Up:qs.current,o.context=Sg(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Y3(e,t,s,r),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&_x.enqueueReplaceState(o,o.state,null),S_(e,r,o,n),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Tg(e,t){try{var r="",n=t;do r+=Hj(n),n=n.return;while(n);var o=r}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function wS(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Q3(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var vV=typeof WeakMap=="function"?WeakMap:Map;function LO(e,t,r){r=wd(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){P_||(P_=!0,uC=n),Q3(e,t)},r}function MO(e,t,r){r=wd(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var o=t.value;r.payload=function(){return n(o)},r.callback=function(){Q3(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Q3(e,t),typeof n!="function"&&(Mf===null?Mf=new Set([this]):Mf.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),r}function MI(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new vV;var o=new Set;n.set(t,o)}else o=n.get(t),o===void 0&&(o=new Set,n.set(t,o));o.has(r)||(o.add(r),e=MV.bind(null,e,t,r),t.then(e,e))}function DI(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function RI(e,t,r,n,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=wd(-1,1),t.tag=2,Lf(r,t,1))),r.lanes|=1),e)}var bV=Od.ReactCurrentOwner,Ol=!1;function sl(e,t,r,n){t.child=e===null?sO(t,null,r,n):Ag(t,e.child,r,n)}function OI(e,t,r,n,o){r=r.render;var s=t.ref;return W0(t,o),n=yE(e,t,r,n,s,o),r=vE(),e!==null&&!Ol?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Pd(e,t,o)):(xo&&r&&oE(t),t.flags|=1,sl(e,t,n,o),t.child)}function NI(e,t,r,n,o){if(e===null){var s=r.type;return typeof s=="function"&&!PE(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,DO(e,t,s,n,o)):(e=Hb(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var u=s.memoizedProps;if(r=r.compare,r=r!==null?r:J1,r(u,n)&&e.ref===t.ref)return Pd(e,t,o)}return t.flags|=1,e=Rf(s,n),e.ref=t.ref,e.return=t,t.child=e}function DO(e,t,r,n,o){if(e!==null){var s=e.memoizedProps;if(J1(s,n)&&e.ref===t.ref)if(Ol=!1,t.pendingProps=n=s,(e.lanes&o)!==0)e.flags&131072&&(Ol=!0);else return t.lanes=e.lanes,Pd(e,t,o)}return eC(e,t,r,n,o)}function RO(e,t,r){var n=t.pendingProps,o=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},to($0,pu),pu|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,to($0,pu),pu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,to($0,pu),pu|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,to($0,pu),pu|=n;return sl(e,t,o,r),t.child}function OO(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function eC(e,t,r,n,o){var s=Bl(r)?Up:qs.current;return s=Sg(t,s),W0(t,o),r=yE(e,t,r,n,s,o),n=vE(),e!==null&&!Ol?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Pd(e,t,o)):(xo&&n&&oE(t),t.flags|=1,sl(e,t,r,o),t.child)}function FI(e,t,r,n,o){if(Bl(r)){var s=!0;v_(t)}else s=!1;if(W0(t,o),t.stateNode===null)Ub(e,t),IO(t,r,n),J3(t,r,n,o),n=!0;else if(e===null){var u=t.stateNode,l=t.memoizedProps;u.props=l;var f=u.context,v=r.contextType;typeof v=="object"&&v!==null?v=oc(v):(v=Bl(r)?Up:qs.current,v=Sg(t,v));var x=r.getDerivedStateFromProps,w=typeof x=="function"||typeof u.getSnapshotBeforeUpdate=="function";w||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(l!==n||f!==v)&&LI(t,u,n,v),cf=!1;var C=t.memoizedState;u.state=C,S_(t,n,u,o),f=t.memoizedState,l!==n||C!==f||$l.current||cf?(typeof x=="function"&&(Y3(t,r,x,n),f=t.memoizedState),(l=cf||II(t,r,l,n,C,f,v))?(w||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=f),u.props=n,u.state=f,u.context=v,n=l):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{u=t.stateNode,uO(e,t),l=t.memoizedProps,v=t.type===t.elementType?l:Pc(t.type,l),u.props=v,w=t.pendingProps,C=u.context,f=r.contextType,typeof f=="object"&&f!==null?f=oc(f):(f=Bl(r)?Up:qs.current,f=Sg(t,f));var P=r.getDerivedStateFromProps;(x=typeof P=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(l!==w||C!==f)&&LI(t,u,n,f),cf=!1,C=t.memoizedState,u.state=C,S_(t,n,u,o);var O=t.memoizedState;l!==w||C!==O||$l.current||cf?(typeof P=="function"&&(Y3(t,r,P,n),O=t.memoizedState),(v=cf||II(t,r,v,n,C,O,f)||!1)?(x||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(n,O,f),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(n,O,f)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||l===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=O),u.props=n,u.state=O,u.context=f,n=v):(typeof u.componentDidUpdate!="function"||l===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),n=!1)}return tC(e,t,r,n,s,o)}function tC(e,t,r,n,o,s){OO(e,t);var u=(t.flags&128)!==0;if(!n&&!u)return o&&wI(t,r,!1),Pd(e,t,s);n=t.stateNode,bV.current=t;var l=u&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&u?(t.child=Ag(t,e.child,null,s),t.child=Ag(t,null,l,s)):sl(e,t,l,s),t.memoizedState=n.state,o&&wI(t,r,!0),t.child}function NO(e){var t=e.stateNode;t.pendingContext?xI(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xI(e,t.context,!1),fE(e,t.containerInfo)}function $I(e,t,r,n,o){return Cg(),sE(o),t.flags|=256,sl(e,t,r,n),t.child}var rC={dehydrated:null,treeContext:null,retryLane:0};function nC(e){return{baseLanes:e,cachePool:null,transitions:null}}function FO(e,t,r){var n=t.pendingProps,o=Po.current,s=!1,u=(t.flags&128)!==0,l;if((l=u)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),to(Po,o&1),e===null)return K3(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(u=n.children,e=n.fallback,s?(n=t.mode,s=t.child,u={mode:"hidden",children:u},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=u):s=Sx(u,n,0,null),e=Op(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=nC(r),t.memoizedState=rC,e):xE(t,u));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return _V(e,t,u,n,l,o,r);if(s){s=n.fallback,u=t.mode,o=e.child,l=o.sibling;var f={mode:"hidden",children:n.children};return!(u&1)&&t.child!==o?(n=t.child,n.childLanes=0,n.pendingProps=f,t.deletions=null):(n=Rf(o,f),n.subtreeFlags=o.subtreeFlags&14680064),l!==null?s=Rf(l,s):(s=Op(s,u,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,u=e.child.memoizedState,u=u===null?nC(r):{baseLanes:u.baseLanes|r,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~r,t.memoizedState=rC,n}return s=e.child,e=s.sibling,n=Rf(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function xE(e,t){return t=Sx({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function J2(e,t,r,n){return n!==null&&sE(n),Ag(t,e.child,null,r),e=xE(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _V(e,t,r,n,o,s,u){if(r)return t.flags&256?(t.flags&=-257,n=wS(Error(or(422))),J2(e,t,u,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,o=t.mode,n=Sx({mode:"visible",children:n.children},o,0,null),s=Op(s,o,u,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Ag(t,e.child,null,u),t.child.memoizedState=nC(u),t.memoizedState=rC,s);if(!(t.mode&1))return J2(e,t,u,null);if(o.data==="$!"){if(n=o.nextSibling&&o.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(or(419)),n=wS(s,n,void 0),J2(e,t,u,n)}if(l=(u&e.childLanes)!==0,Ol||l){if(n=Wa,n!==null){switch(u&-u){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(n.suspendedLanes|u)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,Td(e,o),Bc(n,e,o,-1))}return TE(),n=wS(Error(or(421))),J2(e,t,u,n)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=DV.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,vu=If(o.nextSibling),_u=t,xo=!0,Lc=null,e!==null&&(Zu[Yu++]=yd,Zu[Yu++]=vd,Zu[Yu++]=Vp,yd=e.id,vd=e.overflow,Vp=t),t=xE(t,n.children),t.flags|=4096,t)}function BI(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Z3(e.return,t,r)}function SS(e,t,r,n,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=o)}function $O(e,t,r){var n=t.pendingProps,o=n.revealOrder,s=n.tail;if(sl(e,t,n.children,r),n=Po.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&BI(e,r,t);else if(e.tag===19)BI(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(to(Po,n),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(r=t.child,o=null;r!==null;)e=r.alternate,e!==null&&C_(e)===null&&(o=r),r=r.sibling;r=o,r===null?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),SS(t,!1,o,r,s);break;case"backwards":for(r=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&C_(e)===null){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}SS(t,!0,r,null,s);break;case"together":SS(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ub(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pd(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Hp|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(or(153));if(t.child!==null){for(e=t.child,r=Rf(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Rf(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function xV(e,t,r){switch(t.tag){case 3:NO(t),Cg();break;case 5:cO(t);break;case 1:Bl(t.type)&&v_(t);break;case 4:fE(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,o=t.memoizedProps.value;to(x_,n._currentValue),n._currentValue=o;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(to(Po,Po.current&1),t.flags|=128,null):r&t.child.childLanes?FO(e,t,r):(to(Po,Po.current&1),e=Pd(e,t,r),e!==null?e.sibling:null);to(Po,Po.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return $O(e,t,r);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),to(Po,Po.current),n)break;return null;case 22:case 23:return t.lanes=0,RO(e,t,r)}return Pd(e,t,r)}var BO,iC,zO,jO;BO=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};iC=function(){};zO=function(e,t,r,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,Sp(Mh.current);var s=null;switch(r){case"input":o=E3(e,o),n=E3(e,n),s=[];break;case"select":o=Lo({},o,{value:void 0}),n=Lo({},n,{value:void 0}),s=[];break;case"textarea":o=k3(e,o),n=k3(e,n),s=[];break;default:typeof o.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=g_)}L3(r,n);var u;r=null;for(v in o)if(!n.hasOwnProperty(v)&&o.hasOwnProperty(v)&&o[v]!=null)if(v==="style"){var l=o[v];for(u in l)l.hasOwnProperty(u)&&(r||(r={}),r[u]="")}else v!=="dangerouslySetInnerHTML"&&v!=="children"&&v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(H1.hasOwnProperty(v)?s||(s=[]):(s=s||[]).push(v,null));for(v in n){var f=n[v];if(l=o!=null?o[v]:void 0,n.hasOwnProperty(v)&&f!==l&&(f!=null||l!=null))if(v==="style")if(l){for(u in l)!l.hasOwnProperty(u)||f&&f.hasOwnProperty(u)||(r||(r={}),r[u]="");for(u in f)f.hasOwnProperty(u)&&l[u]!==f[u]&&(r||(r={}),r[u]=f[u])}else r||(s||(s=[]),s.push(v,r)),r=f;else v==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,l=l?l.__html:void 0,f!=null&&l!==f&&(s=s||[]).push(v,f)):v==="children"?typeof f!="string"&&typeof f!="number"||(s=s||[]).push(v,""+f):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&(H1.hasOwnProperty(v)?(f!=null&&v==="onScroll"&&so("scroll",e),s||l===f||(s=[])):(s=s||[]).push(v,f))}r&&(s=s||[]).push("style",r);var v=s;(t.updateQueue=v)&&(t.flags|=4)}};jO=function(e,t,r,n){r!==n&&(t.flags|=4)};function zy(e,t){if(!xo)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Fs(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags&14680064,n|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function wV(e,t,r){var n=t.pendingProps;switch(aE(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fs(t),null;case 1:return Bl(t.type)&&y_(),Fs(t),null;case 3:return n=t.stateNode,Eg(),ho($l),ho(qs),mE(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Z2(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Lc!==null&&(dC(Lc),Lc=null))),iC(e,t),Fs(t),null;case 5:pE(t);var o=Sp(nv.current);if(r=t.type,e!==null&&t.stateNode!=null)zO(e,t,r,n,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(or(166));return Fs(t),null}if(e=Sp(Mh.current),Z2(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Ph]=t,n[tv]=s,e=(t.mode&1)!==0,r){case"dialog":so("cancel",n),so("close",n);break;case"iframe":case"object":case"embed":so("load",n);break;case"video":case"audio":for(o=0;o<u1.length;o++)so(u1[o],n);break;case"source":so("error",n);break;case"img":case"image":case"link":so("error",n),so("load",n);break;case"details":so("toggle",n);break;case"input":Xk(n,s),so("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},so("invalid",n);break;case"textarea":Zk(n,s),so("invalid",n)}L3(r,s),o=null;for(var u in s)if(s.hasOwnProperty(u)){var l=s[u];u==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&K2(n.textContent,l,e),o=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&K2(n.textContent,l,e),o=["children",""+l]):H1.hasOwnProperty(u)&&l!=null&&u==="onScroll"&&so("scroll",n)}switch(r){case"input":j2(n),Kk(n,s,!0);break;case"textarea":j2(n),Yk(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=g_)}n=o,t.updateQueue=n,n!==null&&(t.flags|=4)}else{u=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=m8(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=u.createElement(r,{is:n.is}):(e=u.createElement(r),r==="select"&&(u=e,n.multiple?u.multiple=!0:n.size&&(u.size=n.size))):e=u.createElementNS(e,r),e[Ph]=t,e[tv]=n,BO(e,t,!1,!1),t.stateNode=e;e:{switch(u=M3(r,n),r){case"dialog":so("cancel",e),so("close",e),o=n;break;case"iframe":case"object":case"embed":so("load",e),o=n;break;case"video":case"audio":for(o=0;o<u1.length;o++)so(u1[o],e);o=n;break;case"source":so("error",e),o=n;break;case"img":case"image":case"link":so("error",e),so("load",e),o=n;break;case"details":so("toggle",e),o=n;break;case"input":Xk(e,n),o=E3(e,n),so("invalid",e);break;case"option":o=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=Lo({},n,{value:void 0}),so("invalid",e);break;case"textarea":Zk(e,n),o=k3(e,n),so("invalid",e);break;default:o=n}L3(r,o),l=o;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];s==="style"?v8(e,f):s==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&g8(e,f)):s==="children"?typeof f=="string"?(r!=="textarea"||f!=="")&&G1(e,f):typeof f=="number"&&G1(e,""+f):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(H1.hasOwnProperty(s)?f!=null&&s==="onScroll"&&so("scroll",e):f!=null&&HA(e,s,f,u))}switch(r){case"input":j2(e),Kk(e,n,!1);break;case"textarea":j2(e),Yk(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Of(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?V0(e,!!n.multiple,s,!1):n.defaultValue!=null&&V0(e,!!n.multiple,n.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=g_)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Fs(t),null;case 6:if(e&&t.stateNode!=null)jO(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(or(166));if(r=Sp(nv.current),Sp(Mh.current),Z2(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ph]=t,(s=n.nodeValue!==r)&&(e=_u,e!==null))switch(e.tag){case 3:K2(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&K2(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ph]=t,t.stateNode=n}return Fs(t),null;case 13:if(ho(Po),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xo&&vu!==null&&t.mode&1&&!(t.flags&128))oO(),Cg(),t.flags|=98560,s=!1;else if(s=Z2(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(or(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(or(317));s[Ph]=t}else Cg(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Fs(t),s=!1}else Lc!==null&&(dC(Lc),Lc=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Po.current&1?Ra===0&&(Ra=3):TE())),t.updateQueue!==null&&(t.flags|=4),Fs(t),null);case 4:return Eg(),iC(e,t),e===null&&Q1(t.stateNode.containerInfo),Fs(t),null;case 10:return cE(t.type._context),Fs(t),null;case 17:return Bl(t.type)&&y_(),Fs(t),null;case 19:if(ho(Po),s=t.memoizedState,s===null)return Fs(t),null;if(n=(t.flags&128)!==0,u=s.rendering,u===null)if(n)zy(s,!1);else{if(Ra!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(u=C_(e),u!==null){for(t.flags|=128,zy(s,!1),n=u.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,u=s.alternate,u===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,e=u.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return to(Po,Po.current&1|2),t.child}e=e.sibling}s.tail!==null&&ea()>Pg&&(t.flags|=128,n=!0,zy(s,!1),t.lanes=4194304)}else{if(!n)if(e=C_(u),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),zy(s,!0),s.tail===null&&s.tailMode==="hidden"&&!u.alternate&&!xo)return Fs(t),null}else 2*ea()-s.renderingStartTime>Pg&&r!==1073741824&&(t.flags|=128,n=!0,zy(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(r=s.last,r!==null?r.sibling=u:t.child=u,s.last=u)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ea(),t.sibling=null,r=Po.current,to(Po,n?r&1|2:r&1),t):(Fs(t),null);case 22:case 23:return EE(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?pu&1073741824&&(Fs(t),t.subtreeFlags&6&&(t.flags|=8192)):Fs(t),null;case 24:return null;case 25:return null}throw Error(or(156,t.tag))}function SV(e,t){switch(aE(t),t.tag){case 1:return Bl(t.type)&&y_(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Eg(),ho($l),ho(qs),mE(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return pE(t),null;case 13:if(ho(Po),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(or(340));Cg()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ho(Po),null;case 4:return Eg(),null;case 10:return cE(t.type._context),null;case 22:case 23:return EE(),null;case 24:return null;default:return null}}var Q2=!1,Vs=!1,CV=typeof WeakSet=="function"?WeakSet:Set,$r=null;function F0(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Wo(e,t,n)}else r.current=null}function oC(e,t,r){try{r()}catch(n){Wo(e,t,n)}}var zI=!1;function AV(e,t){if(U3=f_,e=G8(),iE(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var o=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var u=0,l=-1,f=-1,v=0,x=0,w=e,C=null;t:for(;;){for(var P;w!==r||o!==0&&w.nodeType!==3||(l=u+o),w!==s||n!==0&&w.nodeType!==3||(f=u+n),w.nodeType===3&&(u+=w.nodeValue.length),(P=w.firstChild)!==null;)C=w,w=P;for(;;){if(w===e)break t;if(C===r&&++v===o&&(l=u),C===s&&++x===n&&(f=u),(P=w.nextSibling)!==null)break;w=C,C=w.parentNode}w=P}r=l===-1||f===-1?null:{start:l,end:f}}else r=null}r=r||{start:0,end:0}}else r=null;for(V3={focusedElem:e,selectionRange:r},f_=!1,$r=t;$r!==null;)if(t=$r,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$r=e;else for(;$r!==null;){t=$r;try{var O=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(O!==null){var I=O.memoizedProps,z=O.memoizedState,N=t.stateNode,j=N.getSnapshotBeforeUpdate(t.elementType===t.type?I:Pc(t.type,I),z);N.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var V=t.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(or(163))}}catch(W){Wo(t,t.return,W)}if(e=t.sibling,e!==null){e.return=t.return,$r=e;break}$r=t.return}return O=zI,zI=!1,O}function P1(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&oC(t,r,s)}o=o.next}while(o!==n)}}function xx(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function aC(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function UO(e){var t=e.alternate;t!==null&&(e.alternate=null,UO(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ph],delete t[tv],delete t[G3],delete t[sV],delete t[lV])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function VO(e){return e.tag===5||e.tag===3||e.tag===4}function jI(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||VO(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sC(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=g_));else if(n!==4&&(e=e.child,e!==null))for(sC(e,t,r),e=e.sibling;e!==null;)sC(e,t,r),e=e.sibling}function lC(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(lC(e,t,r),e=e.sibling;e!==null;)lC(e,t,r),e=e.sibling}var fs=null,Ic=!1;function rf(e,t,r){for(r=r.child;r!==null;)qO(e,t,r),r=r.sibling}function qO(e,t,r){if(Lh&&typeof Lh.onCommitFiberUnmount=="function")try{Lh.onCommitFiberUnmount(fx,r)}catch{}switch(r.tag){case 5:Vs||F0(r,t);case 6:var n=fs,o=Ic;fs=null,rf(e,t,r),fs=n,Ic=o,fs!==null&&(Ic?(e=fs,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):fs.removeChild(r.stateNode));break;case 18:fs!==null&&(Ic?(e=fs,r=r.stateNode,e.nodeType===8?gS(e.parentNode,r):e.nodeType===1&&gS(e,r),Z1(e)):gS(fs,r.stateNode));break;case 4:n=fs,o=Ic,fs=r.stateNode.containerInfo,Ic=!0,rf(e,t,r),fs=n,Ic=o;break;case 0:case 11:case 14:case 15:if(!Vs&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){o=n=n.next;do{var s=o,u=s.destroy;s=s.tag,u!==void 0&&(s&2||s&4)&&oC(r,t,u),o=o.next}while(o!==n)}rf(e,t,r);break;case 1:if(!Vs&&(F0(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Wo(r,t,l)}rf(e,t,r);break;case 21:rf(e,t,r);break;case 22:r.mode&1?(Vs=(n=Vs)||r.memoizedState!==null,rf(e,t,r),Vs=n):rf(e,t,r);break;default:rf(e,t,r)}}function UI(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new CV),t.forEach(function(n){var o=RV.bind(null,e,n);r.has(n)||(r.add(n),n.then(o,o))})}}function Cc(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var o=r[n];try{var s=e,u=t,l=u;e:for(;l!==null;){switch(l.tag){case 5:fs=l.stateNode,Ic=!1;break e;case 3:fs=l.stateNode.containerInfo,Ic=!0;break e;case 4:fs=l.stateNode.containerInfo,Ic=!0;break e}l=l.return}if(fs===null)throw Error(or(160));qO(s,u,o),fs=null,Ic=!1;var f=o.alternate;f!==null&&(f.return=null),o.return=null}catch(v){Wo(o,t,v)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)HO(t,e),t=t.sibling}function HO(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Cc(t,e),mh(e),n&4){try{P1(3,e,e.return),xx(3,e)}catch(I){Wo(e,e.return,I)}try{P1(5,e,e.return)}catch(I){Wo(e,e.return,I)}}break;case 1:Cc(t,e),mh(e),n&512&&r!==null&&F0(r,r.return);break;case 5:if(Cc(t,e),mh(e),n&512&&r!==null&&F0(r,r.return),e.flags&32){var o=e.stateNode;try{G1(o,"")}catch(I){Wo(e,e.return,I)}}if(n&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,u=r!==null?r.memoizedProps:s,l=e.type,f=e.updateQueue;if(e.updateQueue=null,f!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&f8(o,s),M3(l,u);var v=M3(l,s);for(u=0;u<f.length;u+=2){var x=f[u],w=f[u+1];x==="style"?v8(o,w):x==="dangerouslySetInnerHTML"?g8(o,w):x==="children"?G1(o,w):HA(o,x,w,v)}switch(l){case"input":T3(o,s);break;case"textarea":p8(o,s);break;case"select":var C=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var P=s.value;P!=null?V0(o,!!s.multiple,P,!1):C!==!!s.multiple&&(s.defaultValue!=null?V0(o,!!s.multiple,s.defaultValue,!0):V0(o,!!s.multiple,s.multiple?[]:"",!1))}o[tv]=s}catch(I){Wo(e,e.return,I)}}break;case 6:if(Cc(t,e),mh(e),n&4){if(e.stateNode===null)throw Error(or(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(I){Wo(e,e.return,I)}}break;case 3:if(Cc(t,e),mh(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Z1(t.containerInfo)}catch(I){Wo(e,e.return,I)}break;case 4:Cc(t,e),mh(e);break;case 13:Cc(t,e),mh(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(CE=ea())),n&4&&UI(e);break;case 22:if(x=r!==null&&r.memoizedState!==null,e.mode&1?(Vs=(v=Vs)||x,Cc(t,e),Vs=v):Cc(t,e),mh(e),n&8192){if(v=e.memoizedState!==null,(e.stateNode.isHidden=v)&&!x&&e.mode&1)for($r=e,x=e.child;x!==null;){for(w=$r=x;$r!==null;){switch(C=$r,P=C.child,C.tag){case 0:case 11:case 14:case 15:P1(4,C,C.return);break;case 1:F0(C,C.return);var O=C.stateNode;if(typeof O.componentWillUnmount=="function"){n=C,r=C.return;try{t=n,O.props=t.memoizedProps,O.state=t.memoizedState,O.componentWillUnmount()}catch(I){Wo(n,r,I)}}break;case 5:F0(C,C.return);break;case 22:if(C.memoizedState!==null){qI(w);continue}}P!==null?(P.return=C,$r=P):qI(w)}x=x.sibling}e:for(x=null,w=e;;){if(w.tag===5){if(x===null){x=w;try{o=w.stateNode,v?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=w.stateNode,f=w.memoizedProps.style,u=f!=null&&f.hasOwnProperty("display")?f.display:null,l.style.display=y8("display",u))}catch(I){Wo(e,e.return,I)}}}else if(w.tag===6){if(x===null)try{w.stateNode.nodeValue=v?"":w.memoizedProps}catch(I){Wo(e,e.return,I)}}else if((w.tag!==22&&w.tag!==23||w.memoizedState===null||w===e)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===e)break e;for(;w.sibling===null;){if(w.return===null||w.return===e)break e;x===w&&(x=null),w=w.return}x===w&&(x=null),w.sibling.return=w.return,w=w.sibling}}break;case 19:Cc(t,e),mh(e),n&4&&UI(e);break;case 21:break;default:Cc(t,e),mh(e)}}function mh(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(VO(r)){var n=r;break e}r=r.return}throw Error(or(160))}switch(n.tag){case 5:var o=n.stateNode;n.flags&32&&(G1(o,""),n.flags&=-33);var s=jI(e);lC(e,s,o);break;case 3:case 4:var u=n.stateNode.containerInfo,l=jI(e);sC(e,l,u);break;default:throw Error(or(161))}}catch(f){Wo(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function EV(e,t,r){$r=e,GO(e)}function GO(e,t,r){for(var n=(e.mode&1)!==0;$r!==null;){var o=$r,s=o.child;if(o.tag===22&&n){var u=o.memoizedState!==null||Q2;if(!u){var l=o.alternate,f=l!==null&&l.memoizedState!==null||Vs;l=Q2;var v=Vs;if(Q2=u,(Vs=f)&&!v)for($r=o;$r!==null;)u=$r,f=u.child,u.tag===22&&u.memoizedState!==null?HI(o):f!==null?(f.return=u,$r=f):HI(o);for(;s!==null;)$r=s,GO(s),s=s.sibling;$r=o,Q2=l,Vs=v}VI(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,$r=s):VI(e)}}function VI(e){for(;$r!==null;){var t=$r;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Vs||xx(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Vs)if(r===null)n.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:Pc(t.type,r.memoizedProps);n.componentDidUpdate(o,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&TI(t,s,n);break;case 3:var u=t.updateQueue;if(u!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}TI(t,u,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&r.focus();break;case"img":f.src&&(r.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var v=t.alternate;if(v!==null){var x=v.memoizedState;if(x!==null){var w=x.dehydrated;w!==null&&Z1(w)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(or(163))}Vs||t.flags&512&&aC(t)}catch(C){Wo(t,t.return,C)}}if(t===e){$r=null;break}if(r=t.sibling,r!==null){r.return=t.return,$r=r;break}$r=t.return}}function qI(e){for(;$r!==null;){var t=$r;if(t===e){$r=null;break}var r=t.sibling;if(r!==null){r.return=t.return,$r=r;break}$r=t.return}}function HI(e){for(;$r!==null;){var t=$r;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{xx(4,t)}catch(f){Wo(t,r,f)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var o=t.return;try{n.componentDidMount()}catch(f){Wo(t,o,f)}}var s=t.return;try{aC(t)}catch(f){Wo(t,s,f)}break;case 5:var u=t.return;try{aC(t)}catch(f){Wo(t,u,f)}}}catch(f){Wo(t,t.return,f)}if(t===e){$r=null;break}var l=t.sibling;if(l!==null){l.return=t.return,$r=l;break}$r=t.return}}var TV=Math.ceil,T_=Od.ReactCurrentDispatcher,wE=Od.ReactCurrentOwner,ic=Od.ReactCurrentBatchConfig,si=0,Wa=null,xa=null,ps=0,pu=0,$0=qf(0),Ra=0,sv=null,Hp=0,wx=0,SE=0,k1=null,Dl=null,CE=0,Pg=1/0,pd=null,P_=!1,uC=null,Mf=null,eb=!1,Af=null,k_=0,I1=0,cC=null,Vb=-1,qb=0;function cl(){return si&6?ea():Vb!==-1?Vb:Vb=ea()}function Df(e){return e.mode&1?si&2&&ps!==0?ps&-ps:cV.transition!==null?(qb===0&&(qb=I8()),qb):(e=Di,e!==0||(e=window.event,e=e===void 0?16:F8(e.type)),e):1}function Bc(e,t,r,n){if(50<I1)throw I1=0,cC=null,Error(or(185));Vv(e,r,n),(!(si&2)||e!==Wa)&&(e===Wa&&(!(si&2)&&(wx|=r),Ra===4&&pf(e,ps)),zl(e,n),r===1&&si===0&&!(t.mode&1)&&(Pg=ea()+500,vx&&Hf()))}function zl(e,t){var r=e.callbackNode;cU(e,t);var n=d_(e,e===Wa?ps:0);if(n===0)r!==null&&eI(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&eI(r),t===1)e.tag===0?uV(GI.bind(null,e)):rO(GI.bind(null,e)),oV(function(){!(si&6)&&Hf()}),r=null;else{switch(L8(n)){case 1:r=ZA;break;case 4:r=P8;break;case 16:r=h_;break;case 536870912:r=k8;break;default:r=h_}r=eN(r,WO.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function WO(e,t){if(Vb=-1,qb=0,si&6)throw Error(or(327));var r=e.callbackNode;if(X0()&&e.callbackNode!==r)return null;var n=d_(e,e===Wa?ps:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=I_(e,n);else{t=n;var o=si;si|=2;var s=KO();(Wa!==e||ps!==t)&&(pd=null,Pg=ea()+500,Rp(e,t));do try{IV();break}catch(l){XO(e,l)}while(!0);uE(),T_.current=s,si=o,xa!==null?t=0:(Wa=null,ps=0,t=Ra)}if(t!==0){if(t===2&&(o=F3(e),o!==0&&(n=o,t=hC(e,o))),t===1)throw r=sv,Rp(e,0),pf(e,n),zl(e,ea()),r;if(t===6)pf(e,n);else{if(o=e.current.alternate,!(n&30)&&!PV(o)&&(t=I_(e,n),t===2&&(s=F3(e),s!==0&&(n=s,t=hC(e,s))),t===1))throw r=sv,Rp(e,0),pf(e,n),zl(e,ea()),r;switch(e.finishedWork=o,e.finishedLanes=n,t){case 0:case 1:throw Error(or(345));case 2:dp(e,Dl,pd);break;case 3:if(pf(e,n),(n&130023424)===n&&(t=CE+500-ea(),10<t)){if(d_(e,0)!==0)break;if(o=e.suspendedLanes,(o&n)!==n){cl(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=H3(dp.bind(null,e,Dl,pd),t);break}dp(e,Dl,pd);break;case 4:if(pf(e,n),(n&4194240)===n)break;for(t=e.eventTimes,o=-1;0<n;){var u=31-$c(n);s=1<<u,u=t[u],u>o&&(o=u),n&=~s}if(n=o,n=ea()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*TV(n/1960))-n,10<n){e.timeoutHandle=H3(dp.bind(null,e,Dl,pd),n);break}dp(e,Dl,pd);break;case 5:dp(e,Dl,pd);break;default:throw Error(or(329))}}}return zl(e,ea()),e.callbackNode===r?WO.bind(null,e):null}function hC(e,t){var r=k1;return e.current.memoizedState.isDehydrated&&(Rp(e,t).flags|=256),e=I_(e,t),e!==2&&(t=Dl,Dl=r,t!==null&&dC(t)),e}function dC(e){Dl===null?Dl=e:Dl.push.apply(Dl,e)}function PV(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var o=r[n],s=o.getSnapshot;o=o.value;try{if(!jc(s(),o))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function pf(e,t){for(t&=~SE,t&=~wx,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-$c(t),n=1<<r;e[r]=-1,t&=~n}}function GI(e){if(si&6)throw Error(or(327));X0();var t=d_(e,0);if(!(t&1))return zl(e,ea()),null;var r=I_(e,t);if(e.tag!==0&&r===2){var n=F3(e);n!==0&&(t=n,r=hC(e,n))}if(r===1)throw r=sv,Rp(e,0),pf(e,t),zl(e,ea()),r;if(r===6)throw Error(or(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,dp(e,Dl,pd),zl(e,ea()),null}function AE(e,t){var r=si;si|=1;try{return e(t)}finally{si=r,si===0&&(Pg=ea()+500,vx&&Hf())}}function Gp(e){Af!==null&&Af.tag===0&&!(si&6)&&X0();var t=si;si|=1;var r=ic.transition,n=Di;try{if(ic.transition=null,Di=1,e)return e()}finally{Di=n,ic.transition=r,si=t,!(si&6)&&Hf()}}function EE(){pu=$0.current,ho($0)}function Rp(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,iV(r)),xa!==null)for(r=xa.return;r!==null;){var n=r;switch(aE(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&y_();break;case 3:Eg(),ho($l),ho(qs),mE();break;case 5:pE(n);break;case 4:Eg();break;case 13:ho(Po);break;case 19:ho(Po);break;case 10:cE(n.type._context);break;case 22:case 23:EE()}r=r.return}if(Wa=e,xa=e=Rf(e.current,null),ps=pu=t,Ra=0,sv=null,SE=wx=Hp=0,Dl=k1=null,wp!==null){for(t=0;t<wp.length;t++)if(r=wp[t],n=r.interleaved,n!==null){r.interleaved=null;var o=n.next,s=r.pending;if(s!==null){var u=s.next;s.next=o,n.next=u}r.pending=n}wp=null}return e}function XO(e,t){do{var r=xa;try{if(uE(),zb.current=E_,A_){for(var n=Io.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}A_=!1}if(qp=0,Ha=Ma=Io=null,T1=!1,iv=0,wE.current=null,r===null||r.return===null){Ra=1,sv=t,xa=null;break}e:{var s=e,u=r.return,l=r,f=t;if(t=ps,l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var v=f,x=l,w=x.tag;if(!(x.mode&1)&&(w===0||w===11||w===15)){var C=x.alternate;C?(x.updateQueue=C.updateQueue,x.memoizedState=C.memoizedState,x.lanes=C.lanes):(x.updateQueue=null,x.memoizedState=null)}var P=DI(u);if(P!==null){P.flags&=-257,RI(P,u,l,s,t),P.mode&1&&MI(s,v,t),t=P,f=v;var O=t.updateQueue;if(O===null){var I=new Set;I.add(f),t.updateQueue=I}else O.add(f);break e}else{if(!(t&1)){MI(s,v,t),TE();break e}f=Error(or(426))}}else if(xo&&l.mode&1){var z=DI(u);if(z!==null){!(z.flags&65536)&&(z.flags|=256),RI(z,u,l,s,t),sE(Tg(f,l));break e}}s=f=Tg(f,l),Ra!==4&&(Ra=2),k1===null?k1=[s]:k1.push(s),s=u;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var N=LO(s,f,t);EI(s,N);break e;case 1:l=f;var j=s.type,V=s.stateNode;if(!(s.flags&128)&&(typeof j.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(Mf===null||!Mf.has(V)))){s.flags|=65536,t&=-t,s.lanes|=t;var W=MO(s,l,t);EI(s,W);break e}}s=s.return}while(s!==null)}YO(r)}catch(re){t=re,xa===r&&r!==null&&(xa=r=r.return);continue}break}while(!0)}function KO(){var e=T_.current;return T_.current=E_,e===null?E_:e}function TE(){(Ra===0||Ra===3||Ra===2)&&(Ra=4),Wa===null||!(Hp&268435455)&&!(wx&268435455)||pf(Wa,ps)}function I_(e,t){var r=si;si|=2;var n=KO();(Wa!==e||ps!==t)&&(pd=null,Rp(e,t));do try{kV();break}catch(o){XO(e,o)}while(!0);if(uE(),si=r,T_.current=n,xa!==null)throw Error(or(261));return Wa=null,ps=0,Ra}function kV(){for(;xa!==null;)ZO(xa)}function IV(){for(;xa!==null&&!tU();)ZO(xa)}function ZO(e){var t=QO(e.alternate,e,pu);e.memoizedProps=e.pendingProps,t===null?YO(e):xa=t,wE.current=null}function YO(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=SV(r,t),r!==null){r.flags&=32767,xa=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ra=6,xa=null;return}}else if(r=wV(r,t,pu),r!==null){xa=r;return}if(t=t.sibling,t!==null){xa=t;return}xa=t=e}while(t!==null);Ra===0&&(Ra=5)}function dp(e,t,r){var n=Di,o=ic.transition;try{ic.transition=null,Di=1,LV(e,t,r,n)}finally{ic.transition=o,Di=n}return null}function LV(e,t,r,n){do X0();while(Af!==null);if(si&6)throw Error(or(327));r=e.finishedWork;var o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(or(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(hU(e,s),e===Wa&&(xa=Wa=null,ps=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||eb||(eb=!0,eN(h_,function(){return X0(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=ic.transition,ic.transition=null;var u=Di;Di=1;var l=si;si|=4,wE.current=null,AV(e,r),HO(r,e),YU(V3),f_=!!U3,V3=U3=null,e.current=r,EV(r),rU(),si=l,Di=u,ic.transition=s}else e.current=r;if(eb&&(eb=!1,Af=e,k_=o),s=e.pendingLanes,s===0&&(Mf=null),oU(r.stateNode),zl(e,ea()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)o=t[r],n(o.value,{componentStack:o.stack,digest:o.digest});if(P_)throw P_=!1,e=uC,uC=null,e;return k_&1&&e.tag!==0&&X0(),s=e.pendingLanes,s&1?e===cC?I1++:(I1=0,cC=e):I1=0,Hf(),null}function X0(){if(Af!==null){var e=L8(k_),t=ic.transition,r=Di;try{if(ic.transition=null,Di=16>e?16:e,Af===null)var n=!1;else{if(e=Af,Af=null,k_=0,si&6)throw Error(or(331));var o=si;for(si|=4,$r=e.current;$r!==null;){var s=$r,u=s.child;if($r.flags&16){var l=s.deletions;if(l!==null){for(var f=0;f<l.length;f++){var v=l[f];for($r=v;$r!==null;){var x=$r;switch(x.tag){case 0:case 11:case 15:P1(8,x,s)}var w=x.child;if(w!==null)w.return=x,$r=w;else for(;$r!==null;){x=$r;var C=x.sibling,P=x.return;if(UO(x),x===v){$r=null;break}if(C!==null){C.return=P,$r=C;break}$r=P}}}var O=s.alternate;if(O!==null){var I=O.child;if(I!==null){O.child=null;do{var z=I.sibling;I.sibling=null,I=z}while(I!==null)}}$r=s}}if(s.subtreeFlags&2064&&u!==null)u.return=s,$r=u;else e:for(;$r!==null;){if(s=$r,s.flags&2048)switch(s.tag){case 0:case 11:case 15:P1(9,s,s.return)}var N=s.sibling;if(N!==null){N.return=s.return,$r=N;break e}$r=s.return}}var j=e.current;for($r=j;$r!==null;){u=$r;var V=u.child;if(u.subtreeFlags&2064&&V!==null)V.return=u,$r=V;else e:for(u=j;$r!==null;){if(l=$r,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:xx(9,l)}}catch(re){Wo(l,l.return,re)}if(l===u){$r=null;break e}var W=l.sibling;if(W!==null){W.return=l.return,$r=W;break e}$r=l.return}}if(si=o,Hf(),Lh&&typeof Lh.onPostCommitFiberRoot=="function")try{Lh.onPostCommitFiberRoot(fx,e)}catch{}n=!0}return n}finally{Di=r,ic.transition=t}}return!1}function WI(e,t,r){t=Tg(r,t),t=LO(e,t,1),e=Lf(e,t,1),t=cl(),e!==null&&(Vv(e,1,t),zl(e,t))}function Wo(e,t,r){if(e.tag===3)WI(e,e,r);else for(;t!==null;){if(t.tag===3){WI(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Mf===null||!Mf.has(n))){e=Tg(r,e),e=MO(t,e,1),t=Lf(t,e,1),e=cl(),t!==null&&(Vv(t,1,e),zl(t,e));break}}t=t.return}}function MV(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=cl(),e.pingedLanes|=e.suspendedLanes&r,Wa===e&&(ps&r)===r&&(Ra===4||Ra===3&&(ps&130023424)===ps&&500>ea()-CE?Rp(e,0):SE|=r),zl(e,t)}function JO(e,t){t===0&&(e.mode&1?(t=q2,q2<<=1,!(q2&130023424)&&(q2=4194304)):t=1);var r=cl();e=Td(e,t),e!==null&&(Vv(e,t,r),zl(e,r))}function DV(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),JO(e,r)}function RV(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;o!==null&&(r=o.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(or(314))}n!==null&&n.delete(t),JO(e,r)}var QO;QO=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||$l.current)Ol=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ol=!1,xV(e,t,r);Ol=!!(e.flags&131072)}else Ol=!1,xo&&t.flags&1048576&&nO(t,__,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ub(e,t),e=t.pendingProps;var o=Sg(t,qs.current);W0(t,r),o=yE(null,t,n,e,o,r);var s=vE();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bl(n)?(s=!0,v_(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,dE(t),o.updater=_x,t.stateNode=o,o._reactInternals=t,J3(t,n,e,r),t=tC(null,t,n,!0,s,r)):(t.tag=0,xo&&s&&oE(t),sl(null,t,o,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ub(e,t),e=t.pendingProps,o=n._init,n=o(n._payload),t.type=n,o=t.tag=NV(n),e=Pc(n,e),o){case 0:t=eC(null,t,n,e,r);break e;case 1:t=FI(null,t,n,e,r);break e;case 11:t=OI(null,t,n,e,r);break e;case 14:t=NI(null,t,n,Pc(n.type,e),r);break e}throw Error(or(306,n,""))}return t;case 0:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Pc(n,o),eC(e,t,n,o,r);case 1:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Pc(n,o),FI(e,t,n,o,r);case 3:e:{if(NO(t),e===null)throw Error(or(387));n=t.pendingProps,s=t.memoizedState,o=s.element,uO(e,t),S_(t,n,null,r);var u=t.memoizedState;if(n=u.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=Tg(Error(or(423)),t),t=$I(e,t,n,r,o);break e}else if(n!==o){o=Tg(Error(or(424)),t),t=$I(e,t,n,r,o);break e}else for(vu=If(t.stateNode.containerInfo.firstChild),_u=t,xo=!0,Lc=null,r=sO(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Cg(),n===o){t=Pd(e,t,r);break e}sl(e,t,n,r)}t=t.child}return t;case 5:return cO(t),e===null&&K3(t),n=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,u=o.children,q3(n,o)?u=null:s!==null&&q3(n,s)&&(t.flags|=32),OO(e,t),sl(e,t,u,r),t.child;case 6:return e===null&&K3(t),null;case 13:return FO(e,t,r);case 4:return fE(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ag(t,null,n,r):sl(e,t,n,r),t.child;case 11:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Pc(n,o),OI(e,t,n,o,r);case 7:return sl(e,t,t.pendingProps,r),t.child;case 8:return sl(e,t,t.pendingProps.children,r),t.child;case 12:return sl(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,o=t.pendingProps,s=t.memoizedProps,u=o.value,to(x_,n._currentValue),n._currentValue=u,s!==null)if(jc(s.value,u)){if(s.children===o.children&&!$l.current){t=Pd(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){u=s.child;for(var f=l.firstContext;f!==null;){if(f.context===n){if(s.tag===1){f=wd(-1,r&-r),f.tag=2;var v=s.updateQueue;if(v!==null){v=v.shared;var x=v.pending;x===null?f.next=f:(f.next=x.next,x.next=f),v.pending=f}}s.lanes|=r,f=s.alternate,f!==null&&(f.lanes|=r),Z3(s.return,r,t),l.lanes|=r;break}f=f.next}}else if(s.tag===10)u=s.type===t.type?null:s.child;else if(s.tag===18){if(u=s.return,u===null)throw Error(or(341));u.lanes|=r,l=u.alternate,l!==null&&(l.lanes|=r),Z3(u,r,t),u=s.sibling}else u=s.child;if(u!==null)u.return=s;else for(u=s;u!==null;){if(u===t){u=null;break}if(s=u.sibling,s!==null){s.return=u.return,u=s;break}u=u.return}s=u}sl(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,n=t.pendingProps.children,W0(t,r),o=oc(o),n=n(o),t.flags|=1,sl(e,t,n,r),t.child;case 14:return n=t.type,o=Pc(n,t.pendingProps),o=Pc(n.type,o),NI(e,t,n,o,r);case 15:return DO(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Pc(n,o),Ub(e,t),t.tag=1,Bl(n)?(e=!0,v_(t)):e=!1,W0(t,r),IO(t,n,o),J3(t,n,o,r),tC(null,t,n,!0,e,r);case 19:return $O(e,t,r);case 22:return RO(e,t,r)}throw Error(or(156,t.tag))};function eN(e,t){return T8(e,t)}function OV(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nc(e,t,r,n){return new OV(e,t,r,n)}function PE(e){return e=e.prototype,!(!e||!e.isReactComponent)}function NV(e){if(typeof e=="function")return PE(e)?1:0;if(e!=null){if(e=e.$$typeof,e===WA)return 11;if(e===XA)return 14}return 2}function Rf(e,t){var r=e.alternate;return r===null?(r=nc(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Hb(e,t,r,n,o,s){var u=2;if(n=e,typeof e=="function")PE(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case P0:return Op(r.children,o,s,t);case GA:u=8,o|=8;break;case w3:return e=nc(12,r,t,o|2),e.elementType=w3,e.lanes=s,e;case S3:return e=nc(13,r,t,o),e.elementType=S3,e.lanes=s,e;case C3:return e=nc(19,r,t,o),e.elementType=C3,e.lanes=s,e;case c8:return Sx(r,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case l8:u=10;break e;case u8:u=9;break e;case WA:u=11;break e;case XA:u=14;break e;case uf:u=16,n=null;break e}throw Error(or(130,e==null?e:typeof e,""))}return t=nc(u,r,t,o),t.elementType=e,t.type=n,t.lanes=s,t}function Op(e,t,r,n){return e=nc(7,e,n,t),e.lanes=r,e}function Sx(e,t,r,n){return e=nc(22,e,n,t),e.elementType=c8,e.lanes=r,e.stateNode={isHidden:!1},e}function CS(e,t,r){return e=nc(6,e,null,t),e.lanes=r,e}function AS(e,t,r){return t=nc(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function FV(e,t,r,n,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oS(0),this.expirationTimes=oS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oS(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function kE(e,t,r,n,o,s,u,l,f){return e=new FV(e,t,r,l,f),t===1?(t=1,s===!0&&(t|=8)):t=0,s=nc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},dE(s),e}function $V(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T0,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function tN(e){if(!e)return Nf;e=e._reactInternals;e:{if(nm(e)!==e||e.tag!==1)throw Error(or(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bl(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(or(171))}if(e.tag===1){var r=e.type;if(Bl(r))return tO(e,r,t)}return t}function rN(e,t,r,n,o,s,u,l,f){return e=kE(r,n,!0,e,o,s,u,l,f),e.context=tN(null),r=e.current,n=cl(),o=Df(r),s=wd(n,o),s.callback=t??null,Lf(r,s,o),e.current.lanes=o,Vv(e,o,n),zl(e,n),e}function Cx(e,t,r,n){var o=t.current,s=cl(),u=Df(o);return r=tN(r),t.context===null?t.context=r:t.pendingContext=r,t=wd(s,u),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Lf(o,t,u),e!==null&&(Bc(e,o,u,s),Bb(e,o,u)),u}function L_(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function XI(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function IE(e,t){XI(e,t),(e=e.alternate)&&XI(e,t)}function BV(){return null}var nN=typeof reportError=="function"?reportError:function(e){console.error(e)};function LE(e){this._internalRoot=e}Ax.prototype.render=LE.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(or(409));Cx(e,t,null,null)};Ax.prototype.unmount=LE.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gp(function(){Cx(null,e,null,null)}),t[Ed]=null}};function Ax(e){this._internalRoot=e}Ax.prototype.unstable_scheduleHydration=function(e){if(e){var t=R8();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ff.length&&t!==0&&t<ff[r].priority;r++);ff.splice(r,0,e),r===0&&N8(e)}};function ME(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ex(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function KI(){}function zV(e,t,r,n,o){if(o){if(typeof n=="function"){var s=n;n=function(){var v=L_(u);s.call(v)}}var u=rN(t,n,e,0,null,!1,!1,"",KI);return e._reactRootContainer=u,e[Ed]=u.current,Q1(e.nodeType===8?e.parentNode:e),Gp(),u}for(;o=e.lastChild;)e.removeChild(o);if(typeof n=="function"){var l=n;n=function(){var v=L_(f);l.call(v)}}var f=kE(e,0,!1,null,null,!1,!1,"",KI);return e._reactRootContainer=f,e[Ed]=f.current,Q1(e.nodeType===8?e.parentNode:e),Gp(function(){Cx(t,f,r,n)}),f}function Tx(e,t,r,n,o){var s=r._reactRootContainer;if(s){var u=s;if(typeof o=="function"){var l=o;o=function(){var f=L_(u);l.call(f)}}Cx(t,u,e,o)}else u=zV(r,t,e,o,n);return L_(u)}M8=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=l1(t.pendingLanes);r!==0&&(YA(t,r|1),zl(t,ea()),!(si&6)&&(Pg=ea()+500,Hf()))}break;case 13:Gp(function(){var n=Td(e,1);if(n!==null){var o=cl();Bc(n,e,1,o)}}),IE(e,1)}};JA=function(e){if(e.tag===13){var t=Td(e,134217728);if(t!==null){var r=cl();Bc(t,e,134217728,r)}IE(e,134217728)}};D8=function(e){if(e.tag===13){var t=Df(e),r=Td(e,t);if(r!==null){var n=cl();Bc(r,e,t,n)}IE(e,t)}};R8=function(){return Di};O8=function(e,t){var r=Di;try{return Di=e,t()}finally{Di=r}};R3=function(e,t,r){switch(t){case"input":if(T3(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var o=yx(n);if(!o)throw Error(or(90));d8(n),T3(n,o)}}}break;case"textarea":p8(e,r);break;case"select":t=r.value,t!=null&&V0(e,!!r.multiple,t,!1)}};x8=AE;w8=Gp;var jV={usingClientEntryPoint:!1,Events:[Hv,M0,yx,b8,_8,AE]},jy={findFiberByHostInstance:xp,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UV={bundleType:jy.bundleType,version:jy.version,rendererPackageName:jy.rendererPackageName,rendererConfig:jy.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Od.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=A8(e),e===null?null:e.stateNode},findFiberByHostInstance:jy.findFiberByHostInstance||BV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tb.isDisabled&&tb.supportsFiber)try{fx=tb.inject(UV),Lh=tb}catch{}}Eu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jV;Eu.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ME(t))throw Error(or(200));return $V(e,t,null,r)};Eu.createRoot=function(e,t){if(!ME(e))throw Error(or(299));var r=!1,n="",o=nN;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=kE(e,1,!1,null,null,r,!1,n,o),e[Ed]=t.current,Q1(e.nodeType===8?e.parentNode:e),new LE(t)};Eu.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(or(188)):(e=Object.keys(e).join(","),Error(or(268,e)));return e=A8(t),e=e===null?null:e.stateNode,e};Eu.flushSync=function(e){return Gp(e)};Eu.hydrate=function(e,t,r){if(!Ex(t))throw Error(or(200));return Tx(null,e,t,!0,r)};Eu.hydrateRoot=function(e,t,r){if(!ME(e))throw Error(or(405));var n=r!=null&&r.hydratedSources||null,o=!1,s="",u=nN;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(u=r.onRecoverableError)),t=rN(t,null,e,1,r??null,o,!1,s,u),e[Ed]=t.current,Q1(e),n)for(e=0;e<n.length;e++)r=n[e],o=r._getVersion,o=o(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new Ax(t)};Eu.render=function(e,t,r){if(!Ex(t))throw Error(or(200));return Tx(null,e,t,!1,r)};Eu.unmountComponentAtNode=function(e){if(!Ex(e))throw Error(or(40));return e._reactRootContainer?(Gp(function(){Tx(null,null,e,!1,function(){e._reactRootContainer=null,e[Ed]=null})}),!0):!1};Eu.unstable_batchedUpdates=AE;Eu.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ex(r))throw Error(or(200));if(e==null||e._reactInternals===void 0)throw Error(or(38));return Tx(e,t,r,!1,n)};Eu.version="18.3.1-next-f1338f8080-20240426";function iN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iN)}catch(e){console.error(e)}}iN(),i8.exports=Eu;var kg=i8.exports;const rb=$A(kg);var ZI=kg;_3.createRoot=ZI.createRoot,_3.hydrateRoot=ZI.hydrateRoot;var oN={exports:{}};/**
 * MapLibre GL JS
 * @license 3-Clause BSD. Full text of license: https://github.com/maplibre/maplibre-gl-js/blob/v4.7.1/LICENSE.txt
 */(function(e,t){(function(r,n){e.exports=n()})(Th,function(){var r={},n={};function o(u,l,f){if(n[u]=f,u==="index"){var v="var sharedModule = {}; ("+n.shared+")(sharedModule); ("+n.worker+")(sharedModule);",x={};return n.shared(x),n.index(r,x),typeof window<"u"&&r.setWorkerUrl(window.URL.createObjectURL(new Blob([v],{type:"text/javascript"}))),r}}o("shared",["exports"],function(u){function l(c,a,d,m){return new(d||(d=Promise))(function(_,S){function E(U){try{F(m.next(U))}catch(K){S(K)}}function M(U){try{F(m.throw(U))}catch(K){S(K)}}function F(U){var K;U.done?_(U.value):(K=U.value,K instanceof d?K:new d(function(Y){Y(K)})).then(E,M)}F((m=m.apply(c,a||[])).next())})}function f(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}typeof SuppressedError=="function"&&SuppressedError;var v=x;function x(c,a){this.x=c,this.y=a}x.prototype={clone:function(){return new x(this.x,this.y)},add:function(c){return this.clone()._add(c)},sub:function(c){return this.clone()._sub(c)},multByPoint:function(c){return this.clone()._multByPoint(c)},divByPoint:function(c){return this.clone()._divByPoint(c)},mult:function(c){return this.clone()._mult(c)},div:function(c){return this.clone()._div(c)},rotate:function(c){return this.clone()._rotate(c)},rotateAround:function(c,a){return this.clone()._rotateAround(c,a)},matMult:function(c){return this.clone()._matMult(c)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(c){return this.x===c.x&&this.y===c.y},dist:function(c){return Math.sqrt(this.distSqr(c))},distSqr:function(c){var a=c.x-this.x,d=c.y-this.y;return a*a+d*d},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(c){return Math.atan2(this.y-c.y,this.x-c.x)},angleWith:function(c){return this.angleWithSep(c.x,c.y)},angleWithSep:function(c,a){return Math.atan2(this.x*a-this.y*c,this.x*c+this.y*a)},_matMult:function(c){var a=c[2]*this.x+c[3]*this.y;return this.x=c[0]*this.x+c[1]*this.y,this.y=a,this},_add:function(c){return this.x+=c.x,this.y+=c.y,this},_sub:function(c){return this.x-=c.x,this.y-=c.y,this},_mult:function(c){return this.x*=c,this.y*=c,this},_div:function(c){return this.x/=c,this.y/=c,this},_multByPoint:function(c){return this.x*=c.x,this.y*=c.y,this},_divByPoint:function(c){return this.x/=c.x,this.y/=c.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var c=this.y;return this.y=this.x,this.x=-c,this},_rotate:function(c){var a=Math.cos(c),d=Math.sin(c),m=d*this.x+a*this.y;return this.x=a*this.x-d*this.y,this.y=m,this},_rotateAround:function(c,a){var d=Math.cos(c),m=Math.sin(c),_=a.y+m*(this.x-a.x)+d*(this.y-a.y);return this.x=a.x+d*(this.x-a.x)-m*(this.y-a.y),this.y=_,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},x.convert=function(c){return c instanceof x?c:Array.isArray(c)?new x(c[0],c[1]):c};var w=f(v),C=P;function P(c,a,d,m){this.cx=3*c,this.bx=3*(d-c)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*a,this.by=3*(m-a)-this.cy,this.ay=1-this.cy-this.by,this.p1x=c,this.p1y=a,this.p2x=d,this.p2y=m}P.prototype={sampleCurveX:function(c){return((this.ax*c+this.bx)*c+this.cx)*c},sampleCurveY:function(c){return((this.ay*c+this.by)*c+this.cy)*c},sampleCurveDerivativeX:function(c){return(3*this.ax*c+2*this.bx)*c+this.cx},solveCurveX:function(c,a){if(a===void 0&&(a=1e-6),c<0)return 0;if(c>1)return 1;for(var d=c,m=0;m<8;m++){var _=this.sampleCurveX(d)-c;if(Math.abs(_)<a)return d;var S=this.sampleCurveDerivativeX(d);if(Math.abs(S)<1e-6)break;d-=_/S}var E=0,M=1;for(d=c,m=0;m<20&&(_=this.sampleCurveX(d),!(Math.abs(_-c)<a));m++)c>_?E=d:M=d,d=.5*(M-E)+E;return d},solve:function(c,a){return this.sampleCurveY(this.solveCurveX(c,a))}};var O=f(C);let I,z;function N(){return I==null&&(I=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),I}function j(){if(z==null&&(z=!1,N())){const a=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(a){for(let m=0;m<5*5;m++){const _=4*m;a.fillStyle=`rgb(${_},${_+1},${_+2})`,a.fillRect(m%5,Math.floor(m/5),1,1)}const d=a.getImageData(0,0,5,5).data;for(let m=0;m<5*5*4;m++)if(m%4!=3&&d[m]!==m){z=!0;break}}}return z||!1}function V(c,a,d,m){const _=new O(c,a,d,m);return S=>_.solve(S)}const W=V(.25,.1,.25,1);function re(c,a,d){return Math.min(d,Math.max(a,c))}function ie(c,a,d){const m=d-a,_=((c-a)%m+m)%m+a;return _===a?d:_}function J(c,...a){for(const d of a)for(const m in d)c[m]=d[m];return c}let ne=1;function Ae(c,a,d){const m={};for(const _ in c)m[_]=a.call(this,c[_],_,c);return m}function Z(c,a,d){const m={};for(const _ in c)a.call(this,c[_],_,c)&&(m[_]=c[_]);return m}function X(c){return Array.isArray(c)?c.map(X):typeof c=="object"&&c?Ae(c,X):c}const oe={};function be(c){oe[c]||(typeof console<"u"&&console.warn(c),oe[c]=!0)}function ge(c,a,d){return(d.y-c.y)*(a.x-c.x)>(a.y-c.y)*(d.x-c.x)}function De(c){return typeof WorkerGlobalScope<"u"&&c!==void 0&&c instanceof WorkerGlobalScope}let Le=null;function je(c){return typeof ImageBitmap<"u"&&c instanceof ImageBitmap}const xe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Oe(c,a,d,m,_){return l(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const S=new VideoFrame(c,{timestamp:0});try{const E=S==null?void 0:S.format;if(!E||!E.startsWith("BGR")&&!E.startsWith("RGB"))throw new Error(`Unrecognized format ${E}`);const M=E.startsWith("BGR"),F=new Uint8ClampedArray(m*_*4);if(yield S.copyTo(F,function(U,K,Y,ue,pe){const _e=4*Math.max(-K,0),Pe=(Math.max(0,Y)-Y)*ue*4+_e,Be=4*ue,We=Math.max(0,K),vt=Math.max(0,Y);return{rect:{x:We,y:vt,width:Math.min(U.width,K+ue)-We,height:Math.min(U.height,Y+pe)-vt},layout:[{offset:Pe,stride:Be}]}}(c,a,d,m,_)),M)for(let U=0;U<F.length;U+=4){const K=F[U];F[U]=F[U+2],F[U+2]=K}return F}finally{S.close()}})}let Ke,ht;const le="AbortError";function me(){return new Error(le)}const we={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function Ie(c){return we.REGISTERED_PROTOCOLS[c.substring(0,c.indexOf("://"))]}const Me="global-dispatcher";class tt extends Error{constructor(a,d,m,_){super(`AJAXError: ${d} (${a}): ${m}`),this.status=a,this.statusText=d,this.url=m,this.body=_}}const Ue=()=>De(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,qe=function(c,a){if(/:\/\//.test(c.url)&&!/^https?:|^file:/.test(c.url)){const m=Ie(c.url);if(m)return m(c,a);if(De(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:c,targetMapId:Me},a)}if(!(/^file:/.test(d=c.url)||/^file:/.test(Ue())&&!/^\w+:/.test(d))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return function(m,_){return l(this,void 0,void 0,function*(){const S=new Request(m.url,{method:m.method||"GET",body:m.body,credentials:m.credentials,headers:m.headers,cache:m.cache,referrer:Ue(),signal:_.signal});m.type!=="json"||S.headers.has("Accept")||S.headers.set("Accept","application/json");const E=yield fetch(S);if(!E.ok){const U=yield E.blob();throw new tt(E.status,E.statusText,m.url,U)}let M;M=m.type==="arrayBuffer"||m.type==="image"?E.arrayBuffer():m.type==="json"?E.json():E.text();const F=yield M;if(_.signal.aborted)throw me();return{data:F,cacheControl:E.headers.get("Cache-Control"),expires:E.headers.get("Expires")}})}(c,a);if(De(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:c,mustQueue:!0,targetMapId:Me},a)}var d;return function(m,_){return new Promise((S,E)=>{var M;const F=new XMLHttpRequest;F.open(m.method||"GET",m.url,!0),m.type!=="arrayBuffer"&&m.type!=="image"||(F.responseType="arraybuffer");for(const U in m.headers)F.setRequestHeader(U,m.headers[U]);m.type==="json"&&(F.responseType="text",!((M=m.headers)===null||M===void 0)&&M.Accept||F.setRequestHeader("Accept","application/json")),F.withCredentials=m.credentials==="include",F.onerror=()=>{E(new Error(F.statusText))},F.onload=()=>{if(!_.signal.aborted)if((F.status>=200&&F.status<300||F.status===0)&&F.response!==null){let U=F.response;if(m.type==="json")try{U=JSON.parse(F.response)}catch(K){return void E(K)}S({data:U,cacheControl:F.getResponseHeader("Cache-Control"),expires:F.getResponseHeader("Expires")})}else{const U=new Blob([F.response],{type:F.getResponseHeader("Content-Type")});E(new tt(F.status,F.statusText,m.url,U))}},_.signal.addEventListener("abort",()=>{F.abort(),E(me())}),F.send(m.body)})}(c,a)};function lt(c){if(!c||c.indexOf("://")<=0||c.indexOf("data:image/")===0||c.indexOf("blob:")===0)return!0;const a=new URL(c),d=window.location;return a.protocol===d.protocol&&a.host===d.host}function pt(c,a,d){d[c]&&d[c].indexOf(a)!==-1||(d[c]=d[c]||[],d[c].push(a))}function Et(c,a,d){if(d&&d[c]){const m=d[c].indexOf(a);m!==-1&&d[c].splice(m,1)}}class St{constructor(a,d={}){J(this,d),this.type=a}}class kt extends St{constructor(a,d={}){super("error",J({error:a},d))}}class ct{on(a,d){return this._listeners=this._listeners||{},pt(a,d,this._listeners),this}off(a,d){return Et(a,d,this._listeners),Et(a,d,this._oneTimeListeners),this}once(a,d){return d?(this._oneTimeListeners=this._oneTimeListeners||{},pt(a,d,this._oneTimeListeners),this):new Promise(m=>this.once(a,m))}fire(a,d){typeof a=="string"&&(a=new St(a,d||{}));const m=a.type;if(this.listens(m)){a.target=this;const _=this._listeners&&this._listeners[m]?this._listeners[m].slice():[];for(const M of _)M.call(this,a);const S=this._oneTimeListeners&&this._oneTimeListeners[m]?this._oneTimeListeners[m].slice():[];for(const M of S)Et(m,M,this._oneTimeListeners),M.call(this,a);const E=this._eventedParent;E&&(J(a,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),E.fire(a))}else a instanceof kt&&console.error(a.error);return this}listens(a){return this._listeners&&this._listeners[a]&&this._listeners[a].length>0||this._oneTimeListeners&&this._oneTimeListeners[a]&&this._oneTimeListeners[a].length>0||this._eventedParent&&this._eventedParent.listens(a)}setEventedParent(a,d){return this._eventedParent=a,this._eventedParentData=d,this}}var de={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"enum",default:"mercator",values:{mercator:{},globe:{}}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const hr=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Kt(c,a){const d={};for(const m in c)m!=="ref"&&(d[m]=c[m]);return hr.forEach(m=>{m in a&&(d[m]=a[m])}),d}function bt(c,a){if(Array.isArray(c)){if(!Array.isArray(a)||c.length!==a.length)return!1;for(let d=0;d<c.length;d++)if(!bt(c[d],a[d]))return!1;return!0}if(typeof c=="object"&&c!==null&&a!==null){if(typeof a!="object"||Object.keys(c).length!==Object.keys(a).length)return!1;for(const d in c)if(!bt(c[d],a[d]))return!1;return!0}return c===a}function Pt(c,a){c.push(a)}function Ot(c,a,d){Pt(d,{command:"addSource",args:[c,a[c]]})}function Gt(c,a,d){Pt(a,{command:"removeSource",args:[c]}),d[c]=!0}function It(c,a,d,m){Gt(c,d,m),Ot(c,a,d)}function ir(c,a,d){let m;for(m in c[d])if(Object.prototype.hasOwnProperty.call(c[d],m)&&m!=="data"&&!bt(c[d][m],a[d][m]))return!1;for(m in a[d])if(Object.prototype.hasOwnProperty.call(a[d],m)&&m!=="data"&&!bt(c[d][m],a[d][m]))return!1;return!0}function vr(c,a,d,m,_,S){c=c||{},a=a||{};for(const E in c)Object.prototype.hasOwnProperty.call(c,E)&&(bt(c[E],a[E])||d.push({command:S,args:[m,E,a[E],_]}));for(const E in a)Object.prototype.hasOwnProperty.call(a,E)&&!Object.prototype.hasOwnProperty.call(c,E)&&(bt(c[E],a[E])||d.push({command:S,args:[m,E,a[E],_]}))}function Pr(c){return c.id}function Vr(c,a){return c[a.id]=a,c}class Ze{constructor(a,d,m,_){this.message=(a?`${a}: `:"")+m,_&&(this.identifier=_),d!=null&&d.__line__&&(this.line=d.__line__)}}function mt(c,...a){for(const d of a)for(const m in d)c[m]=d[m];return c}class Rt extends Error{constructor(a,d){super(d),this.message=d,this.key=a}}class Lt{constructor(a,d=[]){this.parent=a,this.bindings={};for(const[m,_]of d)this.bindings[m]=_}concat(a){return new Lt(this,a)}get(a){if(this.bindings[a])return this.bindings[a];if(this.parent)return this.parent.get(a);throw new Error(`${a} not found in scope.`)}has(a){return!!this.bindings[a]||!!this.parent&&this.parent.has(a)}}const Br={kind:"null"},rt={kind:"number"},Qt={kind:"string"},Vt={kind:"boolean"},xr={kind:"color"},rn={kind:"object"},rr={kind:"value"},ni={kind:"collator"},Nn={kind:"formatted"},_i={kind:"padding"},Bn={kind:"resolvedImage"},Ne={kind:"variableAnchorOffsetCollection"};function ae(c,a){return{kind:"array",itemType:c,N:a}}function ce(c){if(c.kind==="array"){const a=ce(c.itemType);return typeof c.N=="number"?`array<${a}, ${c.N}>`:c.itemType.kind==="value"?"array":`array<${a}>`}return c.kind}const Ce=[Br,rt,Qt,Vt,xr,Nn,rn,ae(rr),_i,Bn,Ne];function Re(c,a){if(a.kind==="error")return null;if(c.kind==="array"){if(a.kind==="array"&&(a.N===0&&a.itemType.kind==="value"||!Re(c.itemType,a.itemType))&&(typeof c.N!="number"||c.N===a.N))return null}else{if(c.kind===a.kind)return null;if(c.kind==="value"){for(const d of Ce)if(!Re(d,a))return null}}return`Expected ${ce(c)} but found ${ce(a)} instead.`}function Je(c,a){return a.some(d=>d.kind===c.kind)}function nt(c,a){return a.some(d=>d==="null"?c===null:d==="array"?Array.isArray(c):d==="object"?c&&!Array.isArray(c)&&typeof c=="object":d===typeof c)}function Ye(c,a){return c.kind==="array"&&a.kind==="array"?c.itemType.kind===a.itemType.kind&&typeof c.N=="number":c.kind===a.kind}const He=.96422,_t=.82521,Ct=4/29,gt=6/29,jt=3*gt*gt,ur=gt*gt*gt,mr=Math.PI/180,gn=180/Math.PI;function Ir(c){return(c%=360)<0&&(c+=360),c}function Yr([c,a,d,m]){let _,S;const E=nn((.2225045*(c=en(c))+.7168786*(a=en(a))+.0606169*(d=en(d)))/1);c===a&&a===d?_=S=E:(_=nn((.4360747*c+.3850649*a+.1430804*d)/He),S=nn((.0139322*c+.0971045*a+.7141733*d)/_t));const M=116*E-16;return[M<0?0:M,500*(_-E),200*(E-S),m]}function en(c){return c<=.04045?c/12.92:Math.pow((c+.055)/1.055,2.4)}function nn(c){return c>ur?Math.pow(c,1/3):c/jt+Ct}function Tr([c,a,d,m]){let _=(c+16)/116,S=isNaN(a)?_:_+a/500,E=isNaN(d)?_:_-d/200;return _=1*_n(_),S=He*_n(S),E=_t*_n(E),[Hr(3.1338561*S-1.6168667*_-.4906146*E),Hr(-.9787684*S+1.9161415*_+.033454*E),Hr(.0719453*S-.2289914*_+1.4052427*E),m]}function Hr(c){return(c=c<=.00304?12.92*c:1.055*Math.pow(c,1/2.4)-.055)<0?0:c>1?1:c}function _n(c){return c>gt?c*c*c:jt*(c-Ct)}function Cn(c){return parseInt(c.padEnd(2,c),16)/255}function xi(c,a){return Ni(a?c/100:c,0,1)}function Ni(c,a,d){return Math.min(Math.max(a,c),d)}function Fi(c){return!c.some(Number.isNaN)}const Xs={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class Dn{constructor(a,d,m,_=1,S=!0){this.r=a,this.g=d,this.b=m,this.a=_,S||(this.r*=_,this.g*=_,this.b*=_,_||this.overwriteGetter("rgb",[a,d,m,_]))}static parse(a){if(a instanceof Dn)return a;if(typeof a!="string")return;const d=function(m){if((m=m.toLowerCase().trim())==="transparent")return[0,0,0,0];const _=Xs[m];if(_){const[E,M,F]=_;return[E/255,M/255,F/255,1]}if(m.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(m)){const E=m.length<6?1:2;let M=1;return[Cn(m.slice(M,M+=E)),Cn(m.slice(M,M+=E)),Cn(m.slice(M,M+=E)),Cn(m.slice(M,M+E)||"ff")]}if(m.startsWith("rgb")){const E=m.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(E){const[M,F,U,K,Y,ue,pe,_e,Pe,Be,We,vt]=E,at=[K||" ",pe||" ",Be].join("");if(at==="  "||at==="  /"||at===",,"||at===",,,"){const ft=[U,ue,Pe].join(""),At=ft==="%%%"?100:ft===""?255:0;if(At){const Xt=[Ni(+F/At,0,1),Ni(+Y/At,0,1),Ni(+_e/At,0,1),We?xi(+We,vt):1];if(Fi(Xt))return Xt}}return}}const S=m.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(S){const[E,M,F,U,K,Y,ue,pe,_e]=S,Pe=[F||" ",K||" ",ue].join("");if(Pe==="  "||Pe==="  /"||Pe===",,"||Pe===",,,"){const Be=[+M,Ni(+U,0,100),Ni(+Y,0,100),pe?xi(+pe,_e):1];if(Fi(Be))return function([We,vt,at,ft]){function At(Xt){const pr=(Xt+We/30)%12,Xr=vt*Math.min(at,1-at);return at-Xr*Math.max(-1,Math.min(pr-3,9-pr,1))}return We=Ir(We),vt/=100,at/=100,[At(0),At(8),At(4),ft]}(Be)}}}(a);return d?new Dn(...d,!1):void 0}get rgb(){const{r:a,g:d,b:m,a:_}=this,S=_||1/0;return this.overwriteGetter("rgb",[a/S,d/S,m/S,_])}get hcl(){return this.overwriteGetter("hcl",function(a){const[d,m,_,S]=Yr(a),E=Math.sqrt(m*m+_*_);return[Math.round(1e4*E)?Ir(Math.atan2(_,m)*gn):NaN,E,d,S]}(this.rgb))}get lab(){return this.overwriteGetter("lab",Yr(this.rgb))}overwriteGetter(a,d){return Object.defineProperty(this,a,{value:d}),d}toString(){const[a,d,m,_]=this.rgb;return`rgba(${[a,d,m].map(S=>Math.round(255*S)).join(",")},${_})`}}Dn.black=new Dn(0,0,0,1),Dn.white=new Dn(1,1,1,1),Dn.transparent=new Dn(0,0,0,0),Dn.red=new Dn(1,0,0,1);class Wl{constructor(a,d,m){this.sensitivity=a?d?"variant":"case":d?"accent":"base",this.locale=m,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(a,d){return this.collator.compare(a,d)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class bs{constructor(a,d,m,_,S){this.text=a,this.image=d,this.scale=m,this.fontStack=_,this.textColor=S}}class Fn{constructor(a){this.sections=a}static fromString(a){return new Fn([new bs(a,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(a=>a.text.length!==0||a.image&&a.image.name.length!==0)}static factory(a){return a instanceof Fn?a:Fn.fromString(a)}toString(){return this.sections.length===0?"":this.sections.map(a=>a.text).join("")}}class Mo{constructor(a){this.values=a.slice()}static parse(a){if(a instanceof Mo)return a;if(typeof a=="number")return new Mo([a,a,a,a]);if(Array.isArray(a)&&!(a.length<1||a.length>4)){for(const d of a)if(typeof d!="number")return;switch(a.length){case 1:a=[a[0],a[0],a[0],a[0]];break;case 2:a=[a[0],a[1],a[0],a[1]];break;case 3:a=[a[0],a[1],a[2],a[1]]}return new Mo(a)}}toString(){return JSON.stringify(this.values)}}const ku=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class qi{constructor(a){this.values=a.slice()}static parse(a){if(a instanceof qi)return a;if(Array.isArray(a)&&!(a.length<1)&&a.length%2==0){for(let d=0;d<a.length;d+=2){const m=a[d],_=a[d+1];if(typeof m!="string"||!ku.has(m)||!Array.isArray(_)||_.length!==2||typeof _[0]!="number"||typeof _[1]!="number")return}return new qi(a)}}toString(){return JSON.stringify(this.values)}}class pi{constructor(a){this.name=a.name,this.available=a.available}toString(){return this.name}static fromString(a){return a?new pi({name:a,available:!1}):null}}function Ya(c,a,d,m){return typeof c=="number"&&c>=0&&c<=255&&typeof a=="number"&&a>=0&&a<=255&&typeof d=="number"&&d>=0&&d<=255?m===void 0||typeof m=="number"&&m>=0&&m<=1?null:`Invalid rgba value [${[c,a,d,m].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof m=="number"?[c,a,d,m]:[c,a,d]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function fo(c){if(c===null||typeof c=="string"||typeof c=="boolean"||typeof c=="number"||c instanceof Dn||c instanceof Wl||c instanceof Fn||c instanceof Mo||c instanceof qi||c instanceof pi)return!0;if(Array.isArray(c)){for(const a of c)if(!fo(a))return!1;return!0}if(typeof c=="object"){for(const a in c)if(!fo(c[a]))return!1;return!0}return!1}function ei(c){if(c===null)return Br;if(typeof c=="string")return Qt;if(typeof c=="boolean")return Vt;if(typeof c=="number")return rt;if(c instanceof Dn)return xr;if(c instanceof Wl)return ni;if(c instanceof Fn)return Nn;if(c instanceof Mo)return _i;if(c instanceof qi)return Ne;if(c instanceof pi)return Bn;if(Array.isArray(c)){const a=c.length;let d;for(const m of c){const _=ei(m);if(d){if(d===_)continue;d=rr;break}d=_}return ae(d||rr,a)}return rn}function li(c){const a=typeof c;return c===null?"":a==="string"||a==="number"||a==="boolean"?String(c):c instanceof Dn||c instanceof Fn||c instanceof Mo||c instanceof qi||c instanceof pi?c.toString():JSON.stringify(c)}class la{constructor(a,d){this.type=a,this.value=d}static parse(a,d){if(a.length!==2)return d.error(`'literal' expression requires exactly one argument, but found ${a.length-1} instead.`);if(!fo(a[1]))return d.error("invalid value");const m=a[1];let _=ei(m);const S=d.expectedType;return _.kind!=="array"||_.N!==0||!S||S.kind!=="array"||typeof S.N=="number"&&S.N!==0||(_=S),new la(_,m)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class wi{constructor(a){this.name="ExpressionEvaluationError",this.message=a}toJSON(){return this.message}}const Xl={string:Qt,number:rt,boolean:Vt,object:rn};class Do{constructor(a,d){this.type=a,this.args=d}static parse(a,d){if(a.length<2)return d.error("Expected at least one argument.");let m,_=1;const S=a[0];if(S==="array"){let M,F;if(a.length>2){const U=a[1];if(typeof U!="string"||!(U in Xl)||U==="object")return d.error('The item type argument of "array" must be one of string, number, boolean',1);M=Xl[U],_++}else M=rr;if(a.length>3){if(a[2]!==null&&(typeof a[2]!="number"||a[2]<0||a[2]!==Math.floor(a[2])))return d.error('The length argument to "array" must be a positive integer literal',2);F=a[2],_++}m=ae(M,F)}else{if(!Xl[S])throw new Error(`Types doesn't contain name = ${S}`);m=Xl[S]}const E=[];for(;_<a.length;_++){const M=d.parse(a[_],_,rr);if(!M)return null;E.push(M)}return new Do(m,E)}evaluate(a){for(let d=0;d<this.args.length;d++){const m=this.args[d].evaluate(a);if(!Re(this.type,ei(m)))return m;if(d===this.args.length-1)throw new wi(`Expected value to be of type ${ce(this.type)}, but found ${ce(ei(m))} instead.`)}throw new Error}eachChild(a){this.args.forEach(a)}outputDefined(){return this.args.every(a=>a.outputDefined())}}const Kl={"to-boolean":Vt,"to-color":xr,"to-number":rt,"to-string":Qt};class $i{constructor(a,d){this.type=a,this.args=d}static parse(a,d){if(a.length<2)return d.error("Expected at least one argument.");const m=a[0];if(!Kl[m])throw new Error(`Can't parse ${m} as it is not part of the known types`);if((m==="to-boolean"||m==="to-string")&&a.length!==2)return d.error("Expected one argument.");const _=Kl[m],S=[];for(let E=1;E<a.length;E++){const M=d.parse(a[E],E,rr);if(!M)return null;S.push(M)}return new $i(_,S)}evaluate(a){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(a);case"color":{let d,m;for(const _ of this.args){if(d=_.evaluate(a),m=null,d instanceof Dn)return d;if(typeof d=="string"){const S=a.parseColor(d);if(S)return S}else if(Array.isArray(d)&&(m=d.length<3||d.length>4?`Invalid rbga value ${JSON.stringify(d)}: expected an array containing either three or four numeric values.`:Ya(d[0],d[1],d[2],d[3]),!m))return new Dn(d[0]/255,d[1]/255,d[2]/255,d[3])}throw new wi(m||`Could not parse color from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"padding":{let d;for(const m of this.args){d=m.evaluate(a);const _=Mo.parse(d);if(_)return _}throw new wi(`Could not parse padding from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"variableAnchorOffsetCollection":{let d;for(const m of this.args){d=m.evaluate(a);const _=qi.parse(d);if(_)return _}throw new wi(`Could not parse variableAnchorOffsetCollection from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"number":{let d=null;for(const m of this.args){if(d=m.evaluate(a),d===null)return 0;const _=Number(d);if(!isNaN(_))return _}throw new wi(`Could not convert ${JSON.stringify(d)} to number.`)}case"formatted":return Fn.fromString(li(this.args[0].evaluate(a)));case"resolvedImage":return pi.fromString(li(this.args[0].evaluate(a)));default:return li(this.args[0].evaluate(a))}}eachChild(a){this.args.forEach(a)}outputDefined(){return this.args.every(a=>a.outputDefined())}}const Zl=["Unknown","Point","LineString","Polygon"];class wo{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Zl[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(a){let d=this._parseColorCache[a];return d||(d=this._parseColorCache[a]=Dn.parse(a)),d}}class Ja{constructor(a,d,m=[],_,S=new Lt,E=[]){this.registry=a,this.path=m,this.key=m.map(M=>`[${M}]`).join(""),this.scope=S,this.errors=E,this.expectedType=_,this._isConstant=d}parse(a,d,m,_,S={}){return d?this.concat(d,m,_)._parse(a,S):this._parse(a,S)}_parse(a,d){function m(_,S,E){return E==="assert"?new Do(S,[_]):E==="coerce"?new $i(S,[_]):_}if(a!==null&&typeof a!="string"&&typeof a!="boolean"&&typeof a!="number"||(a=["literal",a]),Array.isArray(a)){if(a.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const _=a[0];if(typeof _!="string")return this.error(`Expression name must be a string, but found ${typeof _} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const S=this.registry[_];if(S){let E=S.parse(a,this);if(!E)return null;if(this.expectedType){const M=this.expectedType,F=E.type;if(M.kind!=="string"&&M.kind!=="number"&&M.kind!=="boolean"&&M.kind!=="object"&&M.kind!=="array"||F.kind!=="value")if(M.kind!=="color"&&M.kind!=="formatted"&&M.kind!=="resolvedImage"||F.kind!=="value"&&F.kind!=="string")if(M.kind!=="padding"||F.kind!=="value"&&F.kind!=="number"&&F.kind!=="array")if(M.kind!=="variableAnchorOffsetCollection"||F.kind!=="value"&&F.kind!=="array"){if(this.checkSubtype(M,F))return null}else E=m(E,M,d.typeAnnotation||"coerce");else E=m(E,M,d.typeAnnotation||"coerce");else E=m(E,M,d.typeAnnotation||"coerce");else E=m(E,M,d.typeAnnotation||"assert")}if(!(E instanceof la)&&E.type.kind!=="resolvedImage"&&this._isConstant(E)){const M=new wo;try{E=new la(E.type,E.evaluate(M))}catch(F){return this.error(F.message),null}}return E}return this.error(`Unknown expression "${_}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(a===void 0?"'undefined' value invalid. Use null instead.":typeof a=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof a} instead.`)}concat(a,d,m){const _=typeof a=="number"?this.path.concat(a):this.path,S=m?this.scope.concat(m):this.scope;return new Ja(this.registry,this._isConstant,_,d||null,S,this.errors)}error(a,...d){const m=`${this.key}${d.map(_=>`[${_}]`).join("")}`;this.errors.push(new Rt(m,a))}checkSubtype(a,d){const m=Re(a,d);return m&&this.error(m),m}}class Qa{constructor(a,d){this.type=d.type,this.bindings=[].concat(a),this.result=d}evaluate(a){return this.result.evaluate(a)}eachChild(a){for(const d of this.bindings)a(d[1]);a(this.result)}static parse(a,d){if(a.length<4)return d.error(`Expected at least 3 arguments, but found ${a.length-1} instead.`);const m=[];for(let S=1;S<a.length-1;S+=2){const E=a[S];if(typeof E!="string")return d.error(`Expected string, but found ${typeof E} instead.`,S);if(/[^a-zA-Z0-9_]/.test(E))return d.error("Variable names must contain only alphanumeric characters or '_'.",S);const M=d.parse(a[S+1],S+1);if(!M)return null;m.push([E,M])}const _=d.parse(a[a.length-1],a.length-1,d.expectedType,m);return _?new Qa(m,_):null}outputDefined(){return this.result.outputDefined()}}class kn{constructor(a,d){this.type=d.type,this.name=a,this.boundExpression=d}static parse(a,d){if(a.length!==2||typeof a[1]!="string")return d.error("'var' expression requires exactly one string literal argument.");const m=a[1];return d.scope.has(m)?new kn(m,d.scope.get(m)):d.error(`Unknown variable "${m}". Make sure "${m}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(a){return this.boundExpression.evaluate(a)}eachChild(){}outputDefined(){return!1}}class D{constructor(a,d,m){this.type=a,this.index=d,this.input=m}static parse(a,d){if(a.length!==3)return d.error(`Expected 2 arguments, but found ${a.length-1} instead.`);const m=d.parse(a[1],1,rt),_=d.parse(a[2],2,ae(d.expectedType||rr));return m&&_?new D(_.type.itemType,m,_):null}evaluate(a){const d=this.index.evaluate(a),m=this.input.evaluate(a);if(d<0)throw new wi(`Array index out of bounds: ${d} < 0.`);if(d>=m.length)throw new wi(`Array index out of bounds: ${d} > ${m.length-1}.`);if(d!==Math.floor(d))throw new wi(`Array index must be an integer, but found ${d} instead.`);return m[d]}eachChild(a){a(this.index),a(this.input)}outputDefined(){return!1}}class G{constructor(a,d){this.type=Vt,this.needle=a,this.haystack=d}static parse(a,d){if(a.length!==3)return d.error(`Expected 2 arguments, but found ${a.length-1} instead.`);const m=d.parse(a[1],1,rr),_=d.parse(a[2],2,rr);return m&&_?Je(m.type,[Vt,Qt,rt,Br,rr])?new G(m,_):d.error(`Expected first argument to be of type boolean, string, number or null, but found ${ce(m.type)} instead`):null}evaluate(a){const d=this.needle.evaluate(a),m=this.haystack.evaluate(a);if(!m)return!1;if(!nt(d,["boolean","string","number","null"]))throw new wi(`Expected first argument to be of type boolean, string, number or null, but found ${ce(ei(d))} instead.`);if(!nt(m,["string","array"]))throw new wi(`Expected second argument to be of type array or string, but found ${ce(ei(m))} instead.`);return m.indexOf(d)>=0}eachChild(a){a(this.needle),a(this.haystack)}outputDefined(){return!0}}class ye{constructor(a,d,m){this.type=rt,this.needle=a,this.haystack=d,this.fromIndex=m}static parse(a,d){if(a.length<=2||a.length>=5)return d.error(`Expected 3 or 4 arguments, but found ${a.length-1} instead.`);const m=d.parse(a[1],1,rr),_=d.parse(a[2],2,rr);if(!m||!_)return null;if(!Je(m.type,[Vt,Qt,rt,Br,rr]))return d.error(`Expected first argument to be of type boolean, string, number or null, but found ${ce(m.type)} instead`);if(a.length===4){const S=d.parse(a[3],3,rt);return S?new ye(m,_,S):null}return new ye(m,_)}evaluate(a){const d=this.needle.evaluate(a),m=this.haystack.evaluate(a);if(!nt(d,["boolean","string","number","null"]))throw new wi(`Expected first argument to be of type boolean, string, number or null, but found ${ce(ei(d))} instead.`);let _;if(this.fromIndex&&(_=this.fromIndex.evaluate(a)),nt(m,["string"])){const S=m.indexOf(d,_);return S===-1?-1:[...m.slice(0,S)].length}if(nt(m,["array"]))return m.indexOf(d,_);throw new wi(`Expected second argument to be of type array or string, but found ${ce(ei(m))} instead.`)}eachChild(a){a(this.needle),a(this.haystack),this.fromIndex&&a(this.fromIndex)}outputDefined(){return!1}}class ze{constructor(a,d,m,_,S,E){this.inputType=a,this.type=d,this.input=m,this.cases=_,this.outputs=S,this.otherwise=E}static parse(a,d){if(a.length<5)return d.error(`Expected at least 4 arguments, but found only ${a.length-1}.`);if(a.length%2!=1)return d.error("Expected an even number of arguments.");let m,_;d.expectedType&&d.expectedType.kind!=="value"&&(_=d.expectedType);const S={},E=[];for(let U=2;U<a.length-1;U+=2){let K=a[U];const Y=a[U+1];Array.isArray(K)||(K=[K]);const ue=d.concat(U);if(K.length===0)return ue.error("Expected at least one branch label.");for(const _e of K){if(typeof _e!="number"&&typeof _e!="string")return ue.error("Branch labels must be numbers or strings.");if(typeof _e=="number"&&Math.abs(_e)>Number.MAX_SAFE_INTEGER)return ue.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof _e=="number"&&Math.floor(_e)!==_e)return ue.error("Numeric branch labels must be integer values.");if(m){if(ue.checkSubtype(m,ei(_e)))return null}else m=ei(_e);if(S[String(_e)]!==void 0)return ue.error("Branch labels must be unique.");S[String(_e)]=E.length}const pe=d.parse(Y,U,_);if(!pe)return null;_=_||pe.type,E.push(pe)}const M=d.parse(a[1],1,rr);if(!M)return null;const F=d.parse(a[a.length-1],a.length-1,_);return F?M.type.kind!=="value"&&d.concat(1).checkSubtype(m,M.type)?null:new ze(m,_,M,S,E,F):null}evaluate(a){const d=this.input.evaluate(a);return(ei(d)===this.inputType&&this.outputs[this.cases[d]]||this.otherwise).evaluate(a)}eachChild(a){a(this.input),this.outputs.forEach(a),a(this.otherwise)}outputDefined(){return this.outputs.every(a=>a.outputDefined())&&this.otherwise.outputDefined()}}class et{constructor(a,d,m){this.type=a,this.branches=d,this.otherwise=m}static parse(a,d){if(a.length<4)return d.error(`Expected at least 3 arguments, but found only ${a.length-1}.`);if(a.length%2!=0)return d.error("Expected an odd number of arguments.");let m;d.expectedType&&d.expectedType.kind!=="value"&&(m=d.expectedType);const _=[];for(let E=1;E<a.length-1;E+=2){const M=d.parse(a[E],E,Vt);if(!M)return null;const F=d.parse(a[E+1],E+1,m);if(!F)return null;_.push([M,F]),m=m||F.type}const S=d.parse(a[a.length-1],a.length-1,m);if(!S)return null;if(!m)throw new Error("Can't infer output type");return new et(m,_,S)}evaluate(a){for(const[d,m]of this.branches)if(d.evaluate(a))return m.evaluate(a);return this.otherwise.evaluate(a)}eachChild(a){for(const[d,m]of this.branches)a(d),a(m);a(this.otherwise)}outputDefined(){return this.branches.every(([a,d])=>d.outputDefined())&&this.otherwise.outputDefined()}}class it{constructor(a,d,m,_){this.type=a,this.input=d,this.beginIndex=m,this.endIndex=_}static parse(a,d){if(a.length<=2||a.length>=5)return d.error(`Expected 3 or 4 arguments, but found ${a.length-1} instead.`);const m=d.parse(a[1],1,rr),_=d.parse(a[2],2,rt);if(!m||!_)return null;if(!Je(m.type,[ae(rr),Qt,rr]))return d.error(`Expected first argument to be of type array or string, but found ${ce(m.type)} instead`);if(a.length===4){const S=d.parse(a[3],3,rt);return S?new it(m.type,m,_,S):null}return new it(m.type,m,_)}evaluate(a){const d=this.input.evaluate(a),m=this.beginIndex.evaluate(a);let _;if(this.endIndex&&(_=this.endIndex.evaluate(a)),nt(d,["string"]))return[...d].slice(m,_).join("");if(nt(d,["array"]))return d.slice(m,_);throw new wi(`Expected first argument to be of type array or string, but found ${ce(ei(d))} instead.`)}eachChild(a){a(this.input),a(this.beginIndex),this.endIndex&&a(this.endIndex)}outputDefined(){return!1}}function dt(c,a){const d=c.length-1;let m,_,S=0,E=d,M=0;for(;S<=E;)if(M=Math.floor((S+E)/2),m=c[M],_=c[M+1],m<=a){if(M===d||a<_)return M;S=M+1}else{if(!(m>a))throw new wi("Input is not a number.");E=M-1}return 0}class Ut{constructor(a,d,m){this.type=a,this.input=d,this.labels=[],this.outputs=[];for(const[_,S]of m)this.labels.push(_),this.outputs.push(S)}static parse(a,d){if(a.length-1<4)return d.error(`Expected at least 4 arguments, but found only ${a.length-1}.`);if((a.length-1)%2!=0)return d.error("Expected an even number of arguments.");const m=d.parse(a[1],1,rt);if(!m)return null;const _=[];let S=null;d.expectedType&&d.expectedType.kind!=="value"&&(S=d.expectedType);for(let E=1;E<a.length;E+=2){const M=E===1?-1/0:a[E],F=a[E+1],U=E,K=E+1;if(typeof M!="number")return d.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',U);if(_.length&&_[_.length-1][0]>=M)return d.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',U);const Y=d.parse(F,K,S);if(!Y)return null;S=S||Y.type,_.push([M,Y])}return new Ut(S,m,_)}evaluate(a){const d=this.labels,m=this.outputs;if(d.length===1)return m[0].evaluate(a);const _=this.input.evaluate(a);if(_<=d[0])return m[0].evaluate(a);const S=d.length;return _>=d[S-1]?m[S-1].evaluate(a):m[dt(d,_)].evaluate(a)}eachChild(a){a(this.input);for(const d of this.outputs)a(d)}outputDefined(){return this.outputs.every(a=>a.outputDefined())}}function Wt(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var sr=ar;function ar(c,a,d,m){this.cx=3*c,this.bx=3*(d-c)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*a,this.by=3*(m-a)-this.cy,this.ay=1-this.cy-this.by,this.p1x=c,this.p1y=a,this.p2x=d,this.p2y=m}ar.prototype={sampleCurveX:function(c){return((this.ax*c+this.bx)*c+this.cx)*c},sampleCurveY:function(c){return((this.ay*c+this.by)*c+this.cy)*c},sampleCurveDerivativeX:function(c){return(3*this.ax*c+2*this.bx)*c+this.cx},solveCurveX:function(c,a){if(a===void 0&&(a=1e-6),c<0)return 0;if(c>1)return 1;for(var d=c,m=0;m<8;m++){var _=this.sampleCurveX(d)-c;if(Math.abs(_)<a)return d;var S=this.sampleCurveDerivativeX(d);if(Math.abs(S)<1e-6)break;d-=_/S}var E=0,M=1;for(d=c,m=0;m<20&&(_=this.sampleCurveX(d),!(Math.abs(_-c)<a));m++)c>_?E=d:M=d,d=.5*(M-E)+E;return d},solve:function(c,a){return this.sampleCurveY(this.solveCurveX(c,a))}};var nr=Wt(sr);function wr(c,a,d){return c+d*(a-c)}function Kn(c,a,d){return c.map((m,_)=>wr(m,a[_],d))}const Fr={number:wr,color:function(c,a,d,m="rgb"){switch(m){case"rgb":{const[_,S,E,M]=Kn(c.rgb,a.rgb,d);return new Dn(_,S,E,M,!1)}case"hcl":{const[_,S,E,M]=c.hcl,[F,U,K,Y]=a.hcl;let ue,pe;if(isNaN(_)||isNaN(F))isNaN(_)?isNaN(F)?ue=NaN:(ue=F,E!==1&&E!==0||(pe=U)):(ue=_,K!==1&&K!==0||(pe=S));else{let vt=F-_;F>_&&vt>180?vt-=360:F<_&&_-F>180&&(vt+=360),ue=_+d*vt}const[_e,Pe,Be,We]=function([vt,at,ft,At]){return vt=isNaN(vt)?0:vt*mr,Tr([ft,Math.cos(vt)*at,Math.sin(vt)*at,At])}([ue,pe??wr(S,U,d),wr(E,K,d),wr(M,Y,d)]);return new Dn(_e,Pe,Be,We,!1)}case"lab":{const[_,S,E,M]=Tr(Kn(c.lab,a.lab,d));return new Dn(_,S,E,M,!1)}}},array:Kn,padding:function(c,a,d){return new Mo(Kn(c.values,a.values,d))},variableAnchorOffsetCollection:function(c,a,d){const m=c.values,_=a.values;if(m.length!==_.length)throw new wi(`Cannot interpolate values of different length. from: ${c.toString()}, to: ${a.toString()}`);const S=[];for(let E=0;E<m.length;E+=2){if(m[E]!==_[E])throw new wi(`Cannot interpolate values containing mismatched anchors. from[${E}]: ${m[E]}, to[${E}]: ${_[E]}`);S.push(m[E]);const[M,F]=m[E+1],[U,K]=_[E+1];S.push([wr(M,U,d),wr(F,K,d)])}return new qi(S)}};class fr{constructor(a,d,m,_,S){this.type=a,this.operator=d,this.interpolation=m,this.input=_,this.labels=[],this.outputs=[];for(const[E,M]of S)this.labels.push(E),this.outputs.push(M)}static interpolationFactor(a,d,m,_){let S=0;if(a.name==="exponential")S=Nt(d,a.base,m,_);else if(a.name==="linear")S=Nt(d,1,m,_);else if(a.name==="cubic-bezier"){const E=a.controlPoints;S=new nr(E[0],E[1],E[2],E[3]).solve(Nt(d,1,m,_))}return S}static parse(a,d){let[m,_,S,...E]=a;if(!Array.isArray(_)||_.length===0)return d.error("Expected an interpolation type expression.",1);if(_[0]==="linear")_={name:"linear"};else if(_[0]==="exponential"){const U=_[1];if(typeof U!="number")return d.error("Exponential interpolation requires a numeric base.",1,1);_={name:"exponential",base:U}}else{if(_[0]!=="cubic-bezier")return d.error(`Unknown interpolation type ${String(_[0])}`,1,0);{const U=_.slice(1);if(U.length!==4||U.some(K=>typeof K!="number"||K<0||K>1))return d.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);_={name:"cubic-bezier",controlPoints:U}}}if(a.length-1<4)return d.error(`Expected at least 4 arguments, but found only ${a.length-1}.`);if((a.length-1)%2!=0)return d.error("Expected an even number of arguments.");if(S=d.parse(S,2,rt),!S)return null;const M=[];let F=null;m==="interpolate-hcl"||m==="interpolate-lab"?F=xr:d.expectedType&&d.expectedType.kind!=="value"&&(F=d.expectedType);for(let U=0;U<E.length;U+=2){const K=E[U],Y=E[U+1],ue=U+3,pe=U+4;if(typeof K!="number")return d.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ue);if(M.length&&M[M.length-1][0]>=K)return d.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',ue);const _e=d.parse(Y,pe,F);if(!_e)return null;F=F||_e.type,M.push([K,_e])}return Ye(F,rt)||Ye(F,xr)||Ye(F,_i)||Ye(F,Ne)||Ye(F,ae(rt))?new fr(F,m,_,S,M):d.error(`Type ${ce(F)} is not interpolatable.`)}evaluate(a){const d=this.labels,m=this.outputs;if(d.length===1)return m[0].evaluate(a);const _=this.input.evaluate(a);if(_<=d[0])return m[0].evaluate(a);const S=d.length;if(_>=d[S-1])return m[S-1].evaluate(a);const E=dt(d,_),M=fr.interpolationFactor(this.interpolation,_,d[E],d[E+1]),F=m[E].evaluate(a),U=m[E+1].evaluate(a);switch(this.operator){case"interpolate":return Fr[this.type.kind](F,U,M);case"interpolate-hcl":return Fr.color(F,U,M,"hcl");case"interpolate-lab":return Fr.color(F,U,M,"lab")}}eachChild(a){a(this.input);for(const d of this.outputs)a(d)}outputDefined(){return this.outputs.every(a=>a.outputDefined())}}function Nt(c,a,d,m){const _=m-d,S=c-d;return _===0?0:a===1?S/_:(Math.pow(a,S)-1)/(Math.pow(a,_)-1)}class Sr{constructor(a,d){this.type=a,this.args=d}static parse(a,d){if(a.length<2)return d.error("Expectected at least one argument.");let m=null;const _=d.expectedType;_&&_.kind!=="value"&&(m=_);const S=[];for(const M of a.slice(1)){const F=d.parse(M,1+S.length,m,void 0,{typeAnnotation:"omit"});if(!F)return null;m=m||F.type,S.push(F)}if(!m)throw new Error("No output type");const E=_&&S.some(M=>Re(_,M.type));return new Sr(E?rr:m,S)}evaluate(a){let d,m=null,_=0;for(const S of this.args)if(_++,m=S.evaluate(a),m&&m instanceof pi&&!m.available&&(d||(d=m.name),m=null,_===this.args.length&&(m=d)),m!==null)break;return m}eachChild(a){this.args.forEach(a)}outputDefined(){return this.args.every(a=>a.outputDefined())}}function xn(c,a){return c==="=="||c==="!="?a.kind==="boolean"||a.kind==="string"||a.kind==="number"||a.kind==="null"||a.kind==="value":a.kind==="string"||a.kind==="number"||a.kind==="value"}function Bi(c,a,d,m){return m.compare(a,d)===0}function ti(c,a,d){const m=c!=="=="&&c!=="!=";return class aN{constructor(S,E,M){this.type=Vt,this.lhs=S,this.rhs=E,this.collator=M,this.hasUntypedArgument=S.type.kind==="value"||E.type.kind==="value"}static parse(S,E){if(S.length!==3&&S.length!==4)return E.error("Expected two or three arguments.");const M=S[0];let F=E.parse(S[1],1,rr);if(!F)return null;if(!xn(M,F.type))return E.concat(1).error(`"${M}" comparisons are not supported for type '${ce(F.type)}'.`);let U=E.parse(S[2],2,rr);if(!U)return null;if(!xn(M,U.type))return E.concat(2).error(`"${M}" comparisons are not supported for type '${ce(U.type)}'.`);if(F.type.kind!==U.type.kind&&F.type.kind!=="value"&&U.type.kind!=="value")return E.error(`Cannot compare types '${ce(F.type)}' and '${ce(U.type)}'.`);m&&(F.type.kind==="value"&&U.type.kind!=="value"?F=new Do(U.type,[F]):F.type.kind!=="value"&&U.type.kind==="value"&&(U=new Do(F.type,[U])));let K=null;if(S.length===4){if(F.type.kind!=="string"&&U.type.kind!=="string"&&F.type.kind!=="value"&&U.type.kind!=="value")return E.error("Cannot use collator to compare non-string types.");if(K=E.parse(S[3],3,ni),!K)return null}return new aN(F,U,K)}evaluate(S){const E=this.lhs.evaluate(S),M=this.rhs.evaluate(S);if(m&&this.hasUntypedArgument){const F=ei(E),U=ei(M);if(F.kind!==U.kind||F.kind!=="string"&&F.kind!=="number")throw new wi(`Expected arguments for "${c}" to be (string, string) or (number, number), but found (${F.kind}, ${U.kind}) instead.`)}if(this.collator&&!m&&this.hasUntypedArgument){const F=ei(E),U=ei(M);if(F.kind!=="string"||U.kind!=="string")return a(S,E,M)}return this.collator?d(S,E,M,this.collator.evaluate(S)):a(S,E,M)}eachChild(S){S(this.lhs),S(this.rhs),this.collator&&S(this.collator)}outputDefined(){return!0}}}const pl=ti("==",function(c,a,d){return a===d},Bi),Iu=ti("!=",function(c,a,d){return a!==d},function(c,a,d,m){return!Bi(0,a,d,m)}),ri=ti("<",function(c,a,d){return a<d},function(c,a,d,m){return m.compare(a,d)<0}),Kc=ti(">",function(c,a,d){return a>d},function(c,a,d,m){return m.compare(a,d)>0}),qh=ti("<=",function(c,a,d){return a<=d},function(c,a,d,m){return m.compare(a,d)<=0}),ua=ti(">=",function(c,a,d){return a>=d},function(c,a,d,m){return m.compare(a,d)>=0});class Oa{constructor(a,d,m){this.type=ni,this.locale=m,this.caseSensitive=a,this.diacriticSensitive=d}static parse(a,d){if(a.length!==2)return d.error("Expected one argument.");const m=a[1];if(typeof m!="object"||Array.isArray(m))return d.error("Collator options argument must be an object.");const _=d.parse(m["case-sensitive"]!==void 0&&m["case-sensitive"],1,Vt);if(!_)return null;const S=d.parse(m["diacritic-sensitive"]!==void 0&&m["diacritic-sensitive"],1,Vt);if(!S)return null;let E=null;return m.locale&&(E=d.parse(m.locale,1,Qt),!E)?null:new Oa(_,S,E)}evaluate(a){return new Wl(this.caseSensitive.evaluate(a),this.diacriticSensitive.evaluate(a),this.locale?this.locale.evaluate(a):null)}eachChild(a){a(this.caseSensitive),a(this.diacriticSensitive),this.locale&&a(this.locale)}outputDefined(){return!1}}class es{constructor(a,d,m,_,S){this.type=Qt,this.number=a,this.locale=d,this.currency=m,this.minFractionDigits=_,this.maxFractionDigits=S}static parse(a,d){if(a.length!==3)return d.error("Expected two arguments.");const m=d.parse(a[1],1,rt);if(!m)return null;const _=a[2];if(typeof _!="object"||Array.isArray(_))return d.error("NumberFormat options argument must be an object.");let S=null;if(_.locale&&(S=d.parse(_.locale,1,Qt),!S))return null;let E=null;if(_.currency&&(E=d.parse(_.currency,1,Qt),!E))return null;let M=null;if(_["min-fraction-digits"]&&(M=d.parse(_["min-fraction-digits"],1,rt),!M))return null;let F=null;return _["max-fraction-digits"]&&(F=d.parse(_["max-fraction-digits"],1,rt),!F)?null:new es(m,S,E,M,F)}evaluate(a){return new Intl.NumberFormat(this.locale?this.locale.evaluate(a):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(a):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(a):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(a):void 0}).format(this.number.evaluate(a))}eachChild(a){a(this.number),this.locale&&a(this.locale),this.currency&&a(this.currency),this.minFractionDigits&&a(this.minFractionDigits),this.maxFractionDigits&&a(this.maxFractionDigits)}outputDefined(){return!1}}class Yl{constructor(a){this.type=Nn,this.sections=a}static parse(a,d){if(a.length<2)return d.error("Expected at least one argument.");const m=a[1];if(!Array.isArray(m)&&typeof m=="object")return d.error("First argument must be an image or text section.");const _=[];let S=!1;for(let E=1;E<=a.length-1;++E){const M=a[E];if(S&&typeof M=="object"&&!Array.isArray(M)){S=!1;let F=null;if(M["font-scale"]&&(F=d.parse(M["font-scale"],1,rt),!F))return null;let U=null;if(M["text-font"]&&(U=d.parse(M["text-font"],1,ae(Qt)),!U))return null;let K=null;if(M["text-color"]&&(K=d.parse(M["text-color"],1,xr),!K))return null;const Y=_[_.length-1];Y.scale=F,Y.font=U,Y.textColor=K}else{const F=d.parse(a[E],1,rr);if(!F)return null;const U=F.type.kind;if(U!=="string"&&U!=="value"&&U!=="null"&&U!=="resolvedImage")return d.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");S=!0,_.push({content:F,scale:null,font:null,textColor:null})}}return new Yl(_)}evaluate(a){return new Fn(this.sections.map(d=>{const m=d.content.evaluate(a);return ei(m)===Bn?new bs("",m,null,null,null):new bs(li(m),null,d.scale?d.scale.evaluate(a):null,d.font?d.font.evaluate(a).join(","):null,d.textColor?d.textColor.evaluate(a):null)}))}eachChild(a){for(const d of this.sections)a(d.content),d.scale&&a(d.scale),d.font&&a(d.font),d.textColor&&a(d.textColor)}outputDefined(){return!1}}class ts{constructor(a){this.type=Bn,this.input=a}static parse(a,d){if(a.length!==2)return d.error("Expected two arguments.");const m=d.parse(a[1],1,Qt);return m?new ts(m):d.error("No image name provided.")}evaluate(a){const d=this.input.evaluate(a),m=pi.fromString(d);return m&&a.availableImages&&(m.available=a.availableImages.indexOf(d)>-1),m}eachChild(a){a(this.input)}outputDefined(){return!1}}class ml{constructor(a){this.type=rt,this.input=a}static parse(a,d){if(a.length!==2)return d.error(`Expected 1 argument, but found ${a.length-1} instead.`);const m=d.parse(a[1],1);return m?m.type.kind!=="array"&&m.type.kind!=="string"&&m.type.kind!=="value"?d.error(`Expected argument of type string or array, but found ${ce(m.type)} instead.`):new ml(m):null}evaluate(a){const d=this.input.evaluate(a);if(typeof d=="string")return[...d].length;if(Array.isArray(d))return d.length;throw new wi(`Expected value to be of type string or array, but found ${ce(ei(d))} instead.`)}eachChild(a){a(this.input)}outputDefined(){return!1}}const Ro=8192;function Zc(c,a){const d=(180+c[0])/360,m=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+c[1]*Math.PI/360)))/360,_=Math.pow(2,a.z);return[Math.round(d*_*Ro),Math.round(m*_*Ro)]}function Lu(c,a){const d=Math.pow(2,a.z);return[(_=(c[0]/Ro+a.x)/d,360*_-180),(m=(c[1]/Ro+a.y)/d,360/Math.PI*Math.atan(Math.exp((180-360*m)*Math.PI/180))-90)];var m,_}function _s(c,a){c[0]=Math.min(c[0],a[0]),c[1]=Math.min(c[1],a[1]),c[2]=Math.max(c[2],a[0]),c[3]=Math.max(c[3],a[1])}function Na(c,a){return!(c[0]<=a[0]||c[2]>=a[2]||c[1]<=a[1]||c[3]>=a[3])}function wn(c,a,d){const m=c[0]-a[0],_=c[1]-a[1],S=c[0]-d[0],E=c[1]-d[1];return m*E-S*_==0&&m*S<=0&&_*E<=0}function Fa(c,a,d,m){return(_=[m[0]-d[0],m[1]-d[1]])[0]*(S=[a[0]-c[0],a[1]-c[1]])[1]-_[1]*S[0]!=0&&!(!Aa(c,a,d,m)||!Aa(d,m,c,a));var _,S}function Hh(c,a,d){for(const m of d)for(let _=0;_<m.length-1;++_)if(Fa(c,a,m[_],m[_+1]))return!0;return!1}function Ca(c,a,d=!1){let m=!1;for(const M of a)for(let F=0;F<M.length-1;F++){if(wn(c,M[F],M[F+1]))return d;(S=M[F])[1]>(_=c)[1]!=(E=M[F+1])[1]>_[1]&&_[0]<(E[0]-S[0])*(_[1]-S[1])/(E[1]-S[1])+S[0]&&(m=!m)}var _,S,E;return m}function ca(c,a){for(const d of a)if(Ca(c,d))return!0;return!1}function gl(c,a){for(const d of c)if(!Ca(d,a))return!1;for(let d=0;d<c.length-1;++d)if(Hh(c[d],c[d+1],a))return!1;return!0}function yl(c,a){for(const d of a)if(gl(c,d))return!0;return!1}function Aa(c,a,d,m){const _=m[0]-d[0],S=m[1]-d[1],E=(c[0]-d[0])*S-_*(c[1]-d[1]),M=(a[0]-d[0])*S-_*(a[1]-d[1]);return E>0&&M<0||E<0&&M>0}function Ks(c,a,d){const m=[];for(let _=0;_<c.length;_++){const S=[];for(let E=0;E<c[_].length;E++){const M=Zc(c[_][E],d);_s(a,M),S.push(M)}m.push(S)}return m}function fc(c,a,d){const m=[];for(let _=0;_<c.length;_++){const S=Ks(c[_],a,d);m.push(S)}return m}function Mu(c,a,d,m){if(c[0]<d[0]||c[0]>d[2]){const _=.5*m;let S=c[0]-d[0]>_?-m:d[0]-c[0]>_?m:0;S===0&&(S=c[0]-d[2]>_?-m:d[2]-c[0]>_?m:0),c[0]+=S}_s(a,c)}function Jl(c,a,d,m){const _=Math.pow(2,m.z)*Ro,S=[m.x*Ro,m.y*Ro],E=[];for(const M of c)for(const F of M){const U=[F.x+S[0],F.y+S[1]];Mu(U,a,d,_),E.push(U)}return E}function vl(c,a,d,m){const _=Math.pow(2,m.z)*Ro,S=[m.x*Ro,m.y*Ro],E=[];for(const F of c){const U=[];for(const K of F){const Y=[K.x+S[0],K.y+S[1]];_s(a,Y),U.push(Y)}E.push(U)}if(a[2]-a[0]<=_/2){(M=a)[0]=M[1]=1/0,M[2]=M[3]=-1/0;for(const F of E)for(const U of F)Mu(U,a,d,_)}var M;return E}class Ea{constructor(a,d){this.type=Vt,this.geojson=a,this.geometries=d}static parse(a,d){if(a.length!==2)return d.error(`'within' expression requires exactly one argument, but found ${a.length-1} instead.`);if(fo(a[1])){const m=a[1];if(m.type==="FeatureCollection"){const _=[];for(const S of m.features){const{type:E,coordinates:M}=S.geometry;E==="Polygon"&&_.push(M),E==="MultiPolygon"&&_.push(...M)}if(_.length)return new Ea(m,{type:"MultiPolygon",coordinates:_})}else if(m.type==="Feature"){const _=m.geometry.type;if(_==="Polygon"||_==="MultiPolygon")return new Ea(m,m.geometry)}else if(m.type==="Polygon"||m.type==="MultiPolygon")return new Ea(m,m)}return d.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(a){if(a.geometry()!=null&&a.canonicalID()!=null){if(a.geometryType()==="Point")return function(d,m){const _=[1/0,1/0,-1/0,-1/0],S=[1/0,1/0,-1/0,-1/0],E=d.canonicalID();if(m.type==="Polygon"){const M=Ks(m.coordinates,S,E),F=Jl(d.geometry(),_,S,E);if(!Na(_,S))return!1;for(const U of F)if(!Ca(U,M))return!1}if(m.type==="MultiPolygon"){const M=fc(m.coordinates,S,E),F=Jl(d.geometry(),_,S,E);if(!Na(_,S))return!1;for(const U of F)if(!ca(U,M))return!1}return!0}(a,this.geometries);if(a.geometryType()==="LineString")return function(d,m){const _=[1/0,1/0,-1/0,-1/0],S=[1/0,1/0,-1/0,-1/0],E=d.canonicalID();if(m.type==="Polygon"){const M=Ks(m.coordinates,S,E),F=vl(d.geometry(),_,S,E);if(!Na(_,S))return!1;for(const U of F)if(!gl(U,M))return!1}if(m.type==="MultiPolygon"){const M=fc(m.coordinates,S,E),F=vl(d.geometry(),_,S,E);if(!Na(_,S))return!1;for(const U of F)if(!yl(U,M))return!1}return!0}(a,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let Ql=class{constructor(c=[],a=(d,m)=>d<m?-1:d>m?1:0){if(this.data=c,this.length=this.data.length,this.compare=a,this.length>0)for(let d=(this.length>>1)-1;d>=0;d--)this._down(d)}push(c){this.data.push(c),this._up(this.length++)}pop(){if(this.length===0)return;const c=this.data[0],a=this.data.pop();return--this.length>0&&(this.data[0]=a,this._down(0)),c}peek(){return this.data[0]}_up(c){const{data:a,compare:d}=this,m=a[c];for(;c>0;){const _=c-1>>1,S=a[_];if(d(m,S)>=0)break;a[c]=S,c=_}a[c]=m}_down(c){const{data:a,compare:d}=this,m=this.length>>1,_=a[c];for(;c<m;){let S=1+(c<<1);const E=S+1;if(E<this.length&&d(a[E],a[S])<0&&(S=E),d(a[S],_)>=0)break;a[c]=a[S],c=S}a[c]=_}};function pc(c,a,d,m,_){rs(c,a,d,m||c.length-1,_||Du)}function rs(c,a,d,m,_){for(;m>d;){if(m-d>600){var S=m-d+1,E=a-d+1,M=Math.log(S),F=.5*Math.exp(2*M/3),U=.5*Math.sqrt(M*F*(S-F)/S)*(E-S/2<0?-1:1);rs(c,a,Math.max(d,Math.floor(a-E*F/S+U)),Math.min(m,Math.floor(a+(S-E)*F/S+U)),_)}var K=c[a],Y=d,ue=m;for(bl(c,d,a),_(c[m],K)>0&&bl(c,d,m);Y<ue;){for(bl(c,Y,ue),Y++,ue--;_(c[Y],K)<0;)Y++;for(;_(c[ue],K)>0;)ue--}_(c[d],K)===0?bl(c,d,ue):bl(c,++ue,m),ue<=a&&(d=ue+1),a<=ue&&(m=ue-1)}}function bl(c,a,d){var m=c[a];c[a]=c[d],c[d]=m}function Du(c,a){return c<a?-1:c>a?1:0}function xs(c,a){if(c.length<=1)return[c];const d=[];let m,_;for(const S of c){const E=$a(S);E!==0&&(S.area=Math.abs(E),_===void 0&&(_=E<0),_===E<0?(m&&d.push(m),m=[S]):m.push(S))}if(m&&d.push(m),a>1)for(let S=0;S<d.length;S++)d[S].length<=a||(pc(d[S],a,1,d[S].length-1,eu),d[S]=d[S].slice(0,a));return d}function eu(c,a){return a.area-c.area}function $a(c){let a=0;for(let d,m,_=0,S=c.length,E=S-1;_<S;E=_++)d=c[_],m=c[E],a+=(m.x-d.x)*(d.y+m.y);return a}const _l=1/298.257223563,$=_l*(2-_l),fe=Math.PI/180;class $e{constructor(a){const d=6378.137*fe*1e3,m=Math.cos(a*fe),_=1/(1-$*(1-m*m)),S=Math.sqrt(_);this.kx=d*S*m,this.ky=d*S*_*(1-$)}distance(a,d){const m=this.wrap(a[0]-d[0])*this.kx,_=(a[1]-d[1])*this.ky;return Math.sqrt(m*m+_*_)}pointOnLine(a,d){let m,_,S,E,M=1/0;for(let F=0;F<a.length-1;F++){let U=a[F][0],K=a[F][1],Y=this.wrap(a[F+1][0]-U)*this.kx,ue=(a[F+1][1]-K)*this.ky,pe=0;Y===0&&ue===0||(pe=(this.wrap(d[0]-U)*this.kx*Y+(d[1]-K)*this.ky*ue)/(Y*Y+ue*ue),pe>1?(U=a[F+1][0],K=a[F+1][1]):pe>0&&(U+=Y/this.kx*pe,K+=ue/this.ky*pe)),Y=this.wrap(d[0]-U)*this.kx,ue=(d[1]-K)*this.ky;const _e=Y*Y+ue*ue;_e<M&&(M=_e,m=U,_=K,S=F,E=pe)}return{point:[m,_],index:S,t:Math.max(0,Math.min(1,E))}}wrap(a){for(;a<-180;)a+=360;for(;a>180;)a-=360;return a}}function ot(c,a){return a[0]-c[0]}function yt(c){return c[1]-c[0]+1}function Tt(c,a){return c[1]>=c[0]&&c[1]<a}function Zt(c,a){if(c[0]>c[1])return[null,null];const d=yt(c);if(a){if(d===2)return[c,null];const _=Math.floor(d/2);return[[c[0],c[0]+_],[c[0]+_,c[1]]]}if(d===1)return[c,null];const m=Math.floor(d/2)-1;return[[c[0],c[0]+m],[c[0]+m+1,c[1]]]}function gr(c,a){if(!Tt(a,c.length))return[1/0,1/0,-1/0,-1/0];const d=[1/0,1/0,-1/0,-1/0];for(let m=a[0];m<=a[1];++m)_s(d,c[m]);return d}function Ur(c){const a=[1/0,1/0,-1/0,-1/0];for(const d of c)for(const m of d)_s(a,m);return a}function cn(c){return c[0]!==-1/0&&c[1]!==-1/0&&c[2]!==1/0&&c[3]!==1/0}function hn(c,a,d){if(!cn(c)||!cn(a))return NaN;let m=0,_=0;return c[2]<a[0]&&(m=a[0]-c[2]),c[0]>a[2]&&(m=c[0]-a[2]),c[1]>a[3]&&(_=c[1]-a[3]),c[3]<a[1]&&(_=a[1]-c[3]),d.distance([0,0],[m,_])}function dn(c,a,d){const m=d.pointOnLine(a,c);return d.distance(c,m.point)}function zn(c,a,d,m,_){const S=Math.min(dn(c,[d,m],_),dn(a,[d,m],_)),E=Math.min(dn(d,[c,a],_),dn(m,[c,a],_));return Math.min(S,E)}function mi(c,a,d,m,_){if(!Tt(a,c.length)||!Tt(m,d.length))return 1/0;let S=1/0;for(let E=a[0];E<a[1];++E){const M=c[E],F=c[E+1];for(let U=m[0];U<m[1];++U){const K=d[U],Y=d[U+1];if(Fa(M,F,K,Y))return 0;S=Math.min(S,zn(M,F,K,Y,_))}}return S}function fn(c,a,d,m,_){if(!Tt(a,c.length)||!Tt(m,d.length))return NaN;let S=1/0;for(let E=a[0];E<=a[1];++E)for(let M=m[0];M<=m[1];++M)if(S=Math.min(S,_.distance(c[E],d[M])),S===0)return S;return S}function Oo(c,a,d){if(Ca(c,a,!0))return 0;let m=1/0;for(const _ of a){const S=_[0],E=_[_.length-1];if(S!==E&&(m=Math.min(m,dn(c,[E,S],d)),m===0))return m;const M=d.pointOnLine(_,c);if(m=Math.min(m,d.distance(c,M.point)),m===0)return m}return m}function Or(c,a,d,m){if(!Tt(a,c.length))return NaN;for(let S=a[0];S<=a[1];++S)if(Ca(c[S],d,!0))return 0;let _=1/0;for(let S=a[0];S<a[1];++S){const E=c[S],M=c[S+1];for(const F of d)for(let U=0,K=F.length,Y=K-1;U<K;Y=U++){const ue=F[Y],pe=F[U];if(Fa(E,M,ue,pe))return 0;_=Math.min(_,zn(E,M,ue,pe,m))}}return _}function po(c,a){for(const d of c)for(const m of d)if(Ca(m,a,!0))return!0;return!1}function An(c,a,d,m=1/0){const _=Ur(c),S=Ur(a);if(m!==1/0&&hn(_,S,d)>=m)return m;if(Na(_,S)){if(po(c,a))return 0}else if(po(a,c))return 0;let E=1/0;for(const M of c)for(let F=0,U=M.length,K=U-1;F<U;K=F++){const Y=M[K],ue=M[F];for(const pe of a)for(let _e=0,Pe=pe.length,Be=Pe-1;_e<Pe;Be=_e++){const We=pe[Be],vt=pe[_e];if(Fa(Y,ue,We,vt))return 0;E=Math.min(E,zn(Y,ue,We,vt,d))}}return E}function In(c,a,d,m,_,S){if(!S)return;const E=hn(gr(m,S),_,d);E<a&&c.push([E,S,[0,0]])}function ws(c,a,d,m,_,S,E){if(!S||!E)return;const M=hn(gr(m,S),gr(_,E),d);M<a&&c.push([M,S,E])}function Zs(c,a,d,m,_=1/0){let S=Math.min(m.distance(c[0],d[0][0]),_);if(S===0)return S;const E=new Ql([[0,[0,c.length-1],[0,0]]],ot),M=Ur(d);for(;E.length>0;){const F=E.pop();if(F[0]>=S)continue;const U=F[1],K=a?50:100;if(yt(U)<=K){if(!Tt(U,c.length))return NaN;if(a){const Y=Or(c,U,d,m);if(isNaN(Y)||Y===0)return Y;S=Math.min(S,Y)}else for(let Y=U[0];Y<=U[1];++Y){const ue=Oo(c[Y],d,m);if(S=Math.min(S,ue),S===0)return 0}}else{const Y=Zt(U,a);In(E,S,m,c,M,Y[0]),In(E,S,m,c,M,Y[1])}}return S}function Ss(c,a,d,m,_,S=1/0){let E=Math.min(S,_.distance(c[0],d[0]));if(E===0)return E;const M=new Ql([[0,[0,c.length-1],[0,d.length-1]]],ot);for(;M.length>0;){const F=M.pop();if(F[0]>=E)continue;const U=F[1],K=F[2],Y=a?50:100,ue=m?50:100;if(yt(U)<=Y&&yt(K)<=ue){if(!Tt(U,c.length)&&Tt(K,d.length))return NaN;let pe;if(a&&m)pe=mi(c,U,d,K,_),E=Math.min(E,pe);else if(a&&!m){const _e=c.slice(U[0],U[1]+1);for(let Pe=K[0];Pe<=K[1];++Pe)if(pe=dn(d[Pe],_e,_),E=Math.min(E,pe),E===0)return E}else if(!a&&m){const _e=d.slice(K[0],K[1]+1);for(let Pe=U[0];Pe<=U[1];++Pe)if(pe=dn(c[Pe],_e,_),E=Math.min(E,pe),E===0)return E}else pe=fn(c,U,d,K,_),E=Math.min(E,pe)}else{const pe=Zt(U,a),_e=Zt(K,m);ws(M,E,_,c,d,pe[0],_e[0]),ws(M,E,_,c,d,pe[0],_e[1]),ws(M,E,_,c,d,pe[1],_e[0]),ws(M,E,_,c,d,pe[1],_e[1])}}return E}function Ys(c){return c.type==="MultiPolygon"?c.coordinates.map(a=>({type:"Polygon",coordinates:a})):c.type==="MultiLineString"?c.coordinates.map(a=>({type:"LineString",coordinates:a})):c.type==="MultiPoint"?c.coordinates.map(a=>({type:"Point",coordinates:a})):[c]}class ha{constructor(a,d){this.type=rt,this.geojson=a,this.geometries=d}static parse(a,d){if(a.length!==2)return d.error(`'distance' expression requires exactly one argument, but found ${a.length-1} instead.`);if(fo(a[1])){const m=a[1];if(m.type==="FeatureCollection")return new ha(m,m.features.map(_=>Ys(_.geometry)).flat());if(m.type==="Feature")return new ha(m,Ys(m.geometry));if("type"in m&&"coordinates"in m)return new ha(m,Ys(m))}return d.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(a){if(a.geometry()!=null&&a.canonicalID()!=null){if(a.geometryType()==="Point")return function(d,m){const _=d.geometry(),S=_.flat().map(F=>Lu([F.x,F.y],d.canonical));if(_.length===0)return NaN;const E=new $e(S[0][1]);let M=1/0;for(const F of m){switch(F.type){case"Point":M=Math.min(M,Ss(S,!1,[F.coordinates],!1,E,M));break;case"LineString":M=Math.min(M,Ss(S,!1,F.coordinates,!0,E,M));break;case"Polygon":M=Math.min(M,Zs(S,!1,F.coordinates,E,M))}if(M===0)return M}return M}(a,this.geometries);if(a.geometryType()==="LineString")return function(d,m){const _=d.geometry(),S=_.flat().map(F=>Lu([F.x,F.y],d.canonical));if(_.length===0)return NaN;const E=new $e(S[0][1]);let M=1/0;for(const F of m){switch(F.type){case"Point":M=Math.min(M,Ss(S,!0,[F.coordinates],!1,E,M));break;case"LineString":M=Math.min(M,Ss(S,!0,F.coordinates,!0,E,M));break;case"Polygon":M=Math.min(M,Zs(S,!0,F.coordinates,E,M))}if(M===0)return M}return M}(a,this.geometries);if(a.geometryType()==="Polygon")return function(d,m){const _=d.geometry();if(_.length===0||_[0].length===0)return NaN;const S=xs(_,0).map(F=>F.map(U=>U.map(K=>Lu([K.x,K.y],d.canonical)))),E=new $e(S[0][0][0][1]);let M=1/0;for(const F of m)for(const U of S){switch(F.type){case"Point":M=Math.min(M,Zs([F.coordinates],!1,U,E,M));break;case"LineString":M=Math.min(M,Zs(F.coordinates,!0,U,E,M));break;case"Polygon":M=Math.min(M,An(U,F.coordinates,E,M))}if(M===0)return M}return M}(a,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}const Ko={"==":pl,"!=":Iu,">":Kc,"<":ri,">=":ua,"<=":qh,array:Do,at:D,boolean:Do,case:et,coalesce:Sr,collator:Oa,format:Yl,image:ts,in:G,"index-of":ye,interpolate:fr,"interpolate-hcl":fr,"interpolate-lab":fr,length:ml,let:Qa,literal:la,match:ze,number:Do,"number-format":es,object:Do,slice:it,step:Ut,string:Do,"to-boolean":$i,"to-color":$i,"to-number":$i,"to-string":$i,var:kn,within:Ea,distance:ha};class So{constructor(a,d,m,_){this.name=a,this.type=d,this._evaluate=m,this.args=_}evaluate(a){return this._evaluate(a,this.args)}eachChild(a){this.args.forEach(a)}outputDefined(){return!1}static parse(a,d){const m=a[0],_=So.definitions[m];if(!_)return d.error(`Unknown expression "${m}". If you wanted a literal array, use ["literal", [...]].`,0);const S=Array.isArray(_)?_[0]:_.type,E=Array.isArray(_)?[[_[1],_[2]]]:_.overloads,M=E.filter(([U])=>!Array.isArray(U)||U.length===a.length-1);let F=null;for(const[U,K]of M){F=new Ja(d.registry,Js,d.path,null,d.scope);const Y=[];let ue=!1;for(let pe=1;pe<a.length;pe++){const _e=a[pe],Pe=Array.isArray(U)?U[pe-1]:U.type,Be=F.parse(_e,1+Y.length,Pe);if(!Be){ue=!0;break}Y.push(Be)}if(!ue)if(Array.isArray(U)&&U.length!==Y.length)F.error(`Expected ${U.length} arguments, but found ${Y.length} instead.`);else{for(let pe=0;pe<Y.length;pe++){const _e=Array.isArray(U)?U[pe]:U.type,Pe=Y[pe];F.concat(pe+1).checkSubtype(_e,Pe.type)}if(F.errors.length===0)return new So(m,S,K,Y)}}if(M.length===1)d.errors.push(...F.errors);else{const U=(M.length?M:E).map(([Y])=>{return ue=Y,Array.isArray(ue)?`(${ue.map(ce).join(", ")})`:`(${ce(ue.type)}...)`;var ue}).join(" | "),K=[];for(let Y=1;Y<a.length;Y++){const ue=d.parse(a[Y],1+K.length);if(!ue)return null;K.push(ce(ue.type))}d.error(`Expected arguments of type ${U}, but found (${K.join(", ")}) instead.`)}return null}static register(a,d){So.definitions=d;for(const m in d)a[m]=So}}function Ai(c,[a,d,m,_]){a=a.evaluate(c),d=d.evaluate(c),m=m.evaluate(c);const S=_?_.evaluate(c):1,E=Ya(a,d,m,S);if(E)throw new wi(E);return new Dn(a/255,d/255,m/255,S,!1)}function xl(c,a){return c in a}function da(c,a){const d=a[c];return d===void 0?null:d}function Ta(c){return{type:c}}function Js(c){if(c instanceof kn)return Js(c.boundExpression);if(c instanceof So&&c.name==="error"||c instanceof Oa||c instanceof Ea||c instanceof ha)return!1;const a=c instanceof $i||c instanceof Do;let d=!0;return c.eachChild(m=>{d=a?d&&Js(m):d&&m instanceof la}),!!d&&Hi(c)&&As(c,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Hi(c){if(c instanceof So&&(c.name==="get"&&c.args.length===1||c.name==="feature-state"||c.name==="has"&&c.args.length===1||c.name==="properties"||c.name==="geometry-type"||c.name==="id"||/^filter-/.test(c.name))||c instanceof Ea||c instanceof ha)return!1;let a=!0;return c.eachChild(d=>{a&&!Hi(d)&&(a=!1)}),a}function Cs(c){if(c instanceof So&&c.name==="feature-state")return!1;let a=!0;return c.eachChild(d=>{a&&!Cs(d)&&(a=!1)}),a}function As(c,a){if(c instanceof So&&a.indexOf(c.name)>=0)return!1;let d=!0;return c.eachChild(m=>{d&&!As(m,a)&&(d=!1)}),d}function wl(c){return{result:"success",value:c}}function Co(c){return{result:"error",value:c}}function fa(c){return c["property-type"]==="data-driven"||c["property-type"]==="cross-faded-data-driven"}function mc(c){return!!c.expression&&c.expression.parameters.indexOf("zoom")>-1}function gc(c){return!!c.expression&&c.expression.interpolated}function Qe(c){return c instanceof Number?"number":c instanceof String?"string":c instanceof Boolean?"boolean":Array.isArray(c)?"array":c===null?"null":typeof c}function xt(c){return typeof c=="object"&&c!==null&&!Array.isArray(c)}function tr(c){return c}function kr(c,a){const d=a.type==="color",m=c.stops&&typeof c.stops[0][0]=="object",_=m||!(m||c.property!==void 0),S=c.type||(gc(a)?"exponential":"interval");if(d||a.type==="padding"){const K=d?Dn.parse:Mo.parse;(c=mt({},c)).stops&&(c.stops=c.stops.map(Y=>[Y[0],K(Y[1])])),c.default=K(c.default?c.default:a.default)}if(c.colorSpace&&(E=c.colorSpace)!=="rgb"&&E!=="hcl"&&E!=="lab")throw new Error(`Unknown color space: "${c.colorSpace}"`);var E;let M,F,U;if(S==="exponential")M=jn;else if(S==="interval")M=Hn;else if(S==="categorical"){M=yn,F=Object.create(null);for(const K of c.stops)F[K[0]]=K[1];U=typeof c.stops[0][0]}else{if(S!=="identity")throw new Error(`Unknown function type "${S}"`);M=Ao}if(m){const K={},Y=[];for(let _e=0;_e<c.stops.length;_e++){const Pe=c.stops[_e],Be=Pe[0].zoom;K[Be]===void 0&&(K[Be]={zoom:Be,type:c.type,property:c.property,default:c.default,stops:[]},Y.push(Be)),K[Be].stops.push([Pe[0].value,Pe[1]])}const ue=[];for(const _e of Y)ue.push([K[_e].zoom,kr(K[_e],a)]);const pe={name:"linear"};return{kind:"composite",interpolationType:pe,interpolationFactor:fr.interpolationFactor.bind(void 0,pe),zoomStops:ue.map(_e=>_e[0]),evaluate:({zoom:_e},Pe)=>jn({stops:ue,base:c.base},a,_e).evaluate(_e,Pe)}}if(_){const K=S==="exponential"?{name:"exponential",base:c.base!==void 0?c.base:1}:null;return{kind:"camera",interpolationType:K,interpolationFactor:fr.interpolationFactor.bind(void 0,K),zoomStops:c.stops.map(Y=>Y[0]),evaluate:({zoom:Y})=>M(c,a,Y,F,U)}}return{kind:"source",evaluate(K,Y){const ue=Y&&Y.properties?Y.properties[c.property]:void 0;return ue===void 0?Pn(c.default,a.default):M(c,a,ue,F,U)}}}function Pn(c,a,d){return c!==void 0?c:a!==void 0?a:d!==void 0?d:void 0}function yn(c,a,d,m,_){return Pn(typeof d===_?m[d]:void 0,c.default,a.default)}function Hn(c,a,d){if(Qe(d)!=="number")return Pn(c.default,a.default);const m=c.stops.length;if(m===1||d<=c.stops[0][0])return c.stops[0][1];if(d>=c.stops[m-1][0])return c.stops[m-1][1];const _=dt(c.stops.map(S=>S[0]),d);return c.stops[_][1]}function jn(c,a,d){const m=c.base!==void 0?c.base:1;if(Qe(d)!=="number")return Pn(c.default,a.default);const _=c.stops.length;if(_===1||d<=c.stops[0][0])return c.stops[0][1];if(d>=c.stops[_-1][0])return c.stops[_-1][1];const S=dt(c.stops.map(K=>K[0]),d),E=function(K,Y,ue,pe){const _e=pe-ue,Pe=K-ue;return _e===0?0:Y===1?Pe/_e:(Math.pow(Y,Pe)-1)/(Math.pow(Y,_e)-1)}(d,m,c.stops[S][0],c.stops[S+1][0]),M=c.stops[S][1],F=c.stops[S+1][1],U=Fr[a.type]||tr;return typeof M.evaluate=="function"?{evaluate(...K){const Y=M.evaluate.apply(void 0,K),ue=F.evaluate.apply(void 0,K);if(Y!==void 0&&ue!==void 0)return U(Y,ue,E,c.colorSpace)}}:U(M,F,E,c.colorSpace)}function Ao(c,a,d){switch(a.type){case"color":d=Dn.parse(d);break;case"formatted":d=Fn.fromString(d.toString());break;case"resolvedImage":d=pi.fromString(d.toString());break;case"padding":d=Mo.parse(d);break;default:Qe(d)===a.type||a.type==="enum"&&a.values[d]||(d=void 0)}return Pn(d,c.default,a.default)}So.register(Ko,{error:[{kind:"error"},[Qt],(c,[a])=>{throw new wi(a.evaluate(c))}],typeof:[Qt,[rr],(c,[a])=>ce(ei(a.evaluate(c)))],"to-rgba":[ae(rt,4),[xr],(c,[a])=>{const[d,m,_,S]=a.evaluate(c).rgb;return[255*d,255*m,255*_,S]}],rgb:[xr,[rt,rt,rt],Ai],rgba:[xr,[rt,rt,rt,rt],Ai],has:{type:Vt,overloads:[[[Qt],(c,[a])=>xl(a.evaluate(c),c.properties())],[[Qt,rn],(c,[a,d])=>xl(a.evaluate(c),d.evaluate(c))]]},get:{type:rr,overloads:[[[Qt],(c,[a])=>da(a.evaluate(c),c.properties())],[[Qt,rn],(c,[a,d])=>da(a.evaluate(c),d.evaluate(c))]]},"feature-state":[rr,[Qt],(c,[a])=>da(a.evaluate(c),c.featureState||{})],properties:[rn,[],c=>c.properties()],"geometry-type":[Qt,[],c=>c.geometryType()],id:[rr,[],c=>c.id()],zoom:[rt,[],c=>c.globals.zoom],"heatmap-density":[rt,[],c=>c.globals.heatmapDensity||0],"line-progress":[rt,[],c=>c.globals.lineProgress||0],accumulated:[rr,[],c=>c.globals.accumulated===void 0?null:c.globals.accumulated],"+":[rt,Ta(rt),(c,a)=>{let d=0;for(const m of a)d+=m.evaluate(c);return d}],"*":[rt,Ta(rt),(c,a)=>{let d=1;for(const m of a)d*=m.evaluate(c);return d}],"-":{type:rt,overloads:[[[rt,rt],(c,[a,d])=>a.evaluate(c)-d.evaluate(c)],[[rt],(c,[a])=>-a.evaluate(c)]]},"/":[rt,[rt,rt],(c,[a,d])=>a.evaluate(c)/d.evaluate(c)],"%":[rt,[rt,rt],(c,[a,d])=>a.evaluate(c)%d.evaluate(c)],ln2:[rt,[],()=>Math.LN2],pi:[rt,[],()=>Math.PI],e:[rt,[],()=>Math.E],"^":[rt,[rt,rt],(c,[a,d])=>Math.pow(a.evaluate(c),d.evaluate(c))],sqrt:[rt,[rt],(c,[a])=>Math.sqrt(a.evaluate(c))],log10:[rt,[rt],(c,[a])=>Math.log(a.evaluate(c))/Math.LN10],ln:[rt,[rt],(c,[a])=>Math.log(a.evaluate(c))],log2:[rt,[rt],(c,[a])=>Math.log(a.evaluate(c))/Math.LN2],sin:[rt,[rt],(c,[a])=>Math.sin(a.evaluate(c))],cos:[rt,[rt],(c,[a])=>Math.cos(a.evaluate(c))],tan:[rt,[rt],(c,[a])=>Math.tan(a.evaluate(c))],asin:[rt,[rt],(c,[a])=>Math.asin(a.evaluate(c))],acos:[rt,[rt],(c,[a])=>Math.acos(a.evaluate(c))],atan:[rt,[rt],(c,[a])=>Math.atan(a.evaluate(c))],min:[rt,Ta(rt),(c,a)=>Math.min(...a.map(d=>d.evaluate(c)))],max:[rt,Ta(rt),(c,a)=>Math.max(...a.map(d=>d.evaluate(c)))],abs:[rt,[rt],(c,[a])=>Math.abs(a.evaluate(c))],round:[rt,[rt],(c,[a])=>{const d=a.evaluate(c);return d<0?-Math.round(-d):Math.round(d)}],floor:[rt,[rt],(c,[a])=>Math.floor(a.evaluate(c))],ceil:[rt,[rt],(c,[a])=>Math.ceil(a.evaluate(c))],"filter-==":[Vt,[Qt,rr],(c,[a,d])=>c.properties()[a.value]===d.value],"filter-id-==":[Vt,[rr],(c,[a])=>c.id()===a.value],"filter-type-==":[Vt,[Qt],(c,[a])=>c.geometryType()===a.value],"filter-<":[Vt,[Qt,rr],(c,[a,d])=>{const m=c.properties()[a.value],_=d.value;return typeof m==typeof _&&m<_}],"filter-id-<":[Vt,[rr],(c,[a])=>{const d=c.id(),m=a.value;return typeof d==typeof m&&d<m}],"filter->":[Vt,[Qt,rr],(c,[a,d])=>{const m=c.properties()[a.value],_=d.value;return typeof m==typeof _&&m>_}],"filter-id->":[Vt,[rr],(c,[a])=>{const d=c.id(),m=a.value;return typeof d==typeof m&&d>m}],"filter-<=":[Vt,[Qt,rr],(c,[a,d])=>{const m=c.properties()[a.value],_=d.value;return typeof m==typeof _&&m<=_}],"filter-id-<=":[Vt,[rr],(c,[a])=>{const d=c.id(),m=a.value;return typeof d==typeof m&&d<=m}],"filter->=":[Vt,[Qt,rr],(c,[a,d])=>{const m=c.properties()[a.value],_=d.value;return typeof m==typeof _&&m>=_}],"filter-id->=":[Vt,[rr],(c,[a])=>{const d=c.id(),m=a.value;return typeof d==typeof m&&d>=m}],"filter-has":[Vt,[rr],(c,[a])=>a.value in c.properties()],"filter-has-id":[Vt,[],c=>c.id()!==null&&c.id()!==void 0],"filter-type-in":[Vt,[ae(Qt)],(c,[a])=>a.value.indexOf(c.geometryType())>=0],"filter-id-in":[Vt,[ae(rr)],(c,[a])=>a.value.indexOf(c.id())>=0],"filter-in-small":[Vt,[Qt,ae(rr)],(c,[a,d])=>d.value.indexOf(c.properties()[a.value])>=0],"filter-in-large":[Vt,[Qt,ae(rr)],(c,[a,d])=>function(m,_,S,E){for(;S<=E;){const M=S+E>>1;if(_[M]===m)return!0;_[M]>m?E=M-1:S=M+1}return!1}(c.properties()[a.value],d.value,0,d.value.length-1)],all:{type:Vt,overloads:[[[Vt,Vt],(c,[a,d])=>a.evaluate(c)&&d.evaluate(c)],[Ta(Vt),(c,a)=>{for(const d of a)if(!d.evaluate(c))return!1;return!0}]]},any:{type:Vt,overloads:[[[Vt,Vt],(c,[a,d])=>a.evaluate(c)||d.evaluate(c)],[Ta(Vt),(c,a)=>{for(const d of a)if(d.evaluate(c))return!0;return!1}]]},"!":[Vt,[Vt],(c,[a])=>!a.evaluate(c)],"is-supported-script":[Vt,[Qt],(c,[a])=>{const d=c.globals&&c.globals.isSupportedScript;return!d||d(a.evaluate(c))}],upcase:[Qt,[Qt],(c,[a])=>a.evaluate(c).toUpperCase()],downcase:[Qt,[Qt],(c,[a])=>a.evaluate(c).toLowerCase()],concat:[Qt,Ta(rr),(c,a)=>a.map(d=>li(d.evaluate(c))).join("")],"resolved-locale":[Qt,[ni],(c,[a])=>a.evaluate(c).resolvedLocale()]});class ui{constructor(a,d){var m;this.expression=a,this._warningHistory={},this._evaluator=new wo,this._defaultValue=d?(m=d).type==="color"&&xt(m.default)?new Dn(0,0,0,0):m.type==="color"?Dn.parse(m.default)||null:m.type==="padding"?Mo.parse(m.default)||null:m.type==="variableAnchorOffsetCollection"?qi.parse(m.default)||null:m.default===void 0?null:m.default:null,this._enumValues=d&&d.type==="enum"?d.values:null}evaluateWithoutErrorHandling(a,d,m,_,S,E){return this._evaluator.globals=a,this._evaluator.feature=d,this._evaluator.featureState=m,this._evaluator.canonical=_,this._evaluator.availableImages=S||null,this._evaluator.formattedSection=E,this.expression.evaluate(this._evaluator)}evaluate(a,d,m,_,S,E){this._evaluator.globals=a,this._evaluator.feature=d||null,this._evaluator.featureState=m||null,this._evaluator.canonical=_,this._evaluator.availableImages=S||null,this._evaluator.formattedSection=E||null;try{const M=this.expression.evaluate(this._evaluator);if(M==null||typeof M=="number"&&M!=M)return this._defaultValue;if(this._enumValues&&!(M in this._enumValues))throw new wi(`Expected value to be one of ${Object.keys(this._enumValues).map(F=>JSON.stringify(F)).join(", ")}, but found ${JSON.stringify(M)} instead.`);return M}catch(M){return this._warningHistory[M.message]||(this._warningHistory[M.message]=!0,typeof console<"u"&&console.warn(M.message)),this._defaultValue}}}function Zn(c){return Array.isArray(c)&&c.length>0&&typeof c[0]=="string"&&c[0]in Ko}function gi(c,a){const d=new Ja(Ko,Js,[],a?function(_){const S={color:xr,string:Qt,number:rt,enum:Qt,boolean:Vt,formatted:Nn,padding:_i,resolvedImage:Bn,variableAnchorOffsetCollection:Ne};return _.type==="array"?ae(S[_.value]||rr,_.length):S[_.type]}(a):void 0),m=d.parse(c,void 0,void 0,void 0,a&&a.type==="string"?{typeAnnotation:"coerce"}:void 0);return m?wl(new ui(m,a)):Co(d.errors)}class zi{constructor(a,d){this.kind=a,this._styleExpression=d,this.isStateDependent=a!=="constant"&&!Cs(d.expression)}evaluateWithoutErrorHandling(a,d,m,_,S,E){return this._styleExpression.evaluateWithoutErrorHandling(a,d,m,_,S,E)}evaluate(a,d,m,_,S,E){return this._styleExpression.evaluate(a,d,m,_,S,E)}}class ci{constructor(a,d,m,_){this.kind=a,this.zoomStops=m,this._styleExpression=d,this.isStateDependent=a!=="camera"&&!Cs(d.expression),this.interpolationType=_}evaluateWithoutErrorHandling(a,d,m,_,S,E){return this._styleExpression.evaluateWithoutErrorHandling(a,d,m,_,S,E)}evaluate(a,d,m,_,S,E){return this._styleExpression.evaluate(a,d,m,_,S,E)}interpolationFactor(a,d,m){return this.interpolationType?fr.interpolationFactor(this.interpolationType,a,d,m):0}}function No(c,a){const d=gi(c,a);if(d.result==="error")return d;const m=d.value.expression,_=Hi(m);if(!_&&!fa(a))return Co([new Rt("","data expressions not supported")]);const S=As(m,["zoom"]);if(!S&&!mc(a))return Co([new Rt("","zoom expressions not supported")]);const E=Zo(m);return E||S?E instanceof Rt?Co([E]):E instanceof fr&&!gc(a)?Co([new Rt("",'"interpolate" expressions cannot be used with this property')]):wl(E?new ci(_?"camera":"composite",d.value,E.labels,E instanceof fr?E.interpolation:void 0):new zi(_?"constant":"source",d.value)):Co([new Rt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Eo{constructor(a,d){this._parameters=a,this._specification=d,mt(this,kr(this._parameters,this._specification))}static deserialize(a){return new Eo(a._parameters,a._specification)}static serialize(a){return{_parameters:a._parameters,_specification:a._specification}}}function Zo(c){let a=null;if(c instanceof Qa)a=Zo(c.result);else if(c instanceof Sr){for(const d of c.args)if(a=Zo(d),a)break}else(c instanceof Ut||c instanceof fr)&&c.input instanceof So&&c.input.name==="zoom"&&(a=c);return a instanceof Rt||c.eachChild(d=>{const m=Zo(d);m instanceof Rt?a=m:!a&&m?a=new Rt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):a&&m&&a!==m&&(a=new Rt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),a}function Pa(c){if(c===!0||c===!1)return!0;if(!Array.isArray(c)||c.length===0)return!1;switch(c[0]){case"has":return c.length>=2&&c[1]!=="$id"&&c[1]!=="$type";case"in":return c.length>=3&&(typeof c[1]!="string"||Array.isArray(c[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return c.length!==3||Array.isArray(c[1])||Array.isArray(c[2]);case"any":case"all":for(const a of c.slice(1))if(!Pa(a)&&typeof a!="boolean")return!1;return!0;default:return!0}}const ro={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Ba(c){if(c==null)return{filter:()=>!0,needGeometry:!1};Pa(c)||(c=on(c));const a=gi(c,ro);if(a.result==="error")throw new Error(a.value.map(d=>`${d.key}: ${d.message}`).join(", "));return{filter:(d,m,_)=>a.value.evaluate(d,m,{},_),needGeometry:ii(c)}}function hi(c,a){return c<a?-1:c>a?1:0}function ii(c){if(!Array.isArray(c))return!1;if(c[0]==="within"||c[0]==="distance")return!0;for(let a=1;a<c.length;a++)if(ii(c[a]))return!0;return!1}function on(c){if(!c)return!0;const a=c[0];return c.length<=1?a!=="any":a==="=="?sn(c[1],c[2],"=="):a==="!="?Ei(sn(c[1],c[2],"==")):a==="<"||a===">"||a==="<="||a===">="?sn(c[1],c[2],a):a==="any"?(d=c.slice(1),["any"].concat(d.map(on))):a==="all"?["all"].concat(c.slice(1).map(on)):a==="none"?["all"].concat(c.slice(1).map(on).map(Ei)):a==="in"?Fo(c[1],c.slice(2)):a==="!in"?Ei(Fo(c[1],c.slice(2))):a==="has"?no(c[1]):a!=="!has"||Ei(no(c[1]));var d}function sn(c,a,d){switch(c){case"$type":return[`filter-type-${d}`,a];case"$id":return[`filter-id-${d}`,a];default:return[`filter-${d}`,c,a]}}function Fo(c,a){if(a.length===0)return!1;switch(c){case"$type":return["filter-type-in",["literal",a]];case"$id":return["filter-id-in",["literal",a]];default:return a.length>200&&!a.some(d=>typeof d!=typeof a[0])?["filter-in-large",c,["literal",a.sort(hi)]]:["filter-in-small",c,["literal",a]]}}function no(c){switch(c){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",c]}}function Ei(c){return["!",c]}function Gi(c){const a=typeof c;if(a==="number"||a==="boolean"||a==="string"||c==null)return JSON.stringify(c);if(Array.isArray(c)){let _="[";for(const S of c)_+=`${Gi(S)},`;return`${_}]`}const d=Object.keys(c).sort();let m="{";for(let _=0;_<d.length;_++)m+=`${JSON.stringify(d[_])}:${Gi(c[d[_]])},`;return`${m}}`}function ns(c){let a="";for(const d of hr)a+=`/${Gi(c[d])}`;return a}function Es(c){const a=c.value;return a?[new Ze(c.key,a,"constants have been deprecated as of v8")]:[]}function oi(c){return c instanceof Number||c instanceof String||c instanceof Boolean?c.valueOf():c}function Yo(c){if(Array.isArray(c))return c.map(Yo);if(c instanceof Object&&!(c instanceof Number||c instanceof String||c instanceof Boolean)){const a={};for(const d in c)a[d]=Yo(c[d]);return a}return oi(c)}function io(c){const a=c.key,d=c.value,m=c.valueSpec||{},_=c.objectElementValidators||{},S=c.style,E=c.styleSpec,M=c.validateSpec;let F=[];const U=Qe(d);if(U!=="object")return[new Ze(a,d,`object expected, ${U} found`)];for(const K in d){const Y=K.split(".")[0],ue=m[Y]||m["*"];let pe;if(_[Y])pe=_[Y];else if(m[Y])pe=M;else if(_["*"])pe=_["*"];else{if(!m["*"]){F.push(new Ze(a,d[K],`unknown property "${K}"`));continue}pe=M}F=F.concat(pe({key:(a&&`${a}.`)+K,value:d[K],valueSpec:ue,style:S,styleSpec:E,object:d,objectKey:K,validateSpec:M},d))}for(const K in m)_[K]||m[K].required&&m[K].default===void 0&&d[K]===void 0&&F.push(new Ze(a,d,`missing required property "${K}"`));return F}function za(c){const a=c.value,d=c.valueSpec,m=c.style,_=c.styleSpec,S=c.key,E=c.arrayElementValidator||c.validateSpec;if(Qe(a)!=="array")return[new Ze(S,a,`array expected, ${Qe(a)} found`)];if(d.length&&a.length!==d.length)return[new Ze(S,a,`array length ${d.length} expected, length ${a.length} found`)];if(d["min-length"]&&a.length<d["min-length"])return[new Ze(S,a,`array length at least ${d["min-length"]} expected, length ${a.length} found`)];let M={type:d.value,values:d.values};_.$version<7&&(M.function=d.function),Qe(d.value)==="object"&&(M=d.value);let F=[];for(let U=0;U<a.length;U++)F=F.concat(E({array:a,arrayIndex:U,value:a[U],valueSpec:M,validateSpec:c.validateSpec,style:m,styleSpec:_,key:`${S}[${U}]`}));return F}function Ru(c){const a=c.key,d=c.value,m=c.valueSpec;let _=Qe(d);return _==="number"&&d!=d&&(_="NaN"),_!=="number"?[new Ze(a,d,`number expected, ${_} found`)]:"minimum"in m&&d<m.minimum?[new Ze(a,d,`${d} is less than the minimum value ${m.minimum}`)]:"maximum"in m&&d>m.maximum?[new Ze(a,d,`${d} is greater than the maximum value ${m.maximum}`)]:[]}function Ts(c){const a=c.valueSpec,d=oi(c.value.type);let m,_,S,E={};const M=d!=="categorical"&&c.value.property===void 0,F=!M,U=Qe(c.value.stops)==="array"&&Qe(c.value.stops[0])==="array"&&Qe(c.value.stops[0][0])==="object",K=io({key:c.key,value:c.value,valueSpec:c.styleSpec.function,validateSpec:c.validateSpec,style:c.style,styleSpec:c.styleSpec,objectElementValidators:{stops:function(pe){if(d==="identity")return[new Ze(pe.key,pe.value,'identity function may not have a "stops" property')];let _e=[];const Pe=pe.value;return _e=_e.concat(za({key:pe.key,value:Pe,valueSpec:pe.valueSpec,validateSpec:pe.validateSpec,style:pe.style,styleSpec:pe.styleSpec,arrayElementValidator:Y})),Qe(Pe)==="array"&&Pe.length===0&&_e.push(new Ze(pe.key,Pe,"array must have at least one stop")),_e},default:function(pe){return pe.validateSpec({key:pe.key,value:pe.value,valueSpec:a,validateSpec:pe.validateSpec,style:pe.style,styleSpec:pe.styleSpec})}}});return d==="identity"&&M&&K.push(new Ze(c.key,c.value,'missing required property "property"')),d==="identity"||c.value.stops||K.push(new Ze(c.key,c.value,'missing required property "stops"')),d==="exponential"&&c.valueSpec.expression&&!gc(c.valueSpec)&&K.push(new Ze(c.key,c.value,"exponential functions not supported")),c.styleSpec.$version>=8&&(F&&!fa(c.valueSpec)?K.push(new Ze(c.key,c.value,"property functions not supported")):M&&!mc(c.valueSpec)&&K.push(new Ze(c.key,c.value,"zoom functions not supported"))),d!=="categorical"&&!U||c.value.property!==void 0||K.push(new Ze(c.key,c.value,'"property" property is required')),K;function Y(pe){let _e=[];const Pe=pe.value,Be=pe.key;if(Qe(Pe)!=="array")return[new Ze(Be,Pe,`array expected, ${Qe(Pe)} found`)];if(Pe.length!==2)return[new Ze(Be,Pe,`array length 2 expected, length ${Pe.length} found`)];if(U){if(Qe(Pe[0])!=="object")return[new Ze(Be,Pe,`object expected, ${Qe(Pe[0])} found`)];if(Pe[0].zoom===void 0)return[new Ze(Be,Pe,"object stop key must have zoom")];if(Pe[0].value===void 0)return[new Ze(Be,Pe,"object stop key must have value")];if(S&&S>oi(Pe[0].zoom))return[new Ze(Be,Pe[0].zoom,"stop zoom values must appear in ascending order")];oi(Pe[0].zoom)!==S&&(S=oi(Pe[0].zoom),_=void 0,E={}),_e=_e.concat(io({key:`${Be}[0]`,value:Pe[0],valueSpec:{zoom:{}},validateSpec:pe.validateSpec,style:pe.style,styleSpec:pe.styleSpec,objectElementValidators:{zoom:Ru,value:ue}}))}else _e=_e.concat(ue({key:`${Be}[0]`,value:Pe[0],valueSpec:{},validateSpec:pe.validateSpec,style:pe.style,styleSpec:pe.styleSpec},Pe));return Zn(Yo(Pe[1]))?_e.concat([new Ze(`${Be}[1]`,Pe[1],"expressions are not allowed in function stops.")]):_e.concat(pe.validateSpec({key:`${Be}[1]`,value:Pe[1],valueSpec:a,validateSpec:pe.validateSpec,style:pe.style,styleSpec:pe.styleSpec}))}function ue(pe,_e){const Pe=Qe(pe.value),Be=oi(pe.value),We=pe.value!==null?pe.value:_e;if(m){if(Pe!==m)return[new Ze(pe.key,We,`${Pe} stop domain type must match previous stop domain type ${m}`)]}else m=Pe;if(Pe!=="number"&&Pe!=="string"&&Pe!=="boolean")return[new Ze(pe.key,We,"stop domain value must be a number, string, or boolean")];if(Pe!=="number"&&d!=="categorical"){let vt=`number expected, ${Pe} found`;return fa(a)&&d===void 0&&(vt+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ze(pe.key,We,vt)]}return d!=="categorical"||Pe!=="number"||isFinite(Be)&&Math.floor(Be)===Be?d!=="categorical"&&Pe==="number"&&_!==void 0&&Be<_?[new Ze(pe.key,We,"stop domain values must appear in ascending order")]:(_=Be,d==="categorical"&&Be in E?[new Ze(pe.key,We,"stop domain values must be unique")]:(E[Be]=!0,[])):[new Ze(pe.key,We,`integer expected, found ${Be}`)]}}function Yi(c){const a=(c.expressionContext==="property"?No:gi)(Yo(c.value),c.valueSpec);if(a.result==="error")return a.value.map(m=>new Ze(`${c.key}${m.key}`,c.value,m.message));const d=a.value.expression||a.value._styleExpression.expression;if(c.expressionContext==="property"&&c.propertyKey==="text-font"&&!d.outputDefined())return[new Ze(c.key,c.value,`Invalid data expression for "${c.propertyKey}". Output values must be contained as literals within the expression.`)];if(c.expressionContext==="property"&&c.propertyType==="layout"&&!Cs(d))return[new Ze(c.key,c.value,'"feature-state" data expressions are not supported with layout properties.')];if(c.expressionContext==="filter"&&!Cs(d))return[new Ze(c.key,c.value,'"feature-state" data expressions are not supported with filters.')];if(c.expressionContext&&c.expressionContext.indexOf("cluster")===0){if(!As(d,["zoom","feature-state"]))return[new Ze(c.key,c.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(c.expressionContext==="cluster-initial"&&!Hi(d))return[new Ze(c.key,c.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Ti(c){const a=c.key,d=c.value,m=c.valueSpec,_=[];return Array.isArray(m.values)?m.values.indexOf(oi(d))===-1&&_.push(new Ze(a,d,`expected one of [${m.values.join(", ")}], ${JSON.stringify(d)} found`)):Object.keys(m.values).indexOf(oi(d))===-1&&_.push(new Ze(a,d,`expected one of [${Object.keys(m.values).join(", ")}], ${JSON.stringify(d)} found`)),_}function Qs(c){return Pa(Yo(c.value))?Yi(mt({},c,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Sl(c)}function Sl(c){const a=c.value,d=c.key;if(Qe(a)!=="array")return[new Ze(d,a,`array expected, ${Qe(a)} found`)];const m=c.styleSpec;let _,S=[];if(a.length<1)return[new Ze(d,a,"filter array must have at least 1 element")];switch(S=S.concat(Ti({key:`${d}[0]`,value:a[0],valueSpec:m.filter_operator,style:c.style,styleSpec:c.styleSpec})),oi(a[0])){case"<":case"<=":case">":case">=":a.length>=2&&oi(a[1])==="$type"&&S.push(new Ze(d,a,`"$type" cannot be use with operator "${a[0]}"`));case"==":case"!=":a.length!==3&&S.push(new Ze(d,a,`filter array for operator "${a[0]}" must have 3 elements`));case"in":case"!in":a.length>=2&&(_=Qe(a[1]),_!=="string"&&S.push(new Ze(`${d}[1]`,a[1],`string expected, ${_} found`)));for(let E=2;E<a.length;E++)_=Qe(a[E]),oi(a[1])==="$type"?S=S.concat(Ti({key:`${d}[${E}]`,value:a[E],valueSpec:m.geometry_type,style:c.style,styleSpec:c.styleSpec})):_!=="string"&&_!=="number"&&_!=="boolean"&&S.push(new Ze(`${d}[${E}]`,a[E],`string, number, or boolean expected, ${_} found`));break;case"any":case"all":case"none":for(let E=1;E<a.length;E++)S=S.concat(Sl({key:`${d}[${E}]`,value:a[E],style:c.style,styleSpec:c.styleSpec}));break;case"has":case"!has":_=Qe(a[1]),a.length!==2?S.push(new Ze(d,a,`filter array for "${a[0]}" operator must have 2 elements`)):_!=="string"&&S.push(new Ze(`${d}[1]`,a[1],`string expected, ${_} found`))}return S}function tu(c,a){const d=c.key,m=c.validateSpec,_=c.style,S=c.styleSpec,E=c.value,M=c.objectKey,F=S[`${a}_${c.layerType}`];if(!F)return[];const U=M.match(/^(.*)-transition$/);if(a==="paint"&&U&&F[U[1]]&&F[U[1]].transition)return m({key:d,value:E,valueSpec:S.transition,style:_,styleSpec:S});const K=c.valueSpec||F[M];if(!K)return[new Ze(d,E,`unknown property "${M}"`)];let Y;if(Qe(E)==="string"&&fa(K)&&!K.tokens&&(Y=/^{([^}]+)}$/.exec(E)))return[new Ze(d,E,`"${M}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(Y[1])} }\`.`)];const ue=[];return c.layerType==="symbol"&&(M==="text-field"&&_&&!_.glyphs&&ue.push(new Ze(d,E,'use of "text-field" requires a style "glyphs" property')),M==="text-font"&&xt(Yo(E))&&oi(E.type)==="identity"&&ue.push(new Ze(d,E,'"text-font" does not support identity functions'))),ue.concat(m({key:c.key,value:E,valueSpec:K,style:_,styleSpec:S,expressionContext:"property",propertyType:a,propertyKey:M}))}function Ps(c){return tu(c,"paint")}function Yc(c){return tu(c,"layout")}function Gh(c){let a=[];const d=c.value,m=c.key,_=c.style,S=c.styleSpec;d.type||d.ref||a.push(new Ze(m,d,'either "type" or "ref" is required'));let E=oi(d.type);const M=oi(d.ref);if(d.id){const F=oi(d.id);for(let U=0;U<c.arrayIndex;U++){const K=_.layers[U];oi(K.id)===F&&a.push(new Ze(m,d.id,`duplicate layer id "${d.id}", previously used at line ${K.id.__line__}`))}}if("ref"in d){let F;["type","source","source-layer","filter","layout"].forEach(U=>{U in d&&a.push(new Ze(m,d[U],`"${U}" is prohibited for ref layers`))}),_.layers.forEach(U=>{oi(U.id)===M&&(F=U)}),F?F.ref?a.push(new Ze(m,d.ref,"ref cannot reference another ref layer")):E=oi(F.type):a.push(new Ze(m,d.ref,`ref layer "${M}" not found`))}else if(E!=="background")if(d.source){const F=_.sources&&_.sources[d.source],U=F&&oi(F.type);F?U==="vector"&&E==="raster"?a.push(new Ze(m,d.source,`layer "${d.id}" requires a raster source`)):U!=="raster-dem"&&E==="hillshade"?a.push(new Ze(m,d.source,`layer "${d.id}" requires a raster-dem source`)):U==="raster"&&E!=="raster"?a.push(new Ze(m,d.source,`layer "${d.id}" requires a vector source`)):U!=="vector"||d["source-layer"]?U==="raster-dem"&&E!=="hillshade"?a.push(new Ze(m,d.source,"raster-dem source can only be used with layer type 'hillshade'.")):E!=="line"||!d.paint||!d.paint["line-gradient"]||U==="geojson"&&F.lineMetrics||a.push(new Ze(m,d,`layer "${d.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):a.push(new Ze(m,d,`layer "${d.id}" must specify a "source-layer"`)):a.push(new Ze(m,d.source,`source "${d.source}" not found`))}else a.push(new Ze(m,d,'missing required property "source"'));return a=a.concat(io({key:m,value:d,valueSpec:S.layer,style:c.style,styleSpec:c.styleSpec,validateSpec:c.validateSpec,objectElementValidators:{"*":()=>[],type:()=>c.validateSpec({key:`${m}.type`,value:d.type,valueSpec:S.layer.type,style:c.style,styleSpec:c.styleSpec,validateSpec:c.validateSpec,object:d,objectKey:"type"}),filter:Qs,layout:F=>io({layer:d,key:F.key,value:F.value,style:F.style,styleSpec:F.styleSpec,validateSpec:F.validateSpec,objectElementValidators:{"*":U=>Yc(mt({layerType:E},U))}}),paint:F=>io({layer:d,key:F.key,value:F.value,style:F.style,styleSpec:F.styleSpec,validateSpec:F.validateSpec,objectElementValidators:{"*":U=>Ps(mt({layerType:E},U))}})}})),a}function Ou(c){const a=c.value,d=c.key,m=Qe(a);return m!=="string"?[new Ze(d,a,`string expected, ${m} found`)]:[]}const Jc={promoteId:function({key:c,value:a}){if(Qe(a)==="string")return Ou({key:c,value:a});{const d=[];for(const m in a)d.push(...Ou({key:`${c}.${m}`,value:a[m]}));return d}}};function yc(c){const a=c.value,d=c.key,m=c.styleSpec,_=c.style,S=c.validateSpec;if(!a.type)return[new Ze(d,a,'"type" is required')];const E=oi(a.type);let M;switch(E){case"vector":case"raster":return M=io({key:d,value:a,valueSpec:m[`source_${E.replace("-","_")}`],style:c.style,styleSpec:m,objectElementValidators:Jc,validateSpec:S}),M;case"raster-dem":return M=function(F){var U;const K=(U=F.sourceName)!==null&&U!==void 0?U:"",Y=F.value,ue=F.styleSpec,pe=ue.source_raster_dem,_e=F.style;let Pe=[];const Be=Qe(Y);if(Y===void 0)return Pe;if(Be!=="object")return Pe.push(new Ze("source_raster_dem",Y,`object expected, ${Be} found`)),Pe;const We=oi(Y.encoding)==="custom",vt=["redFactor","greenFactor","blueFactor","baseShift"],at=F.value.encoding?`"${F.value.encoding}"`:"Default";for(const ft in Y)!We&&vt.includes(ft)?Pe.push(new Ze(ft,Y[ft],`In "${K}": "${ft}" is only valid when "encoding" is set to "custom". ${at} encoding found`)):pe[ft]?Pe=Pe.concat(F.validateSpec({key:ft,value:Y[ft],valueSpec:pe[ft],validateSpec:F.validateSpec,style:_e,styleSpec:ue})):Pe.push(new Ze(ft,Y[ft],`unknown property "${ft}"`));return Pe}({sourceName:d,value:a,style:c.style,styleSpec:m,validateSpec:S}),M;case"geojson":if(M=io({key:d,value:a,valueSpec:m.source_geojson,style:_,styleSpec:m,validateSpec:S,objectElementValidators:Jc}),a.cluster)for(const F in a.clusterProperties){const[U,K]=a.clusterProperties[F],Y=typeof U=="string"?[U,["accumulated"],["get",F]]:U;M.push(...Yi({key:`${d}.${F}.map`,value:K,validateSpec:S,expressionContext:"cluster-map"})),M.push(...Yi({key:`${d}.${F}.reduce`,value:Y,validateSpec:S,expressionContext:"cluster-reduce"}))}return M;case"video":return io({key:d,value:a,valueSpec:m.source_video,style:_,validateSpec:S,styleSpec:m});case"image":return io({key:d,value:a,valueSpec:m.source_image,style:_,validateSpec:S,styleSpec:m});case"canvas":return[new Ze(d,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Ti({key:`${d}.type`,value:a.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:_,validateSpec:S,styleSpec:m})}}function Qc(c){const a=c.value,d=c.styleSpec,m=d.light,_=c.style;let S=[];const E=Qe(a);if(a===void 0)return S;if(E!=="object")return S=S.concat([new Ze("light",a,`object expected, ${E} found`)]),S;for(const M in a){const F=M.match(/^(.*)-transition$/);S=S.concat(F&&m[F[1]]&&m[F[1]].transition?c.validateSpec({key:M,value:a[M],valueSpec:d.transition,validateSpec:c.validateSpec,style:_,styleSpec:d}):m[M]?c.validateSpec({key:M,value:a[M],valueSpec:m[M],validateSpec:c.validateSpec,style:_,styleSpec:d}):[new Ze(M,a[M],`unknown property "${M}"`)])}return S}function Wh(c){const a=c.value,d=c.styleSpec,m=d.sky,_=c.style,S=Qe(a);if(a===void 0)return[];if(S!=="object")return[new Ze("sky",a,`object expected, ${S} found`)];let E=[];for(const M in a)E=E.concat(m[M]?c.validateSpec({key:M,value:a[M],valueSpec:m[M],style:_,styleSpec:d}):[new Ze(M,a[M],`unknown property "${M}"`)]);return E}function Wf(c){const a=c.value,d=c.styleSpec,m=d.terrain,_=c.style;let S=[];const E=Qe(a);if(a===void 0)return S;if(E!=="object")return S=S.concat([new Ze("terrain",a,`object expected, ${E} found`)]),S;for(const M in a)S=S.concat(m[M]?c.validateSpec({key:M,value:a[M],valueSpec:m[M],validateSpec:c.validateSpec,style:_,styleSpec:d}):[new Ze(M,a[M],`unknown property "${M}"`)]);return S}function Xf(c){let a=[];const d=c.value,m=c.key;if(Array.isArray(d)){const _=[],S=[];for(const E in d)d[E].id&&_.includes(d[E].id)&&a.push(new Ze(m,d,`all the sprites' ids must be unique, but ${d[E].id} is duplicated`)),_.push(d[E].id),d[E].url&&S.includes(d[E].url)&&a.push(new Ze(m,d,`all the sprites' URLs must be unique, but ${d[E].url} is duplicated`)),S.push(d[E].url),a=a.concat(io({key:`${m}[${E}]`,value:d[E],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:c.validateSpec}));return a}return Ou({key:m,value:d})}const Xh={"*":()=>[],array:za,boolean:function(c){const a=c.value,d=c.key,m=Qe(a);return m!=="boolean"?[new Ze(d,a,`boolean expected, ${m} found`)]:[]},number:Ru,color:function(c){const a=c.key,d=c.value,m=Qe(d);return m!=="string"?[new Ze(a,d,`color expected, ${m} found`)]:Dn.parse(String(d))?[]:[new Ze(a,d,`color expected, "${d}" found`)]},constants:Es,enum:Ti,filter:Qs,function:Ts,layer:Gh,object:io,source:yc,light:Qc,sky:Wh,terrain:Wf,projection:function(c){const a=c.value,d=c.styleSpec,m=d.projection,_=c.style,S=Qe(a);if(a===void 0)return[];if(S!=="object")return[new Ze("projection",a,`object expected, ${S} found`)];let E=[];for(const M in a)E=E.concat(m[M]?c.validateSpec({key:M,value:a[M],valueSpec:m[M],style:_,styleSpec:d}):[new Ze(M,a[M],`unknown property "${M}"`)]);return E},string:Ou,formatted:function(c){return Ou(c).length===0?[]:Yi(c)},resolvedImage:function(c){return Ou(c).length===0?[]:Yi(c)},padding:function(c){const a=c.key,d=c.value;if(Qe(d)==="array"){if(d.length<1||d.length>4)return[new Ze(a,d,`padding requires 1 to 4 values; ${d.length} values found`)];const m={type:"number"};let _=[];for(let S=0;S<d.length;S++)_=_.concat(c.validateSpec({key:`${a}[${S}]`,value:d[S],validateSpec:c.validateSpec,valueSpec:m}));return _}return Ru({key:a,value:d,valueSpec:{}})},variableAnchorOffsetCollection:function(c){const a=c.key,d=c.value,m=Qe(d),_=c.styleSpec;if(m!=="array"||d.length<1||d.length%2!=0)return[new Ze(a,d,"variableAnchorOffsetCollection requires a non-empty array of even length")];let S=[];for(let E=0;E<d.length;E+=2)S=S.concat(Ti({key:`${a}[${E}]`,value:d[E],valueSpec:_.layout_symbol["text-anchor"]})),S=S.concat(za({key:`${a}[${E+1}]`,value:d[E+1],valueSpec:{length:2,value:"number"},validateSpec:c.validateSpec,style:c.style,styleSpec:_}));return S},sprite:Xf};function eh(c){const a=c.value,d=c.valueSpec,m=c.styleSpec;return c.validateSpec=eh,d.expression&&xt(oi(a))?Ts(c):d.expression&&Zn(Yo(a))?Yi(c):d.type&&Xh[d.type]?Xh[d.type](c):io(mt({},c,{valueSpec:d.type?m[d.type]:d}))}function fm(c){const a=c.value,d=c.key,m=Ou(c);return m.length||(a.indexOf("{fontstack}")===-1&&m.push(new Ze(d,a,'"glyphs" url must include a "{fontstack}" token')),a.indexOf("{range}")===-1&&m.push(new Ze(d,a,'"glyphs" url must include a "{range}" token'))),m}function ks(c,a=de){let d=[];return d=d.concat(eh({key:"",value:c,valueSpec:a.$root,styleSpec:a,style:c,validateSpec:eh,objectElementValidators:{glyphs:fm,"*":()=>[]}})),c.constants&&(d=d.concat(Es({key:"constants",value:c.constants,style:c,styleSpec:a,validateSpec:eh}))),Kf(d)}function Cl(c){return function(a){return c({...a,validateSpec:eh})}}function Kf(c){return[].concat(c).sort((a,d)=>a.line-d.line)}function is(c){return function(...a){return Kf(c.apply(this,a))}}ks.source=is(Cl(yc)),ks.sprite=is(Cl(Xf)),ks.glyphs=is(Cl(fm)),ks.light=is(Cl(Qc)),ks.sky=is(Cl(Wh)),ks.terrain=is(Cl(Wf)),ks.layer=is(Cl(Gh)),ks.filter=is(Cl(Qs)),ks.paintProperty=is(Cl(Ps)),ks.layoutProperty=is(Cl(Yc));const ru=ks,Kh=ru.light,sy=ru.sky,pm=ru.paintProperty,Zf=ru.layoutProperty;function Yf(c,a){let d=!1;if(a&&a.length)for(const m of a)c.fire(new kt(new Error(m.message))),d=!0;return d}class th{constructor(a,d,m){const _=this.cells=[];if(a instanceof ArrayBuffer){this.arrayBuffer=a;const E=new Int32Array(this.arrayBuffer);a=E[0],this.d=(d=E[1])+2*(m=E[2]);for(let F=0;F<this.d*this.d;F++){const U=E[3+F],K=E[3+F+1];_.push(U===K?null:E.subarray(U,K))}const M=E[3+_.length+1];this.keys=E.subarray(E[3+_.length],M),this.bboxes=E.subarray(M),this.insert=this._insertReadonly}else{this.d=d+2*m;for(let E=0;E<this.d*this.d;E++)_.push([]);this.keys=[],this.bboxes=[]}this.n=d,this.extent=a,this.padding=m,this.scale=d/a,this.uid=0;const S=m/d*a;this.min=-S,this.max=a+S}insert(a,d,m,_,S){this._forEachCell(d,m,_,S,this._insertCell,this.uid++,void 0,void 0),this.keys.push(a),this.bboxes.push(d),this.bboxes.push(m),this.bboxes.push(_),this.bboxes.push(S)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(a,d,m,_,S,E){this.cells[S].push(E)}query(a,d,m,_,S){const E=this.min,M=this.max;if(a<=E&&d<=E&&M<=m&&M<=_&&!S)return Array.prototype.slice.call(this.keys);{const F=[];return this._forEachCell(a,d,m,_,this._queryCell,F,{},S),F}}_queryCell(a,d,m,_,S,E,M,F){const U=this.cells[S];if(U!==null){const K=this.keys,Y=this.bboxes;for(let ue=0;ue<U.length;ue++){const pe=U[ue];if(M[pe]===void 0){const _e=4*pe;(F?F(Y[_e+0],Y[_e+1],Y[_e+2],Y[_e+3]):a<=Y[_e+2]&&d<=Y[_e+3]&&m>=Y[_e+0]&&_>=Y[_e+1])?(M[pe]=!0,E.push(K[pe])):M[pe]=!1}}}}_forEachCell(a,d,m,_,S,E,M,F){const U=this._convertToCellCoord(a),K=this._convertToCellCoord(d),Y=this._convertToCellCoord(m),ue=this._convertToCellCoord(_);for(let pe=U;pe<=Y;pe++)for(let _e=K;_e<=ue;_e++){const Pe=this.d*_e+pe;if((!F||F(this._convertFromCellCoord(pe),this._convertFromCellCoord(_e),this._convertFromCellCoord(pe+1),this._convertFromCellCoord(_e+1)))&&S.call(this,a,d,m,_,Pe,E,M,F))return}}_convertFromCellCoord(a){return(a-this.padding)/this.scale}_convertToCellCoord(a){return Math.max(0,Math.min(this.d-1,Math.floor(a*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const a=this.cells,d=3+this.cells.length+1+1;let m=0;for(let E=0;E<this.cells.length;E++)m+=this.cells[E].length;const _=new Int32Array(d+m+this.keys.length+this.bboxes.length);_[0]=this.extent,_[1]=this.n,_[2]=this.padding;let S=d;for(let E=0;E<a.length;E++){const M=a[E];_[3+E]=S,_.set(M,S),S+=M.length}return _[3+a.length]=S,_.set(this.keys,S),S+=this.keys.length,_[3+a.length+1]=S,_.set(this.bboxes,S),S+=this.bboxes.length,_.buffer}static serialize(a,d){const m=a.toArrayBuffer();return d&&d.push(m),{buffer:m}}static deserialize(a){return new th(a.buffer)}}const Is={};function yr(c,a,d={}){if(Is[c])throw new Error(`${c} is already registered.`);Object.defineProperty(a,"_classRegistryKey",{value:c,writeable:!1}),Is[c]={klass:a,omit:d.omit||[],shallow:d.shallow||[]}}yr("Object",Object),yr("TransferableGridIndex",th),yr("Color",Dn),yr("Error",Error),yr("AJAXError",tt),yr("ResolvedImage",pi),yr("StylePropertyFunction",Eo),yr("StyleExpression",ui,{omit:["_evaluator"]}),yr("ZoomDependentExpression",ci),yr("ZoomConstantExpression",zi),yr("CompoundExpression",So,{omit:["_evaluate"]});for(const c in Ko)Ko[c]._classRegistryKey||yr(`Expression_${c}`,Ko[c]);function el(c){return c&&typeof ArrayBuffer<"u"&&(c instanceof ArrayBuffer||c.constructor&&c.constructor.name==="ArrayBuffer")}function os(c){return c.$name||c.constructor._classRegistryKey}function Al(c){return!function(a){if(a===null||typeof a!="object")return!1;const d=os(a);return!(!d||d==="Object")}(c)&&(c==null||typeof c=="boolean"||typeof c=="number"||typeof c=="string"||c instanceof Boolean||c instanceof Number||c instanceof String||c instanceof Date||c instanceof RegExp||c instanceof Blob||c instanceof Error||el(c)||je(c)||ArrayBuffer.isView(c)||c instanceof ImageData)}function rh(c,a){if(Al(c))return(el(c)||je(c))&&a&&a.push(c),ArrayBuffer.isView(c)&&a&&a.push(c.buffer),c instanceof ImageData&&a&&a.push(c.data.buffer),c;if(Array.isArray(c)){const S=[];for(const E of c)S.push(rh(E,a));return S}if(typeof c!="object")throw new Error("can't serialize object of type "+typeof c);const d=os(c);if(!d)throw new Error(`can't serialize object of unregistered class ${c.constructor.name}`);if(!Is[d])throw new Error(`${d} is not registered.`);const{klass:m}=Is[d],_=m.serialize?m.serialize(c,a):{};if(m.serialize){if(a&&_===a[a.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const S in c){if(!c.hasOwnProperty(S)||Is[d].omit.indexOf(S)>=0)continue;const E=c[S];_[S]=Is[d].shallow.indexOf(S)>=0?E:rh(E,a)}c instanceof Error&&(_.message=c.message)}if(_.$name)throw new Error("$name property is reserved for worker serialization logic.");return d!=="Object"&&(_.$name=d),_}function vc(c){if(Al(c))return c;if(Array.isArray(c))return c.map(vc);if(typeof c!="object")throw new Error("can't deserialize object of type "+typeof c);const a=os(c)||"Object";if(!Is[a])throw new Error(`can't deserialize unregistered class ${a}`);const{klass:d}=Is[a];if(!d)throw new Error(`can't deserialize unregistered class ${a}`);if(d.deserialize)return d.deserialize(c);const m=Object.create(d.prototype);for(const _ of Object.keys(c)){if(_==="$name")continue;const S=c[_];m[_]=Is[a].shallow.indexOf(_)>=0?S:vc(S)}return m}class El{constructor(){this.first=!0}update(a,d){const m=Math.floor(a);return this.first?(this.first=!1,this.lastIntegerZoom=m,this.lastIntegerZoomTime=0,this.lastZoom=a,this.lastFloorZoom=m,!0):(this.lastFloorZoom>m?(this.lastIntegerZoom=m+1,this.lastIntegerZoomTime=d):this.lastFloorZoom<m&&(this.lastIntegerZoom=m,this.lastIntegerZoomTime=d),a!==this.lastZoom&&(this.lastZoom=a,this.lastFloorZoom=m,!0))}}const mn={"Latin-1 Supplement":c=>c>=128&&c<=255,"Hangul Jamo":c=>c>=4352&&c<=4607,Khmer:c=>c>=6016&&c<=6143,"General Punctuation":c=>c>=8192&&c<=8303,"Letterlike Symbols":c=>c>=8448&&c<=8527,"Number Forms":c=>c>=8528&&c<=8591,"Miscellaneous Technical":c=>c>=8960&&c<=9215,"Control Pictures":c=>c>=9216&&c<=9279,"Optical Character Recognition":c=>c>=9280&&c<=9311,"Enclosed Alphanumerics":c=>c>=9312&&c<=9471,"Geometric Shapes":c=>c>=9632&&c<=9727,"Miscellaneous Symbols":c=>c>=9728&&c<=9983,"Miscellaneous Symbols and Arrows":c=>c>=11008&&c<=11263,"Ideographic Description Characters":c=>c>=12272&&c<=12287,"CJK Symbols and Punctuation":c=>c>=12288&&c<=12351,Katakana:c=>c>=12448&&c<=12543,Kanbun:c=>c>=12688&&c<=12703,"CJK Strokes":c=>c>=12736&&c<=12783,"Enclosed CJK Letters and Months":c=>c>=12800&&c<=13055,"CJK Compatibility":c=>c>=13056&&c<=13311,"Yijing Hexagram Symbols":c=>c>=19904&&c<=19967,"Private Use Area":c=>c>=57344&&c<=63743,"Vertical Forms":c=>c>=65040&&c<=65055,"CJK Compatibility Forms":c=>c>=65072&&c<=65103,"Small Form Variants":c=>c>=65104&&c<=65135,"Halfwidth and Fullwidth Forms":c=>c>=65280&&c<=65519};function Jf(c){for(const a of c)if(ep(a.charCodeAt(0)))return!0;return!1}function ly(c){for(const a of c)if(!bc(a.charCodeAt(0)))return!1;return!0}function qd(c){const a=c.map(d=>{try{return new RegExp(`\\p{sc=${d}}`,"u").source}catch{return null}}).filter(d=>d);return new RegExp(a.join("|"),"u")}const mm=qd(["Arab","Dupl","Mong","Ougr","Syrc"]);function bc(c){return!mm.test(String.fromCodePoint(c))}const Qf=qd(["Bopo","Hani","Hira","Kana","Kits","Nshu","Tang","Yiii"]);function ep(c){return!(c!==746&&c!==747&&(c<4352||!(mn["CJK Compatibility Forms"](c)&&!(c>=65097&&c<=65103)||mn["CJK Compatibility"](c)||mn["CJK Strokes"](c)||!(!mn["CJK Symbols and Punctuation"](c)||c>=12296&&c<=12305||c>=12308&&c<=12319||c===12336)||mn["Enclosed CJK Letters and Months"](c)||mn["Ideographic Description Characters"](c)||mn.Kanbun(c)||mn.Katakana(c)&&c!==12540||!(!mn["Halfwidth and Fullwidth Forms"](c)||c===65288||c===65289||c===65293||c>=65306&&c<=65310||c===65339||c===65341||c===65343||c>=65371&&c<=65503||c===65507||c>=65512&&c<=65519)||!(!mn["Small Form Variants"](c)||c>=65112&&c<=65118||c>=65123&&c<=65126)||mn["Vertical Forms"](c)||mn["Yijing Hexagram Symbols"](c)||new RegExp("\\p{sc=Cans}","u").test(String.fromCodePoint(c))||new RegExp("\\p{sc=Hang}","u").test(String.fromCodePoint(c))||Qf.test(String.fromCodePoint(c)))))}function Zh(c){return!(ep(c)||function(a){return!!(mn["Latin-1 Supplement"](a)&&(a===167||a===169||a===174||a===177||a===188||a===189||a===190||a===215||a===247)||mn["General Punctuation"](a)&&(a===8214||a===8224||a===8225||a===8240||a===8241||a===8251||a===8252||a===8258||a===8263||a===8264||a===8265||a===8273)||mn["Letterlike Symbols"](a)||mn["Number Forms"](a)||mn["Miscellaneous Technical"](a)&&(a>=8960&&a<=8967||a>=8972&&a<=8991||a>=8996&&a<=9e3||a===9003||a>=9085&&a<=9114||a>=9150&&a<=9165||a===9167||a>=9169&&a<=9179||a>=9186&&a<=9215)||mn["Control Pictures"](a)&&a!==9251||mn["Optical Character Recognition"](a)||mn["Enclosed Alphanumerics"](a)||mn["Geometric Shapes"](a)||mn["Miscellaneous Symbols"](a)&&!(a>=9754&&a<=9759)||mn["Miscellaneous Symbols and Arrows"](a)&&(a>=11026&&a<=11055||a>=11088&&a<=11097||a>=11192&&a<=11243)||mn["CJK Symbols and Punctuation"](a)||mn.Katakana(a)||mn["Private Use Area"](a)||mn["CJK Compatibility Forms"](a)||mn["Small Form Variants"](a)||mn["Halfwidth and Fullwidth Forms"](a)||a===8734||a===8756||a===8757||a>=9984&&a<=10087||a>=10102&&a<=10131||a===65532||a===65533)}(c))}const Hd=qd(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function _c(c){return Hd.test(String.fromCodePoint(c))}function tp(c,a){return!(!a&&_c(c)||c>=2304&&c<=3583||c>=3840&&c<=4255||mn.Khmer(c))}function gm(c){for(const a of c)if(_c(a.charCodeAt(0)))return!0;return!1}const as=new class{constructor(){this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null}setState(c){this.pluginStatus=c.pluginStatus,this.pluginURL=c.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(c){this.applyArabicShaping=c.applyArabicShaping,this.processBidirectionalText=c.processBidirectionalText,this.processStyledBidirectionalText=c.processStyledBidirectionalText}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getPluginURL(){return this.pluginURL}getRTLTextPluginStatus(){return this.pluginStatus}};class yi{constructor(a,d){this.zoom=a,d?(this.now=d.now,this.fadeDuration=d.fadeDuration,this.zoomHistory=d.zoomHistory,this.transition=d.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new El,this.transition={})}isSupportedScript(a){return function(d,m){for(const _ of d)if(!tp(_.charCodeAt(0),m))return!1;return!0}(a,as.getRTLTextPluginStatus()==="loaded")}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const a=this.zoom,d=a-Math.floor(a),m=this.crossFadingFactor();return a>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:d+(1-d)*m}:{fromScale:.5,toScale:1,t:1-(1-m)*d}}}class nh{constructor(a,d){this.property=a,this.value=d,this.expression=function(m,_){if(xt(m))return new Eo(m,_);if(Zn(m)){const S=No(m,_);if(S.result==="error")throw new Error(S.value.map(E=>`${E.key}: ${E.message}`).join(", "));return S.value}{let S=m;return _.type==="color"&&typeof m=="string"?S=Dn.parse(m):_.type!=="padding"||typeof m!="number"&&!Array.isArray(m)?_.type==="variableAnchorOffsetCollection"&&Array.isArray(m)&&(S=qi.parse(m)):S=Mo.parse(m),{kind:"constant",evaluate:()=>S}}}(d===void 0?a.specification.default:d,a.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(a,d,m){return this.property.possiblyEvaluate(this,a,d,m)}}class Gd{constructor(a){this.property=a,this.value=new nh(a,void 0)}transitioned(a,d){return new ym(this.property,this.value,d,J({},a.transition,this.transition),a.now)}untransitioned(){return new ym(this.property,this.value,null,{},0)}}class Wd{constructor(a){this._properties=a,this._values=Object.create(a.defaultTransitionablePropertyValues)}getValue(a){return X(this._values[a].value.value)}setValue(a,d){Object.prototype.hasOwnProperty.call(this._values,a)||(this._values[a]=new Gd(this._values[a].property)),this._values[a].value=new nh(this._values[a].property,d===null?void 0:X(d))}getTransition(a){return X(this._values[a].transition)}setTransition(a,d){Object.prototype.hasOwnProperty.call(this._values,a)||(this._values[a]=new Gd(this._values[a].property)),this._values[a].transition=X(d)||void 0}serialize(){const a={};for(const d of Object.keys(this._values)){const m=this.getValue(d);m!==void 0&&(a[d]=m);const _=this.getTransition(d);_!==void 0&&(a[`${d}-transition`]=_)}return a}transitioned(a,d){const m=new Yh(this._properties);for(const _ of Object.keys(this._values))m._values[_]=this._values[_].transitioned(a,d._values[_]);return m}untransitioned(){const a=new Yh(this._properties);for(const d of Object.keys(this._values))a._values[d]=this._values[d].untransitioned();return a}}class ym{constructor(a,d,m,_,S){this.property=a,this.value=d,this.begin=S+_.delay||0,this.end=this.begin+_.duration||0,a.specification.transition&&(_.delay||_.duration)&&(this.prior=m)}possiblyEvaluate(a,d,m){const _=a.now||0,S=this.value.possiblyEvaluate(a,d,m),E=this.prior;if(E){if(_>this.end)return this.prior=null,S;if(this.value.isDataDriven())return this.prior=null,S;if(_<this.begin)return E.possiblyEvaluate(a,d,m);{const M=(_-this.begin)/(this.end-this.begin);return this.property.interpolate(E.possiblyEvaluate(a,d,m),S,function(F){if(F<=0)return 0;if(F>=1)return 1;const U=F*F,K=U*F;return 4*(F<.5?K:3*(F-U)+K-.75)}(M))}}return S}}class Yh{constructor(a){this._properties=a,this._values=Object.create(a.defaultTransitioningPropertyValues)}possiblyEvaluate(a,d,m){const _=new Nu(this._properties);for(const S of Object.keys(this._values))_._values[S]=this._values[S].possiblyEvaluate(a,d,m);return _}hasTransition(){for(const a of Object.keys(this._values))if(this._values[a].prior)return!0;return!1}}class Jh{constructor(a){this._properties=a,this._values=Object.create(a.defaultPropertyValues)}hasValue(a){return this._values[a].value!==void 0}getValue(a){return X(this._values[a].value)}setValue(a,d){this._values[a]=new nh(this._values[a].property,d===null?void 0:X(d))}serialize(){const a={};for(const d of Object.keys(this._values)){const m=this.getValue(d);m!==void 0&&(a[d]=m)}return a}possiblyEvaluate(a,d,m){const _=new Nu(this._properties);for(const S of Object.keys(this._values))_._values[S]=this._values[S].possiblyEvaluate(a,d,m);return _}}class tl{constructor(a,d,m){this.property=a,this.value=d,this.parameters=m}isConstant(){return this.value.kind==="constant"}constantOr(a){return this.value.kind==="constant"?this.value.value:a}evaluate(a,d,m,_){return this.property.evaluate(this.value,this.parameters,a,d,m,_)}}class Nu{constructor(a){this._properties=a,this._values=Object.create(a.defaultPossiblyEvaluatedValues)}get(a){return this._values[a]}}class Er{constructor(a){this.specification=a}possiblyEvaluate(a,d){if(a.isDataDriven())throw new Error("Value should not be data driven");return a.expression.evaluate(d)}interpolate(a,d,m){const _=Fr[this.specification.type];return _?_(a,d,m):a}}class Gr{constructor(a,d){this.specification=a,this.overrides=d}possiblyEvaluate(a,d,m,_){return new tl(this,a.expression.kind==="constant"||a.expression.kind==="camera"?{kind:"constant",value:a.expression.evaluate(d,null,{},m,_)}:a.expression,d)}interpolate(a,d,m){if(a.value.kind!=="constant"||d.value.kind!=="constant")return a;if(a.value.value===void 0||d.value.value===void 0)return new tl(this,{kind:"constant",value:void 0},a.parameters);const _=Fr[this.specification.type];if(_){const S=_(a.value.value,d.value.value,m);return new tl(this,{kind:"constant",value:S},a.parameters)}return a}evaluate(a,d,m,_,S,E){return a.kind==="constant"?a.value:a.evaluate(d,m,_,S,E)}}class Qh extends Gr{possiblyEvaluate(a,d,m,_){if(a.value===void 0)return new tl(this,{kind:"constant",value:void 0},d);if(a.expression.kind==="constant"){const S=a.expression.evaluate(d,null,{},m,_),E=a.property.specification.type==="resolvedImage"&&typeof S!="string"?S.name:S,M=this._calculate(E,E,E,d);return new tl(this,{kind:"constant",value:M},d)}if(a.expression.kind==="camera"){const S=this._calculate(a.expression.evaluate({zoom:d.zoom-1}),a.expression.evaluate({zoom:d.zoom}),a.expression.evaluate({zoom:d.zoom+1}),d);return new tl(this,{kind:"constant",value:S},d)}return new tl(this,a.expression,d)}evaluate(a,d,m,_,S,E){if(a.kind==="source"){const M=a.evaluate(d,m,_,S,E);return this._calculate(M,M,M,d)}return a.kind==="composite"?this._calculate(a.evaluate({zoom:Math.floor(d.zoom)-1},m,_),a.evaluate({zoom:Math.floor(d.zoom)},m,_),a.evaluate({zoom:Math.floor(d.zoom)+1},m,_),d):a.value}_calculate(a,d,m,_){return _.zoom>_.zoomHistory.lastIntegerZoom?{from:a,to:d}:{from:m,to:d}}interpolate(a){return a}}class A{constructor(a){this.specification=a}possiblyEvaluate(a,d,m,_){if(a.value!==void 0){if(a.expression.kind==="constant"){const S=a.expression.evaluate(d,null,{},m,_);return this._calculate(S,S,S,d)}return this._calculate(a.expression.evaluate(new yi(Math.floor(d.zoom-1),d)),a.expression.evaluate(new yi(Math.floor(d.zoom),d)),a.expression.evaluate(new yi(Math.floor(d.zoom+1),d)),d)}}_calculate(a,d,m,_){return _.zoom>_.zoomHistory.lastIntegerZoom?{from:a,to:d}:{from:m,to:d}}interpolate(a){return a}}class L{constructor(a){this.specification=a}possiblyEvaluate(a,d,m,_){return!!a.expression.evaluate(d,null,{},m,_)}interpolate(){return!1}}class g{constructor(a){this.properties=a,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const d in a){const m=a[d];m.specification.overridable&&this.overridableProperties.push(d);const _=this.defaultPropertyValues[d]=new nh(m,void 0),S=this.defaultTransitionablePropertyValues[d]=new Gd(m);this.defaultTransitioningPropertyValues[d]=S.untransitioned(),this.defaultPossiblyEvaluatedValues[d]=_.possiblyEvaluate({})}}}yr("DataDrivenProperty",Gr),yr("DataConstantProperty",Er),yr("CrossFadedDataDrivenProperty",Qh),yr("CrossFadedProperty",A),yr("ColorRampProperty",L);const i="-transition";class h extends ct{constructor(a,d){if(super(),this.id=a.id,this.type=a.type,this._featureFilter={filter:()=>!0,needGeometry:!1},a.type!=="custom"&&(this.metadata=a.metadata,this.minzoom=a.minzoom,this.maxzoom=a.maxzoom,a.type!=="background"&&(this.source=a.source,this.sourceLayer=a["source-layer"],this.filter=a.filter),d.layout&&(this._unevaluatedLayout=new Jh(d.layout)),d.paint)){this._transitionablePaint=new Wd(d.paint);for(const m in a.paint)this.setPaintProperty(m,a.paint[m],{validate:!1});for(const m in a.layout)this.setLayoutProperty(m,a.layout[m],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Nu(d.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(a){return a==="visibility"?this.visibility:this._unevaluatedLayout.getValue(a)}setLayoutProperty(a,d,m={}){d!=null&&this._validate(Zf,`layers.${this.id}.layout.${a}`,a,d,m)||(a!=="visibility"?this._unevaluatedLayout.setValue(a,d):this.visibility=d)}getPaintProperty(a){return a.endsWith(i)?this._transitionablePaint.getTransition(a.slice(0,-11)):this._transitionablePaint.getValue(a)}setPaintProperty(a,d,m={}){if(d!=null&&this._validate(pm,`layers.${this.id}.paint.${a}`,a,d,m))return!1;if(a.endsWith(i))return this._transitionablePaint.setTransition(a.slice(0,-11),d||void 0),!1;{const _=this._transitionablePaint._values[a],S=_.property.specification["property-type"]==="cross-faded-data-driven",E=_.value.isDataDriven(),M=_.value;this._transitionablePaint.setValue(a,d),this._handleSpecialPaintPropertyUpdate(a);const F=this._transitionablePaint._values[a].value;return F.isDataDriven()||E||S||this._handleOverridablePaintPropertyUpdate(a,M,F)}}_handleSpecialPaintPropertyUpdate(a){}_handleOverridablePaintPropertyUpdate(a,d,m){return!1}isHidden(a){return!!(this.minzoom&&a<this.minzoom)||!!(this.maxzoom&&a>=this.maxzoom)||this.visibility==="none"}updateTransitions(a){this._transitioningPaint=this._transitionablePaint.transitioned(a,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(a,d){a.getCrossfadeParameters&&(this._crossfadeParameters=a.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(a,void 0,d)),this.paint=this._transitioningPaint.possiblyEvaluate(a,void 0,d)}serialize(){const a={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(a.layout=a.layout||{},a.layout.visibility=this.visibility),Z(a,(d,m)=>!(d===void 0||m==="layout"&&!Object.keys(d).length||m==="paint"&&!Object.keys(d).length))}_validate(a,d,m,_,S={}){return(!S||S.validate!==!1)&&Yf(this,a.call(ru,{key:d,layerType:this.type,objectKey:m,value:_,styleSpec:de,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const a in this.paint._values){const d=this.paint.get(a);if(d instanceof tl&&fa(d.property.specification)&&(d.value.kind==="source"||d.value.kind==="composite")&&d.value.isStateDependent)return!0}return!1}}const p={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class y{constructor(a,d){this._structArray=a,this._pos1=d*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class b{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(a,d){return a._trim(),d&&(a.isTransferred=!0,d.push(a.arrayBuffer)),{length:a.length,arrayBuffer:a.arrayBuffer}}static deserialize(a){const d=Object.create(this.prototype);return d.arrayBuffer=a.arrayBuffer,d.length=a.length,d.capacity=a.arrayBuffer.byteLength/d.bytesPerElement,d._refreshViews(),d}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(a){this.reserve(a),this.length=a}reserve(a){if(a>this.capacity){this.capacity=Math.max(a,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const d=this.uint8;this._refreshViews(),d&&this.uint8.set(d)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function T(c,a=1){let d=0,m=0;return{members:c.map(_=>{const S=p[_.type].BYTES_PER_ELEMENT,E=d=k(d,Math.max(a,S)),M=_.components||1;return m=Math.max(m,S),d+=S*M,{name:_.name,type:_.type,components:M,offset:E}}),size:k(d,Math.max(m,a)),alignment:a}}function k(c,a){return Math.ceil(c/a)*a}class R extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,d){const m=this.length;return this.resize(m+1),this.emplace(m,a,d)}emplace(a,d,m){const _=2*a;return this.int16[_+0]=d,this.int16[_+1]=m,a}}R.prototype.bytesPerElement=4,yr("StructArrayLayout2i4",R);class B extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,d,m){const _=this.length;return this.resize(_+1),this.emplace(_,a,d,m)}emplace(a,d,m,_){const S=3*a;return this.int16[S+0]=d,this.int16[S+1]=m,this.int16[S+2]=_,a}}B.prototype.bytesPerElement=6,yr("StructArrayLayout3i6",B);class H extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,d,m,_){const S=this.length;return this.resize(S+1),this.emplace(S,a,d,m,_)}emplace(a,d,m,_,S){const E=4*a;return this.int16[E+0]=d,this.int16[E+1]=m,this.int16[E+2]=_,this.int16[E+3]=S,a}}H.prototype.bytesPerElement=8,yr("StructArrayLayout4i8",H);class q extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,d,m,_,S,E){const M=this.length;return this.resize(M+1),this.emplace(M,a,d,m,_,S,E)}emplace(a,d,m,_,S,E,M){const F=6*a;return this.int16[F+0]=d,this.int16[F+1]=m,this.int16[F+2]=_,this.int16[F+3]=S,this.int16[F+4]=E,this.int16[F+5]=M,a}}q.prototype.bytesPerElement=12,yr("StructArrayLayout2i4i12",q);class te extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,d,m,_,S,E){const M=this.length;return this.resize(M+1),this.emplace(M,a,d,m,_,S,E)}emplace(a,d,m,_,S,E,M){const F=4*a,U=8*a;return this.int16[F+0]=d,this.int16[F+1]=m,this.uint8[U+4]=_,this.uint8[U+5]=S,this.uint8[U+6]=E,this.uint8[U+7]=M,a}}te.prototype.bytesPerElement=8,yr("StructArrayLayout2i4ub8",te);class se extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,d){const m=this.length;return this.resize(m+1),this.emplace(m,a,d)}emplace(a,d,m){const _=2*a;return this.float32[_+0]=d,this.float32[_+1]=m,a}}se.prototype.bytesPerElement=8,yr("StructArrayLayout2f8",se);class ee extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,d,m,_,S,E,M,F,U,K){const Y=this.length;return this.resize(Y+1),this.emplace(Y,a,d,m,_,S,E,M,F,U,K)}emplace(a,d,m,_,S,E,M,F,U,K,Y){const ue=10*a;return this.uint16[ue+0]=d,this.uint16[ue+1]=m,this.uint16[ue+2]=_,this.uint16[ue+3]=S,this.uint16[ue+4]=E,this.uint16[ue+5]=M,this.uint16[ue+6]=F,this.uint16[ue+7]=U,this.uint16[ue+8]=K,this.uint16[ue+9]=Y,a}}ee.prototype.bytesPerElement=20,yr("StructArrayLayout10ui20",ee);class he extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,d,m,_,S,E,M,F,U,K,Y,ue){const pe=this.length;return this.resize(pe+1),this.emplace(pe,a,d,m,_,S,E,M,F,U,K,Y,ue)}emplace(a,d,m,_,S,E,M,F,U,K,Y,ue,pe){const _e=12*a;return this.int16[_e+0]=d,this.int16[_e+1]=m,this.int16[_e+2]=_,this.int16[_e+3]=S,this.uint16[_e+4]=E,this.uint16[_e+5]=M,this.uint16[_e+6]=F,this.uint16[_e+7]=U,this.int16[_e+8]=K,this.int16[_e+9]=Y,this.int16[_e+10]=ue,this.int16[_e+11]=pe,a}}he.prototype.bytesPerElement=24,yr("StructArrayLayout4i4ui4i24",he);class Se extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,d,m){const _=this.length;return this.resize(_+1),this.emplace(_,a,d,m)}emplace(a,d,m,_){const S=3*a;return this.float32[S+0]=d,this.float32[S+1]=m,this.float32[S+2]=_,a}}Se.prototype.bytesPerElement=12,yr("StructArrayLayout3f12",Se);class Ee extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(a){const d=this.length;return this.resize(d+1),this.emplace(d,a)}emplace(a,d){return this.uint32[1*a+0]=d,a}}Ee.prototype.bytesPerElement=4,yr("StructArrayLayout1ul4",Ee);class ke extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,d,m,_,S,E,M,F,U){const K=this.length;return this.resize(K+1),this.emplace(K,a,d,m,_,S,E,M,F,U)}emplace(a,d,m,_,S,E,M,F,U,K){const Y=10*a,ue=5*a;return this.int16[Y+0]=d,this.int16[Y+1]=m,this.int16[Y+2]=_,this.int16[Y+3]=S,this.int16[Y+4]=E,this.int16[Y+5]=M,this.uint32[ue+3]=F,this.uint16[Y+8]=U,this.uint16[Y+9]=K,a}}ke.prototype.bytesPerElement=20,yr("StructArrayLayout6i1ul2ui20",ke);class Te extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,d,m,_,S,E){const M=this.length;return this.resize(M+1),this.emplace(M,a,d,m,_,S,E)}emplace(a,d,m,_,S,E,M){const F=6*a;return this.int16[F+0]=d,this.int16[F+1]=m,this.int16[F+2]=_,this.int16[F+3]=S,this.int16[F+4]=E,this.int16[F+5]=M,a}}Te.prototype.bytesPerElement=12,yr("StructArrayLayout2i2i2i12",Te);class Fe extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,d,m,_,S){const E=this.length;return this.resize(E+1),this.emplace(E,a,d,m,_,S)}emplace(a,d,m,_,S,E){const M=4*a,F=8*a;return this.float32[M+0]=d,this.float32[M+1]=m,this.float32[M+2]=_,this.int16[F+6]=S,this.int16[F+7]=E,a}}Fe.prototype.bytesPerElement=16,yr("StructArrayLayout2f1f2i16",Fe);class Xe extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,d,m,_,S,E){const M=this.length;return this.resize(M+1),this.emplace(M,a,d,m,_,S,E)}emplace(a,d,m,_,S,E,M){const F=16*a,U=4*a,K=8*a;return this.uint8[F+0]=d,this.uint8[F+1]=m,this.float32[U+1]=_,this.float32[U+2]=S,this.int16[K+6]=E,this.int16[K+7]=M,a}}Xe.prototype.bytesPerElement=16,yr("StructArrayLayout2ub2f2i16",Xe);class Ge extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,d,m){const _=this.length;return this.resize(_+1),this.emplace(_,a,d,m)}emplace(a,d,m,_){const S=3*a;return this.uint16[S+0]=d,this.uint16[S+1]=m,this.uint16[S+2]=_,a}}Ge.prototype.bytesPerElement=6,yr("StructArrayLayout3ui6",Ge);class wt extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,d,m,_,S,E,M,F,U,K,Y,ue,pe,_e,Pe,Be,We){const vt=this.length;return this.resize(vt+1),this.emplace(vt,a,d,m,_,S,E,M,F,U,K,Y,ue,pe,_e,Pe,Be,We)}emplace(a,d,m,_,S,E,M,F,U,K,Y,ue,pe,_e,Pe,Be,We,vt){const at=24*a,ft=12*a,At=48*a;return this.int16[at+0]=d,this.int16[at+1]=m,this.uint16[at+2]=_,this.uint16[at+3]=S,this.uint32[ft+2]=E,this.uint32[ft+3]=M,this.uint32[ft+4]=F,this.uint16[at+10]=U,this.uint16[at+11]=K,this.uint16[at+12]=Y,this.float32[ft+7]=ue,this.float32[ft+8]=pe,this.uint8[At+36]=_e,this.uint8[At+37]=Pe,this.uint8[At+38]=Be,this.uint32[ft+10]=We,this.int16[at+22]=vt,a}}wt.prototype.bytesPerElement=48,yr("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",wt);class Mt extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,d,m,_,S,E,M,F,U,K,Y,ue,pe,_e,Pe,Be,We,vt,at,ft,At,Xt,pr,Xr,dr,lr,Dr,Cr){const br=this.length;return this.resize(br+1),this.emplace(br,a,d,m,_,S,E,M,F,U,K,Y,ue,pe,_e,Pe,Be,We,vt,at,ft,At,Xt,pr,Xr,dr,lr,Dr,Cr)}emplace(a,d,m,_,S,E,M,F,U,K,Y,ue,pe,_e,Pe,Be,We,vt,at,ft,At,Xt,pr,Xr,dr,lr,Dr,Cr,br){const Dt=32*a,Nr=16*a;return this.int16[Dt+0]=d,this.int16[Dt+1]=m,this.int16[Dt+2]=_,this.int16[Dt+3]=S,this.int16[Dt+4]=E,this.int16[Dt+5]=M,this.int16[Dt+6]=F,this.int16[Dt+7]=U,this.uint16[Dt+8]=K,this.uint16[Dt+9]=Y,this.uint16[Dt+10]=ue,this.uint16[Dt+11]=pe,this.uint16[Dt+12]=_e,this.uint16[Dt+13]=Pe,this.uint16[Dt+14]=Be,this.uint16[Dt+15]=We,this.uint16[Dt+16]=vt,this.uint16[Dt+17]=at,this.uint16[Dt+18]=ft,this.uint16[Dt+19]=At,this.uint16[Dt+20]=Xt,this.uint16[Dt+21]=pr,this.uint16[Dt+22]=Xr,this.uint32[Nr+12]=dr,this.float32[Nr+13]=lr,this.float32[Nr+14]=Dr,this.uint16[Dt+30]=Cr,this.uint16[Dt+31]=br,a}}Mt.prototype.bytesPerElement=64,yr("StructArrayLayout8i15ui1ul2f2ui64",Mt);class $t extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a){const d=this.length;return this.resize(d+1),this.emplace(d,a)}emplace(a,d){return this.float32[1*a+0]=d,a}}$t.prototype.bytesPerElement=4,yr("StructArrayLayout1f4",$t);class qt extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,d,m){const _=this.length;return this.resize(_+1),this.emplace(_,a,d,m)}emplace(a,d,m,_){const S=3*a;return this.uint16[6*a+0]=d,this.float32[S+1]=m,this.float32[S+2]=_,a}}qt.prototype.bytesPerElement=12,yr("StructArrayLayout1ui2f12",qt);class zt extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,d,m){const _=this.length;return this.resize(_+1),this.emplace(_,a,d,m)}emplace(a,d,m,_){const S=4*a;return this.uint32[2*a+0]=d,this.uint16[S+2]=m,this.uint16[S+3]=_,a}}zt.prototype.bytesPerElement=8,yr("StructArrayLayout1ul2ui8",zt);class Bt extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,d){const m=this.length;return this.resize(m+1),this.emplace(m,a,d)}emplace(a,d,m){const _=2*a;return this.uint16[_+0]=d,this.uint16[_+1]=m,a}}Bt.prototype.bytesPerElement=4,yr("StructArrayLayout2ui4",Bt);class Ht extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a){const d=this.length;return this.resize(d+1),this.emplace(d,a)}emplace(a,d){return this.uint16[1*a+0]=d,a}}Ht.prototype.bytesPerElement=2,yr("StructArrayLayout1ui2",Ht);class Ar extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,d,m,_){const S=this.length;return this.resize(S+1),this.emplace(S,a,d,m,_)}emplace(a,d,m,_,S){const E=4*a;return this.float32[E+0]=d,this.float32[E+1]=m,this.float32[E+2]=_,this.float32[E+3]=S,a}}Ar.prototype.bytesPerElement=16,yr("StructArrayLayout4f16",Ar);class Yt extends y{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new w(this.anchorPointX,this.anchorPointY)}}Yt.prototype.size=20;class Jt extends ke{get(a){return new Yt(this,a)}}yr("CollisionBoxArray",Jt);class Mr extends y{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(a){this._structArray.uint8[this._pos1+37]=a}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(a){this._structArray.uint8[this._pos1+38]=a}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(a){this._structArray.uint32[this._pos4+10]=a}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}Mr.prototype.size=48;class Jr extends wt{get(a){return new Mr(this,a)}}yr("PlacedSymbolArray",Jr);class Wr extends y{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(a){this._structArray.uint32[this._pos4+12]=a}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}Wr.prototype.size=64;class ln extends Mt{get(a){return new Wr(this,a)}}yr("SymbolInstanceArray",ln);class Sn extends $t{getoffsetX(a){return this.float32[1*a+0]}}yr("GlyphOffsetArray",Sn);class Gn extends B{getx(a){return this.int16[3*a+0]}gety(a){return this.int16[3*a+1]}gettileUnitDistanceFromAnchor(a){return this.int16[3*a+2]}}yr("SymbolLineVertexArray",Gn);class Pi extends y{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}Pi.prototype.size=12;class Rn extends qt{get(a){return new Pi(this,a)}}yr("TextAnchorOffsetArray",Rn);class Wi extends y{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}Wi.prototype.size=8;class Wn extends zt{get(a){return new Wi(this,a)}}yr("FeatureIndexArray",Wn);class ji extends R{}class oo extends R{}class ka extends R{}class ss extends q{}class ki extends te{}class Fu extends se{}class ls extends ee{}class ed extends he{}class ih extends Se{}class pa extends Ee{}class Ia extends Te{}class $o extends Xe{}class ma extends Ge{}class Ji extends Bt{}const Jo=T([{name:"a_pos",components:2,type:"Int16"}],4),{members:ga}=Jo;class Mn{constructor(a=[]){this.segments=a}prepareSegment(a,d,m,_){let S=this.segments[this.segments.length-1];return a>Mn.MAX_VERTEX_ARRAY_LENGTH&&be(`Max vertices per segment is ${Mn.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${a}`),(!S||S.vertexLength+a>Mn.MAX_VERTEX_ARRAY_LENGTH||S.sortKey!==_)&&(S={vertexOffset:d.length,primitiveOffset:m.length,vertexLength:0,primitiveLength:0},_!==void 0&&(S.sortKey=_),this.segments.push(S)),S}get(){return this.segments}destroy(){for(const a of this.segments)for(const d in a.vaos)a.vaos[d].destroy()}static simpleSegment(a,d,m,_){return new Mn([{vertexOffset:a,primitiveOffset:d,vertexLength:m,primitiveLength:_,vaos:{},sortKey:0}])}}function Tl(c,a){return 256*(c=re(Math.floor(c),0,255))+re(Math.floor(a),0,255)}Mn.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,yr("SegmentVector",Mn);const $u=T([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var nu={exports:{}},oh={exports:{}};oh.exports=function(c,a){var d,m,_,S,E,M,F,U;for(m=c.length-(d=3&c.length),_=a,E=3432918353,M=461845907,U=0;U<m;)F=255&c.charCodeAt(U)|(255&c.charCodeAt(++U))<<8|(255&c.charCodeAt(++U))<<16|(255&c.charCodeAt(++U))<<24,++U,_=27492+(65535&(S=5*(65535&(_=(_^=F=(65535&(F=(F=(65535&F)*E+(((F>>>16)*E&65535)<<16)&4294967295)<<15|F>>>17))*M+(((F>>>16)*M&65535)<<16)&4294967295)<<13|_>>>19))+((5*(_>>>16)&65535)<<16)&4294967295))+((58964+(S>>>16)&65535)<<16);switch(F=0,d){case 3:F^=(255&c.charCodeAt(U+2))<<16;case 2:F^=(255&c.charCodeAt(U+1))<<8;case 1:_^=F=(65535&(F=(F=(65535&(F^=255&c.charCodeAt(U)))*E+(((F>>>16)*E&65535)<<16)&4294967295)<<15|F>>>17))*M+(((F>>>16)*M&65535)<<16)&4294967295}return _^=c.length,_=2246822507*(65535&(_^=_>>>16))+((2246822507*(_>>>16)&65535)<<16)&4294967295,_=3266489909*(65535&(_^=_>>>13))+((3266489909*(_>>>16)&65535)<<16)&4294967295,(_^=_>>>16)>>>0};var uy=oh.exports,vm={exports:{}};vm.exports=function(c,a){for(var d,m=c.length,_=a^m,S=0;m>=4;)d=1540483477*(65535&(d=255&c.charCodeAt(S)|(255&c.charCodeAt(++S))<<8|(255&c.charCodeAt(++S))<<16|(255&c.charCodeAt(++S))<<24))+((1540483477*(d>>>16)&65535)<<16),_=1540483477*(65535&_)+((1540483477*(_>>>16)&65535)<<16)^(d=1540483477*(65535&(d^=d>>>24))+((1540483477*(d>>>16)&65535)<<16)),m-=4,++S;switch(m){case 3:_^=(255&c.charCodeAt(S+2))<<16;case 2:_^=(255&c.charCodeAt(S+1))<<8;case 1:_=1540483477*(65535&(_^=255&c.charCodeAt(S)))+((1540483477*(_>>>16)&65535)<<16)}return _=1540483477*(65535&(_^=_>>>13))+((1540483477*(_>>>16)&65535)<<16),(_^=_>>>15)>>>0};var Pl=uy,iu=vm.exports;nu.exports=Pl,nu.exports.murmur3=Pl,nu.exports.murmur2=iu;var Xd=f(nu.exports);class td{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(a,d,m,_){this.ids.push(Kd(a)),this.positions.push(d,m,_)}getPositions(a){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const d=Kd(a);let m=0,_=this.ids.length-1;for(;m<_;){const E=m+_>>1;this.ids[E]>=d?_=E:m=E+1}const S=[];for(;this.ids[m]===d;)S.push({index:this.positions[3*m],start:this.positions[3*m+1],end:this.positions[3*m+2]}),m++;return S}static serialize(a,d){const m=new Float64Array(a.ids),_=new Uint32Array(a.positions);return rd(m,_,0,m.length-1),d&&d.push(m.buffer,_.buffer),{ids:m,positions:_}}static deserialize(a){const d=new td;return d.ids=a.ids,d.positions=a.positions,d.indexed=!0,d}}function Kd(c){const a=+c;return!isNaN(a)&&a<=Number.MAX_SAFE_INTEGER?a:Xd(String(c))}function rd(c,a,d,m){for(;d<m;){const _=c[d+m>>1];let S=d-1,E=m+1;for(;;){do S++;while(c[S]<_);do E--;while(c[E]>_);if(S>=E)break;ou(c,S,E),ou(a,3*S,3*E),ou(a,3*S+1,3*E+1),ou(a,3*S+2,3*E+2)}E-d<m-E?(rd(c,a,d,E),d=E+1):(rd(c,a,E+1,m),m=E)}}function ou(c,a,d){const m=c[a];c[a]=c[d],c[d]=m}yr("FeaturePositionMap",td);class ah{constructor(a,d){this.gl=a.gl,this.location=d}}class rp extends ah{constructor(a,d){super(a,d),this.current=0}set(a){this.current!==a&&(this.current=a,this.gl.uniform1f(this.location,a))}}class np extends ah{constructor(a,d){super(a,d),this.current=[0,0,0,0]}set(a){a[0]===this.current[0]&&a[1]===this.current[1]&&a[2]===this.current[2]&&a[3]===this.current[3]||(this.current=a,this.gl.uniform4f(this.location,a[0],a[1],a[2],a[3]))}}class bm extends ah{constructor(a,d){super(a,d),this.current=Dn.transparent}set(a){a.r===this.current.r&&a.g===this.current.g&&a.b===this.current.b&&a.a===this.current.a||(this.current=a,this.gl.uniform4f(this.location,a.r,a.g,a.b,a.a))}}const ip=new Float32Array(16);function _m(c){return[Tl(255*c.r,255*c.g),Tl(255*c.b,255*c.a)]}class op{constructor(a,d,m){this.value=a,this.uniformNames=d.map(_=>`u_${_}`),this.type=m}setUniform(a,d,m){a.set(m.constantOr(this.value))}getBinding(a,d,m){return this.type==="color"?new bm(a,d):new rp(a,d)}}class xc{constructor(a,d){this.uniformNames=d.map(m=>`u_${m}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(a,d){this.pixelRatioFrom=d.pixelRatio,this.pixelRatioTo=a.pixelRatio,this.patternFrom=d.tlbr,this.patternTo=a.tlbr}setUniform(a,d,m,_){const S=_==="u_pattern_to"?this.patternTo:_==="u_pattern_from"?this.patternFrom:_==="u_pixel_ratio_to"?this.pixelRatioTo:_==="u_pixel_ratio_from"?this.pixelRatioFrom:null;S&&a.set(S)}getBinding(a,d,m){return m.substr(0,9)==="u_pattern"?new np(a,d):new rp(a,d)}}class Bu{constructor(a,d,m,_){this.expression=a,this.type=m,this.maxValue=0,this.paintVertexAttributes=d.map(S=>({name:`a_${S}`,type:"Float32",components:m==="color"?2:1,offset:0})),this.paintVertexArray=new _}populatePaintArray(a,d,m,_,S){const E=this.paintVertexArray.length,M=this.expression.evaluate(new yi(0),d,{},_,[],S);this.paintVertexArray.resize(a),this._setPaintValue(E,a,M)}updatePaintArray(a,d,m,_){const S=this.expression.evaluate({zoom:0},m,_);this._setPaintValue(a,d,S)}_setPaintValue(a,d,m){if(this.type==="color"){const _=_m(m);for(let S=a;S<d;S++)this.paintVertexArray.emplace(S,_[0],_[1])}else{for(let _=a;_<d;_++)this.paintVertexArray.emplace(_,m);this.maxValue=Math.max(this.maxValue,Math.abs(m))}}upload(a){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=a.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class rl{constructor(a,d,m,_,S,E){this.expression=a,this.uniformNames=d.map(M=>`u_${M}_t`),this.type=m,this.useIntegerZoom=_,this.zoom=S,this.maxValue=0,this.paintVertexAttributes=d.map(M=>({name:`a_${M}`,type:"Float32",components:m==="color"?4:2,offset:0})),this.paintVertexArray=new E}populatePaintArray(a,d,m,_,S){const E=this.expression.evaluate(new yi(this.zoom),d,{},_,[],S),M=this.expression.evaluate(new yi(this.zoom+1),d,{},_,[],S),F=this.paintVertexArray.length;this.paintVertexArray.resize(a),this._setPaintValue(F,a,E,M)}updatePaintArray(a,d,m,_){const S=this.expression.evaluate({zoom:this.zoom},m,_),E=this.expression.evaluate({zoom:this.zoom+1},m,_);this._setPaintValue(a,d,S,E)}_setPaintValue(a,d,m,_){if(this.type==="color"){const S=_m(m),E=_m(_);for(let M=a;M<d;M++)this.paintVertexArray.emplace(M,S[0],S[1],E[0],E[1])}else{for(let S=a;S<d;S++)this.paintVertexArray.emplace(S,m,_);this.maxValue=Math.max(this.maxValue,Math.abs(m),Math.abs(_))}}upload(a){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=a.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(a,d){const m=this.useIntegerZoom?Math.floor(d.zoom):d.zoom,_=re(this.expression.interpolationFactor(m,this.zoom,this.zoom+1),0,1);a.set(_)}getBinding(a,d,m){return new rp(a,d)}}class us{constructor(a,d,m,_,S,E){this.expression=a,this.type=d,this.useIntegerZoom=m,this.zoom=_,this.layerId=E,this.zoomInPaintVertexArray=new S,this.zoomOutPaintVertexArray=new S}populatePaintArray(a,d,m){const _=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(a),this.zoomOutPaintVertexArray.resize(a),this._setPaintValues(_,a,d.patterns&&d.patterns[this.layerId],m)}updatePaintArray(a,d,m,_,S){this._setPaintValues(a,d,m.patterns&&m.patterns[this.layerId],S)}_setPaintValues(a,d,m,_){if(!_||!m)return;const{min:S,mid:E,max:M}=m,F=_[S],U=_[E],K=_[M];if(F&&U&&K)for(let Y=a;Y<d;Y++)this.zoomInPaintVertexArray.emplace(Y,U.tl[0],U.tl[1],U.br[0],U.br[1],F.tl[0],F.tl[1],F.br[0],F.br[1],U.pixelRatio,F.pixelRatio),this.zoomOutPaintVertexArray.emplace(Y,U.tl[0],U.tl[1],U.br[0],U.br[1],K.tl[0],K.tl[1],K.br[0],K.br[1],U.pixelRatio,K.pixelRatio)}upload(a){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=a.createVertexBuffer(this.zoomInPaintVertexArray,$u.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=a.createVertexBuffer(this.zoomOutPaintVertexArray,$u.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class cy{constructor(a,d,m){this.binders={},this._buffers=[];const _=[];for(const S in a.paint._values){if(!m(S))continue;const E=a.paint.get(S);if(!(E instanceof tl&&fa(E.property.specification)))continue;const M=m5(S,a.type),F=E.value,U=E.property.specification.type,K=E.property.useIntegerZoom,Y=E.property.specification["property-type"],ue=Y==="cross-faded"||Y==="cross-faded-data-driven";if(F.kind==="constant")this.binders[S]=ue?new xc(F.value,M):new op(F.value,M,U),_.push(`/u_${S}`);else if(F.kind==="source"||ue){const pe=hy(S,U,"source");this.binders[S]=ue?new us(F,U,K,d,pe,a.id):new Bu(F,M,U,pe),_.push(`/a_${S}`)}else{const pe=hy(S,U,"composite");this.binders[S]=new rl(F,M,U,K,d,pe),_.push(`/z_${S}`)}}this.cacheKey=_.sort().join("")}getMaxValue(a){const d=this.binders[a];return d instanceof Bu||d instanceof rl?d.maxValue:0}populatePaintArrays(a,d,m,_,S){for(const E in this.binders){const M=this.binders[E];(M instanceof Bu||M instanceof rl||M instanceof us)&&M.populatePaintArray(a,d,m,_,S)}}setConstantPatternPositions(a,d){for(const m in this.binders){const _=this.binders[m];_ instanceof xc&&_.setConstantPatternPositions(a,d)}}updatePaintArrays(a,d,m,_,S){let E=!1;for(const M in a){const F=d.getPositions(M);for(const U of F){const K=m.feature(U.index);for(const Y in this.binders){const ue=this.binders[Y];if((ue instanceof Bu||ue instanceof rl||ue instanceof us)&&ue.expression.isStateDependent===!0){const pe=_.paint.get(Y);ue.expression=pe.value,ue.updatePaintArray(U.start,U.end,K,a[M],S),E=!0}}}}return E}defines(){const a=[];for(const d in this.binders){const m=this.binders[d];(m instanceof op||m instanceof xc)&&a.push(...m.uniformNames.map(_=>`#define HAS_UNIFORM_${_}`))}return a}getBinderAttributes(){const a=[];for(const d in this.binders){const m=this.binders[d];if(m instanceof Bu||m instanceof rl)for(let _=0;_<m.paintVertexAttributes.length;_++)a.push(m.paintVertexAttributes[_].name);else if(m instanceof us)for(let _=0;_<$u.members.length;_++)a.push($u.members[_].name)}return a}getBinderUniforms(){const a=[];for(const d in this.binders){const m=this.binders[d];if(m instanceof op||m instanceof xc||m instanceof rl)for(const _ of m.uniformNames)a.push(_)}return a}getPaintVertexBuffers(){return this._buffers}getUniforms(a,d){const m=[];for(const _ in this.binders){const S=this.binders[_];if(S instanceof op||S instanceof xc||S instanceof rl){for(const E of S.uniformNames)if(d[E]){const M=S.getBinding(a,d[E],E);m.push({name:E,property:_,binding:M})}}}return m}setUniforms(a,d,m,_){for(const{name:S,property:E,binding:M}of d)this.binders[E].setUniform(M,_,m.get(E),S)}updatePaintBuffers(a){this._buffers=[];for(const d in this.binders){const m=this.binders[d];if(a&&m instanceof us){const _=a.fromScale===2?m.zoomInPaintVertexBuffer:m.zoomOutPaintVertexBuffer;_&&this._buffers.push(_)}else(m instanceof Bu||m instanceof rl)&&m.paintVertexBuffer&&this._buffers.push(m.paintVertexBuffer)}}upload(a){for(const d in this.binders){const m=this.binders[d];(m instanceof Bu||m instanceof rl||m instanceof us)&&m.upload(a)}this.updatePaintBuffers()}destroy(){for(const a in this.binders){const d=this.binders[a];(d instanceof Bu||d instanceof rl||d instanceof us)&&d.destroy()}}}class sh{constructor(a,d,m=()=>!0){this.programConfigurations={};for(const _ of a)this.programConfigurations[_.id]=new cy(_,d,m);this.needsUpload=!1,this._featureMap=new td,this._bufferOffset=0}populatePaintArrays(a,d,m,_,S,E){for(const M in this.programConfigurations)this.programConfigurations[M].populatePaintArrays(a,d,_,S,E);d.id!==void 0&&this._featureMap.add(d.id,m,this._bufferOffset,a),this._bufferOffset=a,this.needsUpload=!0}updatePaintArrays(a,d,m,_){for(const S of m)this.needsUpload=this.programConfigurations[S.id].updatePaintArrays(a,this._featureMap,d,S,_)||this.needsUpload}get(a){return this.programConfigurations[a]}upload(a){if(this.needsUpload){for(const d in this.programConfigurations)this.programConfigurations[d].upload(a);this.needsUpload=!1}}destroy(){for(const a in this.programConfigurations)this.programConfigurations[a].destroy()}}function m5(c,a){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[c]||[c.replace(`${a}-`,"").replace(/-/g,"_")]}function hy(c,a,d){const m={color:{source:se,composite:Ar},number:{source:$t,composite:se}},_=function(S){return{"line-pattern":{source:ls,composite:ls},"fill-pattern":{source:ls,composite:ls},"fill-extrusion-pattern":{source:ls,composite:ls}}[S]}(c);return _&&_[d]||m[a][d]}yr("ConstantBinder",op),yr("CrossFadedConstantBinder",xc),yr("SourceExpressionBinder",Bu),yr("CrossFadedCompositeBinder",us),yr("CompositeExpressionBinder",rl),yr("ProgramConfiguration",cy,{omit:["_buffers"]}),yr("ProgramConfigurationSet",sh);const Ii=8192,dy=Math.pow(2,14)-1,fy=-dy-1;function nd(c){const a=Ii/c.extent,d=c.loadGeometry();for(let m=0;m<d.length;m++){const _=d[m];for(let S=0;S<_.length;S++){const E=_[S],M=Math.round(E.x*a),F=Math.round(E.y*a);E.x=re(M,fy,dy),E.y=re(F,fy,dy),(M<E.x||M>E.x+1||F<E.y||F>E.y+1)&&be("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return d}function lh(c,a){return{type:c.type,id:c.id,properties:c.properties,geometry:a?nd(c):[]}}function xm(c,a,d,m,_){c.emplaceBack(2*a+(m+1)/2,2*d+(_+1)/2)}class id{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(d=>d.id),this.index=a.index,this.hasPattern=!1,this.layoutVertexArray=new oo,this.indexArray=new ma,this.segments=new Mn,this.programConfigurations=new sh(a.layers,a.zoom),this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(a,d,m){const _=this.layers[0],S=[];let E=null,M=!1;_.type==="circle"&&(E=_.layout.get("circle-sort-key"),M=!E.isConstant());for(const{feature:F,id:U,index:K,sourceLayerIndex:Y}of a){const ue=this.layers[0]._featureFilter.needGeometry,pe=lh(F,ue);if(!this.layers[0]._featureFilter.filter(new yi(this.zoom),pe,m))continue;const _e=M?E.evaluate(pe,{},m):void 0,Pe={id:U,properties:F.properties,type:F.type,sourceLayerIndex:Y,index:K,geometry:ue?pe.geometry:nd(F),patterns:{},sortKey:_e};S.push(Pe)}M&&S.sort((F,U)=>F.sortKey-U.sortKey);for(const F of S){const{geometry:U,index:K,sourceLayerIndex:Y}=F,ue=a[K].feature;this.addFeature(F,U,K,m),d.featureIndex.insert(ue,U,K,Y,this.index)}}update(a,d,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,d,this.stateDependentLayers,m)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,ga),this.indexBuffer=a.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(a,d,m,_){for(const S of d)for(const E of S){const M=E.x,F=E.y;if(M<0||M>=Ii||F<0||F>=Ii)continue;const U=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,a.sortKey),K=U.vertexLength;xm(this.layoutVertexArray,M,F,-1,-1),xm(this.layoutVertexArray,M,F,1,-1),xm(this.layoutVertexArray,M,F,1,1),xm(this.layoutVertexArray,M,F,-1,1),this.indexArray.emplaceBack(K,K+1,K+2),this.indexArray.emplaceBack(K,K+3,K+2),U.vertexLength+=4,U.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,m,{},_)}}function wm(c,a){for(let d=0;d<c.length;d++)if(ch(a,c[d]))return!0;for(let d=0;d<a.length;d++)if(ch(c,a[d]))return!0;return!!ju(c,a)}function Sm(c,a,d){return!!ch(c,a)||!!ap(a,c,d)}function zu(c,a){if(c.length===1)return b2(a,c[0]);for(let d=0;d<a.length;d++){const m=a[d];for(let _=0;_<m.length;_++)if(ch(c,m[_]))return!0}for(let d=0;d<c.length;d++)if(b2(a,c[d]))return!0;for(let d=0;d<a.length;d++)if(ju(c,a[d]))return!0;return!1}function uh(c,a,d){if(c.length>1){if(ju(c,a))return!0;for(let m=0;m<a.length;m++)if(ap(a[m],c,d))return!0}for(let m=0;m<c.length;m++)if(ap(c[m],a,d))return!0;return!1}function ju(c,a){if(c.length===0||a.length===0)return!1;for(let d=0;d<c.length-1;d++){const m=c[d],_=c[d+1];for(let S=0;S<a.length-1;S++)if(Cm(m,_,a[S],a[S+1]))return!0}return!1}function Cm(c,a,d,m){return ge(c,d,m)!==ge(a,d,m)&&ge(c,a,d)!==ge(c,a,m)}function ap(c,a,d){const m=d*d;if(a.length===1)return c.distSqr(a[0])<m;for(let _=1;_<a.length;_++)if(py(c,a[_-1],a[_])<m)return!0;return!1}function py(c,a,d){const m=a.distSqr(d);if(m===0)return c.distSqr(a);const _=((c.x-a.x)*(d.x-a.x)+(c.y-a.y)*(d.y-a.y))/m;return c.distSqr(_<0?a:_>1?d:d.sub(a)._mult(_)._add(a))}function b2(c,a){let d,m,_,S=!1;for(let E=0;E<c.length;E++){d=c[E];for(let M=0,F=d.length-1;M<d.length;F=M++)m=d[M],_=d[F],m.y>a.y!=_.y>a.y&&a.x<(_.x-m.x)*(a.y-m.y)/(_.y-m.y)+m.x&&(S=!S)}return S}function ch(c,a){let d=!1;for(let m=0,_=c.length-1;m<c.length;_=m++){const S=c[m],E=c[_];S.y>a.y!=E.y>a.y&&a.x<(E.x-S.x)*(a.y-S.y)/(E.y-S.y)+S.x&&(d=!d)}return d}function my(c,a,d){const m=d[0],_=d[2];if(c.x<m.x&&a.x<m.x||c.x>_.x&&a.x>_.x||c.y<m.y&&a.y<m.y||c.y>_.y&&a.y>_.y)return!1;const S=ge(c,a,d[0]);return S!==ge(c,a,d[1])||S!==ge(c,a,d[2])||S!==ge(c,a,d[3])}function gy(c,a,d){const m=a.paint.get(c).value;return m.kind==="constant"?m.value:d.programConfigurations.get(a.id).getMaxValue(c)}function _2(c){return Math.sqrt(c[0]*c[0]+c[1]*c[1])}function x2(c,a,d,m,_){if(!a[0]&&!a[1])return c;const S=w.convert(a)._mult(_);d==="viewport"&&S._rotate(-m);const E=[];for(let M=0;M<c.length;M++)E.push(c[M].sub(S));return E}let fP,pP;yr("CircleBucket",id,{omit:["layers"]});var kz={get paint(){return pP=pP||new g({"circle-radius":new Gr(de.paint_circle["circle-radius"]),"circle-color":new Gr(de.paint_circle["circle-color"]),"circle-blur":new Gr(de.paint_circle["circle-blur"]),"circle-opacity":new Gr(de.paint_circle["circle-opacity"]),"circle-translate":new Er(de.paint_circle["circle-translate"]),"circle-translate-anchor":new Er(de.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Er(de.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Er(de.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Gr(de.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Gr(de.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Gr(de.paint_circle["circle-stroke-opacity"])})},get layout(){return fP=fP||new g({"circle-sort-key":new Gr(de.layout_circle["circle-sort-key"])})}},Ls=1e-6,Am=typeof Float32Array<"u"?Float32Array:Array;function g5(c){return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}function mP(c,a,d){var m=a[0],_=a[1],S=a[2],E=a[3],M=a[4],F=a[5],U=a[6],K=a[7],Y=a[8],ue=a[9],pe=a[10],_e=a[11],Pe=a[12],Be=a[13],We=a[14],vt=a[15],at=d[0],ft=d[1],At=d[2],Xt=d[3];return c[0]=at*m+ft*M+At*Y+Xt*Pe,c[1]=at*_+ft*F+At*ue+Xt*Be,c[2]=at*S+ft*U+At*pe+Xt*We,c[3]=at*E+ft*K+At*_e+Xt*vt,c[4]=(at=d[4])*m+(ft=d[5])*M+(At=d[6])*Y+(Xt=d[7])*Pe,c[5]=at*_+ft*F+At*ue+Xt*Be,c[6]=at*S+ft*U+At*pe+Xt*We,c[7]=at*E+ft*K+At*_e+Xt*vt,c[8]=(at=d[8])*m+(ft=d[9])*M+(At=d[10])*Y+(Xt=d[11])*Pe,c[9]=at*_+ft*F+At*ue+Xt*Be,c[10]=at*S+ft*U+At*pe+Xt*We,c[11]=at*E+ft*K+At*_e+Xt*vt,c[12]=(at=d[12])*m+(ft=d[13])*M+(At=d[14])*Y+(Xt=d[15])*Pe,c[13]=at*_+ft*F+At*ue+Xt*Be,c[14]=at*S+ft*U+At*pe+Xt*We,c[15]=at*E+ft*K+At*_e+Xt*vt,c}Math.hypot||(Math.hypot=function(){for(var c=0,a=arguments.length;a--;)c+=arguments[a]*arguments[a];return Math.sqrt(c)});var yy,Iz=mP;function w2(c,a,d){var m=a[0],_=a[1],S=a[2],E=a[3];return c[0]=d[0]*m+d[4]*_+d[8]*S+d[12]*E,c[1]=d[1]*m+d[5]*_+d[9]*S+d[13]*E,c[2]=d[2]*m+d[6]*_+d[10]*S+d[14]*E,c[3]=d[3]*m+d[7]*_+d[11]*S+d[15]*E,c}yy=new Am(4),Am!=Float32Array&&(yy[0]=0,yy[1]=0,yy[2]=0,yy[3]=0);class Lz extends h{constructor(a){super(a,kz)}createBucket(a){return new id(a)}queryRadius(a){const d=a;return gy("circle-radius",this,d)+gy("circle-stroke-width",this,d)+_2(this.paint.get("circle-translate"))}queryIntersectsFeature(a,d,m,_,S,E,M,F){const U=x2(a,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),E.angle,M),K=this.paint.get("circle-radius").evaluate(d,m)+this.paint.get("circle-stroke-width").evaluate(d,m),Y=this.paint.get("circle-pitch-alignment")==="map",ue=Y?U:function(_e,Pe){return _e.map(Be=>gP(Be,Pe))}(U,F),pe=Y?K*M:K;for(const _e of _)for(const Pe of _e){const Be=Y?Pe:gP(Pe,F);let We=pe;const vt=w2([],[Pe.x,Pe.y,0,1],F);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?We*=vt[3]/E.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(We*=E.cameraToCenterDistance/vt[3]),Sm(ue,Be,We))return!0}return!1}}function gP(c,a){const d=w2([],[c.x,c.y,0,1],a);return new w(d[0]/d[3],d[1]/d[3])}class yP extends id{}let vP;yr("HeatmapBucket",yP,{omit:["layers"]});var Mz={get paint(){return vP=vP||new g({"heatmap-radius":new Gr(de.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Gr(de.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Er(de.paint_heatmap["heatmap-intensity"]),"heatmap-color":new L(de.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Er(de.paint_heatmap["heatmap-opacity"])})}};function y5(c,{width:a,height:d},m,_){if(_){if(_ instanceof Uint8ClampedArray)_=new Uint8Array(_.buffer);else if(_.length!==a*d*m)throw new RangeError(`mismatched image size. expected: ${_.length} but got: ${a*d*m}`)}else _=new Uint8Array(a*d*m);return c.width=a,c.height=d,c.data=_,c}function bP(c,{width:a,height:d},m){if(a===c.width&&d===c.height)return;const _=y5({},{width:a,height:d},m);v5(c,_,{x:0,y:0},{x:0,y:0},{width:Math.min(c.width,a),height:Math.min(c.height,d)},m),c.width=a,c.height=d,c.data=_.data}function v5(c,a,d,m,_,S){if(_.width===0||_.height===0)return a;if(_.width>c.width||_.height>c.height||d.x>c.width-_.width||d.y>c.height-_.height)throw new RangeError("out of range source coordinates for image copy");if(_.width>a.width||_.height>a.height||m.x>a.width-_.width||m.y>a.height-_.height)throw new RangeError("out of range destination coordinates for image copy");const E=c.data,M=a.data;if(E===M)throw new Error("srcData equals dstData, so image is already copied");for(let F=0;F<_.height;F++){const U=((d.y+F)*c.width+d.x)*S,K=((m.y+F)*a.width+m.x)*S;for(let Y=0;Y<_.width*S;Y++)M[K+Y]=E[U+Y]}return a}class vy{constructor(a,d){y5(this,a,1,d)}resize(a){bP(this,a,1)}clone(){return new vy({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(a,d,m,_,S){v5(a,d,m,_,S,1)}}class au{constructor(a,d){y5(this,a,4,d)}resize(a){bP(this,a,4)}replace(a,d){d?this.data.set(a):this.data=a instanceof Uint8ClampedArray?new Uint8Array(a.buffer):a}clone(){return new au({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(a,d,m,_,S){v5(a,d,m,_,S,4)}}function _P(c){const a={},d=c.resolution||256,m=c.clips?c.clips.length:1,_=c.image||new au({width:d,height:m});if(Math.log(d)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${d}`);const S=(E,M,F)=>{a[c.evaluationKey]=F;const U=c.expression.evaluate(a);_.data[E+M+0]=Math.floor(255*U.r/U.a),_.data[E+M+1]=Math.floor(255*U.g/U.a),_.data[E+M+2]=Math.floor(255*U.b/U.a),_.data[E+M+3]=Math.floor(255*U.a)};if(c.clips)for(let E=0,M=0;E<m;++E,M+=4*d)for(let F=0,U=0;F<d;F++,U+=4){const K=F/(d-1),{start:Y,end:ue}=c.clips[E];S(M,U,Y*(1-K)+ue*K)}else for(let E=0,M=0;E<d;E++,M+=4)S(0,M,E/(d-1));return _}yr("AlphaImage",vy),yr("RGBAImage",au);const b5="big-fb";class Dz extends h{createBucket(a){return new yP(a)}constructor(a){super(a,Mz),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(a){a==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=_P({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(b5)&&this.heatmapFbos.delete(b5)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let xP;var Rz={get paint(){return xP=xP||new g({"hillshade-illumination-direction":new Er(de.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Er(de.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Er(de.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Er(de.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Er(de.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Er(de.paint_hillshade["hillshade-accent-color"])})}};class Oz extends h{constructor(a){super(a,Rz)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const Nz=T([{name:"a_pos",components:2,type:"Int16"}],4),{members:Fz}=Nz;function wP(c,a,d=2){const m=a&&a.length,_=m?a[0]*d:c.length;let S=SP(c,0,_,d,!0);const E=[];if(!S||S.next===S.prev)return E;let M,F,U;if(m&&(S=function(K,Y,ue,pe){const _e=[];for(let Pe=0,Be=Y.length;Pe<Be;Pe++){const We=SP(K,Y[Pe]*pe,Pe<Be-1?Y[Pe+1]*pe:K.length,pe,!1);We===We.next&&(We.steiner=!0),_e.push(Hz(We))}_e.sort(Uz);for(let Pe=0;Pe<_e.length;Pe++)ue=Vz(_e[Pe],ue);return ue}(c,a,S,d)),c.length>80*d){M=1/0,F=1/0;let K=-1/0,Y=-1/0;for(let ue=d;ue<_;ue+=d){const pe=c[ue],_e=c[ue+1];pe<M&&(M=pe),_e<F&&(F=_e),pe>K&&(K=pe),_e>Y&&(Y=_e)}U=Math.max(K-M,Y-F),U=U!==0?32767/U:0}return by(S,E,d,M,F,U,0),E}function SP(c,a,d,m,_){let S;if(_===function(E,M,F,U){let K=0;for(let Y=M,ue=F-U;Y<F;Y+=U)K+=(E[ue]-E[Y])*(E[Y+1]+E[ue+1]),ue=Y;return K}(c,a,d,m)>0)for(let E=a;E<d;E+=m)S=EP(E/m|0,c[E],c[E+1],S);else for(let E=d-m;E>=a;E-=m)S=EP(E/m|0,c[E],c[E+1],S);return S&&S2(S,S.next)&&(xy(S),S=S.next),S}function sp(c,a){if(!c)return c;a||(a=c);let d,m=c;do if(d=!1,m.steiner||!S2(m,m.next)&&To(m.prev,m,m.next)!==0)m=m.next;else{if(xy(m),m=a=m.prev,m===m.next)break;d=!0}while(d||m!==a);return a}function by(c,a,d,m,_,S,E){if(!c)return;!E&&S&&function(F,U,K,Y){let ue=F;do ue.z===0&&(ue.z=_5(ue.x,ue.y,U,K,Y)),ue.prevZ=ue.prev,ue.nextZ=ue.next,ue=ue.next;while(ue!==F);ue.prevZ.nextZ=null,ue.prevZ=null,function(pe){let _e,Pe=1;do{let Be,We=pe;pe=null;let vt=null;for(_e=0;We;){_e++;let at=We,ft=0;for(let Xt=0;Xt<Pe&&(ft++,at=at.nextZ,at);Xt++);let At=Pe;for(;ft>0||At>0&&at;)ft!==0&&(At===0||!at||We.z<=at.z)?(Be=We,We=We.nextZ,ft--):(Be=at,at=at.nextZ,At--),vt?vt.nextZ=Be:pe=Be,Be.prevZ=vt,vt=Be;We=at}vt.nextZ=null,Pe*=2}while(_e>1)}(ue)}(c,m,_,S);let M=c;for(;c.prev!==c.next;){const F=c.prev,U=c.next;if(S?Bz(c,m,_,S):$z(c))a.push(F.i,c.i,U.i),xy(c),c=U.next,M=U.next;else if((c=U)===M){E?E===1?by(c=zz(sp(c),a),a,d,m,_,S,2):E===2&&jz(c,a,d,m,_,S):by(sp(c),a,d,m,_,S,1);break}}}function $z(c){const a=c.prev,d=c,m=c.next;if(To(a,d,m)>=0)return!1;const _=a.x,S=d.x,E=m.x,M=a.y,F=d.y,U=m.y,K=_<S?_<E?_:E:S<E?S:E,Y=M<F?M<U?M:U:F<U?F:U,ue=_>S?_>E?_:E:S>E?S:E,pe=M>F?M>U?M:U:F>U?F:U;let _e=m.next;for(;_e!==a;){if(_e.x>=K&&_e.x<=ue&&_e.y>=Y&&_e.y<=pe&&Em(_,M,S,F,E,U,_e.x,_e.y)&&To(_e.prev,_e,_e.next)>=0)return!1;_e=_e.next}return!0}function Bz(c,a,d,m){const _=c.prev,S=c,E=c.next;if(To(_,S,E)>=0)return!1;const M=_.x,F=S.x,U=E.x,K=_.y,Y=S.y,ue=E.y,pe=M<F?M<U?M:U:F<U?F:U,_e=K<Y?K<ue?K:ue:Y<ue?Y:ue,Pe=M>F?M>U?M:U:F>U?F:U,Be=K>Y?K>ue?K:ue:Y>ue?Y:ue,We=_5(pe,_e,a,d,m),vt=_5(Pe,Be,a,d,m);let at=c.prevZ,ft=c.nextZ;for(;at&&at.z>=We&&ft&&ft.z<=vt;){if(at.x>=pe&&at.x<=Pe&&at.y>=_e&&at.y<=Be&&at!==_&&at!==E&&Em(M,K,F,Y,U,ue,at.x,at.y)&&To(at.prev,at,at.next)>=0||(at=at.prevZ,ft.x>=pe&&ft.x<=Pe&&ft.y>=_e&&ft.y<=Be&&ft!==_&&ft!==E&&Em(M,K,F,Y,U,ue,ft.x,ft.y)&&To(ft.prev,ft,ft.next)>=0))return!1;ft=ft.nextZ}for(;at&&at.z>=We;){if(at.x>=pe&&at.x<=Pe&&at.y>=_e&&at.y<=Be&&at!==_&&at!==E&&Em(M,K,F,Y,U,ue,at.x,at.y)&&To(at.prev,at,at.next)>=0)return!1;at=at.prevZ}for(;ft&&ft.z<=vt;){if(ft.x>=pe&&ft.x<=Pe&&ft.y>=_e&&ft.y<=Be&&ft!==_&&ft!==E&&Em(M,K,F,Y,U,ue,ft.x,ft.y)&&To(ft.prev,ft,ft.next)>=0)return!1;ft=ft.nextZ}return!0}function zz(c,a){let d=c;do{const m=d.prev,_=d.next.next;!S2(m,_)&&CP(m,d,d.next,_)&&_y(m,_)&&_y(_,m)&&(a.push(m.i,d.i,_.i),xy(d),xy(d.next),d=c=_),d=d.next}while(d!==c);return sp(d)}function jz(c,a,d,m,_,S){let E=c;do{let M=E.next.next;for(;M!==E.prev;){if(E.i!==M.i&&Gz(E,M)){let F=AP(E,M);return E=sp(E,E.next),F=sp(F,F.next),by(E,a,d,m,_,S,0),void by(F,a,d,m,_,S,0)}M=M.next}E=E.next}while(E!==c)}function Uz(c,a){return c.x-a.x}function Vz(c,a){const d=function(_,S){let E=S;const M=_.x,F=_.y;let U,K=-1/0;do{if(F<=E.y&&F>=E.next.y&&E.next.y!==E.y){const Pe=E.x+(F-E.y)*(E.next.x-E.x)/(E.next.y-E.y);if(Pe<=M&&Pe>K&&(K=Pe,U=E.x<E.next.x?E:E.next,Pe===M))return U}E=E.next}while(E!==S);if(!U)return null;const Y=U,ue=U.x,pe=U.y;let _e=1/0;E=U;do{if(M>=E.x&&E.x>=ue&&M!==E.x&&Em(F<pe?M:K,F,ue,pe,F<pe?K:M,F,E.x,E.y)){const Pe=Math.abs(F-E.y)/(M-E.x);_y(E,_)&&(Pe<_e||Pe===_e&&(E.x>U.x||E.x===U.x&&qz(U,E)))&&(U=E,_e=Pe)}E=E.next}while(E!==Y);return U}(c,a);if(!d)return a;const m=AP(d,c);return sp(m,m.next),sp(d,d.next)}function qz(c,a){return To(c.prev,c,a.prev)<0&&To(a.next,c,c.next)<0}function _5(c,a,d,m,_){return(c=1431655765&((c=858993459&((c=252645135&((c=16711935&((c=(c-d)*_|0)|c<<8))|c<<4))|c<<2))|c<<1))|(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a=(a-m)*_|0)|a<<8))|a<<4))|a<<2))|a<<1))<<1}function Hz(c){let a=c,d=c;do(a.x<d.x||a.x===d.x&&a.y<d.y)&&(d=a),a=a.next;while(a!==c);return d}function Em(c,a,d,m,_,S,E,M){return(_-E)*(a-M)>=(c-E)*(S-M)&&(c-E)*(m-M)>=(d-E)*(a-M)&&(d-E)*(S-M)>=(_-E)*(m-M)}function Gz(c,a){return c.next.i!==a.i&&c.prev.i!==a.i&&!function(d,m){let _=d;do{if(_.i!==d.i&&_.next.i!==d.i&&_.i!==m.i&&_.next.i!==m.i&&CP(_,_.next,d,m))return!0;_=_.next}while(_!==d);return!1}(c,a)&&(_y(c,a)&&_y(a,c)&&function(d,m){let _=d,S=!1;const E=(d.x+m.x)/2,M=(d.y+m.y)/2;do _.y>M!=_.next.y>M&&_.next.y!==_.y&&E<(_.next.x-_.x)*(M-_.y)/(_.next.y-_.y)+_.x&&(S=!S),_=_.next;while(_!==d);return S}(c,a)&&(To(c.prev,c,a.prev)||To(c,a.prev,a))||S2(c,a)&&To(c.prev,c,c.next)>0&&To(a.prev,a,a.next)>0)}function To(c,a,d){return(a.y-c.y)*(d.x-a.x)-(a.x-c.x)*(d.y-a.y)}function S2(c,a){return c.x===a.x&&c.y===a.y}function CP(c,a,d,m){const _=A2(To(c,a,d)),S=A2(To(c,a,m)),E=A2(To(d,m,c)),M=A2(To(d,m,a));return _!==S&&E!==M||!(_!==0||!C2(c,d,a))||!(S!==0||!C2(c,m,a))||!(E!==0||!C2(d,c,m))||!(M!==0||!C2(d,a,m))}function C2(c,a,d){return a.x<=Math.max(c.x,d.x)&&a.x>=Math.min(c.x,d.x)&&a.y<=Math.max(c.y,d.y)&&a.y>=Math.min(c.y,d.y)}function A2(c){return c>0?1:c<0?-1:0}function _y(c,a){return To(c.prev,c,c.next)<0?To(c,a,c.next)>=0&&To(c,c.prev,a)>=0:To(c,a,c.prev)<0||To(c,c.next,a)<0}function AP(c,a){const d=x5(c.i,c.x,c.y),m=x5(a.i,a.x,a.y),_=c.next,S=a.prev;return c.next=a,a.prev=c,d.next=_,_.prev=d,m.next=d,d.prev=m,S.next=m,m.prev=S,m}function EP(c,a,d,m){const _=x5(c,a,d);return m?(_.next=m.next,_.prev=m,m.next.prev=_,m.next=_):(_.prev=_,_.next=_),_}function xy(c){c.next.prev=c.prev,c.prev.next=c.next,c.prevZ&&(c.prevZ.nextZ=c.nextZ),c.nextZ&&(c.nextZ.prevZ=c.prevZ)}function x5(c,a,d){return{i:c,x:a,y:d,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function w5(c,a,d){const m=d.patternDependencies;let _=!1;for(const S of a){const E=S.paint.get(`${c}-pattern`);E.isConstant()||(_=!0);const M=E.constantOr(null);M&&(_=!0,m[M.to]=!0,m[M.from]=!0)}return _}function S5(c,a,d,m,_){const S=_.patternDependencies;for(const E of a){const M=E.paint.get(`${c}-pattern`).value;if(M.kind!=="constant"){let F=M.evaluate({zoom:m-1},d,{},_.availableImages),U=M.evaluate({zoom:m},d,{},_.availableImages),K=M.evaluate({zoom:m+1},d,{},_.availableImages);F=F&&F.name?F.name:F,U=U&&U.name?U.name:U,K=K&&K.name?K.name:K,S[F]=!0,S[U]=!0,S[K]=!0,d.patterns[E.id]={min:F,mid:U,max:K}}}return d}class C5{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(d=>d.id),this.index=a.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new ka,this.indexArray=new ma,this.indexArray2=new Ji,this.programConfigurations=new sh(a.layers,a.zoom),this.segments=new Mn,this.segments2=new Mn,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(a,d,m){this.hasPattern=w5("fill",this.layers,d);const _=this.layers[0].layout.get("fill-sort-key"),S=!_.isConstant(),E=[];for(const{feature:M,id:F,index:U,sourceLayerIndex:K}of a){const Y=this.layers[0]._featureFilter.needGeometry,ue=lh(M,Y);if(!this.layers[0]._featureFilter.filter(new yi(this.zoom),ue,m))continue;const pe=S?_.evaluate(ue,{},m,d.availableImages):void 0,_e={id:F,properties:M.properties,type:M.type,sourceLayerIndex:K,index:U,geometry:Y?ue.geometry:nd(M),patterns:{},sortKey:pe};E.push(_e)}S&&E.sort((M,F)=>M.sortKey-F.sortKey);for(const M of E){const{geometry:F,index:U,sourceLayerIndex:K}=M;if(this.hasPattern){const Y=S5("fill",this.layers,M,this.zoom,d);this.patternFeatures.push(Y)}else this.addFeature(M,F,U,m,{});d.featureIndex.insert(a[U].feature,F,U,K,this.index)}}update(a,d,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,d,this.stateDependentLayers,m)}addFeatures(a,d,m){for(const _ of this.patternFeatures)this.addFeature(_,_.geometry,_.index,d,m)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,Fz),this.indexBuffer=a.createIndexBuffer(this.indexArray),this.indexBuffer2=a.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(a,d,m,_,S){for(const E of xs(d,500)){let M=0;for(const pe of E)M+=pe.length;const F=this.segments.prepareSegment(M,this.layoutVertexArray,this.indexArray),U=F.vertexLength,K=[],Y=[];for(const pe of E){if(pe.length===0)continue;pe!==E[0]&&Y.push(K.length/2);const _e=this.segments2.prepareSegment(pe.length,this.layoutVertexArray,this.indexArray2),Pe=_e.vertexLength;this.layoutVertexArray.emplaceBack(pe[0].x,pe[0].y),this.indexArray2.emplaceBack(Pe+pe.length-1,Pe),K.push(pe[0].x),K.push(pe[0].y);for(let Be=1;Be<pe.length;Be++)this.layoutVertexArray.emplaceBack(pe[Be].x,pe[Be].y),this.indexArray2.emplaceBack(Pe+Be-1,Pe+Be),K.push(pe[Be].x),K.push(pe[Be].y);_e.vertexLength+=pe.length,_e.primitiveLength+=pe.length}const ue=wP(K,Y);for(let pe=0;pe<ue.length;pe+=3)this.indexArray.emplaceBack(U+ue[pe],U+ue[pe+1],U+ue[pe+2]);F.vertexLength+=M,F.primitiveLength+=ue.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,m,S,_)}}let TP,PP;yr("FillBucket",C5,{omit:["layers","patternFeatures"]});var Wz={get paint(){return PP=PP||new g({"fill-antialias":new Er(de.paint_fill["fill-antialias"]),"fill-opacity":new Gr(de.paint_fill["fill-opacity"]),"fill-color":new Gr(de.paint_fill["fill-color"]),"fill-outline-color":new Gr(de.paint_fill["fill-outline-color"]),"fill-translate":new Er(de.paint_fill["fill-translate"]),"fill-translate-anchor":new Er(de.paint_fill["fill-translate-anchor"]),"fill-pattern":new Qh(de.paint_fill["fill-pattern"])})},get layout(){return TP=TP||new g({"fill-sort-key":new Gr(de.layout_fill["fill-sort-key"])})}};class Xz extends h{constructor(a){super(a,Wz)}recalculate(a,d){super.recalculate(a,d);const m=this.paint._values["fill-outline-color"];m.value.kind==="constant"&&m.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(a){return new C5(a)}queryRadius(){return _2(this.paint.get("fill-translate"))}queryIntersectsFeature(a,d,m,_,S,E,M){return zu(x2(a,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),E.angle,M),_)}isTileClipped(){return!0}}const Kz=T([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),Zz=T([{name:"a_centroid",components:2,type:"Int16"}],4),{members:Yz}=Kz;var Zd={},Jz=v,kP=Tm;function Tm(c,a,d,m,_){this.properties={},this.extent=d,this.type=0,this._pbf=c,this._geometry=-1,this._keys=m,this._values=_,c.readFields(Qz,this,a)}function Qz(c,a,d){c==1?a.id=d.readVarint():c==2?function(m,_){for(var S=m.readVarint()+m.pos;m.pos<S;){var E=_._keys[m.readVarint()],M=_._values[m.readVarint()];_.properties[E]=M}}(d,a):c==3?a.type=d.readVarint():c==4&&(a._geometry=d.pos)}function e9(c){for(var a,d,m=0,_=0,S=c.length,E=S-1;_<S;E=_++)m+=((d=c[E]).x-(a=c[_]).x)*(a.y+d.y);return m}Tm.types=["Unknown","Point","LineString","Polygon"],Tm.prototype.loadGeometry=function(){var c=this._pbf;c.pos=this._geometry;for(var a,d=c.readVarint()+c.pos,m=1,_=0,S=0,E=0,M=[];c.pos<d;){if(_<=0){var F=c.readVarint();m=7&F,_=F>>3}if(_--,m===1||m===2)S+=c.readSVarint(),E+=c.readSVarint(),m===1&&(a&&M.push(a),a=[]),a.push(new Jz(S,E));else{if(m!==7)throw new Error("unknown command "+m);a&&a.push(a[0].clone())}}return a&&M.push(a),M},Tm.prototype.bbox=function(){var c=this._pbf;c.pos=this._geometry;for(var a=c.readVarint()+c.pos,d=1,m=0,_=0,S=0,E=1/0,M=-1/0,F=1/0,U=-1/0;c.pos<a;){if(m<=0){var K=c.readVarint();d=7&K,m=K>>3}if(m--,d===1||d===2)(_+=c.readSVarint())<E&&(E=_),_>M&&(M=_),(S+=c.readSVarint())<F&&(F=S),S>U&&(U=S);else if(d!==7)throw new Error("unknown command "+d)}return[E,F,M,U]},Tm.prototype.toGeoJSON=function(c,a,d){var m,_,S=this.extent*Math.pow(2,d),E=this.extent*c,M=this.extent*a,F=this.loadGeometry(),U=Tm.types[this.type];function K(pe){for(var _e=0;_e<pe.length;_e++){var Pe=pe[_e];pe[_e]=[360*(Pe.x+E)/S-180,360/Math.PI*Math.atan(Math.exp((180-360*(Pe.y+M)/S)*Math.PI/180))-90]}}switch(this.type){case 1:var Y=[];for(m=0;m<F.length;m++)Y[m]=F[m][0];K(F=Y);break;case 2:for(m=0;m<F.length;m++)K(F[m]);break;case 3:for(F=function(pe){var _e=pe.length;if(_e<=1)return[pe];for(var Pe,Be,We=[],vt=0;vt<_e;vt++){var at=e9(pe[vt]);at!==0&&(Be===void 0&&(Be=at<0),Be===at<0?(Pe&&We.push(Pe),Pe=[pe[vt]]):Pe.push(pe[vt]))}return Pe&&We.push(Pe),We}(F),m=0;m<F.length;m++)for(_=0;_<F[m].length;_++)K(F[m][_])}F.length===1?F=F[0]:U="Multi"+U;var ue={type:"Feature",geometry:{type:U,coordinates:F},properties:this.properties};return"id"in this&&(ue.id=this.id),ue};var t9=kP,IP=LP;function LP(c,a){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=c,this._keys=[],this._values=[],this._features=[],c.readFields(r9,this,a),this.length=this._features.length}function r9(c,a,d){c===15?a.version=d.readVarint():c===1?a.name=d.readString():c===5?a.extent=d.readVarint():c===2?a._features.push(d.pos):c===3?a._keys.push(d.readString()):c===4&&a._values.push(function(m){for(var _=null,S=m.readVarint()+m.pos;m.pos<S;){var E=m.readVarint()>>3;_=E===1?m.readString():E===2?m.readFloat():E===3?m.readDouble():E===4?m.readVarint64():E===5?m.readVarint():E===6?m.readSVarint():E===7?m.readBoolean():null}return _}(d))}LP.prototype.feature=function(c){if(c<0||c>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[c];var a=this._pbf.readVarint()+this._pbf.pos;return new t9(this._pbf,a,this.extent,this._keys,this._values)};var n9=IP;function i9(c,a,d){if(c===3){var m=new n9(d,d.readVarint()+d.pos);m.length&&(a[m.name]=m)}}Zd.VectorTile=function(c,a){this.layers=c.readFields(i9,{},a)},Zd.VectorTileFeature=kP,Zd.VectorTileLayer=IP;const o9=Zd.VectorTileFeature.types,A5=Math.pow(2,13);function wy(c,a,d,m,_,S,E,M){c.emplaceBack(a,d,2*Math.floor(m*A5)+E,_*A5*2,S*A5*2,Math.round(M))}class E5{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(d=>d.id),this.index=a.index,this.hasPattern=!1,this.layoutVertexArray=new ss,this.centroidVertexArray=new ji,this.indexArray=new ma,this.programConfigurations=new sh(a.layers,a.zoom),this.segments=new Mn,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(a,d,m){this.features=[],this.hasPattern=w5("fill-extrusion",this.layers,d);for(const{feature:_,id:S,index:E,sourceLayerIndex:M}of a){const F=this.layers[0]._featureFilter.needGeometry,U=lh(_,F);if(!this.layers[0]._featureFilter.filter(new yi(this.zoom),U,m))continue;const K={id:S,sourceLayerIndex:M,index:E,geometry:F?U.geometry:nd(_),properties:_.properties,type:_.type,patterns:{}};this.hasPattern?this.features.push(S5("fill-extrusion",this.layers,K,this.zoom,d)):this.addFeature(K,K.geometry,E,m,{}),d.featureIndex.insert(_,K.geometry,E,M,this.index,!0)}}addFeatures(a,d,m){for(const _ of this.features){const{geometry:S}=_;this.addFeature(_,S,_.index,d,m)}}update(a,d,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,d,this.stateDependentLayers,m)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,Yz),this.centroidVertexBuffer=a.createVertexBuffer(this.centroidVertexArray,Zz.members,!0),this.indexBuffer=a.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(a,d,m,_,S){for(const E of xs(d,500)){const M={x:0,y:0,vertexCount:0};let F=0;for(const _e of E)F+=_e.length;let U=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const _e of E){if(_e.length===0||s9(_e))continue;let Pe=0;for(let Be=0;Be<_e.length;Be++){const We=_e[Be];if(Be>=1){const vt=_e[Be-1];if(!a9(We,vt)){U.vertexLength+4>Mn.MAX_VERTEX_ARRAY_LENGTH&&(U=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const at=We.sub(vt)._perp()._unit(),ft=vt.dist(We);Pe+ft>32768&&(Pe=0),wy(this.layoutVertexArray,We.x,We.y,at.x,at.y,0,0,Pe),wy(this.layoutVertexArray,We.x,We.y,at.x,at.y,0,1,Pe),M.x+=2*We.x,M.y+=2*We.y,M.vertexCount+=2,Pe+=ft,wy(this.layoutVertexArray,vt.x,vt.y,at.x,at.y,0,0,Pe),wy(this.layoutVertexArray,vt.x,vt.y,at.x,at.y,0,1,Pe),M.x+=2*vt.x,M.y+=2*vt.y,M.vertexCount+=2;const At=U.vertexLength;this.indexArray.emplaceBack(At,At+2,At+1),this.indexArray.emplaceBack(At+1,At+2,At+3),U.vertexLength+=4,U.primitiveLength+=2}}}}if(U.vertexLength+F>Mn.MAX_VERTEX_ARRAY_LENGTH&&(U=this.segments.prepareSegment(F,this.layoutVertexArray,this.indexArray)),o9[a.type]!=="Polygon")continue;const K=[],Y=[],ue=U.vertexLength;for(const _e of E)if(_e.length!==0){_e!==E[0]&&Y.push(K.length/2);for(let Pe=0;Pe<_e.length;Pe++){const Be=_e[Pe];wy(this.layoutVertexArray,Be.x,Be.y,0,0,1,1,0),M.x+=Be.x,M.y+=Be.y,M.vertexCount+=1,K.push(Be.x),K.push(Be.y)}}const pe=wP(K,Y);for(let _e=0;_e<pe.length;_e+=3)this.indexArray.emplaceBack(ue+pe[_e],ue+pe[_e+2],ue+pe[_e+1]);U.primitiveLength+=pe.length/3,U.vertexLength+=F;for(let _e=0;_e<M.vertexCount;_e++){const Pe=Math.floor(M.x/M.vertexCount),Be=Math.floor(M.y/M.vertexCount);this.centroidVertexArray.emplaceBack(Pe,Be)}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,m,S,_)}}function a9(c,a){return c.x===a.x&&(c.x<0||c.x>Ii)||c.y===a.y&&(c.y<0||c.y>Ii)}function s9(c){return c.every(a=>a.x<0)||c.every(a=>a.x>Ii)||c.every(a=>a.y<0)||c.every(a=>a.y>Ii)}let MP;yr("FillExtrusionBucket",E5,{omit:["layers","features"]});var l9={get paint(){return MP=MP||new g({"fill-extrusion-opacity":new Er(de["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Gr(de["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Er(de["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Er(de["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Qh(de["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Gr(de["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Gr(de["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Er(de["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class u9 extends h{constructor(a){super(a,l9)}createBucket(a){return new E5(a)}queryRadius(){return _2(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(a,d,m,_,S,E,M,F){const U=x2(a,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),E.angle,M),K=this.paint.get("fill-extrusion-height").evaluate(d,m),Y=this.paint.get("fill-extrusion-base").evaluate(d,m),ue=function(_e,Pe,Be,We){const vt=[];for(const at of _e){const ft=[at.x,at.y,0,1];w2(ft,ft,Pe),vt.push(new w(ft[0]/ft[3],ft[1]/ft[3]))}return vt}(U,F),pe=function(_e,Pe,Be,We){const vt=[],at=[],ft=We[8]*Pe,At=We[9]*Pe,Xt=We[10]*Pe,pr=We[11]*Pe,Xr=We[8]*Be,dr=We[9]*Be,lr=We[10]*Be,Dr=We[11]*Be;for(const Cr of _e){const br=[],Dt=[];for(const Nr of Cr){const Lr=Nr.x,pn=Nr.y,Si=We[0]*Lr+We[4]*pn+We[12],bi=We[1]*Lr+We[5]*pn+We[13],ya=We[2]*Lr+We[6]*pn+We[14],Uu=We[3]*Lr+We[7]*pn+We[15],Ua=ya+Xt,va=Uu+pr,Ms=Si+Xr,Ds=bi+dr,Rs=ya+lr,mo=Uu+Dr,ba=new w((Si+ft)/va,(bi+At)/va);ba.z=Ua/va,br.push(ba);const cs=new w(Ms/mo,Ds/mo);cs.z=Rs/mo,Dt.push(cs)}vt.push(br),at.push(Dt)}return[vt,at]}(_,Y,K,F);return function(_e,Pe,Be){let We=1/0;zu(Be,Pe)&&(We=DP(Be,Pe[0]));for(let vt=0;vt<Pe.length;vt++){const at=Pe[vt],ft=_e[vt];for(let At=0;At<at.length-1;At++){const Xt=at[At],pr=[Xt,at[At+1],ft[At+1],ft[At],Xt];wm(Be,pr)&&(We=Math.min(We,DP(Be,pr)))}}return We!==1/0&&We}(pe[0],pe[1],ue)}}function Sy(c,a){return c.x*a.x+c.y*a.y}function DP(c,a){if(c.length===1){let d=0;const m=a[d++];let _;for(;!_||m.equals(_);)if(_=a[d++],!_)return 1/0;for(;d<a.length;d++){const S=a[d],E=c[0],M=_.sub(m),F=S.sub(m),U=E.sub(m),K=Sy(M,M),Y=Sy(M,F),ue=Sy(F,F),pe=Sy(U,M),_e=Sy(U,F),Pe=K*ue-Y*Y,Be=(ue*pe-Y*_e)/Pe,We=(K*_e-Y*pe)/Pe,vt=m.z*(1-Be-We)+_.z*Be+S.z*We;if(isFinite(vt))return vt}return 1/0}{let d=1/0;for(const m of a)d=Math.min(d,m.z);return d}}const c9=T([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:h9}=c9,d9=T([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:f9}=d9,p9=Zd.VectorTileFeature.types,m9=Math.cos(Math.PI/180*37.5),RP=Math.pow(2,14)/.5;class T5{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(d=>d.id),this.index=a.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(d=>{this.gradients[d.id]={}}),this.layoutVertexArray=new ki,this.layoutVertexArray2=new Fu,this.indexArray=new ma,this.programConfigurations=new sh(a.layers,a.zoom),this.segments=new Mn,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}populate(a,d,m){this.hasPattern=w5("line",this.layers,d);const _=this.layers[0].layout.get("line-sort-key"),S=!_.isConstant(),E=[];for(const{feature:M,id:F,index:U,sourceLayerIndex:K}of a){const Y=this.layers[0]._featureFilter.needGeometry,ue=lh(M,Y);if(!this.layers[0]._featureFilter.filter(new yi(this.zoom),ue,m))continue;const pe=S?_.evaluate(ue,{},m):void 0,_e={id:F,properties:M.properties,type:M.type,sourceLayerIndex:K,index:U,geometry:Y?ue.geometry:nd(M),patterns:{},sortKey:pe};E.push(_e)}S&&E.sort((M,F)=>M.sortKey-F.sortKey);for(const M of E){const{geometry:F,index:U,sourceLayerIndex:K}=M;if(this.hasPattern){const Y=S5("line",this.layers,M,this.zoom,d);this.patternFeatures.push(Y)}else this.addFeature(M,F,U,m,{});d.featureIndex.insert(a[U].feature,F,U,K,this.index)}}update(a,d,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,d,this.stateDependentLayers,m)}addFeatures(a,d,m){for(const _ of this.patternFeatures)this.addFeature(_,_.geometry,_.index,d,m)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=a.createVertexBuffer(this.layoutVertexArray2,f9)),this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,h9),this.indexBuffer=a.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(a){if(a.properties&&Object.prototype.hasOwnProperty.call(a.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(a.properties,"mapbox_clip_end"))return{start:+a.properties.mapbox_clip_start,end:+a.properties.mapbox_clip_end}}addFeature(a,d,m,_,S){const E=this.layers[0].layout,M=E.get("line-join").evaluate(a,{}),F=E.get("line-cap"),U=E.get("line-miter-limit"),K=E.get("line-round-limit");this.lineClips=this.lineFeatureClips(a);for(const Y of d)this.addLine(Y,a,M,F,U,K);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,m,S,_)}addLine(a,d,m,_,S,E){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let We=0;We<a.length-1;We++)this.totalDistance+=a[We].dist(a[We+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const M=p9[d.type]==="Polygon";let F=a.length;for(;F>=2&&a[F-1].equals(a[F-2]);)F--;let U=0;for(;U<F-1&&a[U].equals(a[U+1]);)U++;if(F<(M?3:2))return;m==="bevel"&&(S=1.05);const K=this.overscaling<=16?15*Ii/(512*this.overscaling):0,Y=this.segments.prepareSegment(10*F,this.layoutVertexArray,this.indexArray);let ue,pe,_e,Pe,Be;this.e1=this.e2=-1,M&&(ue=a[F-2],Be=a[U].sub(ue)._unit()._perp());for(let We=U;We<F;We++){if(_e=We===F-1?M?a[U+1]:void 0:a[We+1],_e&&a[We].equals(_e))continue;Be&&(Pe=Be),ue&&(pe=ue),ue=a[We],Be=_e?_e.sub(ue)._unit()._perp():Pe,Pe=Pe||Be;let vt=Pe.add(Be);vt.x===0&&vt.y===0||vt._unit();const at=Pe.x*Be.x+Pe.y*Be.y,ft=vt.x*Be.x+vt.y*Be.y,At=ft!==0?1/ft:1/0,Xt=2*Math.sqrt(2-2*ft),pr=ft<m9&&pe&&_e,Xr=Pe.x*Be.y-Pe.y*Be.x>0;if(pr&&We>U){const Dr=ue.dist(pe);if(Dr>2*K){const Cr=ue.sub(ue.sub(pe)._mult(K/Dr)._round());this.updateDistance(pe,Cr),this.addCurrentVertex(Cr,Pe,0,0,Y),pe=Cr}}const dr=pe&&_e;let lr=dr?m:M?"butt":_;if(dr&&lr==="round"&&(At<E?lr="miter":At<=2&&(lr="fakeround")),lr==="miter"&&At>S&&(lr="bevel"),lr==="bevel"&&(At>2&&(lr="flipbevel"),At<S&&(lr="miter")),pe&&this.updateDistance(pe,ue),lr==="miter")vt._mult(At),this.addCurrentVertex(ue,vt,0,0,Y);else if(lr==="flipbevel"){if(At>100)vt=Be.mult(-1);else{const Dr=At*Pe.add(Be).mag()/Pe.sub(Be).mag();vt._perp()._mult(Dr*(Xr?-1:1))}this.addCurrentVertex(ue,vt,0,0,Y),this.addCurrentVertex(ue,vt.mult(-1),0,0,Y)}else if(lr==="bevel"||lr==="fakeround"){const Dr=-Math.sqrt(At*At-1),Cr=Xr?Dr:0,br=Xr?0:Dr;if(pe&&this.addCurrentVertex(ue,Pe,Cr,br,Y),lr==="fakeround"){const Dt=Math.round(180*Xt/Math.PI/20);for(let Nr=1;Nr<Dt;Nr++){let Lr=Nr/Dt;if(Lr!==.5){const Si=Lr-.5;Lr+=Lr*Si*(Lr-1)*((1.0904+at*(at*(3.55645-1.43519*at)-3.2452))*Si*Si+(.848013+at*(.215638*at-1.06021)))}const pn=Be.sub(Pe)._mult(Lr)._add(Pe)._unit()._mult(Xr?-1:1);this.addHalfVertex(ue,pn.x,pn.y,!1,Xr,0,Y)}}_e&&this.addCurrentVertex(ue,Be,-Cr,-br,Y)}else if(lr==="butt")this.addCurrentVertex(ue,vt,0,0,Y);else if(lr==="square"){const Dr=pe?1:-1;this.addCurrentVertex(ue,vt,Dr,Dr,Y)}else lr==="round"&&(pe&&(this.addCurrentVertex(ue,Pe,0,0,Y),this.addCurrentVertex(ue,Pe,1,1,Y,!0)),_e&&(this.addCurrentVertex(ue,Be,-1,-1,Y,!0),this.addCurrentVertex(ue,Be,0,0,Y)));if(pr&&We<F-1){const Dr=ue.dist(_e);if(Dr>2*K){const Cr=ue.add(_e.sub(ue)._mult(K/Dr)._round());this.updateDistance(ue,Cr),this.addCurrentVertex(Cr,Be,0,0,Y),ue=Cr}}}}addCurrentVertex(a,d,m,_,S,E=!1){const M=d.y*_-d.x,F=-d.y-d.x*_;this.addHalfVertex(a,d.x+d.y*m,d.y-d.x*m,E,!1,m,S),this.addHalfVertex(a,M,F,E,!0,-_,S),this.distance>RP/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(a,d,m,_,S,E))}addHalfVertex({x:a,y:d},m,_,S,E,M,F){const U=.5*(this.lineClips?this.scaledDistance*(RP-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((a<<1)+(S?1:0),(d<<1)+(E?1:0),Math.round(63*m)+128,Math.round(63*_)+128,1+(M===0?0:M<0?-1:1)|(63&U)<<2,U>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const K=F.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,K),F.primitiveLength++),E?this.e2=K:this.e1=K}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(a,d){this.distance+=a.dist(d),this.updateScaledDistance()}}let OP,NP;yr("LineBucket",T5,{omit:["layers","patternFeatures"]});var FP={get paint(){return NP=NP||new g({"line-opacity":new Gr(de.paint_line["line-opacity"]),"line-color":new Gr(de.paint_line["line-color"]),"line-translate":new Er(de.paint_line["line-translate"]),"line-translate-anchor":new Er(de.paint_line["line-translate-anchor"]),"line-width":new Gr(de.paint_line["line-width"]),"line-gap-width":new Gr(de.paint_line["line-gap-width"]),"line-offset":new Gr(de.paint_line["line-offset"]),"line-blur":new Gr(de.paint_line["line-blur"]),"line-dasharray":new A(de.paint_line["line-dasharray"]),"line-pattern":new Qh(de.paint_line["line-pattern"]),"line-gradient":new L(de.paint_line["line-gradient"])})},get layout(){return OP=OP||new g({"line-cap":new Er(de.layout_line["line-cap"]),"line-join":new Gr(de.layout_line["line-join"]),"line-miter-limit":new Er(de.layout_line["line-miter-limit"]),"line-round-limit":new Er(de.layout_line["line-round-limit"]),"line-sort-key":new Gr(de.layout_line["line-sort-key"])})}};class g9 extends Gr{possiblyEvaluate(a,d){return d=new yi(Math.floor(d.zoom),{now:d.now,fadeDuration:d.fadeDuration,zoomHistory:d.zoomHistory,transition:d.transition}),super.possiblyEvaluate(a,d)}evaluate(a,d,m,_){return d=J({},d,{zoom:Math.floor(d.zoom)}),super.evaluate(a,d,m,_)}}let E2;class y9 extends h{constructor(a){super(a,FP),this.gradientVersion=0,E2||(E2=new g9(FP.paint.properties["line-width"].specification),E2.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(a){if(a==="line-gradient"){const d=this.gradientExpression();this.stepInterpolant=!!function(m){return m._styleExpression!==void 0}(d)&&d._styleExpression.expression instanceof Ut,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(a,d){super.recalculate(a,d),this.paint._values["line-floorwidth"]=E2.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,a)}createBucket(a){return new T5(a)}queryRadius(a){const d=a,m=$P(gy("line-width",this,d),gy("line-gap-width",this,d)),_=gy("line-offset",this,d);return m/2+Math.abs(_)+_2(this.paint.get("line-translate"))}queryIntersectsFeature(a,d,m,_,S,E,M){const F=x2(a,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),E.angle,M),U=M/2*$P(this.paint.get("line-width").evaluate(d,m),this.paint.get("line-gap-width").evaluate(d,m)),K=this.paint.get("line-offset").evaluate(d,m);return K&&(_=function(Y,ue){const pe=[];for(let _e=0;_e<Y.length;_e++){const Pe=Y[_e],Be=[];for(let We=0;We<Pe.length;We++){const vt=Pe[We-1],at=Pe[We],ft=Pe[We+1],At=We===0?new w(0,0):at.sub(vt)._unit()._perp(),Xt=We===Pe.length-1?new w(0,0):ft.sub(at)._unit()._perp(),pr=At._add(Xt)._unit(),Xr=pr.x*Xt.x+pr.y*Xt.y;Xr!==0&&pr._mult(1/Xr),Be.push(pr._mult(ue)._add(at))}pe.push(Be)}return pe}(_,K*M)),function(Y,ue,pe){for(let _e=0;_e<ue.length;_e++){const Pe=ue[_e];if(Y.length>=3){for(let Be=0;Be<Pe.length;Be++)if(ch(Y,Pe[Be]))return!0}if(uh(Y,Pe,pe))return!0}return!1}(F,_,U)}isTileClipped(){return!0}}function $P(c,a){return a>0?a+2*c:c}const v9=T([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),b9=T([{name:"a_projected_pos",components:3,type:"Float32"}],4);T([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const _9=T([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);T([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const BP=T([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),x9=T([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function w9(c,a,d){return c.sections.forEach(m=>{m.text=function(_,S,E){const M=S.layout.get("text-transform").evaluate(E,{});return M==="uppercase"?_=_.toLocaleUpperCase():M==="lowercase"&&(_=_.toLocaleLowerCase()),as.applyArabicShaping&&(_=as.applyArabicShaping(_)),_}(m.text,a,d)}),c}T([{name:"triangle",components:3,type:"Uint16"}]),T([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),T([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),T([{type:"Float32",name:"offsetX"}]),T([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),T([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const Cy={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};var Qo=24,zP=vi,jP=function(c,a,d,m,_){var S,E,M=8*_-m-1,F=(1<<M)-1,U=F>>1,K=-7,Y=_-1,ue=-1,pe=c[a+Y];for(Y+=ue,S=pe&(1<<-K)-1,pe>>=-K,K+=M;K>0;S=256*S+c[a+Y],Y+=ue,K-=8);for(E=S&(1<<-K)-1,S>>=-K,K+=m;K>0;E=256*E+c[a+Y],Y+=ue,K-=8);if(S===0)S=1-U;else{if(S===F)return E?NaN:1/0*(pe?-1:1);E+=Math.pow(2,m),S-=U}return(pe?-1:1)*E*Math.pow(2,S-m)},UP=function(c,a,d,m,_,S){var E,M,F,U=8*S-_-1,K=(1<<U)-1,Y=K>>1,ue=_===23?Math.pow(2,-24)-Math.pow(2,-77):0,pe=0,_e=1,Pe=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(M=isNaN(a)?1:0,E=K):(E=Math.floor(Math.log(a)/Math.LN2),a*(F=Math.pow(2,-E))<1&&(E--,F*=2),(a+=E+Y>=1?ue/F:ue*Math.pow(2,1-Y))*F>=2&&(E++,F/=2),E+Y>=K?(M=0,E=K):E+Y>=1?(M=(a*F-1)*Math.pow(2,_),E+=Y):(M=a*Math.pow(2,Y-1)*Math.pow(2,_),E=0));_>=8;c[d+pe]=255&M,pe+=_e,M/=256,_-=8);for(E=E<<_|M,U+=_;U>0;c[d+pe]=255&E,pe+=_e,E/=256,U-=8);c[d+pe-_e]|=128*Pe};function vi(c){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(c)?c:new Uint8Array(c||0),this.pos=0,this.type=0,this.length=this.buf.length}vi.Varint=0,vi.Fixed64=1,vi.Bytes=2,vi.Fixed32=5;var P5=4294967296,VP=1/P5,qP=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");function od(c){return c.type===vi.Bytes?c.readVarint()+c.pos:c.pos+1}function Pm(c,a,d){return d?4294967296*a+(c>>>0):4294967296*(a>>>0)+(c>>>0)}function HP(c,a,d){var m=a<=16383?1:a<=2097151?2:a<=268435455?3:Math.floor(Math.log(a)/(7*Math.LN2));d.realloc(m);for(var _=d.pos-1;_>=c;_--)d.buf[_+m]=d.buf[_]}function S9(c,a){for(var d=0;d<c.length;d++)a.writeVarint(c[d])}function C9(c,a){for(var d=0;d<c.length;d++)a.writeSVarint(c[d])}function A9(c,a){for(var d=0;d<c.length;d++)a.writeFloat(c[d])}function E9(c,a){for(var d=0;d<c.length;d++)a.writeDouble(c[d])}function T9(c,a){for(var d=0;d<c.length;d++)a.writeBoolean(c[d])}function P9(c,a){for(var d=0;d<c.length;d++)a.writeFixed32(c[d])}function k9(c,a){for(var d=0;d<c.length;d++)a.writeSFixed32(c[d])}function I9(c,a){for(var d=0;d<c.length;d++)a.writeFixed64(c[d])}function L9(c,a){for(var d=0;d<c.length;d++)a.writeSFixed64(c[d])}function T2(c,a){return(c[a]|c[a+1]<<8|c[a+2]<<16)+16777216*c[a+3]}function km(c,a,d){c[d]=a,c[d+1]=a>>>8,c[d+2]=a>>>16,c[d+3]=a>>>24}function GP(c,a){return(c[a]|c[a+1]<<8|c[a+2]<<16)+(c[a+3]<<24)}vi.prototype={destroy:function(){this.buf=null},readFields:function(c,a,d){for(d=d||this.length;this.pos<d;){var m=this.readVarint(),_=m>>3,S=this.pos;this.type=7&m,c(_,a,this),this.pos===S&&this.skip(m)}return a},readMessage:function(c,a){return this.readFields(c,a,this.readVarint()+this.pos)},readFixed32:function(){var c=T2(this.buf,this.pos);return this.pos+=4,c},readSFixed32:function(){var c=GP(this.buf,this.pos);return this.pos+=4,c},readFixed64:function(){var c=T2(this.buf,this.pos)+T2(this.buf,this.pos+4)*P5;return this.pos+=8,c},readSFixed64:function(){var c=T2(this.buf,this.pos)+GP(this.buf,this.pos+4)*P5;return this.pos+=8,c},readFloat:function(){var c=jP(this.buf,this.pos,!0,23,4);return this.pos+=4,c},readDouble:function(){var c=jP(this.buf,this.pos,!0,52,8);return this.pos+=8,c},readVarint:function(c){var a,d,m=this.buf;return a=127&(d=m[this.pos++]),d<128?a:(a|=(127&(d=m[this.pos++]))<<7,d<128?a:(a|=(127&(d=m[this.pos++]))<<14,d<128?a:(a|=(127&(d=m[this.pos++]))<<21,d<128?a:function(_,S,E){var M,F,U=E.buf;if(M=(112&(F=U[E.pos++]))>>4,F<128||(M|=(127&(F=U[E.pos++]))<<3,F<128)||(M|=(127&(F=U[E.pos++]))<<10,F<128)||(M|=(127&(F=U[E.pos++]))<<17,F<128)||(M|=(127&(F=U[E.pos++]))<<24,F<128)||(M|=(1&(F=U[E.pos++]))<<31,F<128))return Pm(_,M,S);throw new Error("Expected varint not more than 10 bytes")}(a|=(15&(d=m[this.pos]))<<28,c,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var c=this.readVarint();return c%2==1?(c+1)/-2:c/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var c=this.readVarint()+this.pos,a=this.pos;return this.pos=c,c-a>=12&&qP?function(d,m,_){return qP.decode(d.subarray(m,_))}(this.buf,a,c):function(d,m,_){for(var S="",E=m;E<_;){var M,F,U,K=d[E],Y=null,ue=K>239?4:K>223?3:K>191?2:1;if(E+ue>_)break;ue===1?K<128&&(Y=K):ue===2?(192&(M=d[E+1]))==128&&(Y=(31&K)<<6|63&M)<=127&&(Y=null):ue===3?(F=d[E+2],(192&(M=d[E+1]))==128&&(192&F)==128&&((Y=(15&K)<<12|(63&M)<<6|63&F)<=2047||Y>=55296&&Y<=57343)&&(Y=null)):ue===4&&(F=d[E+2],U=d[E+3],(192&(M=d[E+1]))==128&&(192&F)==128&&(192&U)==128&&((Y=(15&K)<<18|(63&M)<<12|(63&F)<<6|63&U)<=65535||Y>=1114112)&&(Y=null)),Y===null?(Y=65533,ue=1):Y>65535&&(Y-=65536,S+=String.fromCharCode(Y>>>10&1023|55296),Y=56320|1023&Y),S+=String.fromCharCode(Y),E+=ue}return S}(this.buf,a,c)},readBytes:function(){var c=this.readVarint()+this.pos,a=this.buf.subarray(this.pos,c);return this.pos=c,a},readPackedVarint:function(c,a){if(this.type!==vi.Bytes)return c.push(this.readVarint(a));var d=od(this);for(c=c||[];this.pos<d;)c.push(this.readVarint(a));return c},readPackedSVarint:function(c){if(this.type!==vi.Bytes)return c.push(this.readSVarint());var a=od(this);for(c=c||[];this.pos<a;)c.push(this.readSVarint());return c},readPackedBoolean:function(c){if(this.type!==vi.Bytes)return c.push(this.readBoolean());var a=od(this);for(c=c||[];this.pos<a;)c.push(this.readBoolean());return c},readPackedFloat:function(c){if(this.type!==vi.Bytes)return c.push(this.readFloat());var a=od(this);for(c=c||[];this.pos<a;)c.push(this.readFloat());return c},readPackedDouble:function(c){if(this.type!==vi.Bytes)return c.push(this.readDouble());var a=od(this);for(c=c||[];this.pos<a;)c.push(this.readDouble());return c},readPackedFixed32:function(c){if(this.type!==vi.Bytes)return c.push(this.readFixed32());var a=od(this);for(c=c||[];this.pos<a;)c.push(this.readFixed32());return c},readPackedSFixed32:function(c){if(this.type!==vi.Bytes)return c.push(this.readSFixed32());var a=od(this);for(c=c||[];this.pos<a;)c.push(this.readSFixed32());return c},readPackedFixed64:function(c){if(this.type!==vi.Bytes)return c.push(this.readFixed64());var a=od(this);for(c=c||[];this.pos<a;)c.push(this.readFixed64());return c},readPackedSFixed64:function(c){if(this.type!==vi.Bytes)return c.push(this.readSFixed64());var a=od(this);for(c=c||[];this.pos<a;)c.push(this.readSFixed64());return c},skip:function(c){var a=7&c;if(a===vi.Varint)for(;this.buf[this.pos++]>127;);else if(a===vi.Bytes)this.pos=this.readVarint()+this.pos;else if(a===vi.Fixed32)this.pos+=4;else{if(a!==vi.Fixed64)throw new Error("Unimplemented type: "+a);this.pos+=8}},writeTag:function(c,a){this.writeVarint(c<<3|a)},realloc:function(c){for(var a=this.length||16;a<this.pos+c;)a*=2;if(a!==this.length){var d=new Uint8Array(a);d.set(this.buf),this.buf=d,this.length=a}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(c){this.realloc(4),km(this.buf,c,this.pos),this.pos+=4},writeSFixed32:function(c){this.realloc(4),km(this.buf,c,this.pos),this.pos+=4},writeFixed64:function(c){this.realloc(8),km(this.buf,-1&c,this.pos),km(this.buf,Math.floor(c*VP),this.pos+4),this.pos+=8},writeSFixed64:function(c){this.realloc(8),km(this.buf,-1&c,this.pos),km(this.buf,Math.floor(c*VP),this.pos+4),this.pos+=8},writeVarint:function(c){(c=+c||0)>268435455||c<0?function(a,d){var m,_;if(a>=0?(m=a%4294967296|0,_=a/4294967296|0):(_=~(-a/4294967296),4294967295^(m=~(-a%4294967296))?m=m+1|0:(m=0,_=_+1|0)),a>=18446744073709552e3||a<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");d.realloc(10),function(S,E,M){M.buf[M.pos++]=127&S|128,S>>>=7,M.buf[M.pos++]=127&S|128,S>>>=7,M.buf[M.pos++]=127&S|128,S>>>=7,M.buf[M.pos++]=127&S|128,M.buf[M.pos]=127&(S>>>=7)}(m,0,d),function(S,E){var M=(7&S)<<4;E.buf[E.pos++]|=M|((S>>>=3)?128:0),S&&(E.buf[E.pos++]=127&S|((S>>>=7)?128:0),S&&(E.buf[E.pos++]=127&S|((S>>>=7)?128:0),S&&(E.buf[E.pos++]=127&S|((S>>>=7)?128:0),S&&(E.buf[E.pos++]=127&S|((S>>>=7)?128:0),S&&(E.buf[E.pos++]=127&S)))))}(_,d)}(c,this):(this.realloc(4),this.buf[this.pos++]=127&c|(c>127?128:0),c<=127||(this.buf[this.pos++]=127&(c>>>=7)|(c>127?128:0),c<=127||(this.buf[this.pos++]=127&(c>>>=7)|(c>127?128:0),c<=127||(this.buf[this.pos++]=c>>>7&127))))},writeSVarint:function(c){this.writeVarint(c<0?2*-c-1:2*c)},writeBoolean:function(c){this.writeVarint(!!c)},writeString:function(c){c=String(c),this.realloc(4*c.length),this.pos++;var a=this.pos;this.pos=function(m,_,S){for(var E,M,F=0;F<_.length;F++){if((E=_.charCodeAt(F))>55295&&E<57344){if(!M){E>56319||F+1===_.length?(m[S++]=239,m[S++]=191,m[S++]=189):M=E;continue}if(E<56320){m[S++]=239,m[S++]=191,m[S++]=189,M=E;continue}E=M-55296<<10|E-56320|65536,M=null}else M&&(m[S++]=239,m[S++]=191,m[S++]=189,M=null);E<128?m[S++]=E:(E<2048?m[S++]=E>>6|192:(E<65536?m[S++]=E>>12|224:(m[S++]=E>>18|240,m[S++]=E>>12&63|128),m[S++]=E>>6&63|128),m[S++]=63&E|128)}return S}(this.buf,c,this.pos);var d=this.pos-a;d>=128&&HP(a,d,this),this.pos=a-1,this.writeVarint(d),this.pos+=d},writeFloat:function(c){this.realloc(4),UP(this.buf,c,this.pos,!0,23,4),this.pos+=4},writeDouble:function(c){this.realloc(8),UP(this.buf,c,this.pos,!0,52,8),this.pos+=8},writeBytes:function(c){var a=c.length;this.writeVarint(a),this.realloc(a);for(var d=0;d<a;d++)this.buf[this.pos++]=c[d]},writeRawMessage:function(c,a){this.pos++;var d=this.pos;c(a,this);var m=this.pos-d;m>=128&&HP(d,m,this),this.pos=d-1,this.writeVarint(m),this.pos+=m},writeMessage:function(c,a,d){this.writeTag(c,vi.Bytes),this.writeRawMessage(a,d)},writePackedVarint:function(c,a){a.length&&this.writeMessage(c,S9,a)},writePackedSVarint:function(c,a){a.length&&this.writeMessage(c,C9,a)},writePackedBoolean:function(c,a){a.length&&this.writeMessage(c,T9,a)},writePackedFloat:function(c,a){a.length&&this.writeMessage(c,A9,a)},writePackedDouble:function(c,a){a.length&&this.writeMessage(c,E9,a)},writePackedFixed32:function(c,a){a.length&&this.writeMessage(c,P9,a)},writePackedSFixed32:function(c,a){a.length&&this.writeMessage(c,k9,a)},writePackedFixed64:function(c,a){a.length&&this.writeMessage(c,I9,a)},writePackedSFixed64:function(c,a){a.length&&this.writeMessage(c,L9,a)},writeBytesField:function(c,a){this.writeTag(c,vi.Bytes),this.writeBytes(a)},writeFixed32Field:function(c,a){this.writeTag(c,vi.Fixed32),this.writeFixed32(a)},writeSFixed32Field:function(c,a){this.writeTag(c,vi.Fixed32),this.writeSFixed32(a)},writeFixed64Field:function(c,a){this.writeTag(c,vi.Fixed64),this.writeFixed64(a)},writeSFixed64Field:function(c,a){this.writeTag(c,vi.Fixed64),this.writeSFixed64(a)},writeVarintField:function(c,a){this.writeTag(c,vi.Varint),this.writeVarint(a)},writeSVarintField:function(c,a){this.writeTag(c,vi.Varint),this.writeSVarint(a)},writeStringField:function(c,a){this.writeTag(c,vi.Bytes),this.writeString(a)},writeFloatField:function(c,a){this.writeTag(c,vi.Fixed32),this.writeFloat(a)},writeDoubleField:function(c,a){this.writeTag(c,vi.Fixed64),this.writeDouble(a)},writeBooleanField:function(c,a){this.writeVarintField(c,!!a)}};var k5=f(zP);const I5=3;function M9(c,a,d){c===1&&d.readMessage(D9,a)}function D9(c,a,d){if(c===3){const{id:m,bitmap:_,width:S,height:E,left:M,top:F,advance:U}=d.readMessage(R9,{});a.push({id:m,bitmap:new vy({width:S+2*I5,height:E+2*I5},_),metrics:{width:S,height:E,left:M,top:F,advance:U}})}}function R9(c,a,d){c===1?a.id=d.readVarint():c===2?a.bitmap=d.readBytes():c===3?a.width=d.readVarint():c===4?a.height=d.readVarint():c===5?a.left=d.readSVarint():c===6?a.top=d.readSVarint():c===7&&(a.advance=d.readVarint())}const WP=I5;function XP(c){let a=0,d=0;for(const E of c)a+=E.w*E.h,d=Math.max(d,E.w);c.sort((E,M)=>M.h-E.h);const m=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(a/.95)),d),h:1/0}];let _=0,S=0;for(const E of c)for(let M=m.length-1;M>=0;M--){const F=m[M];if(!(E.w>F.w||E.h>F.h)){if(E.x=F.x,E.y=F.y,S=Math.max(S,E.y+E.h),_=Math.max(_,E.x+E.w),E.w===F.w&&E.h===F.h){const U=m.pop();M<m.length&&(m[M]=U)}else E.h===F.h?(F.x+=E.w,F.w-=E.w):E.w===F.w?(F.y+=E.h,F.h-=E.h):(m.push({x:F.x+E.w,y:F.y,w:F.w-E.w,h:E.h}),F.y+=E.h,F.h-=E.h);break}}return{w:_,h:S,fill:a/(_*S)||0}}const nl=1;class L5{constructor(a,{pixelRatio:d,version:m,stretchX:_,stretchY:S,content:E,textFitWidth:M,textFitHeight:F}){this.paddedRect=a,this.pixelRatio=d,this.stretchX=_,this.stretchY=S,this.content=E,this.version=m,this.textFitWidth=M,this.textFitHeight=F}get tl(){return[this.paddedRect.x+nl,this.paddedRect.y+nl]}get br(){return[this.paddedRect.x+this.paddedRect.w-nl,this.paddedRect.y+this.paddedRect.h-nl]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*nl)/this.pixelRatio,(this.paddedRect.h-2*nl)/this.pixelRatio]}}class KP{constructor(a,d){const m={},_={};this.haveRenderCallbacks=[];const S=[];this.addImages(a,m,S),this.addImages(d,_,S);const{w:E,h:M}=XP(S),F=new au({width:E||1,height:M||1});for(const U in a){const K=a[U],Y=m[U].paddedRect;au.copy(K.data,F,{x:0,y:0},{x:Y.x+nl,y:Y.y+nl},K.data)}for(const U in d){const K=d[U],Y=_[U].paddedRect,ue=Y.x+nl,pe=Y.y+nl,_e=K.data.width,Pe=K.data.height;au.copy(K.data,F,{x:0,y:0},{x:ue,y:pe},K.data),au.copy(K.data,F,{x:0,y:Pe-1},{x:ue,y:pe-1},{width:_e,height:1}),au.copy(K.data,F,{x:0,y:0},{x:ue,y:pe+Pe},{width:_e,height:1}),au.copy(K.data,F,{x:_e-1,y:0},{x:ue-1,y:pe},{width:1,height:Pe}),au.copy(K.data,F,{x:0,y:0},{x:ue+_e,y:pe},{width:1,height:Pe})}this.image=F,this.iconPositions=m,this.patternPositions=_}addImages(a,d,m){for(const _ in a){const S=a[_],E={x:0,y:0,w:S.data.width+2*nl,h:S.data.height+2*nl};m.push(E),d[_]=new L5(E,S),S.hasRenderCallback&&this.haveRenderCallbacks.push(_)}}patchUpdatedImages(a,d){a.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const m in a.updatedImages)this.patchUpdatedImage(this.iconPositions[m],a.getImage(m),d),this.patchUpdatedImage(this.patternPositions[m],a.getImage(m),d)}patchUpdatedImage(a,d,m){if(!a||!d||a.version===d.version)return;a.version=d.version;const[_,S]=a.tl;m.update(d.data,void 0,{x:_,y:S})}}var Yd;yr("ImagePosition",L5),yr("ImageAtlas",KP),u.ah=void 0,(Yd=u.ah||(u.ah={}))[Yd.none=0]="none",Yd[Yd.horizontal=1]="horizontal",Yd[Yd.vertical=2]="vertical",Yd[Yd.horizontalOnly=3]="horizontalOnly";const Ay=-17;class Ey{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(a,d){const m=new Ey;return m.scale=a||1,m.fontStack=d,m}static forImage(a){const d=new Ey;return d.imageName=a,d}}class Im{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(a,d){const m=new Im;for(let _=0;_<a.sections.length;_++){const S=a.sections[_];S.image?m.addImageSection(S):m.addTextSection(S,d)}return m}length(){return this.text.length}getSection(a){return this.sections[this.sectionIndex[a]]}getSectionIndex(a){return this.sectionIndex[a]}getCharCode(a){return this.text.charCodeAt(a)}verticalizePunctuation(){this.text=function(a){let d="";for(let m=0;m<a.length;m++){const _=a.charCodeAt(m+1)||null,S=a.charCodeAt(m-1)||null;d+=_&&Zh(_)&&!Cy[a[m+1]]||S&&Zh(S)&&!Cy[a[m-1]]||!Cy[a[m]]?a[m]:Cy[a[m]]}return d}(this.text)}trim(){let a=0;for(let m=0;m<this.text.length&&k2[this.text.charCodeAt(m)];m++)a++;let d=this.text.length;for(let m=this.text.length-1;m>=0&&m>=a&&k2[this.text.charCodeAt(m)];m--)d--;this.text=this.text.substring(a,d),this.sectionIndex=this.sectionIndex.slice(a,d)}substring(a,d){const m=new Im;return m.text=this.text.substring(a,d),m.sectionIndex=this.sectionIndex.slice(a,d),m.sections=this.sections,m}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((a,d)=>Math.max(a,this.sections[d].scale),0)}addTextSection(a,d){this.text+=a.text,this.sections.push(Ey.forText(a.scale,a.fontStack||d));const m=this.sections.length-1;for(let _=0;_<a.text.length;++_)this.sectionIndex.push(m)}addImageSection(a){const d=a.image?a.image.name:"";if(d.length===0)return void be("Can't add FormattedSection with an empty image.");const m=this.getNextImageSectionCharCode();m?(this.text+=String.fromCharCode(m),this.sections.push(Ey.forImage(d)),this.sectionIndex.push(this.sections.length-1)):be("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function P2(c,a,d,m,_,S,E,M,F,U,K,Y,ue,pe,_e){const Pe=Im.fromFeature(c,_);let Be;Y===u.ah.vertical&&Pe.verticalizePunctuation();const{processBidirectionalText:We,processStyledBidirectionalText:vt}=as;if(We&&Pe.sections.length===1){Be=[];const At=We(Pe.toString(),M5(Pe,U,S,a,m,pe));for(const Xt of At){const pr=new Im;pr.text=Xt,pr.sections=Pe.sections;for(let Xr=0;Xr<Xt.length;Xr++)pr.sectionIndex.push(0);Be.push(pr)}}else if(vt){Be=[];const At=vt(Pe.text,Pe.sectionIndex,M5(Pe,U,S,a,m,pe));for(const Xt of At){const pr=new Im;pr.text=Xt[0],pr.sectionIndex=Xt[1],pr.sections=Pe.sections,Be.push(pr)}}else Be=function(At,Xt){const pr=[],Xr=At.text;let dr=0;for(const lr of Xt)pr.push(At.substring(dr,lr)),dr=lr;return dr<Xr.length&&pr.push(At.substring(dr,Xr.length)),pr}(Pe,M5(Pe,U,S,a,m,pe));const at=[],ft={positionedLines:at,text:Pe.toString(),top:K[1],bottom:K[1],left:K[0],right:K[0],writingMode:Y,iconsInText:!1,verticalizable:!1};return function(At,Xt,pr,Xr,dr,lr,Dr,Cr,br,Dt,Nr,Lr){let pn=0,Si=Ay,bi=0,ya=0;const Uu=Cr==="right"?1:Cr==="left"?0:.5;let Ua=0;for(const mo of dr){mo.trim();const ba=mo.getMaxScale(),cs=(ba-1)*Qo,Va={positionedGlyphs:[],lineOffset:0};At.positionedLines[Ua]=Va;const Os=Va.positionedGlyphs;let qa=0;if(!mo.length()){Si+=lr,++Ua;continue}for(let il=0;il<mo.length();il++){const Xn=mo.getSection(il),Li=mo.getSectionIndex(il),Ui=mo.getCharCode(il);let kl=0,ao=null,Rm=null,dh=null,fh=Qo;const Vu=!(br===u.ah.horizontal||!Nr&&!ep(Ui)||Nr&&(k2[Ui]||(va=Ui,new RegExp("\\p{sc=Arab}","u").test(String.fromCodePoint(va)))));if(Xn.imageName){const uu=Xr[Xn.imageName];if(!uu)continue;dh=Xn.imageName,At.iconsInText=At.iconsInText||!0,Rm=uu.paddedRect;const La=uu.displaySize;Xn.scale=Xn.scale*Qo/Lr,ao={width:La[0],height:La[1],left:nl,top:-WP,advance:Vu?La[1]:La[0]},kl=cs+(Qo-La[1]*Xn.scale),fh=ao.advance;const ad=Vu?La[0]*Xn.scale-Qo*ba:La[1]*Xn.scale-Qo*ba;ad>0&&ad>qa&&(qa=ad)}else{const uu=pr[Xn.fontStack],La=uu&&uu[Ui];if(La&&La.rect)Rm=La.rect,ao=La.metrics;else{const ad=Xt[Xn.fontStack],My=ad&&ad[Ui];if(!My)continue;ao=My.metrics}kl=(ba-Xn.scale)*Qo}Vu?(At.verticalizable=!0,Os.push({glyph:Ui,imageName:dh,x:pn,y:Si+kl,vertical:Vu,scale:Xn.scale,fontStack:Xn.fontStack,sectionIndex:Li,metrics:ao,rect:Rm}),pn+=fh*Xn.scale+Dt):(Os.push({glyph:Ui,imageName:dh,x:pn,y:Si+kl,vertical:Vu,scale:Xn.scale,fontStack:Xn.fontStack,sectionIndex:Li,metrics:ao,rect:Rm}),pn+=ao.advance*Xn.scale+Dt)}Os.length!==0&&(bi=Math.max(pn-Dt,bi),$9(Os,0,Os.length-1,Uu,qa)),pn=0;const lu=lr*ba+qa;Va.lineOffset=Math.max(qa,cs),Si+=lu,ya=Math.max(lu,ya),++Ua}var va;const Ms=Si-Ay,{horizontalAlign:Ds,verticalAlign:Rs}=D5(Dr);(function(mo,ba,cs,Va,Os,qa,lu,il,Xn){const Li=(ba-cs)*Os;let Ui=0;Ui=qa!==lu?-il*Va-Ay:(-Va*Xn+.5)*lu;for(const kl of mo)for(const ao of kl.positionedGlyphs)ao.x+=Li,ao.y+=Ui})(At.positionedLines,Uu,Ds,Rs,bi,ya,lr,Ms,dr.length),At.top+=-Rs*Ms,At.bottom=At.top+Ms,At.left+=-Ds*bi,At.right=At.left+bi}(ft,a,d,m,Be,E,M,F,Y,U,ue,_e),!function(At){for(const Xt of At)if(Xt.positionedGlyphs.length!==0)return!1;return!0}(at)&&ft}const k2={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},O9={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},N9={40:!0};function ZP(c,a,d,m,_,S){if(a.imageName){const E=m[a.imageName];return E?E.displaySize[0]*a.scale*Qo/S+_:0}{const E=d[a.fontStack],M=E&&E[c];return M?M.metrics.advance*a.scale+_:0}}function YP(c,a,d,m){const _=Math.pow(c-a,2);return m?c<a?_/2:2*_:_+Math.abs(d)*d}function F9(c,a,d){let m=0;return c===10&&(m-=1e4),d&&(m+=150),c!==40&&c!==65288||(m+=50),a!==41&&a!==65289||(m+=50),m}function JP(c,a,d,m,_,S){let E=null,M=YP(a,d,_,S);for(const F of m){const U=YP(a-F.x,d,_,S)+F.badness;U<=M&&(E=F,M=U)}return{index:c,x:a,priorBreak:E,badness:M}}function QP(c){return c?QP(c.priorBreak).concat(c.index):[]}function M5(c,a,d,m,_,S){if(!c)return[];const E=[],M=function(Y,ue,pe,_e,Pe,Be){let We=0;for(let vt=0;vt<Y.length();vt++){const at=Y.getSection(vt);We+=ZP(Y.getCharCode(vt),at,_e,Pe,ue,Be)}return We/Math.max(1,Math.ceil(We/pe))}(c,a,d,m,_,S),F=c.text.indexOf("")>=0;let U=0;for(let Y=0;Y<c.length();Y++){const ue=c.getSection(Y),pe=c.getCharCode(Y);if(k2[pe]||(U+=ZP(pe,ue,m,_,a,S)),Y<c.length()-1){const _e=!((K=pe)<11904)&&(!!mn["CJK Compatibility Forms"](K)||!!mn["CJK Compatibility"](K)||!!mn["CJK Strokes"](K)||!!mn["CJK Symbols and Punctuation"](K)||!!mn["Enclosed CJK Letters and Months"](K)||!!mn["Halfwidth and Fullwidth Forms"](K)||!!mn["Ideographic Description Characters"](K)||!!mn["Vertical Forms"](K)||Qf.test(String.fromCodePoint(K)));(O9[pe]||_e||ue.imageName||Y!==c.length()-2&&N9[c.getCharCode(Y+1)])&&E.push(JP(Y+1,U,M,E,F9(pe,c.getCharCode(Y+1),_e&&F),!1))}}var K;return QP(JP(c.length(),U,M,E,0,!0))}function D5(c){let a=.5,d=.5;switch(c){case"right":case"top-right":case"bottom-right":a=1;break;case"left":case"top-left":case"bottom-left":a=0}switch(c){case"bottom":case"bottom-right":case"bottom-left":d=1;break;case"top":case"top-right":case"top-left":d=0}return{horizontalAlign:a,verticalAlign:d}}function $9(c,a,d,m,_){if(!m&&!_)return;const S=c[d],E=(c[d].x+S.metrics.advance*S.scale)*m;for(let M=a;M<=d;M++)c[M].x-=E,c[M].y+=_}function B9(c,a,d){const{horizontalAlign:m,verticalAlign:_}=D5(d),S=a[0]-c.displaySize[0]*m,E=a[1]-c.displaySize[1]*_;return{image:c,top:E,bottom:E+c.displaySize[1],left:S,right:S+c.displaySize[0]}}function ek(c){var a,d;let m=c.left,_=c.top,S=c.right-m,E=c.bottom-_;const M=(a=c.image.textFitWidth)!==null&&a!==void 0?a:"stretchOrShrink",F=(d=c.image.textFitHeight)!==null&&d!==void 0?d:"stretchOrShrink",U=(c.image.content[2]-c.image.content[0])/(c.image.content[3]-c.image.content[1]);if(F==="proportional"){if(M==="stretchOnly"&&S/E<U||M==="proportional"){const K=Math.ceil(E*U);m*=K/S,S=K}}else if(M==="proportional"&&F==="stretchOnly"&&U!==0&&S/E>U){const K=Math.ceil(S/U);_*=K/E,E=K}return{x1:m,y1:_,x2:m+S,y2:_+E}}function tk(c,a,d,m,_,S){const E=c.image;let M;if(E.content){const Be=E.content,We=E.pixelRatio||1;M=[Be[0]/We,Be[1]/We,E.displaySize[0]-Be[2]/We,E.displaySize[1]-Be[3]/We]}const F=a.left*S,U=a.right*S;let K,Y,ue,pe;d==="width"||d==="both"?(pe=_[0]+F-m[3],Y=_[0]+U+m[1]):(pe=_[0]+(F+U-E.displaySize[0])/2,Y=pe+E.displaySize[0]);const _e=a.top*S,Pe=a.bottom*S;return d==="height"||d==="both"?(K=_[1]+_e-m[0],ue=_[1]+Pe+m[2]):(K=_[1]+(_e+Pe-E.displaySize[1])/2,ue=K+E.displaySize[1]),{image:E,top:K,right:Y,bottom:ue,left:pe,collisionPadding:M}}const Ty=255,hh=128,Jd=Ty*hh;function rk(c,a){const{expression:d}=a;if(d.kind==="constant")return{kind:"constant",layoutSize:d.evaluate(new yi(c+1))};if(d.kind==="source")return{kind:"source"};{const{zoomStops:m,interpolationType:_}=d;let S=0;for(;S<m.length&&m[S]<=c;)S++;S=Math.max(0,S-1);let E=S;for(;E<m.length&&m[E]<c+1;)E++;E=Math.min(m.length-1,E);const M=m[S],F=m[E];return d.kind==="composite"?{kind:"composite",minZoom:M,maxZoom:F,interpolationType:_}:{kind:"camera",minZoom:M,maxZoom:F,minSize:d.evaluate(new yi(M)),maxSize:d.evaluate(new yi(F)),interpolationType:_}}}function R5(c,a,d){let m="never";const _=c.get(a);return _?m=_:c.get(d)&&(m="always"),m}const z9=Zd.VectorTileFeature.types,j9=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function I2(c,a,d,m,_,S,E,M,F,U,K,Y,ue){const pe=M?Math.min(Jd,Math.round(M[0])):0,_e=M?Math.min(Jd,Math.round(M[1])):0;c.emplaceBack(a,d,Math.round(32*m),Math.round(32*_),S,E,(pe<<1)+(F?1:0),_e,16*U,16*K,256*Y,256*ue)}function O5(c,a,d){c.emplaceBack(a.x,a.y,d),c.emplaceBack(a.x,a.y,d),c.emplaceBack(a.x,a.y,d),c.emplaceBack(a.x,a.y,d)}function U9(c){for(const a of c.sections)if(gm(a.text))return!0;return!1}class N5{constructor(a){this.layoutVertexArray=new ed,this.indexArray=new ma,this.programConfigurations=a,this.segments=new Mn,this.dynamicLayoutVertexArray=new ih,this.opacityVertexArray=new pa,this.hasVisibleVertices=!1,this.placedSymbolArray=new Jr}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(a,d,m,_){this.isEmpty()||(m&&(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,v9.members),this.indexBuffer=a.createIndexBuffer(this.indexArray,d),this.dynamicLayoutVertexBuffer=a.createVertexBuffer(this.dynamicLayoutVertexArray,b9.members,!0),this.opacityVertexBuffer=a.createVertexBuffer(this.opacityVertexArray,j9,!0),this.opacityVertexBuffer.itemSize=1),(m||_)&&this.programConfigurations.upload(a))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}yr("SymbolBuffers",N5);class F5{constructor(a,d,m){this.layoutVertexArray=new a,this.layoutAttributes=d,this.indexArray=new m,this.segments=new Mn,this.collisionVertexArray=new $o}upload(a){this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=a.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=a.createVertexBuffer(this.collisionVertexArray,_9.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}yr("CollisionBuffers",F5);class Lm{constructor(a){this.collisionBoxArray=a.collisionBoxArray,this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(E=>E.id),this.index=a.index,this.pixelRatio=a.pixelRatio,this.sourceLayerIndex=a.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=g5([]),this.placementViewportMatrix=g5([]);const d=this.layers[0]._unevaluatedLayout._values;this.textSizeData=rk(this.zoom,d["text-size"]),this.iconSizeData=rk(this.zoom,d["icon-size"]);const m=this.layers[0].layout,_=m.get("symbol-sort-key"),S=m.get("symbol-z-order");this.canOverlap=R5(m,"text-overlap","text-allow-overlap")!=="never"||R5(m,"icon-overlap","icon-allow-overlap")!=="never"||m.get("text-ignore-placement")||m.get("icon-ignore-placement"),this.sortFeaturesByKey=S!=="viewport-y"&&!_.isConstant(),this.sortFeaturesByY=(S==="viewport-y"||S==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,m.get("symbol-placement")==="point"&&(this.writingModes=m.get("text-writing-mode").map(E=>u.ah[E])),this.stateDependentLayerIds=this.layers.filter(E=>E.isStateDependent()).map(E=>E.id),this.sourceID=a.sourceID}createArrays(){this.text=new N5(new sh(this.layers,this.zoom,a=>/^text/.test(a))),this.icon=new N5(new sh(this.layers,this.zoom,a=>/^icon/.test(a))),this.glyphOffsetArray=new Sn,this.lineVertexArray=new Gn,this.symbolInstances=new ln,this.textAnchorOffsets=new Rn}calculateGlyphDependencies(a,d,m,_,S){for(let E=0;E<a.length;E++)if(d[a.charCodeAt(E)]=!0,(m||_)&&S){const M=Cy[a.charAt(E)];M&&(d[M.charCodeAt(0)]=!0)}}populate(a,d,m){const _=this.layers[0],S=_.layout,E=S.get("text-font"),M=S.get("text-field"),F=S.get("icon-image"),U=(M.value.kind!=="constant"||M.value.value instanceof Fn&&!M.value.value.isEmpty()||M.value.value.toString().length>0)&&(E.value.kind!=="constant"||E.value.value.length>0),K=F.value.kind!=="constant"||!!F.value.value||Object.keys(F.parameters).length>0,Y=S.get("symbol-sort-key");if(this.features=[],!U&&!K)return;const ue=d.iconDependencies,pe=d.glyphDependencies,_e=d.availableImages,Pe=new yi(this.zoom);for(const{feature:Be,id:We,index:vt,sourceLayerIndex:at}of a){const ft=_._featureFilter.needGeometry,At=lh(Be,ft);if(!_._featureFilter.filter(Pe,At,m))continue;let Xt,pr;if(ft||(At.geometry=nd(Be)),U){const dr=_.getValueAndResolveTokens("text-field",At,m,_e),lr=Fn.factory(dr),Dr=this.hasRTLText=this.hasRTLText||U9(lr);(!Dr||as.getRTLTextPluginStatus()==="unavailable"||Dr&&as.isParsed())&&(Xt=w9(lr,_,At))}if(K){const dr=_.getValueAndResolveTokens("icon-image",At,m,_e);pr=dr instanceof pi?dr:pi.fromString(dr)}if(!Xt&&!pr)continue;const Xr=this.sortFeaturesByKey?Y.evaluate(At,{},m):void 0;if(this.features.push({id:We,text:Xt,icon:pr,index:vt,sourceLayerIndex:at,geometry:At.geometry,properties:Be.properties,type:z9[Be.type],sortKey:Xr}),pr&&(ue[pr.name]=!0),Xt){const dr=E.evaluate(At,{},m).join(","),lr=S.get("text-rotation-alignment")!=="viewport"&&S.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(u.ah.vertical)>=0;for(const Dr of Xt.sections)if(Dr.image)ue[Dr.image.name]=!0;else{const Cr=Jf(Xt.toString()),br=Dr.fontStack||dr,Dt=pe[br]=pe[br]||{};this.calculateGlyphDependencies(Dr.text,Dt,lr,this.allowVerticalPlacement,Cr)}}}S.get("symbol-placement")==="line"&&(this.features=function(Be){const We={},vt={},at=[];let ft=0;function At(dr){at.push(Be[dr]),ft++}function Xt(dr,lr,Dr){const Cr=vt[dr];return delete vt[dr],vt[lr]=Cr,at[Cr].geometry[0].pop(),at[Cr].geometry[0]=at[Cr].geometry[0].concat(Dr[0]),Cr}function pr(dr,lr,Dr){const Cr=We[lr];return delete We[lr],We[dr]=Cr,at[Cr].geometry[0].shift(),at[Cr].geometry[0]=Dr[0].concat(at[Cr].geometry[0]),Cr}function Xr(dr,lr,Dr){const Cr=Dr?lr[0][lr[0].length-1]:lr[0][0];return`${dr}:${Cr.x}:${Cr.y}`}for(let dr=0;dr<Be.length;dr++){const lr=Be[dr],Dr=lr.geometry,Cr=lr.text?lr.text.toString():null;if(!Cr){At(dr);continue}const br=Xr(Cr,Dr),Dt=Xr(Cr,Dr,!0);if(br in vt&&Dt in We&&vt[br]!==We[Dt]){const Nr=pr(br,Dt,Dr),Lr=Xt(br,Dt,at[Nr].geometry);delete We[br],delete vt[Dt],vt[Xr(Cr,at[Lr].geometry,!0)]=Lr,at[Nr].geometry=null}else br in vt?Xt(br,Dt,Dr):Dt in We?pr(br,Dt,Dr):(At(dr),We[br]=ft-1,vt[Dt]=ft-1)}return at.filter(dr=>dr.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((Be,We)=>Be.sortKey-We.sortKey)}update(a,d,m){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(a,d,this.layers,m),this.icon.programConfigurations.updatePaintArrays(a,d,this.layers,m))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(a){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(a),this.iconCollisionBox.upload(a)),this.text.upload(a,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(a,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(a,d){const m=this.lineVertexArray.length;if(a.segment!==void 0){let _=a.dist(d[a.segment+1]),S=a.dist(d[a.segment]);const E={};for(let M=a.segment+1;M<d.length;M++)E[M]={x:d[M].x,y:d[M].y,tileUnitDistanceFromAnchor:_},M<d.length-1&&(_+=d[M+1].dist(d[M]));for(let M=a.segment||0;M>=0;M--)E[M]={x:d[M].x,y:d[M].y,tileUnitDistanceFromAnchor:S},M>0&&(S+=d[M-1].dist(d[M]));for(let M=0;M<d.length;M++){const F=E[M];this.lineVertexArray.emplaceBack(F.x,F.y,F.tileUnitDistanceFromAnchor)}}return{lineStartIndex:m,lineLength:this.lineVertexArray.length-m}}addSymbols(a,d,m,_,S,E,M,F,U,K,Y,ue){const pe=a.indexArray,_e=a.layoutVertexArray,Pe=a.segments.prepareSegment(4*d.length,_e,pe,this.canOverlap?E.sortKey:void 0),Be=this.glyphOffsetArray.length,We=Pe.vertexLength,vt=this.allowVerticalPlacement&&M===u.ah.vertical?Math.PI/2:0,at=E.text&&E.text.sections;for(let ft=0;ft<d.length;ft++){const{tl:At,tr:Xt,bl:pr,br:Xr,tex:dr,pixelOffsetTL:lr,pixelOffsetBR:Dr,minFontScaleX:Cr,minFontScaleY:br,glyphOffset:Dt,isSDF:Nr,sectionIndex:Lr}=d[ft],pn=Pe.vertexLength,Si=Dt[1];I2(_e,F.x,F.y,At.x,Si+At.y,dr.x,dr.y,m,Nr,lr.x,lr.y,Cr,br),I2(_e,F.x,F.y,Xt.x,Si+Xt.y,dr.x+dr.w,dr.y,m,Nr,Dr.x,lr.y,Cr,br),I2(_e,F.x,F.y,pr.x,Si+pr.y,dr.x,dr.y+dr.h,m,Nr,lr.x,Dr.y,Cr,br),I2(_e,F.x,F.y,Xr.x,Si+Xr.y,dr.x+dr.w,dr.y+dr.h,m,Nr,Dr.x,Dr.y,Cr,br),O5(a.dynamicLayoutVertexArray,F,vt),pe.emplaceBack(pn,pn+1,pn+2),pe.emplaceBack(pn+1,pn+2,pn+3),Pe.vertexLength+=4,Pe.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Dt[0]),ft!==d.length-1&&Lr===d[ft+1].sectionIndex||a.programConfigurations.populatePaintArrays(_e.length,E,E.index,{},ue,at&&at[Lr])}a.placedSymbolArray.emplaceBack(F.x,F.y,Be,this.glyphOffsetArray.length-Be,We,U,K,F.segment,m?m[0]:0,m?m[1]:0,_[0],_[1],M,0,!1,0,Y)}_addCollisionDebugVertex(a,d,m,_,S,E){return d.emplaceBack(0,0),a.emplaceBack(m.x,m.y,_,S,Math.round(E.x),Math.round(E.y))}addCollisionDebugVertices(a,d,m,_,S,E,M){const F=S.segments.prepareSegment(4,S.layoutVertexArray,S.indexArray),U=F.vertexLength,K=S.layoutVertexArray,Y=S.collisionVertexArray,ue=M.anchorX,pe=M.anchorY;this._addCollisionDebugVertex(K,Y,E,ue,pe,new w(a,d)),this._addCollisionDebugVertex(K,Y,E,ue,pe,new w(m,d)),this._addCollisionDebugVertex(K,Y,E,ue,pe,new w(m,_)),this._addCollisionDebugVertex(K,Y,E,ue,pe,new w(a,_)),F.vertexLength+=4;const _e=S.indexArray;_e.emplaceBack(U,U+1),_e.emplaceBack(U+1,U+2),_e.emplaceBack(U+2,U+3),_e.emplaceBack(U+3,U),F.primitiveLength+=4}addDebugCollisionBoxes(a,d,m,_){for(let S=a;S<d;S++){const E=this.collisionBoxArray.get(S);this.addCollisionDebugVertices(E.x1,E.y1,E.x2,E.y2,_?this.textCollisionBox:this.iconCollisionBox,E.anchorPoint,m)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new F5(Ia,BP.members,Ji),this.iconCollisionBox=new F5(Ia,BP.members,Ji);for(let a=0;a<this.symbolInstances.length;a++){const d=this.symbolInstances.get(a);this.addDebugCollisionBoxes(d.textBoxStartIndex,d.textBoxEndIndex,d,!0),this.addDebugCollisionBoxes(d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d,!0),this.addDebugCollisionBoxes(d.iconBoxStartIndex,d.iconBoxEndIndex,d,!1),this.addDebugCollisionBoxes(d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex,d,!1)}}_deserializeCollisionBoxesForSymbol(a,d,m,_,S,E,M,F,U){const K={};for(let Y=d;Y<m;Y++){const ue=a.get(Y);K.textBox={x1:ue.x1,y1:ue.y1,x2:ue.x2,y2:ue.y2,anchorPointX:ue.anchorPointX,anchorPointY:ue.anchorPointY},K.textFeatureIndex=ue.featureIndex;break}for(let Y=_;Y<S;Y++){const ue=a.get(Y);K.verticalTextBox={x1:ue.x1,y1:ue.y1,x2:ue.x2,y2:ue.y2,anchorPointX:ue.anchorPointX,anchorPointY:ue.anchorPointY},K.verticalTextFeatureIndex=ue.featureIndex;break}for(let Y=E;Y<M;Y++){const ue=a.get(Y);K.iconBox={x1:ue.x1,y1:ue.y1,x2:ue.x2,y2:ue.y2,anchorPointX:ue.anchorPointX,anchorPointY:ue.anchorPointY},K.iconFeatureIndex=ue.featureIndex;break}for(let Y=F;Y<U;Y++){const ue=a.get(Y);K.verticalIconBox={x1:ue.x1,y1:ue.y1,x2:ue.x2,y2:ue.y2,anchorPointX:ue.anchorPointX,anchorPointY:ue.anchorPointY},K.verticalIconFeatureIndex=ue.featureIndex;break}return K}deserializeCollisionBoxes(a){this.collisionArrays=[];for(let d=0;d<this.symbolInstances.length;d++){const m=this.symbolInstances.get(d);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(a,m.textBoxStartIndex,m.textBoxEndIndex,m.verticalTextBoxStartIndex,m.verticalTextBoxEndIndex,m.iconBoxStartIndex,m.iconBoxEndIndex,m.verticalIconBoxStartIndex,m.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(a,d){const m=a.placedSymbolArray.get(d),_=m.vertexStartIndex+4*m.numGlyphs;for(let S=m.vertexStartIndex;S<_;S+=4)a.indexArray.emplaceBack(S,S+1,S+2),a.indexArray.emplaceBack(S+1,S+2,S+3)}getSortedSymbolIndexes(a){if(this.sortedAngle===a&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const d=Math.sin(a),m=Math.cos(a),_=[],S=[],E=[];for(let M=0;M<this.symbolInstances.length;++M){E.push(M);const F=this.symbolInstances.get(M);_.push(0|Math.round(d*F.anchorX+m*F.anchorY)),S.push(F.featureIndex)}return E.sort((M,F)=>_[M]-_[F]||S[F]-S[M]),E}addToSortKeyRanges(a,d){const m=this.sortKeyRanges[this.sortKeyRanges.length-1];m&&m.sortKey===d?m.symbolInstanceEnd=a+1:this.sortKeyRanges.push({sortKey:d,symbolInstanceStart:a,symbolInstanceEnd:a+1})}sortFeatures(a){if(this.sortFeaturesByY&&this.sortedAngle!==a&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(a),this.sortedAngle=a,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const d of this.symbolInstanceIndexes){const m=this.symbolInstances.get(d);this.featureSortOrder.push(m.featureIndex),[m.rightJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.leftJustifiedTextSymbolIndex].forEach((_,S,E)=>{_>=0&&E.indexOf(_)===S&&this.addIndicesForPlacedSymbol(this.text,_)}),m.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,m.verticalPlacedTextSymbolIndex),m.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,m.placedIconSymbolIndex),m.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,m.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let nk,ik;yr("SymbolBucket",Lm,{omit:["layers","collisionBoxArray","features","compareText"]}),Lm.MAX_GLYPHS=65535,Lm.addDynamicAttributes=O5;var $5={get paint(){return ik=ik||new g({"icon-opacity":new Gr(de.paint_symbol["icon-opacity"]),"icon-color":new Gr(de.paint_symbol["icon-color"]),"icon-halo-color":new Gr(de.paint_symbol["icon-halo-color"]),"icon-halo-width":new Gr(de.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Gr(de.paint_symbol["icon-halo-blur"]),"icon-translate":new Er(de.paint_symbol["icon-translate"]),"icon-translate-anchor":new Er(de.paint_symbol["icon-translate-anchor"]),"text-opacity":new Gr(de.paint_symbol["text-opacity"]),"text-color":new Gr(de.paint_symbol["text-color"],{runtimeType:xr,getOverride:c=>c.textColor,hasOverride:c=>!!c.textColor}),"text-halo-color":new Gr(de.paint_symbol["text-halo-color"]),"text-halo-width":new Gr(de.paint_symbol["text-halo-width"]),"text-halo-blur":new Gr(de.paint_symbol["text-halo-blur"]),"text-translate":new Er(de.paint_symbol["text-translate"]),"text-translate-anchor":new Er(de.paint_symbol["text-translate-anchor"])})},get layout(){return nk=nk||new g({"symbol-placement":new Er(de.layout_symbol["symbol-placement"]),"symbol-spacing":new Er(de.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Er(de.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Gr(de.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Er(de.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Er(de.layout_symbol["icon-allow-overlap"]),"icon-overlap":new Er(de.layout_symbol["icon-overlap"]),"icon-ignore-placement":new Er(de.layout_symbol["icon-ignore-placement"]),"icon-optional":new Er(de.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Er(de.layout_symbol["icon-rotation-alignment"]),"icon-size":new Gr(de.layout_symbol["icon-size"]),"icon-text-fit":new Er(de.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Er(de.layout_symbol["icon-text-fit-padding"]),"icon-image":new Gr(de.layout_symbol["icon-image"]),"icon-rotate":new Gr(de.layout_symbol["icon-rotate"]),"icon-padding":new Gr(de.layout_symbol["icon-padding"]),"icon-keep-upright":new Er(de.layout_symbol["icon-keep-upright"]),"icon-offset":new Gr(de.layout_symbol["icon-offset"]),"icon-anchor":new Gr(de.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Er(de.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Er(de.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Er(de.layout_symbol["text-rotation-alignment"]),"text-field":new Gr(de.layout_symbol["text-field"]),"text-font":new Gr(de.layout_symbol["text-font"]),"text-size":new Gr(de.layout_symbol["text-size"]),"text-max-width":new Gr(de.layout_symbol["text-max-width"]),"text-line-height":new Er(de.layout_symbol["text-line-height"]),"text-letter-spacing":new Gr(de.layout_symbol["text-letter-spacing"]),"text-justify":new Gr(de.layout_symbol["text-justify"]),"text-radial-offset":new Gr(de.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Er(de.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new Gr(de.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new Gr(de.layout_symbol["text-anchor"]),"text-max-angle":new Er(de.layout_symbol["text-max-angle"]),"text-writing-mode":new Er(de.layout_symbol["text-writing-mode"]),"text-rotate":new Gr(de.layout_symbol["text-rotate"]),"text-padding":new Er(de.layout_symbol["text-padding"]),"text-keep-upright":new Er(de.layout_symbol["text-keep-upright"]),"text-transform":new Gr(de.layout_symbol["text-transform"]),"text-offset":new Gr(de.layout_symbol["text-offset"]),"text-allow-overlap":new Er(de.layout_symbol["text-allow-overlap"]),"text-overlap":new Er(de.layout_symbol["text-overlap"]),"text-ignore-placement":new Er(de.layout_symbol["text-ignore-placement"]),"text-optional":new Er(de.layout_symbol["text-optional"])})}};class ok{constructor(a){if(a.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=a.property.overrides?a.property.overrides.runtimeType:Br,this.defaultValue=a}evaluate(a){if(a.formattedSection){const d=this.defaultValue.property.overrides;if(d&&d.hasOverride(a.formattedSection))return d.getOverride(a.formattedSection)}return a.feature&&a.featureState?this.defaultValue.evaluate(a.feature,a.featureState):this.defaultValue.property.specification.default}eachChild(a){this.defaultValue.isConstant()||a(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}yr("FormatSectionOverride",ok,{omit:["defaultValue"]});class L2 extends h{constructor(a){super(a,$5)}recalculate(a,d){if(super.recalculate(a,d),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const m=this.layout.get("text-writing-mode");if(m){const _=[];for(const S of m)_.indexOf(S)<0&&_.push(S);this.layout._values["text-writing-mode"]=_}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(a,d,m,_){const S=this.layout.get(a).evaluate(d,{},m,_),E=this._unevaluatedLayout._values[a];return E.isDataDriven()||Zn(E.value)||!S?S:function(M,F){return F.replace(/{([^{}]+)}/g,(U,K)=>M&&K in M?String(M[K]):"")}(d.properties,S)}createBucket(a){return new Lm(a)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const a of $5.paint.overridableProperties){if(!L2.hasPaintOverride(this.layout,a))continue;const d=this.paint.get(a),m=new ok(d),_=new ui(m,d.property.specification);let S=null;S=d.value.kind==="constant"||d.value.kind==="source"?new zi("source",_):new ci("composite",_,d.value.zoomStops),this.paint._values[a]=new tl(d.property,S,d.parameters)}}_handleOverridablePaintPropertyUpdate(a,d,m){return!(!this.layout||d.isDataDriven()||m.isDataDriven())&&L2.hasPaintOverride(this.layout,a)}static hasPaintOverride(a,d){const m=a.get("text-field"),_=$5.paint.properties[d];let S=!1;const E=M=>{for(const F of M)if(_.overrides&&_.overrides.hasOverride(F))return void(S=!0)};if(m.value.kind==="constant"&&m.value.value instanceof Fn)E(m.value.value.sections);else if(m.value.kind==="source"){const M=U=>{S||(U instanceof la&&ei(U.value)===Nn?E(U.value.sections):U instanceof Yl?E(U.sections):U.eachChild(M))},F=m.value;F._styleExpression&&M(F._styleExpression.expression)}return S}}let ak;var V9={get paint(){return ak=ak||new g({"background-color":new Er(de.paint_background["background-color"]),"background-pattern":new A(de.paint_background["background-pattern"]),"background-opacity":new Er(de.paint_background["background-opacity"])})}};class q9 extends h{constructor(a){super(a,V9)}}let sk;var H9={get paint(){return sk=sk||new g({"raster-opacity":new Er(de.paint_raster["raster-opacity"]),"raster-hue-rotate":new Er(de.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Er(de.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Er(de.paint_raster["raster-brightness-max"]),"raster-saturation":new Er(de.paint_raster["raster-saturation"]),"raster-contrast":new Er(de.paint_raster["raster-contrast"]),"raster-resampling":new Er(de.paint_raster["raster-resampling"]),"raster-fade-duration":new Er(de.paint_raster["raster-fade-duration"])})}};class G9 extends h{constructor(a){super(a,H9)}}class W9 extends h{constructor(a){super(a,{}),this.onAdd=d=>{this.implementation.onAdd&&this.implementation.onAdd(d,d.painter.context.gl)},this.onRemove=d=>{this.implementation.onRemove&&this.implementation.onRemove(d,d.painter.context.gl)},this.implementation=a}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class X9{constructor(a){this._methodToThrottle=a,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._methodToThrottle()},0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}const B5=63710088e-1;class Qd{constructor(a,d){if(isNaN(a)||isNaN(d))throw new Error(`Invalid LngLat object: (${a}, ${d})`);if(this.lng=+a,this.lat=+d,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Qd(ie(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(a){const d=Math.PI/180,m=this.lat*d,_=a.lat*d,S=Math.sin(m)*Math.sin(_)+Math.cos(m)*Math.cos(_)*Math.cos((a.lng-this.lng)*d);return B5*Math.acos(Math.min(S,1))}static convert(a){if(a instanceof Qd)return a;if(Array.isArray(a)&&(a.length===2||a.length===3))return new Qd(Number(a[0]),Number(a[1]));if(!Array.isArray(a)&&typeof a=="object"&&a!==null)return new Qd(Number("lng"in a?a.lng:a.lon),Number(a.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const lk=2*Math.PI*B5;function uk(c){return lk*Math.cos(c*Math.PI/180)}function ck(c){return(180+c)/360}function hk(c){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+c*Math.PI/360)))/360}function dk(c,a){return c/uk(a)}function z5(c){return 360/Math.PI*Math.atan(Math.exp((180-360*c)*Math.PI/180))-90}class Py{constructor(a,d,m=0){this.x=+a,this.y=+d,this.z=+m}static fromLngLat(a,d=0){const m=Qd.convert(a);return new Py(ck(m.lng),hk(m.lat),dk(d,m.lat))}toLngLat(){return new Qd(360*this.x-180,z5(this.y))}toAltitude(){return this.z*uk(z5(this.y))}meterInMercatorCoordinateUnits(){return 1/lk*(a=z5(this.y),1/Math.cos(a*Math.PI/180));var a}}function fk(c,a,d){var m=2*Math.PI*6378137/256/Math.pow(2,d);return[c*m-2*Math.PI*6378137/2,a*m-2*Math.PI*6378137/2]}class j5{constructor(a,d,m){if(!function(_,S,E){return!(_<0||_>25||E<0||E>=Math.pow(2,_)||S<0||S>=Math.pow(2,_))}(a,d,m))throw new Error(`x=${d}, y=${m}, z=${a} outside of bounds. 0<=x<${Math.pow(2,a)}, 0<=y<${Math.pow(2,a)} 0<=z<=25 `);this.z=a,this.x=d,this.y=m,this.key=ky(0,a,a,d,m)}equals(a){return this.z===a.z&&this.x===a.x&&this.y===a.y}url(a,d,m){const _=(E=this.y,M=this.z,F=fk(256*(S=this.x),256*(E=Math.pow(2,M)-E-1),M),U=fk(256*(S+1),256*(E+1),M),F[0]+","+F[1]+","+U[0]+","+U[1]);var S,E,M,F,U;const K=function(Y,ue,pe){let _e,Pe="";for(let Be=Y;Be>0;Be--)_e=1<<Be-1,Pe+=(ue&_e?1:0)+(pe&_e?2:0);return Pe}(this.z,this.x,this.y);return a[(this.x+this.y)%a.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(m==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,d>1?"@2x":"").replace(/{quadkey}/g,K).replace(/{bbox-epsg-3857}/g,_)}isChildOf(a){const d=this.z-a.z;return d>0&&a.x===this.x>>d&&a.y===this.y>>d}getTilePoint(a){const d=Math.pow(2,this.z);return new w((a.x*d-this.x)*Ii,(a.y*d-this.y)*Ii)}toString(){return`${this.z}/${this.x}/${this.y}`}}class pk{constructor(a,d){this.wrap=a,this.canonical=d,this.key=ky(a,d.z,d.z,d.x,d.y)}}class su{constructor(a,d,m,_,S){if(a<m)throw new Error(`overscaledZ should be >= z; overscaledZ = ${a}; z = ${m}`);this.overscaledZ=a,this.wrap=d,this.canonical=new j5(m,+_,+S),this.key=ky(d,a,m,_,S)}clone(){return new su(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(a){return this.overscaledZ===a.overscaledZ&&this.wrap===a.wrap&&this.canonical.equals(a.canonical)}scaledTo(a){if(a>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${a}; overscaledZ = ${this.overscaledZ}`);const d=this.canonical.z-a;return a>this.canonical.z?new su(a,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new su(a,this.wrap,a,this.canonical.x>>d,this.canonical.y>>d)}calculateScaledKey(a,d){if(a>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${a}; overscaledZ = ${this.overscaledZ}`);const m=this.canonical.z-a;return a>this.canonical.z?ky(this.wrap*+d,a,this.canonical.z,this.canonical.x,this.canonical.y):ky(this.wrap*+d,a,a,this.canonical.x>>m,this.canonical.y>>m)}isChildOf(a){if(a.wrap!==this.wrap)return!1;const d=this.canonical.z-a.canonical.z;return a.overscaledZ===0||a.overscaledZ<this.overscaledZ&&a.canonical.x===this.canonical.x>>d&&a.canonical.y===this.canonical.y>>d}children(a){if(this.overscaledZ>=a)return[new su(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const d=this.canonical.z+1,m=2*this.canonical.x,_=2*this.canonical.y;return[new su(d,this.wrap,d,m,_),new su(d,this.wrap,d,m+1,_),new su(d,this.wrap,d,m,_+1),new su(d,this.wrap,d,m+1,_+1)]}isLessThan(a){return this.wrap<a.wrap||!(this.wrap>a.wrap)&&(this.overscaledZ<a.overscaledZ||!(this.overscaledZ>a.overscaledZ)&&(this.canonical.x<a.canonical.x||!(this.canonical.x>a.canonical.x)&&this.canonical.y<a.canonical.y))}wrapped(){return new su(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(a){return new su(this.overscaledZ,a,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new pk(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(a){return this.canonical.getTilePoint(new Py(a.x-this.wrap,a.y))}}function ky(c,a,d,m,_){(c*=2)<0&&(c=-1*c-1);const S=1<<d;return(S*S*c+S*_+m).toString(36)+d.toString(36)+a.toString(36)}yr("CanonicalTileID",j5),yr("OverscaledTileID",su,{omit:["posMatrix"]});class mk{constructor(a,d,m,_=1,S=1,E=1,M=0){if(this.uid=a,d.height!==d.width)throw new RangeError("DEM tiles must be square");if(m&&!["mapbox","terrarium","custom"].includes(m))return void be(`"${m}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=d.height;const F=this.dim=d.height-2;switch(this.data=new Uint32Array(d.data.buffer),m){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=_,this.greenFactor=S,this.blueFactor=E,this.baseShift=M;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let U=0;U<F;U++)this.data[this._idx(-1,U)]=this.data[this._idx(0,U)],this.data[this._idx(F,U)]=this.data[this._idx(F-1,U)],this.data[this._idx(U,-1)]=this.data[this._idx(U,0)],this.data[this._idx(U,F)]=this.data[this._idx(U,F-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(F,-1)]=this.data[this._idx(F-1,0)],this.data[this._idx(-1,F)]=this.data[this._idx(0,F-1)],this.data[this._idx(F,F)]=this.data[this._idx(F-1,F-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let U=0;U<F;U++)for(let K=0;K<F;K++){const Y=this.get(U,K);Y>this.max&&(this.max=Y),Y<this.min&&(this.min=Y)}}get(a,d){const m=new Uint8Array(this.data.buffer),_=4*this._idx(a,d);return this.unpack(m[_],m[_+1],m[_+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(a,d){if(a<-1||a>=this.dim+1||d<-1||d>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(d+1)*this.stride+(a+1)}unpack(a,d,m){return a*this.redFactor+d*this.greenFactor+m*this.blueFactor-this.baseShift}getPixels(){return new au({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(a,d,m){if(this.dim!==a.dim)throw new Error("dem dimension mismatch");let _=d*this.dim,S=d*this.dim+this.dim,E=m*this.dim,M=m*this.dim+this.dim;switch(d){case-1:_=S-1;break;case 1:S=_+1}switch(m){case-1:E=M-1;break;case 1:M=E+1}const F=-d*this.dim,U=-m*this.dim;for(let K=E;K<M;K++)for(let Y=_;Y<S;Y++)this.data[this._idx(Y,K)]=a.data[this._idx(Y+F,K+U)]}}yr("DEMData",mk);class gk{constructor(a){this._stringToNumber={},this._numberToString=[];for(let d=0;d<a.length;d++){const m=a[d];this._stringToNumber[m]=d,this._numberToString[d]=m}}encode(a){return this._stringToNumber[a]}decode(a){if(a>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${a} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[a]}}class yk{constructor(a,d,m,_,S){this.type="Feature",this._vectorTileFeature=a,a._z=d,a._x=m,a._y=_,this.properties=a.properties,this.id=S}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(a){this._geometry=a}toJSON(){const a={geometry:this.geometry};for(const d in this)d!=="_geometry"&&d!=="_vectorTileFeature"&&(a[d]=this[d]);return a}}class vk{constructor(a,d){this.tileID=a,this.x=a.canonical.x,this.y=a.canonical.y,this.z=a.canonical.z,this.grid=new th(Ii,16,0),this.grid3D=new th(Ii,16,0),this.featureIndexArray=new Wn,this.promoteId=d}insert(a,d,m,_,S,E){const M=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(m,_,S);const F=E?this.grid3D:this.grid;for(let U=0;U<d.length;U++){const K=d[U],Y=[1/0,1/0,-1/0,-1/0];for(let ue=0;ue<K.length;ue++){const pe=K[ue];Y[0]=Math.min(Y[0],pe.x),Y[1]=Math.min(Y[1],pe.y),Y[2]=Math.max(Y[2],pe.x),Y[3]=Math.max(Y[3],pe.y)}Y[0]<Ii&&Y[1]<Ii&&Y[2]>=0&&Y[3]>=0&&F.insert(M,Y[0],Y[1],Y[2],Y[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new Zd.VectorTile(new k5(this.rawTileData)).layers,this.sourceLayerCoder=new gk(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(a,d,m,_){this.loadVTLayers();const S=a.params||{},E=Ii/a.tileSize/a.scale,M=Ba(S.filter),F=a.queryGeometry,U=a.queryPadding*E,K=_k(F),Y=this.grid.query(K.minX-U,K.minY-U,K.maxX+U,K.maxY+U),ue=_k(a.cameraQueryGeometry),pe=this.grid3D.query(ue.minX-U,ue.minY-U,ue.maxX+U,ue.maxY+U,(Be,We,vt,at)=>function(ft,At,Xt,pr,Xr){for(const lr of ft)if(At<=lr.x&&Xt<=lr.y&&pr>=lr.x&&Xr>=lr.y)return!0;const dr=[new w(At,Xt),new w(At,Xr),new w(pr,Xr),new w(pr,Xt)];if(ft.length>2){for(const lr of dr)if(ch(ft,lr))return!0}for(let lr=0;lr<ft.length-1;lr++)if(my(ft[lr],ft[lr+1],dr))return!0;return!1}(a.cameraQueryGeometry,Be-U,We-U,vt+U,at+U));for(const Be of pe)Y.push(Be);Y.sort(K9);const _e={};let Pe;for(let Be=0;Be<Y.length;Be++){const We=Y[Be];if(We===Pe)continue;Pe=We;const vt=this.featureIndexArray.get(We);let at=null;this.loadMatchingFeature(_e,vt.bucketIndex,vt.sourceLayerIndex,vt.featureIndex,M,S.layers,S.availableImages,d,m,_,(ft,At,Xt)=>(at||(at=nd(ft)),At.queryIntersectsFeature(F,ft,Xt,at,this.z,a.transform,E,a.pixelPosMatrix)))}return _e}loadMatchingFeature(a,d,m,_,S,E,M,F,U,K,Y){const ue=this.bucketLayerIDs[d];if(E&&!function(Be,We){for(let vt=0;vt<Be.length;vt++)if(We.indexOf(Be[vt])>=0)return!0;return!1}(E,ue))return;const pe=this.sourceLayerCoder.decode(m),_e=this.vtLayers[pe].feature(_);if(S.needGeometry){const Be=lh(_e,!0);if(!S.filter(new yi(this.tileID.overscaledZ),Be,this.tileID.canonical))return}else if(!S.filter(new yi(this.tileID.overscaledZ),_e))return;const Pe=this.getId(_e,pe);for(let Be=0;Be<ue.length;Be++){const We=ue[Be];if(E&&E.indexOf(We)<0)continue;const vt=F[We];if(!vt)continue;let at={};Pe&&K&&(at=K.getState(vt.sourceLayer||"_geojsonTileLayer",Pe));const ft=J({},U[We]);ft.paint=bk(ft.paint,vt.paint,_e,at,M),ft.layout=bk(ft.layout,vt.layout,_e,at,M);const At=!Y||Y(_e,vt,at);if(!At)continue;const Xt=new yk(_e,this.z,this.x,this.y,Pe);Xt.layer=ft;let pr=a[We];pr===void 0&&(pr=a[We]=[]),pr.push({featureIndex:_,feature:Xt,intersectionZ:At})}}lookupSymbolFeatures(a,d,m,_,S,E,M,F){const U={};this.loadVTLayers();const K=Ba(S);for(const Y of a)this.loadMatchingFeature(U,m,_,Y,K,E,M,F,d);return U}hasLayer(a){for(const d of this.bucketLayerIDs)for(const m of d)if(a===m)return!0;return!1}getId(a,d){let m=a.id;return this.promoteId&&(m=a.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[d]],typeof m=="boolean"&&(m=Number(m))),m}}function bk(c,a,d,m,_){return Ae(c,(S,E)=>{const M=a instanceof Nu?a.get(E):null;return M&&M.evaluate?M.evaluate(d,m,_):M})}function _k(c){let a=1/0,d=1/0,m=-1/0,_=-1/0;for(const S of c)a=Math.min(a,S.x),d=Math.min(d,S.y),m=Math.max(m,S.x),_=Math.max(_,S.y);return{minX:a,minY:d,maxX:m,maxY:_}}function K9(c,a){return a-c}function xk(c,a,d,m,_){const S=[];for(let E=0;E<c.length;E++){const M=c[E];let F;for(let U=0;U<M.length-1;U++){let K=M[U],Y=M[U+1];K.x<a&&Y.x<a||(K.x<a?K=new w(a,K.y+(a-K.x)/(Y.x-K.x)*(Y.y-K.y))._round():Y.x<a&&(Y=new w(a,K.y+(a-K.x)/(Y.x-K.x)*(Y.y-K.y))._round()),K.y<d&&Y.y<d||(K.y<d?K=new w(K.x+(d-K.y)/(Y.y-K.y)*(Y.x-K.x),d)._round():Y.y<d&&(Y=new w(K.x+(d-K.y)/(Y.y-K.y)*(Y.x-K.x),d)._round()),K.x>=m&&Y.x>=m||(K.x>=m?K=new w(m,K.y+(m-K.x)/(Y.x-K.x)*(Y.y-K.y))._round():Y.x>=m&&(Y=new w(m,K.y+(m-K.x)/(Y.x-K.x)*(Y.y-K.y))._round()),K.y>=_&&Y.y>=_||(K.y>=_?K=new w(K.x+(_-K.y)/(Y.y-K.y)*(Y.x-K.x),_)._round():Y.y>=_&&(Y=new w(K.x+(_-K.y)/(Y.y-K.y)*(Y.x-K.x),_)._round()),F&&K.equals(F[F.length-1])||(F=[K],S.push(F)),F.push(Y)))))}}return S}yr("FeatureIndex",vk,{omit:["rawTileData","sourceLayerCoder"]});class ef extends w{constructor(a,d,m,_){super(a,d),this.angle=m,_!==void 0&&(this.segment=_)}clone(){return new ef(this.x,this.y,this.angle,this.segment)}}function wk(c,a,d,m,_){if(a.segment===void 0||d===0)return!0;let S=a,E=a.segment+1,M=0;for(;M>-d/2;){if(E--,E<0)return!1;M-=c[E].dist(S),S=c[E]}M+=c[E].dist(c[E+1]),E++;const F=[];let U=0;for(;M<d/2;){const K=c[E],Y=c[E+1];if(!Y)return!1;let ue=c[E-1].angleTo(K)-K.angleTo(Y);for(ue=Math.abs((ue+3*Math.PI)%(2*Math.PI)-Math.PI),F.push({distance:M,angleDelta:ue}),U+=ue;M-F[0].distance>m;)U-=F.shift().angleDelta;if(U>_)return!1;E++,M+=K.dist(Y)}return!0}function Sk(c){let a=0;for(let d=0;d<c.length-1;d++)a+=c[d].dist(c[d+1]);return a}function Ck(c,a,d){return c?.6*a*d:0}function Ak(c,a){return Math.max(c?c.right-c.left:0,a?a.right-a.left:0)}function Z9(c,a,d,m,_,S){const E=Ck(d,_,S),M=Ak(d,m)*S;let F=0;const U=Sk(c)/2;for(let K=0;K<c.length-1;K++){const Y=c[K],ue=c[K+1],pe=Y.dist(ue);if(F+pe>U){const _e=(U-F)/pe,Pe=Fr.number(Y.x,ue.x,_e),Be=Fr.number(Y.y,ue.y,_e),We=new ef(Pe,Be,ue.angleTo(Y),K);return We._round(),!E||wk(c,We,M,E,a)?We:void 0}F+=pe}}function Y9(c,a,d,m,_,S,E,M,F){const U=Ck(m,S,E),K=Ak(m,_),Y=K*E,ue=c[0].x===0||c[0].x===F||c[0].y===0||c[0].y===F;return a-Y<a/4&&(a=Y+a/4),Ek(c,ue?a/2*M%a:(K/2+2*S)*E*M%a,a,U,d,Y,ue,!1,F)}function Ek(c,a,d,m,_,S,E,M,F){const U=S/2,K=Sk(c);let Y=0,ue=a-d,pe=[];for(let _e=0;_e<c.length-1;_e++){const Pe=c[_e],Be=c[_e+1],We=Pe.dist(Be),vt=Be.angleTo(Pe);for(;ue+d<Y+We;){ue+=d;const at=(ue-Y)/We,ft=Fr.number(Pe.x,Be.x,at),At=Fr.number(Pe.y,Be.y,at);if(ft>=0&&ft<F&&At>=0&&At<F&&ue-U>=0&&ue+U<=K){const Xt=new ef(ft,At,vt,_e);Xt._round(),m&&!wk(c,Xt,S,m,_)||pe.push(Xt)}}Y+=We}return M||pe.length||E||(pe=Ek(c,Y/2,d,m,_,S,E,!0,F)),pe}yr("Anchor",ef);const Mm=nl;function Tk(c,a,d,m){const _=[],S=c.image,E=S.pixelRatio,M=S.paddedRect.w-2*Mm,F=S.paddedRect.h-2*Mm;let U={x1:c.left,y1:c.top,x2:c.right,y2:c.bottom};const K=S.stretchX||[[0,M]],Y=S.stretchY||[[0,F]],ue=(Dt,Nr)=>Dt+Nr[1]-Nr[0],pe=K.reduce(ue,0),_e=Y.reduce(ue,0),Pe=M-pe,Be=F-_e;let We=0,vt=pe,at=0,ft=_e,At=0,Xt=Pe,pr=0,Xr=Be;if(S.content&&m){const Dt=S.content,Nr=Dt[2]-Dt[0],Lr=Dt[3]-Dt[1];(S.textFitWidth||S.textFitHeight)&&(U=ek(c)),We=M2(K,0,Dt[0]),at=M2(Y,0,Dt[1]),vt=M2(K,Dt[0],Dt[2]),ft=M2(Y,Dt[1],Dt[3]),At=Dt[0]-We,pr=Dt[1]-at,Xt=Nr-vt,Xr=Lr-ft}const dr=U.x1,lr=U.y1,Dr=U.x2-dr,Cr=U.y2-lr,br=(Dt,Nr,Lr,pn)=>{const Si=D2(Dt.stretch-We,vt,Dr,dr),bi=R2(Dt.fixed-At,Xt,Dt.stretch,pe),ya=D2(Nr.stretch-at,ft,Cr,lr),Uu=R2(Nr.fixed-pr,Xr,Nr.stretch,_e),Ua=D2(Lr.stretch-We,vt,Dr,dr),va=R2(Lr.fixed-At,Xt,Lr.stretch,pe),Ms=D2(pn.stretch-at,ft,Cr,lr),Ds=R2(pn.fixed-pr,Xr,pn.stretch,_e),Rs=new w(Si,ya),mo=new w(Ua,ya),ba=new w(Ua,Ms),cs=new w(Si,Ms),Va=new w(bi/E,Uu/E),Os=new w(va/E,Ds/E),qa=a*Math.PI/180;if(qa){const Xn=Math.sin(qa),Li=Math.cos(qa),Ui=[Li,-Xn,Xn,Li];Rs._matMult(Ui),mo._matMult(Ui),cs._matMult(Ui),ba._matMult(Ui)}const lu=Dt.stretch+Dt.fixed,il=Nr.stretch+Nr.fixed;return{tl:Rs,tr:mo,bl:cs,br:ba,tex:{x:S.paddedRect.x+Mm+lu,y:S.paddedRect.y+Mm+il,w:Lr.stretch+Lr.fixed-lu,h:pn.stretch+pn.fixed-il},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Va,pixelOffsetBR:Os,minFontScaleX:Xt/E/Dr,minFontScaleY:Xr/E/Cr,isSDF:d}};if(m&&(S.stretchX||S.stretchY)){const Dt=Pk(K,Pe,pe),Nr=Pk(Y,Be,_e);for(let Lr=0;Lr<Dt.length-1;Lr++){const pn=Dt[Lr],Si=Dt[Lr+1];for(let bi=0;bi<Nr.length-1;bi++)_.push(br(pn,Nr[bi],Si,Nr[bi+1]))}}else _.push(br({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:M+1},{fixed:0,stretch:F+1}));return _}function M2(c,a,d){let m=0;for(const _ of c)m+=Math.max(a,Math.min(d,_[1]))-Math.max(a,Math.min(d,_[0]));return m}function Pk(c,a,d){const m=[{fixed:-Mm,stretch:0}];for(const[_,S]of c){const E=m[m.length-1];m.push({fixed:_-E.stretch,stretch:E.stretch}),m.push({fixed:_-E.stretch,stretch:E.stretch+(S-_)})}return m.push({fixed:a+Mm,stretch:d}),m}function D2(c,a,d,m){return c/a*d+m}function R2(c,a,d,m){return c-a*d/m}class O2{constructor(a,d,m,_,S,E,M,F,U,K){var Y;if(this.boxStartIndex=a.length,U){let ue=E.top,pe=E.bottom;const _e=E.collisionPadding;_e&&(ue-=_e[1],pe+=_e[3]);let Pe=pe-ue;Pe>0&&(Pe=Math.max(10,Pe),this.circleDiameter=Pe)}else{const ue=!((Y=E.image)===null||Y===void 0)&&Y.content&&(E.image.textFitWidth||E.image.textFitHeight)?ek(E):{x1:E.left,y1:E.top,x2:E.right,y2:E.bottom};ue.y1=ue.y1*M-F[0],ue.y2=ue.y2*M+F[2],ue.x1=ue.x1*M-F[3],ue.x2=ue.x2*M+F[1];const pe=E.collisionPadding;if(pe&&(ue.x1-=pe[0]*M,ue.y1-=pe[1]*M,ue.x2+=pe[2]*M,ue.y2+=pe[3]*M),K){const _e=new w(ue.x1,ue.y1),Pe=new w(ue.x2,ue.y1),Be=new w(ue.x1,ue.y2),We=new w(ue.x2,ue.y2),vt=K*Math.PI/180;_e._rotate(vt),Pe._rotate(vt),Be._rotate(vt),We._rotate(vt),ue.x1=Math.min(_e.x,Pe.x,Be.x,We.x),ue.x2=Math.max(_e.x,Pe.x,Be.x,We.x),ue.y1=Math.min(_e.y,Pe.y,Be.y,We.y),ue.y2=Math.max(_e.y,Pe.y,Be.y,We.y)}a.emplaceBack(d.x,d.y,ue.x1,ue.y1,ue.x2,ue.y2,m,_,S)}this.boxEndIndex=a.length}}class J9{constructor(a=[],d=(m,_)=>m<_?-1:m>_?1:0){if(this.data=a,this.length=this.data.length,this.compare=d,this.length>0)for(let m=(this.length>>1)-1;m>=0;m--)this._down(m)}push(a){this.data.push(a),this._up(this.length++)}pop(){if(this.length===0)return;const a=this.data[0],d=this.data.pop();return--this.length>0&&(this.data[0]=d,this._down(0)),a}peek(){return this.data[0]}_up(a){const{data:d,compare:m}=this,_=d[a];for(;a>0;){const S=a-1>>1,E=d[S];if(m(_,E)>=0)break;d[a]=E,a=S}d[a]=_}_down(a){const{data:d,compare:m}=this,_=this.length>>1,S=d[a];for(;a<_;){let E=1+(a<<1);const M=E+1;if(M<this.length&&m(d[M],d[E])<0&&(E=M),m(d[E],S)>=0)break;d[a]=d[E],a=E}d[a]=S}}function Q9(c,a=1,d=!1){let m=1/0,_=1/0,S=-1/0,E=-1/0;const M=c[0];for(let pe=0;pe<M.length;pe++){const _e=M[pe];(!pe||_e.x<m)&&(m=_e.x),(!pe||_e.y<_)&&(_=_e.y),(!pe||_e.x>S)&&(S=_e.x),(!pe||_e.y>E)&&(E=_e.y)}const F=Math.min(S-m,E-_);let U=F/2;const K=new J9([],ej);if(F===0)return new w(m,_);for(let pe=m;pe<S;pe+=F)for(let _e=_;_e<E;_e+=F)K.push(new Dm(pe+U,_e+U,U,c));let Y=function(pe){let _e=0,Pe=0,Be=0;const We=pe[0];for(let vt=0,at=We.length,ft=at-1;vt<at;ft=vt++){const At=We[vt],Xt=We[ft],pr=At.x*Xt.y-Xt.x*At.y;Pe+=(At.x+Xt.x)*pr,Be+=(At.y+Xt.y)*pr,_e+=3*pr}return new Dm(Pe/_e,Be/_e,0,pe)}(c),ue=K.length;for(;K.length;){const pe=K.pop();(pe.d>Y.d||!Y.d)&&(Y=pe,d&&console.log("found best %d after %d probes",Math.round(1e4*pe.d)/1e4,ue)),pe.max-Y.d<=a||(U=pe.h/2,K.push(new Dm(pe.p.x-U,pe.p.y-U,U,c)),K.push(new Dm(pe.p.x+U,pe.p.y-U,U,c)),K.push(new Dm(pe.p.x-U,pe.p.y+U,U,c)),K.push(new Dm(pe.p.x+U,pe.p.y+U,U,c)),ue+=4)}return d&&(console.log(`num probes: ${ue}`),console.log(`best distance: ${Y.d}`)),Y.p}function ej(c,a){return a.max-c.max}function Dm(c,a,d,m){this.p=new w(c,a),this.h=d,this.d=function(_,S){let E=!1,M=1/0;for(let F=0;F<S.length;F++){const U=S[F];for(let K=0,Y=U.length,ue=Y-1;K<Y;ue=K++){const pe=U[K],_e=U[ue];pe.y>_.y!=_e.y>_.y&&_.x<(_e.x-pe.x)*(_.y-pe.y)/(_e.y-pe.y)+pe.x&&(E=!E),M=Math.min(M,py(_,pe,_e))}}return(E?1:-1)*Math.sqrt(M)}(this.p,m),this.max=this.d+this.h*Math.SQRT2}var ja;u.aq=void 0,(ja=u.aq||(u.aq={}))[ja.center=1]="center",ja[ja.left=2]="left",ja[ja.right=3]="right",ja[ja.top=4]="top",ja[ja.bottom=5]="bottom",ja[ja["top-left"]=6]="top-left",ja[ja["top-right"]=7]="top-right",ja[ja["bottom-left"]=8]="bottom-left",ja[ja["bottom-right"]=9]="bottom-right";const tf=7,U5=Number.POSITIVE_INFINITY;function kk(c,a){return a[1]!==U5?function(d,m,_){let S=0,E=0;switch(m=Math.abs(m),_=Math.abs(_),d){case"top-right":case"top-left":case"top":E=_-tf;break;case"bottom-right":case"bottom-left":case"bottom":E=-_+tf}switch(d){case"top-right":case"bottom-right":case"right":S=-m;break;case"top-left":case"bottom-left":case"left":S=m}return[S,E]}(c,a[0],a[1]):function(d,m){let _=0,S=0;m<0&&(m=0);const E=m/Math.SQRT2;switch(d){case"top-right":case"top-left":S=E-tf;break;case"bottom-right":case"bottom-left":S=-E+tf;break;case"bottom":S=-m+tf;break;case"top":S=m-tf}switch(d){case"top-right":case"bottom-right":_=-E;break;case"top-left":case"bottom-left":_=E;break;case"left":_=m;break;case"right":_=-m}return[_,S]}(c,a[0])}function Ik(c,a,d){var m;const _=c.layout,S=(m=_.get("text-variable-anchor-offset"))===null||m===void 0?void 0:m.evaluate(a,{},d);if(S){const M=S.values,F=[];for(let U=0;U<M.length;U+=2){const K=F[U]=M[U],Y=M[U+1].map(ue=>ue*Qo);K.startsWith("top")?Y[1]-=tf:K.startsWith("bottom")&&(Y[1]+=tf),F[U+1]=Y}return new qi(F)}const E=_.get("text-variable-anchor");if(E){let M;M=c._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[_.get("text-radial-offset").evaluate(a,{},d)*Qo,U5]:_.get("text-offset").evaluate(a,{},d).map(U=>U*Qo);const F=[];for(const U of E)F.push(U,kk(U,M));return new qi(F)}return null}function V5(c){switch(c){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function tj(c,a,d,m,_,S,E,M,F,U,K){let Y=S.textMaxSize.evaluate(a,{});Y===void 0&&(Y=E);const ue=c.layers[0].layout,pe=ue.get("icon-offset").evaluate(a,{},K),_e=Mk(d.horizontal),Pe=E/24,Be=c.tilePixelRatio*Pe,We=c.tilePixelRatio*Y/24,vt=c.tilePixelRatio*M,at=c.tilePixelRatio*ue.get("symbol-spacing"),ft=ue.get("text-padding")*c.tilePixelRatio,At=function(Dt,Nr,Lr,pn=1){const Si=Dt.get("icon-padding").evaluate(Nr,{},Lr),bi=Si&&Si.values;return[bi[0]*pn,bi[1]*pn,bi[2]*pn,bi[3]*pn]}(ue,a,K,c.tilePixelRatio),Xt=ue.get("text-max-angle")/180*Math.PI,pr=ue.get("text-rotation-alignment")!=="viewport"&&ue.get("symbol-placement")!=="point",Xr=ue.get("icon-rotation-alignment")==="map"&&ue.get("symbol-placement")!=="point",dr=ue.get("symbol-placement"),lr=at/2,Dr=ue.get("icon-text-fit");let Cr;m&&Dr!=="none"&&(c.allowVerticalPlacement&&d.vertical&&(Cr=tk(m,d.vertical,Dr,ue.get("icon-text-fit-padding"),pe,Pe)),_e&&(m=tk(m,_e,Dr,ue.get("icon-text-fit-padding"),pe,Pe)));const br=(Dt,Nr)=>{Nr.x<0||Nr.x>=Ii||Nr.y<0||Nr.y>=Ii||function(Lr,pn,Si,bi,ya,Uu,Ua,va,Ms,Ds,Rs,mo,ba,cs,Va,Os,qa,lu,il,Xn,Li,Ui,kl,ao,Rm){const dh=Lr.addToLineVertexArray(pn,Si);let fh,Vu,uu,La,ad=0,My=0,Nk=0,Fk=0,Y5=-1,J5=-1;const sd={};let $k=Xd("");if(Lr.allowVerticalPlacement&&bi.vertical){const hs=va.layout.get("text-rotate").evaluate(Li,{},ao)+90;uu=new O2(Ms,pn,Ds,Rs,mo,bi.vertical,ba,cs,Va,hs),Ua&&(La=new O2(Ms,pn,Ds,Rs,mo,Ua,qa,lu,Va,hs))}if(ya){const hs=va.layout.get("icon-rotate").evaluate(Li,{}),cu=va.layout.get("icon-text-fit")!=="none",lp=Tk(ya,hs,kl,cu),Sc=Ua?Tk(Ua,hs,kl,cu):void 0;Vu=new O2(Ms,pn,Ds,Rs,mo,ya,qa,lu,!1,hs),ad=4*lp.length;const up=Lr.iconSizeData;let ph=null;up.kind==="source"?(ph=[hh*va.layout.get("icon-size").evaluate(Li,{})],ph[0]>Jd&&be(`${Lr.layerIds[0]}: Value for "icon-size" is >= ${Ty}. Reduce your "icon-size".`)):up.kind==="composite"&&(ph=[hh*Ui.compositeIconSizes[0].evaluate(Li,{},ao),hh*Ui.compositeIconSizes[1].evaluate(Li,{},ao)],(ph[0]>Jd||ph[1]>Jd)&&be(`${Lr.layerIds[0]}: Value for "icon-size" is >= ${Ty}. Reduce your "icon-size".`)),Lr.addSymbols(Lr.icon,lp,ph,Xn,il,Li,u.ah.none,pn,dh.lineStartIndex,dh.lineLength,-1,ao),Y5=Lr.icon.placedSymbolArray.length-1,Sc&&(My=4*Sc.length,Lr.addSymbols(Lr.icon,Sc,ph,Xn,il,Li,u.ah.vertical,pn,dh.lineStartIndex,dh.lineLength,-1,ao),J5=Lr.icon.placedSymbolArray.length-1)}const Bk=Object.keys(bi.horizontal);for(const hs of Bk){const cu=bi.horizontal[hs];if(!fh){$k=Xd(cu.text);const Sc=va.layout.get("text-rotate").evaluate(Li,{},ao);fh=new O2(Ms,pn,Ds,Rs,mo,cu,ba,cs,Va,Sc)}const lp=cu.positionedLines.length===1;if(Nk+=Lk(Lr,pn,cu,Uu,va,Va,Li,Os,dh,bi.vertical?u.ah.horizontal:u.ah.horizontalOnly,lp?Bk:[hs],sd,Y5,Ui,ao),lp)break}bi.vertical&&(Fk+=Lk(Lr,pn,bi.vertical,Uu,va,Va,Li,Os,dh,u.ah.vertical,["vertical"],sd,J5,Ui,ao));const ij=fh?fh.boxStartIndex:Lr.collisionBoxArray.length,oj=fh?fh.boxEndIndex:Lr.collisionBoxArray.length,aj=uu?uu.boxStartIndex:Lr.collisionBoxArray.length,sj=uu?uu.boxEndIndex:Lr.collisionBoxArray.length,lj=Vu?Vu.boxStartIndex:Lr.collisionBoxArray.length,uj=Vu?Vu.boxEndIndex:Lr.collisionBoxArray.length,cj=La?La.boxStartIndex:Lr.collisionBoxArray.length,hj=La?La.boxEndIndex:Lr.collisionBoxArray.length;let wc=-1;const F2=(hs,cu)=>hs&&hs.circleDiameter?Math.max(hs.circleDiameter,cu):cu;wc=F2(fh,wc),wc=F2(uu,wc),wc=F2(Vu,wc),wc=F2(La,wc);const zk=wc>-1?1:0;zk&&(wc*=Rm/Qo),Lr.glyphOffsetArray.length>=Lm.MAX_GLYPHS&&be("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Li.sortKey!==void 0&&Lr.addToSortKeyRanges(Lr.symbolInstances.length,Li.sortKey);const dj=Ik(va,Li,ao),[fj,pj]=function(hs,cu){const lp=hs.length,Sc=cu==null?void 0:cu.values;if((Sc==null?void 0:Sc.length)>0)for(let up=0;up<Sc.length;up+=2){const ph=Sc[up+1];hs.emplaceBack(u.aq[Sc[up]],ph[0],ph[1])}return[lp,hs.length]}(Lr.textAnchorOffsets,dj);Lr.symbolInstances.emplaceBack(pn.x,pn.y,sd.right>=0?sd.right:-1,sd.center>=0?sd.center:-1,sd.left>=0?sd.left:-1,sd.vertical||-1,Y5,J5,$k,ij,oj,aj,sj,lj,uj,cj,hj,Ds,Nk,Fk,ad,My,zk,0,ba,wc,fj,pj)}(c,Nr,Dt,d,m,_,Cr,c.layers[0],c.collisionBoxArray,a.index,a.sourceLayerIndex,c.index,Be,[ft,ft,ft,ft],pr,F,vt,At,Xr,pe,a,S,U,K,E)};if(dr==="line")for(const Dt of xk(a.geometry,0,0,Ii,Ii)){const Nr=Y9(Dt,at,Xt,d.vertical||_e,m,24,We,c.overscaling,Ii);for(const Lr of Nr)_e&&rj(c,_e.text,lr,Lr)||br(Dt,Lr)}else if(dr==="line-center"){for(const Dt of a.geometry)if(Dt.length>1){const Nr=Z9(Dt,Xt,d.vertical||_e,m,24,We);Nr&&br(Dt,Nr)}}else if(a.type==="Polygon")for(const Dt of xs(a.geometry,0)){const Nr=Q9(Dt,16);br(Dt[0],new ef(Nr.x,Nr.y,0))}else if(a.type==="LineString")for(const Dt of a.geometry)br(Dt,new ef(Dt[0].x,Dt[0].y,0));else if(a.type==="Point")for(const Dt of a.geometry)for(const Nr of Dt)br([Nr],new ef(Nr.x,Nr.y,0))}function Lk(c,a,d,m,_,S,E,M,F,U,K,Y,ue,pe,_e){const Pe=function(vt,at,ft,At,Xt,pr,Xr,dr){const lr=At.layout.get("text-rotate").evaluate(pr,{})*Math.PI/180,Dr=[];for(const Cr of at.positionedLines)for(const br of Cr.positionedGlyphs){if(!br.rect)continue;const Dt=br.rect||{};let Nr=WP+1,Lr=!0,pn=1,Si=0;const bi=(Xt||dr)&&br.vertical,ya=br.metrics.advance*br.scale/2;if(dr&&at.verticalizable&&(Si=Cr.lineOffset/2-(br.imageName?-(Qo-br.metrics.width*br.scale)/2:(br.scale-1)*Qo)),br.imageName){const Xn=Xr[br.imageName];Lr=Xn.sdf,pn=Xn.pixelRatio,Nr=nl/pn}const Uu=Xt?[br.x+ya,br.y]:[0,0];let Ua=Xt?[0,0]:[br.x+ya+ft[0],br.y+ft[1]-Si],va=[0,0];bi&&(va=Ua,Ua=[0,0]);const Ms=br.metrics.isDoubleResolution?2:1,Ds=(br.metrics.left-Nr)*br.scale-ya+Ua[0],Rs=(-br.metrics.top-Nr)*br.scale+Ua[1],mo=Ds+Dt.w/Ms*br.scale/pn,ba=Rs+Dt.h/Ms*br.scale/pn,cs=new w(Ds,Rs),Va=new w(mo,Rs),Os=new w(Ds,ba),qa=new w(mo,ba);if(bi){const Xn=new w(-ya,ya-Ay),Li=-Math.PI/2,Ui=Qo/2-ya,kl=new w(5-Ay-Ui,-(br.imageName?Ui:0)),ao=new w(...va);cs._rotateAround(Li,Xn)._add(kl)._add(ao),Va._rotateAround(Li,Xn)._add(kl)._add(ao),Os._rotateAround(Li,Xn)._add(kl)._add(ao),qa._rotateAround(Li,Xn)._add(kl)._add(ao)}if(lr){const Xn=Math.sin(lr),Li=Math.cos(lr),Ui=[Li,-Xn,Xn,Li];cs._matMult(Ui),Va._matMult(Ui),Os._matMult(Ui),qa._matMult(Ui)}const lu=new w(0,0),il=new w(0,0);Dr.push({tl:cs,tr:Va,bl:Os,br:qa,tex:Dt,writingMode:at.writingMode,glyphOffset:Uu,sectionIndex:br.sectionIndex,isSDF:Lr,pixelOffsetTL:lu,pixelOffsetBR:il,minFontScaleX:0,minFontScaleY:0})}return Dr}(0,d,M,_,S,E,m,c.allowVerticalPlacement),Be=c.textSizeData;let We=null;Be.kind==="source"?(We=[hh*_.layout.get("text-size").evaluate(E,{})],We[0]>Jd&&be(`${c.layerIds[0]}: Value for "text-size" is >= ${Ty}. Reduce your "text-size".`)):Be.kind==="composite"&&(We=[hh*pe.compositeTextSizes[0].evaluate(E,{},_e),hh*pe.compositeTextSizes[1].evaluate(E,{},_e)],(We[0]>Jd||We[1]>Jd)&&be(`${c.layerIds[0]}: Value for "text-size" is >= ${Ty}. Reduce your "text-size".`)),c.addSymbols(c.text,Pe,We,M,S,E,U,a,F.lineStartIndex,F.lineLength,ue,_e);for(const vt of K)Y[vt]=c.text.placedSymbolArray.length-1;return 4*Pe.length}function Mk(c){for(const a in c)return c[a];return null}function rj(c,a,d,m){const _=c.compareText;if(a in _){const S=_[a];for(let E=S.length-1;E>=0;E--)if(m.dist(S[E])<d)return!0}else _[a]=[];return _[a].push(m),!1}const Dk=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class q5{static from(a){if(!(a instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[d,m]=new Uint8Array(a,0,2);if(d!==219)throw new Error("Data does not appear to be in a KDBush format.");const _=m>>4;if(_!==1)throw new Error(`Got v${_} data when expected v1.`);const S=Dk[15&m];if(!S)throw new Error("Unrecognized array type.");const[E]=new Uint16Array(a,2,1),[M]=new Uint32Array(a,4,1);return new q5(M,E,S,a)}constructor(a,d=64,m=Float64Array,_){if(isNaN(a)||a<0)throw new Error(`Unpexpected numItems value: ${a}.`);this.numItems=+a,this.nodeSize=Math.min(Math.max(+d,2),65535),this.ArrayType=m,this.IndexArrayType=a<65536?Uint16Array:Uint32Array;const S=Dk.indexOf(this.ArrayType),E=2*a*this.ArrayType.BYTES_PER_ELEMENT,M=a*this.IndexArrayType.BYTES_PER_ELEMENT,F=(8-M%8)%8;if(S<0)throw new Error(`Unexpected typed array class: ${m}.`);_&&_ instanceof ArrayBuffer?(this.data=_,this.ids=new this.IndexArrayType(this.data,8,a),this.coords=new this.ArrayType(this.data,8+M+F,2*a),this._pos=2*a,this._finished=!0):(this.data=new ArrayBuffer(8+E+M+F),this.ids=new this.IndexArrayType(this.data,8,a),this.coords=new this.ArrayType(this.data,8+M+F,2*a),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+S]),new Uint16Array(this.data,2,1)[0]=d,new Uint32Array(this.data,4,1)[0]=a)}add(a,d){const m=this._pos>>1;return this.ids[m]=m,this.coords[this._pos++]=a,this.coords[this._pos++]=d,m}finish(){const a=this._pos>>1;if(a!==this.numItems)throw new Error(`Added ${a} items when expected ${this.numItems}.`);return H5(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(a,d,m,_){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:S,coords:E,nodeSize:M}=this,F=[0,S.length-1,0],U=[];for(;F.length;){const K=F.pop()||0,Y=F.pop()||0,ue=F.pop()||0;if(Y-ue<=M){for(let Be=ue;Be<=Y;Be++){const We=E[2*Be],vt=E[2*Be+1];We>=a&&We<=m&&vt>=d&&vt<=_&&U.push(S[Be])}continue}const pe=ue+Y>>1,_e=E[2*pe],Pe=E[2*pe+1];_e>=a&&_e<=m&&Pe>=d&&Pe<=_&&U.push(S[pe]),(K===0?a<=_e:d<=Pe)&&(F.push(ue),F.push(pe-1),F.push(1-K)),(K===0?m>=_e:_>=Pe)&&(F.push(pe+1),F.push(Y),F.push(1-K))}return U}within(a,d,m){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:_,coords:S,nodeSize:E}=this,M=[0,_.length-1,0],F=[],U=m*m;for(;M.length;){const K=M.pop()||0,Y=M.pop()||0,ue=M.pop()||0;if(Y-ue<=E){for(let Be=ue;Be<=Y;Be++)Ok(S[2*Be],S[2*Be+1],a,d)<=U&&F.push(_[Be]);continue}const pe=ue+Y>>1,_e=S[2*pe],Pe=S[2*pe+1];Ok(_e,Pe,a,d)<=U&&F.push(_[pe]),(K===0?a-m<=_e:d-m<=Pe)&&(M.push(ue),M.push(pe-1),M.push(1-K)),(K===0?a+m>=_e:d+m>=Pe)&&(M.push(pe+1),M.push(Y),M.push(1-K))}return F}}function H5(c,a,d,m,_,S){if(_-m<=d)return;const E=m+_>>1;Rk(c,a,E,m,_,S),H5(c,a,d,m,E-1,1-S),H5(c,a,d,E+1,_,1-S)}function Rk(c,a,d,m,_,S){for(;_>m;){if(_-m>600){const U=_-m+1,K=d-m+1,Y=Math.log(U),ue=.5*Math.exp(2*Y/3),pe=.5*Math.sqrt(Y*ue*(U-ue)/U)*(K-U/2<0?-1:1);Rk(c,a,d,Math.max(m,Math.floor(d-K*ue/U+pe)),Math.min(_,Math.floor(d+(U-K)*ue/U+pe)),S)}const E=a[2*d+S];let M=m,F=_;for(Iy(c,a,m,d),a[2*_+S]>E&&Iy(c,a,m,_);M<F;){for(Iy(c,a,M,F),M++,F--;a[2*M+S]<E;)M++;for(;a[2*F+S]>E;)F--}a[2*m+S]===E?Iy(c,a,m,F):(F++,Iy(c,a,F,_)),F<=d&&(m=F+1),d<=F&&(_=F-1)}}function Iy(c,a,d,m){G5(c,d,m),G5(a,2*d,2*m),G5(a,2*d+1,2*m+1)}function G5(c,a,d){const m=c[a];c[a]=c[d],c[d]=m}function Ok(c,a,d,m){const _=c-d,S=a-m;return _*_+S*S}var W5;u.bg=void 0,(W5=u.bg||(u.bg={})).create="create",W5.load="load",W5.fullLoad="fullLoad";let N2=null,Ly=[];const X5=1e3/60,K5="loadTime",Z5="fullLoadTime",nj={mark(c){performance.mark(c)},frame(c){const a=c;N2!=null&&Ly.push(a-N2),N2=a},clearMetrics(){N2=null,Ly=[],performance.clearMeasures(K5),performance.clearMeasures(Z5);for(const c in u.bg)performance.clearMarks(u.bg[c])},getPerformanceMetrics(){performance.measure(K5,u.bg.create,u.bg.load),performance.measure(Z5,u.bg.create,u.bg.fullLoad);const c=performance.getEntriesByName(K5)[0].duration,a=performance.getEntriesByName(Z5)[0].duration,d=Ly.length,m=1/(Ly.reduce((S,E)=>S+E,0)/d/1e3),_=Ly.filter(S=>S>X5).reduce((S,E)=>S+(E-X5)/X5,0);return{loadTime:c,fullLoadTime:a,fps:m,percentDroppedFrames:_/(d+_)*100,totalFrames:d}}};u.$=class extends H{},u.A=Am,u.B=sy,u.C=function(c){if(Le==null){const a=c.navigator?c.navigator.userAgent:null;Le=!!c.safari||!(!a||!(/\b(iPad|iPhone|iPod)\b/.test(a)||a.match("Safari")&&!a.match("Chrome")))}return Le},u.D=Er,u.E=ct,u.F=class{constructor(c,a){this.target=c,this.mapId=a,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new X9(()=>this.process()),this.subscription=function(d,m,_,S){return d.addEventListener(m,_,!1),{unsubscribe:()=>{d.removeEventListener(m,_,!1)}}}(this.target,"message",d=>this.receive(d)),this.globalScope=De(self)?c:window}registerMessageHandler(c,a){this.messageHandlers[c]=a}sendAsync(c,a){return new Promise((d,m)=>{const _=Math.round(1e18*Math.random()).toString(36).substring(0,10);this.resolveRejects[_]={resolve:d,reject:m},a&&a.signal.addEventListener("abort",()=>{delete this.resolveRejects[_];const M={id:_,type:"<cancel>",origin:location.origin,targetMapId:c.targetMapId,sourceMapId:this.mapId};this.target.postMessage(M)},{once:!0});const S=[],E=Object.assign(Object.assign({},c),{id:_,sourceMapId:this.mapId,origin:location.origin,data:rh(c.data,S)});this.target.postMessage(E,{transfer:S})})}receive(c){const a=c.data,d=a.id;if(!(a.origin!=="file://"&&location.origin!=="file://"&&a.origin!=="resource://android"&&location.origin!=="resource://android"&&a.origin!==location.origin||a.targetMapId&&this.mapId!==a.targetMapId)){if(a.type==="<cancel>"){delete this.tasks[d];const m=this.abortControllers[d];return delete this.abortControllers[d],void(m&&m.abort())}if(De(self)||a.mustQueue)return this.tasks[d]=a,this.taskQueue.push(d),void this.invoker.trigger();this.processTask(d,a)}}process(){if(this.taskQueue.length===0)return;const c=this.taskQueue.shift(),a=this.tasks[c];delete this.tasks[c],this.taskQueue.length>0&&this.invoker.trigger(),a&&this.processTask(c,a)}processTask(c,a){return l(this,void 0,void 0,function*(){if(a.type==="<response>"){const _=this.resolveRejects[c];return delete this.resolveRejects[c],_?void(a.error?_.reject(vc(a.error)):_.resolve(vc(a.data))):void 0}if(!this.messageHandlers[a.type])return void this.completeTask(c,new Error(`Could not find a registered handler for ${a.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));const d=vc(a.data),m=new AbortController;this.abortControllers[c]=m;try{const _=yield this.messageHandlers[a.type](a.sourceMapId,d,m);this.completeTask(c,null,_)}catch(_){this.completeTask(c,_)}})}completeTask(c,a,d){const m=[];delete this.abortControllers[c];const _={id:c,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:a?rh(a):null,data:rh(d,m)};this.target.postMessage(_,{transfer:m})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},u.G=Me,u.H=function(){var c=new Am(16);return Am!=Float32Array&&(c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[11]=0,c[12]=0,c[13]=0,c[14]=0),c[0]=1,c[5]=1,c[10]=1,c[15]=1,c},u.I=L5,u.J=function(c,a,d){var m,_,S,E,M,F,U,K,Y,ue,pe,_e,Pe=d[0],Be=d[1],We=d[2];return a===c?(c[12]=a[0]*Pe+a[4]*Be+a[8]*We+a[12],c[13]=a[1]*Pe+a[5]*Be+a[9]*We+a[13],c[14]=a[2]*Pe+a[6]*Be+a[10]*We+a[14],c[15]=a[3]*Pe+a[7]*Be+a[11]*We+a[15]):(_=a[1],S=a[2],E=a[3],M=a[4],F=a[5],U=a[6],K=a[7],Y=a[8],ue=a[9],pe=a[10],_e=a[11],c[0]=m=a[0],c[1]=_,c[2]=S,c[3]=E,c[4]=M,c[5]=F,c[6]=U,c[7]=K,c[8]=Y,c[9]=ue,c[10]=pe,c[11]=_e,c[12]=m*Pe+M*Be+Y*We+a[12],c[13]=_*Pe+F*Be+ue*We+a[13],c[14]=S*Pe+U*Be+pe*We+a[14],c[15]=E*Pe+K*Be+_e*We+a[15]),c},u.K=function(c,a,d){var m=d[0],_=d[1],S=d[2];return c[0]=a[0]*m,c[1]=a[1]*m,c[2]=a[2]*m,c[3]=a[3]*m,c[4]=a[4]*_,c[5]=a[5]*_,c[6]=a[6]*_,c[7]=a[7]*_,c[8]=a[8]*S,c[9]=a[9]*S,c[10]=a[10]*S,c[11]=a[11]*S,c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15],c},u.L=mP,u.M=function(c,a){const d={};for(let m=0;m<a.length;m++){const _=a[m];_ in c&&(d[_]=c[_])}return d},u.N=Qd,u.O=ck,u.P=w,u.Q=hk,u.R=au,u.S=su,u.T=Wd,u.U=N,u.V=j,u.W=Oe,u.X=Ii,u.Y=T,u.Z=Py,u._=l,u.a=we,u.a$=function(c,a){var d=c[0],m=c[1],_=c[2],S=c[3],E=c[4],M=c[5],F=c[6],U=c[7],K=c[8],Y=c[9],ue=c[10],pe=c[11],_e=c[12],Pe=c[13],Be=c[14],We=c[15],vt=a[0],at=a[1],ft=a[2],At=a[3],Xt=a[4],pr=a[5],Xr=a[6],dr=a[7],lr=a[8],Dr=a[9],Cr=a[10],br=a[11],Dt=a[12],Nr=a[13],Lr=a[14],pn=a[15];return Math.abs(d-vt)<=Ls*Math.max(1,Math.abs(d),Math.abs(vt))&&Math.abs(m-at)<=Ls*Math.max(1,Math.abs(m),Math.abs(at))&&Math.abs(_-ft)<=Ls*Math.max(1,Math.abs(_),Math.abs(ft))&&Math.abs(S-At)<=Ls*Math.max(1,Math.abs(S),Math.abs(At))&&Math.abs(E-Xt)<=Ls*Math.max(1,Math.abs(E),Math.abs(Xt))&&Math.abs(M-pr)<=Ls*Math.max(1,Math.abs(M),Math.abs(pr))&&Math.abs(F-Xr)<=Ls*Math.max(1,Math.abs(F),Math.abs(Xr))&&Math.abs(U-dr)<=Ls*Math.max(1,Math.abs(U),Math.abs(dr))&&Math.abs(K-lr)<=Ls*Math.max(1,Math.abs(K),Math.abs(lr))&&Math.abs(Y-Dr)<=Ls*Math.max(1,Math.abs(Y),Math.abs(Dr))&&Math.abs(ue-Cr)<=Ls*Math.max(1,Math.abs(ue),Math.abs(Cr))&&Math.abs(pe-br)<=Ls*Math.max(1,Math.abs(pe),Math.abs(br))&&Math.abs(_e-Dt)<=Ls*Math.max(1,Math.abs(_e),Math.abs(Dt))&&Math.abs(Pe-Nr)<=Ls*Math.max(1,Math.abs(Pe),Math.abs(Nr))&&Math.abs(Be-Lr)<=Ls*Math.max(1,Math.abs(Be),Math.abs(Lr))&&Math.abs(We-pn)<=Ls*Math.max(1,Math.abs(We),Math.abs(pn))},u.a0=Mn,u.a1=j5,u.a2=Ze,u.a3=c=>{const a=window.document.createElement("video");return a.muted=!0,new Promise(d=>{a.onloadstart=()=>{d(a)};for(const m of c){const _=window.document.createElement("source");lt(m)||(a.crossOrigin="Anonymous"),_.src=m,a.appendChild(_)}})},u.a4=function(){return ne++},u.a5=Jt,u.a6=Lm,u.a7=Ba,u.a8=lh,u.a9=yk,u.aA=function(c){if(c.type==="custom")return new W9(c);switch(c.type){case"background":return new q9(c);case"circle":return new Lz(c);case"fill":return new Xz(c);case"fill-extrusion":return new u9(c);case"heatmap":return new Dz(c);case"hillshade":return new Oz(c);case"line":return new y9(c);case"raster":return new G9(c);case"symbol":return new L2(c)}},u.aB=X,u.aC=function(c,a){if(!c)return[{command:"setStyle",args:[a]}];let d=[];try{if(!bt(c.version,a.version))return[{command:"setStyle",args:[a]}];bt(c.center,a.center)||d.push({command:"setCenter",args:[a.center]}),bt(c.zoom,a.zoom)||d.push({command:"setZoom",args:[a.zoom]}),bt(c.bearing,a.bearing)||d.push({command:"setBearing",args:[a.bearing]}),bt(c.pitch,a.pitch)||d.push({command:"setPitch",args:[a.pitch]}),bt(c.sprite,a.sprite)||d.push({command:"setSprite",args:[a.sprite]}),bt(c.glyphs,a.glyphs)||d.push({command:"setGlyphs",args:[a.glyphs]}),bt(c.transition,a.transition)||d.push({command:"setTransition",args:[a.transition]}),bt(c.light,a.light)||d.push({command:"setLight",args:[a.light]}),bt(c.terrain,a.terrain)||d.push({command:"setTerrain",args:[a.terrain]}),bt(c.sky,a.sky)||d.push({command:"setSky",args:[a.sky]}),bt(c.projection,a.projection)||d.push({command:"setProjection",args:[a.projection]});const m={},_=[];(function(E,M,F,U){let K;for(K in M=M||{},E=E||{})Object.prototype.hasOwnProperty.call(E,K)&&(Object.prototype.hasOwnProperty.call(M,K)||Gt(K,F,U));for(K in M)Object.prototype.hasOwnProperty.call(M,K)&&(Object.prototype.hasOwnProperty.call(E,K)?bt(E[K],M[K])||(E[K].type==="geojson"&&M[K].type==="geojson"&&ir(E,M,K)?Pt(F,{command:"setGeoJSONSourceData",args:[K,M[K].data]}):It(K,M,F,U)):Ot(K,M,F))})(c.sources,a.sources,_,m);const S=[];c.layers&&c.layers.forEach(E=>{"source"in E&&m[E.source]?d.push({command:"removeLayer",args:[E.id]}):S.push(E)}),d=d.concat(_),function(E,M,F){M=M||[];const U=(E=E||[]).map(Pr),K=M.map(Pr),Y=E.reduce(Vr,{}),ue=M.reduce(Vr,{}),pe=U.slice(),_e=Object.create(null);let Pe,Be,We,vt,at;for(let ft=0,At=0;ft<U.length;ft++)Pe=U[ft],Object.prototype.hasOwnProperty.call(ue,Pe)?At++:(Pt(F,{command:"removeLayer",args:[Pe]}),pe.splice(pe.indexOf(Pe,At),1));for(let ft=0,At=0;ft<K.length;ft++)Pe=K[K.length-1-ft],pe[pe.length-1-ft]!==Pe&&(Object.prototype.hasOwnProperty.call(Y,Pe)?(Pt(F,{command:"removeLayer",args:[Pe]}),pe.splice(pe.lastIndexOf(Pe,pe.length-At),1)):At++,vt=pe[pe.length-ft],Pt(F,{command:"addLayer",args:[ue[Pe],vt]}),pe.splice(pe.length-ft,0,Pe),_e[Pe]=!0);for(let ft=0;ft<K.length;ft++)if(Pe=K[ft],Be=Y[Pe],We=ue[Pe],!_e[Pe]&&!bt(Be,We))if(bt(Be.source,We.source)&&bt(Be["source-layer"],We["source-layer"])&&bt(Be.type,We.type)){for(at in vr(Be.layout,We.layout,F,Pe,null,"setLayoutProperty"),vr(Be.paint,We.paint,F,Pe,null,"setPaintProperty"),bt(Be.filter,We.filter)||Pt(F,{command:"setFilter",args:[Pe,We.filter]}),bt(Be.minzoom,We.minzoom)&&bt(Be.maxzoom,We.maxzoom)||Pt(F,{command:"setLayerZoomRange",args:[Pe,We.minzoom,We.maxzoom]}),Be)Object.prototype.hasOwnProperty.call(Be,at)&&at!=="layout"&&at!=="paint"&&at!=="filter"&&at!=="metadata"&&at!=="minzoom"&&at!=="maxzoom"&&(at.indexOf("paint.")===0?vr(Be[at],We[at],F,Pe,at.slice(6),"setPaintProperty"):bt(Be[at],We[at])||Pt(F,{command:"setLayerProperty",args:[Pe,at,We[at]]}));for(at in We)Object.prototype.hasOwnProperty.call(We,at)&&!Object.prototype.hasOwnProperty.call(Be,at)&&at!=="layout"&&at!=="paint"&&at!=="filter"&&at!=="metadata"&&at!=="minzoom"&&at!=="maxzoom"&&(at.indexOf("paint.")===0?vr(Be[at],We[at],F,Pe,at.slice(6),"setPaintProperty"):bt(Be[at],We[at])||Pt(F,{command:"setLayerProperty",args:[Pe,at,We[at]]}))}else Pt(F,{command:"removeLayer",args:[Pe]}),vt=pe[pe.lastIndexOf(Pe)+1],Pt(F,{command:"addLayer",args:[We,vt]})}(S,a.layers,d)}catch(m){console.warn("Unable to compute style diff:",m),d=[{command:"setStyle",args:[a]}]}return d},u.aD=function(c){const a=[],d=c.id;return d===void 0&&a.push({message:`layers.${d}: missing required property "id"`}),c.render===void 0&&a.push({message:`layers.${d}: missing required method "render"`}),c.renderingMode&&c.renderingMode!=="2d"&&c.renderingMode!=="3d"&&a.push({message:`layers.${d}: property "renderingMode" must be either "2d" or "3d"`}),a},u.aE=function c(a,d){if(Array.isArray(a)){if(!Array.isArray(d)||a.length!==d.length)return!1;for(let m=0;m<a.length;m++)if(!c(a[m],d[m]))return!1;return!0}if(typeof a=="object"&&a!==null&&d!==null){if(typeof d!="object"||Object.keys(a).length!==Object.keys(d).length)return!1;for(const m in a)if(!c(a[m],d[m]))return!1;return!0}return a===d},u.aF=Ae,u.aG=Z,u.aH=class extends ah{constructor(c,a){super(c,a),this.current=0}set(c){this.current!==c&&(this.current=c,this.gl.uniform1i(this.location,c))}},u.aI=rp,u.aJ=class extends ah{constructor(c,a){super(c,a),this.current=ip}set(c){if(c[12]!==this.current[12]||c[0]!==this.current[0])return this.current=c,void this.gl.uniformMatrix4fv(this.location,!1,c);for(let a=1;a<16;a++)if(c[a]!==this.current[a]){this.current=c,this.gl.uniformMatrix4fv(this.location,!1,c);break}}},u.aK=np,u.aL=bm,u.aM=Dn,u.aN=class extends ah{constructor(c,a){super(c,a),this.current=[0,0,0]}set(c){c[0]===this.current[0]&&c[1]===this.current[1]&&c[2]===this.current[2]||(this.current=c,this.gl.uniform3f(this.location,c[0],c[1],c[2]))}},u.aO=class extends ah{constructor(c,a){super(c,a),this.current=[0,0]}set(c){c[0]===this.current[0]&&c[1]===this.current[1]||(this.current=c,this.gl.uniform2f(this.location,c[0],c[1]))}},u.aP=function(c,a,d,m,_,S,E){var M=1/(a-d),F=1/(m-_),U=1/(S-E);return c[0]=-2*M,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=-2*F,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=2*U,c[11]=0,c[12]=(a+d)*M,c[13]=(_+m)*F,c[14]=(E+S)*U,c[15]=1,c},u.aQ=Iz,u.aR=class extends Fe{},u.aS=x9,u.aT=class extends Ge{},u.aU=b5,u.aV=function(c){return c<=1?1:Math.pow(2,Math.ceil(Math.log(c)/Math.LN2))},u.aW=_P,u.aX=ji,u.aY=ma,u.aZ=class extends Ht{},u.a_=function(c,a){return c[0]===a[0]&&c[1]===a[1]&&c[2]===a[2]&&c[3]===a[3]&&c[4]===a[4]&&c[5]===a[5]&&c[6]===a[6]&&c[7]===a[7]&&c[8]===a[8]&&c[9]===a[9]&&c[10]===a[10]&&c[11]===a[11]&&c[12]===a[12]&&c[13]===a[13]&&c[14]===a[14]&&c[15]===a[15]},u.aa=function(c){const a={};if(c.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(d,m,_,S)=>{const E=_||S;return a[m]=!E||E.toLowerCase(),""}),a["max-age"]){const d=parseInt(a["max-age"],10);isNaN(d)?delete a["max-age"]:a["max-age"]=d}return a},u.ab=function(c,a){const d=[];for(const m in c)m in a||d.push(m);return d},u.ac=re,u.ad=function(c,a,d){var m=Math.sin(d),_=Math.cos(d),S=a[0],E=a[1],M=a[2],F=a[3],U=a[4],K=a[5],Y=a[6],ue=a[7];return a!==c&&(c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]),c[0]=S*_+U*m,c[1]=E*_+K*m,c[2]=M*_+Y*m,c[3]=F*_+ue*m,c[4]=U*_-S*m,c[5]=K*_-E*m,c[6]=Y*_-M*m,c[7]=ue*_-F*m,c},u.ae=function(c){var a=new Am(16);return a[0]=c[0],a[1]=c[1],a[2]=c[2],a[3]=c[3],a[4]=c[4],a[5]=c[5],a[6]=c[6],a[7]=c[7],a[8]=c[8],a[9]=c[9],a[10]=c[10],a[11]=c[11],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15],a},u.af=w2,u.ag=function(c,a){let d=0,m=0;if(c.kind==="constant")m=c.layoutSize;else if(c.kind!=="source"){const{interpolationType:_,minZoom:S,maxZoom:E}=c,M=_?re(fr.interpolationFactor(_,a,S,E),0,1):0;c.kind==="camera"?m=Fr.number(c.minSize,c.maxSize,M):d=M}return{uSizeT:d,uSize:m}},u.ai=function(c,{uSize:a,uSizeT:d},{lowerSize:m,upperSize:_}){return c.kind==="source"?m/hh:c.kind==="composite"?Fr.number(m/hh,_/hh,d):a},u.aj=O5,u.ak=function(c,a,d,m){const _=a.y-c.y,S=a.x-c.x,E=m.y-d.y,M=m.x-d.x,F=E*S-M*_;if(F===0)return null;const U=(M*(c.y-d.y)-E*(c.x-d.x))/F;return new w(c.x+U*S,c.y+U*_)},u.al=xk,u.am=wm,u.an=g5,u.ao=function(c){let a=1/0,d=1/0,m=-1/0,_=-1/0;for(const S of c)a=Math.min(a,S.x),d=Math.min(d,S.y),m=Math.max(m,S.x),_=Math.max(_,S.y);return[a,d,m,_]},u.ap=Qo,u.ar=R5,u.as=function(c,a){var d=a[0],m=a[1],_=a[2],S=a[3],E=a[4],M=a[5],F=a[6],U=a[7],K=a[8],Y=a[9],ue=a[10],pe=a[11],_e=a[12],Pe=a[13],Be=a[14],We=a[15],vt=d*M-m*E,at=d*F-_*E,ft=d*U-S*E,At=m*F-_*M,Xt=m*U-S*M,pr=_*U-S*F,Xr=K*Pe-Y*_e,dr=K*Be-ue*_e,lr=K*We-pe*_e,Dr=Y*Be-ue*Pe,Cr=Y*We-pe*Pe,br=ue*We-pe*Be,Dt=vt*br-at*Cr+ft*Dr+At*lr-Xt*dr+pr*Xr;return Dt?(c[0]=(M*br-F*Cr+U*Dr)*(Dt=1/Dt),c[1]=(_*Cr-m*br-S*Dr)*Dt,c[2]=(Pe*pr-Be*Xt+We*At)*Dt,c[3]=(ue*Xt-Y*pr-pe*At)*Dt,c[4]=(F*lr-E*br-U*dr)*Dt,c[5]=(d*br-_*lr+S*dr)*Dt,c[6]=(Be*ft-_e*pr-We*at)*Dt,c[7]=(K*pr-ue*ft+pe*at)*Dt,c[8]=(E*Cr-M*lr+U*Xr)*Dt,c[9]=(m*lr-d*Cr-S*Xr)*Dt,c[10]=(_e*Xt-Pe*ft+We*vt)*Dt,c[11]=(Y*ft-K*Xt-pe*vt)*Dt,c[12]=(M*dr-E*Dr-F*Xr)*Dt,c[13]=(d*Dr-m*dr+_*Xr)*Dt,c[14]=(Pe*at-_e*At-Be*vt)*Dt,c[15]=(K*At-Y*at+ue*vt)*Dt,c):null},u.at=V5,u.au=D5,u.av=q5,u.aw=function(){const c={},a=de.$version;for(const d in de.$root){const m=de.$root[d];if(m.required){let _=null;_=d==="version"?a:m.type==="array"?[]:{},_!=null&&(c[d]=_)}}return c},u.ax=El,u.ay=Ue,u.az=function(c){c=c.slice();const a=Object.create(null);for(let d=0;d<c.length;d++)a[c[d].id]=c[d];for(let d=0;d<c.length;d++)"ref"in c[d]&&(c[d]=Kt(c[d],a[c[d].ref]));return c},u.b=je,u.b0=function(c,a){return c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15],c},u.b1=function(c,a,d){return c[0]=a[0]*d[0],c[1]=a[1]*d[1],c[2]=a[2]*d[2],c[3]=a[3]*d[3],c},u.b2=function(c,a){return c[0]*a[0]+c[1]*a[1]+c[2]*a[2]+c[3]*a[3]},u.b3=ie,u.b4=pk,u.b5=dk,u.b6=function(c,a,d,m,_){var S,E=1/Math.tan(a/2);return c[0]=E/d,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=E,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[11]=-1,c[12]=0,c[13]=0,c[15]=0,_!=null&&_!==1/0?(c[10]=(_+m)*(S=1/(m-_)),c[14]=2*_*m*S):(c[10]=-1,c[14]=-2*m),c},u.b7=function(c,a,d){var m=Math.sin(d),_=Math.cos(d),S=a[4],E=a[5],M=a[6],F=a[7],U=a[8],K=a[9],Y=a[10],ue=a[11];return a!==c&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]),c[4]=S*_+U*m,c[5]=E*_+K*m,c[6]=M*_+Y*m,c[7]=F*_+ue*m,c[8]=U*_-S*m,c[9]=K*_-E*m,c[10]=Y*_-M*m,c[11]=ue*_-F*m,c},u.b8=V,u.b9=W,u.bA=zP,u.bB=function(c){return c.message===le},u.bC=gi,u.bD=as,u.ba=function(c){return c*Math.PI/180},u.bb=function(c,a){const{x:d,y:m}=Py.fromLngLat(a);return!(c<0||c>25||m<0||m>=1||d<0||d>=1)},u.bc=function(c,a){return c[0]=a[0],c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=a[1],c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=a[2],c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c},u.bd=class extends B{},u.be=B5,u.bf=nj,u.bh=tt,u.bi=function(c,a){we.REGISTERED_PROTOCOLS[c]=a},u.bj=function(c){delete we.REGISTERED_PROTOCOLS[c]},u.bk=function(c,a){const d={};for(let _=0;_<c.length;_++){const S=a&&a[c[_].id]||ns(c[_]);a&&(a[c[_].id]=S);let E=d[S];E||(E=d[S]=[]),E.push(c[_])}const m=[];for(const _ in d)m.push(d[_]);return m},u.bl=yr,u.bm=gk,u.bn=vk,u.bo=KP,u.bp=function(c){c.bucket.createArrays(),c.bucket.tilePixelRatio=Ii/(512*c.bucket.overscaling),c.bucket.compareText={},c.bucket.iconsNeedLinear=!1;const a=c.bucket.layers[0],d=a.layout,m=a._unevaluatedLayout._values,_={layoutIconSize:m["icon-size"].possiblyEvaluate(new yi(c.bucket.zoom+1),c.canonical),layoutTextSize:m["text-size"].possiblyEvaluate(new yi(c.bucket.zoom+1),c.canonical),textMaxSize:m["text-size"].possiblyEvaluate(new yi(18))};if(c.bucket.textSizeData.kind==="composite"){const{minZoom:U,maxZoom:K}=c.bucket.textSizeData;_.compositeTextSizes=[m["text-size"].possiblyEvaluate(new yi(U),c.canonical),m["text-size"].possiblyEvaluate(new yi(K),c.canonical)]}if(c.bucket.iconSizeData.kind==="composite"){const{minZoom:U,maxZoom:K}=c.bucket.iconSizeData;_.compositeIconSizes=[m["icon-size"].possiblyEvaluate(new yi(U),c.canonical),m["icon-size"].possiblyEvaluate(new yi(K),c.canonical)]}const S=d.get("text-line-height")*Qo,E=d.get("text-rotation-alignment")!=="viewport"&&d.get("symbol-placement")!=="point",M=d.get("text-keep-upright"),F=d.get("text-size");for(const U of c.bucket.features){const K=d.get("text-font").evaluate(U,{},c.canonical).join(","),Y=F.evaluate(U,{},c.canonical),ue=_.layoutTextSize.evaluate(U,{},c.canonical),pe=_.layoutIconSize.evaluate(U,{},c.canonical),_e={horizontal:{},vertical:void 0},Pe=U.text;let Be,We=[0,0];if(Pe){const ft=Pe.toString(),At=d.get("text-letter-spacing").evaluate(U,{},c.canonical)*Qo,Xt=ly(ft)?At:0,pr=d.get("text-anchor").evaluate(U,{},c.canonical),Xr=Ik(a,U,c.canonical);if(!Xr){const Cr=d.get("text-radial-offset").evaluate(U,{},c.canonical);We=Cr?kk(pr,[Cr*Qo,U5]):d.get("text-offset").evaluate(U,{},c.canonical).map(br=>br*Qo)}let dr=E?"center":d.get("text-justify").evaluate(U,{},c.canonical);const lr=d.get("symbol-placement")==="point"?d.get("text-max-width").evaluate(U,{},c.canonical)*Qo:1/0,Dr=()=>{c.bucket.allowVerticalPlacement&&Jf(ft)&&(_e.vertical=P2(Pe,c.glyphMap,c.glyphPositions,c.imagePositions,K,lr,S,pr,"left",Xt,We,u.ah.vertical,!0,ue,Y))};if(!E&&Xr){const Cr=new Set;if(dr==="auto")for(let Dt=0;Dt<Xr.values.length;Dt+=2)Cr.add(V5(Xr.values[Dt]));else Cr.add(dr);let br=!1;for(const Dt of Cr)if(!_e.horizontal[Dt])if(br)_e.horizontal[Dt]=_e.horizontal[0];else{const Nr=P2(Pe,c.glyphMap,c.glyphPositions,c.imagePositions,K,lr,S,"center",Dt,Xt,We,u.ah.horizontal,!1,ue,Y);Nr&&(_e.horizontal[Dt]=Nr,br=Nr.positionedLines.length===1)}Dr()}else{dr==="auto"&&(dr=V5(pr));const Cr=P2(Pe,c.glyphMap,c.glyphPositions,c.imagePositions,K,lr,S,pr,dr,Xt,We,u.ah.horizontal,!1,ue,Y);Cr&&(_e.horizontal[dr]=Cr),Dr(),Jf(ft)&&E&&M&&(_e.vertical=P2(Pe,c.glyphMap,c.glyphPositions,c.imagePositions,K,lr,S,pr,dr,Xt,We,u.ah.vertical,!1,ue,Y))}}let vt=!1;if(U.icon&&U.icon.name){const ft=c.imageMap[U.icon.name];ft&&(Be=B9(c.imagePositions[U.icon.name],d.get("icon-offset").evaluate(U,{},c.canonical),d.get("icon-anchor").evaluate(U,{},c.canonical)),vt=!!ft.sdf,c.bucket.sdfIcons===void 0?c.bucket.sdfIcons=vt:c.bucket.sdfIcons!==vt&&be("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(ft.pixelRatio!==c.bucket.pixelRatio||d.get("icon-rotate").constantOr(1)!==0)&&(c.bucket.iconsNeedLinear=!0))}const at=Mk(_e.horizontal)||_e.vertical;c.bucket.iconsInText=!!at&&at.iconsInText,(at||Be)&&tj(c.bucket,U,_e,Be,c.imageMap,_,ue,pe,We,vt,c.canonical)}c.showCollisionBoxes&&c.bucket.generateCollisionDebugBuffers()},u.bq=T5,u.br=C5,u.bs=E5,u.bt=Zd,u.bu=k5,u.bv=class{constructor(c){this._marks={start:[c.url,"start"].join("#"),end:[c.url,"end"].join("#"),measure:c.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let c=performance.getEntriesByName(this._marks.measure);return c.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),c=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),c}},u.bw=function(c,a,d,m,_){return l(this,void 0,void 0,function*(){if(j())try{return yield Oe(c,a,d,m,_)}catch{}return function(S,E,M,F,U){const K=S.width,Y=S.height;Ke&&ht||(Ke=new OffscreenCanvas(K,Y),ht=Ke.getContext("2d",{willReadFrequently:!0})),Ke.width=K,Ke.height=Y,ht.drawImage(S,0,0,K,Y);const ue=ht.getImageData(E,M,F,U);return ht.clearRect(0,0,K,Y),ue.data}(c,a,d,m,_)})},u.bx=mk,u.by=f,u.bz=v,u.c=me,u.d=c=>l(void 0,void 0,void 0,function*(){if(c.byteLength===0)return createImageBitmap(new ImageData(1,1));const a=new Blob([new Uint8Array(c)],{type:"image/png"});try{return createImageBitmap(a)}catch(d){throw new Error(`Could not load image because of ${d.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}}),u.e=J,u.f=c=>new Promise((a,d)=>{const m=new Image;m.onload=()=>{a(m),URL.revokeObjectURL(m.src),m.onload=null,window.requestAnimationFrame(()=>{m.src=xe})},m.onerror=()=>d(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const _=new Blob([new Uint8Array(c)],{type:"image/png"});m.src=c.byteLength?URL.createObjectURL(_):xe}),u.g=Ie,u.h=(c,a)=>qe(J(c,{type:"json"}),a),u.i=De,u.j=kt,u.k=St,u.l=(c,a)=>qe(J(c,{type:"arrayBuffer"}),a),u.m=qe,u.n=function(c){return new k5(c).readFields(M9,[])},u.o=vy,u.p=XP,u.q=g,u.r=Kh,u.s=lt,u.t=Yf,u.u=ru,u.v=de,u.w=be,u.x=function([c,a,d]){return a+=90,a*=Math.PI/180,d*=Math.PI/180,{x:c*Math.cos(a)*Math.sin(d),y:c*Math.sin(a)*Math.sin(d),z:c*Math.cos(d)}},u.y=Fr,u.z=yi}),o("worker",["./shared"],function(u){class l{constructor(ae){this.keyCache={},ae&&this.replace(ae)}replace(ae){this._layerConfigs={},this._layers={},this.update(ae,[])}update(ae,ce){for(const Re of ae){this._layerConfigs[Re.id]=Re;const Je=this._layers[Re.id]=u.aA(Re);Je._featureFilter=u.a7(Je.filter),this.keyCache[Re.id]&&delete this.keyCache[Re.id]}for(const Re of ce)delete this.keyCache[Re],delete this._layerConfigs[Re],delete this._layers[Re];this.familiesBySource={};const Ce=u.bk(Object.values(this._layerConfigs),this.keyCache);for(const Re of Ce){const Je=Re.map(gt=>this._layers[gt.id]),nt=Je[0];if(nt.visibility==="none")continue;const Ye=nt.source||"";let He=this.familiesBySource[Ye];He||(He=this.familiesBySource[Ye]={});const _t=nt.sourceLayer||"_geojsonTileLayer";let Ct=He[_t];Ct||(Ct=He[_t]=[]),Ct.push(Je)}}}class f{constructor(ae){const ce={},Ce=[];for(const Ye in ae){const He=ae[Ye],_t=ce[Ye]={};for(const Ct in He){const gt=He[+Ct];if(!gt||gt.bitmap.width===0||gt.bitmap.height===0)continue;const jt={x:0,y:0,w:gt.bitmap.width+2,h:gt.bitmap.height+2};Ce.push(jt),_t[Ct]={rect:jt,metrics:gt.metrics}}}const{w:Re,h:Je}=u.p(Ce),nt=new u.o({width:Re||1,height:Je||1});for(const Ye in ae){const He=ae[Ye];for(const _t in He){const Ct=He[+_t];if(!Ct||Ct.bitmap.width===0||Ct.bitmap.height===0)continue;const gt=ce[Ye][_t].rect;u.o.copy(Ct.bitmap,nt,{x:0,y:0},{x:gt.x+1,y:gt.y+1},Ct.bitmap)}}this.image=nt,this.positions=ce}}u.bl("GlyphAtlas",f);class v{constructor(ae){this.tileID=new u.S(ae.tileID.overscaledZ,ae.tileID.wrap,ae.tileID.canonical.z,ae.tileID.canonical.x,ae.tileID.canonical.y),this.uid=ae.uid,this.zoom=ae.zoom,this.pixelRatio=ae.pixelRatio,this.tileSize=ae.tileSize,this.source=ae.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=ae.showCollisionBoxes,this.collectResourceTiming=!!ae.collectResourceTiming,this.returnDependencies=!!ae.returnDependencies,this.promoteId=ae.promoteId,this.inFlightDependencies=[]}parse(ae,ce,Ce,Re){return u._(this,void 0,void 0,function*(){this.status="parsing",this.data=ae,this.collisionBoxArray=new u.a5;const Je=new u.bm(Object.keys(ae.layers).sort()),nt=new u.bn(this.tileID,this.promoteId);nt.bucketLayerIDs=[];const Ye={},He={featureIndex:nt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Ce},_t=ce.familiesBySource[this.source];for(const Hr in _t){const _n=ae.layers[Hr];if(!_n)continue;_n.version===1&&u.w(`Vector tile source "${this.source}" layer "${Hr}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Cn=Je.encode(Hr),xi=[];for(let Ni=0;Ni<_n.length;Ni++){const Fi=_n.feature(Ni),Xs=nt.getId(Fi,Hr);xi.push({feature:Fi,id:Xs,index:Ni,sourceLayerIndex:Cn})}for(const Ni of _t[Hr]){const Fi=Ni[0];Fi.source!==this.source&&u.w(`layer.source = ${Fi.source} does not equal this.source = ${this.source}`),Fi.minzoom&&this.zoom<Math.floor(Fi.minzoom)||Fi.maxzoom&&this.zoom>=Fi.maxzoom||Fi.visibility!=="none"&&(x(Ni,this.zoom,Ce),(Ye[Fi.id]=Fi.createBucket({index:nt.bucketLayerIDs.length,layers:Ni,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Cn,sourceID:this.source})).populate(xi,He,this.tileID.canonical),nt.bucketLayerIDs.push(Ni.map(Xs=>Xs.id)))}}const Ct=u.aF(He.glyphDependencies,Hr=>Object.keys(Hr).map(Number));this.inFlightDependencies.forEach(Hr=>Hr==null?void 0:Hr.abort()),this.inFlightDependencies=[];let gt=Promise.resolve({});if(Object.keys(Ct).length){const Hr=new AbortController;this.inFlightDependencies.push(Hr),gt=Re.sendAsync({type:"GG",data:{stacks:Ct,source:this.source,tileID:this.tileID,type:"glyphs"}},Hr)}const jt=Object.keys(He.iconDependencies);let ur=Promise.resolve({});if(jt.length){const Hr=new AbortController;this.inFlightDependencies.push(Hr),ur=Re.sendAsync({type:"GI",data:{icons:jt,source:this.source,tileID:this.tileID,type:"icons"}},Hr)}const mr=Object.keys(He.patternDependencies);let gn=Promise.resolve({});if(mr.length){const Hr=new AbortController;this.inFlightDependencies.push(Hr),gn=Re.sendAsync({type:"GI",data:{icons:mr,source:this.source,tileID:this.tileID,type:"patterns"}},Hr)}const[Ir,Yr,en]=yield Promise.all([gt,ur,gn]),nn=new f(Ir),Tr=new u.bo(Yr,en);for(const Hr in Ye){const _n=Ye[Hr];_n instanceof u.a6?(x(_n.layers,this.zoom,Ce),u.bp({bucket:_n,glyphMap:Ir,glyphPositions:nn.positions,imageMap:Yr,imagePositions:Tr.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):_n.hasPattern&&(_n instanceof u.bq||_n instanceof u.br||_n instanceof u.bs)&&(x(_n.layers,this.zoom,Ce),_n.addFeatures(He,this.tileID.canonical,Tr.patternPositions))}return this.status="done",{buckets:Object.values(Ye).filter(Hr=>!Hr.isEmpty()),featureIndex:nt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:nn.image,imageAtlas:Tr,glyphMap:this.returnDependencies?Ir:null,iconMap:this.returnDependencies?Yr:null,glyphPositions:this.returnDependencies?nn.positions:null}})}}function x(Ne,ae,ce){const Ce=new u.z(ae);for(const Re of Ne)Re.recalculate(Ce,ce)}class w{constructor(ae,ce,Ce){this.actor=ae,this.layerIndex=ce,this.availableImages=Ce,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(ae,ce){return u._(this,void 0,void 0,function*(){const Ce=yield u.l(ae.request,ce);try{return{vectorTile:new u.bt.VectorTile(new u.bu(Ce.data)),rawData:Ce.data,cacheControl:Ce.cacheControl,expires:Ce.expires}}catch(Re){const Je=new Uint8Array(Ce.data);let nt=`Unable to parse the tile at ${ae.request.url}, `;throw nt+=Je[0]===31&&Je[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${Re.message}`,new Error(nt)}})}loadTile(ae){return u._(this,void 0,void 0,function*(){const ce=ae.uid,Ce=!!(ae&&ae.request&&ae.request.collectResourceTiming)&&new u.bv(ae.request),Re=new v(ae);this.loading[ce]=Re;const Je=new AbortController;Re.abort=Je;try{const nt=yield this.loadVectorTile(ae,Je);if(delete this.loading[ce],!nt)return null;const Ye=nt.rawData,He={};nt.expires&&(He.expires=nt.expires),nt.cacheControl&&(He.cacheControl=nt.cacheControl);const _t={};if(Ce){const gt=Ce.finish();gt&&(_t.resourceTiming=JSON.parse(JSON.stringify(gt)))}Re.vectorTile=nt.vectorTile;const Ct=Re.parse(nt.vectorTile,this.layerIndex,this.availableImages,this.actor);this.loaded[ce]=Re,this.fetching[ce]={rawTileData:Ye,cacheControl:He,resourceTiming:_t};try{const gt=yield Ct;return u.e({rawTileData:Ye.slice(0)},gt,He,_t)}finally{delete this.fetching[ce]}}catch(nt){throw delete this.loading[ce],Re.status="done",this.loaded[ce]=Re,nt}})}reloadTile(ae){return u._(this,void 0,void 0,function*(){const ce=ae.uid;if(!this.loaded||!this.loaded[ce])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");const Ce=this.loaded[ce];if(Ce.showCollisionBoxes=ae.showCollisionBoxes,Ce.status==="parsing"){const Re=yield Ce.parse(Ce.vectorTile,this.layerIndex,this.availableImages,this.actor);let Je;if(this.fetching[ce]){const{rawTileData:nt,cacheControl:Ye,resourceTiming:He}=this.fetching[ce];delete this.fetching[ce],Je=u.e({rawTileData:nt.slice(0)},Re,Ye,He)}else Je=Re;return Je}if(Ce.status==="done"&&Ce.vectorTile)return Ce.parse(Ce.vectorTile,this.layerIndex,this.availableImages,this.actor)})}abortTile(ae){return u._(this,void 0,void 0,function*(){const ce=this.loading,Ce=ae.uid;ce&&ce[Ce]&&ce[Ce].abort&&(ce[Ce].abort.abort(),delete ce[Ce])})}removeTile(ae){return u._(this,void 0,void 0,function*(){this.loaded&&this.loaded[ae.uid]&&delete this.loaded[ae.uid]})}}class C{constructor(){this.loaded={}}loadTile(ae){return u._(this,void 0,void 0,function*(){const{uid:ce,encoding:Ce,rawImageData:Re,redFactor:Je,greenFactor:nt,blueFactor:Ye,baseShift:He}=ae,_t=Re.width+2,Ct=Re.height+2,gt=u.b(Re)?new u.R({width:_t,height:Ct},yield u.bw(Re,-1,-1,_t,Ct)):Re,jt=new u.bx(ce,gt,Ce,Je,nt,Ye,He);return this.loaded=this.loaded||{},this.loaded[ce]=jt,jt})}removeTile(ae){const ce=this.loaded,Ce=ae.uid;ce&&ce[Ce]&&delete ce[Ce]}}function P(Ne,ae){if(Ne.length!==0){O(Ne[0],ae);for(var ce=1;ce<Ne.length;ce++)O(Ne[ce],!ae)}}function O(Ne,ae){for(var ce=0,Ce=0,Re=0,Je=Ne.length,nt=Je-1;Re<Je;nt=Re++){var Ye=(Ne[Re][0]-Ne[nt][0])*(Ne[nt][1]+Ne[Re][1]),He=ce+Ye;Ce+=Math.abs(ce)>=Math.abs(Ye)?ce-He+Ye:Ye-He+ce,ce=He}ce+Ce>=0!=!!ae&&Ne.reverse()}var I=u.by(function Ne(ae,ce){var Ce,Re=ae&&ae.type;if(Re==="FeatureCollection")for(Ce=0;Ce<ae.features.length;Ce++)Ne(ae.features[Ce],ce);else if(Re==="GeometryCollection")for(Ce=0;Ce<ae.geometries.length;Ce++)Ne(ae.geometries[Ce],ce);else if(Re==="Feature")Ne(ae.geometry,ce);else if(Re==="Polygon")P(ae.coordinates,ce);else if(Re==="MultiPolygon")for(Ce=0;Ce<ae.coordinates.length;Ce++)P(ae.coordinates[Ce],ce);return ae});const z=u.bt.VectorTileFeature.prototype.toGeoJSON;var N={exports:{}},j=u.bz,V=u.bt.VectorTileFeature,W=re;function re(Ne,ae){this.options=ae||{},this.features=Ne,this.length=Ne.length}function ie(Ne,ae){this.id=typeof Ne.id=="number"?Ne.id:void 0,this.type=Ne.type,this.rawGeometry=Ne.type===1?[Ne.geometry]:Ne.geometry,this.properties=Ne.tags,this.extent=ae||4096}re.prototype.feature=function(Ne){return new ie(this.features[Ne],this.options.extent)},ie.prototype.loadGeometry=function(){var Ne=this.rawGeometry;this.geometry=[];for(var ae=0;ae<Ne.length;ae++){for(var ce=Ne[ae],Ce=[],Re=0;Re<ce.length;Re++)Ce.push(new j(ce[Re][0],ce[Re][1]));this.geometry.push(Ce)}return this.geometry},ie.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Ne=this.geometry,ae=1/0,ce=-1/0,Ce=1/0,Re=-1/0,Je=0;Je<Ne.length;Je++)for(var nt=Ne[Je],Ye=0;Ye<nt.length;Ye++){var He=nt[Ye];ae=Math.min(ae,He.x),ce=Math.max(ce,He.x),Ce=Math.min(Ce,He.y),Re=Math.max(Re,He.y)}return[ae,Ce,ce,Re]},ie.prototype.toGeoJSON=V.prototype.toGeoJSON;var J=u.bA,ne=W;function Ae(Ne){var ae=new J;return function(ce,Ce){for(var Re in ce.layers)Ce.writeMessage(3,Z,ce.layers[Re])}(Ne,ae),ae.finish()}function Z(Ne,ae){var ce;ae.writeVarintField(15,Ne.version||1),ae.writeStringField(1,Ne.name||""),ae.writeVarintField(5,Ne.extent||4096);var Ce={keys:[],values:[],keycache:{},valuecache:{}};for(ce=0;ce<Ne.length;ce++)Ce.feature=Ne.feature(ce),ae.writeMessage(2,X,Ce);var Re=Ce.keys;for(ce=0;ce<Re.length;ce++)ae.writeStringField(3,Re[ce]);var Je=Ce.values;for(ce=0;ce<Je.length;ce++)ae.writeMessage(4,Le,Je[ce])}function X(Ne,ae){var ce=Ne.feature;ce.id!==void 0&&ae.writeVarintField(1,ce.id),ae.writeMessage(2,oe,Ne),ae.writeVarintField(3,ce.type),ae.writeMessage(4,De,ce)}function oe(Ne,ae){var ce=Ne.feature,Ce=Ne.keys,Re=Ne.values,Je=Ne.keycache,nt=Ne.valuecache;for(var Ye in ce.properties){var He=ce.properties[Ye],_t=Je[Ye];if(He!==null){_t===void 0&&(Ce.push(Ye),Je[Ye]=_t=Ce.length-1),ae.writeVarint(_t);var Ct=typeof He;Ct!=="string"&&Ct!=="boolean"&&Ct!=="number"&&(He=JSON.stringify(He));var gt=Ct+":"+He,jt=nt[gt];jt===void 0&&(Re.push(He),nt[gt]=jt=Re.length-1),ae.writeVarint(jt)}}}function be(Ne,ae){return(ae<<3)+(7&Ne)}function ge(Ne){return Ne<<1^Ne>>31}function De(Ne,ae){for(var ce=Ne.loadGeometry(),Ce=Ne.type,Re=0,Je=0,nt=ce.length,Ye=0;Ye<nt;Ye++){var He=ce[Ye],_t=1;Ce===1&&(_t=He.length),ae.writeVarint(be(1,_t));for(var Ct=Ce===3?He.length-1:He.length,gt=0;gt<Ct;gt++){gt===1&&Ce!==1&&ae.writeVarint(be(2,Ct-1));var jt=He[gt].x-Re,ur=He[gt].y-Je;ae.writeVarint(ge(jt)),ae.writeVarint(ge(ur)),Re+=jt,Je+=ur}Ce===3&&ae.writeVarint(be(7,1))}}function Le(Ne,ae){var ce=typeof Ne;ce==="string"?ae.writeStringField(1,Ne):ce==="boolean"?ae.writeBooleanField(7,Ne):ce==="number"&&(Ne%1!=0?ae.writeDoubleField(3,Ne):Ne<0?ae.writeSVarintField(6,Ne):ae.writeVarintField(5,Ne))}N.exports=Ae,N.exports.fromVectorTileJs=Ae,N.exports.fromGeojsonVt=function(Ne,ae){ae=ae||{};var ce={};for(var Ce in Ne)ce[Ce]=new ne(Ne[Ce].features,ae),ce[Ce].name=Ce,ce[Ce].version=ae.version,ce[Ce].extent=ae.extent;return Ae({layers:ce})},N.exports.GeoJSONWrapper=ne;var je=u.by(N.exports);const xe={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Ne=>Ne},Oe=Math.fround||(Ke=new Float32Array(1),Ne=>(Ke[0]=+Ne,Ke[0]));var Ke;const ht=3,le=5,me=6;class we{constructor(ae){this.options=Object.assign(Object.create(xe),ae),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(ae){const{log:ce,minZoom:Ce,maxZoom:Re}=this.options;ce&&console.time("total time");const Je=`prepare ${ae.length} points`;ce&&console.time(Je),this.points=ae;const nt=[];for(let He=0;He<ae.length;He++){const _t=ae[He];if(!_t.geometry)continue;const[Ct,gt]=_t.geometry.coordinates,jt=Oe(tt(Ct)),ur=Oe(Ue(gt));nt.push(jt,ur,1/0,He,-1,1),this.options.reduce&&nt.push(0)}let Ye=this.trees[Re+1]=this._createTree(nt);ce&&console.timeEnd(Je);for(let He=Re;He>=Ce;He--){const _t=+Date.now();Ye=this.trees[He]=this._createTree(this._cluster(Ye,He)),ce&&console.log("z%d: %d clusters in %dms",He,Ye.numItems,+Date.now()-_t)}return ce&&console.timeEnd("total time"),this}getClusters(ae,ce){let Ce=((ae[0]+180)%360+360)%360-180;const Re=Math.max(-90,Math.min(90,ae[1]));let Je=ae[2]===180?180:((ae[2]+180)%360+360)%360-180;const nt=Math.max(-90,Math.min(90,ae[3]));if(ae[2]-ae[0]>=360)Ce=-180,Je=180;else if(Ce>Je){const gt=this.getClusters([Ce,Re,180,nt],ce),jt=this.getClusters([-180,Re,Je,nt],ce);return gt.concat(jt)}const Ye=this.trees[this._limitZoom(ce)],He=Ye.range(tt(Ce),Ue(nt),tt(Je),Ue(Re)),_t=Ye.data,Ct=[];for(const gt of He){const jt=this.stride*gt;Ct.push(_t[jt+le]>1?Ie(_t,jt,this.clusterProps):this.points[_t[jt+ht]])}return Ct}getChildren(ae){const ce=this._getOriginId(ae),Ce=this._getOriginZoom(ae),Re="No cluster with the specified id.",Je=this.trees[Ce];if(!Je)throw new Error(Re);const nt=Je.data;if(ce*this.stride>=nt.length)throw new Error(Re);const Ye=this.options.radius/(this.options.extent*Math.pow(2,Ce-1)),He=Je.within(nt[ce*this.stride],nt[ce*this.stride+1],Ye),_t=[];for(const Ct of He){const gt=Ct*this.stride;nt[gt+4]===ae&&_t.push(nt[gt+le]>1?Ie(nt,gt,this.clusterProps):this.points[nt[gt+ht]])}if(_t.length===0)throw new Error(Re);return _t}getLeaves(ae,ce,Ce){const Re=[];return this._appendLeaves(Re,ae,ce=ce||10,Ce=Ce||0,0),Re}getTile(ae,ce,Ce){const Re=this.trees[this._limitZoom(ae)],Je=Math.pow(2,ae),{extent:nt,radius:Ye}=this.options,He=Ye/nt,_t=(Ce-He)/Je,Ct=(Ce+1+He)/Je,gt={features:[]};return this._addTileFeatures(Re.range((ce-He)/Je,_t,(ce+1+He)/Je,Ct),Re.data,ce,Ce,Je,gt),ce===0&&this._addTileFeatures(Re.range(1-He/Je,_t,1,Ct),Re.data,Je,Ce,Je,gt),ce===Je-1&&this._addTileFeatures(Re.range(0,_t,He/Je,Ct),Re.data,-1,Ce,Je,gt),gt.features.length?gt:null}getClusterExpansionZoom(ae){let ce=this._getOriginZoom(ae)-1;for(;ce<=this.options.maxZoom;){const Ce=this.getChildren(ae);if(ce++,Ce.length!==1)break;ae=Ce[0].properties.cluster_id}return ce}_appendLeaves(ae,ce,Ce,Re,Je){const nt=this.getChildren(ce);for(const Ye of nt){const He=Ye.properties;if(He&&He.cluster?Je+He.point_count<=Re?Je+=He.point_count:Je=this._appendLeaves(ae,He.cluster_id,Ce,Re,Je):Je<Re?Je++:ae.push(Ye),ae.length===Ce)break}return Je}_createTree(ae){const ce=new u.av(ae.length/this.stride|0,this.options.nodeSize,Float32Array);for(let Ce=0;Ce<ae.length;Ce+=this.stride)ce.add(ae[Ce],ae[Ce+1]);return ce.finish(),ce.data=ae,ce}_addTileFeatures(ae,ce,Ce,Re,Je,nt){for(const Ye of ae){const He=Ye*this.stride,_t=ce[He+le]>1;let Ct,gt,jt;if(_t)Ct=Me(ce,He,this.clusterProps),gt=ce[He],jt=ce[He+1];else{const gn=this.points[ce[He+ht]];Ct=gn.properties;const[Ir,Yr]=gn.geometry.coordinates;gt=tt(Ir),jt=Ue(Yr)}const ur={type:1,geometry:[[Math.round(this.options.extent*(gt*Je-Ce)),Math.round(this.options.extent*(jt*Je-Re))]],tags:Ct};let mr;mr=_t||this.options.generateId?ce[He+ht]:this.points[ce[He+ht]].id,mr!==void 0&&(ur.id=mr),nt.features.push(ur)}}_limitZoom(ae){return Math.max(this.options.minZoom,Math.min(Math.floor(+ae),this.options.maxZoom+1))}_cluster(ae,ce){const{radius:Ce,extent:Re,reduce:Je,minPoints:nt}=this.options,Ye=Ce/(Re*Math.pow(2,ce)),He=ae.data,_t=[],Ct=this.stride;for(let gt=0;gt<He.length;gt+=Ct){if(He[gt+2]<=ce)continue;He[gt+2]=ce;const jt=He[gt],ur=He[gt+1],mr=ae.within(He[gt],He[gt+1],Ye),gn=He[gt+le];let Ir=gn;for(const Yr of mr){const en=Yr*Ct;He[en+2]>ce&&(Ir+=He[en+le])}if(Ir>gn&&Ir>=nt){let Yr,en=jt*gn,nn=ur*gn,Tr=-1;const Hr=((gt/Ct|0)<<5)+(ce+1)+this.points.length;for(const _n of mr){const Cn=_n*Ct;if(He[Cn+2]<=ce)continue;He[Cn+2]=ce;const xi=He[Cn+le];en+=He[Cn]*xi,nn+=He[Cn+1]*xi,He[Cn+4]=Hr,Je&&(Yr||(Yr=this._map(He,gt,!0),Tr=this.clusterProps.length,this.clusterProps.push(Yr)),Je(Yr,this._map(He,Cn)))}He[gt+4]=Hr,_t.push(en/Ir,nn/Ir,1/0,Hr,-1,Ir),Je&&_t.push(Tr)}else{for(let Yr=0;Yr<Ct;Yr++)_t.push(He[gt+Yr]);if(Ir>1)for(const Yr of mr){const en=Yr*Ct;if(!(He[en+2]<=ce)){He[en+2]=ce;for(let nn=0;nn<Ct;nn++)_t.push(He[en+nn])}}}}return _t}_getOriginId(ae){return ae-this.points.length>>5}_getOriginZoom(ae){return(ae-this.points.length)%32}_map(ae,ce,Ce){if(ae[ce+le]>1){const nt=this.clusterProps[ae[ce+me]];return Ce?Object.assign({},nt):nt}const Re=this.points[ae[ce+ht]].properties,Je=this.options.map(Re);return Ce&&Je===Re?Object.assign({},Je):Je}}function Ie(Ne,ae,ce){return{type:"Feature",id:Ne[ae+ht],properties:Me(Ne,ae,ce),geometry:{type:"Point",coordinates:[(Ce=Ne[ae],360*(Ce-.5)),qe(Ne[ae+1])]}};var Ce}function Me(Ne,ae,ce){const Ce=Ne[ae+le],Re=Ce>=1e4?`${Math.round(Ce/1e3)}k`:Ce>=1e3?Math.round(Ce/100)/10+"k":Ce,Je=Ne[ae+me],nt=Je===-1?{}:Object.assign({},ce[Je]);return Object.assign(nt,{cluster:!0,cluster_id:Ne[ae+ht],point_count:Ce,point_count_abbreviated:Re})}function tt(Ne){return Ne/360+.5}function Ue(Ne){const ae=Math.sin(Ne*Math.PI/180),ce=.5-.25*Math.log((1+ae)/(1-ae))/Math.PI;return ce<0?0:ce>1?1:ce}function qe(Ne){const ae=(180-360*Ne)*Math.PI/180;return 360*Math.atan(Math.exp(ae))/Math.PI-90}function lt(Ne,ae,ce,Ce){let Re=Ce;const Je=ae+(ce-ae>>1);let nt,Ye=ce-ae;const He=Ne[ae],_t=Ne[ae+1],Ct=Ne[ce],gt=Ne[ce+1];for(let jt=ae+3;jt<ce;jt+=3){const ur=pt(Ne[jt],Ne[jt+1],He,_t,Ct,gt);if(ur>Re)nt=jt,Re=ur;else if(ur===Re){const mr=Math.abs(jt-Je);mr<Ye&&(nt=jt,Ye=mr)}}Re>Ce&&(nt-ae>3&&lt(Ne,ae,nt,Ce),Ne[nt+2]=Re,ce-nt>3&&lt(Ne,nt,ce,Ce))}function pt(Ne,ae,ce,Ce,Re,Je){let nt=Re-ce,Ye=Je-Ce;if(nt!==0||Ye!==0){const He=((Ne-ce)*nt+(ae-Ce)*Ye)/(nt*nt+Ye*Ye);He>1?(ce=Re,Ce=Je):He>0&&(ce+=nt*He,Ce+=Ye*He)}return nt=Ne-ce,Ye=ae-Ce,nt*nt+Ye*Ye}function Et(Ne,ae,ce,Ce){const Re={id:Ne??null,type:ae,geometry:ce,tags:Ce,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(ae==="Point"||ae==="MultiPoint"||ae==="LineString")St(Re,ce);else if(ae==="Polygon")St(Re,ce[0]);else if(ae==="MultiLineString")for(const Je of ce)St(Re,Je);else if(ae==="MultiPolygon")for(const Je of ce)St(Re,Je[0]);return Re}function St(Ne,ae){for(let ce=0;ce<ae.length;ce+=3)Ne.minX=Math.min(Ne.minX,ae[ce]),Ne.minY=Math.min(Ne.minY,ae[ce+1]),Ne.maxX=Math.max(Ne.maxX,ae[ce]),Ne.maxY=Math.max(Ne.maxY,ae[ce+1])}function kt(Ne,ae,ce,Ce){if(!ae.geometry)return;const Re=ae.geometry.coordinates;if(Re&&Re.length===0)return;const Je=ae.geometry.type,nt=Math.pow(ce.tolerance/((1<<ce.maxZoom)*ce.extent),2);let Ye=[],He=ae.id;if(ce.promoteId?He=ae.properties[ce.promoteId]:ce.generateId&&(He=Ce||0),Je==="Point")ct(Re,Ye);else if(Je==="MultiPoint")for(const _t of Re)ct(_t,Ye);else if(Je==="LineString")de(Re,Ye,nt,!1);else if(Je==="MultiLineString"){if(ce.lineMetrics){for(const _t of Re)Ye=[],de(_t,Ye,nt,!1),Ne.push(Et(He,"LineString",Ye,ae.properties));return}hr(Re,Ye,nt,!1)}else if(Je==="Polygon")hr(Re,Ye,nt,!0);else{if(Je!=="MultiPolygon"){if(Je==="GeometryCollection"){for(const _t of ae.geometry.geometries)kt(Ne,{id:He,geometry:_t,properties:ae.properties},ce,Ce);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const _t of Re){const Ct=[];hr(_t,Ct,nt,!0),Ye.push(Ct)}}Ne.push(Et(He,Je,Ye,ae.properties))}function ct(Ne,ae){ae.push(Kt(Ne[0]),bt(Ne[1]),0)}function de(Ne,ae,ce,Ce){let Re,Je,nt=0;for(let He=0;He<Ne.length;He++){const _t=Kt(Ne[He][0]),Ct=bt(Ne[He][1]);ae.push(_t,Ct,0),He>0&&(nt+=Ce?(Re*Ct-_t*Je)/2:Math.sqrt(Math.pow(_t-Re,2)+Math.pow(Ct-Je,2))),Re=_t,Je=Ct}const Ye=ae.length-3;ae[2]=1,lt(ae,0,Ye,ce),ae[Ye+2]=1,ae.size=Math.abs(nt),ae.start=0,ae.end=ae.size}function hr(Ne,ae,ce,Ce){for(let Re=0;Re<Ne.length;Re++){const Je=[];de(Ne[Re],Je,ce,Ce),ae.push(Je)}}function Kt(Ne){return Ne/360+.5}function bt(Ne){const ae=Math.sin(Ne*Math.PI/180),ce=.5-.25*Math.log((1+ae)/(1-ae))/Math.PI;return ce<0?0:ce>1?1:ce}function Pt(Ne,ae,ce,Ce,Re,Je,nt,Ye){if(Ce/=ae,Je>=(ce/=ae)&&nt<Ce)return Ne;if(nt<ce||Je>=Ce)return null;const He=[];for(const _t of Ne){const Ct=_t.geometry;let gt=_t.type;const jt=Re===0?_t.minX:_t.minY,ur=Re===0?_t.maxX:_t.maxY;if(jt>=ce&&ur<Ce){He.push(_t);continue}if(ur<ce||jt>=Ce)continue;let mr=[];if(gt==="Point"||gt==="MultiPoint")Ot(Ct,mr,ce,Ce,Re);else if(gt==="LineString")Gt(Ct,mr,ce,Ce,Re,!1,Ye.lineMetrics);else if(gt==="MultiLineString")ir(Ct,mr,ce,Ce,Re,!1);else if(gt==="Polygon")ir(Ct,mr,ce,Ce,Re,!0);else if(gt==="MultiPolygon")for(const gn of Ct){const Ir=[];ir(gn,Ir,ce,Ce,Re,!0),Ir.length&&mr.push(Ir)}if(mr.length){if(Ye.lineMetrics&&gt==="LineString"){for(const gn of mr)He.push(Et(_t.id,gt,gn,_t.tags));continue}gt!=="LineString"&&gt!=="MultiLineString"||(mr.length===1?(gt="LineString",mr=mr[0]):gt="MultiLineString"),gt!=="Point"&&gt!=="MultiPoint"||(gt=mr.length===3?"Point":"MultiPoint"),He.push(Et(_t.id,gt,mr,_t.tags))}}return He.length?He:null}function Ot(Ne,ae,ce,Ce,Re){for(let Je=0;Je<Ne.length;Je+=3){const nt=Ne[Je+Re];nt>=ce&&nt<=Ce&&vr(ae,Ne[Je],Ne[Je+1],Ne[Je+2])}}function Gt(Ne,ae,ce,Ce,Re,Je,nt){let Ye=It(Ne);const He=Re===0?Pr:Vr;let _t,Ct,gt=Ne.start;for(let Ir=0;Ir<Ne.length-3;Ir+=3){const Yr=Ne[Ir],en=Ne[Ir+1],nn=Ne[Ir+2],Tr=Ne[Ir+3],Hr=Ne[Ir+4],_n=Re===0?Yr:en,Cn=Re===0?Tr:Hr;let xi=!1;nt&&(_t=Math.sqrt(Math.pow(Yr-Tr,2)+Math.pow(en-Hr,2))),_n<ce?Cn>ce&&(Ct=He(Ye,Yr,en,Tr,Hr,ce),nt&&(Ye.start=gt+_t*Ct)):_n>Ce?Cn<Ce&&(Ct=He(Ye,Yr,en,Tr,Hr,Ce),nt&&(Ye.start=gt+_t*Ct)):vr(Ye,Yr,en,nn),Cn<ce&&_n>=ce&&(Ct=He(Ye,Yr,en,Tr,Hr,ce),xi=!0),Cn>Ce&&_n<=Ce&&(Ct=He(Ye,Yr,en,Tr,Hr,Ce),xi=!0),!Je&&xi&&(nt&&(Ye.end=gt+_t*Ct),ae.push(Ye),Ye=It(Ne)),nt&&(gt+=_t)}let jt=Ne.length-3;const ur=Ne[jt],mr=Ne[jt+1],gn=Re===0?ur:mr;gn>=ce&&gn<=Ce&&vr(Ye,ur,mr,Ne[jt+2]),jt=Ye.length-3,Je&&jt>=3&&(Ye[jt]!==Ye[0]||Ye[jt+1]!==Ye[1])&&vr(Ye,Ye[0],Ye[1],Ye[2]),Ye.length&&ae.push(Ye)}function It(Ne){const ae=[];return ae.size=Ne.size,ae.start=Ne.start,ae.end=Ne.end,ae}function ir(Ne,ae,ce,Ce,Re,Je){for(const nt of Ne)Gt(nt,ae,ce,Ce,Re,Je,!1)}function vr(Ne,ae,ce,Ce){Ne.push(ae,ce,Ce)}function Pr(Ne,ae,ce,Ce,Re,Je){const nt=(Je-ae)/(Ce-ae);return vr(Ne,Je,ce+(Re-ce)*nt,1),nt}function Vr(Ne,ae,ce,Ce,Re,Je){const nt=(Je-ce)/(Re-ce);return vr(Ne,ae+(Ce-ae)*nt,Je,1),nt}function Ze(Ne,ae){const ce=[];for(let Ce=0;Ce<Ne.length;Ce++){const Re=Ne[Ce],Je=Re.type;let nt;if(Je==="Point"||Je==="MultiPoint"||Je==="LineString")nt=mt(Re.geometry,ae);else if(Je==="MultiLineString"||Je==="Polygon"){nt=[];for(const Ye of Re.geometry)nt.push(mt(Ye,ae))}else if(Je==="MultiPolygon"){nt=[];for(const Ye of Re.geometry){const He=[];for(const _t of Ye)He.push(mt(_t,ae));nt.push(He)}}ce.push(Et(Re.id,Je,nt,Re.tags))}return ce}function mt(Ne,ae){const ce=[];ce.size=Ne.size,Ne.start!==void 0&&(ce.start=Ne.start,ce.end=Ne.end);for(let Ce=0;Ce<Ne.length;Ce+=3)ce.push(Ne[Ce]+ae,Ne[Ce+1],Ne[Ce+2]);return ce}function Rt(Ne,ae){if(Ne.transformed)return Ne;const ce=1<<Ne.z,Ce=Ne.x,Re=Ne.y;for(const Je of Ne.features){const nt=Je.geometry,Ye=Je.type;if(Je.geometry=[],Ye===1)for(let He=0;He<nt.length;He+=2)Je.geometry.push(Lt(nt[He],nt[He+1],ae,ce,Ce,Re));else for(let He=0;He<nt.length;He++){const _t=[];for(let Ct=0;Ct<nt[He].length;Ct+=2)_t.push(Lt(nt[He][Ct],nt[He][Ct+1],ae,ce,Ce,Re));Je.geometry.push(_t)}}return Ne.transformed=!0,Ne}function Lt(Ne,ae,ce,Ce,Re,Je){return[Math.round(ce*(Ne*Ce-Re)),Math.round(ce*(ae*Ce-Je))]}function Br(Ne,ae,ce,Ce,Re){const Je=ae===Re.maxZoom?0:Re.tolerance/((1<<ae)*Re.extent),nt={features:[],numPoints:0,numSimplified:0,numFeatures:Ne.length,source:null,x:ce,y:Ce,z:ae,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const Ye of Ne)rt(nt,Ye,Je,Re);return nt}function rt(Ne,ae,ce,Ce){const Re=ae.geometry,Je=ae.type,nt=[];if(Ne.minX=Math.min(Ne.minX,ae.minX),Ne.minY=Math.min(Ne.minY,ae.minY),Ne.maxX=Math.max(Ne.maxX,ae.maxX),Ne.maxY=Math.max(Ne.maxY,ae.maxY),Je==="Point"||Je==="MultiPoint")for(let Ye=0;Ye<Re.length;Ye+=3)nt.push(Re[Ye],Re[Ye+1]),Ne.numPoints++,Ne.numSimplified++;else if(Je==="LineString")Qt(nt,Re,Ne,ce,!1,!1);else if(Je==="MultiLineString"||Je==="Polygon")for(let Ye=0;Ye<Re.length;Ye++)Qt(nt,Re[Ye],Ne,ce,Je==="Polygon",Ye===0);else if(Je==="MultiPolygon")for(let Ye=0;Ye<Re.length;Ye++){const He=Re[Ye];for(let _t=0;_t<He.length;_t++)Qt(nt,He[_t],Ne,ce,!0,_t===0)}if(nt.length){let Ye=ae.tags||null;if(Je==="LineString"&&Ce.lineMetrics){Ye={};for(const _t in ae.tags)Ye[_t]=ae.tags[_t];Ye.mapbox_clip_start=Re.start/Re.size,Ye.mapbox_clip_end=Re.end/Re.size}const He={geometry:nt,type:Je==="Polygon"||Je==="MultiPolygon"?3:Je==="LineString"||Je==="MultiLineString"?2:1,tags:Ye};ae.id!==null&&(He.id=ae.id),Ne.features.push(He)}}function Qt(Ne,ae,ce,Ce,Re,Je){const nt=Ce*Ce;if(Ce>0&&ae.size<(Re?nt:Ce))return void(ce.numPoints+=ae.length/3);const Ye=[];for(let He=0;He<ae.length;He+=3)(Ce===0||ae[He+2]>nt)&&(ce.numSimplified++,Ye.push(ae[He],ae[He+1])),ce.numPoints++;Re&&function(He,_t){let Ct=0;for(let gt=0,jt=He.length,ur=jt-2;gt<jt;ur=gt,gt+=2)Ct+=(He[gt]-He[ur])*(He[gt+1]+He[ur+1]);if(Ct>0===_t)for(let gt=0,jt=He.length;gt<jt/2;gt+=2){const ur=He[gt],mr=He[gt+1];He[gt]=He[jt-2-gt],He[gt+1]=He[jt-1-gt],He[jt-2-gt]=ur,He[jt-1-gt]=mr}}(Ye,Je),Ne.push(Ye)}const Vt={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class xr{constructor(ae,ce){const Ce=(ce=this.options=function(Je,nt){for(const Ye in nt)Je[Ye]=nt[Ye];return Je}(Object.create(Vt),ce)).debug;if(Ce&&console.time("preprocess data"),ce.maxZoom<0||ce.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ce.promoteId&&ce.generateId)throw new Error("promoteId and generateId cannot be used together.");let Re=function(Je,nt){const Ye=[];if(Je.type==="FeatureCollection")for(let He=0;He<Je.features.length;He++)kt(Ye,Je.features[He],nt,He);else kt(Ye,Je.type==="Feature"?Je:{geometry:Je},nt);return Ye}(ae,ce);this.tiles={},this.tileCoords=[],Ce&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ce.indexMaxZoom,ce.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Re=function(Je,nt){const Ye=nt.buffer/nt.extent;let He=Je;const _t=Pt(Je,1,-1-Ye,Ye,0,-1,2,nt),Ct=Pt(Je,1,1-Ye,2+Ye,0,-1,2,nt);return(_t||Ct)&&(He=Pt(Je,1,-Ye,1+Ye,0,-1,2,nt)||[],_t&&(He=Ze(_t,1).concat(He)),Ct&&(He=He.concat(Ze(Ct,-1)))),He}(Re,ce),Re.length&&this.splitTile(Re,0,0,0),Ce&&(Re.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(ae,ce,Ce,Re,Je,nt,Ye){const He=[ae,ce,Ce,Re],_t=this.options,Ct=_t.debug;for(;He.length;){Re=He.pop(),Ce=He.pop(),ce=He.pop(),ae=He.pop();const gt=1<<ce,jt=rn(ce,Ce,Re);let ur=this.tiles[jt];if(!ur&&(Ct>1&&console.time("creation"),ur=this.tiles[jt]=Br(ae,ce,Ce,Re,_t),this.tileCoords.push({z:ce,x:Ce,y:Re}),Ct)){Ct>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ce,Ce,Re,ur.numFeatures,ur.numPoints,ur.numSimplified),console.timeEnd("creation"));const xi=`z${ce}`;this.stats[xi]=(this.stats[xi]||0)+1,this.total++}if(ur.source=ae,Je==null){if(ce===_t.indexMaxZoom||ur.numPoints<=_t.indexMaxPoints)continue}else{if(ce===_t.maxZoom||ce===Je)continue;if(Je!=null){const xi=Je-ce;if(Ce!==nt>>xi||Re!==Ye>>xi)continue}}if(ur.source=null,ae.length===0)continue;Ct>1&&console.time("clipping");const mr=.5*_t.buffer/_t.extent,gn=.5-mr,Ir=.5+mr,Yr=1+mr;let en=null,nn=null,Tr=null,Hr=null,_n=Pt(ae,gt,Ce-mr,Ce+Ir,0,ur.minX,ur.maxX,_t),Cn=Pt(ae,gt,Ce+gn,Ce+Yr,0,ur.minX,ur.maxX,_t);ae=null,_n&&(en=Pt(_n,gt,Re-mr,Re+Ir,1,ur.minY,ur.maxY,_t),nn=Pt(_n,gt,Re+gn,Re+Yr,1,ur.minY,ur.maxY,_t),_n=null),Cn&&(Tr=Pt(Cn,gt,Re-mr,Re+Ir,1,ur.minY,ur.maxY,_t),Hr=Pt(Cn,gt,Re+gn,Re+Yr,1,ur.minY,ur.maxY,_t),Cn=null),Ct>1&&console.timeEnd("clipping"),He.push(en||[],ce+1,2*Ce,2*Re),He.push(nn||[],ce+1,2*Ce,2*Re+1),He.push(Tr||[],ce+1,2*Ce+1,2*Re),He.push(Hr||[],ce+1,2*Ce+1,2*Re+1)}}getTile(ae,ce,Ce){ae=+ae,ce=+ce,Ce=+Ce;const Re=this.options,{extent:Je,debug:nt}=Re;if(ae<0||ae>24)return null;const Ye=1<<ae,He=rn(ae,ce=ce+Ye&Ye-1,Ce);if(this.tiles[He])return Rt(this.tiles[He],Je);nt>1&&console.log("drilling down to z%d-%d-%d",ae,ce,Ce);let _t,Ct=ae,gt=ce,jt=Ce;for(;!_t&&Ct>0;)Ct--,gt>>=1,jt>>=1,_t=this.tiles[rn(Ct,gt,jt)];return _t&&_t.source?(nt>1&&(console.log("found parent tile z%d-%d-%d",Ct,gt,jt),console.time("drilling down")),this.splitTile(_t.source,Ct,gt,jt,ae,ce,Ce),nt>1&&console.timeEnd("drilling down"),this.tiles[He]?Rt(this.tiles[He],Je):null):null}}function rn(Ne,ae,ce){return 32*((1<<Ne)*ce+ae)+Ne}function rr(Ne,ae){return ae?Ne.properties[ae]:Ne.id}function ni(Ne,ae){if(Ne==null)return!0;if(Ne.type==="Feature")return rr(Ne,ae)!=null;if(Ne.type==="FeatureCollection"){const ce=new Set;for(const Ce of Ne.features){const Re=rr(Ce,ae);if(Re==null||ce.has(Re))return!1;ce.add(Re)}return!0}return!1}function Nn(Ne,ae){const ce=new Map;if(Ne!=null)if(Ne.type==="Feature")ce.set(rr(Ne,ae),Ne);else for(const Ce of Ne.features)ce.set(rr(Ce,ae),Ce);return ce}class _i extends w{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(ae,ce){return u._(this,void 0,void 0,function*(){const Ce=ae.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");const Re=this._geoJSONIndex.getTile(Ce.z,Ce.x,Ce.y);if(!Re)return null;const Je=new class{constructor(Ye){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=u.X,this.length=Ye.length,this._features=Ye}feature(Ye){return new class{constructor(He){this._feature=He,this.extent=u.X,this.type=He.type,this.properties=He.tags,"id"in He&&!isNaN(He.id)&&(this.id=parseInt(He.id,10))}loadGeometry(){if(this._feature.type===1){const He=[];for(const _t of this._feature.geometry)He.push([new u.P(_t[0],_t[1])]);return He}{const He=[];for(const _t of this._feature.geometry){const Ct=[];for(const gt of _t)Ct.push(new u.P(gt[0],gt[1]));He.push(Ct)}return He}}toGeoJSON(He,_t,Ct){return z.call(this,He,_t,Ct)}}(this._features[Ye])}}(Re.features);let nt=je(Je);return nt.byteOffset===0&&nt.byteLength===nt.buffer.byteLength||(nt=new Uint8Array(nt)),{vectorTile:Je,rawData:nt.buffer}})}loadData(ae){return u._(this,void 0,void 0,function*(){var ce;(ce=this._pendingRequest)===null||ce===void 0||ce.abort();const Ce=!!(ae&&ae.request&&ae.request.collectResourceTiming)&&new u.bv(ae.request);this._pendingRequest=new AbortController;try{this._pendingData=this.loadAndProcessGeoJSON(ae,this._pendingRequest),this._geoJSONIndex=ae.cluster?new we(function({superclusterOptions:nt,clusterProperties:Ye}){if(!Ye||!nt)return nt;const He={},_t={},Ct={accumulated:null,zoom:0},gt={properties:null},jt=Object.keys(Ye);for(const ur of jt){const[mr,gn]=Ye[ur],Ir=u.bC(gn),Yr=u.bC(typeof mr=="string"?[mr,["accumulated"],["get",ur]]:mr);He[ur]=Ir.value,_t[ur]=Yr.value}return nt.map=ur=>{gt.properties=ur;const mr={};for(const gn of jt)mr[gn]=He[gn].evaluate(Ct,gt);return mr},nt.reduce=(ur,mr)=>{gt.properties=mr;for(const gn of jt)Ct.accumulated=ur[gn],ur[gn]=_t[gn].evaluate(Ct,gt)},nt}(ae)).load((yield this._pendingData).features):(Re=yield this._pendingData,new xr(Re,ae.geojsonVtOptions)),this.loaded={};const Je={};if(Ce){const nt=Ce.finish();nt&&(Je.resourceTiming={},Je.resourceTiming[ae.source]=JSON.parse(JSON.stringify(nt)))}return Je}catch(Je){if(delete this._pendingRequest,u.bB(Je))return{abandoned:!0};throw Je}var Re})}getData(){return u._(this,void 0,void 0,function*(){return this._pendingData})}reloadTile(ae){const ce=this.loaded;return ce&&ce[ae.uid]?super.reloadTile(ae):this.loadTile(ae)}loadAndProcessGeoJSON(ae,ce){return u._(this,void 0,void 0,function*(){let Ce=yield this.loadGeoJSON(ae,ce);if(delete this._pendingRequest,typeof Ce!="object")throw new Error(`Input data given to '${ae.source}' is not a valid GeoJSON object.`);if(I(Ce,!0),ae.filter){const Re=u.bC(ae.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Re.result==="error")throw new Error(Re.value.map(nt=>`${nt.key}: ${nt.message}`).join(", "));Ce={type:"FeatureCollection",features:Ce.features.filter(nt=>Re.value.evaluate({zoom:0},nt))}}return Ce})}loadGeoJSON(ae,ce){return u._(this,void 0,void 0,function*(){const{promoteId:Ce}=ae;if(ae.request){const Re=yield u.h(ae.request,ce);return this._dataUpdateable=ni(Re.data,Ce)?Nn(Re.data,Ce):void 0,Re.data}if(typeof ae.data=="string")try{const Re=JSON.parse(ae.data);return this._dataUpdateable=ni(Re,Ce)?Nn(Re,Ce):void 0,Re}catch{throw new Error(`Input data given to '${ae.source}' is not a valid GeoJSON object.`)}if(!ae.dataDiff)throw new Error(`Input data given to '${ae.source}' is not a valid GeoJSON object.`);if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${ae.source}`);return function(Re,Je,nt){var Ye,He,_t,Ct;if(Je.removeAll&&Re.clear(),Je.remove)for(const gt of Je.remove)Re.delete(gt);if(Je.add)for(const gt of Je.add){const jt=rr(gt,nt);jt!=null&&Re.set(jt,gt)}if(Je.update)for(const gt of Je.update){let jt=Re.get(gt.id);if(jt==null)continue;const ur=!gt.removeAllProperties&&(((Ye=gt.removeProperties)===null||Ye===void 0?void 0:Ye.length)>0||((He=gt.addOrUpdateProperties)===null||He===void 0?void 0:He.length)>0);if((gt.newGeometry||gt.removeAllProperties||ur)&&(jt=Object.assign({},jt),Re.set(gt.id,jt),ur&&(jt.properties=Object.assign({},jt.properties))),gt.newGeometry&&(jt.geometry=gt.newGeometry),gt.removeAllProperties)jt.properties={};else if(((_t=gt.removeProperties)===null||_t===void 0?void 0:_t.length)>0)for(const mr of gt.removeProperties)Object.prototype.hasOwnProperty.call(jt.properties,mr)&&delete jt.properties[mr];if(((Ct=gt.addOrUpdateProperties)===null||Ct===void 0?void 0:Ct.length)>0)for(const{key:mr,value:gn}of gt.addOrUpdateProperties)jt.properties[mr]=gn}}(this._dataUpdateable,ae.dataDiff,Ce),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}})}removeSource(ae){return u._(this,void 0,void 0,function*(){this._pendingRequest&&this._pendingRequest.abort()})}getClusterExpansionZoom(ae){return this._geoJSONIndex.getClusterExpansionZoom(ae.clusterId)}getClusterChildren(ae){return this._geoJSONIndex.getChildren(ae.clusterId)}getClusterLeaves(ae){return this._geoJSONIndex.getLeaves(ae.clusterId,ae.limit,ae.offset)}}class Bn{constructor(ae){this.self=ae,this.actor=new u.F(ae),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=(ce,Ce)=>{if(this.externalWorkerSourceTypes[ce])throw new Error(`Worker source with name "${ce}" already registered.`);this.externalWorkerSourceTypes[ce]=Ce},this.self.addProtocol=u.bi,this.self.removeProtocol=u.bj,this.self.registerRTLTextPlugin=ce=>{if(u.bD.isParsed())throw new Error("RTL text plugin already registered.");u.bD.setMethods(ce)},this.actor.registerMessageHandler("LDT",(ce,Ce)=>this._getDEMWorkerSource(ce,Ce.source).loadTile(Ce)),this.actor.registerMessageHandler("RDT",(ce,Ce)=>u._(this,void 0,void 0,function*(){this._getDEMWorkerSource(ce,Ce.source).removeTile(Ce)})),this.actor.registerMessageHandler("GCEZ",(ce,Ce)=>u._(this,void 0,void 0,function*(){return this._getWorkerSource(ce,Ce.type,Ce.source).getClusterExpansionZoom(Ce)})),this.actor.registerMessageHandler("GCC",(ce,Ce)=>u._(this,void 0,void 0,function*(){return this._getWorkerSource(ce,Ce.type,Ce.source).getClusterChildren(Ce)})),this.actor.registerMessageHandler("GCL",(ce,Ce)=>u._(this,void 0,void 0,function*(){return this._getWorkerSource(ce,Ce.type,Ce.source).getClusterLeaves(Ce)})),this.actor.registerMessageHandler("LD",(ce,Ce)=>this._getWorkerSource(ce,Ce.type,Ce.source).loadData(Ce)),this.actor.registerMessageHandler("GD",(ce,Ce)=>this._getWorkerSource(ce,Ce.type,Ce.source).getData()),this.actor.registerMessageHandler("LT",(ce,Ce)=>this._getWorkerSource(ce,Ce.type,Ce.source).loadTile(Ce)),this.actor.registerMessageHandler("RT",(ce,Ce)=>this._getWorkerSource(ce,Ce.type,Ce.source).reloadTile(Ce)),this.actor.registerMessageHandler("AT",(ce,Ce)=>this._getWorkerSource(ce,Ce.type,Ce.source).abortTile(Ce)),this.actor.registerMessageHandler("RMT",(ce,Ce)=>this._getWorkerSource(ce,Ce.type,Ce.source).removeTile(Ce)),this.actor.registerMessageHandler("RS",(ce,Ce)=>u._(this,void 0,void 0,function*(){if(!this.workerSources[ce]||!this.workerSources[ce][Ce.type]||!this.workerSources[ce][Ce.type][Ce.source])return;const Re=this.workerSources[ce][Ce.type][Ce.source];delete this.workerSources[ce][Ce.type][Ce.source],Re.removeSource!==void 0&&Re.removeSource(Ce)})),this.actor.registerMessageHandler("RM",ce=>u._(this,void 0,void 0,function*(){delete this.layerIndexes[ce],delete this.availableImages[ce],delete this.workerSources[ce],delete this.demWorkerSources[ce]})),this.actor.registerMessageHandler("SR",(ce,Ce)=>u._(this,void 0,void 0,function*(){this.referrer=Ce})),this.actor.registerMessageHandler("SRPS",(ce,Ce)=>this._syncRTLPluginState(ce,Ce)),this.actor.registerMessageHandler("IS",(ce,Ce)=>u._(this,void 0,void 0,function*(){this.self.importScripts(Ce)})),this.actor.registerMessageHandler("SI",(ce,Ce)=>this._setImages(ce,Ce)),this.actor.registerMessageHandler("UL",(ce,Ce)=>u._(this,void 0,void 0,function*(){this._getLayerIndex(ce).update(Ce.layers,Ce.removedIds)})),this.actor.registerMessageHandler("SL",(ce,Ce)=>u._(this,void 0,void 0,function*(){this._getLayerIndex(ce).replace(Ce)}))}_setImages(ae,ce){return u._(this,void 0,void 0,function*(){this.availableImages[ae]=ce;for(const Ce in this.workerSources[ae]){const Re=this.workerSources[ae][Ce];for(const Je in Re)Re[Je].availableImages=ce}})}_syncRTLPluginState(ae,ce){return u._(this,void 0,void 0,function*(){if(u.bD.isParsed())return u.bD.getState();if(ce.pluginStatus!=="loading")return u.bD.setState(ce),ce;const Ce=ce.pluginURL;if(this.self.importScripts(Ce),u.bD.isParsed()){const Re={pluginStatus:"loaded",pluginURL:Ce};return u.bD.setState(Re),Re}throw u.bD.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${Ce}`)})}_getAvailableImages(ae){let ce=this.availableImages[ae];return ce||(ce=[]),ce}_getLayerIndex(ae){let ce=this.layerIndexes[ae];return ce||(ce=this.layerIndexes[ae]=new l),ce}_getWorkerSource(ae,ce,Ce){if(this.workerSources[ae]||(this.workerSources[ae]={}),this.workerSources[ae][ce]||(this.workerSources[ae][ce]={}),!this.workerSources[ae][ce][Ce]){const Re={sendAsync:(Je,nt)=>(Je.targetMapId=ae,this.actor.sendAsync(Je,nt))};switch(ce){case"vector":this.workerSources[ae][ce][Ce]=new w(Re,this._getLayerIndex(ae),this._getAvailableImages(ae));break;case"geojson":this.workerSources[ae][ce][Ce]=new _i(Re,this._getLayerIndex(ae),this._getAvailableImages(ae));break;default:this.workerSources[ae][ce][Ce]=new this.externalWorkerSourceTypes[ce](Re,this._getLayerIndex(ae),this._getAvailableImages(ae))}}return this.workerSources[ae][ce][Ce]}_getDEMWorkerSource(ae,ce){return this.demWorkerSources[ae]||(this.demWorkerSources[ae]={}),this.demWorkerSources[ae][ce]||(this.demWorkerSources[ae][ce]=new C),this.demWorkerSources[ae][ce]}}return u.i(self)&&(self.worker=new Bn(self)),Bn}),o("index",["exports","./shared"],function(u,l){var f="4.7.1";let v,x;const w={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frameAsync:g=>new Promise((i,h)=>{const p=requestAnimationFrame(i);g.signal.addEventListener("abort",()=>{cancelAnimationFrame(p),h(l.c())})}),getImageData(g,i=0){return this.getImageCanvasContext(g).getImageData(-i,-i,g.width+2*i,g.height+2*i)},getImageCanvasContext(g){const i=window.document.createElement("canvas"),h=i.getContext("2d",{willReadFrequently:!0});if(!h)throw new Error("failed to create canvas 2d context");return i.width=g.width,i.height=g.height,h.drawImage(g,0,0,g.width,g.height),h},resolveURL:g=>(v||(v=document.createElement("a")),v.href=g,v.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(x==null&&(x=matchMedia("(prefers-reduced-motion: reduce)")),x.matches)}};class C{static testProp(i){if(!C.docStyle)return i[0];for(let h=0;h<i.length;h++)if(i[h]in C.docStyle)return i[h];return i[0]}static create(i,h,p){const y=window.document.createElement(i);return h!==void 0&&(y.className=h),p&&p.appendChild(y),y}static createNS(i,h){return window.document.createElementNS(i,h)}static disableDrag(){C.docStyle&&C.selectProp&&(C.userSelect=C.docStyle[C.selectProp],C.docStyle[C.selectProp]="none")}static enableDrag(){C.docStyle&&C.selectProp&&(C.docStyle[C.selectProp]=C.userSelect)}static setTransform(i,h){i.style[C.transformProp]=h}static addEventListener(i,h,p,y={}){i.addEventListener(h,p,"passive"in y?y:y.capture)}static removeEventListener(i,h,p,y={}){i.removeEventListener(h,p,"passive"in y?y:y.capture)}static suppressClickInternal(i){i.preventDefault(),i.stopPropagation(),window.removeEventListener("click",C.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",C.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",C.suppressClickInternal,!0)},0)}static getScale(i){const h=i.getBoundingClientRect();return{x:h.width/i.offsetWidth||1,y:h.height/i.offsetHeight||1,boundingClientRect:h}}static getPoint(i,h,p){const y=h.boundingClientRect;return new l.P((p.clientX-y.left)/h.x-i.clientLeft,(p.clientY-y.top)/h.y-i.clientTop)}static mousePos(i,h){const p=C.getScale(i);return C.getPoint(i,p,h)}static touchPos(i,h){const p=[],y=C.getScale(i);for(let b=0;b<h.length;b++)p.push(C.getPoint(i,y,h[b]));return p}static mouseButton(i){return i.button}static remove(i){i.parentNode&&i.parentNode.removeChild(i)}}C.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,C.selectProp=C.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),C.transformProp=C.testProp(["transform","WebkitTransform"]);const P={supported:!1,testSupport:function(g){!z&&I&&(N?j(g):O=g)}};let O,I,z=!1,N=!1;function j(g){const i=g.createTexture();g.bindTexture(g.TEXTURE_2D,i);try{if(g.texImage2D(g.TEXTURE_2D,0,g.RGBA,g.RGBA,g.UNSIGNED_BYTE,I),g.isContextLost())return;P.supported=!0}catch{}g.deleteTexture(i),z=!0}var V;typeof document<"u"&&(I=document.createElement("img"),I.onload=()=>{O&&j(O),O=null,N=!0},I.onerror=()=>{z=!0,O=null},I.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(g){let i,h,p,y;g.resetRequestQueue=()=>{i=[],h=0,p=0,y={}},g.addThrottleControl=R=>{const B=p++;return y[B]=R,B},g.removeThrottleControl=R=>{delete y[R],T()},g.getImage=(R,B,H=!0)=>new Promise((q,te)=>{P.supported&&(R.headers||(R.headers={}),R.headers.accept="image/webp,*/*"),l.e(R,{type:"image"}),i.push({abortController:B,requestParameters:R,supportImageRefresh:H,state:"queued",onError:se=>{te(se)},onSuccess:se=>{q(se)}}),T()});const b=R=>l._(this,void 0,void 0,function*(){R.state="running";const{requestParameters:B,supportImageRefresh:H,onError:q,onSuccess:te,abortController:se}=R,ee=H===!1&&!l.i(self)&&!l.g(B.url)&&(!B.headers||Object.keys(B.headers).reduce((Ee,ke)=>Ee&&ke==="accept",!0));h++;const he=ee?k(B,se):l.m(B,se);try{const Ee=yield he;delete R.abortController,R.state="completed",Ee.data instanceof HTMLImageElement||l.b(Ee.data)?te(Ee):Ee.data&&te({data:yield(Se=Ee.data,typeof createImageBitmap=="function"?l.d(Se):l.f(Se)),cacheControl:Ee.cacheControl,expires:Ee.expires})}catch(Ee){delete R.abortController,q(Ee)}finally{h--,T()}var Se}),T=()=>{const R=(()=>{for(const B of Object.keys(y))if(y[B]())return!0;return!1})()?l.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:l.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let B=h;B<R&&i.length>0;B++){const H=i.shift();H.abortController.signal.aborted?B--:b(H)}},k=(R,B)=>new Promise((H,q)=>{const te=new Image,se=R.url,ee=R.credentials;ee&&ee==="include"?te.crossOrigin="use-credentials":(ee&&ee==="same-origin"||!l.s(se))&&(te.crossOrigin="anonymous"),B.signal.addEventListener("abort",()=>{te.src="",q(l.c())}),te.fetchPriority="high",te.onload=()=>{te.onerror=te.onload=null,H({data:te})},te.onerror=()=>{te.onerror=te.onload=null,B.signal.aborted||q(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},te.src=se})}(V||(V={})),V.resetRequestQueue();class W{constructor(i){this._transformRequestFn=i}transformRequest(i,h){return this._transformRequestFn&&this._transformRequestFn(i,h)||{url:i}}setTransformRequest(i){this._transformRequestFn=i}}function re(g){var i=new l.A(3);return i[0]=g[0],i[1]=g[1],i[2]=g[2],i}var ie,J=function(g,i,h){return g[0]=i[0]-h[0],g[1]=i[1]-h[1],g[2]=i[2]-h[2],g};ie=new l.A(3),l.A!=Float32Array&&(ie[0]=0,ie[1]=0,ie[2]=0);var ne=function(g){var i=g[0],h=g[1];return i*i+h*h};function Ae(g){const i=[];if(typeof g=="string")i.push({id:"default",url:g});else if(g&&g.length>0){const h=[];for(const{id:p,url:y}of g){const b=`${p}${y}`;h.indexOf(b)===-1&&(h.push(b),i.push({id:p,url:y}))}}return i}function Z(g,i,h){const p=g.split("?");return p[0]+=`${i}${h}`,p.join("?")}(function(){var g=new l.A(2);l.A!=Float32Array&&(g[0]=0,g[1]=0)})();class X{constructor(i,h,p,y){this.context=i,this.format=p,this.texture=i.gl.createTexture(),this.update(h,y)}update(i,h,p){const{width:y,height:b}=i,T=!(this.size&&this.size[0]===y&&this.size[1]===b||p),{context:k}=this,{gl:R}=k;if(this.useMipmap=!!(h&&h.useMipmap),R.bindTexture(R.TEXTURE_2D,this.texture),k.pixelStoreUnpackFlipY.set(!1),k.pixelStoreUnpack.set(1),k.pixelStoreUnpackPremultiplyAlpha.set(this.format===R.RGBA&&(!h||h.premultiply!==!1)),T)this.size=[y,b],i instanceof HTMLImageElement||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement||i instanceof ImageData||l.b(i)?R.texImage2D(R.TEXTURE_2D,0,this.format,this.format,R.UNSIGNED_BYTE,i):R.texImage2D(R.TEXTURE_2D,0,this.format,y,b,0,this.format,R.UNSIGNED_BYTE,i.data);else{const{x:B,y:H}=p||{x:0,y:0};i instanceof HTMLImageElement||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement||i instanceof ImageData||l.b(i)?R.texSubImage2D(R.TEXTURE_2D,0,B,H,R.RGBA,R.UNSIGNED_BYTE,i):R.texSubImage2D(R.TEXTURE_2D,0,B,H,y,b,R.RGBA,R.UNSIGNED_BYTE,i.data)}this.useMipmap&&this.isSizePowerOfTwo()&&R.generateMipmap(R.TEXTURE_2D)}bind(i,h,p){const{context:y}=this,{gl:b}=y;b.bindTexture(b.TEXTURE_2D,this.texture),p!==b.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(p=b.LINEAR),i!==this.filter&&(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,i),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,p||i),this.filter=i),h!==this.wrap&&(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,h),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,h),this.wrap=h)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:i}=this.context;i.deleteTexture(this.texture),this.texture=null}}function oe(g){const{userImage:i}=g;return!!(i&&i.render&&i.render())&&(g.data.replace(new Uint8Array(i.data.buffer)),!0)}class be extends l.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new l.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(i){if(this.loaded!==i&&(this.loaded=i,i)){for(const{ids:h,promiseResolve:p}of this.requestors)p(this._getImagesForIds(h));this.requestors=[]}}getImage(i){const h=this.images[i];if(h&&!h.data&&h.spriteData){const p=h.spriteData;h.data=new l.R({width:p.width,height:p.height},p.context.getImageData(p.x,p.y,p.width,p.height).data),h.spriteData=null}return h}addImage(i,h){if(this.images[i])throw new Error(`Image id ${i} already exist, use updateImage instead`);this._validate(i,h)&&(this.images[i]=h)}_validate(i,h){let p=!0;const y=h.data||h.spriteData;return this._validateStretch(h.stretchX,y&&y.width)||(this.fire(new l.j(new Error(`Image "${i}" has invalid "stretchX" value`))),p=!1),this._validateStretch(h.stretchY,y&&y.height)||(this.fire(new l.j(new Error(`Image "${i}" has invalid "stretchY" value`))),p=!1),this._validateContent(h.content,h)||(this.fire(new l.j(new Error(`Image "${i}" has invalid "content" value`))),p=!1),p}_validateStretch(i,h){if(!i)return!0;let p=0;for(const y of i){if(y[0]<p||y[1]<y[0]||h<y[1])return!1;p=y[1]}return!0}_validateContent(i,h){if(!i)return!0;if(i.length!==4)return!1;const p=h.spriteData,y=p&&p.width||h.data.width,b=p&&p.height||h.data.height;return!(i[0]<0||y<i[0]||i[1]<0||b<i[1]||i[2]<0||y<i[2]||i[3]<0||b<i[3]||i[2]<i[0]||i[3]<i[1])}updateImage(i,h,p=!0){const y=this.getImage(i);if(p&&(y.data.width!==h.data.width||y.data.height!==h.data.height))throw new Error(`size mismatch between old image (${y.data.width}x${y.data.height}) and new image (${h.data.width}x${h.data.height}).`);h.version=y.version+1,this.images[i]=h,this.updatedImages[i]=!0}removeImage(i){const h=this.images[i];delete this.images[i],delete this.patterns[i],h.userImage&&h.userImage.onRemove&&h.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(i){return new Promise((h,p)=>{let y=!0;if(!this.isLoaded())for(const b of i)this.images[b]||(y=!1);this.isLoaded()||y?h(this._getImagesForIds(i)):this.requestors.push({ids:i,promiseResolve:h})})}_getImagesForIds(i){const h={};for(const p of i){let y=this.getImage(p);y||(this.fire(new l.k("styleimagemissing",{id:p})),y=this.getImage(p)),y?h[p]={data:y.data.clone(),pixelRatio:y.pixelRatio,sdf:y.sdf,version:y.version,stretchX:y.stretchX,stretchY:y.stretchY,content:y.content,textFitWidth:y.textFitWidth,textFitHeight:y.textFitHeight,hasRenderCallback:!!(y.userImage&&y.userImage.render)}:l.w(`Image "${p}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return h}getPixelSize(){const{width:i,height:h}=this.atlasImage;return{width:i,height:h}}getPattern(i){const h=this.patterns[i],p=this.getImage(i);if(!p)return null;if(h&&h.position.version===p.version)return h.position;if(h)h.position.version=p.version;else{const y={w:p.data.width+2,h:p.data.height+2,x:0,y:0},b=new l.I(y,p);this.patterns[i]={bin:y,position:b}}return this._updatePatternAtlas(),this.patterns[i].position}bind(i){const h=i.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new X(i,this.atlasImage,h.RGBA),this.atlasTexture.bind(h.LINEAR,h.CLAMP_TO_EDGE)}_updatePatternAtlas(){const i=[];for(const b in this.patterns)i.push(this.patterns[b].bin);const{w:h,h:p}=l.p(i),y=this.atlasImage;y.resize({width:h||1,height:p||1});for(const b in this.patterns){const{bin:T}=this.patterns[b],k=T.x+1,R=T.y+1,B=this.getImage(b).data,H=B.width,q=B.height;l.R.copy(B,y,{x:0,y:0},{x:k,y:R},{width:H,height:q}),l.R.copy(B,y,{x:0,y:q-1},{x:k,y:R-1},{width:H,height:1}),l.R.copy(B,y,{x:0,y:0},{x:k,y:R+q},{width:H,height:1}),l.R.copy(B,y,{x:H-1,y:0},{x:k-1,y:R},{width:1,height:q}),l.R.copy(B,y,{x:0,y:0},{x:k+H,y:R},{width:1,height:q})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(i){for(const h of i){if(this.callbackDispatchedThisFrame[h])continue;this.callbackDispatchedThisFrame[h]=!0;const p=this.getImage(h);p||l.w(`Image with ID: "${h}" was not found`),oe(p)&&this.updateImage(h,p)}}}const ge=1e20;function De(g,i,h,p,y,b,T,k,R){for(let B=i;B<i+p;B++)Le(g,h*b+B,b,y,T,k,R);for(let B=h;B<h+y;B++)Le(g,B*b+i,1,p,T,k,R)}function Le(g,i,h,p,y,b,T){b[0]=0,T[0]=-ge,T[1]=ge,y[0]=g[i];for(let k=1,R=0,B=0;k<p;k++){y[k]=g[i+k*h];const H=k*k;do{const q=b[R];B=(y[k]-y[q]+H-q*q)/(k-q)/2}while(B<=T[R]&&--R>-1);R++,b[R]=k,T[R]=B,T[R+1]=ge}for(let k=0,R=0;k<p;k++){for(;T[R+1]<k;)R++;const B=b[R],H=k-B;g[i+k*h]=y[B]+H*H}}class je{constructor(i,h){this.requestManager=i,this.localIdeographFontFamily=h,this.entries={}}setURL(i){this.url=i}getGlyphs(i){return l._(this,void 0,void 0,function*(){const h=[];for(const b in i)for(const T of i[b])h.push(this._getAndCacheGlyphsPromise(b,T));const p=yield Promise.all(h),y={};for(const{stack:b,id:T,glyph:k}of p)y[b]||(y[b]={}),y[b][T]=k&&{id:k.id,bitmap:k.bitmap.clone(),metrics:k.metrics};return y})}_getAndCacheGlyphsPromise(i,h){return l._(this,void 0,void 0,function*(){let p=this.entries[i];p||(p=this.entries[i]={glyphs:{},requests:{},ranges:{}});let y=p.glyphs[h];if(y!==void 0)return{stack:i,id:h,glyph:y};if(y=this._tinySDF(p,i,h),y)return p.glyphs[h]=y,{stack:i,id:h,glyph:y};const b=Math.floor(h/256);if(256*b>65535)throw new Error("glyphs > 65535 not supported");if(p.ranges[b])return{stack:i,id:h,glyph:y};if(!this.url)throw new Error("glyphsUrl is not set");if(!p.requests[b]){const k=je.loadGlyphRange(i,b,this.url,this.requestManager);p.requests[b]=k}const T=yield p.requests[b];for(const k in T)this._doesCharSupportLocalGlyph(+k)||(p.glyphs[+k]=T[+k]);return p.ranges[b]=!0,{stack:i,id:h,glyph:T[h]||null}})}_doesCharSupportLocalGlyph(i){return!!this.localIdeographFontFamily&&new RegExp("\\p{Ideo}|\\p{sc=Hang}|\\p{sc=Hira}|\\p{sc=Kana}","u").test(String.fromCodePoint(i))}_tinySDF(i,h,p){const y=this.localIdeographFontFamily;if(!y||!this._doesCharSupportLocalGlyph(p))return;let b=i.tinySDF;if(!b){let k="400";/bold/i.test(h)?k="900":/medium/i.test(h)?k="500":/light/i.test(h)&&(k="200"),b=i.tinySDF=new je.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:y,fontWeight:k})}const T=b.draw(String.fromCharCode(p));return{id:p,bitmap:new l.o({width:T.width||60,height:T.height||60},T.data),metrics:{width:T.glyphWidth/2||24,height:T.glyphHeight/2||24,left:T.glyphLeft/2+.5||0,top:T.glyphTop/2-27.5||-8,advance:T.glyphAdvance/2||24,isDoubleResolution:!0}}}}je.loadGlyphRange=function(g,i,h,p){return l._(this,void 0,void 0,function*(){const y=256*i,b=y+255,T=p.transformRequest(h.replace("{fontstack}",g).replace("{range}",`${y}-${b}`),"Glyphs"),k=yield l.l(T,new AbortController);if(!k||!k.data)throw new Error(`Could not load glyph range. range: ${i}, ${y}-${b}`);const R={};for(const B of l.n(k.data))R[B.id]=B;return R})},je.TinySDF=class{constructor({fontSize:g=24,buffer:i=3,radius:h=8,cutoff:p=.25,fontFamily:y="sans-serif",fontWeight:b="normal",fontStyle:T="normal"}={}){this.buffer=i,this.cutoff=p,this.radius=h;const k=this.size=g+4*i,R=this._createCanvas(k),B=this.ctx=R.getContext("2d",{willReadFrequently:!0});B.font=`${T} ${b} ${g}px ${y}`,B.textBaseline="alphabetic",B.textAlign="left",B.fillStyle="black",this.gridOuter=new Float64Array(k*k),this.gridInner=new Float64Array(k*k),this.f=new Float64Array(k),this.z=new Float64Array(k+1),this.v=new Uint16Array(k)}_createCanvas(g){const i=document.createElement("canvas");return i.width=i.height=g,i}draw(g){const{width:i,actualBoundingBoxAscent:h,actualBoundingBoxDescent:p,actualBoundingBoxLeft:y,actualBoundingBoxRight:b}=this.ctx.measureText(g),T=Math.ceil(h),k=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(b-y))),R=Math.min(this.size-this.buffer,T+Math.ceil(p)),B=k+2*this.buffer,H=R+2*this.buffer,q=Math.max(B*H,0),te=new Uint8ClampedArray(q),se={data:te,width:B,height:H,glyphWidth:k,glyphHeight:R,glyphTop:T,glyphLeft:0,glyphAdvance:i};if(k===0||R===0)return se;const{ctx:ee,buffer:he,gridInner:Se,gridOuter:Ee}=this;ee.clearRect(he,he,k,R),ee.fillText(g,he,he+T);const ke=ee.getImageData(he,he,k,R);Ee.fill(ge,0,q),Se.fill(0,0,q);for(let Te=0;Te<R;Te++)for(let Fe=0;Fe<k;Fe++){const Xe=ke.data[4*(Te*k+Fe)+3]/255;if(Xe===0)continue;const Ge=(Te+he)*B+Fe+he;if(Xe===1)Ee[Ge]=0,Se[Ge]=ge;else{const wt=.5-Xe;Ee[Ge]=wt>0?wt*wt:0,Se[Ge]=wt<0?wt*wt:0}}De(Ee,0,0,B,H,B,this.f,this.v,this.z),De(Se,he,he,k,R,B,this.f,this.v,this.z);for(let Te=0;Te<q;Te++){const Fe=Math.sqrt(Ee[Te])-Math.sqrt(Se[Te]);te[Te]=Math.round(255-255*(Fe/this.radius+this.cutoff))}return se}};class xe{constructor(){this.specification=l.v.light.position}possiblyEvaluate(i,h){return l.x(i.expression.evaluate(h))}interpolate(i,h,p){return{x:l.y.number(i.x,h.x,p),y:l.y.number(i.y,h.y,p),z:l.y.number(i.z,h.z,p)}}}let Oe;class Ke extends l.E{constructor(i){super(),Oe=Oe||new l.q({anchor:new l.D(l.v.light.anchor),position:new xe,color:new l.D(l.v.light.color),intensity:new l.D(l.v.light.intensity)}),this._transitionable=new l.T(Oe),this.setLight(i),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(i,h={}){if(!this._validate(l.r,i,h))for(const p in i){const y=i[p];p.endsWith("-transition")?this._transitionable.setTransition(p.slice(0,-11),y):this._transitionable.setValue(p,y)}}updateTransitions(i){this._transitioning=this._transitionable.transitioned(i,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(i){this.properties=this._transitioning.possiblyEvaluate(i)}_validate(i,h,p){return(!p||p.validate!==!1)&&l.t(this,i.call(l.u,{value:h,style:{glyphs:!0,sprite:!0},styleSpec:l.v}))}}const ht=new l.q({"sky-color":new l.D(l.v.sky["sky-color"]),"horizon-color":new l.D(l.v.sky["horizon-color"]),"fog-color":new l.D(l.v.sky["fog-color"]),"fog-ground-blend":new l.D(l.v.sky["fog-ground-blend"]),"horizon-fog-blend":new l.D(l.v.sky["horizon-fog-blend"]),"sky-horizon-blend":new l.D(l.v.sky["sky-horizon-blend"]),"atmosphere-blend":new l.D(l.v.sky["atmosphere-blend"])});class le extends l.E{constructor(i){super(),this._transitionable=new l.T(ht),this.setSky(i),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new l.z(0))}setSky(i,h={}){if(!this._validate(l.B,i,h)){i||(i={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(const p in i){const y=i[p];p.endsWith("-transition")?this._transitionable.setTransition(p.slice(0,-11),y):this._transitionable.setValue(p,y)}}}getSky(){return this._transitionable.serialize()}updateTransitions(i){this._transitioning=this._transitionable.transitioned(i,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(i){this.properties=this._transitioning.possiblyEvaluate(i)}_validate(i,h,p={}){return(p==null?void 0:p.validate)!==!1&&l.t(this,i.call(l.u,l.e({value:h,style:{glyphs:!0,sprite:!0},styleSpec:l.v})))}calculateFogBlendOpacity(i){return i<60?0:i<70?(i-60)/10:1}}class me{constructor(i,h){this.width=i,this.height=h,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(i,h){const p=i.join(",")+String(h);return this.dashEntry[p]||(this.dashEntry[p]=this.addDash(i,h)),this.dashEntry[p]}getDashRanges(i,h,p){const y=[];let b=i.length%2==1?-i[i.length-1]*p:0,T=i[0]*p,k=!0;y.push({left:b,right:T,isDash:k,zeroLength:i[0]===0});let R=i[0];for(let B=1;B<i.length;B++){k=!k;const H=i[B];b=R*p,R+=H,T=R*p,y.push({left:b,right:T,isDash:k,zeroLength:H===0})}return y}addRoundDash(i,h,p){const y=h/2;for(let b=-p;b<=p;b++){const T=this.width*(this.nextRow+p+b);let k=0,R=i[k];for(let B=0;B<this.width;B++){B/R.right>1&&(R=i[++k]);const H=Math.abs(B-R.left),q=Math.abs(B-R.right),te=Math.min(H,q);let se;const ee=b/p*(y+1);if(R.isDash){const he=y-Math.abs(ee);se=Math.sqrt(te*te+he*he)}else se=y-Math.sqrt(te*te+ee*ee);this.data[T+B]=Math.max(0,Math.min(255,se+128))}}}addRegularDash(i){for(let k=i.length-1;k>=0;--k){const R=i[k],B=i[k+1];R.zeroLength?i.splice(k,1):B&&B.isDash===R.isDash&&(B.left=R.left,i.splice(k,1))}const h=i[0],p=i[i.length-1];h.isDash===p.isDash&&(h.left=p.left-this.width,p.right=h.right+this.width);const y=this.width*this.nextRow;let b=0,T=i[b];for(let k=0;k<this.width;k++){k/T.right>1&&(T=i[++b]);const R=Math.abs(k-T.left),B=Math.abs(k-T.right),H=Math.min(R,B);this.data[y+k]=Math.max(0,Math.min(255,(T.isDash?H:-H)+128))}}addDash(i,h){const p=h?7:0,y=2*p+1;if(this.nextRow+y>this.height)return l.w("LineAtlas out of space"),null;let b=0;for(let k=0;k<i.length;k++)b+=i[k];if(b!==0){const k=this.width/b,R=this.getDashRanges(i,this.width,k);h?this.addRoundDash(R,k,p):this.addRegularDash(R)}const T={y:(this.nextRow+p+.5)/this.height,height:2*p/this.height,width:b};return this.nextRow+=y,this.dirty=!0,T}bind(i){const h=i.gl;this.texture?(h.bindTexture(h.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,h.texSubImage2D(h.TEXTURE_2D,0,0,0,this.width,this.height,h.ALPHA,h.UNSIGNED_BYTE,this.data))):(this.texture=h.createTexture(),h.bindTexture(h.TEXTURE_2D,this.texture),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.REPEAT),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.REPEAT),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.LINEAR),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.LINEAR),h.texImage2D(h.TEXTURE_2D,0,h.ALPHA,this.width,this.height,0,h.ALPHA,h.UNSIGNED_BYTE,this.data))}}const we="maplibre_preloaded_worker_pool";class Ie{constructor(){this.active={}}acquire(i){if(!this.workers)for(this.workers=[];this.workers.length<Ie.workerCount;)this.workers.push(new Worker(l.a.WORKER_URL));return this.active[i]=!0,this.workers.slice()}release(i){delete this.active[i],this.numActive()===0&&(this.workers.forEach(h=>{h.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[we]}numActive(){return Object.keys(this.active).length}}const Me=Math.floor(w.hardwareConcurrency/2);let tt,Ue;function qe(){return tt||(tt=new Ie),tt}Ie.workerCount=l.C(globalThis)?Math.max(Math.min(Me,3),1):1;class lt{constructor(i,h){this.workerPool=i,this.actors=[],this.currentActor=0,this.id=h;const p=this.workerPool.acquire(h);for(let y=0;y<p.length;y++){const b=new l.F(p[y],h);b.name=`Worker ${y}`,this.actors.push(b)}if(!this.actors.length)throw new Error("No actors found")}broadcast(i,h){const p=[];for(const y of this.actors)p.push(y.sendAsync({type:i,data:h}));return Promise.all(p)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(i=!0){this.actors.forEach(h=>{h.remove()}),this.actors=[],i&&this.workerPool.release(this.id)}registerMessageHandler(i,h){for(const p of this.actors)p.registerMessageHandler(i,h)}}function pt(){return Ue||(Ue=new lt(qe(),l.G),Ue.registerMessageHandler("GR",(g,i,h)=>l.m(i,h))),Ue}function Et(g,i){const h=l.H();return l.J(h,h,[1,1,0]),l.K(h,h,[.5*g.width,.5*g.height,1]),l.L(h,h,g.calculatePosMatrix(i.toUnwrapped()))}function St(g,i,h,p,y,b){const T=function(q,te,se){if(q)for(const ee of q){const he=te[ee];if(he&&he.source===se&&he.type==="fill-extrusion")return!0}else for(const ee in te){const he=te[ee];if(he.source===se&&he.type==="fill-extrusion")return!0}return!1}(y&&y.layers,i,g.id),k=b.maxPitchScaleFactor(),R=g.tilesIn(p,k,T);R.sort(kt);const B=[];for(const q of R)B.push({wrappedTileID:q.tileID.wrapped().key,queryResults:q.tile.queryRenderedFeatures(i,h,g._state,q.queryGeometry,q.cameraQueryGeometry,q.scale,y,b,k,Et(g.transform,q.tileID))});const H=function(q){const te={},se={};for(const ee of q){const he=ee.queryResults,Se=ee.wrappedTileID,Ee=se[Se]=se[Se]||{};for(const ke in he){const Te=he[ke],Fe=Ee[ke]=Ee[ke]||{},Xe=te[ke]=te[ke]||[];for(const Ge of Te)Fe[Ge.featureIndex]||(Fe[Ge.featureIndex]=!0,Xe.push(Ge))}}return te}(B);for(const q in H)H[q].forEach(te=>{const se=te.feature,ee=g.getFeatureState(se.layer["source-layer"],se.id);se.source=se.layer.source,se.layer["source-layer"]&&(se.sourceLayer=se.layer["source-layer"]),se.state=ee});return H}function kt(g,i){const h=g.tileID,p=i.tileID;return h.overscaledZ-p.overscaledZ||h.canonical.y-p.canonical.y||h.wrap-p.wrap||h.canonical.x-p.canonical.x}function ct(g,i,h){return l._(this,void 0,void 0,function*(){let p=g;if(g.url?p=(yield l.h(i.transformRequest(g.url,"Source"),h)).data:yield w.frameAsync(h),!p)return null;const y=l.M(l.e(p,g),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in p&&p.vector_layers&&(y.vectorLayerIds=p.vector_layers.map(b=>b.id)),y})}class de{constructor(i,h){i&&(h?this.setSouthWest(i).setNorthEast(h):Array.isArray(i)&&(i.length===4?this.setSouthWest([i[0],i[1]]).setNorthEast([i[2],i[3]]):this.setSouthWest(i[0]).setNorthEast(i[1])))}setNorthEast(i){return this._ne=i instanceof l.N?new l.N(i.lng,i.lat):l.N.convert(i),this}setSouthWest(i){return this._sw=i instanceof l.N?new l.N(i.lng,i.lat):l.N.convert(i),this}extend(i){const h=this._sw,p=this._ne;let y,b;if(i instanceof l.N)y=i,b=i;else{if(!(i instanceof de))return Array.isArray(i)?i.length===4||i.every(Array.isArray)?this.extend(de.convert(i)):this.extend(l.N.convert(i)):i&&("lng"in i||"lon"in i)&&"lat"in i?this.extend(l.N.convert(i)):this;if(y=i._sw,b=i._ne,!y||!b)return this}return h||p?(h.lng=Math.min(y.lng,h.lng),h.lat=Math.min(y.lat,h.lat),p.lng=Math.max(b.lng,p.lng),p.lat=Math.max(b.lat,p.lat)):(this._sw=new l.N(y.lng,y.lat),this._ne=new l.N(b.lng,b.lat)),this}getCenter(){return new l.N((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new l.N(this.getWest(),this.getNorth())}getSouthEast(){return new l.N(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(i){const{lng:h,lat:p}=l.N.convert(i);let y=this._sw.lng<=h&&h<=this._ne.lng;return this._sw.lng>this._ne.lng&&(y=this._sw.lng>=h&&h>=this._ne.lng),this._sw.lat<=p&&p<=this._ne.lat&&y}static convert(i){return i instanceof de?i:i&&new de(i)}static fromLngLat(i,h=0){const p=360*h/40075017,y=p/Math.cos(Math.PI/180*i.lat);return new de(new l.N(i.lng-y,i.lat-p),new l.N(i.lng+y,i.lat+p))}adjustAntiMeridian(){const i=new l.N(this._sw.lng,this._sw.lat),h=new l.N(this._ne.lng,this._ne.lat);return new de(i,i.lng>h.lng?new l.N(h.lng+360,h.lat):h)}}class hr{constructor(i,h,p){this.bounds=de.convert(this.validateBounds(i)),this.minzoom=h||0,this.maxzoom=p||24}validateBounds(i){return Array.isArray(i)&&i.length===4?[Math.max(-180,i[0]),Math.max(-90,i[1]),Math.min(180,i[2]),Math.min(90,i[3])]:[-180,-90,180,90]}contains(i){const h=Math.pow(2,i.z),p=Math.floor(l.O(this.bounds.getWest())*h),y=Math.floor(l.Q(this.bounds.getNorth())*h),b=Math.ceil(l.O(this.bounds.getEast())*h),T=Math.ceil(l.Q(this.bounds.getSouth())*h);return i.x>=p&&i.x<b&&i.y>=y&&i.y<T}}class Kt extends l.E{constructor(i,h,p,y){if(super(),this.id=i,this.dispatcher=p,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,l.e(this,l.M(h,["url","scheme","tileSize","promoteId"])),this._options=l.e({type:"vector"},h),this._collectResourceTiming=h.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(y)}load(){return l._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new l.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const i=yield ct(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),i&&(l.e(this,i),i.bounds&&(this.tileBounds=new hr(i.bounds,this.minzoom,this.maxzoom)),this.fire(new l.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new l.k("data",{dataType:"source",sourceDataType:"content"})))}catch(i){this._tileJSONRequest=null,this.fire(new l.j(i))}})}loaded(){return this._loaded}hasTile(i){return!this.tileBounds||this.tileBounds.contains(i.canonical)}onAdd(i){this.map=i,this.load()}setSourceProperty(i){this._tileJSONRequest&&this._tileJSONRequest.abort(),i(),this.load()}setTiles(i){return this.setSourceProperty(()=>{this._options.tiles=i}),this}setUrl(i){return this.setSourceProperty(()=>{this.url=i,this._options.url=i}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return l.e({},this._options)}loadTile(i){return l._(this,void 0,void 0,function*(){const h=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),p={request:this.map._requestManager.transformRequest(h,"Tile"),uid:i.uid,tileID:i.tileID,zoom:i.tileID.overscaledZ,tileSize:this.tileSize*i.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};p.request.collectResourceTiming=this._collectResourceTiming;let y="RT";if(i.actor&&i.state!=="expired"){if(i.state==="loading")return new Promise((b,T)=>{i.reloadPromise={resolve:b,reject:T}})}else i.actor=this.dispatcher.getActor(),y="LT";i.abortController=new AbortController;try{const b=yield i.actor.sendAsync({type:y,data:p},i.abortController);if(delete i.abortController,i.aborted)return;this._afterTileLoadWorkerResponse(i,b)}catch(b){if(delete i.abortController,i.aborted)return;if(b&&b.status!==404)throw b;this._afterTileLoadWorkerResponse(i,null)}})}_afterTileLoadWorkerResponse(i,h){if(h&&h.resourceTiming&&(i.resourceTiming=h.resourceTiming),h&&this.map._refreshExpiredTiles&&i.setExpiryData(h),i.loadVectorData(h,this.map.painter),i.reloadPromise){const p=i.reloadPromise;i.reloadPromise=null,this.loadTile(i).then(p.resolve).catch(p.reject)}}abortTile(i){return l._(this,void 0,void 0,function*(){i.abortController&&(i.abortController.abort(),delete i.abortController),i.actor&&(yield i.actor.sendAsync({type:"AT",data:{uid:i.uid,type:this.type,source:this.id}}))})}unloadTile(i){return l._(this,void 0,void 0,function*(){i.unloadVectorData(),i.actor&&(yield i.actor.sendAsync({type:"RMT",data:{uid:i.uid,type:this.type,source:this.id}}))})}hasTransition(){return!1}}class bt extends l.E{constructor(i,h,p,y){super(),this.id=i,this.dispatcher=p,this.setEventedParent(y),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=l.e({type:"raster"},h),l.e(this,l.M(h,["url","scheme","tileSize"]))}load(){return l._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new l.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const i=yield ct(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,i&&(l.e(this,i),i.bounds&&(this.tileBounds=new hr(i.bounds,this.minzoom,this.maxzoom)),this.fire(new l.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new l.k("data",{dataType:"source",sourceDataType:"content"})))}catch(i){this._tileJSONRequest=null,this.fire(new l.j(i))}})}loaded(){return this._loaded}onAdd(i){this.map=i,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(i){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),i(),this.load()}setTiles(i){return this.setSourceProperty(()=>{this._options.tiles=i}),this}setUrl(i){return this.setSourceProperty(()=>{this.url=i,this._options.url=i}),this}serialize(){return l.e({},this._options)}hasTile(i){return!this.tileBounds||this.tileBounds.contains(i.canonical)}loadTile(i){return l._(this,void 0,void 0,function*(){const h=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);i.abortController=new AbortController;try{const p=yield V.getImage(this.map._requestManager.transformRequest(h,"Tile"),i.abortController,this.map._refreshExpiredTiles);if(delete i.abortController,i.aborted)return void(i.state="unloaded");if(p&&p.data){this.map._refreshExpiredTiles&&p.cacheControl&&p.expires&&i.setExpiryData({cacheControl:p.cacheControl,expires:p.expires});const y=this.map.painter.context,b=y.gl,T=p.data;i.texture=this.map.painter.getTileTexture(T.width),i.texture?i.texture.update(T,{useMipmap:!0}):(i.texture=new X(y,T,b.RGBA,{useMipmap:!0}),i.texture.bind(b.LINEAR,b.CLAMP_TO_EDGE,b.LINEAR_MIPMAP_NEAREST)),i.state="loaded"}}catch(p){if(delete i.abortController,i.aborted)i.state="unloaded";else if(p)throw i.state="errored",p}})}abortTile(i){return l._(this,void 0,void 0,function*(){i.abortController&&(i.abortController.abort(),delete i.abortController)})}unloadTile(i){return l._(this,void 0,void 0,function*(){i.texture&&this.map.painter.saveTileTexture(i.texture)})}hasTransition(){return!1}}class Pt extends bt{constructor(i,h,p,y){super(i,h,p,y),this.type="raster-dem",this.maxzoom=22,this._options=l.e({type:"raster-dem"},h),this.encoding=h.encoding||"mapbox",this.redFactor=h.redFactor,this.greenFactor=h.greenFactor,this.blueFactor=h.blueFactor,this.baseShift=h.baseShift}loadTile(i){return l._(this,void 0,void 0,function*(){const h=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),p=this.map._requestManager.transformRequest(h,"Tile");i.neighboringTiles=this._getNeighboringTiles(i.tileID),i.abortController=new AbortController;try{const y=yield V.getImage(p,i.abortController,this.map._refreshExpiredTiles);if(delete i.abortController,i.aborted)return void(i.state="unloaded");if(y&&y.data){const b=y.data;this.map._refreshExpiredTiles&&y.cacheControl&&y.expires&&i.setExpiryData({cacheControl:y.cacheControl,expires:y.expires});const T=l.b(b)&&l.U()?b:yield this.readImageNow(b),k={type:this.type,uid:i.uid,source:this.id,rawImageData:T,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!i.actor||i.state==="expired"){i.actor=this.dispatcher.getActor();const R=yield i.actor.sendAsync({type:"LDT",data:k});i.dem=R,i.needsHillshadePrepare=!0,i.needsTerrainPrepare=!0,i.state="loaded"}}}catch(y){if(delete i.abortController,i.aborted)i.state="unloaded";else if(y)throw i.state="errored",y}})}readImageNow(i){return l._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&l.V()){const h=i.width+2,p=i.height+2;try{return new l.R({width:h,height:p},yield l.W(i,-1,-1,h,p))}catch{}}return w.getImageData(i,1)})}_getNeighboringTiles(i){const h=i.canonical,p=Math.pow(2,h.z),y=(h.x-1+p)%p,b=h.x===0?i.wrap-1:i.wrap,T=(h.x+1+p)%p,k=h.x+1===p?i.wrap+1:i.wrap,R={};return R[new l.S(i.overscaledZ,b,h.z,y,h.y).key]={backfilled:!1},R[new l.S(i.overscaledZ,k,h.z,T,h.y).key]={backfilled:!1},h.y>0&&(R[new l.S(i.overscaledZ,b,h.z,y,h.y-1).key]={backfilled:!1},R[new l.S(i.overscaledZ,i.wrap,h.z,h.x,h.y-1).key]={backfilled:!1},R[new l.S(i.overscaledZ,k,h.z,T,h.y-1).key]={backfilled:!1}),h.y+1<p&&(R[new l.S(i.overscaledZ,b,h.z,y,h.y+1).key]={backfilled:!1},R[new l.S(i.overscaledZ,i.wrap,h.z,h.x,h.y+1).key]={backfilled:!1},R[new l.S(i.overscaledZ,k,h.z,T,h.y+1).key]={backfilled:!1}),R}unloadTile(i){return l._(this,void 0,void 0,function*(){i.demTexture&&this.map.painter.saveTileTexture(i.demTexture),i.fbo&&(i.fbo.destroy(),delete i.fbo),i.dem&&delete i.dem,delete i.neighboringTiles,i.state="unloaded",i.actor&&(yield i.actor.sendAsync({type:"RDT",data:{type:this.type,uid:i.uid,source:this.id}}))})}}class Ot extends l.E{constructor(i,h,p,y){super(),this.id=i,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=p.getActor(),this.setEventedParent(y),this._data=h.data,this._options=l.e({},h),this._collectResourceTiming=h.collectResourceTiming,h.maxzoom!==void 0&&(this.maxzoom=h.maxzoom),h.type&&(this.type=h.type),h.attribution&&(this.attribution=h.attribution),this.promoteId=h.promoteId;const b=l.X/this.tileSize;h.clusterMaxZoom!==void 0&&this.maxzoom<=h.clusterMaxZoom&&l.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${h.clusterMaxZoom}".`),this.workerOptions=l.e({source:this.id,cluster:h.cluster||!1,geojsonVtOptions:{buffer:(h.buffer!==void 0?h.buffer:128)*b,tolerance:(h.tolerance!==void 0?h.tolerance:.375)*b,extent:l.X,maxZoom:this.maxzoom,lineMetrics:h.lineMetrics||!1,generateId:h.generateId||!1},superclusterOptions:{maxZoom:h.clusterMaxZoom!==void 0?h.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,h.clusterMinPoints||2),extent:l.X,radius:(h.clusterRadius||50)*b,log:!1,generateId:h.generateId||!1},clusterProperties:h.clusterProperties,filter:h.filter},h.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}load(){return l._(this,void 0,void 0,function*(){yield this._updateWorkerData()})}onAdd(i){this.map=i,this.load()}setData(i){return this._data=i,this._updateWorkerData(),this}updateData(i){return this._updateWorkerData(i),this}getData(){return l._(this,void 0,void 0,function*(){const i=l.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:i})})}setClusterOptions(i){return this.workerOptions.cluster=i.cluster,i&&(i.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=i.clusterRadius),i.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=i.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(i){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:i,source:this.id}})}getClusterChildren(i){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:i,source:this.id}})}getClusterLeaves(i,h,p){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:i,limit:h,offset:p}})}_updateWorkerData(i){return l._(this,void 0,void 0,function*(){const h=l.e({type:this.type},this.workerOptions);i?h.dataDiff=i:typeof this._data=="string"?(h.request=this.map._requestManager.transformRequest(w.resolveURL(this._data),"Source"),h.request.collectResourceTiming=this._collectResourceTiming):h.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new l.k("dataloading",{dataType:"source"}));try{const p=yield this.actor.sendAsync({type:"LD",data:h});if(this._pendingLoads--,this._removed||p.abandoned)return void this.fire(new l.k("dataabort",{dataType:"source"}));let y=null;p.resourceTiming&&p.resourceTiming[this.id]&&(y=p.resourceTiming[this.id].slice(0));const b={dataType:"source"};this._collectResourceTiming&&y&&y.length>0&&l.e(b,{resourceTiming:y}),this.fire(new l.k("data",Object.assign(Object.assign({},b),{sourceDataType:"metadata"}))),this.fire(new l.k("data",Object.assign(Object.assign({},b),{sourceDataType:"content"})))}catch(p){if(this._pendingLoads--,this._removed)return void this.fire(new l.k("dataabort",{dataType:"source"}));this.fire(new l.j(p))}})}loaded(){return this._pendingLoads===0}loadTile(i){return l._(this,void 0,void 0,function*(){const h=i.actor?"RT":"LT";i.actor=this.actor;const p={type:this.type,uid:i.uid,tileID:i.tileID,zoom:i.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};i.abortController=new AbortController;const y=yield this.actor.sendAsync({type:h,data:p},i.abortController);delete i.abortController,i.unloadVectorData(),i.aborted||i.loadVectorData(y,this.map.painter,h==="RT")})}abortTile(i){return l._(this,void 0,void 0,function*(){i.abortController&&(i.abortController.abort(),delete i.abortController),i.aborted=!0})}unloadTile(i){return l._(this,void 0,void 0,function*(){i.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:i.uid,type:this.type,source:this.id}})})}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return l.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}var Gt=l.Y([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class It extends l.E{constructor(i,h,p,y){super(),this.id=i,this.dispatcher=p,this.coordinates=h.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(y),this.options=h}load(i){return l._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new l.k("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{const h=yield V.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,h&&h.data&&(this.image=h.data,i&&(this.coordinates=i),this._finishLoading())}catch(h){this._request=null,this._loaded=!0,this.fire(new l.j(h))}})}loaded(){return this._loaded}updateImage(i){return i.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=i.url,this.load(i.coordinates).finally(()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new l.k("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(i){this.map=i,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(i){this.coordinates=i;const h=i.map(l.Z.fromLngLat);this.tileID=function(y){let b=1/0,T=1/0,k=-1/0,R=-1/0;for(const te of y)b=Math.min(b,te.x),T=Math.min(T,te.y),k=Math.max(k,te.x),R=Math.max(R,te.y);const B=Math.max(k-b,R-T),H=Math.max(0,Math.floor(-Math.log(B)/Math.LN2)),q=Math.pow(2,H);return new l.a1(H,Math.floor((b+k)/2*q),Math.floor((T+R)/2*q))}(h),this.minzoom=this.maxzoom=this.tileID.z;const p=h.map(y=>this.tileID.getTilePoint(y)._round());return this._boundsArray=new l.$,this._boundsArray.emplaceBack(p[0].x,p[0].y,0,0),this._boundsArray.emplaceBack(p[1].x,p[1].y,l.X,0),this._boundsArray.emplaceBack(p[3].x,p[3].y,0,l.X),this._boundsArray.emplaceBack(p[2].x,p[2].y,l.X,l.X),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new l.k("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const i=this.map.painter.context,h=i.gl;this.boundsBuffer||(this.boundsBuffer=i.createVertexBuffer(this._boundsArray,Gt.members)),this.boundsSegments||(this.boundsSegments=l.a0.simpleSegment(0,0,4,2)),this.texture||(this.texture=new X(i,this.image,h.RGBA),this.texture.bind(h.LINEAR,h.CLAMP_TO_EDGE));let p=!1;for(const y in this.tiles){const b=this.tiles[y];b.state!=="loaded"&&(b.state="loaded",b.texture=this.texture,p=!0)}p&&this.fire(new l.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(i){return l._(this,void 0,void 0,function*(){this.tileID&&this.tileID.equals(i.tileID.canonical)?(this.tiles[String(i.tileID.wrap)]=i,i.buckets={}):i.state="errored"})}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}class ir extends It{constructor(i,h,p,y){super(i,h,p,y),this.roundZoom=!0,this.type="video",this.options=h}load(){return l._(this,void 0,void 0,function*(){this._loaded=!1;const i=this.options;this.urls=[];for(const h of i.urls)this.urls.push(this.map._requestManager.transformRequest(h,"Source").url);try{const h=yield l.a3(this.urls);if(this._loaded=!0,!h)return;this.video=h,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading()}catch(h){this.fire(new l.j(h))}})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(i){if(this.video){const h=this.video.seekable;i<h.start(0)||i>h.end(0)?this.fire(new l.j(new l.a2(`sources.${this.id}`,null,`Playback for this video can be set only between the ${h.start(0)} and ${h.end(0)}-second mark.`))):this.video.currentTime=i}}getVideo(){return this.video}onAdd(i){this.map||(this.map=i,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const i=this.map.painter.context,h=i.gl;this.boundsBuffer||(this.boundsBuffer=i.createVertexBuffer(this._boundsArray,Gt.members)),this.boundsSegments||(this.boundsSegments=l.a0.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(h.LINEAR,h.CLAMP_TO_EDGE),h.texSubImage2D(h.TEXTURE_2D,0,0,0,h.RGBA,h.UNSIGNED_BYTE,this.video)):(this.texture=new X(i,this.video,h.RGBA),this.texture.bind(h.LINEAR,h.CLAMP_TO_EDGE));let p=!1;for(const y in this.tiles){const b=this.tiles[y];b.state!=="loaded"&&(b.state="loaded",b.texture=this.texture,p=!0)}p&&this.fire(new l.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class vr extends It{constructor(i,h,p,y){super(i,h,p,y),h.coordinates?Array.isArray(h.coordinates)&&h.coordinates.length===4&&!h.coordinates.some(b=>!Array.isArray(b)||b.length!==2||b.some(T=>typeof T!="number"))||this.fire(new l.j(new l.a2(`sources.${i}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new l.j(new l.a2(`sources.${i}`,null,'missing required property "coordinates"'))),h.animate&&typeof h.animate!="boolean"&&this.fire(new l.j(new l.a2(`sources.${i}`,null,'optional "animate" property must be a boolean value'))),h.canvas?typeof h.canvas=="string"||h.canvas instanceof HTMLCanvasElement||this.fire(new l.j(new l.a2(`sources.${i}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new l.j(new l.a2(`sources.${i}`,null,'missing required property "canvas"'))),this.options=h,this.animate=h.animate===void 0||h.animate}load(){return l._(this,void 0,void 0,function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new l.j(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())})}getCanvas(){return this.canvas}onAdd(i){this.map=i,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let i=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,i=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,i=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const h=this.map.painter.context,p=h.gl;this.boundsBuffer||(this.boundsBuffer=h.createVertexBuffer(this._boundsArray,Gt.members)),this.boundsSegments||(this.boundsSegments=l.a0.simpleSegment(0,0,4,2)),this.texture?(i||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new X(h,this.canvas,p.RGBA,{premultiply:!0});let y=!1;for(const b in this.tiles){const T=this.tiles[b];T.state!=="loaded"&&(T.state="loaded",T.texture=this.texture,y=!0)}y&&this.fire(new l.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const i of[this.canvas.width,this.canvas.height])if(isNaN(i)||i<=0)return!0;return!1}}const Pr={},Vr=g=>{switch(g){case"geojson":return Ot;case"image":return It;case"raster":return bt;case"raster-dem":return Pt;case"vector":return Kt;case"video":return ir;case"canvas":return vr}return Pr[g]},Ze="RTLPluginLoaded";class mt extends l.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=pt()}_syncState(i){return this.status=i,this.dispatcher.broadcast("SRPS",{pluginStatus:i,pluginURL:this.url}).catch(h=>{throw this.status="error",h})}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(i){return l._(this,arguments,void 0,function*(h,p=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=w.resolveURL(h),!this.url)throw new Error(`requested url ${h} is invalid`);if(this.status==="unavailable"){if(!p)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()})}_requestImport(){return l._(this,void 0,void 0,function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new l.k(Ze))})}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let Rt=null;function Lt(){return Rt||(Rt=new mt),Rt}class Br{constructor(i,h){this.timeAdded=0,this.fadeEndTime=0,this.tileID=i,this.uid=l.a4(),this.uses=0,this.tileSize=h,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(i){const h=i+this.timeAdded;h<this.fadeEndTime||(this.fadeEndTime=h)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(i){this.demTexture&&i.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(i,h,p){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",i){i.featureIndex&&(this.latestFeatureIndex=i.featureIndex,i.rawTileData?(this.latestRawTileData=i.rawTileData,this.latestFeatureIndex.rawTileData=i.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=i.collisionBoxArray,this.buckets=function(y,b){const T={};if(!b)return T;for(const k of y){const R=k.layerIds.map(B=>b.getLayer(B)).filter(Boolean);if(R.length!==0){k.layers=R,k.stateDependentLayerIds&&(k.stateDependentLayers=k.stateDependentLayerIds.map(B=>R.filter(H=>H.id===B)[0]));for(const B of R)T[B.id]=k}}return T}(i.buckets,h.style),this.hasSymbolBuckets=!1;for(const y in this.buckets){const b=this.buckets[y];if(b instanceof l.a6){if(this.hasSymbolBuckets=!0,!p)break;b.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const y in this.buckets){const b=this.buckets[y];if(b instanceof l.a6&&b.hasRTLText){this.hasRTLText=!0,Lt().lazyLoad();break}}this.queryPadding=0;for(const y in this.buckets){const b=this.buckets[y];this.queryPadding=Math.max(this.queryPadding,h.style.getLayer(y).queryRadius(b))}i.imageAtlas&&(this.imageAtlas=i.imageAtlas),i.glyphAtlasImage&&(this.glyphAtlasImage=i.glyphAtlasImage)}else this.collisionBoxArray=new l.a5}unloadVectorData(){for(const i in this.buckets)this.buckets[i].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(i){return this.buckets[i.id]}upload(i){for(const p in this.buckets){const y=this.buckets[p];y.uploadPending()&&y.upload(i)}const h=i.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new X(i,this.imageAtlas.image,h.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new X(i,this.glyphAtlasImage,h.ALPHA),this.glyphAtlasImage=null)}prepare(i){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(i,this.imageAtlasTexture)}queryRenderedFeatures(i,h,p,y,b,T,k,R,B,H){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:y,cameraQueryGeometry:b,scale:T,tileSize:this.tileSize,pixelPosMatrix:H,transform:R,params:k,queryPadding:this.queryPadding*B},i,h,p):{}}querySourceFeatures(i,h){const p=this.latestFeatureIndex;if(!p||!p.rawTileData)return;const y=p.loadVTLayers(),b=h&&h.sourceLayer?h.sourceLayer:"",T=y._geojsonTileLayer||y[b];if(!T)return;const k=l.a7(h&&h.filter),{z:R,x:B,y:H}=this.tileID.canonical,q={z:R,x:B,y:H};for(let te=0;te<T.length;te++){const se=T.feature(te);if(k.needGeometry){const Se=l.a8(se,!0);if(!k.filter(new l.z(this.tileID.overscaledZ),Se,this.tileID.canonical))continue}else if(!k.filter(new l.z(this.tileID.overscaledZ),se))continue;const ee=p.getId(se,b),he=new l.a9(se,R,B,H,ee);he.tile=q,i.push(he)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(i){const h=this.expirationTime;if(i.cacheControl){const p=l.aa(i.cacheControl);p["max-age"]&&(this.expirationTime=Date.now()+1e3*p["max-age"])}else i.expires&&(this.expirationTime=new Date(i.expires).getTime());if(this.expirationTime){const p=Date.now();let y=!1;if(this.expirationTime>p)y=!1;else if(h)if(this.expirationTime<h)y=!0;else{const b=this.expirationTime-h;b?this.expirationTime=p+Math.max(b,3e4):y=!0}else y=!0;y?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(i,h){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(i).length===0)return;const p=this.latestFeatureIndex.loadVTLayers();for(const y in this.buckets){if(!h.style.hasLayer(y))continue;const b=this.buckets[y],T=b.layers[0].sourceLayer||"_geojsonTileLayer",k=p[T],R=i[T];if(!k||!R||Object.keys(R).length===0)continue;b.update(R,k,this.imageAtlas&&this.imageAtlas.patternPositions||{});const B=h&&h.style&&h.style.getLayer(y);B&&(this.queryPadding=Math.max(this.queryPadding,B.queryRadius(b)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<w.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(i){this.symbolFadeHoldUntil=w.now()+i}setDependencies(i,h){const p={};for(const y of h)p[y]=!0;this.dependencies[i]=p}hasDependency(i,h){for(const p of i){const y=this.dependencies[p];if(y){for(const b of h)if(y[b])return!0}}return!1}}class rt{constructor(i,h){this.max=i,this.onRemove=h,this.reset()}reset(){for(const i in this.data)for(const h of this.data[i])h.timeout&&clearTimeout(h.timeout),this.onRemove(h.value);return this.data={},this.order=[],this}add(i,h,p){const y=i.wrapped().key;this.data[y]===void 0&&(this.data[y]=[]);const b={value:h,timeout:void 0};if(p!==void 0&&(b.timeout=setTimeout(()=>{this.remove(i,b)},p)),this.data[y].push(b),this.order.push(y),this.order.length>this.max){const T=this._getAndRemoveByKey(this.order[0]);T&&this.onRemove(T)}return this}has(i){return i.wrapped().key in this.data}getAndRemove(i){return this.has(i)?this._getAndRemoveByKey(i.wrapped().key):null}_getAndRemoveByKey(i){const h=this.data[i].shift();return h.timeout&&clearTimeout(h.timeout),this.data[i].length===0&&delete this.data[i],this.order.splice(this.order.indexOf(i),1),h.value}getByKey(i){const h=this.data[i];return h?h[0].value:null}get(i){return this.has(i)?this.data[i.wrapped().key][0].value:null}remove(i,h){if(!this.has(i))return this;const p=i.wrapped().key,y=h===void 0?0:this.data[p].indexOf(h),b=this.data[p][y];return this.data[p].splice(y,1),b.timeout&&clearTimeout(b.timeout),this.data[p].length===0&&delete this.data[p],this.onRemove(b.value),this.order.splice(this.order.indexOf(p),1),this}setMaxSize(i){for(this.max=i;this.order.length>this.max;){const h=this._getAndRemoveByKey(this.order[0]);h&&this.onRemove(h)}return this}filter(i){const h=[];for(const p in this.data)for(const y of this.data[p])i(y.value)||h.push(y);for(const p of h)this.remove(p.value.tileID,p)}}class Qt{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(i,h,p){const y=String(h);if(this.stateChanges[i]=this.stateChanges[i]||{},this.stateChanges[i][y]=this.stateChanges[i][y]||{},l.e(this.stateChanges[i][y],p),this.deletedStates[i]===null){this.deletedStates[i]={};for(const b in this.state[i])b!==y&&(this.deletedStates[i][b]=null)}else if(this.deletedStates[i]&&this.deletedStates[i][y]===null){this.deletedStates[i][y]={};for(const b in this.state[i][y])p[b]||(this.deletedStates[i][y][b]=null)}else for(const b in p)this.deletedStates[i]&&this.deletedStates[i][y]&&this.deletedStates[i][y][b]===null&&delete this.deletedStates[i][y][b]}removeFeatureState(i,h,p){if(this.deletedStates[i]===null)return;const y=String(h);if(this.deletedStates[i]=this.deletedStates[i]||{},p&&h!==void 0)this.deletedStates[i][y]!==null&&(this.deletedStates[i][y]=this.deletedStates[i][y]||{},this.deletedStates[i][y][p]=null);else if(h!==void 0)if(this.stateChanges[i]&&this.stateChanges[i][y])for(p in this.deletedStates[i][y]={},this.stateChanges[i][y])this.deletedStates[i][y][p]=null;else this.deletedStates[i][y]=null;else this.deletedStates[i]=null}getState(i,h){const p=String(h),y=l.e({},(this.state[i]||{})[p],(this.stateChanges[i]||{})[p]);if(this.deletedStates[i]===null)return{};if(this.deletedStates[i]){const b=this.deletedStates[i][h];if(b===null)return{};for(const T in b)delete y[T]}return y}initializeTileState(i,h){i.setFeatureState(this.state,h)}coalesceChanges(i,h){const p={};for(const y in this.stateChanges){this.state[y]=this.state[y]||{};const b={};for(const T in this.stateChanges[y])this.state[y][T]||(this.state[y][T]={}),l.e(this.state[y][T],this.stateChanges[y][T]),b[T]=this.state[y][T];p[y]=b}for(const y in this.deletedStates){this.state[y]=this.state[y]||{};const b={};if(this.deletedStates[y]===null)for(const T in this.state[y])b[T]={},this.state[y][T]={};else for(const T in this.deletedStates[y]){if(this.deletedStates[y][T]===null)this.state[y][T]={};else for(const k of Object.keys(this.deletedStates[y][T]))delete this.state[y][T][k];b[T]=this.state[y][T]}p[y]=p[y]||{},l.e(p[y],b)}if(this.stateChanges={},this.deletedStates={},Object.keys(p).length!==0)for(const y in i)i[y].setFeatureState(p,h)}}class Vt extends l.E{constructor(i,h,p){super(),this.id=i,this.dispatcher=p,this.on("data",y=>this._dataHandler(y)),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((y,b,T,k)=>{const R=new(Vr(b.type))(y,b,T,k);if(R.id!==y)throw new Error(`Expected Source id to be ${y} instead of ${R.id}`);return R})(i,h,p,this),this._tiles={},this._cache=new rt(0,y=>this._unloadTile(y)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Qt,this._didEmitContent=!1,this._updated=!1}onAdd(i){this.map=i,this._maxTileCacheSize=i?i._maxTileCacheSize:null,this._maxTileCacheZoomLevels=i?i._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(i)}onRemove(i){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(i)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const i in this._tiles){const h=this._tiles[i];if(h.state!=="loaded"&&h.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const i=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,i&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(i,h,p){return l._(this,void 0,void 0,function*(){try{yield this._source.loadTile(i),this._tileLoaded(i,h,p)}catch(y){i.state="errored",y.status!==404?this._source.fire(new l.j(y,{tile:i})):this.update(this.transform,this.terrain)}})}_unloadTile(i){this._source.unloadTile&&this._source.unloadTile(i)}_abortTile(i){this._source.abortTile&&this._source.abortTile(i),this._source.fire(new l.k("dataabort",{tile:i,coord:i.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(i){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const h in this._tiles){const p=this._tiles[h];p.upload(i),p.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(i=>i.tileID).sort(xr).map(i=>i.key)}getRenderableIds(i){const h=[];for(const p in this._tiles)this._isIdRenderable(p,i)&&h.push(this._tiles[p]);return i?h.sort((p,y)=>{const b=p.tileID,T=y.tileID,k=new l.P(b.canonical.x,b.canonical.y)._rotate(this.transform.angle),R=new l.P(T.canonical.x,T.canonical.y)._rotate(this.transform.angle);return b.overscaledZ-T.overscaledZ||R.y-k.y||R.x-k.x}).map(p=>p.tileID.key):h.map(p=>p.tileID).sort(xr).map(p=>p.key)}hasRenderableParent(i){const h=this.findLoadedParent(i,0);return!!h&&this._isIdRenderable(h.tileID.key)}_isIdRenderable(i,h){return this._tiles[i]&&this._tiles[i].hasData()&&!this._coveredTiles[i]&&(h||!this._tiles[i].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const i in this._tiles)this._tiles[i].state!=="errored"&&this._reloadTile(i,"reloading")}}_reloadTile(i,h){return l._(this,void 0,void 0,function*(){const p=this._tiles[i];p&&(p.state!=="loading"&&(p.state=h),yield this._loadTile(p,i,h))})}_tileLoaded(i,h,p){i.timeAdded=w.now(),p==="expired"&&(i.refreshedUponExpiration=!0),this._setTileReloadTimer(h,i),this.getSource().type==="raster-dem"&&i.dem&&this._backfillDEM(i),this._state.initializeTileState(i,this.map?this.map.painter:null),i.aborted||this._source.fire(new l.k("data",{dataType:"source",tile:i,coord:i.tileID}))}_backfillDEM(i){const h=this.getRenderableIds();for(let y=0;y<h.length;y++){const b=h[y];if(i.neighboringTiles&&i.neighboringTiles[b]){const T=this.getTileByID(b);p(i,T),p(T,i)}}function p(y,b){y.needsHillshadePrepare=!0,y.needsTerrainPrepare=!0;let T=b.tileID.canonical.x-y.tileID.canonical.x;const k=b.tileID.canonical.y-y.tileID.canonical.y,R=Math.pow(2,y.tileID.canonical.z),B=b.tileID.key;T===0&&k===0||Math.abs(k)>1||(Math.abs(T)>1&&(Math.abs(T+R)===1?T+=R:Math.abs(T-R)===1&&(T-=R)),b.dem&&y.dem&&(y.dem.backfillBorder(b.dem,T,k),y.neighboringTiles&&y.neighboringTiles[B]&&(y.neighboringTiles[B].backfilled=!0)))}}getTile(i){return this.getTileByID(i.key)}getTileByID(i){return this._tiles[i]}_retainLoadedChildren(i,h,p,y){for(const b in this._tiles){let T=this._tiles[b];if(y[b]||!T.hasData()||T.tileID.overscaledZ<=h||T.tileID.overscaledZ>p)continue;let k=T.tileID;for(;T&&T.tileID.overscaledZ>h+1;){const B=T.tileID.scaledTo(T.tileID.overscaledZ-1);T=this._tiles[B.key],T&&T.hasData()&&(k=B)}let R=k;for(;R.overscaledZ>h;)if(R=R.scaledTo(R.overscaledZ-1),i[R.key]){y[k.key]=k;break}}}findLoadedParent(i,h){if(i.key in this._loadedParentTiles){const p=this._loadedParentTiles[i.key];return p&&p.tileID.overscaledZ>=h?p:null}for(let p=i.overscaledZ-1;p>=h;p--){const y=i.scaledTo(p),b=this._getLoadedTile(y);if(b)return b}}findLoadedSibling(i){return this._getLoadedTile(i)}_getLoadedTile(i){const h=this._tiles[i.key];return h&&h.hasData()?h:this._cache.getByKey(i.wrapped().key)}updateCacheSize(i){const h=Math.ceil(i.width/this._source.tileSize)+1,p=Math.ceil(i.height/this._source.tileSize)+1,y=Math.floor(h*p*(this._maxTileCacheZoomLevels===null?l.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),b=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,y):y;this._cache.setMaxSize(b)}handleWrapJump(i){const h=Math.round((i-(this._prevLng===void 0?i:this._prevLng))/360);if(this._prevLng=i,h){const p={};for(const y in this._tiles){const b=this._tiles[y];b.tileID=b.tileID.unwrapTo(b.tileID.wrap+h),p[b.tileID.key]=b}this._tiles=p;for(const y in this._timers)clearTimeout(this._timers[y]),delete this._timers[y];for(const y in this._tiles)this._setTileReloadTimer(y,this._tiles[y])}}_updateCoveredAndRetainedTiles(i,h,p,y,b,T){const k={},R={},B=Object.keys(i),H=w.now();for(const q of B){const te=i[q],se=this._tiles[q];if(!se||se.fadeEndTime!==0&&se.fadeEndTime<=H)continue;const ee=this.findLoadedParent(te,h),he=this.findLoadedSibling(te),Se=ee||he||null;Se&&(this._addTile(Se.tileID),k[Se.tileID.key]=Se.tileID),R[q]=te}this._retainLoadedChildren(R,y,p,i);for(const q in k)i[q]||(this._coveredTiles[q]=!0,i[q]=k[q]);if(T){const q={},te={};for(const se of b)this._tiles[se.key].hasData()?q[se.key]=se:te[se.key]=se;for(const se in te){const ee=te[se].children(this._source.maxzoom);this._tiles[ee[0].key]&&this._tiles[ee[1].key]&&this._tiles[ee[2].key]&&this._tiles[ee[3].key]&&(q[ee[0].key]=i[ee[0].key]=ee[0],q[ee[1].key]=i[ee[1].key]=ee[1],q[ee[2].key]=i[ee[2].key]=ee[2],q[ee[3].key]=i[ee[3].key]=ee[3],delete te[se])}for(const se in te){const ee=te[se],he=this.findLoadedParent(ee,this._source.minzoom),Se=this.findLoadedSibling(ee),Ee=he||Se||null;if(Ee){q[Ee.tileID.key]=i[Ee.tileID.key]=Ee.tileID;for(const ke in q)q[ke].isChildOf(Ee.tileID)&&delete q[ke]}}for(const se in this._tiles)q[se]||(this._coveredTiles[se]=!0)}}update(i,h){if(!this._sourceLoaded||this._paused)return;let p;this.transform=i,this.terrain=h,this.updateCacheSize(i),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?p=i.getVisibleUnwrappedCoordinates(this._source.tileID).map(H=>new l.S(H.canonical.z,H.wrap,H.canonical.z,H.canonical.x,H.canonical.y)):(p=i.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:h}),this._source.hasTile&&(p=p.filter(H=>this._source.hasTile(H)))):p=[];const y=i.coveringZoomLevel(this._source),b=Math.max(y-Vt.maxOverzooming,this._source.minzoom),T=Math.max(y+Vt.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const H={};for(const q of p)if(q.canonical.z>this._source.minzoom){const te=q.scaledTo(q.canonical.z-1);H[te.key]=te;const se=q.scaledTo(Math.max(this._source.minzoom,Math.min(q.canonical.z,5)));H[se.key]=se}p=p.concat(Object.values(H))}const k=p.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,k&&this.fire(new l.k("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const R=this._updateRetainedTiles(p,y);rn(this._source.type)&&this._updateCoveredAndRetainedTiles(R,b,T,y,p,h);for(const H in R)this._tiles[H].clearFadeHold();const B=l.ab(this._tiles,R);for(const H of B){const q=this._tiles[H];q.hasSymbolBuckets&&!q.holdingForFade()?q.setHoldDuration(this.map._fadeDuration):q.hasSymbolBuckets&&!q.symbolFadeFinished()||this._removeTile(H)}this._updateLoadedParentTileCache(),this._updateLoadedSiblingTileCache()}releaseSymbolFadeTiles(){for(const i in this._tiles)this._tiles[i].holdingForFade()&&this._removeTile(i)}_updateRetainedTiles(i,h){var p;const y={},b={},T=Math.max(h-Vt.maxOverzooming,this._source.minzoom),k=Math.max(h+Vt.maxUnderzooming,this._source.minzoom),R={};for(const B of i){const H=this._addTile(B);y[B.key]=B,H.hasData()||h<this._source.maxzoom&&(R[B.key]=B)}this._retainLoadedChildren(R,h,k,y);for(const B of i){let H=this._tiles[B.key];if(H.hasData())continue;if(h+1>this._source.maxzoom){const te=B.children(this._source.maxzoom)[0],se=this.getTile(te);if(se&&se.hasData()){y[te.key]=te;continue}}else{const te=B.children(this._source.maxzoom);if(y[te[0].key]&&y[te[1].key]&&y[te[2].key]&&y[te[3].key])continue}let q=H.wasRequested();for(let te=B.overscaledZ-1;te>=T;--te){const se=B.scaledTo(te);if(b[se.key])break;if(b[se.key]=!0,H=this.getTile(se),!H&&q&&(H=this._addTile(se)),H){const ee=H.hasData();if((ee||!(!((p=this.map)===null||p===void 0)&&p.cancelPendingTileRequestsWhileZooming)||q)&&(y[se.key]=se),q=H.wasRequested(),ee)break}}}return y}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const i in this._tiles){const h=[];let p,y=this._tiles[i].tileID;for(;y.overscaledZ>0;){if(y.key in this._loadedParentTiles){p=this._loadedParentTiles[y.key];break}h.push(y.key);const b=y.scaledTo(y.overscaledZ-1);if(p=this._getLoadedTile(b),p)break;y=b}for(const b of h)this._loadedParentTiles[b]=p}}_updateLoadedSiblingTileCache(){this._loadedSiblingTiles={};for(const i in this._tiles){const h=this._tiles[i].tileID,p=this._getLoadedTile(h);this._loadedSiblingTiles[h.key]=p}}_addTile(i){let h=this._tiles[i.key];if(h)return h;h=this._cache.getAndRemove(i),h&&(this._setTileReloadTimer(i.key,h),h.tileID=i,this._state.initializeTileState(h,this.map?this.map.painter:null),this._cacheTimers[i.key]&&(clearTimeout(this._cacheTimers[i.key]),delete this._cacheTimers[i.key],this._setTileReloadTimer(i.key,h)));const p=h;return h||(h=new Br(i,this._source.tileSize*i.overscaleFactor()),this._loadTile(h,i.key,h.state)),h.uses++,this._tiles[i.key]=h,p||this._source.fire(new l.k("dataloading",{tile:h,coord:h.tileID,dataType:"source"})),h}_setTileReloadTimer(i,h){i in this._timers&&(clearTimeout(this._timers[i]),delete this._timers[i]);const p=h.getExpiryTimeout();p&&(this._timers[i]=setTimeout(()=>{this._reloadTile(i,"expired"),delete this._timers[i]},p))}_removeTile(i){const h=this._tiles[i];h&&(h.uses--,delete this._tiles[i],this._timers[i]&&(clearTimeout(this._timers[i]),delete this._timers[i]),h.uses>0||(h.hasData()&&h.state!=="reloading"?this._cache.add(h.tileID,h,h.getExpiryTimeout()):(h.aborted=!0,this._abortTile(h),this._unloadTile(h))))}_dataHandler(i){const h=i.sourceDataType;i.dataType==="source"&&h==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&i.dataType==="source"&&h==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const i in this._tiles)this._removeTile(i);this._cache.reset()}tilesIn(i,h,p){const y=[],b=this.transform;if(!b)return y;const T=p?b.getCameraQueryGeometry(i):i,k=i.map(ee=>b.pointCoordinate(ee,this.terrain)),R=T.map(ee=>b.pointCoordinate(ee,this.terrain)),B=this.getIds();let H=1/0,q=1/0,te=-1/0,se=-1/0;for(const ee of R)H=Math.min(H,ee.x),q=Math.min(q,ee.y),te=Math.max(te,ee.x),se=Math.max(se,ee.y);for(let ee=0;ee<B.length;ee++){const he=this._tiles[B[ee]];if(he.holdingForFade())continue;const Se=he.tileID,Ee=Math.pow(2,b.zoom-he.tileID.overscaledZ),ke=h*he.queryPadding*l.X/he.tileSize/Ee,Te=[Se.getTilePoint(new l.Z(H,q)),Se.getTilePoint(new l.Z(te,se))];if(Te[0].x-ke<l.X&&Te[0].y-ke<l.X&&Te[1].x+ke>=0&&Te[1].y+ke>=0){const Fe=k.map(Ge=>Se.getTilePoint(Ge)),Xe=R.map(Ge=>Se.getTilePoint(Ge));y.push({tile:he,tileID:Se,queryGeometry:Fe,cameraQueryGeometry:Xe,scale:Ee})}}return y}getVisibleCoordinates(i){const h=this.getRenderableIds(i).map(p=>this._tiles[p].tileID);for(const p of h)p.posMatrix=this.transform.calculatePosMatrix(p.toUnwrapped());return h}hasTransition(){if(this._source.hasTransition())return!0;if(rn(this._source.type)){const i=w.now();for(const h in this._tiles)if(this._tiles[h].fadeEndTime>=i)return!0}return!1}setFeatureState(i,h,p){this._state.updateState(i=i||"_geojsonTileLayer",h,p)}removeFeatureState(i,h,p){this._state.removeFeatureState(i=i||"_geojsonTileLayer",h,p)}getFeatureState(i,h){return this._state.getState(i=i||"_geojsonTileLayer",h)}setDependencies(i,h,p){const y=this._tiles[i];y&&y.setDependencies(h,p)}reloadTilesForDependencies(i,h){for(const p in this._tiles)this._tiles[p].hasDependency(i,h)&&this._reloadTile(p,"reloading");this._cache.filter(p=>!p.hasDependency(i,h))}}function xr(g,i){const h=Math.abs(2*g.wrap)-+(g.wrap<0),p=Math.abs(2*i.wrap)-+(i.wrap<0);return g.overscaledZ-i.overscaledZ||p-h||i.canonical.y-g.canonical.y||i.canonical.x-g.canonical.x}function rn(g){return g==="raster"||g==="image"||g==="video"}Vt.maxOverzooming=10,Vt.maxUnderzooming=3;class rr{constructor(i,h){this.reset(i,h)}reset(i,h){this.points=i||[],this._distances=[0];for(let p=1;p<this.points.length;p++)this._distances[p]=this._distances[p-1]+this.points[p].dist(this.points[p-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(h||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(i){if(this.points.length===1)return this.points[0];i=l.ac(i,0,1);let h=1,p=this._distances[h];const y=i*this.paddedLength+this.padding;for(;p<y&&h<this._distances.length;)p=this._distances[++h];const b=h-1,T=this._distances[b],k=p-T,R=k>0?(y-T)/k:0;return this.points[b].mult(1-R).add(this.points[h].mult(R))}}function ni(g,i){let h=!0;return g==="always"||g!=="never"&&i!=="never"||(h=!1),h}class Nn{constructor(i,h,p){const y=this.boxCells=[],b=this.circleCells=[];this.xCellCount=Math.ceil(i/p),this.yCellCount=Math.ceil(h/p);for(let T=0;T<this.xCellCount*this.yCellCount;T++)y.push([]),b.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=i,this.height=h,this.xScale=this.xCellCount/i,this.yScale=this.yCellCount/h,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(i,h,p,y,b){this._forEachCell(h,p,y,b,this._insertBoxCell,this.boxUid++),this.boxKeys.push(i),this.bboxes.push(h),this.bboxes.push(p),this.bboxes.push(y),this.bboxes.push(b)}insertCircle(i,h,p,y){this._forEachCell(h-y,p-y,h+y,p+y,this._insertCircleCell,this.circleUid++),this.circleKeys.push(i),this.circles.push(h),this.circles.push(p),this.circles.push(y)}_insertBoxCell(i,h,p,y,b,T){this.boxCells[b].push(T)}_insertCircleCell(i,h,p,y,b,T){this.circleCells[b].push(T)}_query(i,h,p,y,b,T,k){if(p<0||i>this.width||y<0||h>this.height)return[];const R=[];if(i<=0&&h<=0&&this.width<=p&&this.height<=y){if(b)return[{key:null,x1:i,y1:h,x2:p,y2:y}];for(let B=0;B<this.boxKeys.length;B++)R.push({key:this.boxKeys[B],x1:this.bboxes[4*B],y1:this.bboxes[4*B+1],x2:this.bboxes[4*B+2],y2:this.bboxes[4*B+3]});for(let B=0;B<this.circleKeys.length;B++){const H=this.circles[3*B],q=this.circles[3*B+1],te=this.circles[3*B+2];R.push({key:this.circleKeys[B],x1:H-te,y1:q-te,x2:H+te,y2:q+te})}}else this._forEachCell(i,h,p,y,this._queryCell,R,{hitTest:b,overlapMode:T,seenUids:{box:{},circle:{}}},k);return R}query(i,h,p,y){return this._query(i,h,p,y,!1,null)}hitTest(i,h,p,y,b,T){return this._query(i,h,p,y,!0,b,T).length>0}hitTestCircle(i,h,p,y,b){const T=i-p,k=i+p,R=h-p,B=h+p;if(k<0||T>this.width||B<0||R>this.height)return!1;const H=[];return this._forEachCell(T,R,k,B,this._queryCellCircle,H,{hitTest:!0,overlapMode:y,circle:{x:i,y:h,radius:p},seenUids:{box:{},circle:{}}},b),H.length>0}_queryCell(i,h,p,y,b,T,k,R){const{seenUids:B,hitTest:H,overlapMode:q}=k,te=this.boxCells[b];if(te!==null){const ee=this.bboxes;for(const he of te)if(!B.box[he]){B.box[he]=!0;const Se=4*he,Ee=this.boxKeys[he];if(i<=ee[Se+2]&&h<=ee[Se+3]&&p>=ee[Se+0]&&y>=ee[Se+1]&&(!R||R(Ee))&&(!H||!ni(q,Ee.overlapMode))&&(T.push({key:Ee,x1:ee[Se],y1:ee[Se+1],x2:ee[Se+2],y2:ee[Se+3]}),H))return!0}}const se=this.circleCells[b];if(se!==null){const ee=this.circles;for(const he of se)if(!B.circle[he]){B.circle[he]=!0;const Se=3*he,Ee=this.circleKeys[he];if(this._circleAndRectCollide(ee[Se],ee[Se+1],ee[Se+2],i,h,p,y)&&(!R||R(Ee))&&(!H||!ni(q,Ee.overlapMode))){const ke=ee[Se],Te=ee[Se+1],Fe=ee[Se+2];if(T.push({key:Ee,x1:ke-Fe,y1:Te-Fe,x2:ke+Fe,y2:Te+Fe}),H)return!0}}}return!1}_queryCellCircle(i,h,p,y,b,T,k,R){const{circle:B,seenUids:H,overlapMode:q}=k,te=this.boxCells[b];if(te!==null){const ee=this.bboxes;for(const he of te)if(!H.box[he]){H.box[he]=!0;const Se=4*he,Ee=this.boxKeys[he];if(this._circleAndRectCollide(B.x,B.y,B.radius,ee[Se+0],ee[Se+1],ee[Se+2],ee[Se+3])&&(!R||R(Ee))&&!ni(q,Ee.overlapMode))return T.push(!0),!0}}const se=this.circleCells[b];if(se!==null){const ee=this.circles;for(const he of se)if(!H.circle[he]){H.circle[he]=!0;const Se=3*he,Ee=this.circleKeys[he];if(this._circlesCollide(ee[Se],ee[Se+1],ee[Se+2],B.x,B.y,B.radius)&&(!R||R(Ee))&&!ni(q,Ee.overlapMode))return T.push(!0),!0}}}_forEachCell(i,h,p,y,b,T,k,R){const B=this._convertToXCellCoord(i),H=this._convertToYCellCoord(h),q=this._convertToXCellCoord(p),te=this._convertToYCellCoord(y);for(let se=B;se<=q;se++)for(let ee=H;ee<=te;ee++)if(b.call(this,i,h,p,y,this.xCellCount*ee+se,T,k,R))return}_convertToXCellCoord(i){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(i*this.xScale)))}_convertToYCellCoord(i){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(i*this.yScale)))}_circlesCollide(i,h,p,y,b,T){const k=y-i,R=b-h,B=p+T;return B*B>k*k+R*R}_circleAndRectCollide(i,h,p,y,b,T,k){const R=(T-y)/2,B=Math.abs(i-(y+R));if(B>R+p)return!1;const H=(k-b)/2,q=Math.abs(h-(b+H));if(q>H+p)return!1;if(B<=R||q<=H)return!0;const te=B-R,se=q-H;return te*te+se*se<=p*p}}function _i(g,i,h,p,y){const b=l.H();return i?(l.K(b,b,[1/y,1/y,1]),h||l.ad(b,b,p.angle)):l.L(b,p.labelPlaneMatrix,g),b}function Bn(g,i,h,p,y){if(i){const b=l.ae(g);return l.K(b,b,[y,y,1]),h||l.ad(b,b,-p.angle),b}return p.glCoordMatrix}function Ne(g,i,h,p){let y;p?(y=[g,i,p(g,i),1],l.af(y,y,h)):(y=[g,i,0,1],gn(y,y,h));const b=y[3];return{point:new l.P(y[0]/b,y[1]/b),signedDistanceFromCamera:b,isOccluded:!1}}function ae(g,i){return .5+g/i*.5}function ce(g,i){return g.x>=-i[0]&&g.x<=i[0]&&g.y>=-i[1]&&g.y<=i[1]}function Ce(g,i,h,p,y,b,T,k,R,B,H,q,te,se,ee){const he=p?g.textSizeData:g.iconSizeData,Se=l.ag(he,h.transform.zoom),Ee=[256/h.width*2+1,256/h.height*2+1],ke=p?g.text.dynamicLayoutVertexArray:g.icon.dynamicLayoutVertexArray;ke.clear();const Te=g.lineVertexArray,Fe=p?g.text.placedSymbolArray:g.icon.placedSymbolArray,Xe=h.transform.width/h.transform.height;let Ge=!1;for(let wt=0;wt<Fe.length;wt++){const Mt=Fe.get(wt);if(Mt.hidden||Mt.writingMode===l.ah.vertical&&!Ge){mr(Mt.numGlyphs,ke);continue}Ge=!1;const $t=Ne(Mt.anchorX,Mt.anchorY,i,ee);if(!ce($t.point,Ee)){mr(Mt.numGlyphs,ke);continue}const qt=ae(h.transform.cameraToCenterDistance,$t.signedDistanceFromCamera),zt=l.ai(he,Se,Mt),Bt=T?zt/qt:zt*qt,Ht={getElevation:ee,labelPlaneMatrix:y,lineVertexArray:Te,pitchWithMap:T,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},projection:B,tileAnchorPoint:new l.P(Mt.anchorX,Mt.anchorY),unwrappedTileID:H,width:q,height:te,translation:se},Ar=nt(Ht,Mt,Bt,!1,k,i,b,g.glyphOffsetArray,ke,Xe,R);Ge=Ar.useVertical,(Ar.notEnoughRoom||Ge||Ar.needsFlipping&&nt(Ht,Mt,Bt,!0,k,i,b,g.glyphOffsetArray,ke,Xe,R).notEnoughRoom)&&mr(Mt.numGlyphs,ke)}p?g.text.dynamicLayoutVertexBuffer.updateData(ke):g.icon.dynamicLayoutVertexBuffer.updateData(ke)}function Re(g,i,h,p,y,b,T,k){const R=b.glyphStartIndex+b.numGlyphs,B=b.lineStartIndex,H=b.lineStartIndex+b.lineLength,q=i.getoffsetX(b.glyphStartIndex),te=i.getoffsetX(R-1),se=jt(g*q,h,p,y,b.segment,B,H,k,T);if(!se)return null;const ee=jt(g*te,h,p,y,b.segment,B,H,k,T);return ee?k.projectionCache.anyProjectionOccluded?null:{first:se,last:ee}:null}function Je(g,i,h,p){return g===l.ah.horizontal&&Math.abs(h.y-i.y)>Math.abs(h.x-i.x)*p?{useVertical:!0}:(g===l.ah.vertical?i.y<h.y:i.x>h.x)?{needsFlipping:!0}:null}function nt(g,i,h,p,y,b,T,k,R,B,H){const q=h/24,te=i.lineOffsetX*q,se=i.lineOffsetY*q;let ee;if(i.numGlyphs>1){const he=i.glyphStartIndex+i.numGlyphs,Se=i.lineStartIndex,Ee=i.lineStartIndex+i.lineLength,ke=Re(q,k,te,se,p,i,H,g);if(!ke)return{notEnoughRoom:!0};const Te=Ne(ke.first.point.x,ke.first.point.y,T,g.getElevation).point,Fe=Ne(ke.last.point.x,ke.last.point.y,T,g.getElevation).point;if(y&&!p){const Xe=Je(i.writingMode,Te,Fe,B);if(Xe)return Xe}ee=[ke.first];for(let Xe=i.glyphStartIndex+1;Xe<he-1;Xe++)ee.push(jt(q*k.getoffsetX(Xe),te,se,p,i.segment,Se,Ee,g,H));ee.push(ke.last)}else{if(y&&!p){const Se=Ne(g.tileAnchorPoint.x,g.tileAnchorPoint.y,b,g.getElevation).point,Ee=i.lineStartIndex+i.segment+1,ke=new l.P(g.lineVertexArray.getx(Ee),g.lineVertexArray.gety(Ee)),Te=Ne(ke.x,ke.y,b,g.getElevation),Fe=Te.signedDistanceFromCamera>0?Te.point:function(Ge,wt,Mt,$t,qt,zt){return Ye(Ge,wt,Mt,1,qt,zt)}(g.tileAnchorPoint,ke,Se,0,b,g),Xe=Je(i.writingMode,Se,Fe,B);if(Xe)return Xe}const he=jt(q*k.getoffsetX(i.glyphStartIndex),te,se,p,i.segment,i.lineStartIndex,i.lineStartIndex+i.lineLength,g,H);if(!he||g.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};ee=[he]}for(const he of ee)l.aj(R,he.point,he.angle);return{}}function Ye(g,i,h,p,y,b){const T=g.add(g.sub(i)._unit()),k=y!==void 0?Ne(T.x,T.y,y,b.getElevation).point:_t(T.x,T.y,b).point,R=h.sub(k);return h.add(R._mult(p/R.mag()))}function He(g,i,h){const p=i.projectionCache;if(p.projections[g])return p.projections[g];const y=new l.P(i.lineVertexArray.getx(g),i.lineVertexArray.gety(g)),b=_t(y.x,y.y,i);if(b.signedDistanceFromCamera>0)return p.projections[g]=b.point,p.anyProjectionOccluded=p.anyProjectionOccluded||b.isOccluded,b.point;const T=g-h.direction;return function(k,R,B,H,q){return Ye(k,R,B,H,void 0,q)}(h.distanceFromAnchor===0?i.tileAnchorPoint:new l.P(i.lineVertexArray.getx(T),i.lineVertexArray.gety(T)),y,h.previousVertex,h.absOffsetX-h.distanceFromAnchor+1,i)}function _t(g,i,h){const p=g+h.translation[0],y=i+h.translation[1];let b;return!h.pitchWithMap&&h.projection.useSpecialProjectionForSymbols?(b=h.projection.projectTileCoordinates(p,y,h.unwrappedTileID,h.getElevation),b.point.x=(.5*b.point.x+.5)*h.width,b.point.y=(.5*-b.point.y+.5)*h.height):(b=Ne(p,y,h.labelPlaneMatrix,h.getElevation),b.isOccluded=!1),b}function Ct(g,i,h){return g._unit()._perp()._mult(i*h)}function gt(g,i,h,p,y,b,T,k,R){if(k.projectionCache.offsets[g])return k.projectionCache.offsets[g];const B=h.add(i);if(g+R.direction<p||g+R.direction>=y)return k.projectionCache.offsets[g]=B,B;const H=He(g+R.direction,k,R),q=Ct(H.sub(h),T,R.direction),te=h.add(q),se=H.add(q);return k.projectionCache.offsets[g]=l.ak(b,B,te,se)||B,k.projectionCache.offsets[g]}function jt(g,i,h,p,y,b,T,k,R){const B=p?g-i:g+i;let H=B>0?1:-1,q=0;p&&(H*=-1,q=Math.PI),H<0&&(q+=Math.PI);let te,se=H>0?b+y:b+y+1;k.projectionCache.cachedAnchorPoint?te=k.projectionCache.cachedAnchorPoint:(te=_t(k.tileAnchorPoint.x,k.tileAnchorPoint.y,k).point,k.projectionCache.cachedAnchorPoint=te);let ee,he,Se=te,Ee=te,ke=0,Te=0;const Fe=Math.abs(B),Xe=[];let Ge;for(;ke+Te<=Fe;){if(se+=H,se<b||se>=T)return null;ke+=Te,Ee=Se,he=ee;const $t={absOffsetX:Fe,direction:H,distanceFromAnchor:ke,previousVertex:Ee};if(Se=He(se,k,$t),h===0)Xe.push(Ee),Ge=Se.sub(Ee);else{let qt;const zt=Se.sub(Ee);qt=zt.mag()===0?Ct(He(se+H,k,$t).sub(Se),h,H):Ct(zt,h,H),he||(he=Ee.add(qt)),ee=gt(se,qt,Se,b,T,he,h,k,$t),Xe.push(he),Ge=ee.sub(he)}Te=Ge.mag()}const wt=Ge._mult((Fe-ke)/Te)._add(he||Ee),Mt=q+Math.atan2(Se.y-Ee.y,Se.x-Ee.x);return Xe.push(wt),{point:wt,angle:R?Mt:0,path:Xe}}const ur=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function mr(g,i){for(let h=0;h<g;h++){const p=i.length;i.resize(p+4),i.float32.set(ur,3*p)}}function gn(g,i,h){const p=i[0],y=i[1];return g[0]=h[0]*p+h[4]*y+h[12],g[1]=h[1]*p+h[5]*y+h[13],g[3]=h[3]*p+h[7]*y+h[15],g}const Ir=100;class Yr{constructor(i,h,p=new Nn(i.width+200,i.height+200,25),y=new Nn(i.width+200,i.height+200,25)){this.transform=i,this.mapProjection=h,this.grid=p,this.ignoredGrid=y,this.pitchFactor=Math.cos(i._pitch)*i.cameraToCenterDistance,this.screenRightBoundary=i.width+Ir,this.screenBottomBoundary=i.height+Ir,this.gridRightBoundary=i.width+200,this.gridBottomBoundary=i.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(i,h,p,y,b,T,k,R,B,H,q){const te=i.anchorPointX+R[0],se=i.anchorPointY+R[1],ee=this.projectAndGetPerspectiveRatio(y,te,se,b,H),he=p*ee.perspectiveRatio;let Se;if(T||k)Se=this._projectCollisionBox(i,he,y,b,T,k,R,ee,H,q);else{const Xe=ee.point.x+(q?q.x*he:0),Ge=ee.point.y+(q?q.y*he:0);Se={allPointsOccluded:!1,box:[Xe+i.x1*he,Ge+i.y1*he,Xe+i.x2*he,Ge+i.y2*he]}}const[Ee,ke,Te,Fe]=Se.box;return this.mapProjection.useSpecialProjectionForSymbols&&(T?Se.allPointsOccluded:this.mapProjection.isOccluded(te,se,b))||ee.perspectiveRatio<this.perspectiveRatioCutoff||!this.isInsideGrid(Ee,ke,Te,Fe)||h!=="always"&&this.grid.hitTest(Ee,ke,Te,Fe,h,B)?{box:[Ee,ke,Te,Fe],placeable:!1,offscreen:!1}:{box:[Ee,ke,Te,Fe],placeable:!0,offscreen:this.isOffscreen(Ee,ke,Te,Fe)}}placeCollisionCircles(i,h,p,y,b,T,k,R,B,H,q,te,se,ee,he,Se){const Ee=[],ke=new l.P(h.anchorX,h.anchorY),Te=this.getPerspectiveRatio(T,ke.x,ke.y,k,Se),Fe=(q?b/Te:b*Te)/l.ap,Xe={getElevation:Se,labelPlaneMatrix:R,lineVertexArray:p,pitchWithMap:q,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},projection:this.mapProjection,tileAnchorPoint:ke,unwrappedTileID:k,width:this.transform.width,height:this.transform.height,translation:he},Ge=Re(Fe,y,h.lineOffsetX*Fe,h.lineOffsetY*Fe,!1,h,!1,Xe);let wt=!1,Mt=!1,$t=!0;if(Ge){const qt=.5*se*Te+ee,zt=new l.P(-100,-100),Bt=new l.P(this.screenRightBoundary,this.screenBottomBoundary),Ht=new rr,Ar=Ge.first,Yt=Ge.last;let Jt=[];for(let Wr=Ar.path.length-1;Wr>=1;Wr--)Jt.push(Ar.path[Wr]);for(let Wr=1;Wr<Yt.path.length;Wr++)Jt.push(Yt.path[Wr]);const Mr=2.5*qt;if(B){const Wr=this.projectPathToScreenSpace(Jt,Xe,B);Jt=Wr.some(ln=>ln.signedDistanceFromCamera<=0)?[]:Wr.map(ln=>ln.point)}let Jr=[];if(Jt.length>0){const Wr=Jt[0].clone(),ln=Jt[0].clone();for(let Sn=1;Sn<Jt.length;Sn++)Wr.x=Math.min(Wr.x,Jt[Sn].x),Wr.y=Math.min(Wr.y,Jt[Sn].y),ln.x=Math.max(ln.x,Jt[Sn].x),ln.y=Math.max(ln.y,Jt[Sn].y);Jr=Wr.x>=zt.x&&ln.x<=Bt.x&&Wr.y>=zt.y&&ln.y<=Bt.y?[Jt]:ln.x<zt.x||Wr.x>Bt.x||ln.y<zt.y||Wr.y>Bt.y?[]:l.al([Jt],zt.x,zt.y,Bt.x,Bt.y)}for(const Wr of Jr){Ht.reset(Wr,.25*qt);let ln=0;ln=Ht.length<=.5*qt?1:Math.ceil(Ht.paddedLength/Mr)+1;for(let Sn=0;Sn<ln;Sn++){const Gn=Sn/Math.max(ln-1,1),Pi=Ht.lerp(Gn),Rn=Pi.x+Ir,Wi=Pi.y+Ir;Ee.push(Rn,Wi,qt,0);const Wn=Rn-qt,ji=Wi-qt,oo=Rn+qt,ka=Wi+qt;if($t=$t&&this.isOffscreen(Wn,ji,oo,ka),Mt=Mt||this.isInsideGrid(Wn,ji,oo,ka),i!=="always"&&this.grid.hitTestCircle(Rn,Wi,qt,i,te)&&(wt=!0,!H))return{circles:[],offscreen:!1,collisionDetected:wt}}}}return{circles:!H&&wt||!Mt||Te<this.perspectiveRatioCutoff?[]:Ee,offscreen:$t,collisionDetected:wt}}projectPathToScreenSpace(i,h,p){return i.map(y=>Ne(y.x,y.y,p,h.getElevation))}queryRenderedSymbols(i){if(i.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const h=[];let p=1/0,y=1/0,b=-1/0,T=-1/0;for(const H of i){const q=new l.P(H.x+Ir,H.y+Ir);p=Math.min(p,q.x),y=Math.min(y,q.y),b=Math.max(b,q.x),T=Math.max(T,q.y),h.push(q)}const k=this.grid.query(p,y,b,T).concat(this.ignoredGrid.query(p,y,b,T)),R={},B={};for(const H of k){const q=H.key;if(R[q.bucketInstanceId]===void 0&&(R[q.bucketInstanceId]={}),R[q.bucketInstanceId][q.featureIndex])continue;const te=[new l.P(H.x1,H.y1),new l.P(H.x2,H.y1),new l.P(H.x2,H.y2),new l.P(H.x1,H.y2)];l.am(h,te)&&(R[q.bucketInstanceId][q.featureIndex]=!0,B[q.bucketInstanceId]===void 0&&(B[q.bucketInstanceId]=[]),B[q.bucketInstanceId].push(q.featureIndex))}return B}insertCollisionBox(i,h,p,y,b,T){(p?this.ignoredGrid:this.grid).insert({bucketInstanceId:y,featureIndex:b,collisionGroupID:T,overlapMode:h},i[0],i[1],i[2],i[3])}insertCollisionCircles(i,h,p,y,b,T){const k=p?this.ignoredGrid:this.grid,R={bucketInstanceId:y,featureIndex:b,collisionGroupID:T,overlapMode:h};for(let B=0;B<i.length;B+=4)k.insertCircle(R,i[B],i[B+1],i[B+2])}projectAndGetPerspectiveRatio(i,h,p,y,b){let T;b?(T=[h,p,b(h,p),1],l.af(T,T,i)):(T=[h,p,0,1],gn(T,T,i));const k=T[3];return{point:new l.P((T[0]/k+1)/2*this.transform.width+Ir,(-T[1]/k+1)/2*this.transform.height+Ir),perspectiveRatio:.5+this.transform.cameraToCenterDistance/k*.5,isOccluded:!1,signedDistanceFromCamera:k}}getPerspectiveRatio(i,h,p,y,b){const T=this.mapProjection.useSpecialProjectionForSymbols?this.mapProjection.projectTileCoordinates(h,p,y,b):Ne(h,p,i,b);return .5+this.transform.cameraToCenterDistance/T.signedDistanceFromCamera*.5}isOffscreen(i,h,p,y){return p<Ir||i>=this.screenRightBoundary||y<Ir||h>this.screenBottomBoundary}isInsideGrid(i,h,p,y){return p>=0&&i<this.gridRightBoundary&&y>=0&&h<this.gridBottomBoundary}getViewportMatrix(){const i=l.an([]);return l.J(i,i,[-100,-100,0]),i}_projectCollisionBox(i,h,p,y,b,T,k,R,B,H){let q=new l.P(1,0),te=new l.P(0,1);const se=new l.P(i.anchorPointX+k[0],i.anchorPointY+k[1]);if(T&&!b){const $t=this.projectAndGetPerspectiveRatio(p,se.x+1,se.y,y,B).point.sub(R.point).unit(),qt=Math.atan($t.y/$t.x)+($t.x<0?Math.PI:0),zt=Math.sin(qt),Bt=Math.cos(qt);q=new l.P(Bt,zt),te=new l.P(-zt,Bt)}else if(!T&&b){const $t=-this.transform.angle,qt=Math.sin($t),zt=Math.cos($t);q=new l.P(zt,qt),te=new l.P(-qt,zt)}let ee=R.point,he=h;if(b){ee=se;const $t=this.transform.zoom-Math.floor(this.transform.zoom);he=Math.pow(2,-$t),he*=this.mapProjection.getPitchedTextCorrection(this.transform,se,y),H||(he*=l.ac(.5+R.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))}H&&(ee=ee.add(q.mult(H.x*he)).add(te.mult(H.y*he)));const Se=i.x1*he,Ee=i.x2*he,ke=(Se+Ee)/2,Te=i.y1*he,Fe=i.y2*he,Xe=(Te+Fe)/2,Ge=[{offsetX:Se,offsetY:Te},{offsetX:ke,offsetY:Te},{offsetX:Ee,offsetY:Te},{offsetX:Ee,offsetY:Xe},{offsetX:Ee,offsetY:Fe},{offsetX:ke,offsetY:Fe},{offsetX:Se,offsetY:Fe},{offsetX:Se,offsetY:Xe}];let wt=[];for(const{offsetX:$t,offsetY:qt}of Ge)wt.push(new l.P(ee.x+q.x*$t+te.x*qt,ee.y+q.y*$t+te.y*qt));let Mt=!1;if(b){const $t=wt.map(qt=>this.projectAndGetPerspectiveRatio(p,qt.x,qt.y,y,B));Mt=$t.some(qt=>!qt.isOccluded),wt=$t.map(qt=>qt.point)}else Mt=!0;return{box:l.ao(wt),allPointsOccluded:!Mt}}}function en(g,i,h){return i*(l.X/(g.tileSize*Math.pow(2,h-g.tileID.overscaledZ)))}class nn{constructor(i,h,p,y){this.opacity=i?Math.max(0,Math.min(1,i.opacity+(i.placed?h:-h))):y&&p?1:0,this.placed=p}isHidden(){return this.opacity===0&&!this.placed}}class Tr{constructor(i,h,p,y,b){this.text=new nn(i?i.text:null,h,p,b),this.icon=new nn(i?i.icon:null,h,y,b)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Hr{constructor(i,h,p){this.text=i,this.icon=h,this.skipFade=p}}class _n{constructor(){this.invProjMatrix=l.H(),this.viewportMatrix=l.H(),this.circles=[]}}class Cn{constructor(i,h,p,y,b){this.bucketInstanceId=i,this.featureIndex=h,this.sourceLayerIndex=p,this.bucketIndex=y,this.tileID=b}}class xi{constructor(i){this.crossSourceCollisions=i,this.maxGroupID=0,this.collisionGroups={}}get(i){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[i]){const h=++this.maxGroupID;this.collisionGroups[i]={ID:h,predicate:p=>p.collisionGroupID===h}}return this.collisionGroups[i]}}function Ni(g,i,h,p,y){const{horizontalAlign:b,verticalAlign:T}=l.au(g);return new l.P(-(b-.5)*i+p[0]*y,-(T-.5)*h+p[1]*y)}class Fi{constructor(i,h,p,y,b,T){this.transform=i.clone(),this.terrain=p,this.collisionIndex=new Yr(this.transform,h),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=y,this.retainedQueryData={},this.collisionGroups=new xi(b),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=T,T&&(T.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(i){const h=this.terrain;return h?(p,y)=>h.getElevation(i,p,y):null}getBucketParts(i,h,p,y){const b=p.getBucket(h),T=p.latestFeatureIndex;if(!b||!T||h.id!==b.layerIds[0])return;const k=p.collisionBoxArray,R=b.layers[0].layout,B=b.layers[0].paint,H=Math.pow(2,this.transform.zoom-p.tileID.overscaledZ),q=p.tileSize/l.X,te=p.tileID.toUnwrapped(),se=this.transform.calculatePosMatrix(te),ee=R.get("text-pitch-alignment")==="map",he=R.get("text-rotation-alignment")==="map",Se=en(p,1,this.transform.zoom),Ee=this.collisionIndex.mapProjection.translatePosition(this.transform,p,B.get("text-translate"),B.get("text-translate-anchor")),ke=this.collisionIndex.mapProjection.translatePosition(this.transform,p,B.get("icon-translate"),B.get("icon-translate-anchor")),Te=_i(se,ee,he,this.transform,Se);let Fe=null;if(ee){const Ge=Bn(se,ee,he,this.transform,Se);Fe=l.L([],this.transform.labelPlaneMatrix,Ge)}this.retainedQueryData[b.bucketInstanceId]=new Cn(b.bucketInstanceId,T,b.sourceLayerIndex,b.index,p.tileID);const Xe={bucket:b,layout:R,translationText:Ee,translationIcon:ke,posMatrix:se,unwrappedTileID:te,textLabelPlaneMatrix:Te,labelToScreenMatrix:Fe,scale:H,textPixelRatio:q,holdingForFade:p.holdingForFade(),collisionBoxArray:k,partiallyEvaluatedTextSize:l.ag(b.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(b.sourceID)};if(y)for(const Ge of b.sortKeyRanges){const{sortKey:wt,symbolInstanceStart:Mt,symbolInstanceEnd:$t}=Ge;i.push({sortKey:wt,symbolInstanceStart:Mt,symbolInstanceEnd:$t,parameters:Xe})}else i.push({symbolInstanceStart:0,symbolInstanceEnd:b.symbolInstances.length,parameters:Xe})}attemptAnchorPlacement(i,h,p,y,b,T,k,R,B,H,q,te,se,ee,he,Se,Ee,ke,Te){const Fe=l.aq[i.textAnchor],Xe=[i.textOffset0,i.textOffset1],Ge=Ni(Fe,p,y,Xe,b),wt=this.collisionIndex.placeCollisionBox(h,te,R,B,H,k,T,Se,q.predicate,Te,Ge);if((!ke||this.collisionIndex.placeCollisionBox(ke,te,R,B,H,k,T,Ee,q.predicate,Te,Ge).placeable)&&wt.placeable){let Mt;if(this.prevPlacement&&this.prevPlacement.variableOffsets[se.crossTileID]&&this.prevPlacement.placements[se.crossTileID]&&this.prevPlacement.placements[se.crossTileID].text&&(Mt=this.prevPlacement.variableOffsets[se.crossTileID].anchor),se.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[se.crossTileID]={textOffset:Xe,width:p,height:y,anchor:Fe,textBoxScale:b,prevAnchor:Mt},this.markUsedJustification(ee,Fe,se,he),ee.allowVerticalPlacement&&(this.markUsedOrientation(ee,he,se),this.placedOrientations[se.crossTileID]=he),{shift:Ge,placedGlyphBoxes:wt}}}placeLayerBucketPart(i,h,p){const{bucket:y,layout:b,translationText:T,translationIcon:k,posMatrix:R,unwrappedTileID:B,textLabelPlaneMatrix:H,labelToScreenMatrix:q,textPixelRatio:te,holdingForFade:se,collisionBoxArray:ee,partiallyEvaluatedTextSize:he,collisionGroup:Se}=i.parameters,Ee=b.get("text-optional"),ke=b.get("icon-optional"),Te=l.ar(b,"text-overlap","text-allow-overlap"),Fe=Te==="always",Xe=l.ar(b,"icon-overlap","icon-allow-overlap"),Ge=Xe==="always",wt=b.get("text-rotation-alignment")==="map",Mt=b.get("text-pitch-alignment")==="map",$t=b.get("icon-text-fit")!=="none",qt=b.get("symbol-z-order")==="viewport-y",zt=Fe&&(Ge||!y.hasIconData()||ke),Bt=Ge&&(Fe||!y.hasTextData()||Ee);!y.collisionArrays&&ee&&y.deserializeCollisionBoxes(ee);const Ht=this._getTerrainElevationFunc(this.retainedQueryData[y.bucketInstanceId].tileID),Ar=(Yt,Jt,Mr)=>{var Jr,Wr;if(h[Yt.crossTileID])return;if(se)return void(this.placements[Yt.crossTileID]=new Hr(!1,!1,!1));let ln=!1,Sn=!1,Gn=!0,Pi=null,Rn={box:null,placeable:!1,offscreen:null},Wi={box:null,placeable:!1,offscreen:null},Wn=null,ji=null,oo=null,ka=0,ss=0,ki=0;Jt.textFeatureIndex?ka=Jt.textFeatureIndex:Yt.useRuntimeCollisionCircles&&(ka=Yt.featureIndex),Jt.verticalTextFeatureIndex&&(ss=Jt.verticalTextFeatureIndex);const Fu=Jt.textBox;if(Fu){const pa=Ji=>{let Jo=l.ah.horizontal;if(y.allowVerticalPlacement&&!Ji&&this.prevPlacement){const ga=this.prevPlacement.placedOrientations[Yt.crossTileID];ga&&(this.placedOrientations[Yt.crossTileID]=ga,Jo=ga,this.markUsedOrientation(y,Jo,Yt))}return Jo},Ia=(Ji,Jo)=>{if(y.allowVerticalPlacement&&Yt.numVerticalGlyphVertices>0&&Jt.verticalTextBox){for(const ga of y.writingModes)if(ga===l.ah.vertical?(Rn=Jo(),Wi=Rn):Rn=Ji(),Rn&&Rn.placeable)break}else Rn=Ji()},$o=Yt.textAnchorOffsetStartIndex,ma=Yt.textAnchorOffsetEndIndex;if(ma===$o){const Ji=(Jo,ga)=>{const Mn=this.collisionIndex.placeCollisionBox(Jo,Te,te,R,B,Mt,wt,T,Se.predicate,Ht);return Mn&&Mn.placeable&&(this.markUsedOrientation(y,ga,Yt),this.placedOrientations[Yt.crossTileID]=ga),Mn};Ia(()=>Ji(Fu,l.ah.horizontal),()=>{const Jo=Jt.verticalTextBox;return y.allowVerticalPlacement&&Yt.numVerticalGlyphVertices>0&&Jo?Ji(Jo,l.ah.vertical):{box:null,offscreen:null}}),pa(Rn&&Rn.placeable)}else{let Ji=l.aq[(Wr=(Jr=this.prevPlacement)===null||Jr===void 0?void 0:Jr.variableOffsets[Yt.crossTileID])===null||Wr===void 0?void 0:Wr.anchor];const Jo=(Mn,Tl,$u)=>{const nu=Mn.x2-Mn.x1,oh=Mn.y2-Mn.y1,uy=Yt.textBoxScale,vm=$t&&Xe==="never"?Tl:null;let Pl=null,iu=Te==="never"?1:2,Xd="never";Ji&&iu++;for(let td=0;td<iu;td++){for(let Kd=$o;Kd<ma;Kd++){const rd=y.textAnchorOffsets.get(Kd);if(Ji&&rd.textAnchor!==Ji)continue;const ou=this.attemptAnchorPlacement(rd,Mn,nu,oh,uy,wt,Mt,te,R,B,Se,Xd,Yt,y,$u,T,k,vm,Ht);if(ou&&(Pl=ou.placedGlyphBoxes,Pl&&Pl.placeable))return ln=!0,Pi=ou.shift,Pl}Ji?Ji=null:Xd=Te}return p&&!Pl&&(Pl={box:this.collisionIndex.placeCollisionBox(Fu,"always",te,R,B,Mt,wt,T,Se.predicate,Ht,new l.P(0,0)).box,offscreen:!1,placeable:!1}),Pl};Ia(()=>Jo(Fu,Jt.iconBox,l.ah.horizontal),()=>{const Mn=Jt.verticalTextBox;return y.allowVerticalPlacement&&(!Rn||!Rn.placeable)&&Yt.numVerticalGlyphVertices>0&&Mn?Jo(Mn,Jt.verticalIconBox,l.ah.vertical):{box:null,occluded:!0,offscreen:null}}),Rn&&(ln=Rn.placeable,Gn=Rn.offscreen);const ga=pa(Rn&&Rn.placeable);if(!ln&&this.prevPlacement){const Mn=this.prevPlacement.variableOffsets[Yt.crossTileID];Mn&&(this.variableOffsets[Yt.crossTileID]=Mn,this.markUsedJustification(y,Mn.anchor,Yt,ga))}}}if(Wn=Rn,ln=Wn&&Wn.placeable,Gn=Wn&&Wn.offscreen,Yt.useRuntimeCollisionCircles){const pa=y.text.placedSymbolArray.get(Yt.centerJustifiedTextSymbolIndex),Ia=l.ai(y.textSizeData,he,pa),$o=b.get("text-padding");ji=this.collisionIndex.placeCollisionCircles(Te,pa,y.lineVertexArray,y.glyphOffsetArray,Ia,R,B,H,q,p,Mt,Se.predicate,Yt.collisionCircleDiameter,$o,T,Ht),ji.circles.length&&ji.collisionDetected&&!p&&l.w("Collisions detected, but collision boxes are not shown"),ln=Fe||ji.circles.length>0&&!ji.collisionDetected,Gn=Gn&&ji.offscreen}if(Jt.iconFeatureIndex&&(ki=Jt.iconFeatureIndex),Jt.iconBox){const pa=Ia=>this.collisionIndex.placeCollisionBox(Ia,Xe,te,R,B,Mt,wt,k,Se.predicate,Ht,$t&&Pi?Pi:void 0);Wi&&Wi.placeable&&Jt.verticalIconBox?(oo=pa(Jt.verticalIconBox),Sn=oo.placeable):(oo=pa(Jt.iconBox),Sn=oo.placeable),Gn=Gn&&oo.offscreen}const ls=Ee||Yt.numHorizontalGlyphVertices===0&&Yt.numVerticalGlyphVertices===0,ed=ke||Yt.numIconVertices===0;ls||ed?ed?ls||(Sn=Sn&&ln):ln=Sn&&ln:Sn=ln=Sn&&ln;const ih=Sn&&oo.placeable;if(ln&&Wn.placeable&&this.collisionIndex.insertCollisionBox(Wn.box,Te,b.get("text-ignore-placement"),y.bucketInstanceId,Wi&&Wi.placeable&&ss?ss:ka,Se.ID),ih&&this.collisionIndex.insertCollisionBox(oo.box,Xe,b.get("icon-ignore-placement"),y.bucketInstanceId,ki,Se.ID),ji&&ln&&this.collisionIndex.insertCollisionCircles(ji.circles,Te,b.get("text-ignore-placement"),y.bucketInstanceId,ka,Se.ID),p&&this.storeCollisionData(y.bucketInstanceId,Mr,Jt,Wn,oo,ji),Yt.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(y.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[Yt.crossTileID]=new Hr(ln||zt,Sn||Bt,Gn||y.justReloaded),h[Yt.crossTileID]=!0};if(qt){if(i.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const Yt=y.getSortedSymbolIndexes(this.transform.angle);for(let Jt=Yt.length-1;Jt>=0;--Jt){const Mr=Yt[Jt];Ar(y.symbolInstances.get(Mr),y.collisionArrays[Mr],Mr)}}else for(let Yt=i.symbolInstanceStart;Yt<i.symbolInstanceEnd;Yt++)Ar(y.symbolInstances.get(Yt),y.collisionArrays[Yt],Yt);if(p&&y.bucketInstanceId in this.collisionCircleArrays){const Yt=this.collisionCircleArrays[y.bucketInstanceId];l.as(Yt.invProjMatrix,R),Yt.viewportMatrix=this.collisionIndex.getViewportMatrix()}y.justReloaded=!1}storeCollisionData(i,h,p,y,b,T){if(p.textBox||p.iconBox){let k,R;this.collisionBoxArrays.has(i)?k=this.collisionBoxArrays.get(i):(k=new Map,this.collisionBoxArrays.set(i,k)),k.has(h)?R=k.get(h):(R={text:null,icon:null},k.set(h,R)),p.textBox&&(R.text=y.box),p.iconBox&&(R.icon=b.box)}if(T){let k=this.collisionCircleArrays[i];k===void 0&&(k=this.collisionCircleArrays[i]=new _n);for(let R=0;R<T.circles.length;R+=4)k.circles.push(T.circles[R+0]),k.circles.push(T.circles[R+1]),k.circles.push(T.circles[R+2]),k.circles.push(T.collisionDetected?1:0)}}markUsedJustification(i,h,p,y){let b;b=y===l.ah.vertical?p.verticalPlacedTextSymbolIndex:{left:p.leftJustifiedTextSymbolIndex,center:p.centerJustifiedTextSymbolIndex,right:p.rightJustifiedTextSymbolIndex}[l.at(h)];const T=[p.leftJustifiedTextSymbolIndex,p.centerJustifiedTextSymbolIndex,p.rightJustifiedTextSymbolIndex,p.verticalPlacedTextSymbolIndex];for(const k of T)k>=0&&(i.text.placedSymbolArray.get(k).crossTileID=b>=0&&k!==b?0:p.crossTileID)}markUsedOrientation(i,h,p){const y=h===l.ah.horizontal||h===l.ah.horizontalOnly?h:0,b=h===l.ah.vertical?h:0,T=[p.leftJustifiedTextSymbolIndex,p.centerJustifiedTextSymbolIndex,p.rightJustifiedTextSymbolIndex];for(const k of T)i.text.placedSymbolArray.get(k).placedOrientation=y;p.verticalPlacedTextSymbolIndex&&(i.text.placedSymbolArray.get(p.verticalPlacedTextSymbolIndex).placedOrientation=b)}commit(i){this.commitTime=i,this.zoomAtLastRecencyCheck=this.transform.zoom;const h=this.prevPlacement;let p=!1;this.prevZoomAdjustment=h?h.zoomAdjustment(this.transform.zoom):0;const y=h?h.symbolFadeChange(i):1,b=h?h.opacities:{},T=h?h.variableOffsets:{},k=h?h.placedOrientations:{};for(const R in this.placements){const B=this.placements[R],H=b[R];H?(this.opacities[R]=new Tr(H,y,B.text,B.icon),p=p||B.text!==H.text.placed||B.icon!==H.icon.placed):(this.opacities[R]=new Tr(null,y,B.text,B.icon,B.skipFade),p=p||B.text||B.icon)}for(const R in b){const B=b[R];if(!this.opacities[R]){const H=new Tr(B,y,!1,!1);H.isHidden()||(this.opacities[R]=H,p=p||B.text.placed||B.icon.placed)}}for(const R in T)this.variableOffsets[R]||!this.opacities[R]||this.opacities[R].isHidden()||(this.variableOffsets[R]=T[R]);for(const R in k)this.placedOrientations[R]||!this.opacities[R]||this.opacities[R].isHidden()||(this.placedOrientations[R]=k[R]);if(h&&h.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");p?this.lastPlacementChangeTime=i:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=h?h.lastPlacementChangeTime:i)}updateLayerOpacities(i,h){const p={};for(const y of h){const b=y.getBucket(i);b&&y.latestFeatureIndex&&i.id===b.layerIds[0]&&this.updateBucketOpacities(b,y.tileID,p,y.collisionBoxArray)}}updateBucketOpacities(i,h,p,y){i.hasTextData()&&(i.text.opacityVertexArray.clear(),i.text.hasVisibleVertices=!1),i.hasIconData()&&(i.icon.opacityVertexArray.clear(),i.icon.hasVisibleVertices=!1),i.hasIconCollisionBoxData()&&i.iconCollisionBox.collisionVertexArray.clear(),i.hasTextCollisionBoxData()&&i.textCollisionBox.collisionVertexArray.clear();const b=i.layers[0],T=b.layout,k=new Tr(null,0,!1,!1,!0),R=T.get("text-allow-overlap"),B=T.get("icon-allow-overlap"),H=b._unevaluatedLayout.hasValue("text-variable-anchor")||b._unevaluatedLayout.hasValue("text-variable-anchor-offset"),q=T.get("text-rotation-alignment")==="map",te=T.get("text-pitch-alignment")==="map",se=T.get("icon-text-fit")!=="none",ee=new Tr(null,0,R&&(B||!i.hasIconData()||T.get("icon-optional")),B&&(R||!i.hasTextData()||T.get("text-optional")),!0);!i.collisionArrays&&y&&(i.hasIconCollisionBoxData()||i.hasTextCollisionBoxData())&&i.deserializeCollisionBoxes(y);const he=(Ee,ke,Te)=>{for(let Fe=0;Fe<ke/4;Fe++)Ee.opacityVertexArray.emplaceBack(Te);Ee.hasVisibleVertices=Ee.hasVisibleVertices||Te!==Ya},Se=this.collisionBoxArrays.get(i.bucketInstanceId);for(let Ee=0;Ee<i.symbolInstances.length;Ee++){const ke=i.symbolInstances.get(Ee),{numHorizontalGlyphVertices:Te,numVerticalGlyphVertices:Fe,crossTileID:Xe}=ke;let Ge=this.opacities[Xe];p[Xe]?Ge=k:Ge||(Ge=ee,this.opacities[Xe]=Ge),p[Xe]=!0;const wt=ke.numIconVertices>0,Mt=this.placedOrientations[ke.crossTileID],$t=Mt===l.ah.vertical,qt=Mt===l.ah.horizontal||Mt===l.ah.horizontalOnly;if(Te>0||Fe>0){const Bt=pi(Ge.text);he(i.text,Te,$t?Ya:Bt),he(i.text,Fe,qt?Ya:Bt);const Ht=Ge.text.isHidden();[ke.rightJustifiedTextSymbolIndex,ke.centerJustifiedTextSymbolIndex,ke.leftJustifiedTextSymbolIndex].forEach(Jt=>{Jt>=0&&(i.text.placedSymbolArray.get(Jt).hidden=Ht||$t?1:0)}),ke.verticalPlacedTextSymbolIndex>=0&&(i.text.placedSymbolArray.get(ke.verticalPlacedTextSymbolIndex).hidden=Ht||qt?1:0);const Ar=this.variableOffsets[ke.crossTileID];Ar&&this.markUsedJustification(i,Ar.anchor,ke,Mt);const Yt=this.placedOrientations[ke.crossTileID];Yt&&(this.markUsedJustification(i,"left",ke,Yt),this.markUsedOrientation(i,Yt,ke))}if(wt){const Bt=pi(Ge.icon),Ht=!(se&&ke.verticalPlacedIconSymbolIndex&&$t);ke.placedIconSymbolIndex>=0&&(he(i.icon,ke.numIconVertices,Ht?Bt:Ya),i.icon.placedSymbolArray.get(ke.placedIconSymbolIndex).hidden=Ge.icon.isHidden()),ke.verticalPlacedIconSymbolIndex>=0&&(he(i.icon,ke.numVerticalIconVertices,Ht?Ya:Bt),i.icon.placedSymbolArray.get(ke.verticalPlacedIconSymbolIndex).hidden=Ge.icon.isHidden())}const zt=Se&&Se.has(Ee)?Se.get(Ee):{text:null,icon:null};if(i.hasIconCollisionBoxData()||i.hasTextCollisionBoxData()){const Bt=i.collisionArrays[Ee];if(Bt){let Ht=new l.P(0,0);if(Bt.textBox||Bt.verticalTextBox){let Ar=!0;if(H){const Yt=this.variableOffsets[Xe];Yt?(Ht=Ni(Yt.anchor,Yt.width,Yt.height,Yt.textOffset,Yt.textBoxScale),q&&Ht._rotate(te?this.transform.angle:-this.transform.angle)):Ar=!1}if(Bt.textBox||Bt.verticalTextBox){let Yt;Bt.textBox&&(Yt=$t),Bt.verticalTextBox&&(Yt=qt),Xs(i.textCollisionBox.collisionVertexArray,Ge.text.placed,!Ar||Yt,zt.text,Ht.x,Ht.y)}}if(Bt.iconBox||Bt.verticalIconBox){const Ar=!!(!qt&&Bt.verticalIconBox);let Yt;Bt.iconBox&&(Yt=Ar),Bt.verticalIconBox&&(Yt=!Ar),Xs(i.iconCollisionBox.collisionVertexArray,Ge.icon.placed,Yt,zt.icon,se?Ht.x:0,se?Ht.y:0)}}}}if(i.sortFeatures(this.transform.angle),this.retainedQueryData[i.bucketInstanceId]&&(this.retainedQueryData[i.bucketInstanceId].featureSortOrder=i.featureSortOrder),i.hasTextData()&&i.text.opacityVertexBuffer&&i.text.opacityVertexBuffer.updateData(i.text.opacityVertexArray),i.hasIconData()&&i.icon.opacityVertexBuffer&&i.icon.opacityVertexBuffer.updateData(i.icon.opacityVertexArray),i.hasIconCollisionBoxData()&&i.iconCollisionBox.collisionVertexBuffer&&i.iconCollisionBox.collisionVertexBuffer.updateData(i.iconCollisionBox.collisionVertexArray),i.hasTextCollisionBoxData()&&i.textCollisionBox.collisionVertexBuffer&&i.textCollisionBox.collisionVertexBuffer.updateData(i.textCollisionBox.collisionVertexArray),i.text.opacityVertexArray.length!==i.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${i.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${i.text.layoutVertexArray.length}) / 4`);if(i.icon.opacityVertexArray.length!==i.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${i.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${i.icon.layoutVertexArray.length}) / 4`);if(i.bucketInstanceId in this.collisionCircleArrays){const Ee=this.collisionCircleArrays[i.bucketInstanceId];i.placementInvProjMatrix=Ee.invProjMatrix,i.placementViewportMatrix=Ee.viewportMatrix,i.collisionCircleArray=Ee.circles,delete this.collisionCircleArrays[i.bucketInstanceId]}}symbolFadeChange(i){return this.fadeDuration===0?1:(i-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(i){return Math.max(0,(this.transform.zoom-i)/1.5)}hasTransitions(i){return this.stale||i-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(i,h){const p=this.zoomAtLastRecencyCheck===h?1-this.zoomAdjustment(h):1;return this.zoomAtLastRecencyCheck=h,this.commitTime+this.fadeDuration*p>i}setStale(){this.stale=!0}}function Xs(g,i,h,p,y,b){p&&p.length!==0||(p=[0,0,0,0]);const T=p[0]-Ir,k=p[1]-Ir,R=p[2]-Ir,B=p[3]-Ir;g.emplaceBack(i?1:0,h?1:0,y||0,b||0,T,k),g.emplaceBack(i?1:0,h?1:0,y||0,b||0,R,k),g.emplaceBack(i?1:0,h?1:0,y||0,b||0,R,B),g.emplaceBack(i?1:0,h?1:0,y||0,b||0,T,B)}const Dn=Math.pow(2,25),Wl=Math.pow(2,24),bs=Math.pow(2,17),Fn=Math.pow(2,16),Mo=Math.pow(2,9),ku=Math.pow(2,8),qi=Math.pow(2,1);function pi(g){if(g.opacity===0&&!g.placed)return 0;if(g.opacity===1&&g.placed)return 4294967295;const i=g.placed?1:0,h=Math.floor(127*g.opacity);return h*Dn+i*Wl+h*bs+i*Fn+h*Mo+i*ku+h*qi+i}const Ya=0;function fo(){return{isOccluded:(g,i,h)=>!1,getPitchedTextCorrection:(g,i,h)=>1,get useSpecialProjectionForSymbols(){return!1},projectTileCoordinates(g,i,h,p){throw new Error("Not implemented.")},translatePosition:(g,i,h,p)=>function(y,b,T,k,R=!1){if(!T[0]&&!T[1])return[0,0];const B=R?k==="map"?y.angle:0:k==="viewport"?-y.angle:0;if(B){const H=Math.sin(B),q=Math.cos(B);T=[T[0]*q-T[1]*H,T[0]*H+T[1]*q]}return[R?T[0]:en(b,T[0],y.zoom),R?T[1]:en(b,T[1],y.zoom)]}(g,i,h,p),getCircleRadiusCorrection:g=>1}}class ei{constructor(i){this._sortAcrossTiles=i.layout.get("symbol-z-order")!=="viewport-y"&&!i.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(i,h,p,y,b){const T=this._bucketParts;for(;this._currentTileIndex<i.length;)if(h.getBucketParts(T,y,i[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,b())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,T.sort((k,R)=>k.sortKey-R.sortKey));this._currentPartIndex<T.length;)if(h.placeLayerBucketPart(T[this._currentPartIndex],this._seenCrossTileIDs,p),this._currentPartIndex++,b())return!0;return!1}}class li{constructor(i,h,p,y,b,T,k,R){this.placement=new Fi(i,fo(),h,T,k,R),this._currentPlacementIndex=p.length-1,this._forceFullPlacement=y,this._showCollisionBoxes=b,this._done=!1}isDone(){return this._done}continuePlacement(i,h,p){const y=w.now(),b=()=>!this._forceFullPlacement&&w.now()-y>2;for(;this._currentPlacementIndex>=0;){const T=h[i[this._currentPlacementIndex]],k=this.placement.collisionIndex.transform.zoom;if(T.type==="symbol"&&(!T.minzoom||T.minzoom<=k)&&(!T.maxzoom||T.maxzoom>k)){if(this._inProgressLayer||(this._inProgressLayer=new ei(T)),this._inProgressLayer.continuePlacement(p[T.source],this.placement,this._showCollisionBoxes,T,b))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(i){return this.placement.commit(i),this.placement}}const la=512/l.X/2;class wi{constructor(i,h,p){this.tileID=i,this.bucketInstanceId=p,this._symbolsByKey={};const y=new Map;for(let b=0;b<h.length;b++){const T=h.get(b),k=T.key,R=y.get(k);R?R.push(T):y.set(k,[T])}for(const[b,T]of y){const k={positions:T.map(R=>({x:Math.floor(R.anchorX*la),y:Math.floor(R.anchorY*la)})),crossTileIDs:T.map(R=>R.crossTileID)};if(k.positions.length>128){const R=new l.av(k.positions.length,16,Uint16Array);for(const{x:B,y:H}of k.positions)R.add(B,H);R.finish(),delete k.positions,k.index=R}this._symbolsByKey[b]=k}}getScaledCoordinates(i,h){const{x:p,y,z:b}=this.tileID.canonical,{x:T,y:k,z:R}=h.canonical,B=la/Math.pow(2,R-b),H=(k*l.X+i.anchorY)*B,q=y*l.X*la;return{x:Math.floor((T*l.X+i.anchorX)*B-p*l.X*la),y:Math.floor(H-q)}}findMatches(i,h,p){const y=this.tileID.canonical.z<h.canonical.z?1:Math.pow(2,this.tileID.canonical.z-h.canonical.z);for(let b=0;b<i.length;b++){const T=i.get(b);if(T.crossTileID)continue;const k=this._symbolsByKey[T.key];if(!k)continue;const R=this.getScaledCoordinates(T,h);if(k.index){const B=k.index.range(R.x-y,R.y-y,R.x+y,R.y+y).sort();for(const H of B){const q=k.crossTileIDs[H];if(!p[q]){p[q]=!0,T.crossTileID=q;break}}}else if(k.positions)for(let B=0;B<k.positions.length;B++){const H=k.positions[B],q=k.crossTileIDs[B];if(Math.abs(H.x-R.x)<=y&&Math.abs(H.y-R.y)<=y&&!p[q]){p[q]=!0,T.crossTileID=q;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:i})=>i)}}class Xl{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Do{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(i){const h=Math.round((i-this.lng)/360);if(h!==0)for(const p in this.indexes){const y=this.indexes[p],b={};for(const T in y){const k=y[T];k.tileID=k.tileID.unwrapTo(k.tileID.wrap+h),b[k.tileID.key]=k}this.indexes[p]=b}this.lng=i}addBucket(i,h,p){if(this.indexes[i.overscaledZ]&&this.indexes[i.overscaledZ][i.key]){if(this.indexes[i.overscaledZ][i.key].bucketInstanceId===h.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(i.overscaledZ,this.indexes[i.overscaledZ][i.key])}for(let b=0;b<h.symbolInstances.length;b++)h.symbolInstances.get(b).crossTileID=0;this.usedCrossTileIDs[i.overscaledZ]||(this.usedCrossTileIDs[i.overscaledZ]={});const y=this.usedCrossTileIDs[i.overscaledZ];for(const b in this.indexes){const T=this.indexes[b];if(Number(b)>i.overscaledZ)for(const k in T){const R=T[k];R.tileID.isChildOf(i)&&R.findMatches(h.symbolInstances,i,y)}else{const k=T[i.scaledTo(Number(b)).key];k&&k.findMatches(h.symbolInstances,i,y)}}for(let b=0;b<h.symbolInstances.length;b++){const T=h.symbolInstances.get(b);T.crossTileID||(T.crossTileID=p.generate(),y[T.crossTileID]=!0)}return this.indexes[i.overscaledZ]===void 0&&(this.indexes[i.overscaledZ]={}),this.indexes[i.overscaledZ][i.key]=new wi(i,h.symbolInstances,h.bucketInstanceId),!0}removeBucketCrossTileIDs(i,h){for(const p of h.getCrossTileIDsLists())for(const y of p)delete this.usedCrossTileIDs[i][y]}removeStaleBuckets(i){let h=!1;for(const p in this.indexes){const y=this.indexes[p];for(const b in y)i[y[b].bucketInstanceId]||(this.removeBucketCrossTileIDs(p,y[b]),delete y[b],h=!0)}return h}}class Kl{constructor(){this.layerIndexes={},this.crossTileIDs=new Xl,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(i,h,p){let y=this.layerIndexes[i.id];y===void 0&&(y=this.layerIndexes[i.id]=new Do);let b=!1;const T={};y.handleWrapJump(p);for(const k of h){const R=k.getBucket(i);R&&i.id===R.layerIds[0]&&(R.bucketInstanceId||(R.bucketInstanceId=++this.maxBucketInstanceId),y.addBucket(k.tileID,R,this.crossTileIDs)&&(b=!0),T[R.bucketInstanceId]=!0)}return y.removeStaleBuckets(T)&&(b=!0),b}pruneUnusedLayers(i){const h={};i.forEach(p=>{h[p]=!0});for(const p in this.layerIndexes)h[p]||delete this.layerIndexes[p]}}const $i=(g,i)=>l.t(g,i&&i.filter(h=>h.identifier!=="source.canvas")),Zl=l.aw();class wo extends l.E{constructor(i,h={}){super(),this._rtlPluginLoaded=()=>{for(const p in this.sourceCaches){const y=this.sourceCaches[p].getSource().type;y!=="vector"&&y!=="geojson"||this.sourceCaches[p].reload()}},this.map=i,this.dispatcher=new lt(qe(),i._getMapId()),this.dispatcher.registerMessageHandler("GG",(p,y)=>this.getGlyphs(p,y)),this.dispatcher.registerMessageHandler("GI",(p,y)=>this.getImages(p,y)),this.imageManager=new be,this.imageManager.setEventedParent(this),this.glyphManager=new je(i._requestManager,h.localIdeographFontFamily),this.lineAtlas=new me(256,512),this.crossTileSymbolIndex=new Kl,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new l.ax,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("SR",l.ay()),Lt().on(Ze,this._rtlPluginLoaded),this.on("data",p=>{if(p.dataType!=="source"||p.sourceDataType!=="metadata")return;const y=this.sourceCaches[p.sourceId];if(!y)return;const b=y.getSource();if(b&&b.vectorLayerIds)for(const T in this._layers){const k=this._layers[T];k.source===b.id&&this._validateLayer(k)}})}loadURL(i,h={},p){this.fire(new l.k("dataloading",{dataType:"style"})),h.validate=typeof h.validate!="boolean"||h.validate;const y=this.map._requestManager.transformRequest(i,"Style");this._loadStyleRequest=new AbortController;const b=this._loadStyleRequest;l.h(y,this._loadStyleRequest).then(T=>{this._loadStyleRequest=null,this._load(T.data,h,p)}).catch(T=>{this._loadStyleRequest=null,T&&!b.signal.aborted&&this.fire(new l.j(T))})}loadJSON(i,h={},p){this.fire(new l.k("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,w.frameAsync(this._frameRequest).then(()=>{this._frameRequest=null,h.validate=h.validate!==!1,this._load(i,h,p)}).catch(()=>{})}loadEmpty(){this.fire(new l.k("dataloading",{dataType:"style"})),this._load(Zl,{validate:!1})}_load(i,h,p){var y;const b=h.transformStyle?h.transformStyle(p,i):i;if(!h.validate||!$i(this,l.u(b))){this._loaded=!0,this.stylesheet=b;for(const T in b.sources)this.addSource(T,b.sources[T],{validate:!1});b.sprite?this._loadSprite(b.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(b.glyphs),this._createLayers(),this.light=new Ke(this.stylesheet.light),this.sky=new le(this.stylesheet.sky),this.map.setTerrain((y=this.stylesheet.terrain)!==null&&y!==void 0?y:null),this.fire(new l.k("data",{dataType:"style"})),this.fire(new l.k("style.load"))}}_createLayers(){const i=l.az(this.stylesheet.layers);this.dispatcher.broadcast("SL",i),this._order=i.map(h=>h.id),this._layers={},this._serializedLayers=null;for(const h of i){const p=l.aA(h);p.setEventedParent(this,{layer:{id:h.id}}),this._layers[h.id]=p}}_loadSprite(i,h=!1,p=void 0){let y;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,function(b,T,k,R){return l._(this,void 0,void 0,function*(){const B=Ae(b),H=k>1?"@2x":"",q={},te={};for(const{id:se,url:ee}of B){const he=T.transformRequest(Z(ee,H,".json"),"SpriteJSON");q[se]=l.h(he,R);const Se=T.transformRequest(Z(ee,H,".png"),"SpriteImage");te[se]=V.getImage(Se,R)}return yield Promise.all([...Object.values(q),...Object.values(te)]),function(se,ee){return l._(this,void 0,void 0,function*(){const he={};for(const Se in se){he[Se]={};const Ee=w.getImageCanvasContext((yield ee[Se]).data),ke=(yield se[Se]).data;for(const Te in ke){const{width:Fe,height:Xe,x:Ge,y:wt,sdf:Mt,pixelRatio:$t,stretchX:qt,stretchY:zt,content:Bt,textFitWidth:Ht,textFitHeight:Ar}=ke[Te];he[Se][Te]={data:null,pixelRatio:$t,sdf:Mt,stretchX:qt,stretchY:zt,content:Bt,textFitWidth:Ht,textFitHeight:Ar,spriteData:{width:Fe,height:Xe,x:Ge,y:wt,context:Ee}}}}return he})}(q,te)})}(i,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then(b=>{if(this._spriteRequest=null,b)for(const T in b){this._spritesImagesIds[T]=[];const k=this._spritesImagesIds[T]?this._spritesImagesIds[T].filter(R=>!(R in b)):[];for(const R of k)this.imageManager.removeImage(R),this._changedImages[R]=!0;for(const R in b[T]){const B=T==="default"?R:`${T}:${R}`;this._spritesImagesIds[T].push(B),B in this.imageManager.images?this.imageManager.updateImage(B,b[T][R],!1):this.imageManager.addImage(B,b[T][R]),h&&(this._changedImages[B]=!0)}}}).catch(b=>{this._spriteRequest=null,y=b,this.fire(new l.j(y))}).finally(()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),h&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new l.k("data",{dataType:"style"})),p&&p(y)})}_unloadSprite(){for(const i of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(i),this._changedImages[i]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new l.k("data",{dataType:"style"}))}_validateLayer(i){const h=this.sourceCaches[i.source];if(!h)return;const p=i.sourceLayer;if(!p)return;const y=h.getSource();(y.type==="geojson"||y.vectorLayerIds&&y.vectorLayerIds.indexOf(p)===-1)&&this.fire(new l.j(new Error(`Source layer "${p}" does not exist on source "${y.id}" as specified by style layer "${i.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const i in this.sourceCaches)if(!this.sourceCaches[i].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(i,h=!1){const p=this._serializedAllLayers();if(!i||i.length===0)return Object.values(h?l.aB(p):p);const y=[];for(const b of i)if(p[b]){const T=h?l.aB(p[b]):p[b];y.push(T)}return y}_serializedAllLayers(){let i=this._serializedLayers;if(i)return i;i=this._serializedLayers={};const h=Object.keys(this._layers);for(const p of h){const y=this._layers[p];y.type!=="custom"&&(i[p]=y.serialize())}return i}hasTransitions(){if(this.light&&this.light.hasTransition()||this.sky&&this.sky.hasTransition())return!0;for(const i in this.sourceCaches)if(this.sourceCaches[i].hasTransition())return!0;for(const i in this._layers)if(this._layers[i].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(i){if(!this._loaded)return;const h=this._changed;if(h){const y=Object.keys(this._updatedLayers),b=Object.keys(this._removedLayers);(y.length||b.length)&&this._updateWorkerLayers(y,b);for(const T in this._updatedSources){const k=this._updatedSources[T];if(k==="reload")this._reloadSource(T);else{if(k!=="clear")throw new Error(`Invalid action ${k}`);this._clearSource(T)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const T in this._updatedPaintProps)this._layers[T].updateTransitions(i);this.light.updateTransitions(i),this.sky.updateTransitions(i),this._resetUpdates()}const p={};for(const y in this.sourceCaches){const b=this.sourceCaches[y];p[y]=b.used,b.used=!1}for(const y of this._order){const b=this._layers[y];b.recalculate(i,this._availableImages),!b.isHidden(i.zoom)&&b.source&&(this.sourceCaches[b.source].used=!0)}for(const y in p){const b=this.sourceCaches[y];!!p[y]!=!!b.used&&b.fire(new l.k("data",{sourceDataType:"visibility",dataType:"source",sourceId:y}))}this.light.recalculate(i),this.sky.recalculate(i),this.z=i.zoom,h&&this.fire(new l.k("data",{dataType:"style"}))}_updateTilesForChangedImages(){const i=Object.keys(this._changedImages);if(i.length){for(const h in this.sourceCaches)this.sourceCaches[h].reloadTilesForDependencies(["icons","patterns"],i);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const i in this.sourceCaches)this.sourceCaches[i].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(i,h){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(i,!1),removedIds:h})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(i,h={}){var p;this._checkLoaded();const y=this.serialize();if(i=h.transformStyle?h.transformStyle(y,i):i,((p=h.validate)===null||p===void 0||p)&&$i(this,l.u(i)))return!1;(i=l.aB(i)).layers=l.az(i.layers);const b=l.aC(y,i),T=this._getOperationsToPerform(b);if(T.unimplemented.length>0)throw new Error(`Unimplemented: ${T.unimplemented.join(", ")}.`);if(T.operations.length===0)return!1;for(const k of T.operations)k();return this.stylesheet=i,this._serializedLayers=null,!0}_getOperationsToPerform(i){const h=[],p=[];for(const y of i)switch(y.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":continue;case"addLayer":h.push(()=>this.addLayer.apply(this,y.args));break;case"removeLayer":h.push(()=>this.removeLayer.apply(this,y.args));break;case"setPaintProperty":h.push(()=>this.setPaintProperty.apply(this,y.args));break;case"setLayoutProperty":h.push(()=>this.setLayoutProperty.apply(this,y.args));break;case"setFilter":h.push(()=>this.setFilter.apply(this,y.args));break;case"addSource":h.push(()=>this.addSource.apply(this,y.args));break;case"removeSource":h.push(()=>this.removeSource.apply(this,y.args));break;case"setLayerZoomRange":h.push(()=>this.setLayerZoomRange.apply(this,y.args));break;case"setLight":h.push(()=>this.setLight.apply(this,y.args));break;case"setGeoJSONSourceData":h.push(()=>this.setGeoJSONSourceData.apply(this,y.args));break;case"setGlyphs":h.push(()=>this.setGlyphs.apply(this,y.args));break;case"setSprite":h.push(()=>this.setSprite.apply(this,y.args));break;case"setSky":h.push(()=>this.setSky.apply(this,y.args));break;case"setTerrain":h.push(()=>this.map.setTerrain.apply(this,y.args));break;case"setTransition":h.push(()=>{});break;default:p.push(y.command)}return{operations:h,unimplemented:p}}addImage(i,h){if(this.getImage(i))return this.fire(new l.j(new Error(`An image named "${i}" already exists.`)));this.imageManager.addImage(i,h),this._afterImageUpdated(i)}updateImage(i,h){this.imageManager.updateImage(i,h)}getImage(i){return this.imageManager.getImage(i)}removeImage(i){if(!this.getImage(i))return this.fire(new l.j(new Error(`An image named "${i}" does not exist.`)));this.imageManager.removeImage(i),this._afterImageUpdated(i)}_afterImageUpdated(i){this._availableImages=this.imageManager.listImages(),this._changedImages[i]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new l.k("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(i,h,p={}){if(this._checkLoaded(),this.sourceCaches[i]!==void 0)throw new Error(`Source "${i}" already exists.`);if(!h.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(h).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(h.type)>=0&&this._validate(l.u.source,`sources.${i}`,h,null,p))return;this.map&&this.map._collectResourceTiming&&(h.collectResourceTiming=!0);const y=this.sourceCaches[i]=new Vt(i,h,this.dispatcher);y.style=this,y.setEventedParent(this,()=>({isSourceLoaded:y.loaded(),source:y.serialize(),sourceId:i})),y.onAdd(this.map),this._changed=!0}removeSource(i){if(this._checkLoaded(),this.sourceCaches[i]===void 0)throw new Error("There is no source with this ID");for(const p in this._layers)if(this._layers[p].source===i)return this.fire(new l.j(new Error(`Source "${i}" cannot be removed while layer "${p}" is using it.`)));const h=this.sourceCaches[i];delete this.sourceCaches[i],delete this._updatedSources[i],h.fire(new l.k("data",{sourceDataType:"metadata",dataType:"source",sourceId:i})),h.setEventedParent(null),h.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(i,h){if(this._checkLoaded(),this.sourceCaches[i]===void 0)throw new Error(`There is no source with this ID=${i}`);const p=this.sourceCaches[i].getSource();if(p.type!=="geojson")throw new Error(`geojsonSource.type is ${p.type}, which is !== 'geojson`);p.setData(h),this._changed=!0}getSource(i){return this.sourceCaches[i]&&this.sourceCaches[i].getSource()}addLayer(i,h,p={}){this._checkLoaded();const y=i.id;if(this.getLayer(y))return void this.fire(new l.j(new Error(`Layer "${y}" already exists on this map.`)));let b;if(i.type==="custom"){if($i(this,l.aD(i)))return;b=l.aA(i)}else{if("source"in i&&typeof i.source=="object"&&(this.addSource(y,i.source),i=l.aB(i),i=l.e(i,{source:y})),this._validate(l.u.layer,`layers.${y}`,i,{arrayIndex:-1},p))return;b=l.aA(i),this._validateLayer(b),b.setEventedParent(this,{layer:{id:y}})}const T=h?this._order.indexOf(h):this._order.length;if(h&&T===-1)this.fire(new l.j(new Error(`Cannot add layer "${y}" before non-existing layer "${h}".`)));else{if(this._order.splice(T,0,y),this._layerOrderChanged=!0,this._layers[y]=b,this._removedLayers[y]&&b.source&&b.type!=="custom"){const k=this._removedLayers[y];delete this._removedLayers[y],k.type!==b.type?this._updatedSources[b.source]="clear":(this._updatedSources[b.source]="reload",this.sourceCaches[b.source].pause())}this._updateLayer(b),b.onAdd&&b.onAdd(this.map)}}moveLayer(i,h){if(this._checkLoaded(),this._changed=!0,!this._layers[i])return void this.fire(new l.j(new Error(`The layer '${i}' does not exist in the map's style and cannot be moved.`)));if(i===h)return;const p=this._order.indexOf(i);this._order.splice(p,1);const y=h?this._order.indexOf(h):this._order.length;h&&y===-1?this.fire(new l.j(new Error(`Cannot move layer "${i}" before non-existing layer "${h}".`))):(this._order.splice(y,0,i),this._layerOrderChanged=!0)}removeLayer(i){this._checkLoaded();const h=this._layers[i];if(!h)return void this.fire(new l.j(new Error(`Cannot remove non-existing layer "${i}".`)));h.setEventedParent(null);const p=this._order.indexOf(i);this._order.splice(p,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[i]=h,delete this._layers[i],this._serializedLayers&&delete this._serializedLayers[i],delete this._updatedLayers[i],delete this._updatedPaintProps[i],h.onRemove&&h.onRemove(this.map)}getLayer(i){return this._layers[i]}getLayersOrder(){return[...this._order]}hasLayer(i){return i in this._layers}setLayerZoomRange(i,h,p){this._checkLoaded();const y=this.getLayer(i);y?y.minzoom===h&&y.maxzoom===p||(h!=null&&(y.minzoom=h),p!=null&&(y.maxzoom=p),this._updateLayer(y)):this.fire(new l.j(new Error(`Cannot set the zoom range of non-existing layer "${i}".`)))}setFilter(i,h,p={}){this._checkLoaded();const y=this.getLayer(i);if(y){if(!l.aE(y.filter,h))return h==null?(y.filter=void 0,void this._updateLayer(y)):void(this._validate(l.u.filter,`layers.${y.id}.filter`,h,null,p)||(y.filter=l.aB(h),this._updateLayer(y)))}else this.fire(new l.j(new Error(`Cannot filter non-existing layer "${i}".`)))}getFilter(i){return l.aB(this.getLayer(i).filter)}setLayoutProperty(i,h,p,y={}){this._checkLoaded();const b=this.getLayer(i);b?l.aE(b.getLayoutProperty(h),p)||(b.setLayoutProperty(h,p,y),this._updateLayer(b)):this.fire(new l.j(new Error(`Cannot style non-existing layer "${i}".`)))}getLayoutProperty(i,h){const p=this.getLayer(i);if(p)return p.getLayoutProperty(h);this.fire(new l.j(new Error(`Cannot get style of non-existing layer "${i}".`)))}setPaintProperty(i,h,p,y={}){this._checkLoaded();const b=this.getLayer(i);b?l.aE(b.getPaintProperty(h),p)||(b.setPaintProperty(h,p,y)&&this._updateLayer(b),this._changed=!0,this._updatedPaintProps[i]=!0,this._serializedLayers=null):this.fire(new l.j(new Error(`Cannot style non-existing layer "${i}".`)))}getPaintProperty(i,h){return this.getLayer(i).getPaintProperty(h)}setFeatureState(i,h){this._checkLoaded();const p=i.source,y=i.sourceLayer,b=this.sourceCaches[p];if(b===void 0)return void this.fire(new l.j(new Error(`The source '${p}' does not exist in the map's style.`)));const T=b.getSource().type;T==="geojson"&&y?this.fire(new l.j(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):T!=="vector"||y?(i.id===void 0&&this.fire(new l.j(new Error("The feature id parameter must be provided."))),b.setFeatureState(y,i.id,h)):this.fire(new l.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(i,h){this._checkLoaded();const p=i.source,y=this.sourceCaches[p];if(y===void 0)return void this.fire(new l.j(new Error(`The source '${p}' does not exist in the map's style.`)));const b=y.getSource().type,T=b==="vector"?i.sourceLayer:void 0;b!=="vector"||T?h&&typeof i.id!="string"&&typeof i.id!="number"?this.fire(new l.j(new Error("A feature id is required to remove its specific state property."))):y.removeFeatureState(T,i.id,h):this.fire(new l.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(i){this._checkLoaded();const h=i.source,p=i.sourceLayer,y=this.sourceCaches[h];if(y!==void 0)return y.getSource().type!=="vector"||p?(i.id===void 0&&this.fire(new l.j(new Error("The feature id parameter must be provided."))),y.getFeatureState(p,i.id)):void this.fire(new l.j(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new l.j(new Error(`The source '${h}' does not exist in the map's style.`)))}getTransition(){return l.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const i=l.aF(this.sourceCaches,b=>b.serialize()),h=this._serializeByIds(this._order,!0),p=this.map.getTerrain()||void 0,y=this.stylesheet;return l.aG({version:y.version,name:y.name,metadata:y.metadata,light:y.light,sky:y.sky,center:y.center,zoom:y.zoom,bearing:y.bearing,pitch:y.pitch,sprite:y.sprite,glyphs:y.glyphs,transition:y.transition,sources:i,layers:h,terrain:p},b=>b!==void 0)}_updateLayer(i){this._updatedLayers[i.id]=!0,i.source&&!this._updatedSources[i.source]&&this.sourceCaches[i.source].getSource().type!=="raster"&&(this._updatedSources[i.source]="reload",this.sourceCaches[i.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(i){const h=T=>this._layers[T].type==="fill-extrusion",p={},y=[];for(let T=this._order.length-1;T>=0;T--){const k=this._order[T];if(h(k)){p[k]=T;for(const R of i){const B=R[k];if(B)for(const H of B)y.push(H)}}}y.sort((T,k)=>k.intersectionZ-T.intersectionZ);const b=[];for(let T=this._order.length-1;T>=0;T--){const k=this._order[T];if(h(k))for(let R=y.length-1;R>=0;R--){const B=y[R].feature;if(p[B.layer.id]<T)break;b.push(B),y.pop()}else for(const R of i){const B=R[k];if(B)for(const H of B)b.push(H.feature)}}return b}queryRenderedFeatures(i,h,p){h&&h.filter&&this._validate(l.u.filter,"queryRenderedFeatures.filter",h.filter,null,h);const y={};if(h&&h.layers){if(!Array.isArray(h.layers))return this.fire(new l.j(new Error("parameters.layers must be an Array."))),[];for(const k of h.layers){const R=this._layers[k];if(!R)return this.fire(new l.j(new Error(`The layer '${k}' does not exist in the map's style and cannot be queried for features.`))),[];y[R.source]=!0}}const b=[];h.availableImages=this._availableImages;const T=this._serializedAllLayers();for(const k in this.sourceCaches)h.layers&&!y[k]||b.push(St(this.sourceCaches[k],this._layers,T,i,h,p));return this.placement&&b.push(function(k,R,B,H,q,te,se){const ee={},he=te.queryRenderedSymbols(H),Se=[];for(const Ee of Object.keys(he).map(Number))Se.push(se[Ee]);Se.sort(kt);for(const Ee of Se){const ke=Ee.featureIndex.lookupSymbolFeatures(he[Ee.bucketInstanceId],R,Ee.bucketIndex,Ee.sourceLayerIndex,q.filter,q.layers,q.availableImages,k);for(const Te in ke){const Fe=ee[Te]=ee[Te]||[],Xe=ke[Te];Xe.sort((Ge,wt)=>{const Mt=Ee.featureSortOrder;if(Mt){const $t=Mt.indexOf(Ge.featureIndex);return Mt.indexOf(wt.featureIndex)-$t}return wt.featureIndex-Ge.featureIndex});for(const Ge of Xe)Fe.push(Ge)}}for(const Ee in ee)ee[Ee].forEach(ke=>{const Te=ke.feature,Fe=B[k[Ee].source].getFeatureState(Te.layer["source-layer"],Te.id);Te.source=Te.layer.source,Te.layer["source-layer"]&&(Te.sourceLayer=Te.layer["source-layer"]),Te.state=Fe});return ee}(this._layers,T,this.sourceCaches,i,h,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(b)}querySourceFeatures(i,h){h&&h.filter&&this._validate(l.u.filter,"querySourceFeatures.filter",h.filter,null,h);const p=this.sourceCaches[i];return p?function(y,b){const T=y.getRenderableIds().map(B=>y.getTileByID(B)),k=[],R={};for(let B=0;B<T.length;B++){const H=T[B],q=H.tileID.canonical.key;R[q]||(R[q]=!0,H.querySourceFeatures(k,b))}return k}(p,h):[]}getLight(){return this.light.getLight()}setLight(i,h={}){this._checkLoaded();const p=this.light.getLight();let y=!1;for(const T in i)if(!l.aE(i[T],p[T])){y=!0;break}if(!y)return;const b={now:w.now(),transition:l.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(i,h),this.light.updateTransitions(b)}getSky(){var i;return(i=this.stylesheet)===null||i===void 0?void 0:i.sky}setSky(i,h={}){const p=this.getSky();let y=!1;if(!i&&!p)return;if(i&&!p)y=!0;else if(!i&&p)y=!0;else for(const T in i)if(!l.aE(i[T],p[T])){y=!0;break}if(!y)return;const b={now:w.now(),transition:l.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=i,this.sky.setSky(i,h),this.sky.updateTransitions(b)}_validate(i,h,p,y,b={}){return(!b||b.validate!==!1)&&$i(this,i.call(l.u,l.e({key:h,style:this.serialize(),value:p,styleSpec:l.v},y)))}_remove(i=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),Lt().off(Ze,this._rtlPluginLoaded);for(const h in this._layers)this._layers[h].setEventedParent(null);for(const h in this.sourceCaches){const p=this.sourceCaches[h];p.setEventedParent(null),p.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),i&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(i)}_clearSource(i){this.sourceCaches[i].clearTiles()}_reloadSource(i){this.sourceCaches[i].resume(),this.sourceCaches[i].reload()}_updateSources(i){for(const h in this.sourceCaches)this.sourceCaches[h].update(i,this.map.terrain)}_generateCollisionBoxes(){for(const i in this.sourceCaches)this._reloadSource(i)}_updatePlacement(i,h,p,y,b=!1){let T=!1,k=!1;const R={};for(const B of this._order){const H=this._layers[B];if(H.type!=="symbol")continue;if(!R[H.source]){const te=this.sourceCaches[H.source];R[H.source]=te.getRenderableIds(!0).map(se=>te.getTileByID(se)).sort((se,ee)=>ee.tileID.overscaledZ-se.tileID.overscaledZ||(se.tileID.isLessThan(ee.tileID)?-1:1))}const q=this.crossTileSymbolIndex.addLayer(H,R[H.source],i.center.lng);T=T||q}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((b=b||this._layerOrderChanged||p===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(w.now(),i.zoom))&&(this.pauseablePlacement=new li(i,this.map.terrain,this._order,b,h,p,y,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,R),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(w.now()),k=!0),T&&this.pauseablePlacement.placement.setStale()),k||T)for(const B of this._order){const H=this._layers[B];H.type==="symbol"&&this.placement.updateLayerOpacities(H,R[H.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(w.now())}_releaseSymbolFadeTiles(){for(const i in this.sourceCaches)this.sourceCaches[i].releaseSymbolFadeTiles()}getImages(i,h){return l._(this,void 0,void 0,function*(){const p=yield this.imageManager.getImages(h.icons);this._updateTilesForChangedImages();const y=this.sourceCaches[h.source];return y&&y.setDependencies(h.tileID.key,h.type,h.icons),p})}getGlyphs(i,h){return l._(this,void 0,void 0,function*(){const p=yield this.glyphManager.getGlyphs(h.stacks),y=this.sourceCaches[h.source];return y&&y.setDependencies(h.tileID.key,h.type,[""]),p})}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(i,h={}){this._checkLoaded(),i&&this._validate(l.u.glyphs,"glyphs",i,null,h)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=i,this.glyphManager.entries={},this.glyphManager.setURL(i))}addSprite(i,h,p={},y){this._checkLoaded();const b=[{id:i,url:h}],T=[...Ae(this.stylesheet.sprite),...b];this._validate(l.u.sprite,"sprite",T,null,p)||(this.stylesheet.sprite=T,this._loadSprite(b,!0,y))}removeSprite(i){this._checkLoaded();const h=Ae(this.stylesheet.sprite);if(h.find(p=>p.id===i)){if(this._spritesImagesIds[i])for(const p of this._spritesImagesIds[i])this.imageManager.removeImage(p),this._changedImages[p]=!0;h.splice(h.findIndex(p=>p.id===i),1),this.stylesheet.sprite=h.length>0?h:void 0,delete this._spritesImagesIds[i],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new l.k("data",{dataType:"style"}))}else this.fire(new l.j(new Error(`Sprite "${i}" doesn't exists on this map.`)))}getSprite(){return Ae(this.stylesheet.sprite)}setSprite(i,h={},p){this._checkLoaded(),i&&this._validate(l.u.sprite,"sprite",i,null,h)||(this.stylesheet.sprite=i,i?this._loadSprite(i,!0,p):(this._unloadSprite(),p&&p(null)))}}var Ja=l.Y([{name:"a_pos",type:"Int16",components:2}]);const Qa={prelude:kn(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:kn(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:kn(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:kn(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);float antialiased_blur=v_data.z;float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}float antialiasblur=-max(1.0/u_device_pixel_ratio/(radius+stroke_width),blur);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:kn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:kn(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,get_elevation(floor(a_pos*0.5)),1);gl_Position=u_matrix*pos;}`),heatmapTexture:kn(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:kn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_anchor_pos;attribute vec2 a_placed;attribute vec2 a_box_real;uniform mat4 u_matrix;uniform vec2 u_pixel_extrude_scale;varying float v_placed;varying float v_notUsed;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:kn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:kn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:kn(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:kn(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:kn(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:kn(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:kn(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:kn(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:kn(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:kn(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:kn(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:kn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:kn(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:kn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:kn(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:kn(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec2 v_tex;varying float v_fade_opacity;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:kn(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec2 v_data0;varying vec3 v_data1;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:kn(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec4 v_data0;varying vec4 v_data1;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:kn("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;varying vec2 v_texture_pos;varying float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture2D(u_texture,v_texture_pos);if (v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);gl_FragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {gl_FragColor=surface_color;}}","attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform mat4 u_fog_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=u_matrix*vec4(a_pos3d.xy,ele-ele_delta,1.0);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:kn("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}","attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=u_matrix*vec4(a_pos3d.xy,ele-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:kn("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=u_matrix*vec4(a_pos3d.xy,ele-ele_delta,1.0);}"),sky:kn("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform float u_horizon;uniform float u_sky_horizon_blend;void main() {float y=gl_FragCoord.y;if (y > u_horizon) {float blend=y-u_horizon;if (blend < u_sky_horizon_blend) {gl_FragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {gl_FragColor=u_sky_color;}}}","attribute vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function kn(g,i){const h=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,p=i.match(/attribute ([\w]+) ([\w]+)/g),y=g.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),b=i.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),T=b?b.concat(y):y,k={};return{fragmentSource:g=g.replace(h,(R,B,H,q,te)=>(k[te]=!0,B==="define"?`
#ifndef HAS_UNIFORM_u_${te}
varying ${H} ${q} ${te};
#else
uniform ${H} ${q} u_${te};
#endif
`:`
#ifdef HAS_UNIFORM_u_${te}
    ${H} ${q} ${te} = u_${te};
#endif
`)),vertexSource:i=i.replace(h,(R,B,H,q,te)=>{const se=q==="float"?"vec2":"vec4",ee=te.match(/color/)?"color":se;return k[te]?B==="define"?`
#ifndef HAS_UNIFORM_u_${te}
uniform lowp float u_${te}_t;
attribute ${H} ${se} a_${te};
varying ${H} ${q} ${te};
#else
uniform ${H} ${q} u_${te};
#endif
`:ee==="vec4"?`
#ifndef HAS_UNIFORM_u_${te}
    ${te} = a_${te};
#else
    ${H} ${q} ${te} = u_${te};
#endif
`:`
#ifndef HAS_UNIFORM_u_${te}
    ${te} = unpack_mix_${ee}(a_${te}, u_${te}_t);
#else
    ${H} ${q} ${te} = u_${te};
#endif
`:B==="define"?`
#ifndef HAS_UNIFORM_u_${te}
uniform lowp float u_${te}_t;
attribute ${H} ${se} a_${te};
#else
uniform ${H} ${q} u_${te};
#endif
`:ee==="vec4"?`
#ifndef HAS_UNIFORM_u_${te}
    ${H} ${q} ${te} = a_${te};
#else
    ${H} ${q} ${te} = u_${te};
#endif
`:`
#ifndef HAS_UNIFORM_u_${te}
    ${H} ${q} ${te} = unpack_mix_${ee}(a_${te}, u_${te}_t);
#else
    ${H} ${q} ${te} = u_${te};
#endif
`}),staticAttributes:p,staticUniforms:T}}class D{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(i,h,p,y,b,T,k,R,B){this.context=i;let H=this.boundPaintVertexBuffers.length!==y.length;for(let q=0;!H&&q<y.length;q++)this.boundPaintVertexBuffers[q]!==y[q]&&(H=!0);!this.vao||this.boundProgram!==h||this.boundLayoutVertexBuffer!==p||H||this.boundIndexBuffer!==b||this.boundVertexOffset!==T||this.boundDynamicVertexBuffer!==k||this.boundDynamicVertexBuffer2!==R||this.boundDynamicVertexBuffer3!==B?this.freshBind(h,p,y,b,T,k,R,B):(i.bindVertexArray.set(this.vao),k&&k.bind(),b&&b.dynamicDraw&&b.bind(),R&&R.bind(),B&&B.bind())}freshBind(i,h,p,y,b,T,k,R){const B=i.numAttributes,H=this.context,q=H.gl;this.vao&&this.destroy(),this.vao=H.createVertexArray(),H.bindVertexArray.set(this.vao),this.boundProgram=i,this.boundLayoutVertexBuffer=h,this.boundPaintVertexBuffers=p,this.boundIndexBuffer=y,this.boundVertexOffset=b,this.boundDynamicVertexBuffer=T,this.boundDynamicVertexBuffer2=k,this.boundDynamicVertexBuffer3=R,h.enableAttributes(q,i);for(const te of p)te.enableAttributes(q,i);T&&T.enableAttributes(q,i),k&&k.enableAttributes(q,i),R&&R.enableAttributes(q,i),h.bind(),h.setVertexAttribPointers(q,i,b);for(const te of p)te.bind(),te.setVertexAttribPointers(q,i,b);T&&(T.bind(),T.setVertexAttribPointers(q,i,b)),y&&y.bind(),k&&(k.bind(),k.setVertexAttribPointers(q,i,b)),R&&(R.bind(),R.setVertexAttribPointers(q,i,b)),H.currentNumAttributes=B}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}const G=(g,i,h,p,y)=>({u_matrix:g,u_texture:0,u_ele_delta:i,u_fog_matrix:h,u_fog_color:p?p.properties.get("fog-color"):l.aM.white,u_fog_ground_blend:p?p.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:p?p.calculateFogBlendOpacity(y):0,u_horizon_color:p?p.properties.get("horizon-color"):l.aM.white,u_horizon_fog_blend:p?p.properties.get("horizon-fog-blend"):1});function ye(g){const i=[];for(let h=0;h<g.length;h++){if(g[h]===null)continue;const p=g[h].split(" ");i.push(p.pop())}return i}class ze{constructor(i,h,p,y,b,T){const k=i.gl;this.program=k.createProgram();const R=ye(h.staticAttributes),B=p?p.getBinderAttributes():[],H=R.concat(B),q=Qa.prelude.staticUniforms?ye(Qa.prelude.staticUniforms):[],te=h.staticUniforms?ye(h.staticUniforms):[],se=p?p.getBinderUniforms():[],ee=q.concat(te).concat(se),he=[];for(const Ge of ee)he.indexOf(Ge)<0&&he.push(Ge);const Se=p?p.defines():[];b&&Se.push("#define OVERDRAW_INSPECTOR;"),T&&Se.push("#define TERRAIN3D;");const Ee=Se.concat(Qa.prelude.fragmentSource,h.fragmentSource).join(`
`),ke=Se.concat(Qa.prelude.vertexSource,h.vertexSource).join(`
`),Te=k.createShader(k.FRAGMENT_SHADER);if(k.isContextLost())return void(this.failedToCreate=!0);if(k.shaderSource(Te,Ee),k.compileShader(Te),!k.getShaderParameter(Te,k.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${k.getShaderInfoLog(Te)}`);k.attachShader(this.program,Te);const Fe=k.createShader(k.VERTEX_SHADER);if(k.isContextLost())return void(this.failedToCreate=!0);if(k.shaderSource(Fe,ke),k.compileShader(Fe),!k.getShaderParameter(Fe,k.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${k.getShaderInfoLog(Fe)}`);k.attachShader(this.program,Fe),this.attributes={};const Xe={};this.numAttributes=H.length;for(let Ge=0;Ge<this.numAttributes;Ge++)H[Ge]&&(k.bindAttribLocation(this.program,Ge,H[Ge]),this.attributes[H[Ge]]=Ge);if(k.linkProgram(this.program),!k.getProgramParameter(this.program,k.LINK_STATUS))throw new Error(`Program failed to link: ${k.getProgramInfoLog(this.program)}`);k.deleteShader(Fe),k.deleteShader(Te);for(let Ge=0;Ge<he.length;Ge++){const wt=he[Ge];if(wt&&!Xe[wt]){const Mt=k.getUniformLocation(this.program,wt);Mt&&(Xe[wt]=Mt)}}this.fixedUniforms=y(i,Xe),this.terrainUniforms=((Ge,wt)=>({u_depth:new l.aH(Ge,wt.u_depth),u_terrain:new l.aH(Ge,wt.u_terrain),u_terrain_dim:new l.aI(Ge,wt.u_terrain_dim),u_terrain_matrix:new l.aJ(Ge,wt.u_terrain_matrix),u_terrain_unpack:new l.aK(Ge,wt.u_terrain_unpack),u_terrain_exaggeration:new l.aI(Ge,wt.u_terrain_exaggeration)}))(i,Xe),this.binderUniforms=p?p.getUniforms(i,Xe):[]}draw(i,h,p,y,b,T,k,R,B,H,q,te,se,ee,he,Se,Ee,ke){const Te=i.gl;if(this.failedToCreate)return;if(i.program.set(this.program),i.setDepthMode(p),i.setStencilMode(y),i.setColorMode(b),i.setCullFace(T),R){i.activeTexture.set(Te.TEXTURE2),Te.bindTexture(Te.TEXTURE_2D,R.depthTexture),i.activeTexture.set(Te.TEXTURE3),Te.bindTexture(Te.TEXTURE_2D,R.texture);for(const Xe in this.terrainUniforms)this.terrainUniforms[Xe].set(R[Xe])}for(const Xe in this.fixedUniforms)this.fixedUniforms[Xe].set(k[Xe]);he&&he.setUniforms(i,this.binderUniforms,se,{zoom:ee});let Fe=0;switch(h){case Te.LINES:Fe=2;break;case Te.TRIANGLES:Fe=3;break;case Te.LINE_STRIP:Fe=1}for(const Xe of te.get()){const Ge=Xe.vaos||(Xe.vaos={});(Ge[B]||(Ge[B]=new D)).bind(i,this,H,he?he.getPaintVertexBuffers():[],q,Xe.vertexOffset,Se,Ee,ke),Te.drawElements(h,Xe.primitiveLength*Fe,Te.UNSIGNED_SHORT,Xe.primitiveOffset*Fe*2)}}}function et(g,i,h){const p=1/en(h,1,i.transform.tileZoom),y=Math.pow(2,h.tileID.overscaledZ),b=h.tileSize*Math.pow(2,i.transform.tileZoom)/y,T=b*(h.tileID.canonical.x+h.tileID.wrap*y),k=b*h.tileID.canonical.y;return{u_image:0,u_texsize:h.imageAtlasTexture.size,u_scale:[p,g.fromScale,g.toScale],u_fade:g.t,u_pixel_coord_upper:[T>>16,k>>16],u_pixel_coord_lower:[65535&T,65535&k]}}const it=(g,i,h,p)=>{const y=i.style.light,b=y.properties.get("position"),T=[b.x,b.y,b.z],k=function(){var B=new l.A(9);return l.A!=Float32Array&&(B[1]=0,B[2]=0,B[3]=0,B[5]=0,B[6]=0,B[7]=0),B[0]=1,B[4]=1,B[8]=1,B}();y.properties.get("anchor")==="viewport"&&function(B,H){var q=Math.sin(H),te=Math.cos(H);B[0]=te,B[1]=q,B[2]=0,B[3]=-q,B[4]=te,B[5]=0,B[6]=0,B[7]=0,B[8]=1}(k,-i.transform.angle),function(B,H,q){var te=H[0],se=H[1],ee=H[2];B[0]=te*q[0]+se*q[3]+ee*q[6],B[1]=te*q[1]+se*q[4]+ee*q[7],B[2]=te*q[2]+se*q[5]+ee*q[8]}(T,T,k);const R=y.properties.get("color");return{u_matrix:g,u_lightpos:T,u_lightintensity:y.properties.get("intensity"),u_lightcolor:[R.r,R.g,R.b],u_vertical_gradient:+h,u_opacity:p}},dt=(g,i,h,p,y,b,T)=>l.e(it(g,i,h,p),et(b,i,T),{u_height_factor:-Math.pow(2,y.overscaledZ)/T.tileSize/8}),Ut=g=>({u_matrix:g}),Wt=(g,i,h,p)=>l.e(Ut(g),et(h,i,p)),sr=(g,i)=>({u_matrix:g,u_world:i}),ar=(g,i,h,p,y)=>l.e(Wt(g,i,h,p),{u_world:y}),nr=(g,i,h,p)=>{const y=g.transform;let b,T;if(p.paint.get("circle-pitch-alignment")==="map"){const k=en(h,1,y.zoom);b=!0,T=[k,k]}else b=!1,T=y.pixelsToGLUnits;return{u_camera_to_center_distance:y.cameraToCenterDistance,u_scale_with_map:+(p.paint.get("circle-pitch-scale")==="map"),u_matrix:g.translatePosMatrix(i.posMatrix,h,p.paint.get("circle-translate"),p.paint.get("circle-translate-anchor")),u_pitch_with_map:+b,u_device_pixel_ratio:g.pixelRatio,u_extrude_scale:T}},wr=(g,i,h)=>({u_matrix:g,u_inv_matrix:i,u_camera_to_center_distance:h.cameraToCenterDistance,u_viewport_size:[h.width,h.height]}),Kn=(g,i,h=1)=>({u_matrix:g,u_color:i,u_overlay:0,u_overlay_scale:h}),Fr=g=>({u_matrix:g}),fr=(g,i,h,p)=>({u_matrix:g,u_extrude_scale:en(i,1,h),u_intensity:p}),Nt=(g,i,h,p)=>{const y=l.H();l.aP(y,0,g.width,g.height,0,0,1);const b=g.context.gl;return{u_matrix:y,u_world:[b.drawingBufferWidth,b.drawingBufferHeight],u_image:h,u_color_ramp:p,u_opacity:i.paint.get("heatmap-opacity")}};function Sr(g,i){const h=Math.pow(2,i.canonical.z),p=i.canonical.y;return[new l.Z(0,p/h).toLngLat().lat,new l.Z(0,(p+1)/h).toLngLat().lat]}const xn=(g,i,h,p)=>{const y=g.transform;return{u_matrix:ri(g,i,h,p),u_ratio:1/en(i,1,y.zoom),u_device_pixel_ratio:g.pixelRatio,u_units_to_pixels:[1/y.pixelsToGLUnits[0],1/y.pixelsToGLUnits[1]]}},Bi=(g,i,h,p,y)=>l.e(xn(g,i,h,y),{u_image:0,u_image_height:p}),ti=(g,i,h,p,y)=>{const b=g.transform,T=Iu(i,b);return{u_matrix:ri(g,i,h,y),u_texsize:i.imageAtlasTexture.size,u_ratio:1/en(i,1,b.zoom),u_device_pixel_ratio:g.pixelRatio,u_image:0,u_scale:[T,p.fromScale,p.toScale],u_fade:p.t,u_units_to_pixels:[1/b.pixelsToGLUnits[0],1/b.pixelsToGLUnits[1]]}},pl=(g,i,h,p,y,b)=>{const T=g.lineAtlas,k=Iu(i,g.transform),R=h.layout.get("line-cap")==="round",B=T.getDash(p.from,R),H=T.getDash(p.to,R),q=B.width*y.fromScale,te=H.width*y.toScale;return l.e(xn(g,i,h,b),{u_patternscale_a:[k/q,-B.height/2],u_patternscale_b:[k/te,-H.height/2],u_sdfgamma:T.width/(256*Math.min(q,te)*g.pixelRatio)/2,u_image:0,u_tex_y_a:B.y,u_tex_y_b:H.y,u_mix:y.t})};function Iu(g,i){return 1/en(g,1,i.tileZoom)}function ri(g,i,h,p){return g.translatePosMatrix(p?p.posMatrix:i.tileID.posMatrix,i,h.paint.get("line-translate"),h.paint.get("line-translate-anchor"))}const Kc=(g,i,h,p,y)=>{return{u_matrix:g,u_tl_parent:i,u_scale_parent:h,u_buffer_scale:1,u_fade_t:p.mix,u_opacity:p.opacity*y.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:y.paint.get("raster-brightness-min"),u_brightness_high:y.paint.get("raster-brightness-max"),u_saturation_factor:(T=y.paint.get("raster-saturation"),T>0?1-1/(1.001-T):-T),u_contrast_factor:(b=y.paint.get("raster-contrast"),b>0?1/(1-b):1+b),u_spin_weights:qh(y.paint.get("raster-hue-rotate"))};var b,T};function qh(g){g*=Math.PI/180;const i=Math.sin(g),h=Math.cos(g);return[(2*h+1)/3,(-Math.sqrt(3)*i-h+1)/3,(Math.sqrt(3)*i-h+1)/3]}const ua=(g,i,h,p,y,b,T,k,R,B,H,q,te,se)=>{const ee=T.transform;return{u_is_size_zoom_constant:+(g==="constant"||g==="source"),u_is_size_feature_constant:+(g==="constant"||g==="camera"),u_size_t:i?i.uSizeT:0,u_size:i?i.uSize:0,u_camera_to_center_distance:ee.cameraToCenterDistance,u_pitch:ee.pitch/360*2*Math.PI,u_rotate_symbol:+h,u_aspect_ratio:ee.width/ee.height,u_fade_change:T.options.fadeDuration?T.symbolFadeChange:1,u_matrix:k,u_label_plane_matrix:R,u_coord_matrix:B,u_is_text:+q,u_pitch_with_map:+p,u_is_along_line:y,u_is_variable_anchor:b,u_texsize:te,u_texture:0,u_translation:H,u_pitched_scale:se}},Oa=(g,i,h,p,y,b,T,k,R,B,H,q,te,se,ee)=>{const he=T.transform;return l.e(ua(g,i,h,p,y,b,T,k,R,B,H,q,te,ee),{u_gamma_scale:p?Math.cos(he._pitch)*he.cameraToCenterDistance:1,u_device_pixel_ratio:T.pixelRatio,u_is_halo:+se})},es=(g,i,h,p,y,b,T,k,R,B,H,q,te,se)=>l.e(Oa(g,i,h,p,y,b,T,k,R,B,H,!0,q,!0,se),{u_texsize_icon:te,u_texture_icon:1}),Yl=(g,i,h)=>({u_matrix:g,u_opacity:i,u_color:h}),ts=(g,i,h,p,y,b)=>l.e(function(T,k,R,B){const H=R.imageManager.getPattern(T.from.toString()),q=R.imageManager.getPattern(T.to.toString()),{width:te,height:se}=R.imageManager.getPixelSize(),ee=Math.pow(2,B.tileID.overscaledZ),he=B.tileSize*Math.pow(2,R.transform.tileZoom)/ee,Se=he*(B.tileID.canonical.x+B.tileID.wrap*ee),Ee=he*B.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:H.tl,u_pattern_br_a:H.br,u_pattern_tl_b:q.tl,u_pattern_br_b:q.br,u_texsize:[te,se],u_mix:k.t,u_pattern_size_a:H.displaySize,u_pattern_size_b:q.displaySize,u_scale_a:k.fromScale,u_scale_b:k.toScale,u_tile_units_to_pixels:1/en(B,1,R.transform.tileZoom),u_pixel_coord_upper:[Se>>16,Ee>>16],u_pixel_coord_lower:[65535&Se,65535&Ee]}}(p,b,h,y),{u_matrix:g,u_opacity:i}),ml={fillExtrusion:(g,i)=>({u_matrix:new l.aJ(g,i.u_matrix),u_lightpos:new l.aN(g,i.u_lightpos),u_lightintensity:new l.aI(g,i.u_lightintensity),u_lightcolor:new l.aN(g,i.u_lightcolor),u_vertical_gradient:new l.aI(g,i.u_vertical_gradient),u_opacity:new l.aI(g,i.u_opacity)}),fillExtrusionPattern:(g,i)=>({u_matrix:new l.aJ(g,i.u_matrix),u_lightpos:new l.aN(g,i.u_lightpos),u_lightintensity:new l.aI(g,i.u_lightintensity),u_lightcolor:new l.aN(g,i.u_lightcolor),u_vertical_gradient:new l.aI(g,i.u_vertical_gradient),u_height_factor:new l.aI(g,i.u_height_factor),u_image:new l.aH(g,i.u_image),u_texsize:new l.aO(g,i.u_texsize),u_pixel_coord_upper:new l.aO(g,i.u_pixel_coord_upper),u_pixel_coord_lower:new l.aO(g,i.u_pixel_coord_lower),u_scale:new l.aN(g,i.u_scale),u_fade:new l.aI(g,i.u_fade),u_opacity:new l.aI(g,i.u_opacity)}),fill:(g,i)=>({u_matrix:new l.aJ(g,i.u_matrix)}),fillPattern:(g,i)=>({u_matrix:new l.aJ(g,i.u_matrix),u_image:new l.aH(g,i.u_image),u_texsize:new l.aO(g,i.u_texsize),u_pixel_coord_upper:new l.aO(g,i.u_pixel_coord_upper),u_pixel_coord_lower:new l.aO(g,i.u_pixel_coord_lower),u_scale:new l.aN(g,i.u_scale),u_fade:new l.aI(g,i.u_fade)}),fillOutline:(g,i)=>({u_matrix:new l.aJ(g,i.u_matrix),u_world:new l.aO(g,i.u_world)}),fillOutlinePattern:(g,i)=>({u_matrix:new l.aJ(g,i.u_matrix),u_world:new l.aO(g,i.u_world),u_image:new l.aH(g,i.u_image),u_texsize:new l.aO(g,i.u_texsize),u_pixel_coord_upper:new l.aO(g,i.u_pixel_coord_upper),u_pixel_coord_lower:new l.aO(g,i.u_pixel_coord_lower),u_scale:new l.aN(g,i.u_scale),u_fade:new l.aI(g,i.u_fade)}),circle:(g,i)=>({u_camera_to_center_distance:new l.aI(g,i.u_camera_to_center_distance),u_scale_with_map:new l.aH(g,i.u_scale_with_map),u_pitch_with_map:new l.aH(g,i.u_pitch_with_map),u_extrude_scale:new l.aO(g,i.u_extrude_scale),u_device_pixel_ratio:new l.aI(g,i.u_device_pixel_ratio),u_matrix:new l.aJ(g,i.u_matrix)}),collisionBox:(g,i)=>({u_matrix:new l.aJ(g,i.u_matrix),u_pixel_extrude_scale:new l.aO(g,i.u_pixel_extrude_scale)}),collisionCircle:(g,i)=>({u_matrix:new l.aJ(g,i.u_matrix),u_inv_matrix:new l.aJ(g,i.u_inv_matrix),u_camera_to_center_distance:new l.aI(g,i.u_camera_to_center_distance),u_viewport_size:new l.aO(g,i.u_viewport_size)}),debug:(g,i)=>({u_color:new l.aL(g,i.u_color),u_matrix:new l.aJ(g,i.u_matrix),u_overlay:new l.aH(g,i.u_overlay),u_overlay_scale:new l.aI(g,i.u_overlay_scale)}),clippingMask:(g,i)=>({u_matrix:new l.aJ(g,i.u_matrix)}),heatmap:(g,i)=>({u_extrude_scale:new l.aI(g,i.u_extrude_scale),u_intensity:new l.aI(g,i.u_intensity),u_matrix:new l.aJ(g,i.u_matrix)}),heatmapTexture:(g,i)=>({u_matrix:new l.aJ(g,i.u_matrix),u_world:new l.aO(g,i.u_world),u_image:new l.aH(g,i.u_image),u_color_ramp:new l.aH(g,i.u_color_ramp),u_opacity:new l.aI(g,i.u_opacity)}),hillshade:(g,i)=>({u_matrix:new l.aJ(g,i.u_matrix),u_image:new l.aH(g,i.u_image),u_latrange:new l.aO(g,i.u_latrange),u_light:new l.aO(g,i.u_light),u_shadow:new l.aL(g,i.u_shadow),u_highlight:new l.aL(g,i.u_highlight),u_accent:new l.aL(g,i.u_accent)}),hillshadePrepare:(g,i)=>({u_matrix:new l.aJ(g,i.u_matrix),u_image:new l.aH(g,i.u_image),u_dimension:new l.aO(g,i.u_dimension),u_zoom:new l.aI(g,i.u_zoom),u_unpack:new l.aK(g,i.u_unpack)}),line:(g,i)=>({u_matrix:new l.aJ(g,i.u_matrix),u_ratio:new l.aI(g,i.u_ratio),u_device_pixel_ratio:new l.aI(g,i.u_device_pixel_ratio),u_units_to_pixels:new l.aO(g,i.u_units_to_pixels)}),lineGradient:(g,i)=>({u_matrix:new l.aJ(g,i.u_matrix),u_ratio:new l.aI(g,i.u_ratio),u_device_pixel_ratio:new l.aI(g,i.u_device_pixel_ratio),u_units_to_pixels:new l.aO(g,i.u_units_to_pixels),u_image:new l.aH(g,i.u_image),u_image_height:new l.aI(g,i.u_image_height)}),linePattern:(g,i)=>({u_matrix:new l.aJ(g,i.u_matrix),u_texsize:new l.aO(g,i.u_texsize),u_ratio:new l.aI(g,i.u_ratio),u_device_pixel_ratio:new l.aI(g,i.u_device_pixel_ratio),u_image:new l.aH(g,i.u_image),u_units_to_pixels:new l.aO(g,i.u_units_to_pixels),u_scale:new l.aN(g,i.u_scale),u_fade:new l.aI(g,i.u_fade)}),lineSDF:(g,i)=>({u_matrix:new l.aJ(g,i.u_matrix),u_ratio:new l.aI(g,i.u_ratio),u_device_pixel_ratio:new l.aI(g,i.u_device_pixel_ratio),u_units_to_pixels:new l.aO(g,i.u_units_to_pixels),u_patternscale_a:new l.aO(g,i.u_patternscale_a),u_patternscale_b:new l.aO(g,i.u_patternscale_b),u_sdfgamma:new l.aI(g,i.u_sdfgamma),u_image:new l.aH(g,i.u_image),u_tex_y_a:new l.aI(g,i.u_tex_y_a),u_tex_y_b:new l.aI(g,i.u_tex_y_b),u_mix:new l.aI(g,i.u_mix)}),raster:(g,i)=>({u_matrix:new l.aJ(g,i.u_matrix),u_tl_parent:new l.aO(g,i.u_tl_parent),u_scale_parent:new l.aI(g,i.u_scale_parent),u_buffer_scale:new l.aI(g,i.u_buffer_scale),u_fade_t:new l.aI(g,i.u_fade_t),u_opacity:new l.aI(g,i.u_opacity),u_image0:new l.aH(g,i.u_image0),u_image1:new l.aH(g,i.u_image1),u_brightness_low:new l.aI(g,i.u_brightness_low),u_brightness_high:new l.aI(g,i.u_brightness_high),u_saturation_factor:new l.aI(g,i.u_saturation_factor),u_contrast_factor:new l.aI(g,i.u_contrast_factor),u_spin_weights:new l.aN(g,i.u_spin_weights)}),symbolIcon:(g,i)=>({u_is_size_zoom_constant:new l.aH(g,i.u_is_size_zoom_constant),u_is_size_feature_constant:new l.aH(g,i.u_is_size_feature_constant),u_size_t:new l.aI(g,i.u_size_t),u_size:new l.aI(g,i.u_size),u_camera_to_center_distance:new l.aI(g,i.u_camera_to_center_distance),u_pitch:new l.aI(g,i.u_pitch),u_rotate_symbol:new l.aH(g,i.u_rotate_symbol),u_aspect_ratio:new l.aI(g,i.u_aspect_ratio),u_fade_change:new l.aI(g,i.u_fade_change),u_matrix:new l.aJ(g,i.u_matrix),u_label_plane_matrix:new l.aJ(g,i.u_label_plane_matrix),u_coord_matrix:new l.aJ(g,i.u_coord_matrix),u_is_text:new l.aH(g,i.u_is_text),u_pitch_with_map:new l.aH(g,i.u_pitch_with_map),u_is_along_line:new l.aH(g,i.u_is_along_line),u_is_variable_anchor:new l.aH(g,i.u_is_variable_anchor),u_texsize:new l.aO(g,i.u_texsize),u_texture:new l.aH(g,i.u_texture),u_translation:new l.aO(g,i.u_translation),u_pitched_scale:new l.aI(g,i.u_pitched_scale)}),symbolSDF:(g,i)=>({u_is_size_zoom_constant:new l.aH(g,i.u_is_size_zoom_constant),u_is_size_feature_constant:new l.aH(g,i.u_is_size_feature_constant),u_size_t:new l.aI(g,i.u_size_t),u_size:new l.aI(g,i.u_size),u_camera_to_center_distance:new l.aI(g,i.u_camera_to_center_distance),u_pitch:new l.aI(g,i.u_pitch),u_rotate_symbol:new l.aH(g,i.u_rotate_symbol),u_aspect_ratio:new l.aI(g,i.u_aspect_ratio),u_fade_change:new l.aI(g,i.u_fade_change),u_matrix:new l.aJ(g,i.u_matrix),u_label_plane_matrix:new l.aJ(g,i.u_label_plane_matrix),u_coord_matrix:new l.aJ(g,i.u_coord_matrix),u_is_text:new l.aH(g,i.u_is_text),u_pitch_with_map:new l.aH(g,i.u_pitch_with_map),u_is_along_line:new l.aH(g,i.u_is_along_line),u_is_variable_anchor:new l.aH(g,i.u_is_variable_anchor),u_texsize:new l.aO(g,i.u_texsize),u_texture:new l.aH(g,i.u_texture),u_gamma_scale:new l.aI(g,i.u_gamma_scale),u_device_pixel_ratio:new l.aI(g,i.u_device_pixel_ratio),u_is_halo:new l.aH(g,i.u_is_halo),u_translation:new l.aO(g,i.u_translation),u_pitched_scale:new l.aI(g,i.u_pitched_scale)}),symbolTextAndIcon:(g,i)=>({u_is_size_zoom_constant:new l.aH(g,i.u_is_size_zoom_constant),u_is_size_feature_constant:new l.aH(g,i.u_is_size_feature_constant),u_size_t:new l.aI(g,i.u_size_t),u_size:new l.aI(g,i.u_size),u_camera_to_center_distance:new l.aI(g,i.u_camera_to_center_distance),u_pitch:new l.aI(g,i.u_pitch),u_rotate_symbol:new l.aH(g,i.u_rotate_symbol),u_aspect_ratio:new l.aI(g,i.u_aspect_ratio),u_fade_change:new l.aI(g,i.u_fade_change),u_matrix:new l.aJ(g,i.u_matrix),u_label_plane_matrix:new l.aJ(g,i.u_label_plane_matrix),u_coord_matrix:new l.aJ(g,i.u_coord_matrix),u_is_text:new l.aH(g,i.u_is_text),u_pitch_with_map:new l.aH(g,i.u_pitch_with_map),u_is_along_line:new l.aH(g,i.u_is_along_line),u_is_variable_anchor:new l.aH(g,i.u_is_variable_anchor),u_texsize:new l.aO(g,i.u_texsize),u_texsize_icon:new l.aO(g,i.u_texsize_icon),u_texture:new l.aH(g,i.u_texture),u_texture_icon:new l.aH(g,i.u_texture_icon),u_gamma_scale:new l.aI(g,i.u_gamma_scale),u_device_pixel_ratio:new l.aI(g,i.u_device_pixel_ratio),u_is_halo:new l.aH(g,i.u_is_halo),u_translation:new l.aO(g,i.u_translation),u_pitched_scale:new l.aI(g,i.u_pitched_scale)}),background:(g,i)=>({u_matrix:new l.aJ(g,i.u_matrix),u_opacity:new l.aI(g,i.u_opacity),u_color:new l.aL(g,i.u_color)}),backgroundPattern:(g,i)=>({u_matrix:new l.aJ(g,i.u_matrix),u_opacity:new l.aI(g,i.u_opacity),u_image:new l.aH(g,i.u_image),u_pattern_tl_a:new l.aO(g,i.u_pattern_tl_a),u_pattern_br_a:new l.aO(g,i.u_pattern_br_a),u_pattern_tl_b:new l.aO(g,i.u_pattern_tl_b),u_pattern_br_b:new l.aO(g,i.u_pattern_br_b),u_texsize:new l.aO(g,i.u_texsize),u_mix:new l.aI(g,i.u_mix),u_pattern_size_a:new l.aO(g,i.u_pattern_size_a),u_pattern_size_b:new l.aO(g,i.u_pattern_size_b),u_scale_a:new l.aI(g,i.u_scale_a),u_scale_b:new l.aI(g,i.u_scale_b),u_pixel_coord_upper:new l.aO(g,i.u_pixel_coord_upper),u_pixel_coord_lower:new l.aO(g,i.u_pixel_coord_lower),u_tile_units_to_pixels:new l.aI(g,i.u_tile_units_to_pixels)}),terrain:(g,i)=>({u_matrix:new l.aJ(g,i.u_matrix),u_texture:new l.aH(g,i.u_texture),u_ele_delta:new l.aI(g,i.u_ele_delta),u_fog_matrix:new l.aJ(g,i.u_fog_matrix),u_fog_color:new l.aL(g,i.u_fog_color),u_fog_ground_blend:new l.aI(g,i.u_fog_ground_blend),u_fog_ground_blend_opacity:new l.aI(g,i.u_fog_ground_blend_opacity),u_horizon_color:new l.aL(g,i.u_horizon_color),u_horizon_fog_blend:new l.aI(g,i.u_horizon_fog_blend)}),terrainDepth:(g,i)=>({u_matrix:new l.aJ(g,i.u_matrix),u_ele_delta:new l.aI(g,i.u_ele_delta)}),terrainCoords:(g,i)=>({u_matrix:new l.aJ(g,i.u_matrix),u_texture:new l.aH(g,i.u_texture),u_terrain_coords_id:new l.aI(g,i.u_terrain_coords_id),u_ele_delta:new l.aI(g,i.u_ele_delta)}),sky:(g,i)=>({u_sky_color:new l.aL(g,i.u_sky_color),u_horizon_color:new l.aL(g,i.u_horizon_color),u_horizon:new l.aI(g,i.u_horizon),u_sky_horizon_blend:new l.aI(g,i.u_sky_horizon_blend)})};class Ro{constructor(i,h,p){this.context=i;const y=i.gl;this.buffer=y.createBuffer(),this.dynamicDraw=!!p,this.context.unbindVAO(),i.bindElementBuffer.set(this.buffer),y.bufferData(y.ELEMENT_ARRAY_BUFFER,h.arrayBuffer,this.dynamicDraw?y.DYNAMIC_DRAW:y.STATIC_DRAW),this.dynamicDraw||delete h.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(i){const h=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),h.bufferSubData(h.ELEMENT_ARRAY_BUFFER,0,i.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Zc={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Lu{constructor(i,h,p,y){this.length=h.length,this.attributes=p,this.itemSize=h.bytesPerElement,this.dynamicDraw=y,this.context=i;const b=i.gl;this.buffer=b.createBuffer(),i.bindVertexBuffer.set(this.buffer),b.bufferData(b.ARRAY_BUFFER,h.arrayBuffer,this.dynamicDraw?b.DYNAMIC_DRAW:b.STATIC_DRAW),this.dynamicDraw||delete h.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(i){if(i.length!==this.length)throw new Error(`Length of new data is ${i.length}, which doesn't match current length of ${this.length}`);const h=this.context.gl;this.bind(),h.bufferSubData(h.ARRAY_BUFFER,0,i.arrayBuffer)}enableAttributes(i,h){for(let p=0;p<this.attributes.length;p++){const y=h.attributes[this.attributes[p].name];y!==void 0&&i.enableVertexAttribArray(y)}}setVertexAttribPointers(i,h,p){for(let y=0;y<this.attributes.length;y++){const b=this.attributes[y],T=h.attributes[b.name];T!==void 0&&i.vertexAttribPointer(T,b.components,i[Zc[b.type]],!1,this.itemSize,b.offset+this.itemSize*(p||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const _s=new WeakMap;function Na(g){var i;if(_s.has(g))return _s.get(g);{const h=(i=g.getParameter(g.VERSION))===null||i===void 0?void 0:i.startsWith("WebGL 2.0");return _s.set(g,h),h}}class wn{constructor(i){this.gl=i.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(i){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Fa extends wn{getDefault(){return l.aM.transparent}set(i){const h=this.current;(i.r!==h.r||i.g!==h.g||i.b!==h.b||i.a!==h.a||this.dirty)&&(this.gl.clearColor(i.r,i.g,i.b,i.a),this.current=i,this.dirty=!1)}}class Hh extends wn{getDefault(){return 1}set(i){(i!==this.current||this.dirty)&&(this.gl.clearDepth(i),this.current=i,this.dirty=!1)}}class Ca extends wn{getDefault(){return 0}set(i){(i!==this.current||this.dirty)&&(this.gl.clearStencil(i),this.current=i,this.dirty=!1)}}class ca extends wn{getDefault(){return[!0,!0,!0,!0]}set(i){const h=this.current;(i[0]!==h[0]||i[1]!==h[1]||i[2]!==h[2]||i[3]!==h[3]||this.dirty)&&(this.gl.colorMask(i[0],i[1],i[2],i[3]),this.current=i,this.dirty=!1)}}class gl extends wn{getDefault(){return!0}set(i){(i!==this.current||this.dirty)&&(this.gl.depthMask(i),this.current=i,this.dirty=!1)}}class yl extends wn{getDefault(){return 255}set(i){(i!==this.current||this.dirty)&&(this.gl.stencilMask(i),this.current=i,this.dirty=!1)}}class Aa extends wn{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(i){const h=this.current;(i.func!==h.func||i.ref!==h.ref||i.mask!==h.mask||this.dirty)&&(this.gl.stencilFunc(i.func,i.ref,i.mask),this.current=i,this.dirty=!1)}}class Ks extends wn{getDefault(){const i=this.gl;return[i.KEEP,i.KEEP,i.KEEP]}set(i){const h=this.current;(i[0]!==h[0]||i[1]!==h[1]||i[2]!==h[2]||this.dirty)&&(this.gl.stencilOp(i[0],i[1],i[2]),this.current=i,this.dirty=!1)}}class fc extends wn{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;i?h.enable(h.STENCIL_TEST):h.disable(h.STENCIL_TEST),this.current=i,this.dirty=!1}}class Mu extends wn{getDefault(){return[0,1]}set(i){const h=this.current;(i[0]!==h[0]||i[1]!==h[1]||this.dirty)&&(this.gl.depthRange(i[0],i[1]),this.current=i,this.dirty=!1)}}class Jl extends wn{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;i?h.enable(h.DEPTH_TEST):h.disable(h.DEPTH_TEST),this.current=i,this.dirty=!1}}class vl extends wn{getDefault(){return this.gl.LESS}set(i){(i!==this.current||this.dirty)&&(this.gl.depthFunc(i),this.current=i,this.dirty=!1)}}class Ea extends wn{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;i?h.enable(h.BLEND):h.disable(h.BLEND),this.current=i,this.dirty=!1}}class Ql extends wn{getDefault(){const i=this.gl;return[i.ONE,i.ZERO]}set(i){const h=this.current;(i[0]!==h[0]||i[1]!==h[1]||this.dirty)&&(this.gl.blendFunc(i[0],i[1]),this.current=i,this.dirty=!1)}}class pc extends wn{getDefault(){return l.aM.transparent}set(i){const h=this.current;(i.r!==h.r||i.g!==h.g||i.b!==h.b||i.a!==h.a||this.dirty)&&(this.gl.blendColor(i.r,i.g,i.b,i.a),this.current=i,this.dirty=!1)}}class rs extends wn{getDefault(){return this.gl.FUNC_ADD}set(i){(i!==this.current||this.dirty)&&(this.gl.blendEquation(i),this.current=i,this.dirty=!1)}}class bl extends wn{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;i?h.enable(h.CULL_FACE):h.disable(h.CULL_FACE),this.current=i,this.dirty=!1}}class Du extends wn{getDefault(){return this.gl.BACK}set(i){(i!==this.current||this.dirty)&&(this.gl.cullFace(i),this.current=i,this.dirty=!1)}}class xs extends wn{getDefault(){return this.gl.CCW}set(i){(i!==this.current||this.dirty)&&(this.gl.frontFace(i),this.current=i,this.dirty=!1)}}class eu extends wn{getDefault(){return null}set(i){(i!==this.current||this.dirty)&&(this.gl.useProgram(i),this.current=i,this.dirty=!1)}}class $a extends wn{getDefault(){return this.gl.TEXTURE0}set(i){(i!==this.current||this.dirty)&&(this.gl.activeTexture(i),this.current=i,this.dirty=!1)}}class _l extends wn{getDefault(){const i=this.gl;return[0,0,i.drawingBufferWidth,i.drawingBufferHeight]}set(i){const h=this.current;(i[0]!==h[0]||i[1]!==h[1]||i[2]!==h[2]||i[3]!==h[3]||this.dirty)&&(this.gl.viewport(i[0],i[1],i[2],i[3]),this.current=i,this.dirty=!1)}}class $ extends wn{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;h.bindFramebuffer(h.FRAMEBUFFER,i),this.current=i,this.dirty=!1}}class fe extends wn{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;h.bindRenderbuffer(h.RENDERBUFFER,i),this.current=i,this.dirty=!1}}class $e extends wn{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;h.bindTexture(h.TEXTURE_2D,i),this.current=i,this.dirty=!1}}class ot extends wn{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;h.bindBuffer(h.ARRAY_BUFFER,i),this.current=i,this.dirty=!1}}class yt extends wn{getDefault(){return null}set(i){const h=this.gl;h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,i),this.current=i,this.dirty=!1}}class Tt extends wn{getDefault(){return null}set(i){var h;if(i===this.current&&!this.dirty)return;const p=this.gl;Na(p)?p.bindVertexArray(i):(h=p.getExtension("OES_vertex_array_object"))===null||h===void 0||h.bindVertexArrayOES(i),this.current=i,this.dirty=!1}}class Zt extends wn{getDefault(){return 4}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;h.pixelStorei(h.UNPACK_ALIGNMENT,i),this.current=i,this.dirty=!1}}class gr extends wn{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i),this.current=i,this.dirty=!1}}class Ur extends wn{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,i),this.current=i,this.dirty=!1}}class cn extends wn{constructor(i,h){super(i),this.context=i,this.parent=h}getDefault(){return null}}class hn extends cn{setDirty(){this.dirty=!0}set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const h=this.gl;h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,i,0),this.current=i,this.dirty=!1}}class dn extends cn{set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const h=this.gl;h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_ATTACHMENT,h.RENDERBUFFER,i),this.current=i,this.dirty=!1}}class zn extends cn{set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const h=this.gl;h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_STENCIL_ATTACHMENT,h.RENDERBUFFER,i),this.current=i,this.dirty=!1}}class mi{constructor(i,h,p,y,b){this.context=i,this.width=h,this.height=p;const T=i.gl,k=this.framebuffer=T.createFramebuffer();if(this.colorAttachment=new hn(i,k),y)this.depthAttachment=b?new zn(i,k):new dn(i,k);else if(b)throw new Error("Stencil cannot be set without depth");if(T.checkFramebufferStatus(T.FRAMEBUFFER)!==T.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const i=this.context.gl,h=this.colorAttachment.get();if(h&&i.deleteTexture(h),this.depthAttachment){const p=this.depthAttachment.get();p&&i.deleteRenderbuffer(p)}i.deleteFramebuffer(this.framebuffer)}}class fn{constructor(i,h,p){this.blendFunction=i,this.blendColor=h,this.mask=p}}fn.Replace=[1,0],fn.disabled=new fn(fn.Replace,l.aM.transparent,[!1,!1,!1,!1]),fn.unblended=new fn(fn.Replace,l.aM.transparent,[!0,!0,!0,!0]),fn.alphaBlended=new fn([1,771],l.aM.transparent,[!0,!0,!0,!0]);class Oo{constructor(i){var h,p;if(this.gl=i,this.clearColor=new Fa(this),this.clearDepth=new Hh(this),this.clearStencil=new Ca(this),this.colorMask=new ca(this),this.depthMask=new gl(this),this.stencilMask=new yl(this),this.stencilFunc=new Aa(this),this.stencilOp=new Ks(this),this.stencilTest=new fc(this),this.depthRange=new Mu(this),this.depthTest=new Jl(this),this.depthFunc=new vl(this),this.blend=new Ea(this),this.blendFunc=new Ql(this),this.blendColor=new pc(this),this.blendEquation=new rs(this),this.cullFace=new bl(this),this.cullFaceSide=new Du(this),this.frontFace=new xs(this),this.program=new eu(this),this.activeTexture=new $a(this),this.viewport=new _l(this),this.bindFramebuffer=new $(this),this.bindRenderbuffer=new fe(this),this.bindTexture=new $e(this),this.bindVertexBuffer=new ot(this),this.bindElementBuffer=new yt(this),this.bindVertexArray=new Tt(this),this.pixelStoreUnpack=new Zt(this),this.pixelStoreUnpackPremultiplyAlpha=new gr(this),this.pixelStoreUnpackFlipY=new Ur(this),this.extTextureFilterAnisotropic=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=i.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE),Na(i)){this.HALF_FLOAT=i.HALF_FLOAT;const y=i.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(h=i.RGBA16F)!==null&&h!==void 0?h:y==null?void 0:y.RGBA16F_EXT,this.RGB16F=(p=i.RGB16F)!==null&&p!==void 0?p:y==null?void 0:y.RGB16F_EXT,i.getExtension("EXT_color_buffer_float")}else{i.getExtension("EXT_color_buffer_half_float"),i.getExtension("OES_texture_half_float_linear");const y=i.getExtension("OES_texture_half_float");this.HALF_FLOAT=y==null?void 0:y.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(i,h){return new Ro(this,i,h)}createVertexBuffer(i,h,p){return new Lu(this,i,h,p)}createRenderbuffer(i,h,p){const y=this.gl,b=y.createRenderbuffer();return this.bindRenderbuffer.set(b),y.renderbufferStorage(y.RENDERBUFFER,i,h,p),this.bindRenderbuffer.set(null),b}createFramebuffer(i,h,p,y){return new mi(this,i,h,p,y)}clear({color:i,depth:h,stencil:p}){const y=this.gl;let b=0;i&&(b|=y.COLOR_BUFFER_BIT,this.clearColor.set(i),this.colorMask.set([!0,!0,!0,!0])),h!==void 0&&(b|=y.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(h),this.depthMask.set(!0)),p!==void 0&&(b|=y.STENCIL_BUFFER_BIT,this.clearStencil.set(p),this.stencilMask.set(255)),y.clear(b)}setCullFace(i){i.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(i.mode),this.frontFace.set(i.frontFace))}setDepthMode(i){i.func!==this.gl.ALWAYS||i.mask?(this.depthTest.set(!0),this.depthFunc.set(i.func),this.depthMask.set(i.mask),this.depthRange.set(i.range)):this.depthTest.set(!1)}setStencilMode(i){i.test.func!==this.gl.ALWAYS||i.mask?(this.stencilTest.set(!0),this.stencilMask.set(i.mask),this.stencilOp.set([i.fail,i.depthFail,i.pass]),this.stencilFunc.set({func:i.test.func,ref:i.ref,mask:i.test.mask})):this.stencilTest.set(!1)}setColorMode(i){l.aE(i.blendFunction,fn.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(i.blendFunction),this.blendColor.set(i.blendColor)),this.colorMask.set(i.mask)}createVertexArray(){var i;return Na(this.gl)?this.gl.createVertexArray():(i=this.gl.getExtension("OES_vertex_array_object"))===null||i===void 0?void 0:i.createVertexArrayOES()}deleteVertexArray(i){var h;return Na(this.gl)?this.gl.deleteVertexArray(i):(h=this.gl.getExtension("OES_vertex_array_object"))===null||h===void 0?void 0:h.deleteVertexArrayOES(i)}unbindVAO(){this.bindVertexArray.set(null)}}class Or{constructor(i,h,p){this.func=i,this.mask=h,this.range=p}}Or.ReadOnly=!1,Or.ReadWrite=!0,Or.disabled=new Or(519,Or.ReadOnly,[0,1]);const po=7680;class An{constructor(i,h,p,y,b,T){this.test=i,this.ref=h,this.mask=p,this.fail=y,this.depthFail=b,this.pass=T}}An.disabled=new An({func:519,mask:0},0,0,po,po,po);class In{constructor(i,h,p){this.enable=i,this.mode=h,this.frontFace=p}}let ws;function Zs(g,i,h,p,y){const b=g.context,T=b.gl,k=g.useProgram("collisionBox"),R=[];let B=0,H=0;for(let Ee=0;Ee<p.length;Ee++){const ke=p[Ee],Te=i.getTile(ke).getBucket(h);if(!Te)continue;const Fe=y?Te.textCollisionBox:Te.iconCollisionBox,Xe=Te.collisionCircleArray;if(Xe.length>0){const Ge=l.H();l.aQ(Ge,Te.placementInvProjMatrix,g.transform.glCoordMatrix),l.aQ(Ge,Ge,Te.placementViewportMatrix),R.push({circleArray:Xe,circleOffset:H,transform:ke.posMatrix,invTransform:Ge,coord:ke}),B+=Xe.length/4,H=B}Fe&&k.draw(b,T.LINES,Or.disabled,An.disabled,g.colorModeForRenderPass(),In.disabled,{u_matrix:ke.posMatrix,u_pixel_extrude_scale:[1/(q=g.transform).width,1/q.height]},g.style.map.terrain&&g.style.map.terrain.getTerrainData(ke),h.id,Fe.layoutVertexBuffer,Fe.indexBuffer,Fe.segments,null,g.transform.zoom,null,null,Fe.collisionVertexBuffer)}var q;if(!y||!R.length)return;const te=g.useProgram("collisionCircle"),se=new l.aR;se.resize(4*B),se._trim();let ee=0;for(const Ee of R)for(let ke=0;ke<Ee.circleArray.length/4;ke++){const Te=4*ke,Fe=Ee.circleArray[Te+0],Xe=Ee.circleArray[Te+1],Ge=Ee.circleArray[Te+2],wt=Ee.circleArray[Te+3];se.emplace(ee++,Fe,Xe,Ge,wt,0),se.emplace(ee++,Fe,Xe,Ge,wt,1),se.emplace(ee++,Fe,Xe,Ge,wt,2),se.emplace(ee++,Fe,Xe,Ge,wt,3)}(!ws||ws.length<2*B)&&(ws=function(Ee){const ke=2*Ee,Te=new l.aT;Te.resize(ke),Te._trim();for(let Fe=0;Fe<ke;Fe++){const Xe=6*Fe;Te.uint16[Xe+0]=4*Fe+0,Te.uint16[Xe+1]=4*Fe+1,Te.uint16[Xe+2]=4*Fe+2,Te.uint16[Xe+3]=4*Fe+2,Te.uint16[Xe+4]=4*Fe+3,Te.uint16[Xe+5]=4*Fe+0}return Te}(B));const he=b.createIndexBuffer(ws,!0),Se=b.createVertexBuffer(se,l.aS.members,!0);for(const Ee of R){const ke=wr(Ee.transform,Ee.invTransform,g.transform);te.draw(b,T.TRIANGLES,Or.disabled,An.disabled,g.colorModeForRenderPass(),In.disabled,ke,g.style.map.terrain&&g.style.map.terrain.getTerrainData(Ee.coord),h.id,Se,he,l.a0.simpleSegment(0,2*Ee.circleOffset,Ee.circleArray.length,Ee.circleArray.length/2),null,g.transform.zoom,null,null,null)}Se.destroy(),he.destroy()}In.disabled=new In(!1,1029,2305),In.backCCW=new In(!0,1029,2305);const Ss=l.an(new Float32Array(16));function Ys(g,i,h,p,y,b){const{horizontalAlign:T,verticalAlign:k}=l.au(g);return new l.P((-(T-.5)*i/y+p[0])*b,(-(k-.5)*h/y+p[1])*b)}function ha(g,i,h,p,y,b){const T=i.tileAnchorPoint.add(new l.P(i.translation[0],i.translation[1]));if(i.pitchWithMap){let k=p.mult(b);h||(k=k.rotate(-y));const R=T.add(k);return Ne(R.x,R.y,i.labelPlaneMatrix,i.getElevation).point}if(h){const k=_t(i.tileAnchorPoint.x+1,i.tileAnchorPoint.y,i).point.sub(g),R=Math.atan(k.y/k.x)+(k.x<0?Math.PI:0);return g.add(p.rotate(R))}return g.add(p)}function Ko(g,i,h,p,y,b,T,k,R,B,H,q,te,se){const ee=g.text.placedSymbolArray,he=g.text.dynamicLayoutVertexArray,Se=g.icon.dynamicLayoutVertexArray,Ee={};he.clear();for(let ke=0;ke<ee.length;ke++){const Te=ee.get(ke),Fe=Te.hidden||!Te.crossTileID||g.allowVerticalPlacement&&!Te.placedOrientation?null:p[Te.crossTileID];if(Fe){const Xe=new l.P(Te.anchorX,Te.anchorY),Ge={getElevation:se,width:y.width,height:y.height,labelPlaneMatrix:b,lineVertexArray:null,pitchWithMap:h,projection:H,projectionCache:null,tileAnchorPoint:Xe,translation:q,unwrappedTileID:te},wt=h?Ne(Xe.x,Xe.y,T,se):_t(Xe.x,Xe.y,Ge),Mt=ae(y.cameraToCenterDistance,wt.signedDistanceFromCamera);let $t=l.ai(g.textSizeData,R,Te)*Mt/l.ap;h&&($t*=g.tilePixelRatio/k);const{width:qt,height:zt,anchor:Bt,textOffset:Ht,textBoxScale:Ar}=Fe,Yt=Ys(Bt,qt,zt,Ht,Ar,$t),Jt=H.getPitchedTextCorrection(y,Xe.add(new l.P(q[0],q[1])),te),Mr=ha(wt.point,Ge,i,Yt,y.angle,Jt),Jr=g.allowVerticalPlacement&&Te.placedOrientation===l.ah.vertical?Math.PI/2:0;for(let Wr=0;Wr<Te.numGlyphs;Wr++)l.aj(he,Mr,Jr);B&&Te.associatedIconIndex>=0&&(Ee[Te.associatedIconIndex]={shiftedAnchor:Mr,angle:Jr})}else mr(Te.numGlyphs,he)}if(B){Se.clear();const ke=g.icon.placedSymbolArray;for(let Te=0;Te<ke.length;Te++){const Fe=ke.get(Te);if(Fe.hidden)mr(Fe.numGlyphs,Se);else{const Xe=Ee[Te];if(Xe)for(let Ge=0;Ge<Fe.numGlyphs;Ge++)l.aj(Se,Xe.shiftedAnchor,Xe.angle);else mr(Fe.numGlyphs,Se)}}g.icon.dynamicLayoutVertexBuffer.updateData(Se)}g.text.dynamicLayoutVertexBuffer.updateData(he)}function So(g,i,h){return h.iconsInText&&i?"symbolTextAndIcon":g?"symbolSDF":"symbolIcon"}function Ai(g,i,h,p,y,b,T,k,R,B,H,q){const te=g.context,se=te.gl,ee=g.transform,he=fo(),Se=k==="map",Ee=R==="map",ke=k!=="viewport"&&h.layout.get("symbol-placement")!=="point",Te=Se&&!Ee&&!ke,Fe=!Ee&&ke,Xe=!h.layout.get("symbol-sort-key").isConstant();let Ge=!1;const wt=g.depthModeForSublayer(0,Or.ReadOnly),Mt=h._unevaluatedLayout.hasValue("text-variable-anchor")||h._unevaluatedLayout.hasValue("text-variable-anchor-offset"),$t=[],qt=he.getCircleRadiusCorrection(ee);for(const zt of p){const Bt=i.getTile(zt),Ht=Bt.getBucket(h);if(!Ht)continue;const Ar=y?Ht.text:Ht.icon;if(!Ar||!Ar.segments.get().length||!Ar.hasVisibleVertices)continue;const Yt=Ar.programConfigurations.get(h.id),Jt=y||Ht.sdfIcons,Mr=y?Ht.textSizeData:Ht.iconSizeData,Jr=Ee||ee.pitch!==0,Wr=g.useProgram(So(Jt,y,Ht),Yt),ln=l.ag(Mr,ee.zoom),Sn=g.style.map.terrain&&g.style.map.terrain.getTerrainData(zt);let Gn,Pi,Rn,Wi,Wn=[0,0],ji=null;if(y)Pi=Bt.glyphAtlasTexture,Rn=se.LINEAR,Gn=Bt.glyphAtlasTexture.size,Ht.iconsInText&&(Wn=Bt.imageAtlasTexture.size,ji=Bt.imageAtlasTexture,Wi=Jr||g.options.rotating||g.options.zooming||Mr.kind==="composite"||Mr.kind==="camera"?se.LINEAR:se.NEAREST);else{const Mn=h.layout.get("icon-size").constantOr(0)!==1||Ht.iconsNeedLinear;Pi=Bt.imageAtlasTexture,Rn=Jt||g.options.rotating||g.options.zooming||Mn||Jr?se.LINEAR:se.NEAREST,Gn=Bt.imageAtlasTexture.size}const oo=en(Bt,1,g.transform.zoom),ka=Fe?zt.posMatrix:Ss,ss=_i(ka,Ee,Se,g.transform,oo),ki=Bn(ka,Ee,Se,g.transform,oo),Fu=Bn(zt.posMatrix,Ee,Se,g.transform,oo),ls=he.translatePosition(g.transform,Bt,b,T),ed=Mt&&Ht.hasTextData(),ih=h.layout.get("icon-text-fit")!=="none"&&ed&&Ht.hasIconData();if(ke){const Mn=g.style.map.terrain?($u,nu)=>g.style.map.terrain.getElevation(zt,$u,nu):null,Tl=h.layout.get("text-rotation-alignment")==="map";Ce(Ht,zt.posMatrix,g,y,ss,Fu,Ee,B,Tl,he,zt.toUnwrapped(),ee.width,ee.height,ls,Mn)}const pa=zt.posMatrix,Ia=y&&Mt||ih,$o=ke||Ia?Ss:ss,ma=ki,Ji=Jt&&h.paint.get(y?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Jo;Jo=Jt?Ht.iconsInText?es(Mr.kind,ln,Te,Ee,ke,Ia,g,pa,$o,ma,ls,Gn,Wn,qt):Oa(Mr.kind,ln,Te,Ee,ke,Ia,g,pa,$o,ma,ls,y,Gn,!0,qt):ua(Mr.kind,ln,Te,Ee,ke,Ia,g,pa,$o,ma,ls,y,Gn,qt);const ga={program:Wr,buffers:Ar,uniformValues:Jo,atlasTexture:Pi,atlasTextureIcon:ji,atlasInterpolation:Rn,atlasInterpolationIcon:Wi,isSDF:Jt,hasHalo:Ji};if(Xe&&Ht.canOverlap){Ge=!0;const Mn=Ar.segments.get();for(const Tl of Mn)$t.push({segments:new l.a0([Tl]),sortKey:Tl.sortKey,state:ga,terrainData:Sn})}else $t.push({segments:Ar.segments,sortKey:0,state:ga,terrainData:Sn})}Ge&&$t.sort((zt,Bt)=>zt.sortKey-Bt.sortKey);for(const zt of $t){const Bt=zt.state;if(te.activeTexture.set(se.TEXTURE0),Bt.atlasTexture.bind(Bt.atlasInterpolation,se.CLAMP_TO_EDGE),Bt.atlasTextureIcon&&(te.activeTexture.set(se.TEXTURE1),Bt.atlasTextureIcon&&Bt.atlasTextureIcon.bind(Bt.atlasInterpolationIcon,se.CLAMP_TO_EDGE)),Bt.isSDF){const Ht=Bt.uniformValues;Bt.hasHalo&&(Ht.u_is_halo=1,xl(Bt.buffers,zt.segments,h,g,Bt.program,wt,H,q,Ht,zt.terrainData)),Ht.u_is_halo=0}xl(Bt.buffers,zt.segments,h,g,Bt.program,wt,H,q,Bt.uniformValues,zt.terrainData)}}function xl(g,i,h,p,y,b,T,k,R,B){const H=p.context;y.draw(H,H.gl.TRIANGLES,b,T,k,In.disabled,R,B,h.id,g.layoutVertexBuffer,g.indexBuffer,i,h.paint,p.transform.zoom,g.programConfigurations.get(h.id),g.dynamicLayoutVertexBuffer,g.opacityVertexBuffer)}function da(g,i,h,p){const y=g.context,b=y.gl,T=An.disabled,k=new fn([b.ONE,b.ONE],l.aM.transparent,[!0,!0,!0,!0]),R=i.getBucket(h);if(!R)return;const B=p.key;let H=h.heatmapFbos.get(B);H||(H=Js(y,i.tileSize,i.tileSize),h.heatmapFbos.set(B,H)),y.bindFramebuffer.set(H.framebuffer),y.viewport.set([0,0,i.tileSize,i.tileSize]),y.clear({color:l.aM.transparent});const q=R.programConfigurations.get(h.id),te=g.useProgram("heatmap",q),se=g.style.map.terrain.getTerrainData(p);te.draw(y,b.TRIANGLES,Or.disabled,T,k,In.disabled,fr(p.posMatrix,i,g.transform.zoom,h.paint.get("heatmap-intensity")),se,h.id,R.layoutVertexBuffer,R.indexBuffer,R.segments,h.paint,g.transform.zoom,q)}function Ta(g,i,h){const p=g.context,y=p.gl;p.setColorMode(g.colorModeForRenderPass());const b=Hi(p,i),T=h.key,k=i.heatmapFbos.get(T);k&&(p.activeTexture.set(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,k.colorAttachment.get()),p.activeTexture.set(y.TEXTURE1),b.bind(y.LINEAR,y.CLAMP_TO_EDGE),g.useProgram("heatmapTexture").draw(p,y.TRIANGLES,Or.disabled,An.disabled,g.colorModeForRenderPass(),In.disabled,Nt(g,i,0,1),null,i.id,g.rasterBoundsBuffer,g.quadTriangleIndexBuffer,g.rasterBoundsSegments,i.paint,g.transform.zoom),k.destroy(),i.heatmapFbos.delete(T))}function Js(g,i,h){var p,y;const b=g.gl,T=b.createTexture();b.bindTexture(b.TEXTURE_2D,T),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.LINEAR);const k=(p=g.HALF_FLOAT)!==null&&p!==void 0?p:b.UNSIGNED_BYTE,R=(y=g.RGBA16F)!==null&&y!==void 0?y:b.RGBA;b.texImage2D(b.TEXTURE_2D,0,R,i,h,0,b.RGBA,k,null);const B=g.createFramebuffer(i,h,!1,!1);return B.colorAttachment.set(T),B}function Hi(g,i){return i.colorRampTexture||(i.colorRampTexture=new X(g,i.colorRamp,g.gl.RGBA)),i.colorRampTexture}function Cs(g,i,h,p,y){if(!h||!p||!p.imageAtlas)return;const b=p.imageAtlas.patternPositions;let T=b[h.to.toString()],k=b[h.from.toString()];if(!T&&k&&(T=k),!k&&T&&(k=T),!T||!k){const R=y.getPaintProperty(i);T=b[R],k=b[R]}T&&k&&g.setConstantPatternPositions(T,k)}function As(g,i,h,p,y,b,T){const k=g.context.gl,R="fill-pattern",B=h.paint.get(R),H=B&&B.constantOr(1),q=h.getCrossfadeParameters();let te,se,ee,he,Se;T?(se=H&&!h.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",te=k.LINES):(se=H?"fillPattern":"fill",te=k.TRIANGLES);const Ee=B.constantOr(null);for(const ke of p){const Te=i.getTile(ke);if(H&&!Te.patternsLoaded())continue;const Fe=Te.getBucket(h);if(!Fe)continue;const Xe=Fe.programConfigurations.get(h.id),Ge=g.useProgram(se,Xe),wt=g.style.map.terrain&&g.style.map.terrain.getTerrainData(ke);H&&(g.context.activeTexture.set(k.TEXTURE0),Te.imageAtlasTexture.bind(k.LINEAR,k.CLAMP_TO_EDGE),Xe.updatePaintBuffers(q)),Cs(Xe,R,Ee,Te,h);const Mt=wt?ke:null,$t=g.translatePosMatrix(Mt?Mt.posMatrix:ke.posMatrix,Te,h.paint.get("fill-translate"),h.paint.get("fill-translate-anchor"));if(T){he=Fe.indexBuffer2,Se=Fe.segments2;const qt=[k.drawingBufferWidth,k.drawingBufferHeight];ee=se==="fillOutlinePattern"&&H?ar($t,g,q,Te,qt):sr($t,qt)}else he=Fe.indexBuffer,Se=Fe.segments,ee=H?Wt($t,g,q,Te):Ut($t);Ge.draw(g.context,te,y,g.stencilModeForClipping(ke),b,In.disabled,ee,wt,h.id,Fe.layoutVertexBuffer,he,Se,h.paint,g.transform.zoom,Xe)}}function wl(g,i,h,p,y,b,T){const k=g.context,R=k.gl,B="fill-extrusion-pattern",H=h.paint.get(B),q=H.constantOr(1),te=h.getCrossfadeParameters(),se=h.paint.get("fill-extrusion-opacity"),ee=H.constantOr(null);for(const he of p){const Se=i.getTile(he),Ee=Se.getBucket(h);if(!Ee)continue;const ke=g.style.map.terrain&&g.style.map.terrain.getTerrainData(he),Te=Ee.programConfigurations.get(h.id),Fe=g.useProgram(q?"fillExtrusionPattern":"fillExtrusion",Te);q&&(g.context.activeTexture.set(R.TEXTURE0),Se.imageAtlasTexture.bind(R.LINEAR,R.CLAMP_TO_EDGE),Te.updatePaintBuffers(te)),Cs(Te,B,ee,Se,h);const Xe=g.translatePosMatrix(he.posMatrix,Se,h.paint.get("fill-extrusion-translate"),h.paint.get("fill-extrusion-translate-anchor")),Ge=h.paint.get("fill-extrusion-vertical-gradient"),wt=q?dt(Xe,g,Ge,se,he,te,Se):it(Xe,g,Ge,se);Fe.draw(k,k.gl.TRIANGLES,y,b,T,In.backCCW,wt,ke,h.id,Ee.layoutVertexBuffer,Ee.indexBuffer,Ee.segments,h.paint,g.transform.zoom,Te,g.style.map.terrain&&Ee.centroidVertexBuffer)}}function Co(g,i,h,p,y,b,T){const k=g.context,R=k.gl,B=h.fbo;if(!B)return;const H=g.useProgram("hillshade"),q=g.style.map.terrain&&g.style.map.terrain.getTerrainData(i);k.activeTexture.set(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,B.colorAttachment.get()),H.draw(k,R.TRIANGLES,y,b,T,In.disabled,((te,se,ee,he)=>{const Se=ee.paint.get("hillshade-shadow-color"),Ee=ee.paint.get("hillshade-highlight-color"),ke=ee.paint.get("hillshade-accent-color");let Te=ee.paint.get("hillshade-illumination-direction")*(Math.PI/180);ee.paint.get("hillshade-illumination-anchor")==="viewport"&&(Te-=te.transform.angle);const Fe=!te.options.moving;return{u_matrix:he?he.posMatrix:te.transform.calculatePosMatrix(se.tileID.toUnwrapped(),Fe),u_image:0,u_latrange:Sr(0,se.tileID),u_light:[ee.paint.get("hillshade-exaggeration"),Te],u_shadow:Se,u_highlight:Ee,u_accent:ke}})(g,h,p,q?i:null),q,p.id,g.rasterBoundsBuffer,g.quadTriangleIndexBuffer,g.rasterBoundsSegments)}function fa(g,i,h,p,y,b){const T=g.context,k=T.gl,R=i.dem;if(R&&R.data){const B=R.dim,H=R.stride,q=R.getPixels();if(T.activeTexture.set(k.TEXTURE1),T.pixelStoreUnpackPremultiplyAlpha.set(!1),i.demTexture=i.demTexture||g.getTileTexture(H),i.demTexture){const se=i.demTexture;se.update(q,{premultiply:!1}),se.bind(k.NEAREST,k.CLAMP_TO_EDGE)}else i.demTexture=new X(T,q,k.RGBA,{premultiply:!1}),i.demTexture.bind(k.NEAREST,k.CLAMP_TO_EDGE);T.activeTexture.set(k.TEXTURE0);let te=i.fbo;if(!te){const se=new X(T,{width:B,height:B,data:null},k.RGBA);se.bind(k.LINEAR,k.CLAMP_TO_EDGE),te=i.fbo=T.createFramebuffer(B,B,!0,!1),te.colorAttachment.set(se.texture)}T.bindFramebuffer.set(te.framebuffer),T.viewport.set([0,0,B,B]),g.useProgram("hillshadePrepare").draw(T,k.TRIANGLES,p,y,b,In.disabled,((se,ee)=>{const he=ee.stride,Se=l.H();return l.aP(Se,0,l.X,-l.X,0,0,1),l.J(Se,Se,[0,-l.X,0]),{u_matrix:Se,u_image:1,u_dimension:[he,he],u_zoom:se.overscaledZ,u_unpack:ee.getUnpackVector()}})(i.tileID,R),null,h.id,g.rasterBoundsBuffer,g.quadTriangleIndexBuffer,g.rasterBoundsSegments),i.needsHillshadePrepare=!1}}function mc(g,i,h,p,y,b){const T=p.paint.get("raster-fade-duration");if(!b&&T>0){const k=w.now(),R=(k-g.timeAdded)/T,B=i?(k-i.timeAdded)/T:-1,H=h.getSource(),q=y.coveringZoomLevel({tileSize:H.tileSize,roundZoom:H.roundZoom}),te=!i||Math.abs(i.tileID.overscaledZ-q)>Math.abs(g.tileID.overscaledZ-q),se=te&&g.refreshedUponExpiration?1:l.ac(te?R:1-B,0,1);return g.refreshedUponExpiration&&R>=1&&(g.refreshedUponExpiration=!1),i?{opacity:1,mix:1-se}:{opacity:se,mix:0}}return{opacity:1,mix:0}}const gc=new l.aM(1,0,0,1),Qe=new l.aM(0,1,0,1),xt=new l.aM(0,0,1,1),tr=new l.aM(1,0,1,1),kr=new l.aM(0,1,1,1);function Pn(g,i,h,p){Hn(g,0,i+h/2,g.transform.width,h,p)}function yn(g,i,h,p){Hn(g,i-h/2,0,h,g.transform.height,p)}function Hn(g,i,h,p,y,b){const T=g.context,k=T.gl;k.enable(k.SCISSOR_TEST),k.scissor(i*g.pixelRatio,h*g.pixelRatio,p*g.pixelRatio,y*g.pixelRatio),T.clear({color:b}),k.disable(k.SCISSOR_TEST)}function jn(g,i,h){const p=g.context,y=p.gl,b=h.posMatrix,T=g.useProgram("debug"),k=Or.disabled,R=An.disabled,B=g.colorModeForRenderPass(),H="$debug",q=g.style.map.terrain&&g.style.map.terrain.getTerrainData(h);p.activeTexture.set(y.TEXTURE0);const te=i.getTileByID(h.key).latestRawTileData,se=Math.floor((te&&te.byteLength||0)/1024),ee=i.getTile(h).tileSize,he=512/Math.min(ee,512)*(h.overscaledZ/g.transform.zoom)*.5;let Se=h.canonical.toString();h.overscaledZ!==h.canonical.z&&(Se+=` => ${h.overscaledZ}`),function(Ee,ke){Ee.initDebugOverlayCanvas();const Te=Ee.debugOverlayCanvas,Fe=Ee.context.gl,Xe=Ee.debugOverlayCanvas.getContext("2d");Xe.clearRect(0,0,Te.width,Te.height),Xe.shadowColor="white",Xe.shadowBlur=2,Xe.lineWidth=1.5,Xe.strokeStyle="white",Xe.textBaseline="top",Xe.font="bold 36px Open Sans, sans-serif",Xe.fillText(ke,5,5),Xe.strokeText(ke,5,5),Ee.debugOverlayTexture.update(Te),Ee.debugOverlayTexture.bind(Fe.LINEAR,Fe.CLAMP_TO_EDGE)}(g,`${Se} ${se}kB`),T.draw(p,y.TRIANGLES,k,R,fn.alphaBlended,In.disabled,Kn(b,l.aM.transparent,he),null,H,g.debugBuffer,g.quadTriangleIndexBuffer,g.debugSegments),T.draw(p,y.LINE_STRIP,k,R,B,In.disabled,Kn(b,l.aM.red),q,H,g.debugBuffer,g.tileBorderIndexBuffer,g.debugSegments)}function Ao(g,i,h){const p=g.context,y=p.gl,b=g.colorModeForRenderPass(),T=new Or(y.LEQUAL,Or.ReadWrite,g.depthRangeFor3D),k=g.useProgram("terrain"),R=i.getTerrainMesh();p.bindFramebuffer.set(null),p.viewport.set([0,0,g.width,g.height]);for(const B of h){const H=g.renderToTexture.getTexture(B),q=i.getTerrainData(B.tileID);p.activeTexture.set(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,H.texture);const te=g.transform.calculatePosMatrix(B.tileID.toUnwrapped()),se=i.getMeshFrameDelta(g.transform.zoom),ee=g.transform.calculateFogMatrix(B.tileID.toUnwrapped()),he=G(te,se,ee,g.style.sky,g.transform.pitch);k.draw(p,y.TRIANGLES,T,An.disabled,b,In.backCCW,he,q,"terrain",R.vertexBuffer,R.indexBuffer,R.segments)}}class ui{constructor(i,h,p){this.vertexBuffer=i,this.indexBuffer=h,this.segments=p}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}class Zn{constructor(i,h){this.context=new Oo(i),this.transform=h,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:l.an(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=Vt.maxUnderzooming+Vt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Kl}resize(i,h,p){if(this.width=Math.floor(i*p),this.height=Math.floor(h*p),this.pixelRatio=p,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const y of this.style._order)this.style._layers[y].resize()}setup(){const i=this.context,h=new l.aX;h.emplaceBack(0,0),h.emplaceBack(l.X,0),h.emplaceBack(0,l.X),h.emplaceBack(l.X,l.X),this.tileExtentBuffer=i.createVertexBuffer(h,Ja.members),this.tileExtentSegments=l.a0.simpleSegment(0,0,4,2);const p=new l.aX;p.emplaceBack(0,0),p.emplaceBack(l.X,0),p.emplaceBack(0,l.X),p.emplaceBack(l.X,l.X),this.debugBuffer=i.createVertexBuffer(p,Ja.members),this.debugSegments=l.a0.simpleSegment(0,0,4,5);const y=new l.$;y.emplaceBack(0,0,0,0),y.emplaceBack(l.X,0,l.X,0),y.emplaceBack(0,l.X,0,l.X),y.emplaceBack(l.X,l.X,l.X,l.X),this.rasterBoundsBuffer=i.createVertexBuffer(y,Gt.members),this.rasterBoundsSegments=l.a0.simpleSegment(0,0,4,2);const b=new l.aX;b.emplaceBack(0,0),b.emplaceBack(1,0),b.emplaceBack(0,1),b.emplaceBack(1,1),this.viewportBuffer=i.createVertexBuffer(b,Ja.members),this.viewportSegments=l.a0.simpleSegment(0,0,4,2);const T=new l.aZ;T.emplaceBack(0),T.emplaceBack(1),T.emplaceBack(3),T.emplaceBack(2),T.emplaceBack(0),this.tileBorderIndexBuffer=i.createIndexBuffer(T);const k=new l.aY;k.emplaceBack(0,1,2),k.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=i.createIndexBuffer(k);const R=this.context.gl;this.stencilClearMode=new An({func:R.ALWAYS,mask:0},0,255,R.ZERO,R.ZERO,R.ZERO)}clearStencil(){const i=this.context,h=i.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const p=l.H();l.aP(p,0,this.width,this.height,0,0,1),l.K(p,p,[h.drawingBufferWidth,h.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(i,h.TRIANGLES,Or.disabled,this.stencilClearMode,fn.disabled,In.disabled,Fr(p),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(i,h){if(this.currentStencilSource===i.source||!i.isTileClipped()||!h||!h.length)return;this.currentStencilSource=i.source;const p=this.context,y=p.gl;this.nextStencilID+h.length>256&&this.clearStencil(),p.setColorMode(fn.disabled),p.setDepthMode(Or.disabled);const b=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const T of h){const k=this._tileClippingMaskIDs[T.key]=this.nextStencilID++,R=this.style.map.terrain&&this.style.map.terrain.getTerrainData(T);b.draw(p,y.TRIANGLES,Or.disabled,new An({func:y.ALWAYS,mask:0},k,255,y.KEEP,y.KEEP,y.REPLACE),fn.disabled,In.disabled,Fr(T.posMatrix),R,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const i=this.nextStencilID++,h=this.context.gl;return new An({func:h.NOTEQUAL,mask:255},i,255,h.KEEP,h.KEEP,h.REPLACE)}stencilModeForClipping(i){const h=this.context.gl;return new An({func:h.EQUAL,mask:255},this._tileClippingMaskIDs[i.key],0,h.KEEP,h.KEEP,h.REPLACE)}stencilConfigForOverlap(i){const h=this.context.gl,p=i.sort((T,k)=>k.overscaledZ-T.overscaledZ),y=p[p.length-1].overscaledZ,b=p[0].overscaledZ-y+1;if(b>1){this.currentStencilSource=void 0,this.nextStencilID+b>256&&this.clearStencil();const T={};for(let k=0;k<b;k++)T[k+y]=new An({func:h.GEQUAL,mask:255},k+this.nextStencilID,255,h.KEEP,h.KEEP,h.REPLACE);return this.nextStencilID+=b,[T,p]}return[{[y]:An.disabled},p]}colorModeForRenderPass(){const i=this.context.gl;return this._showOverdrawInspector?new fn([i.CONSTANT_COLOR,i.ONE],new l.aM(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?fn.unblended:fn.alphaBlended}depthModeForSublayer(i,h,p){if(!this.opaquePassEnabledForLayer())return Or.disabled;const y=1-((1+this.currentLayer)*this.numSublayers+i)*this.depthEpsilon;return new Or(p||this.context.gl.LEQUAL,h,[y,y])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(i,h){this.style=i,this.options=h,this.lineAtlas=i.lineAtlas,this.imageManager=i.imageManager,this.glyphManager=i.glyphManager,this.symbolFadeChange=i.placement.symbolFadeChange(w.now()),this.imageManager.beginFrame();const p=this.style._order,y=this.style.sourceCaches,b={},T={},k={};for(const R in y){const B=y[R];B.used&&B.prepare(this.context),b[R]=B.getVisibleCoordinates(),T[R]=b[R].slice().reverse(),k[R]=B.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let R=0;R<p.length;R++)if(this.style._layers[p[R]].is3D()){this.opaquePassCutoff=R;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(const R of p){const B=this.style._layers[R];if(!B.hasOffscreenPass()||B.isHidden(this.transform.zoom))continue;const H=T[B.source];(B.type==="custom"||H.length)&&this.renderLayer(this,y[B.source],B,H)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:h.showOverdrawInspector?l.aM.black:l.aM.transparent,depth:1}),this.clearStencil(),this.style.sky&&function(R,B){const H=R.context,q=H.gl,te=((Ee,ke,Te)=>({u_sky_color:Ee.properties.get("sky-color"),u_horizon_color:Ee.properties.get("horizon-color"),u_horizon:(ke.height/2+ke.getHorizon())*Te,u_sky_horizon_blend:Ee.properties.get("sky-horizon-blend")*ke.height/2*Te}))(B,R.style.map.transform,R.pixelRatio),se=new Or(q.LEQUAL,Or.ReadWrite,[0,1]),ee=An.disabled,he=R.colorModeForRenderPass(),Se=R.useProgram("sky");if(!B.mesh){const Ee=new l.aX;Ee.emplaceBack(-1,-1),Ee.emplaceBack(1,-1),Ee.emplaceBack(1,1),Ee.emplaceBack(-1,1);const ke=new l.aY;ke.emplaceBack(0,1,2),ke.emplaceBack(0,2,3),B.mesh=new ui(H.createVertexBuffer(Ee,Ja.members),H.createIndexBuffer(ke),l.a0.simpleSegment(0,0,Ee.length,ke.length))}Se.draw(H,q.TRIANGLES,se,ee,he,In.disabled,te,void 0,"sky",B.mesh.vertexBuffer,B.mesh.indexBuffer,B.mesh.segments)}(this,this.style.sky),this._showOverdrawInspector=h.showOverdrawInspector,this.depthRangeFor3D=[0,1-(i._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=p.length-1;this.currentLayer>=0;this.currentLayer--){const R=this.style._layers[p[this.currentLayer]],B=y[R.source],H=b[R.source];this._renderTileClippingMasks(R,H),this.renderLayer(this,B,R,H)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<p.length;this.currentLayer++){const R=this.style._layers[p[this.currentLayer]],B=y[R.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(R))continue;const H=(R.type==="symbol"?k:T)[R.source];this._renderTileClippingMasks(R,b[R.source]),this.renderLayer(this,B,R,H)}if(this.options.showTileBoundaries){const R=function(B,H){let q=null;const te=Object.values(B._layers).flatMap(Se=>Se.source&&!Se.isHidden(H)?[B.sourceCaches[Se.source]]:[]),se=te.filter(Se=>Se.getSource().type==="vector"),ee=te.filter(Se=>Se.getSource().type!=="vector"),he=Se=>{(!q||q.getSource().maxzoom<Se.getSource().maxzoom)&&(q=Se)};return se.forEach(Se=>he(Se)),q||ee.forEach(Se=>he(Se)),q}(this.style,this.transform.zoom);R&&function(B,H,q){for(let te=0;te<q.length;te++)jn(B,H,q[te])}(this,R,R.getVisibleCoordinates())}this.options.showPadding&&function(R){const B=R.transform.padding;Pn(R,R.transform.height-(B.top||0),3,gc),Pn(R,B.bottom||0,3,Qe),yn(R,B.left||0,3,xt),yn(R,R.transform.width-(B.right||0),3,tr);const H=R.transform.centerPoint;(function(q,te,se,ee){Hn(q,te-1,se-10,2,20,ee),Hn(q,te-10,se-1,20,2,ee)})(R,H.x,R.transform.height-H.y,kr)}(this),this.context.setDefault()}maybeDrawDepthAndCoords(i){if(!this.style||!this.style.map||!this.style.map.terrain)return;const h=this.terrainFacilitator.matrix,p=this.transform.modelViewProjectionMatrix;let y=this.terrainFacilitator.dirty;y||(y=i?!l.a_(h,p):!l.a$(h,p)),y||(y=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime).length>0),y&&(l.b0(h,p),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(b,T){const k=b.context,R=k.gl,B=fn.unblended,H=new Or(R.LEQUAL,Or.ReadWrite,[0,1]),q=T.getTerrainMesh(),te=T.sourceCache.getRenderableTiles(),se=b.useProgram("terrainDepth");k.bindFramebuffer.set(T.getFramebuffer("depth").framebuffer),k.viewport.set([0,0,b.width/devicePixelRatio,b.height/devicePixelRatio]),k.clear({color:l.aM.transparent,depth:1});for(const ee of te){const he=T.getTerrainData(ee.tileID),Se={u_matrix:b.transform.calculatePosMatrix(ee.tileID.toUnwrapped()),u_ele_delta:T.getMeshFrameDelta(b.transform.zoom)};se.draw(k,R.TRIANGLES,H,An.disabled,B,In.backCCW,Se,he,"terrain",q.vertexBuffer,q.indexBuffer,q.segments)}k.bindFramebuffer.set(null),k.viewport.set([0,0,b.width,b.height])}(this,this.style.map.terrain),function(b,T){const k=b.context,R=k.gl,B=fn.unblended,H=new Or(R.LEQUAL,Or.ReadWrite,[0,1]),q=T.getTerrainMesh(),te=T.getCoordsTexture(),se=T.sourceCache.getRenderableTiles(),ee=b.useProgram("terrainCoords");k.bindFramebuffer.set(T.getFramebuffer("coords").framebuffer),k.viewport.set([0,0,b.width/devicePixelRatio,b.height/devicePixelRatio]),k.clear({color:l.aM.transparent,depth:1}),T.coordsIndex=[];for(const he of se){const Se=T.getTerrainData(he.tileID);k.activeTexture.set(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,te.texture);const Ee={u_matrix:b.transform.calculatePosMatrix(he.tileID.toUnwrapped()),u_terrain_coords_id:(255-T.coordsIndex.length)/255,u_texture:0,u_ele_delta:T.getMeshFrameDelta(b.transform.zoom)};ee.draw(k,R.TRIANGLES,H,An.disabled,B,In.backCCW,Ee,Se,"terrain",q.vertexBuffer,q.indexBuffer,q.segments),T.coordsIndex.push(he.tileID.key)}k.bindFramebuffer.set(null),k.viewport.set([0,0,b.width,b.height])}(this,this.style.map.terrain))}renderLayer(i,h,p,y){if(!p.isHidden(this.transform.zoom)&&(p.type==="background"||p.type==="custom"||(y||[]).length))switch(this.id=p.id,p.type){case"symbol":(function(b,T,k,R,B){if(b.renderPass!=="translucent")return;const H=An.disabled,q=b.colorModeForRenderPass();(k._unevaluatedLayout.hasValue("text-variable-anchor")||k._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(te,se,ee,he,Se,Ee,ke,Te,Fe){const Xe=se.transform,Ge=fo(),wt=Se==="map",Mt=Ee==="map";for(const $t of te){const qt=he.getTile($t),zt=qt.getBucket(ee);if(!zt||!zt.text||!zt.text.segments.get().length)continue;const Bt=l.ag(zt.textSizeData,Xe.zoom),Ht=en(qt,1,se.transform.zoom),Ar=_i($t.posMatrix,Mt,wt,se.transform,Ht),Yt=ee.layout.get("icon-text-fit")!=="none"&&zt.hasIconData();if(Bt){const Jt=Math.pow(2,Xe.zoom-qt.tileID.overscaledZ),Mr=se.style.map.terrain?(Wr,ln)=>se.style.map.terrain.getElevation($t,Wr,ln):null,Jr=Ge.translatePosition(Xe,qt,ke,Te);Ko(zt,wt,Mt,Fe,Xe,Ar,$t.posMatrix,Jt,Bt,Yt,Ge,Jr,$t.toUnwrapped(),Mr)}}}(R,b,k,T,k.layout.get("text-rotation-alignment"),k.layout.get("text-pitch-alignment"),k.paint.get("text-translate"),k.paint.get("text-translate-anchor"),B),k.paint.get("icon-opacity").constantOr(1)!==0&&Ai(b,T,k,R,!1,k.paint.get("icon-translate"),k.paint.get("icon-translate-anchor"),k.layout.get("icon-rotation-alignment"),k.layout.get("icon-pitch-alignment"),k.layout.get("icon-keep-upright"),H,q),k.paint.get("text-opacity").constantOr(1)!==0&&Ai(b,T,k,R,!0,k.paint.get("text-translate"),k.paint.get("text-translate-anchor"),k.layout.get("text-rotation-alignment"),k.layout.get("text-pitch-alignment"),k.layout.get("text-keep-upright"),H,q),T.map.showCollisionBoxes&&(Zs(b,T,k,R,!0),Zs(b,T,k,R,!1))})(i,h,p,y,this.style.placement.variableOffsets);break;case"circle":(function(b,T,k,R){if(b.renderPass!=="translucent")return;const B=k.paint.get("circle-opacity"),H=k.paint.get("circle-stroke-width"),q=k.paint.get("circle-stroke-opacity"),te=!k.layout.get("circle-sort-key").isConstant();if(B.constantOr(1)===0&&(H.constantOr(1)===0||q.constantOr(1)===0))return;const se=b.context,ee=se.gl,he=b.depthModeForSublayer(0,Or.ReadOnly),Se=An.disabled,Ee=b.colorModeForRenderPass(),ke=[];for(let Te=0;Te<R.length;Te++){const Fe=R[Te],Xe=T.getTile(Fe),Ge=Xe.getBucket(k);if(!Ge)continue;const wt=Ge.programConfigurations.get(k.id),Mt=b.useProgram("circle",wt),$t=Ge.layoutVertexBuffer,qt=Ge.indexBuffer,zt=b.style.map.terrain&&b.style.map.terrain.getTerrainData(Fe),Bt={programConfiguration:wt,program:Mt,layoutVertexBuffer:$t,indexBuffer:qt,uniformValues:nr(b,Fe,Xe,k),terrainData:zt};if(te){const Ht=Ge.segments.get();for(const Ar of Ht)ke.push({segments:new l.a0([Ar]),sortKey:Ar.sortKey,state:Bt})}else ke.push({segments:Ge.segments,sortKey:0,state:Bt})}te&&ke.sort((Te,Fe)=>Te.sortKey-Fe.sortKey);for(const Te of ke){const{programConfiguration:Fe,program:Xe,layoutVertexBuffer:Ge,indexBuffer:wt,uniformValues:Mt,terrainData:$t}=Te.state;Xe.draw(se,ee.TRIANGLES,he,Se,Ee,In.disabled,Mt,$t,k.id,Ge,wt,Te.segments,k.paint,b.transform.zoom,Fe)}})(i,h,p,y);break;case"heatmap":(function(b,T,k,R){if(k.paint.get("heatmap-opacity")===0)return;const B=b.context;if(b.style.map.terrain){for(const H of R){const q=T.getTile(H);T.hasRenderableParent(H)||(b.renderPass==="offscreen"?da(b,q,k,H):b.renderPass==="translucent"&&Ta(b,k,H))}B.viewport.set([0,0,b.width,b.height])}else b.renderPass==="offscreen"?function(H,q,te,se){const ee=H.context,he=ee.gl,Se=An.disabled,Ee=new fn([he.ONE,he.ONE],l.aM.transparent,[!0,!0,!0,!0]);(function(ke,Te,Fe){const Xe=ke.gl;ke.activeTexture.set(Xe.TEXTURE1),ke.viewport.set([0,0,Te.width/4,Te.height/4]);let Ge=Fe.heatmapFbos.get(l.aU);Ge?(Xe.bindTexture(Xe.TEXTURE_2D,Ge.colorAttachment.get()),ke.bindFramebuffer.set(Ge.framebuffer)):(Ge=Js(ke,Te.width/4,Te.height/4),Fe.heatmapFbos.set(l.aU,Ge))})(ee,H,te),ee.clear({color:l.aM.transparent});for(let ke=0;ke<se.length;ke++){const Te=se[ke];if(q.hasRenderableParent(Te))continue;const Fe=q.getTile(Te),Xe=Fe.getBucket(te);if(!Xe)continue;const Ge=Xe.programConfigurations.get(te.id),wt=H.useProgram("heatmap",Ge),{zoom:Mt}=H.transform;wt.draw(ee,he.TRIANGLES,Or.disabled,Se,Ee,In.disabled,fr(Te.posMatrix,Fe,Mt,te.paint.get("heatmap-intensity")),null,te.id,Xe.layoutVertexBuffer,Xe.indexBuffer,Xe.segments,te.paint,H.transform.zoom,Ge)}ee.viewport.set([0,0,H.width,H.height])}(b,T,k,R):b.renderPass==="translucent"&&function(H,q){const te=H.context,se=te.gl;te.setColorMode(H.colorModeForRenderPass());const ee=q.heatmapFbos.get(l.aU);ee&&(te.activeTexture.set(se.TEXTURE0),se.bindTexture(se.TEXTURE_2D,ee.colorAttachment.get()),te.activeTexture.set(se.TEXTURE1),Hi(te,q).bind(se.LINEAR,se.CLAMP_TO_EDGE),H.useProgram("heatmapTexture").draw(te,se.TRIANGLES,Or.disabled,An.disabled,H.colorModeForRenderPass(),In.disabled,Nt(H,q,0,1),null,q.id,H.viewportBuffer,H.quadTriangleIndexBuffer,H.viewportSegments,q.paint,H.transform.zoom))}(b,k)})(i,h,p,y);break;case"line":(function(b,T,k,R){if(b.renderPass!=="translucent")return;const B=k.paint.get("line-opacity"),H=k.paint.get("line-width");if(B.constantOr(1)===0||H.constantOr(1)===0)return;const q=b.depthModeForSublayer(0,Or.ReadOnly),te=b.colorModeForRenderPass(),se=k.paint.get("line-dasharray"),ee=k.paint.get("line-pattern"),he=ee.constantOr(1),Se=k.paint.get("line-gradient"),Ee=k.getCrossfadeParameters(),ke=he?"linePattern":se?"lineSDF":Se?"lineGradient":"line",Te=b.context,Fe=Te.gl;let Xe=!0;for(const Ge of R){const wt=T.getTile(Ge);if(he&&!wt.patternsLoaded())continue;const Mt=wt.getBucket(k);if(!Mt)continue;const $t=Mt.programConfigurations.get(k.id),qt=b.context.program.get(),zt=b.useProgram(ke,$t),Bt=Xe||zt.program!==qt,Ht=b.style.map.terrain&&b.style.map.terrain.getTerrainData(Ge),Ar=ee.constantOr(null);if(Ar&&wt.imageAtlas){const Mr=wt.imageAtlas,Jr=Mr.patternPositions[Ar.to.toString()],Wr=Mr.patternPositions[Ar.from.toString()];Jr&&Wr&&$t.setConstantPatternPositions(Jr,Wr)}const Yt=Ht?Ge:null,Jt=he?ti(b,wt,k,Ee,Yt):se?pl(b,wt,k,se,Ee,Yt):Se?Bi(b,wt,k,Mt.lineClipsArray.length,Yt):xn(b,wt,k,Yt);if(he)Te.activeTexture.set(Fe.TEXTURE0),wt.imageAtlasTexture.bind(Fe.LINEAR,Fe.CLAMP_TO_EDGE),$t.updatePaintBuffers(Ee);else if(se&&(Bt||b.lineAtlas.dirty))Te.activeTexture.set(Fe.TEXTURE0),b.lineAtlas.bind(Te);else if(Se){const Mr=Mt.gradients[k.id];let Jr=Mr.texture;if(k.gradientVersion!==Mr.version){let Wr=256;if(k.stepInterpolant){const ln=T.getSource().maxzoom,Sn=Ge.canonical.z===ln?Math.ceil(1<<b.transform.maxZoom-Ge.canonical.z):1;Wr=l.ac(l.aV(Mt.maxLineLength/l.X*1024*Sn),256,Te.maxTextureSize)}Mr.gradient=l.aW({expression:k.gradientExpression(),evaluationKey:"lineProgress",resolution:Wr,image:Mr.gradient||void 0,clips:Mt.lineClipsArray}),Mr.texture?Mr.texture.update(Mr.gradient):Mr.texture=new X(Te,Mr.gradient,Fe.RGBA),Mr.version=k.gradientVersion,Jr=Mr.texture}Te.activeTexture.set(Fe.TEXTURE0),Jr.bind(k.stepInterpolant?Fe.NEAREST:Fe.LINEAR,Fe.CLAMP_TO_EDGE)}zt.draw(Te,Fe.TRIANGLES,q,b.stencilModeForClipping(Ge),te,In.disabled,Jt,Ht,k.id,Mt.layoutVertexBuffer,Mt.indexBuffer,Mt.segments,k.paint,b.transform.zoom,$t,Mt.layoutVertexBuffer2),Xe=!1}})(i,h,p,y);break;case"fill":(function(b,T,k,R){const B=k.paint.get("fill-color"),H=k.paint.get("fill-opacity");if(H.constantOr(1)===0)return;const q=b.colorModeForRenderPass(),te=k.paint.get("fill-pattern"),se=b.opaquePassEnabledForLayer()&&!te.constantOr(1)&&B.constantOr(l.aM.transparent).a===1&&H.constantOr(0)===1?"opaque":"translucent";if(b.renderPass===se){const ee=b.depthModeForSublayer(1,b.renderPass==="opaque"?Or.ReadWrite:Or.ReadOnly);As(b,T,k,R,ee,q,!1)}if(b.renderPass==="translucent"&&k.paint.get("fill-antialias")){const ee=b.depthModeForSublayer(k.getPaintProperty("fill-outline-color")?2:0,Or.ReadOnly);As(b,T,k,R,ee,q,!0)}})(i,h,p,y);break;case"fill-extrusion":(function(b,T,k,R){const B=k.paint.get("fill-extrusion-opacity");if(B!==0&&b.renderPass==="translucent"){const H=new Or(b.context.gl.LEQUAL,Or.ReadWrite,b.depthRangeFor3D);if(B!==1||k.paint.get("fill-extrusion-pattern").constantOr(1))wl(b,T,k,R,H,An.disabled,fn.disabled),wl(b,T,k,R,H,b.stencilModeFor3D(),b.colorModeForRenderPass());else{const q=b.colorModeForRenderPass();wl(b,T,k,R,H,An.disabled,q)}}})(i,h,p,y);break;case"hillshade":(function(b,T,k,R){if(b.renderPass!=="offscreen"&&b.renderPass!=="translucent")return;const B=b.context,H=b.depthModeForSublayer(0,Or.ReadOnly),q=b.colorModeForRenderPass(),[te,se]=b.renderPass==="translucent"?b.stencilConfigForOverlap(R):[{},R];for(const ee of se){const he=T.getTile(ee);he.needsHillshadePrepare!==void 0&&he.needsHillshadePrepare&&b.renderPass==="offscreen"?fa(b,he,k,H,An.disabled,q):b.renderPass==="translucent"&&Co(b,ee,he,k,H,te[ee.overscaledZ],q)}B.viewport.set([0,0,b.width,b.height])})(i,h,p,y);break;case"raster":(function(b,T,k,R){if(b.renderPass!=="translucent"||k.paint.get("raster-opacity")===0||!R.length)return;const B=b.context,H=B.gl,q=T.getSource(),te=b.useProgram("raster"),se=b.colorModeForRenderPass(),[ee,he]=q instanceof It?[{},R]:b.stencilConfigForOverlap(R),Se=he[he.length-1].overscaledZ,Ee=!b.options.moving;for(const ke of he){const Te=b.depthModeForSublayer(ke.overscaledZ-Se,k.paint.get("raster-opacity")===1?Or.ReadWrite:Or.ReadOnly,H.LESS),Fe=T.getTile(ke);Fe.registerFadeDuration(k.paint.get("raster-fade-duration"));const Xe=T.findLoadedParent(ke,0),Ge=T.findLoadedSibling(ke),wt=mc(Fe,Xe||Ge||null,T,k,b.transform,b.style.map.terrain);let Mt,$t;const qt=k.paint.get("raster-resampling")==="nearest"?H.NEAREST:H.LINEAR;B.activeTexture.set(H.TEXTURE0),Fe.texture.bind(qt,H.CLAMP_TO_EDGE,H.LINEAR_MIPMAP_NEAREST),B.activeTexture.set(H.TEXTURE1),Xe?(Xe.texture.bind(qt,H.CLAMP_TO_EDGE,H.LINEAR_MIPMAP_NEAREST),Mt=Math.pow(2,Xe.tileID.overscaledZ-Fe.tileID.overscaledZ),$t=[Fe.tileID.canonical.x*Mt%1,Fe.tileID.canonical.y*Mt%1]):Fe.texture.bind(qt,H.CLAMP_TO_EDGE,H.LINEAR_MIPMAP_NEAREST),Fe.texture.useMipmap&&B.extTextureFilterAnisotropic&&b.transform.pitch>20&&H.texParameterf(H.TEXTURE_2D,B.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,B.extTextureFilterAnisotropicMax);const zt=b.style.map.terrain&&b.style.map.terrain.getTerrainData(ke),Bt=zt?ke:null,Ht=Bt?Bt.posMatrix:b.transform.calculatePosMatrix(ke.toUnwrapped(),Ee),Ar=Kc(Ht,$t||[0,0],Mt||1,wt,k);q instanceof It?te.draw(B,H.TRIANGLES,Te,An.disabled,se,In.disabled,Ar,zt,k.id,q.boundsBuffer,b.quadTriangleIndexBuffer,q.boundsSegments):te.draw(B,H.TRIANGLES,Te,ee[ke.overscaledZ],se,In.disabled,Ar,zt,k.id,b.rasterBoundsBuffer,b.quadTriangleIndexBuffer,b.rasterBoundsSegments)}})(i,h,p,y);break;case"background":(function(b,T,k,R){const B=k.paint.get("background-color"),H=k.paint.get("background-opacity");if(H===0)return;const q=b.context,te=q.gl,se=b.transform,ee=se.tileSize,he=k.paint.get("background-pattern");if(b.isPatternMissing(he))return;const Se=!he&&B.a===1&&H===1&&b.opaquePassEnabledForLayer()?"opaque":"translucent";if(b.renderPass!==Se)return;const Ee=An.disabled,ke=b.depthModeForSublayer(0,Se==="opaque"?Or.ReadWrite:Or.ReadOnly),Te=b.colorModeForRenderPass(),Fe=b.useProgram(he?"backgroundPattern":"background"),Xe=R||se.coveringTiles({tileSize:ee,terrain:b.style.map.terrain});he&&(q.activeTexture.set(te.TEXTURE0),b.imageManager.bind(b.context));const Ge=k.getCrossfadeParameters();for(const wt of Xe){const Mt=R?wt.posMatrix:b.transform.calculatePosMatrix(wt.toUnwrapped()),$t=he?ts(Mt,H,b,he,{tileID:wt,tileSize:ee},Ge):Yl(Mt,H,B),qt=b.style.map.terrain&&b.style.map.terrain.getTerrainData(wt);Fe.draw(q,te.TRIANGLES,ke,Ee,Te,In.disabled,$t,qt,k.id,b.tileExtentBuffer,b.quadTriangleIndexBuffer,b.tileExtentSegments)}})(i,0,p,y);break;case"custom":(function(b,T,k){const R=b.context,B=k.implementation;if(b.renderPass==="offscreen"){const H=B.prerender;H&&(b.setCustomLayerDefaults(),R.setColorMode(b.colorModeForRenderPass()),H.call(B,R.gl,b.transform.customLayerMatrix()),R.setDirty(),b.setBaseState())}else if(b.renderPass==="translucent"){b.setCustomLayerDefaults(),R.setColorMode(b.colorModeForRenderPass()),R.setStencilMode(An.disabled);const H=B.renderingMode==="3d"?new Or(b.context.gl.LEQUAL,Or.ReadWrite,b.depthRangeFor3D):b.depthModeForSublayer(0,Or.ReadOnly);R.setDepthMode(H),B.render(R.gl,b.transform.customLayerMatrix(),{farZ:b.transform.farZ,nearZ:b.transform.nearZ,fov:b.transform._fov,modelViewProjectionMatrix:b.transform.modelViewProjectionMatrix,projectionMatrix:b.transform.projectionMatrix}),R.setDirty(),b.setBaseState(),R.bindFramebuffer.set(null)}})(i,0,p)}}translatePosMatrix(i,h,p,y,b){if(!p[0]&&!p[1])return i;const T=b?y==="map"?this.transform.angle:0:y==="viewport"?-this.transform.angle:0;if(T){const B=Math.sin(T),H=Math.cos(T);p=[p[0]*H-p[1]*B,p[0]*B+p[1]*H]}const k=[b?p[0]:en(h,p[0],this.transform.zoom),b?p[1]:en(h,p[1],this.transform.zoom),0],R=new Float32Array(16);return l.J(R,i,k),R}saveTileTexture(i){const h=this._tileTextures[i.size[0]];h?h.push(i):this._tileTextures[i.size[0]]=[i]}getTileTexture(i){const h=this._tileTextures[i];return h&&h.length>0?h.pop():null}isPatternMissing(i){if(!i)return!1;if(!i.from||!i.to)return!0;const h=this.imageManager.getPattern(i.from.toString()),p=this.imageManager.getPattern(i.to.toString());return!h||!p}useProgram(i,h){this.cache=this.cache||{};const p=i+(h?h.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[p]||(this.cache[p]=new ze(this.context,Qa[i],h,ml[i],this._showOverdrawInspector,this.style.map.terrain)),this.cache[p]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const i=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(i.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new X(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:i,drawingBufferHeight:h}=this.context.gl;return this.width!==i||this.height!==h}}class gi{constructor(i,h){this.points=i,this.planes=h}static fromInvProjectionMatrix(i,h,p){const y=Math.pow(2,p),b=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(k=>{const R=1/(k=l.af([],k,i))[3]/h*y;return l.b1(k,k,[R,R,1/k[3],R])}),T=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(k=>{const R=function(te,se){var ee=se[0],he=se[1],Se=se[2],Ee=ee*ee+he*he+Se*Se;return Ee>0&&(Ee=1/Math.sqrt(Ee)),te[0]=se[0]*Ee,te[1]=se[1]*Ee,te[2]=se[2]*Ee,te}([],function(te,se,ee){var he=se[0],Se=se[1],Ee=se[2],ke=ee[0],Te=ee[1],Fe=ee[2];return te[0]=Se*Fe-Ee*Te,te[1]=Ee*ke-he*Fe,te[2]=he*Te-Se*ke,te}([],J([],b[k[0]],b[k[1]]),J([],b[k[2]],b[k[1]]))),B=-((H=R)[0]*(q=b[k[1]])[0]+H[1]*q[1]+H[2]*q[2]);var H,q;return R.concat(B)});return new gi(b,T)}}class zi{constructor(i,h){this.min=i,this.max=h,this.center=function(p,y,b){return p[0]=.5*y[0],p[1]=.5*y[1],p[2]=.5*y[2],p}([],function(p,y,b){return p[0]=y[0]+b[0],p[1]=y[1]+b[1],p[2]=y[2]+b[2],p}([],this.min,this.max))}quadrant(i){const h=[i%2==0,i<2],p=re(this.min),y=re(this.max);for(let b=0;b<h.length;b++)p[b]=h[b]?this.min[b]:this.center[b],y[b]=h[b]?this.center[b]:this.max[b];return y[2]=this.max[2],new zi(p,y)}distanceX(i){return Math.max(Math.min(this.max[0],i[0]),this.min[0])-i[0]}distanceY(i){return Math.max(Math.min(this.max[1],i[1]),this.min[1])-i[1]}intersects(i){const h=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let p=!0;for(let y=0;y<i.planes.length;y++){const b=i.planes[y];let T=0;for(let k=0;k<h.length;k++)l.b2(b,h[k])>=0&&T++;if(T===0)return 0;T!==h.length&&(p=!1)}if(p)return 2;for(let y=0;y<3;y++){let b=Number.MAX_VALUE,T=-Number.MAX_VALUE;for(let k=0;k<i.points.length;k++){const R=i.points[k][y]-this.min[y];b=Math.min(b,R),T=Math.max(T,R)}if(T<0||b>this.max[y]-this.min[y])return 0}return 1}}class ci{constructor(i=0,h=0,p=0,y=0){if(isNaN(i)||i<0||isNaN(h)||h<0||isNaN(p)||p<0||isNaN(y)||y<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=i,this.bottom=h,this.left=p,this.right=y}interpolate(i,h,p){return h.top!=null&&i.top!=null&&(this.top=l.y.number(i.top,h.top,p)),h.bottom!=null&&i.bottom!=null&&(this.bottom=l.y.number(i.bottom,h.bottom,p)),h.left!=null&&i.left!=null&&(this.left=l.y.number(i.left,h.left,p)),h.right!=null&&i.right!=null&&(this.right=l.y.number(i.right,h.right,p)),this}getCenter(i,h){const p=l.ac((this.left+i-this.right)/2,0,i),y=l.ac((this.top+h-this.bottom)/2,0,h);return new l.P(p,y)}equals(i){return this.top===i.top&&this.bottom===i.bottom&&this.left===i.left&&this.right===i.right}clone(){return new ci(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}const No=85.051129;class Eo{constructor(i,h,p,y,b){this.tileSize=512,this._renderWorldCopies=b===void 0||!!b,this._minZoom=i||0,this._maxZoom=h||22,this._minPitch=p??0,this._maxPitch=y??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new l.N(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new ci,this._posMatrixCache={},this._alignedPosMatrixCache={},this._fogMatrixCache={},this.minElevationForCurrentTile=0}clone(){const i=new Eo(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return i.apply(this),i}apply(i){this.tileSize=i.tileSize,this.latRange=i.latRange,this.lngRange=i.lngRange,this.width=i.width,this.height=i.height,this._center=i._center,this._elevation=i._elevation,this.minElevationForCurrentTile=i.minElevationForCurrentTile,this.zoom=i.zoom,this.angle=i.angle,this._fov=i._fov,this._pitch=i._pitch,this._unmodified=i._unmodified,this._edgeInsets=i._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(i){this._minZoom!==i&&(this._minZoom=i,this.zoom=Math.max(this.zoom,i))}get maxZoom(){return this._maxZoom}set maxZoom(i){this._maxZoom!==i&&(this._maxZoom=i,this.zoom=Math.min(this.zoom,i))}get minPitch(){return this._minPitch}set minPitch(i){this._minPitch!==i&&(this._minPitch=i,this.pitch=Math.max(this.pitch,i))}get maxPitch(){return this._maxPitch}set maxPitch(i){this._maxPitch!==i&&(this._maxPitch=i,this.pitch=Math.min(this.pitch,i))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(i){i===void 0?i=!0:i===null&&(i=!1),this._renderWorldCopies=i}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new l.P(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(i){const h=-l.b3(i,-180,180)*Math.PI/180;this.angle!==h&&(this._unmodified=!1,this.angle=h,this._calcMatrices(),this.rotationMatrix=function(){var p=new l.A(4);return l.A!=Float32Array&&(p[1]=0,p[2]=0),p[0]=1,p[3]=1,p}(),function(p,y,b){var T=y[0],k=y[1],R=y[2],B=y[3],H=Math.sin(b),q=Math.cos(b);p[0]=T*q+R*H,p[1]=k*q+B*H,p[2]=T*-H+R*q,p[3]=k*-H+B*q}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(i){const h=l.ac(i,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==h&&(this._unmodified=!1,this._pitch=h,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(i){i=Math.max(.01,Math.min(60,i)),this._fov!==i&&(this._unmodified=!1,this._fov=i/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(i){const h=Math.min(Math.max(i,this.minZoom),this.maxZoom);this._zoom!==h&&(this._unmodified=!1,this._zoom=h,this.tileZoom=Math.max(0,Math.floor(h)),this.scale=this.zoomScale(h),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(i){i.lat===this._center.lat&&i.lng===this._center.lng||(this._unmodified=!1,this._center=i,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(i){i!==this._elevation&&(this._elevation=i,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(i){this._edgeInsets.equals(i)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,i,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(i){return this._edgeInsets.equals(i)}interpolatePadding(i,h,p){this._unmodified=!1,this._edgeInsets.interpolate(i,h,p),this._constrain(),this._calcMatrices()}coveringZoomLevel(i){const h=(i.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/i.tileSize));return Math.max(0,h)}getVisibleUnwrappedCoordinates(i){const h=[new l.b4(0,i)];if(this._renderWorldCopies){const p=this.pointCoordinate(new l.P(0,0)),y=this.pointCoordinate(new l.P(this.width,0)),b=this.pointCoordinate(new l.P(this.width,this.height)),T=this.pointCoordinate(new l.P(0,this.height)),k=Math.floor(Math.min(p.x,y.x,b.x,T.x)),R=Math.floor(Math.max(p.x,y.x,b.x,T.x)),B=1;for(let H=k-B;H<=R+B;H++)H!==0&&h.push(new l.b4(H,i))}return h}coveringTiles(i){var h,p;let y=this.coveringZoomLevel(i);const b=y;if(i.minzoom!==void 0&&y<i.minzoom)return[];i.maxzoom!==void 0&&y>i.maxzoom&&(y=i.maxzoom);const T=this.pointCoordinate(this.getCameraPoint()),k=l.Z.fromLngLat(this.center),R=Math.pow(2,y),B=[R*T.x,R*T.y,0],H=[R*k.x,R*k.y,0],q=gi.fromInvProjectionMatrix(this.invModelViewProjectionMatrix,this.worldSize,y);let te=i.minzoom||0;!i.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(te=y);const se=i.terrain?2/Math.min(this.tileSize,i.tileSize)*this.tileSize:3,ee=Te=>({aabb:new zi([Te*R,0,0],[(Te+1)*R,R,0]),zoom:0,x:0,y:0,wrap:Te,fullyVisible:!1}),he=[],Se=[],Ee=y,ke=i.reparseOverscaled?b:y;if(this._renderWorldCopies)for(let Te=1;Te<=3;Te++)he.push(ee(-Te)),he.push(ee(Te));for(he.push(ee(0));he.length>0;){const Te=he.pop(),Fe=Te.x,Xe=Te.y;let Ge=Te.fullyVisible;if(!Ge){const zt=Te.aabb.intersects(q);if(zt===0)continue;Ge=zt===2}const wt=i.terrain?B:H,Mt=Te.aabb.distanceX(wt),$t=Te.aabb.distanceY(wt),qt=Math.max(Math.abs(Mt),Math.abs($t));if(Te.zoom===Ee||qt>se+(1<<Ee-Te.zoom)-2&&Te.zoom>=te){const zt=Ee-Te.zoom,Bt=B[0]-.5-(Fe<<zt),Ht=B[1]-.5-(Xe<<zt);Se.push({tileID:new l.S(Te.zoom===Ee?ke:Te.zoom,Te.wrap,Te.zoom,Fe,Xe),distanceSq:ne([H[0]-.5-Fe,H[1]-.5-Xe]),tileDistanceToCamera:Math.sqrt(Bt*Bt+Ht*Ht)})}else for(let zt=0;zt<4;zt++){const Bt=(Fe<<1)+zt%2,Ht=(Xe<<1)+(zt>>1),Ar=Te.zoom+1;let Yt=Te.aabb.quadrant(zt);if(i.terrain){const Jt=new l.S(Ar,Te.wrap,Ar,Bt,Ht),Mr=i.terrain.getMinMaxElevation(Jt),Jr=(h=Mr.minElevation)!==null&&h!==void 0?h:this.elevation,Wr=(p=Mr.maxElevation)!==null&&p!==void 0?p:this.elevation;Yt=new zi([Yt.min[0],Yt.min[1],Jr],[Yt.max[0],Yt.max[1],Wr])}he.push({aabb:Yt,zoom:Ar,x:Bt,y:Ht,wrap:Te.wrap,fullyVisible:Ge})}}return Se.sort((Te,Fe)=>Te.distanceSq-Fe.distanceSq).map(Te=>Te.tileID)}resize(i,h){this.width=i,this.height=h,this.pixelsToGLUnits=[2/i,-2/h],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(i){return Math.pow(2,i)}scaleZoom(i){return Math.log(i)/Math.LN2}project(i){const h=l.ac(i.lat,-85.051129,No);return new l.P(l.O(i.lng)*this.worldSize,l.Q(h)*this.worldSize)}unproject(i){return new l.Z(i.x/this.worldSize,i.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(i){const h=this.elevation,p=Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter,y=this.pointLocation(this.centerPoint,i),b=i.getElevationForLngLatZoom(y,this.tileZoom);if(!(this.elevation-b))return;const T=p+h-b,k=Math.cos(this._pitch)*this.cameraToCenterDistance/T/l.b5(1,y.lat),R=this.scaleZoom(k/this.tileSize);this._elevation=b,this._center=y,this.zoom=R}setLocationAtPoint(i,h){const p=this.pointCoordinate(h),y=this.pointCoordinate(this.centerPoint),b=this.locationCoordinate(i),T=new l.Z(b.x-(p.x-y.x),b.y-(p.y-y.y));this.center=this.coordinateLocation(T),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(i,h){return h?this.coordinatePoint(this.locationCoordinate(i),h.getElevationForLngLatZoom(i,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(i))}pointLocation(i,h){return this.coordinateLocation(this.pointCoordinate(i,h))}locationCoordinate(i){return l.Z.fromLngLat(i)}coordinateLocation(i){return i&&i.toLngLat()}pointCoordinate(i,h){if(h){const te=h.pointCoordinate(i);if(te!=null)return te}const p=[i.x,i.y,0,1],y=[i.x,i.y,1,1];l.af(p,p,this.pixelMatrixInverse),l.af(y,y,this.pixelMatrixInverse);const b=p[3],T=y[3],k=p[1]/b,R=y[1]/T,B=p[2]/b,H=y[2]/T,q=B===H?0:(0-B)/(H-B);return new l.Z(l.y.number(p[0]/b,y[0]/T,q)/this.worldSize,l.y.number(k,R,q)/this.worldSize)}coordinatePoint(i,h=0,p=this.pixelMatrix){const y=[i.x*this.worldSize,i.y*this.worldSize,h,1];return l.af(y,y,p),new l.P(y[0]/y[3],y[1]/y[3])}getBounds(){const i=Math.max(0,this.height/2-this.getHorizon());return new de().extend(this.pointLocation(new l.P(0,i))).extend(this.pointLocation(new l.P(this.width,i))).extend(this.pointLocation(new l.P(this.width,this.height))).extend(this.pointLocation(new l.P(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new de([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(i){i?(this.lngRange=[i.getWest(),i.getEast()],this.latRange=[i.getSouth(),i.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-85.051129,No])}calculateTileMatrix(i){const h=i.canonical,p=this.worldSize/this.zoomScale(h.z),y=h.x+Math.pow(2,h.z)*i.wrap,b=l.an(new Float64Array(16));return l.J(b,b,[y*p,h.y*p,0]),l.K(b,b,[p/l.X,p/l.X,1]),b}calculatePosMatrix(i,h=!1){const p=i.key,y=h?this._alignedPosMatrixCache:this._posMatrixCache;if(y[p])return y[p];const b=this.calculateTileMatrix(i);return l.L(b,h?this.alignedModelViewProjectionMatrix:this.modelViewProjectionMatrix,b),y[p]=new Float32Array(b),y[p]}calculateFogMatrix(i){const h=i.key,p=this._fogMatrixCache;if(p[h])return p[h];const y=this.calculateTileMatrix(i);return l.L(y,this.fogMatrix,y),p[h]=new Float32Array(y),p[h]}customLayerMatrix(){return this.mercatorMatrix.slice()}getConstrained(i,h){h=l.ac(+h,this.minZoom,this.maxZoom);const p={center:new l.N(i.lng,i.lat),zoom:h};let y=this.lngRange;if(!this._renderWorldCopies&&y===null){const Te=179.9999999999;y=[-Te,Te]}const b=this.tileSize*this.zoomScale(p.zoom);let T=0,k=b,R=0,B=b,H=0,q=0;const{x:te,y:se}=this.size;if(this.latRange){const Te=this.latRange;T=l.Q(Te[1])*b,k=l.Q(Te[0])*b,k-T<se&&(H=se/(k-T))}y&&(R=l.b3(l.O(y[0])*b,0,b),B=l.b3(l.O(y[1])*b,0,b),B<R&&(B+=b),B-R<te&&(q=te/(B-R)));const{x:ee,y:he}=this.project.call({worldSize:b},i);let Se,Ee;const ke=Math.max(q||0,H||0);if(ke){const Te=new l.P(q?(B+R)/2:ee,H?(k+T)/2:he);return p.center=this.unproject.call({worldSize:b},Te).wrap(),p.zoom+=this.scaleZoom(ke),p}if(this.latRange){const Te=se/2;he-Te<T&&(Ee=T+Te),he+Te>k&&(Ee=k-Te)}if(y){const Te=(R+B)/2;let Fe=ee;this._renderWorldCopies&&(Fe=l.b3(ee,Te-b/2,Te+b/2));const Xe=te/2;Fe-Xe<R&&(Se=R+Xe),Fe+Xe>B&&(Se=B-Xe)}if(Se!==void 0||Ee!==void 0){const Te=new l.P(Se??ee,Ee??he);p.center=this.unproject.call({worldSize:b},Te).wrap()}return p}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const i=this._unmodified,{center:h,zoom:p}=this.getConstrained(this.center,this.zoom);this.center=h,this.zoom=p,this._unmodified=i,this._constraining=!1}_calcMatrices(){if(!this.height)return;const i=this.centerOffset,h=this.point.x,p=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=l.b5(1,this.center.lat)*this.worldSize;let y=l.an(new Float64Array(16));l.K(y,y,[this.width/2,-this.height/2,1]),l.J(y,y,[1,-1,0]),this.labelPlaneMatrix=y,y=l.an(new Float64Array(16)),l.K(y,y,[1,-1,1]),l.J(y,y,[-1,-1,0]),l.K(y,y,[2/this.width,2/this.height,1]),this.glCoordMatrix=y;const b=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),T=Math.min(this.elevation,this.minElevationForCurrentTile),k=b-T*this._pixelPerMeter/Math.cos(this._pitch),R=T<0?k:b,B=Math.PI/2+this._pitch,H=this._fov*(.5+i.y/this.height),q=Math.sin(H)*R/Math.sin(l.ac(Math.PI-B-H,.01,Math.PI-.01)),te=this.getHorizon(),se=2*Math.atan(te/this.cameraToCenterDistance)*(.5+i.y/(2*te)),ee=Math.sin(se)*R/Math.sin(l.ac(Math.PI-B-se,.01,Math.PI-.01)),he=Math.min(q,ee);this.farZ=1.01*(Math.cos(Math.PI/2-this._pitch)*he+R),this.nearZ=this.height/50,y=new Float64Array(16),l.b6(y,this._fov,this.width/this.height,this.nearZ,this.farZ),y[8]=2*-i.x/this.width,y[9]=2*i.y/this.height,this.projectionMatrix=l.ae(y),l.K(y,y,[1,-1,1]),l.J(y,y,[0,0,-this.cameraToCenterDistance]),l.b7(y,y,this._pitch),l.ad(y,y,this.angle),l.J(y,y,[-h,-p,0]),this.mercatorMatrix=l.K([],y,[this.worldSize,this.worldSize,this.worldSize]),l.K(y,y,[1,1,this._pixelPerMeter]),this.pixelMatrix=l.L(new Float64Array(16),this.labelPlaneMatrix,y),l.J(y,y,[0,0,-this.elevation]),this.modelViewProjectionMatrix=y,this.invModelViewProjectionMatrix=l.as([],y),this.fogMatrix=new Float64Array(16),l.b6(this.fogMatrix,this._fov,this.width/this.height,b,this.farZ),this.fogMatrix[8]=2*-i.x/this.width,this.fogMatrix[9]=2*i.y/this.height,l.K(this.fogMatrix,this.fogMatrix,[1,-1,1]),l.J(this.fogMatrix,this.fogMatrix,[0,0,-this.cameraToCenterDistance]),l.b7(this.fogMatrix,this.fogMatrix,this._pitch),l.ad(this.fogMatrix,this.fogMatrix,this.angle),l.J(this.fogMatrix,this.fogMatrix,[-h,-p,0]),l.K(this.fogMatrix,this.fogMatrix,[1,1,this._pixelPerMeter]),l.J(this.fogMatrix,this.fogMatrix,[0,0,-this.elevation]),this.pixelMatrix3D=l.L(new Float64Array(16),this.labelPlaneMatrix,y);const Se=this.width%2/2,Ee=this.height%2/2,ke=Math.cos(this.angle),Te=Math.sin(this.angle),Fe=h-Math.round(h)+ke*Se+Te*Ee,Xe=p-Math.round(p)+ke*Ee+Te*Se,Ge=new Float64Array(y);if(l.J(Ge,Ge,[Fe>.5?Fe-1:Fe,Xe>.5?Xe-1:Xe,0]),this.alignedModelViewProjectionMatrix=Ge,y=l.as(new Float64Array(16),this.pixelMatrix),!y)throw new Error("failed to invert matrix");this.pixelMatrixInverse=y,this._posMatrixCache={},this._alignedPosMatrixCache={},this._fogMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const i=this.pointCoordinate(new l.P(0,0)),h=[i.x*this.worldSize,i.y*this.worldSize,0,1];return l.af(h,h,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const i=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new l.P(0,i))}getCameraQueryGeometry(i){const h=this.getCameraPoint();if(i.length===1)return[i[0],h];{let p=h.x,y=h.y,b=h.x,T=h.y;for(const k of i)p=Math.min(p,k.x),y=Math.min(y,k.y),b=Math.max(b,k.x),T=Math.max(T,k.y);return[new l.P(p,y),new l.P(b,y),new l.P(b,T),new l.P(p,T),new l.P(p,y)]}}lngLatToCameraDepth(i,h){const p=this.locationCoordinate(i),y=[p.x*this.worldSize,p.y*this.worldSize,h,1];return l.af(y,y,this.modelViewProjectionMatrix),y[2]/y[3]}}function Zo(g,i){let h,p=!1,y=null,b=null;const T=()=>{y=null,p&&(g.apply(b,h),y=setTimeout(T,i),p=!1)};return(...k)=>(p=!0,b=this,h=k,y||T(),y)}class Pa{constructor(i){this._getCurrentHash=()=>{const h=window.location.hash.replace("#","");if(this._hashName){let p;return h.split("&").map(y=>y.split("=")).forEach(y=>{y[0]===this._hashName&&(p=y)}),(p&&p[1]||"").split("/")}return h.split("/")},this._onHashChange=()=>{const h=this._getCurrentHash();if(h.length>=3&&!h.some(p=>isNaN(p))){const p=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(h[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+h[2],+h[1]],zoom:+h[0],bearing:p,pitch:+(h[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const h=window.location.href.replace(/(#.*)?$/,this.getHashString());window.history.replaceState(window.history.state,null,h)},this._removeHash=()=>{const h=this._getCurrentHash();if(h.length===0)return;const p=h.join("/");let y=p;y.split("&").length>0&&(y=y.split("&")[0]),this._hashName&&(y=`${this._hashName}=${p}`);let b=window.location.hash.replace(y,"");b.startsWith("#&")?b=b.slice(0,1)+b.slice(2):b==="#"&&(b="");let T=window.location.href.replace(/(#.+)?$/,b);T=T.replace("&&","&"),window.history.replaceState(window.history.state,null,T)},this._updateHash=Zo(this._updateHashUnthrottled,300),this._hashName=i&&encodeURIComponent(i)}addTo(i){return this._map=i,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(i){const h=this._map.getCenter(),p=Math.round(100*this._map.getZoom())/100,y=Math.ceil((p*Math.LN2+Math.log(512/360/.5))/Math.LN10),b=Math.pow(10,y),T=Math.round(h.lng*b)/b,k=Math.round(h.lat*b)/b,R=this._map.getBearing(),B=this._map.getPitch();let H="";if(H+=i?`/${T}/${k}/${p}`:`${p}/${k}/${T}`,(R||B)&&(H+="/"+Math.round(10*R)/10),B&&(H+=`/${Math.round(B)}`),this._hashName){const q=this._hashName;let te=!1;const se=window.location.hash.slice(1).split("&").map(ee=>{const he=ee.split("=")[0];return he===q?(te=!0,`${he}=${H}`):ee}).filter(ee=>ee);return te||se.push(`${q}=${H}`),`#${se.join("&")}`}return`#${H}`}}const ro={linearity:.3,easing:l.b8(0,0,.3,1)},Ba=l.e({deceleration:2500,maxSpeed:1400},ro),hi=l.e({deceleration:20,maxSpeed:1400},ro),ii=l.e({deceleration:1e3,maxSpeed:360},ro),on=l.e({deceleration:1e3,maxSpeed:90},ro);class sn{constructor(i){this._map=i,this.clear()}clear(){this._inertiaBuffer=[]}record(i){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:w.now(),settings:i})}_drainInertiaBuffer(){const i=this._inertiaBuffer,h=w.now();for(;i.length>0&&h-i[0].time>160;)i.shift()}_onMoveEnd(i){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const h={zoom:0,bearing:0,pitch:0,pan:new l.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:b}of this._inertiaBuffer)h.zoom+=b.zoomDelta||0,h.bearing+=b.bearingDelta||0,h.pitch+=b.pitchDelta||0,b.panDelta&&h.pan._add(b.panDelta),b.around&&(h.around=b.around),b.pinchAround&&(h.pinchAround=b.pinchAround);const p=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,y={};if(h.pan.mag()){const b=no(h.pan.mag(),p,l.e({},Ba,i||{}));y.offset=h.pan.mult(b.amount/h.pan.mag()),y.center=this._map.transform.center,Fo(y,b)}if(h.zoom){const b=no(h.zoom,p,hi);y.zoom=this._map.transform.zoom+b.amount,Fo(y,b)}if(h.bearing){const b=no(h.bearing,p,ii);y.bearing=this._map.transform.bearing+l.ac(b.amount,-179,179),Fo(y,b)}if(h.pitch){const b=no(h.pitch,p,on);y.pitch=this._map.transform.pitch+b.amount,Fo(y,b)}if(y.zoom||y.bearing){const b=h.pinchAround===void 0?h.around:h.pinchAround;y.around=b?this._map.unproject(b):this._map.getCenter()}return this.clear(),l.e(y,{noMoveStart:!0})}}function Fo(g,i){(!g.duration||g.duration<i.duration)&&(g.duration=i.duration,g.easing=i.easing)}function no(g,i,h){const{maxSpeed:p,linearity:y,deceleration:b}=h,T=l.ac(g*y/(i/1e3),-p,p),k=Math.abs(T)/(b*y);return{easing:h.easing,duration:1e3*k,amount:T*(k/2)}}class Ei extends l.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,h,p,y={}){const b=C.mousePos(h.getCanvas(),p),T=h.unproject(b);super(i,l.e({point:b,lngLat:T,originalEvent:p},y)),this._defaultPrevented=!1,this.target=h}}class Gi extends l.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,h,p){const y=i==="touchend"?p.changedTouches:p.touches,b=C.touchPos(h.getCanvasContainer(),y),T=b.map(R=>h.unproject(R)),k=b.reduce((R,B,H,q)=>R.add(B.div(q.length)),new l.P(0,0));super(i,{points:b,point:k,lngLats:T,lngLat:h.unproject(k),originalEvent:p}),this._defaultPrevented=!1}}class ns extends l.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,h,p){super(i,{originalEvent:p}),this._defaultPrevented=!1}}class Es{constructor(i,h){this._map=i,this._clickTolerance=h.clickTolerance}reset(){delete this._mousedownPos}wheel(i){return this._firePreventable(new ns(i.type,this._map,i))}mousedown(i,h){return this._mousedownPos=h,this._firePreventable(new Ei(i.type,this._map,i))}mouseup(i){this._map.fire(new Ei(i.type,this._map,i))}click(i,h){this._mousedownPos&&this._mousedownPos.dist(h)>=this._clickTolerance||this._map.fire(new Ei(i.type,this._map,i))}dblclick(i){return this._firePreventable(new Ei(i.type,this._map,i))}mouseover(i){this._map.fire(new Ei(i.type,this._map,i))}mouseout(i){this._map.fire(new Ei(i.type,this._map,i))}touchstart(i){return this._firePreventable(new Gi(i.type,this._map,i))}touchmove(i){this._map.fire(new Gi(i.type,this._map,i))}touchend(i){this._map.fire(new Gi(i.type,this._map,i))}touchcancel(i){this._map.fire(new Gi(i.type,this._map,i))}_firePreventable(i){if(this._map.fire(i),i.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class oi{constructor(i){this._map=i}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(i){this._map.fire(new Ei(i.type,this._map,i))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ei("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(i){this._delayContextMenu?this._contextMenuEvent=i:this._ignoreContextMenu||this._map.fire(new Ei(i.type,this._map,i)),this._map.listens("contextmenu")&&i.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Yo{constructor(i){this._map=i}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(i){return this.transform.pointLocation(l.P.convert(i),this._map.terrain)}}class io{constructor(i,h){this._map=i,this._tr=new Yo(i),this._el=i.getCanvasContainer(),this._container=i.getContainer(),this._clickTolerance=h.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(i,h){this.isEnabled()&&i.shiftKey&&i.button===0&&(C.disableDrag(),this._startPos=this._lastPos=h,this._active=!0)}mousemoveWindow(i,h){if(!this._active)return;const p=h;if(this._lastPos.equals(p)||!this._box&&p.dist(this._startPos)<this._clickTolerance)return;const y=this._startPos;this._lastPos=p,this._box||(this._box=C.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",i));const b=Math.min(y.x,p.x),T=Math.max(y.x,p.x),k=Math.min(y.y,p.y),R=Math.max(y.y,p.y);C.setTransform(this._box,`translate(${b}px,${k}px)`),this._box.style.width=T-b+"px",this._box.style.height=R-k+"px"}mouseupWindow(i,h){if(!this._active||i.button!==0)return;const p=this._startPos,y=h;if(this.reset(),C.suppressClick(),p.x!==y.x||p.y!==y.y)return this._map.fire(new l.k("boxzoomend",{originalEvent:i})),{cameraAnimation:b=>b.fitScreenCoordinates(p,y,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",i)}keydown(i){this._active&&i.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",i))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(C.remove(this._box),this._box=null),C.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(i,h){return this._map.fire(new l.k(i,{originalEvent:h}))}}function za(g,i){if(g.length!==i.length)throw new Error(`The number of touches and points are not equal - touches ${g.length}, points ${i.length}`);const h={};for(let p=0;p<g.length;p++)h[g[p].identifier]=i[p];return h}class Ru{constructor(i){this.reset(),this.numTouches=i.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(i,h,p){(this.centroid||p.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=i.timeStamp),p.length===this.numTouches&&(this.centroid=function(y){const b=new l.P(0,0);for(const T of y)b._add(T);return b.div(y.length)}(h),this.touches=za(p,h)))}touchmove(i,h,p){if(this.aborted||!this.centroid)return;const y=za(p,h);for(const b in this.touches){const T=y[b];(!T||T.dist(this.touches[b])>30)&&(this.aborted=!0)}}touchend(i,h,p){if((!this.centroid||i.timeStamp-this.startTime>500)&&(this.aborted=!0),p.length===0){const y=!this.aborted&&this.centroid;if(this.reset(),y)return y}}}class Ts{constructor(i){this.singleTap=new Ru(i),this.numTaps=i.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(i,h,p){this.singleTap.touchstart(i,h,p)}touchmove(i,h,p){this.singleTap.touchmove(i,h,p)}touchend(i,h,p){const y=this.singleTap.touchend(i,h,p);if(y){const b=i.timeStamp-this.lastTime<500,T=!this.lastTap||this.lastTap.dist(y)<30;if(b&&T||this.reset(),this.count++,this.lastTime=i.timeStamp,this.lastTap=y,this.count===this.numTaps)return this.reset(),y}}}class Yi{constructor(i){this._tr=new Yo(i),this._zoomIn=new Ts({numTouches:1,numTaps:2}),this._zoomOut=new Ts({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(i,h,p){this._zoomIn.touchstart(i,h,p),this._zoomOut.touchstart(i,h,p)}touchmove(i,h,p){this._zoomIn.touchmove(i,h,p),this._zoomOut.touchmove(i,h,p)}touchend(i,h,p){const y=this._zoomIn.touchend(i,h,p),b=this._zoomOut.touchend(i,h,p),T=this._tr;return y?(this._active=!0,i.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:k=>k.easeTo({duration:300,zoom:T.zoom+1,around:T.unproject(y)},{originalEvent:i})}):b?(this._active=!0,i.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:k=>k.easeTo({duration:300,zoom:T.zoom-1,around:T.unproject(b)},{originalEvent:i})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ti{constructor(i){this._enabled=!!i.enable,this._moveStateManager=i.moveStateManager,this._clickTolerance=i.clickTolerance||1,this._moveFunction=i.move,this._activateOnStart=!!i.activateOnStart,i.assignEvents(this),this.reset()}reset(i){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(i)}_move(...i){const h=this._moveFunction(...i);if(h.bearingDelta||h.pitchDelta||h.around||h.panDelta)return this._active=!0,h}dragStart(i,h){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(i)&&(this._moveStateManager.startMove(i),this._lastPoint=h.length?h[0]:h,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(i,h){if(!this.isEnabled())return;const p=this._lastPoint;if(!p)return;if(i.preventDefault(),!this._moveStateManager.isValidMoveEvent(i))return void this.reset(i);const y=h.length?h[0]:h;return!this._moved&&y.dist(p)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=y,this._move(p,y))}dragEnd(i){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(i)&&(this._moved&&C.suppressClick(),this.reset(i))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const Qs={0:1,2:2};class Sl{constructor(i){this._correctEvent=i.checkCorrectEvent}startMove(i){const h=C.mouseButton(i);this._eventButton=h}endMove(i){delete this._eventButton}isValidStartEvent(i){return this._correctEvent(i)}isValidMoveEvent(i){return!function(h,p){const y=Qs[p];return h.buttons===void 0||(h.buttons&y)!==y}(i,this._eventButton)}isValidEndEvent(i){return C.mouseButton(i)===this._eventButton}}class tu{constructor(){this._firstTouch=void 0}_isOneFingerTouch(i){return i.targetTouches.length===1}_isSameTouchEvent(i){return i.targetTouches[0].identifier===this._firstTouch}startMove(i){this._firstTouch=i.targetTouches[0].identifier}endMove(i){delete this._firstTouch}isValidStartEvent(i){return this._isOneFingerTouch(i)}isValidMoveEvent(i){return this._isOneFingerTouch(i)&&this._isSameTouchEvent(i)}isValidEndEvent(i){return this._isOneFingerTouch(i)&&this._isSameTouchEvent(i)}}const Ps=g=>{g.mousedown=g.dragStart,g.mousemoveWindow=g.dragMove,g.mouseup=g.dragEnd,g.contextmenu=i=>{i.preventDefault()}},Yc=({enable:g,clickTolerance:i,bearingDegreesPerPixelMoved:h=.8})=>{const p=new Sl({checkCorrectEvent:y=>C.mouseButton(y)===0&&y.ctrlKey||C.mouseButton(y)===2});return new Ti({clickTolerance:i,move:(y,b)=>({bearingDelta:(b.x-y.x)*h}),moveStateManager:p,enable:g,assignEvents:Ps})},Gh=({enable:g,clickTolerance:i,pitchDegreesPerPixelMoved:h=-.5})=>{const p=new Sl({checkCorrectEvent:y=>C.mouseButton(y)===0&&y.ctrlKey||C.mouseButton(y)===2});return new Ti({clickTolerance:i,move:(y,b)=>({pitchDelta:(b.y-y.y)*h}),moveStateManager:p,enable:g,assignEvents:Ps})};class Ou{constructor(i,h){this._clickTolerance=i.clickTolerance||1,this._map=h,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new l.P(0,0)}_shouldBePrevented(i){return i<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(i,h,p){return this._calculateTransform(i,h,p)}touchmove(i,h,p){if(this._active){if(!this._shouldBePrevented(p.length))return i.preventDefault(),this._calculateTransform(i,h,p);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",i)}}touchend(i,h,p){this._calculateTransform(i,h,p),this._active&&this._shouldBePrevented(p.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(i,h,p){p.length>0&&(this._active=!0);const y=za(p,h),b=new l.P(0,0),T=new l.P(0,0);let k=0;for(const B in y){const H=y[B],q=this._touches[B];q&&(b._add(H),T._add(H.sub(q)),k++,y[B]=H)}if(this._touches=y,this._shouldBePrevented(k)||!T.mag())return;const R=T.div(k);return this._sum._add(R),this._sum.mag()<this._clickTolerance?void 0:{around:b.div(k),panDelta:R}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Jc{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(i,h,p){this._firstTwoTouches||p.length<2||(this._firstTwoTouches=[p[0].identifier,p[1].identifier],this._start([h[0],h[1]]))}touchmove(i,h,p){if(!this._firstTwoTouches)return;i.preventDefault();const[y,b]=this._firstTwoTouches,T=yc(p,h,y),k=yc(p,h,b);if(!T||!k)return;const R=this._aroundCenter?null:T.add(k).div(2);return this._move([T,k],R,i)}touchend(i,h,p){if(!this._firstTwoTouches)return;const[y,b]=this._firstTwoTouches,T=yc(p,h,y),k=yc(p,h,b);T&&k||(this._active&&C.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(i){this._enabled=!0,this._aroundCenter=!!i&&i.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function yc(g,i,h){for(let p=0;p<g.length;p++)if(g[p].identifier===h)return i[p]}function Qc(g,i){return Math.log(g/i)/Math.LN2}class Wh extends Jc{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(i){this._startDistance=this._distance=i[0].dist(i[1])}_move(i,h){const p=this._distance;if(this._distance=i[0].dist(i[1]),this._active||!(Math.abs(Qc(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Qc(this._distance,p),pinchAround:h}}}function Wf(g,i){return 180*g.angleWith(i)/Math.PI}class Xf extends Jc{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(i){this._startVector=this._vector=i[0].sub(i[1]),this._minDiameter=i[0].dist(i[1])}_move(i,h,p){const y=this._vector;if(this._vector=i[0].sub(i[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Wf(this._vector,y),pinchAround:h}}_isBelowThreshold(i){this._minDiameter=Math.min(this._minDiameter,i.mag());const h=25/(Math.PI*this._minDiameter)*360,p=Wf(i,this._startVector);return Math.abs(p)<h}}function Xh(g){return Math.abs(g.y)>Math.abs(g.x)}class eh extends Jc{constructor(i){super(),this._currentTouchCount=0,this._map=i}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(i,h,p){super.touchstart(i,h,p),this._currentTouchCount=p.length}_start(i){this._lastPoints=i,Xh(i[0].sub(i[1]))&&(this._valid=!1)}_move(i,h,p){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const y=i[0].sub(this._lastPoints[0]),b=i[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(y,b,p.timeStamp),this._valid?(this._lastPoints=i,this._active=!0,{pitchDelta:(y.y+b.y)/2*-.5}):void 0}gestureBeginsVertically(i,h,p){if(this._valid!==void 0)return this._valid;const y=i.mag()>=2,b=h.mag()>=2;if(!y&&!b)return;if(!y||!b)return this._firstMove===void 0&&(this._firstMove=p),p-this._firstMove<100&&void 0;const T=i.y>0==h.y>0;return Xh(i)&&Xh(h)&&T}}const fm={panStep:100,bearingStep:15,pitchStep:10};class ks{constructor(i){this._tr=new Yo(i);const h=fm;this._panStep=h.panStep,this._bearingStep=h.bearingStep,this._pitchStep=h.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(i){if(i.altKey||i.ctrlKey||i.metaKey)return;let h=0,p=0,y=0,b=0,T=0;switch(i.keyCode){case 61:case 107:case 171:case 187:h=1;break;case 189:case 109:case 173:h=-1;break;case 37:i.shiftKey?p=-1:(i.preventDefault(),b=-1);break;case 39:i.shiftKey?p=1:(i.preventDefault(),b=1);break;case 38:i.shiftKey?y=1:(i.preventDefault(),T=-1);break;case 40:i.shiftKey?y=-1:(i.preventDefault(),T=1);break;default:return}return this._rotationDisabled&&(p=0,y=0),{cameraAnimation:k=>{const R=this._tr;k.easeTo({duration:300,easeId:"keyboardHandler",easing:Cl,zoom:h?Math.round(R.zoom)+h*(i.shiftKey?2:1):R.zoom,bearing:R.bearing+p*this._bearingStep,pitch:R.pitch+y*this._pitchStep,offset:[-b*this._panStep,-T*this._panStep],center:R.center},{originalEvent:i})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Cl(g){return g*(2-g)}const Kf=4.000244140625;class is{constructor(i,h){this._onTimeout=p=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(p)},this._map=i,this._tr=new Yo(i),this._triggerRenderFrame=h,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(i){this._defaultZoomRate=i}setWheelZoomRate(i){this._wheelZoomRate=i}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(i){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!i&&i.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(i){return!!this._map.cooperativeGestures.isEnabled()&&!(i.ctrlKey||this._map.cooperativeGestures.isBypassed(i))}wheel(i){if(!this.isEnabled())return;if(this._shouldBePrevented(i))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",i);let h=i.deltaMode===WheelEvent.DOM_DELTA_LINE?40*i.deltaY:i.deltaY;const p=w.now(),y=p-(this._lastWheelEventTime||0);this._lastWheelEventTime=p,h!==0&&h%Kf==0?this._type="wheel":h!==0&&Math.abs(h)<4?this._type="trackpad":y>400?(this._type=null,this._lastValue=h,this._timeout=setTimeout(this._onTimeout,40,i)):this._type||(this._type=Math.abs(y*h)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,h+=this._lastValue)),i.shiftKey&&h&&(h/=4),this._type&&(this._lastWheelEvent=i,this._delta-=h,this._active||this._start(i)),i.preventDefault()}_start(i){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const h=C.mousePos(this._map.getCanvas(),i),p=this._tr;this._around=h.y>p.transform.height/2-p.transform.getHorizon()?l.N.convert(this._aroundCenter?p.center:p.unproject(h)):l.N.convert(p.center),this._aroundPoint=p.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const i=this._tr.transform;if(this._delta!==0){const R=this._type==="wheel"&&Math.abs(this._delta)>Kf?this._wheelZoomRate:this._defaultZoomRate;let B=2/(1+Math.exp(-Math.abs(this._delta*R)));this._delta<0&&B!==0&&(B=1/B);const H=typeof this._targetZoom=="number"?i.zoomScale(this._targetZoom):i.scale;this._targetZoom=Math.min(i.maxZoom,Math.max(i.minZoom,i.scaleZoom(H*B))),this._type==="wheel"&&(this._startZoom=i.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const h=typeof this._targetZoom=="number"?this._targetZoom:i.zoom,p=this._startZoom,y=this._easing;let b,T=!1;const k=w.now()-this._lastWheelEventTime;if(this._type==="wheel"&&p&&y&&k){const R=Math.min(k/200,1),B=y(R);b=l.y.number(p,h,B),R<1?this._frameId||(this._frameId=!0):T=!0}else b=h,T=!0;return this._active=!0,T&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!T,zoomDelta:b-i.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(i){let h=l.b9;if(this._prevEase){const p=this._prevEase,y=(w.now()-p.start)/p.duration,b=p.easing(y+.01)-p.easing(y),T=.27/Math.sqrt(b*b+1e-4)*.01,k=Math.sqrt(.0729-T*T);h=l.b8(T,k,.25,1)}return this._prevEase={start:w.now(),duration:i,easing:h},h}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class ru{constructor(i,h){this._clickZoom=i,this._tapZoom=h}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Kh{constructor(i){this._tr=new Yo(i),this.reset()}reset(){this._active=!1}dblclick(i,h){return i.preventDefault(),{cameraAnimation:p=>{p.easeTo({duration:300,zoom:this._tr.zoom+(i.shiftKey?-1:1),around:this._tr.unproject(h)},{originalEvent:i})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class sy{constructor(){this._tap=new Ts({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(i,h,p){if(!this._swipePoint)if(this._tapTime){const y=h[0],b=i.timeStamp-this._tapTime<500,T=this._tapPoint.dist(y)<30;b&&T?p.length>0&&(this._swipePoint=y,this._swipeTouch=p[0].identifier):this.reset()}else this._tap.touchstart(i,h,p)}touchmove(i,h,p){if(this._tapTime){if(this._swipePoint){if(p[0].identifier!==this._swipeTouch)return;const y=h[0],b=y.y-this._swipePoint.y;return this._swipePoint=y,i.preventDefault(),this._active=!0,{zoomDelta:b/128}}}else this._tap.touchmove(i,h,p)}touchend(i,h,p){if(this._tapTime)this._swipePoint&&p.length===0&&this.reset();else{const y=this._tap.touchend(i,h,p);y&&(this._tapTime=i.timeStamp,this._tapPoint=y)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class pm{constructor(i,h,p){this._el=i,this._mousePan=h,this._touchPan=p}enable(i){this._inertiaOptions=i||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Zf{constructor(i,h,p){this._pitchWithRotate=i.pitchWithRotate,this._mouseRotate=h,this._mousePitch=p}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Yf{constructor(i,h,p,y){this._el=i,this._touchZoom=h,this._touchRotate=p,this._tapDragZoom=y,this._rotationDisabled=!1,this._enabled=!0}enable(i){this._touchZoom.enable(i),this._rotationDisabled||this._touchRotate.enable(i),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class th{constructor(i,h){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=i,this._options=h,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;const i=this._map.getCanvasContainer();i.classList.add("maplibregl-cooperative-gestures"),this._container=C.create("div","maplibregl-cooperative-gesture-screen",i);let h=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(h=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));const p=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),y=document.createElement("div");y.className="maplibregl-desktop-message",y.textContent=h,this._container.appendChild(y);const b=document.createElement("div");b.className="maplibregl-mobile-message",b.textContent=p,this._container.appendChild(b),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(C.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(i){return i[this._bypassKey]}notifyGestureBlocked(i,h){this._enabled&&(this._map.fire(new l.k("cooperativegestureprevented",{gestureType:i,originalEvent:h})),this._container.classList.add("maplibregl-show"),setTimeout(()=>{this._container.classList.remove("maplibregl-show")},100))}}const Is=g=>g.zoom||g.drag||g.pitch||g.rotate;class yr extends l.k{}function el(g){return g.panDelta&&g.panDelta.mag()||g.zoomDelta||g.bearingDelta||g.pitchDelta}class os{constructor(i,h){this.handleWindowEvent=y=>{this.handleEvent(y,`${y.type}Window`)},this.handleEvent=(y,b)=>{if(y.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const T=y.type==="renderFrame"?void 0:y,k={needsRenderFrame:!1},R={},B={},H=y.touches,q=H?this._getMapTouches(H):void 0,te=q?C.touchPos(this._map.getCanvas(),q):C.mousePos(this._map.getCanvas(),y);for(const{handlerName:he,handler:Se,allowed:Ee}of this._handlers){if(!Se.isEnabled())continue;let ke;this._blockedByActive(B,Ee,he)?Se.reset():Se[b||y.type]&&(ke=Se[b||y.type](y,te,q),this.mergeHandlerResult(k,R,ke,he,T),ke&&ke.needsRenderFrame&&this._triggerRenderFrame()),(ke||Se.isActive())&&(B[he]=Se)}const se={};for(const he in this._previousActiveHandlers)B[he]||(se[he]=T);this._previousActiveHandlers=B,(Object.keys(se).length||el(k))&&(this._changes.push([k,R,se]),this._triggerRenderFrame()),(Object.keys(B).length||el(k))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:ee}=k;ee&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],ee(this._map))},this._map=i,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new sn(i),this._bearingSnap=h.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(h);const p=this._el;this._listeners=[[p,"touchstart",{passive:!0}],[p,"touchmove",{passive:!1}],[p,"touchend",void 0],[p,"touchcancel",void 0],[p,"mousedown",void 0],[p,"mousemove",void 0],[p,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[p,"mouseover",void 0],[p,"mouseout",void 0],[p,"dblclick",void 0],[p,"click",void 0],[p,"keydown",{capture:!1}],[p,"keyup",void 0],[p,"wheel",{passive:!1}],[p,"contextmenu",void 0],[window,"blur",void 0]];for(const[y,b,T]of this._listeners)C.addEventListener(y,b,y===document?this.handleWindowEvent:this.handleEvent,T)}destroy(){for(const[i,h,p]of this._listeners)C.removeEventListener(i,h,i===document?this.handleWindowEvent:this.handleEvent,p)}_addDefaultHandlers(i){const h=this._map,p=h.getCanvasContainer();this._add("mapEvent",new Es(h,i));const y=h.boxZoom=new io(h,i);this._add("boxZoom",y),i.interactive&&i.boxZoom&&y.enable();const b=h.cooperativeGestures=new th(h,i.cooperativeGestures);this._add("cooperativeGestures",b),i.cooperativeGestures&&b.enable();const T=new Yi(h),k=new Kh(h);h.doubleClickZoom=new ru(k,T),this._add("tapZoom",T),this._add("clickZoom",k),i.interactive&&i.doubleClickZoom&&h.doubleClickZoom.enable();const R=new sy;this._add("tapDragZoom",R);const B=h.touchPitch=new eh(h);this._add("touchPitch",B),i.interactive&&i.touchPitch&&h.touchPitch.enable(i.touchPitch);const H=Yc(i),q=Gh(i);h.dragRotate=new Zf(i,H,q),this._add("mouseRotate",H,["mousePitch"]),this._add("mousePitch",q,["mouseRotate"]),i.interactive&&i.dragRotate&&h.dragRotate.enable();const te=(({enable:ke,clickTolerance:Te})=>{const Fe=new Sl({checkCorrectEvent:Xe=>C.mouseButton(Xe)===0&&!Xe.ctrlKey});return new Ti({clickTolerance:Te,move:(Xe,Ge)=>({around:Ge,panDelta:Ge.sub(Xe)}),activateOnStart:!0,moveStateManager:Fe,enable:ke,assignEvents:Ps})})(i),se=new Ou(i,h);h.dragPan=new pm(p,te,se),this._add("mousePan",te),this._add("touchPan",se,["touchZoom","touchRotate"]),i.interactive&&i.dragPan&&h.dragPan.enable(i.dragPan);const ee=new Xf,he=new Wh;h.touchZoomRotate=new Yf(p,he,ee,R),this._add("touchRotate",ee,["touchPan","touchZoom"]),this._add("touchZoom",he,["touchPan","touchRotate"]),i.interactive&&i.touchZoomRotate&&h.touchZoomRotate.enable(i.touchZoomRotate);const Se=h.scrollZoom=new is(h,()=>this._triggerRenderFrame());this._add("scrollZoom",Se,["mousePan"]),i.interactive&&i.scrollZoom&&h.scrollZoom.enable(i.scrollZoom);const Ee=h.keyboard=new ks(h);this._add("keyboard",Ee),i.interactive&&i.keyboard&&h.keyboard.enable(),this._add("blockableMapEvent",new oi(h))}_add(i,h,p){this._handlers.push({handlerName:i,handler:h,allowed:p}),this._handlersById[i]=h}stop(i){if(!this._updatingCamera){for(const{handler:h}of this._handlers)h.reset();this._inertia.clear(),this._fireEvents({},{},i),this._changes=[]}}isActive(){for(const{handler:i}of this._handlers)if(i.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Is(this._eventsInProgress)||this.isZooming()}_blockedByActive(i,h,p){for(const y in i)if(y!==p&&(!h||h.indexOf(y)<0))return!0;return!1}_getMapTouches(i){const h=[];for(const p of i)this._el.contains(p.target)&&h.push(p);return h}mergeHandlerResult(i,h,p,y,b){if(!p)return;l.e(i,p);const T={handlerName:y,originalEvent:p.originalEvent||b};p.zoomDelta!==void 0&&(h.zoom=T),p.panDelta!==void 0&&(h.drag=T),p.pitchDelta!==void 0&&(h.pitch=T),p.bearingDelta!==void 0&&(h.rotate=T)}_applyChanges(){const i={},h={},p={};for(const[y,b,T]of this._changes)y.panDelta&&(i.panDelta=(i.panDelta||new l.P(0,0))._add(y.panDelta)),y.zoomDelta&&(i.zoomDelta=(i.zoomDelta||0)+y.zoomDelta),y.bearingDelta&&(i.bearingDelta=(i.bearingDelta||0)+y.bearingDelta),y.pitchDelta&&(i.pitchDelta=(i.pitchDelta||0)+y.pitchDelta),y.around!==void 0&&(i.around=y.around),y.pinchAround!==void 0&&(i.pinchAround=y.pinchAround),y.noInertia&&(i.noInertia=y.noInertia),l.e(h,b),l.e(p,T);this._updateMapTransform(i,h,p),this._changes=[]}_updateMapTransform(i,h,p){const y=this._map,b=y._getTransformForUpdate(),T=y.terrain;if(!(el(i)||T&&this._terrainMovement))return this._fireEvents(h,p,!0);let{panDelta:k,zoomDelta:R,bearingDelta:B,pitchDelta:H,around:q,pinchAround:te}=i;te!==void 0&&(q=te),y._stop(!0),q=q||y.transform.centerPoint;const se=b.pointLocation(k?q.sub(k):q);B&&(b.bearing+=B),H&&(b.pitch+=H),R&&(b.zoom+=R),T?this._terrainMovement||!h.drag&&!h.zoom?h.drag&&this._terrainMovement?b.center=b.pointLocation(b.centerPoint.sub(k)):b.setLocationAtPoint(se,q):(this._terrainMovement=!0,this._map._elevationFreeze=!0,b.setLocationAtPoint(se,q)):b.setLocationAtPoint(se,q),y._applyUpdatedTransform(b),this._map._update(),i.noInertia||this._inertia.record(i),this._fireEvents(h,p,!0)}_fireEvents(i,h,p){const y=Is(this._eventsInProgress),b=Is(i),T={};for(const q in i){const{originalEvent:te}=i[q];this._eventsInProgress[q]||(T[`${q}start`]=te),this._eventsInProgress[q]=i[q]}!y&&b&&this._fireEvent("movestart",b.originalEvent);for(const q in T)this._fireEvent(q,T[q]);b&&this._fireEvent("move",b.originalEvent);for(const q in i){const{originalEvent:te}=i[q];this._fireEvent(q,te)}const k={};let R;for(const q in this._eventsInProgress){const{handlerName:te,originalEvent:se}=this._eventsInProgress[q];this._handlersById[te].isActive()||(delete this._eventsInProgress[q],R=h[te]||se,k[`${q}end`]=R)}for(const q in k)this._fireEvent(q,k[q]);const B=Is(this._eventsInProgress),H=(y||b)&&!B;if(H&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;const q=this._map._getTransformForUpdate();q.recalculateZoom(this._map.terrain),this._map._applyUpdatedTransform(q)}if(p&&H){this._updatingCamera=!0;const q=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),te=se=>se!==0&&-this._bearingSnap<se&&se<this._bearingSnap;!q||!q.essential&&w.prefersReducedMotion?(this._map.fire(new l.k("moveend",{originalEvent:R})),te(this._map.getBearing())&&this._map.resetNorth()):(te(q.bearing||this._map.getBearing())&&(q.bearing=0),q.freezeElevation=!0,this._map.easeTo(q,{originalEvent:R})),this._updatingCamera=!1}}_fireEvent(i,h){this._map.fire(new l.k(i,h?{originalEvent:h}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(i=>{delete this._frameId,this.handleEvent(new yr("renderFrame",{timeStamp:i})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class Al extends l.E{constructor(i,h){super(),this._renderFrameCallback=()=>{const p=Math.min((w.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(p)),p<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=i,this._bearingSnap=h.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new l.N(this.transform.center.lng,this.transform.center.lat)}setCenter(i,h){return this.jumpTo({center:i},h)}panBy(i,h,p){return i=l.P.convert(i).mult(-1),this.panTo(this.transform.center,l.e({offset:i},h),p)}panTo(i,h,p){return this.easeTo(l.e({center:i},h),p)}getZoom(){return this.transform.zoom}setZoom(i,h){return this.jumpTo({zoom:i},h),this}zoomTo(i,h,p){return this.easeTo(l.e({zoom:i},h),p)}zoomIn(i,h){return this.zoomTo(this.getZoom()+1,i,h),this}zoomOut(i,h){return this.zoomTo(this.getZoom()-1,i,h),this}getBearing(){return this.transform.bearing}setBearing(i,h){return this.jumpTo({bearing:i},h),this}getPadding(){return this.transform.padding}setPadding(i,h){return this.jumpTo({padding:i},h),this}rotateTo(i,h,p){return this.easeTo(l.e({bearing:i},h),p)}resetNorth(i,h){return this.rotateTo(0,l.e({duration:1e3},i),h),this}resetNorthPitch(i,h){return this.easeTo(l.e({bearing:0,pitch:0,duration:1e3},i),h),this}snapToNorth(i,h){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(i,h):this}getPitch(){return this.transform.pitch}setPitch(i,h){return this.jumpTo({pitch:i},h),this}cameraForBounds(i,h){i=de.convert(i).adjustAntiMeridian();const p=h&&h.bearing||0;return this._cameraForBoxAndBearing(i.getNorthWest(),i.getSouthEast(),p,h)}_cameraForBoxAndBearing(i,h,p,y){const b={top:0,bottom:0,right:0,left:0};if(typeof(y=l.e({padding:b,offset:[0,0],maxZoom:this.transform.maxZoom},y)).padding=="number"){const zt=y.padding;y.padding={top:zt,bottom:zt,right:zt,left:zt}}y.padding=l.e(b,y.padding);const T=this.transform,k=T.padding,R=new de(i,h),B=T.project(R.getNorthWest()),H=T.project(R.getNorthEast()),q=T.project(R.getSouthEast()),te=T.project(R.getSouthWest()),se=l.ba(-p),ee=B.rotate(se),he=H.rotate(se),Se=q.rotate(se),Ee=te.rotate(se),ke=new l.P(Math.max(ee.x,he.x,Ee.x,Se.x),Math.max(ee.y,he.y,Ee.y,Se.y)),Te=new l.P(Math.min(ee.x,he.x,Ee.x,Se.x),Math.min(ee.y,he.y,Ee.y,Se.y)),Fe=ke.sub(Te),Xe=(T.width-(k.left+k.right+y.padding.left+y.padding.right))/Fe.x,Ge=(T.height-(k.top+k.bottom+y.padding.top+y.padding.bottom))/Fe.y;if(Ge<0||Xe<0)return void l.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const wt=Math.min(T.scaleZoom(T.scale*Math.min(Xe,Ge)),y.maxZoom),Mt=l.P.convert(y.offset),$t=new l.P((y.padding.left-y.padding.right)/2,(y.padding.top-y.padding.bottom)/2).rotate(l.ba(p)),qt=Mt.add($t).mult(T.scale/T.zoomScale(wt));return{center:T.unproject(B.add(q).div(2).sub(qt)),zoom:wt,bearing:p}}fitBounds(i,h,p){return this._fitInternal(this.cameraForBounds(i,h),h,p)}fitScreenCoordinates(i,h,p,y,b){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(l.P.convert(i)),this.transform.pointLocation(l.P.convert(h)),p,y),y,b)}_fitInternal(i,h,p){return i?(delete(h=l.e(i,h)).padding,h.linear?this.easeTo(h,p):this.flyTo(h,p)):this}jumpTo(i,h){this.stop();const p=this._getTransformForUpdate();let y=!1,b=!1,T=!1;return"zoom"in i&&p.zoom!==+i.zoom&&(y=!0,p.zoom=+i.zoom),i.center!==void 0&&(p.center=l.N.convert(i.center)),"bearing"in i&&p.bearing!==+i.bearing&&(b=!0,p.bearing=+i.bearing),"pitch"in i&&p.pitch!==+i.pitch&&(T=!0,p.pitch=+i.pitch),i.padding==null||p.isPaddingEqual(i.padding)||(p.padding=i.padding),this._applyUpdatedTransform(p),this.fire(new l.k("movestart",h)).fire(new l.k("move",h)),y&&this.fire(new l.k("zoomstart",h)).fire(new l.k("zoom",h)).fire(new l.k("zoomend",h)),b&&this.fire(new l.k("rotatestart",h)).fire(new l.k("rotate",h)).fire(new l.k("rotateend",h)),T&&this.fire(new l.k("pitchstart",h)).fire(new l.k("pitch",h)).fire(new l.k("pitchend",h)),this.fire(new l.k("moveend",h))}calculateCameraOptionsFromTo(i,h,p,y=0){const b=l.Z.fromLngLat(i,h),T=l.Z.fromLngLat(p,y),k=T.x-b.x,R=T.y-b.y,B=T.z-b.z,H=Math.hypot(k,R,B);if(H===0)throw new Error("Can't calculate camera options with same From and To");const q=Math.hypot(k,R),te=this.transform.scaleZoom(this.transform.cameraToCenterDistance/H/this.transform.tileSize),se=180*Math.atan2(k,-R)/Math.PI;let ee=180*Math.acos(q/H)/Math.PI;return ee=B<0?90-ee:90+ee,{center:T.toLngLat(),zoom:te,pitch:ee,bearing:se}}easeTo(i,h){var p;this._stop(!1,i.easeId),((i=l.e({offset:[0,0],duration:500,easing:l.b9},i)).animate===!1||!i.essential&&w.prefersReducedMotion)&&(i.duration=0);const y=this._getTransformForUpdate(),b=y.zoom,T=y.bearing,k=y.pitch,R=y.padding,B="bearing"in i?this._normalizeBearing(i.bearing,T):T,H="pitch"in i?+i.pitch:k,q="padding"in i?i.padding:y.padding,te=l.P.convert(i.offset);let se=y.centerPoint.add(te);const ee=y.pointLocation(se),{center:he,zoom:Se}=y.getConstrained(l.N.convert(i.center||ee),(p=i.zoom)!==null&&p!==void 0?p:b);this._normalizeCenter(he,y);const Ee=y.project(ee),ke=y.project(he).sub(Ee),Te=y.zoomScale(Se-b);let Fe,Xe;i.around&&(Fe=l.N.convert(i.around),Xe=y.locationPoint(Fe));const Ge={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||Se!==b,this._rotating=this._rotating||T!==B,this._pitching=this._pitching||H!==k,this._padding=!y.isPaddingEqual(q),this._easeId=i.easeId,this._prepareEase(h,i.noMoveStart,Ge),this.terrain&&this._prepareElevation(he),this._ease(wt=>{if(this._zooming&&(y.zoom=l.y.number(b,Se,wt)),this._rotating&&(y.bearing=l.y.number(T,B,wt)),this._pitching&&(y.pitch=l.y.number(k,H,wt)),this._padding&&(y.interpolatePadding(R,q,wt),se=y.centerPoint.add(te)),this.terrain&&!i.freezeElevation&&this._updateElevation(wt),Fe)y.setLocationAtPoint(Fe,Xe);else{const Mt=y.zoomScale(y.zoom-b),$t=Se>b?Math.min(2,Te):Math.max(.5,Te),qt=Math.pow($t,1-wt),zt=y.unproject(Ee.add(ke.mult(wt*qt)).mult(Mt));y.setLocationAtPoint(y.renderWorldCopies?zt.wrap():zt,se)}this._applyUpdatedTransform(y),this._fireMoveEvents(h)},wt=>{this.terrain&&i.freezeElevation&&this._finalizeElevation(),this._afterEase(h,wt)},i),this}_prepareEase(i,h,p={}){this._moving=!0,h||p.moving||this.fire(new l.k("movestart",i)),this._zooming&&!p.zooming&&this.fire(new l.k("zoomstart",i)),this._rotating&&!p.rotating&&this.fire(new l.k("rotatestart",i)),this._pitching&&!p.pitching&&this.fire(new l.k("pitchstart",i))}_prepareElevation(i){this._elevationCenter=i,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(i,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(i){this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);const h=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(i<1&&h!==this._elevationTarget){const p=this._elevationTarget-this._elevationStart;this._elevationStart+=i*(p-(h-(p*i+this._elevationStart))/(1-i)),this._elevationTarget=h}this.transform.elevation=l.y.number(this._elevationStart,this._elevationTarget,i)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(i){const h=i.getCameraPosition(),p=this.terrain.getElevationForLngLatZoom(h.lngLat,i.zoom);if(h.altitude<p){const y=this.calculateCameraOptionsFromTo(h.lngLat,p,i.center,i.elevation);return{pitch:y.pitch,zoom:y.zoom}}return{}}_applyUpdatedTransform(i){const h=[];if(this.terrain&&h.push(y=>this._elevateCameraIfInsideTerrain(y)),this.transformCameraUpdate&&h.push(y=>this.transformCameraUpdate(y)),!h.length)return;const p=i.clone();for(const y of h){const b=p.clone(),{center:T,zoom:k,pitch:R,bearing:B,elevation:H}=y(b);T&&(b.center=T),k!==void 0&&(b.zoom=k),R!==void 0&&(b.pitch=R),B!==void 0&&(b.bearing=B),H!==void 0&&(b.elevation=H),p.apply(b)}this.transform.apply(p)}_fireMoveEvents(i){this.fire(new l.k("move",i)),this._zooming&&this.fire(new l.k("zoom",i)),this._rotating&&this.fire(new l.k("rotate",i)),this._pitching&&this.fire(new l.k("pitch",i))}_afterEase(i,h){if(this._easeId&&h&&this._easeId===h)return;delete this._easeId;const p=this._zooming,y=this._rotating,b=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,p&&this.fire(new l.k("zoomend",i)),y&&this.fire(new l.k("rotateend",i)),b&&this.fire(new l.k("pitchend",i)),this.fire(new l.k("moveend",i))}flyTo(i,h){var p;if(!i.essential&&w.prefersReducedMotion){const Jt=l.M(i,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Jt,h)}this.stop(),i=l.e({offset:[0,0],speed:1.2,curve:1.42,easing:l.b9},i);const y=this._getTransformForUpdate(),b=y.zoom,T=y.bearing,k=y.pitch,R=y.padding,B="bearing"in i?this._normalizeBearing(i.bearing,T):T,H="pitch"in i?+i.pitch:k,q="padding"in i?i.padding:y.padding,te=l.P.convert(i.offset);let se=y.centerPoint.add(te);const ee=y.pointLocation(se),{center:he,zoom:Se}=y.getConstrained(l.N.convert(i.center||ee),(p=i.zoom)!==null&&p!==void 0?p:b);this._normalizeCenter(he,y);const Ee=y.zoomScale(Se-b),ke=y.project(ee),Te=y.project(he).sub(ke);let Fe=i.curve;const Xe=Math.max(y.width,y.height),Ge=Xe/Ee,wt=Te.mag();if("minZoom"in i){const Jt=l.ac(Math.min(i.minZoom,b,Se),y.minZoom,y.maxZoom),Mr=Xe/y.zoomScale(Jt-b);Fe=Math.sqrt(Mr/wt*2)}const Mt=Fe*Fe;function $t(Jt){const Mr=(Ge*Ge-Xe*Xe+(Jt?-1:1)*Mt*Mt*wt*wt)/(2*(Jt?Ge:Xe)*Mt*wt);return Math.log(Math.sqrt(Mr*Mr+1)-Mr)}function qt(Jt){return(Math.exp(Jt)-Math.exp(-Jt))/2}function zt(Jt){return(Math.exp(Jt)+Math.exp(-Jt))/2}const Bt=$t(!1);let Ht=function(Jt){return zt(Bt)/zt(Bt+Fe*Jt)},Ar=function(Jt){return Xe*((zt(Bt)*(qt(Mr=Bt+Fe*Jt)/zt(Mr))-qt(Bt))/Mt)/wt;var Mr},Yt=($t(!0)-Bt)/Fe;if(Math.abs(wt)<1e-6||!isFinite(Yt)){if(Math.abs(Xe-Ge)<1e-6)return this.easeTo(i,h);const Jt=Ge<Xe?-1:1;Yt=Math.abs(Math.log(Ge/Xe))/Fe,Ar=()=>0,Ht=Mr=>Math.exp(Jt*Fe*Mr)}return i.duration="duration"in i?+i.duration:1e3*Yt/("screenSpeed"in i?+i.screenSpeed/Fe:+i.speed),i.maxDuration&&i.duration>i.maxDuration&&(i.duration=0),this._zooming=!0,this._rotating=T!==B,this._pitching=H!==k,this._padding=!y.isPaddingEqual(q),this._prepareEase(h,!1),this.terrain&&this._prepareElevation(he),this._ease(Jt=>{const Mr=Jt*Yt,Jr=1/Ht(Mr);y.zoom=Jt===1?Se:b+y.scaleZoom(Jr),this._rotating&&(y.bearing=l.y.number(T,B,Jt)),this._pitching&&(y.pitch=l.y.number(k,H,Jt)),this._padding&&(y.interpolatePadding(R,q,Jt),se=y.centerPoint.add(te)),this.terrain&&!i.freezeElevation&&this._updateElevation(Jt);const Wr=Jt===1?he:y.unproject(ke.add(Te.mult(Ar(Mr))).mult(Jr));y.setLocationAtPoint(y.renderWorldCopies?Wr.wrap():Wr,se),this._applyUpdatedTransform(y),this._fireMoveEvents(h)},()=>{this.terrain&&i.freezeElevation&&this._finalizeElevation(),this._afterEase(h)},i),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(i,h){var p;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const y=this._onEaseEnd;delete this._onEaseEnd,y.call(this,h)}return i||(p=this.handlers)===null||p===void 0||p.stop(!1),this}_ease(i,h,p){p.animate===!1||p.duration===0?(i(1),h()):(this._easeStart=w.now(),this._easeOptions=p,this._onEaseFrame=i,this._onEaseEnd=h,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(i,h){i=l.b3(i,-180,180);const p=Math.abs(i-h);return Math.abs(i-360-h)<p&&(i-=360),Math.abs(i+360-h)<p&&(i+=360),i}_normalizeCenter(i,h){if(!h.renderWorldCopies||h.lngRange)return;const p=i.lng-h.center.lng;i.lng+=p>180?-360:p<-180?360:0}queryTerrainElevation(i){return this.terrain?this.terrain.getElevationForLngLatZoom(l.N.convert(i),this.transform.tileZoom)-this.transform.elevation:null}}const rh={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class vc{constructor(i=rh){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=h=>{!h||h.sourceDataType!=="metadata"&&h.sourceDataType!=="visibility"&&h.dataType!=="style"&&h.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=i}getDefaultPosition(){return"bottom-right"}onAdd(i){return this._map=i,this._compact=this.options.compact,this._container=C.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=C.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=C.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){C.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(i,h){const p=this._map._getUIString(`AttributionControl.${h}`);i.title=p,i.setAttribute("aria-label",p)}_updateAttributions(){if(!this._map.style)return;let i=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?i=i.concat(this.options.customAttribution.map(y=>typeof y!="string"?"":y)):typeof this.options.customAttribution=="string"&&i.push(this.options.customAttribution)),this._map.style.stylesheet){const y=this._map.style.stylesheet;this.styleOwner=y.owner,this.styleId=y.id}const h=this._map.style.sourceCaches;for(const y in h){const b=h[y];if(b.used||b.usedForTerrain){const T=b.getSource();T.attribution&&i.indexOf(T.attribution)<0&&i.push(T.attribution)}}i=i.filter(y=>String(y).trim()),i.sort((y,b)=>y.length-b.length),i=i.filter((y,b)=>{for(let T=b+1;T<i.length;T++)if(i[T].indexOf(y)>=0)return!1;return!0});const p=i.join(" | ");p!==this._attribHTML&&(this._attribHTML=p,i.length?(this._innerContainer.innerHTML=p,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class El{constructor(i={}){this._updateCompact=()=>{const h=this._container.children;if(h.length){const p=h[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&p.classList.add("maplibregl-compact"):p.classList.remove("maplibregl-compact")}},this.options=i}getDefaultPosition(){return"bottom-left"}onAdd(i){this._map=i,this._compact=this.options&&this.options.compact,this._container=C.create("div","maplibregl-ctrl");const h=C.create("a","maplibregl-ctrl-logo");return h.target="_blank",h.rel="noopener nofollow",h.href="https://maplibre.org/",h.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),h.setAttribute("rel","noopener nofollow"),this._container.appendChild(h),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){C.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class mn{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(i){const h=++this._id;return this._queue.push({callback:i,id:h,cancelled:!1}),h}remove(i){const h=this._currentlyRunning,p=h?this._queue.concat(h):this._queue;for(const y of p)if(y.id===i)return void(y.cancelled=!0)}run(i=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const h=this._currentlyRunning=this._queue;this._queue=[];for(const p of h)if(!p.cancelled&&(p.callback(i),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var Jf=l.Y([{name:"a_pos3d",type:"Int16",components:3}]);class ly extends l.E{constructor(i){super(),this.sourceCache=i,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,i.usedForTerrain=!0,i.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(i,h){this.sourceCache.update(i,h),this._renderableTilesKeys=[];const p={};for(const y of i.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:h}))p[y.key]=!0,this._renderableTilesKeys.push(y.key),this._tiles[y.key]||(y.posMatrix=new Float64Array(16),l.aP(y.posMatrix,0,l.X,0,l.X,0,1),this._tiles[y.key]=new Br(y,this.tileSize));for(const y in this._tiles)p[y]||delete this._tiles[y]}freeRtt(i){for(const h in this._tiles){const p=this._tiles[h];(!i||p.tileID.equals(i)||p.tileID.isChildOf(i)||i.isChildOf(p.tileID))&&(p.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(i=>this.getTileByID(i))}getTileByID(i){return this._tiles[i]}getTerrainCoords(i){const h={};for(const p of this._renderableTilesKeys){const y=this._tiles[p].tileID;if(y.canonical.equals(i.canonical)){const b=i.clone();b.posMatrix=new Float64Array(16),l.aP(b.posMatrix,0,l.X,0,l.X,0,1),h[p]=b}else if(y.canonical.isChildOf(i.canonical)){const b=i.clone();b.posMatrix=new Float64Array(16);const T=y.canonical.z-i.canonical.z,k=y.canonical.x-(y.canonical.x>>T<<T),R=y.canonical.y-(y.canonical.y>>T<<T),B=l.X>>T;l.aP(b.posMatrix,0,B,0,B,0,1),l.J(b.posMatrix,b.posMatrix,[-k*B,-R*B,0]),h[p]=b}else if(i.canonical.isChildOf(y.canonical)){const b=i.clone();b.posMatrix=new Float64Array(16);const T=i.canonical.z-y.canonical.z,k=i.canonical.x-(i.canonical.x>>T<<T),R=i.canonical.y-(i.canonical.y>>T<<T),B=l.X>>T;l.aP(b.posMatrix,0,l.X,0,l.X,0,1),l.J(b.posMatrix,b.posMatrix,[k*B,R*B,0]),l.K(b.posMatrix,b.posMatrix,[1/2**T,1/2**T,0]),h[p]=b}}return h}getSourceTile(i,h){const p=this.sourceCache._source;let y=i.overscaledZ-this.deltaZoom;if(y>p.maxzoom&&(y=p.maxzoom),y<p.minzoom)return null;this._sourceTileCache[i.key]||(this._sourceTileCache[i.key]=i.scaledTo(y).key);let b=this.sourceCache.getTileByID(this._sourceTileCache[i.key]);if((!b||!b.dem)&&h)for(;y>=p.minzoom&&(!b||!b.dem);)b=this.sourceCache.getTileByID(i.scaledTo(y--).key);return b}tilesAfterTime(i=Date.now()){return Object.values(this._tiles).filter(h=>h.timeAdded>=i)}}class qd{constructor(i,h,p){this.painter=i,this.sourceCache=new ly(h),this.options=p,this.exaggeration=typeof p.exaggeration=="number"?p.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(i,h,p,y=l.X){var b;if(!(h>=0&&h<y&&p>=0&&p<y))return 0;const T=this.getTerrainData(i),k=(b=T.tile)===null||b===void 0?void 0:b.dem;if(!k)return 0;const R=function(ee,he,Se){var Ee=he[0],ke=he[1];return ee[0]=Se[0]*Ee+Se[4]*ke+Se[12],ee[1]=Se[1]*Ee+Se[5]*ke+Se[13],ee}([],[h/y*l.X,p/y*l.X],T.u_terrain_matrix),B=[R[0]*k.dim,R[1]*k.dim],H=Math.floor(B[0]),q=Math.floor(B[1]),te=B[0]-H,se=B[1]-q;return k.get(H,q)*(1-te)*(1-se)+k.get(H+1,q)*te*(1-se)+k.get(H,q+1)*(1-te)*se+k.get(H+1,q+1)*te*se}getElevationForLngLatZoom(i,h){if(!l.bb(h,i.wrap()))return 0;const{tileID:p,mercatorX:y,mercatorY:b}=this._getOverscaledTileIDFromLngLatZoom(i,h);return this.getElevation(p,y%l.X,b%l.X,l.X)}getElevation(i,h,p,y=l.X){return this.getDEMElevation(i,h,p,y)*this.exaggeration}getTerrainData(i){if(!this._emptyDemTexture){const y=this.painter.context,b=new l.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new X(y,b,y.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new X(y,new l.R({width:1,height:1}),y.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(y.gl.NEAREST,y.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=l.an([])}const h=this.sourceCache.getSourceTile(i,!0);if(h&&h.dem&&(!h.demTexture||h.needsTerrainPrepare)){const y=this.painter.context;h.demTexture=this.painter.getTileTexture(h.dem.stride),h.demTexture?h.demTexture.update(h.dem.getPixels(),{premultiply:!1}):h.demTexture=new X(y,h.dem.getPixels(),y.gl.RGBA,{premultiply:!1}),h.demTexture.bind(y.gl.NEAREST,y.gl.CLAMP_TO_EDGE),h.needsTerrainPrepare=!1}const p=h&&h+h.tileID.key+i.key;if(p&&!this._demMatrixCache[p]){const y=this.sourceCache.sourceCache._source.maxzoom;let b=i.canonical.z-h.tileID.canonical.z;i.overscaledZ>i.canonical.z&&(i.canonical.z>=y?b=i.canonical.z-y:l.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const T=i.canonical.x-(i.canonical.x>>b<<b),k=i.canonical.y-(i.canonical.y>>b<<b),R=l.bc(new Float64Array(16),[1/(l.X<<b),1/(l.X<<b),0]);l.J(R,R,[T*l.X,k*l.X,0]),this._demMatrixCache[i.key]={matrix:R,coord:i}}return{u_depth:2,u_terrain:3,u_terrain_dim:h&&h.dem&&h.dem.dim||1,u_terrain_matrix:p?this._demMatrixCache[i.key].matrix:this._emptyDemMatrix,u_terrain_unpack:h&&h.dem&&h.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(h&&h.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:h}}getFramebuffer(i){const h=this.painter,p=h.width/devicePixelRatio,y=h.height/devicePixelRatio;return!this._fbo||this._fbo.width===p&&this._fbo.height===y||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new X(h.context,{width:p,height:y,data:null},h.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(h.context.gl.NEAREST,h.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new X(h.context,{width:p,height:y,data:null},h.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(h.context.gl.NEAREST,h.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=h.context.createFramebuffer(p,y,!0,!1),this._fbo.depthAttachment.set(h.context.createRenderbuffer(h.context.gl.DEPTH_COMPONENT16,p,y))),this._fbo.colorAttachment.set(i==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const i=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const h=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let b=0,T=0;b<this._coordsTextureSize;b++)for(let k=0;k<this._coordsTextureSize;k++,T+=4)h[T+0]=255&k,h[T+1]=255&b,h[T+2]=k>>8<<4|b>>8,h[T+3]=0;const p=new l.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(h.buffer)),y=new X(i,p,i.gl.RGBA,{premultiply:!1});return y.bind(i.gl.NEAREST,i.gl.CLAMP_TO_EDGE),this._coordsTexture=y,y}pointCoordinate(i){this.painter.maybeDrawDepthAndCoords(!0);const h=new Uint8Array(4),p=this.painter.context,y=p.gl,b=Math.round(i.x*this.painter.pixelRatio/devicePixelRatio),T=Math.round(i.y*this.painter.pixelRatio/devicePixelRatio),k=Math.round(this.painter.height/devicePixelRatio);p.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),y.readPixels(b,k-T-1,1,1,y.RGBA,y.UNSIGNED_BYTE,h),p.bindFramebuffer.set(null);const R=h[0]+(h[2]>>4<<8),B=h[1]+((15&h[2])<<8),H=this.coordsIndex[255-h[3]],q=H&&this.sourceCache.getTileByID(H);if(!q)return null;const te=this._coordsTextureSize,se=(1<<q.tileID.canonical.z)*te;return new l.Z((q.tileID.canonical.x*te+R)/se+q.tileID.wrap,(q.tileID.canonical.y*te+B)/se,this.getElevation(q.tileID,R,B,te))}depthAtPoint(i){const h=new Uint8Array(4),p=this.painter.context,y=p.gl;return p.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),y.readPixels(i.x,this.painter.height/devicePixelRatio-i.y-1,1,1,y.RGBA,y.UNSIGNED_BYTE,h),p.bindFramebuffer.set(null),(h[0]/16777216+h[1]/65536+h[2]/256+h[3])/256}getTerrainMesh(){if(this._mesh)return this._mesh;const i=this.painter.context,h=new l.bd,p=new l.aY,y=this.meshSize,b=l.X/y,T=y*y;for(let q=0;q<=y;q++)for(let te=0;te<=y;te++)h.emplaceBack(te*b,q*b,0);for(let q=0;q<T;q+=y+1)for(let te=0;te<y;te++)p.emplaceBack(te+q,y+te+q+1,y+te+q+2),p.emplaceBack(te+q,y+te+q+2,te+q+1);const k=h.length,R=k+2*(y+1);for(const q of[0,1])for(let te=0;te<=y;te++)for(const se of[0,1])h.emplaceBack(te*b,q*l.X,se);for(let q=0;q<2*y;q+=2)p.emplaceBack(R+q,R+q+1,R+q+3),p.emplaceBack(R+q,R+q+3,R+q+2),p.emplaceBack(k+q,k+q+3,k+q+1),p.emplaceBack(k+q,k+q+2,k+q+3);const B=h.length,H=B+2*(y+1);for(const q of[0,1])for(let te=0;te<=y;te++)for(const se of[0,1])h.emplaceBack(q*l.X,te*b,se);for(let q=0;q<2*y;q+=2)p.emplaceBack(B+q,B+q+1,B+q+3),p.emplaceBack(B+q,B+q+3,B+q+2),p.emplaceBack(H+q,H+q+3,H+q+1),p.emplaceBack(H+q,H+q+2,H+q+3);return this._mesh=new ui(i.createVertexBuffer(h,Jf.members),i.createIndexBuffer(p),l.a0.simpleSegment(0,0,h.length,p.length)),this._mesh}getMeshFrameDelta(i){return 2*Math.PI*l.be/Math.pow(2,i)/5}getMinTileElevationForLngLatZoom(i,h){var p;const{tileID:y}=this._getOverscaledTileIDFromLngLatZoom(i,h);return(p=this.getMinMaxElevation(y).minElevation)!==null&&p!==void 0?p:0}getMinMaxElevation(i){const h=this.getTerrainData(i).tile,p={minElevation:null,maxElevation:null};return h&&h.dem&&(p.minElevation=h.dem.min*this.exaggeration,p.maxElevation=h.dem.max*this.exaggeration),p}_getOverscaledTileIDFromLngLatZoom(i,h){const p=l.Z.fromLngLat(i.wrap()),y=(1<<h)*l.X,b=p.x*y,T=p.y*y,k=Math.floor(b/l.X),R=Math.floor(T/l.X);return{tileID:new l.S(h,0,h,k,R),mercatorX:b,mercatorY:T}}}class mm{constructor(i,h,p){this._context=i,this._size=h,this._tileSize=p,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const i of this._objects)i.texture.destroy(),i.fbo.destroy()}_createObject(i){const h=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),p=new X(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return p.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),h.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),h.colorAttachment.set(p.texture),{id:i,fbo:h,texture:p,stamp:-1,inUse:!1}}getObjectForId(i){return this._objects[i]}useObject(i){i.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(h=>i.id!==h),this._recentlyUsed.push(i.id)}stampObject(i){i.stamp=++this._stamp}getOrCreateFreeObject(){for(const h of this._recentlyUsed)if(!this._objects[h].inUse)return this._objects[h];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const i=this._createObject(this._objects.length);return this._objects.push(i),i}freeObject(i){i.inUse=!1}freeAllObjects(){for(const i of this._objects)this.freeObject(i)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(i=>!i.inUse)===!1}}const bc={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class Qf{constructor(i,h){this.painter=i,this.terrain=h,this.pool=new mm(i.context,30,h.sourceCache.tileSize*h.qualityFactor)}destruct(){this.pool.destruct()}getTexture(i){return this.pool.getObjectForId(i.rtt[this._stacks.length-1].id).texture}prepareForRender(i,h){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=i._order.filter(p=>!i._layers[p].isHidden(h)),this._coordsDescendingInv={};for(const p in i.sourceCaches){this._coordsDescendingInv[p]={};const y=i.sourceCaches[p].getVisibleCoordinates();for(const b of y){const T=this.terrain.sourceCache.getTerrainCoords(b);for(const k in T)this._coordsDescendingInv[p][k]||(this._coordsDescendingInv[p][k]=[]),this._coordsDescendingInv[p][k].push(T[k])}}this._coordsDescendingInvStr={};for(const p of i._order){const y=i._layers[p],b=y.source;if(bc[y.type]&&!this._coordsDescendingInvStr[b]){this._coordsDescendingInvStr[b]={};for(const T in this._coordsDescendingInv[b])this._coordsDescendingInvStr[b][T]=this._coordsDescendingInv[b][T].map(k=>k.key).sort().join()}}for(const p of this._renderableTiles)for(const y in this._coordsDescendingInvStr){const b=this._coordsDescendingInvStr[y][p.tileID.key];b&&b!==p.rttCoords[y]&&(p.rtt=[])}}renderLayer(i){if(i.isHidden(this.painter.transform.zoom))return!1;const h=i.type,p=this.painter,y=this._renderableLayerIds[this._renderableLayerIds.length-1]===i.id;if(bc[h]&&(this._prevType&&bc[this._prevType]||this._stacks.push([]),this._prevType=h,this._stacks[this._stacks.length-1].push(i.id),!y))return!0;if(bc[this._prevType]||bc[h]&&y){this._prevType=h;const b=this._stacks.length-1,T=this._stacks[b]||[];for(const k of this._renderableTiles){if(this.pool.isFull()&&(Ao(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(k),k.rtt[b]){const B=this.pool.getObjectForId(k.rtt[b].id);if(B.stamp===k.rtt[b].stamp){this.pool.useObject(B);continue}}const R=this.pool.getOrCreateFreeObject();this.pool.useObject(R),this.pool.stampObject(R),k.rtt[b]={id:R.id,stamp:R.stamp},p.context.bindFramebuffer.set(R.fbo.framebuffer),p.context.clear({color:l.aM.transparent,stencil:0}),p.currentStencilSource=void 0;for(let B=0;B<T.length;B++){const H=p.style._layers[T[B]],q=H.source?this._coordsDescendingInv[H.source][k.tileID.key]:[k.tileID];p.context.viewport.set([0,0,R.fbo.width,R.fbo.height]),p._renderTileClippingMasks(H,q),p.renderLayer(p,p.style.sourceCaches[H.source],H,q),H.source&&(k.rttCoords[H.source]=this._coordsDescendingInvStr[H.source][k.tileID.key])}}return Ao(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),bc[h]}return!1}}const ep={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use  + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},Zh=f,Hd={hash:!1,interactive:!0,bearingSnap:7,attributionControl:rh,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,refreshExpiredTiles:!0,scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],zoom:0,bearing:0,pitch:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:l.a.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0},_c=g=>{g.touchstart=g.dragStart,g.touchmoveWindow=g.dragMove,g.touchend=g.dragEnd},tp={showCompass:!0,showZoom:!0,visualizePitch:!1};class gm{constructor(i,h,p=!1){this.mousedown=T=>{this.startMouse(l.e({},T,{ctrlKey:!0,preventDefault:()=>T.preventDefault()}),C.mousePos(this.element,T)),C.addEventListener(window,"mousemove",this.mousemove),C.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=T=>{this.moveMouse(T,C.mousePos(this.element,T))},this.mouseup=T=>{this.mouseRotate.dragEnd(T),this.mousePitch&&this.mousePitch.dragEnd(T),this.offTemp()},this.touchstart=T=>{T.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=C.touchPos(this.element,T.targetTouches)[0],this.startTouch(T,this._startPos),C.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),C.addEventListener(window,"touchend",this.touchend))},this.touchmove=T=>{T.targetTouches.length!==1?this.reset():(this._lastPos=C.touchPos(this.element,T.targetTouches)[0],this.moveTouch(T,this._lastPos))},this.touchend=T=>{T.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const y=i.dragRotate._mouseRotate.getClickTolerance(),b=i.dragRotate._mousePitch.getClickTolerance();this.element=h,this.mouseRotate=Yc({clickTolerance:y,enable:!0}),this.touchRotate=(({enable:T,clickTolerance:k,bearingDegreesPerPixelMoved:R=.8})=>{const B=new tu;return new Ti({clickTolerance:k,move:(H,q)=>({bearingDelta:(q.x-H.x)*R}),moveStateManager:B,enable:T,assignEvents:_c})})({clickTolerance:y,enable:!0}),this.map=i,p&&(this.mousePitch=Gh({clickTolerance:b,enable:!0}),this.touchPitch=(({enable:T,clickTolerance:k,pitchDegreesPerPixelMoved:R=-.5})=>{const B=new tu;return new Ti({clickTolerance:k,move:(H,q)=>({pitchDelta:(q.y-H.y)*R}),moveStateManager:B,enable:T,assignEvents:_c})})({clickTolerance:b,enable:!0})),C.addEventListener(h,"mousedown",this.mousedown),C.addEventListener(h,"touchstart",this.touchstart,{passive:!1}),C.addEventListener(h,"touchcancel",this.reset)}startMouse(i,h){this.mouseRotate.dragStart(i,h),this.mousePitch&&this.mousePitch.dragStart(i,h),C.disableDrag()}startTouch(i,h){this.touchRotate.dragStart(i,h),this.touchPitch&&this.touchPitch.dragStart(i,h),C.disableDrag()}moveMouse(i,h){const p=this.map,{bearingDelta:y}=this.mouseRotate.dragMove(i,h)||{};if(y&&p.setBearing(p.getBearing()+y),this.mousePitch){const{pitchDelta:b}=this.mousePitch.dragMove(i,h)||{};b&&p.setPitch(p.getPitch()+b)}}moveTouch(i,h){const p=this.map,{bearingDelta:y}=this.touchRotate.dragMove(i,h)||{};if(y&&p.setBearing(p.getBearing()+y),this.touchPitch){const{pitchDelta:b}=this.touchPitch.dragMove(i,h)||{};b&&p.setPitch(p.getPitch()+b)}}off(){const i=this.element;C.removeEventListener(i,"mousedown",this.mousedown),C.removeEventListener(i,"touchstart",this.touchstart,{passive:!1}),C.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),C.removeEventListener(window,"touchend",this.touchend),C.removeEventListener(i,"touchcancel",this.reset),this.offTemp()}offTemp(){C.enableDrag(),C.removeEventListener(window,"mousemove",this.mousemove),C.removeEventListener(window,"mouseup",this.mouseup),C.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),C.removeEventListener(window,"touchend",this.touchend)}}let as;function yi(g,i,h){const p=new l.N(g.lng,g.lat);if(g=new l.N(g.lng,g.lat),i){const y=new l.N(g.lng-360,g.lat),b=new l.N(g.lng+360,g.lat),T=h.locationPoint(g).distSqr(i);h.locationPoint(y).distSqr(i)<T?g=y:h.locationPoint(b).distSqr(i)<T&&(g=b)}for(;Math.abs(g.lng-h.center.lng)>180;){const y=h.locationPoint(g);if(y.x>=0&&y.y>=0&&y.x<=h.width&&y.y<=h.height)break;g.lng>h.center.lng?g.lng-=360:g.lng+=360}return g.lng!==p.lng&&h.locationPoint(g).y>h.height/2-h.getHorizon()?g:p}const nh={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Gd(g,i,h){const p=g.classList;for(const y in nh)p.remove(`maplibregl-${h}-anchor-${y}`);p.add(`maplibregl-${h}-anchor-${i}`)}class Wd extends l.E{constructor(i){if(super(),this._onKeyPress=h=>{const p=h.code,y=h.charCode||h.keyCode;p!=="Space"&&p!=="Enter"&&y!==32&&y!==13||this.togglePopup()},this._onMapClick=h=>{const p=h.originalEvent.target,y=this._element;this._popup&&(p===y||y.contains(p))&&this.togglePopup()},this._update=h=>{var p;if(!this._map)return;const y=this._map.loaded()&&!this._map.isMoving();((h==null?void 0:h.type)==="terrain"||(h==null?void 0:h.type)==="render"&&!y)&&this._map.once("render",this._update),this._lngLat=this._map.transform.renderWorldCopies?yi(this._lngLat,this._flatPos,this._map.transform):(p=this._lngLat)===null||p===void 0?void 0:p.wrap(),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationPoint(this._lngLat)._add(this._offset));let b="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?b=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(b=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let T="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?T="rotateX(0deg)":this._pitchAlignment==="map"&&(T=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||h&&h.type!=="moveend"||(this._pos=this._pos.round()),C.setTransform(this._element,`${nh[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${T} ${b}`),w.frameAsync(new AbortController).then(()=>{this._updateOpacity(h&&h.type==="moveend")}).catch(()=>{})},this._onMove=h=>{if(!this._isDragging){const p=this._clickTolerance||this._map._clickTolerance;this._isDragging=h.point.dist(this._pointerdownPos)>=p}this._isDragging&&(this._pos=h.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new l.k("dragstart"))),this.fire(new l.k("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new l.k("dragend")),this._state="inactive"},this._addDragHandler=h=>{this._element.contains(h.originalEvent.target)&&(h.preventDefault(),this._positionDelta=h.point.sub(this._pos).add(this._offset),this._pointerdownPos=h.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=i&&i.anchor||"center",this._color=i&&i.color||"#3FB1CE",this._scale=i&&i.scale||1,this._draggable=i&&i.draggable||!1,this._clickTolerance=i&&i.clickTolerance||0,this._subpixelPositioning=i&&i.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=i&&i.rotation||0,this._rotationAlignment=i&&i.rotationAlignment||"auto",this._pitchAlignment=i&&i.pitchAlignment&&i.pitchAlignment!=="auto"?i.pitchAlignment:this._rotationAlignment,this.setOpacity(),this.setOpacity(i==null?void 0:i.opacity,i==null?void 0:i.opacityWhenCovered),i&&i.element)this._element=i.element,this._offset=l.P.convert(i&&i.offset||[0,0]);else{this._defaultMarker=!0,this._element=C.create("div");const h=C.createNS("http://www.w3.org/2000/svg","svg"),p=41,y=27;h.setAttributeNS(null,"display","block"),h.setAttributeNS(null,"height",`${p}px`),h.setAttributeNS(null,"width",`${y}px`),h.setAttributeNS(null,"viewBox",`0 0 ${y} ${p}`);const b=C.createNS("http://www.w3.org/2000/svg","g");b.setAttributeNS(null,"stroke","none"),b.setAttributeNS(null,"stroke-width","1"),b.setAttributeNS(null,"fill","none"),b.setAttributeNS(null,"fill-rule","evenodd");const T=C.createNS("http://www.w3.org/2000/svg","g");T.setAttributeNS(null,"fill-rule","nonzero");const k=C.createNS("http://www.w3.org/2000/svg","g");k.setAttributeNS(null,"transform","translate(3.0, 29.0)"),k.setAttributeNS(null,"fill","#000000");const R=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const Ee of R){const ke=C.createNS("http://www.w3.org/2000/svg","ellipse");ke.setAttributeNS(null,"opacity","0.04"),ke.setAttributeNS(null,"cx","10.5"),ke.setAttributeNS(null,"cy","5.80029008"),ke.setAttributeNS(null,"rx",Ee.rx),ke.setAttributeNS(null,"ry",Ee.ry),k.appendChild(ke)}const B=C.createNS("http://www.w3.org/2000/svg","g");B.setAttributeNS(null,"fill",this._color);const H=C.createNS("http://www.w3.org/2000/svg","path");H.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),B.appendChild(H);const q=C.createNS("http://www.w3.org/2000/svg","g");q.setAttributeNS(null,"opacity","0.25"),q.setAttributeNS(null,"fill","#000000");const te=C.createNS("http://www.w3.org/2000/svg","path");te.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),q.appendChild(te);const se=C.createNS("http://www.w3.org/2000/svg","g");se.setAttributeNS(null,"transform","translate(6.0, 7.0)"),se.setAttributeNS(null,"fill","#FFFFFF");const ee=C.createNS("http://www.w3.org/2000/svg","g");ee.setAttributeNS(null,"transform","translate(8.0, 8.0)");const he=C.createNS("http://www.w3.org/2000/svg","circle");he.setAttributeNS(null,"fill","#000000"),he.setAttributeNS(null,"opacity","0.25"),he.setAttributeNS(null,"cx","5.5"),he.setAttributeNS(null,"cy","5.5"),he.setAttributeNS(null,"r","5.4999962");const Se=C.createNS("http://www.w3.org/2000/svg","circle");Se.setAttributeNS(null,"fill","#FFFFFF"),Se.setAttributeNS(null,"cx","5.5"),Se.setAttributeNS(null,"cy","5.5"),Se.setAttributeNS(null,"r","5.4999962"),ee.appendChild(he),ee.appendChild(Se),T.appendChild(k),T.appendChild(B),T.appendChild(q),T.appendChild(se),T.appendChild(ee),h.appendChild(T),h.setAttributeNS(null,"height",p*this._scale+"px"),h.setAttributeNS(null,"width",y*this._scale+"px"),this._element.appendChild(h),this._offset=l.P.convert(i&&i.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",h=>{h.preventDefault()}),this._element.addEventListener("mousedown",h=>{h.preventDefault()}),Gd(this._element,this._anchor,"marker"),i&&i.className)for(const h of i.className.split(" "))this._element.classList.add(h);this._popup=null}addTo(i){return this.remove(),this._map=i,this._element.setAttribute("aria-label",i._getUIString("Marker.Title")),i.getCanvasContainer().appendChild(this._element),i.on("move",this._update),i.on("moveend",this._update),i.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),C.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(i){return this._lngLat=l.N.convert(i),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(i){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),i){if(!("offset"in i.options)){const y=Math.abs(13.5)/Math.SQRT2;i.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[y,-1*(38.1-13.5+y)],"bottom-right":[-y,-1*(38.1-13.5+y)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=i,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(i){return this._subpixelPositioning=i,this}getPopup(){return this._popup}togglePopup(){const i=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:i?(i.isOpen()?i.remove():(i.setLngLat(this._lngLat),i.addTo(this._map)),this):this}_updateOpacity(i=!1){var h,p;if(!(!((h=this._map)===null||h===void 0)&&h.terrain))return void(this._element.style.opacity!==this._opacity&&(this._element.style.opacity=this._opacity));if(i)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout(()=>{this._opacityTimeout=null},100)}const y=this._map,b=y.terrain.depthAtPoint(this._pos),T=y.terrain.getElevationForLngLatZoom(this._lngLat,y.transform.tileZoom);if(y.transform.lngLatToCameraDepth(this._lngLat,T)-b<.006)return void(this._element.style.opacity=this._opacity);const k=-this._offset.y/y.transform._pixelPerMeter,R=Math.sin(y.getPitch()*Math.PI/180)*k,B=y.terrain.depthAtPoint(new l.P(this._pos.x,this._pos.y-this._offset.y)),H=y.transform.lngLatToCameraDepth(this._lngLat,T+R)-B>.006;!((p=this._popup)===null||p===void 0)&&p.isOpen()&&H&&this._popup.remove(),this._element.style.opacity=H?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(i){return this._offset=l.P.convert(i),this._update(),this}addClassName(i){this._element.classList.add(i)}removeClassName(i){this._element.classList.remove(i)}toggleClassName(i){return this._element.classList.toggle(i)}setDraggable(i){return this._draggable=!!i,this._map&&(i?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(i){return this._rotation=i||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(i){return this._rotationAlignment=i||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(i){return this._pitchAlignment=i&&i!=="auto"?i:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(i,h){return i===void 0&&h===void 0&&(this._opacity="1",this._opacityWhenCovered="0.2"),i!==void 0&&(this._opacity=i),h!==void 0&&(this._opacityWhenCovered=h),this._map&&this._updateOpacity(!0),this}}const ym={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let Yh=0,Jh=!1;const tl={maxWidth:100,unit:"metric"};function Nu(g,i,h){const p=h&&h.maxWidth||100,y=g._container.clientHeight/2,b=g.unproject([0,y]),T=g.unproject([p,y]),k=b.distanceTo(T);if(h&&h.unit==="imperial"){const R=3.2808*k;R>5280?Er(i,p,R/5280,g._getUIString("ScaleControl.Miles")):Er(i,p,R,g._getUIString("ScaleControl.Feet"))}else h&&h.unit==="nautical"?Er(i,p,k/1852,g._getUIString("ScaleControl.NauticalMiles")):k>=1e3?Er(i,p,k/1e3,g._getUIString("ScaleControl.Kilometers")):Er(i,p,k,g._getUIString("ScaleControl.Meters"))}function Er(g,i,h,p){const y=function(b){const T=Math.pow(10,`${Math.floor(b)}`.length-1);let k=b/T;return k=k>=10?10:k>=5?5:k>=3?3:k>=2?2:k>=1?1:function(R){const B=Math.pow(10,Math.ceil(-Math.log(R)/Math.LN10));return Math.round(R*B)/B}(k),T*k}(h);g.style.width=i*(y/h)+"px",g.innerHTML=`${y}&nbsp;${p}`}const Gr={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1},Qh=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function A(g){if(g){if(typeof g=="number"){const i=Math.round(Math.abs(g)/Math.SQRT2);return{center:new l.P(0,0),top:new l.P(0,g),"top-left":new l.P(i,i),"top-right":new l.P(-i,i),bottom:new l.P(0,-g),"bottom-left":new l.P(i,-i),"bottom-right":new l.P(-i,-i),left:new l.P(g,0),right:new l.P(-g,0)}}if(g instanceof l.P||Array.isArray(g)){const i=l.P.convert(g);return{center:i,top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return{center:l.P.convert(g.center||[0,0]),top:l.P.convert(g.top||[0,0]),"top-left":l.P.convert(g["top-left"]||[0,0]),"top-right":l.P.convert(g["top-right"]||[0,0]),bottom:l.P.convert(g.bottom||[0,0]),"bottom-left":l.P.convert(g["bottom-left"]||[0,0]),"bottom-right":l.P.convert(g["bottom-right"]||[0,0]),left:l.P.convert(g.left||[0,0]),right:l.P.convert(g.right||[0,0])}}return A(new l.P(0,0))}const L=f;u.AJAXError=l.bh,u.Evented=l.E,u.LngLat=l.N,u.MercatorCoordinate=l.Z,u.Point=l.P,u.addProtocol=l.bi,u.config=l.a,u.removeProtocol=l.bj,u.AttributionControl=vc,u.BoxZoomHandler=io,u.CanvasSource=vr,u.CooperativeGesturesHandler=th,u.DoubleClickZoomHandler=ru,u.DragPanHandler=pm,u.DragRotateHandler=Zf,u.EdgeInsets=ci,u.FullscreenControl=class extends l.E{constructor(g={}){super(),this._onFullscreenChange=()=>{var i;let h=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((i=h==null?void 0:h.shadowRoot)===null||i===void 0)&&i.fullscreenElement;)h=h.shadowRoot.fullscreenElement;h===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,g&&g.container&&(g.container instanceof HTMLElement?this._container=g.container:l.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(g){return this._map=g,this._container||(this._container=this._map.getContainer()),this._controlContainer=C.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){C.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const g=this._fullscreenButton=C.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);C.create("span","maplibregl-ctrl-icon",g).setAttribute("aria-hidden","true"),g.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const g=this._getTitle();this._fullscreenButton.setAttribute("aria-label",g),this._fullscreenButton.title=g}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new l.k("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new l.k("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},u.GeoJSONSource=Ot,u.GeolocateControl=class extends l.E{constructor(g){super(),this._onSuccess=i=>{if(this._map){if(this._isOutOfMapMaxBounds(i))return this._setErrorState(),this.fire(new l.k("outofmaxbounds",i)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=i,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(i),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(i),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new l.k("geolocate",i)),this._finish()}},this._updateCamera=i=>{const h=new l.N(i.coords.longitude,i.coords.latitude),p=i.coords.accuracy,y=this._map.getBearing(),b=l.e({bearing:y},this.options.fitBoundsOptions),T=de.fromLngLat(h,p);this._map.fitBounds(T,b,{geolocateSource:!0})},this._updateMarker=i=>{if(i){const h=new l.N(i.coords.longitude,i.coords.latitude);this._accuracyCircleMarker.setLngLat(h).addTo(this._map),this._userLocationDotMarker.setLngLat(h).addTo(this._map),this._accuracy=i.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=i=>{if(this._map){if(this.options.trackUserLocation)if(i.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const h=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=h,this._geolocateButton.setAttribute("aria-label",h),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(i.code===3&&Jh)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new l.k("error",i)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",i=>i.preventDefault()),this._geolocateButton=C.create("button","maplibregl-ctrl-geolocate",this._container),C.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=i=>{if(this._map){if(i===!1){l.w("Geolocation support is not available so the GeolocateControl will be disabled.");const h=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=h,this._geolocateButton.setAttribute("aria-label",h)}else{const h=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=h,this._geolocateButton.setAttribute("aria-label",h)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=C.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new Wd({element:this._dotElement}),this._circleElement=C.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Wd({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",()=>this.trigger()),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",h=>{h.geolocateSource||this._watchState!=="ACTIVE_LOCK"||h.originalEvent&&h.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new l.k("trackuserlocationend")),this.fire(new l.k("userlocationlostfocus")))})}},this.options=l.e({},ym,g)}onAdd(g){return this._map=g,this._container=C.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),function(){return l._(this,arguments,void 0,function*(i=!1){if(as!==void 0&&!i)return as;if(window.navigator.permissions===void 0)return as=!!window.navigator.geolocation,as;try{as=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch{as=!!window.navigator.geolocation}return as})}().then(i=>this._finishSetupUI(i)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),C.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Yh=0,Jh=!1}_isOutOfMapMaxBounds(g){const i=this._map.getMaxBounds(),h=g.coords;return i&&(h.longitude<i.getWest()||h.longitude>i.getEast()||h.latitude<i.getSouth()||h.latitude>i.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const g=this._map.getBounds(),i=g.getSouthEast(),h=g.getNorthEast(),p=i.distanceTo(h),y=Math.ceil(this._accuracy/(p/this._map._container.clientHeight)*2);this._circleElement.style.width=`${y}px`,this._circleElement.style.height=`${y}px`}trigger(){if(!this._setup)return l.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new l.k("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Yh--,Jh=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new l.k("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new l.k("trackuserlocationstart")),this.fire(new l.k("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let g;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Yh++,Yh>1?(g={maximumAge:6e5,timeout:0},Jh=!0):(g=this.options.positionOptions,Jh=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,g)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},u.Hash=Pa,u.ImageSource=It,u.KeyboardHandler=ks,u.LngLatBounds=de,u.LogoControl=El,u.Map=class extends Al{constructor(g){l.bf.mark(l.bg.create);const i=Object.assign(Object.assign({},Hd),g);if(i.minZoom!=null&&i.maxZoom!=null&&i.minZoom>i.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(i.minPitch!=null&&i.maxPitch!=null&&i.minPitch>i.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(i.minPitch!=null&&i.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(i.maxPitch!=null&&i.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new Eo(i.minZoom,i.maxZoom,i.minPitch,i.maxPitch,i.renderWorldCopies),{bearingSnap:i.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new mn,this._controls=[],this._mapId=l.a4(),this._contextLost=h=>{h.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new l.k("webglcontextlost",{originalEvent:h}))},this._contextRestored=h=>{this._setupPainter(),this.resize(),this._update(),this.fire(new l.k("webglcontextrestored",{originalEvent:h}))},this._onMapScroll=h=>{if(h.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=i.interactive,this._maxTileCacheSize=i.maxTileCacheSize,this._maxTileCacheZoomLevels=i.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=i.failIfMajorPerformanceCaveat===!0,this._preserveDrawingBuffer=i.preserveDrawingBuffer===!0,this._antialias=i.antialias===!0,this._trackResize=i.trackResize===!0,this._bearingSnap=i.bearingSnap,this._refreshExpiredTiles=i.refreshExpiredTiles===!0,this._fadeDuration=i.fadeDuration,this._crossSourceCollisions=i.crossSourceCollisions===!0,this._collectResourceTiming=i.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},ep),i.locale),this._clickTolerance=i.clickTolerance,this._overridePixelRatio=i.pixelRatio,this._maxCanvasSize=i.maxCanvasSize,this.transformCameraUpdate=i.transformCameraUpdate,this.cancelPendingTileRequestsWhileZooming=i.cancelPendingTileRequestsWhileZooming===!0,this._imageQueueHandle=V.addThrottleControl(()=>this.isMoving()),this._requestManager=new W(i.transformRequest),typeof i.container=="string"){if(this._container=document.getElementById(i.container),!this._container)throw new Error(`Container '${i.container}' not found.`)}else{if(!(i.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=i.container}if(i.maxBounds&&this.setMaxBounds(i.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)).on("moveend",()=>this._update(!1)).on("zoom",()=>this._update(!0)).on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}).once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let h=!1;const p=Zo(y=>{this._trackResize&&!this._removed&&(this.resize(y),this.redraw())},50);this._resizeObserver=new ResizeObserver(y=>{h?p(y):h=!0}),this._resizeObserver.observe(this._container)}this.handlers=new os(this,i),this._hash=i.hash&&new Pa(typeof i.hash=="string"&&i.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:i.center,zoom:i.zoom,bearing:i.bearing,pitch:i.pitch}),i.bounds&&(this.resize(),this.fitBounds(i.bounds,l.e({},i.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=i.localIdeographFontFamily,this._validateStyle=i.validateStyle,i.style&&this.setStyle(i.style,{localIdeographFontFamily:i.localIdeographFontFamily}),i.attributionControl&&this.addControl(new vc(typeof i.attributionControl=="boolean"?void 0:i.attributionControl)),i.maplibreLogo&&this.addControl(new El,i.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",h=>{this._update(h.dataType==="style"),this.fire(new l.k(`${h.dataType}data`,h))}),this.on("dataloading",h=>{this.fire(new l.k(`${h.dataType}dataloading`,h))}),this.on("dataabort",h=>{this.fire(new l.k("sourcedataabort",h))})}_getMapId(){return this._mapId}addControl(g,i){if(i===void 0&&(i=g.getDefaultPosition?g.getDefaultPosition():"top-right"),!g||!g.onAdd)return this.fire(new l.j(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const h=g.onAdd(this);this._controls.push(g);const p=this._controlPositions[i];return i.indexOf("bottom")!==-1?p.insertBefore(h,p.firstChild):p.appendChild(h),this}removeControl(g){if(!g||!g.onRemove)return this.fire(new l.j(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const i=this._controls.indexOf(g);return i>-1&&this._controls.splice(i,1),g.onRemove(this),this}hasControl(g){return this._controls.indexOf(g)>-1}calculateCameraOptionsFromTo(g,i,h,p){return p==null&&this.terrain&&(p=this.terrain.getElevationForLngLatZoom(h,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(g,i,h,p)}resize(g){var i;const h=this._containerDimensions(),p=h[0],y=h[1],b=this._getClampedPixelRatio(p,y);if(this._resizeCanvas(p,y,b),this.painter.resize(p,y,b),this.painter.overLimit()){const k=this.painter.context.gl;this._maxCanvasSize=[k.drawingBufferWidth,k.drawingBufferHeight];const R=this._getClampedPixelRatio(p,y);this._resizeCanvas(p,y,R),this.painter.resize(p,y,R)}this.transform.resize(p,y),(i=this._requestedCameraState)===null||i===void 0||i.resize(p,y);const T=!this._moving;return T&&(this.stop(),this.fire(new l.k("movestart",g)).fire(new l.k("move",g))),this.fire(new l.k("resize",g)),T&&this.fire(new l.k("moveend",g)),this}_getClampedPixelRatio(g,i){const{0:h,1:p}=this._maxCanvasSize,y=this.getPixelRatio(),b=g*y,T=i*y;return Math.min(b>h?h/b:1,T>p?p/T:1)*y}getPixelRatio(){var g;return(g=this._overridePixelRatio)!==null&&g!==void 0?g:devicePixelRatio}setPixelRatio(g){this._overridePixelRatio=g,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(g){return this.transform.setMaxBounds(de.convert(g)),this._update()}setMinZoom(g){if((g=g??-2)>=-2&&g<=this.transform.maxZoom)return this.transform.minZoom=g,this._update(),this.getZoom()<g&&this.setZoom(g),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(g){if((g=g??22)>=this.transform.minZoom)return this.transform.maxZoom=g,this._update(),this.getZoom()>g&&this.setZoom(g),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(g){if((g=g??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(g>=0&&g<=this.transform.maxPitch)return this.transform.minPitch=g,this._update(),this.getPitch()<g&&this.setPitch(g),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(g){if((g=g??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(g>=this.transform.minPitch)return this.transform.maxPitch=g,this._update(),this.getPitch()>g&&this.setPitch(g),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(g){return this.transform.renderWorldCopies=g,this._update()}project(g){return this.transform.locationPoint(l.N.convert(g),this.style&&this.terrain)}unproject(g){return this.transform.pointLocation(l.P.convert(g),this.terrain)}isMoving(){var g;return this._moving||((g=this.handlers)===null||g===void 0?void 0:g.isMoving())}isZooming(){var g;return this._zooming||((g=this.handlers)===null||g===void 0?void 0:g.isZooming())}isRotating(){var g;return this._rotating||((g=this.handlers)===null||g===void 0?void 0:g.isRotating())}_createDelegatedListener(g,i,h){if(g==="mouseenter"||g==="mouseover"){let p=!1;return{layers:i,listener:h,delegates:{mousemove:b=>{const T=i.filter(R=>this.getLayer(R)),k=T.length!==0?this.queryRenderedFeatures(b.point,{layers:T}):[];k.length?p||(p=!0,h.call(this,new Ei(g,this,b.originalEvent,{features:k}))):p=!1},mouseout:()=>{p=!1}}}}if(g==="mouseleave"||g==="mouseout"){let p=!1;return{layers:i,listener:h,delegates:{mousemove:T=>{const k=i.filter(R=>this.getLayer(R));(k.length!==0?this.queryRenderedFeatures(T.point,{layers:k}):[]).length?p=!0:p&&(p=!1,h.call(this,new Ei(g,this,T.originalEvent)))},mouseout:T=>{p&&(p=!1,h.call(this,new Ei(g,this,T.originalEvent)))}}}}{const p=y=>{const b=i.filter(k=>this.getLayer(k)),T=b.length!==0?this.queryRenderedFeatures(y.point,{layers:b}):[];T.length&&(y.features=T,h.call(this,y),delete y.features)};return{layers:i,listener:h,delegates:{[g]:p}}}}_saveDelegatedListener(g,i){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[g]=this._delegatedListeners[g]||[],this._delegatedListeners[g].push(i)}_removeDelegatedListener(g,i,h){if(!this._delegatedListeners||!this._delegatedListeners[g])return;const p=this._delegatedListeners[g];for(let y=0;y<p.length;y++){const b=p[y];if(b.listener===h&&b.layers.length===i.length&&b.layers.every(T=>i.includes(T))){for(const T in b.delegates)this.off(T,b.delegates[T]);return void p.splice(y,1)}}}on(g,i,h){if(h===void 0)return super.on(g,i);const p=this._createDelegatedListener(g,typeof i=="string"?[i]:i,h);this._saveDelegatedListener(g,p);for(const y in p.delegates)this.on(y,p.delegates[y]);return this}once(g,i,h){if(h===void 0)return super.once(g,i);const p=typeof i=="string"?[i]:i,y=this._createDelegatedListener(g,p,h);for(const b in y.delegates){const T=y.delegates[b];y.delegates[b]=(...k)=>{this._removeDelegatedListener(g,p,h),T(...k)}}this._saveDelegatedListener(g,y);for(const b in y.delegates)this.once(b,y.delegates[b]);return this}off(g,i,h){return h===void 0?super.off(g,i):(this._removeDelegatedListener(g,typeof i=="string"?[i]:i,h),this)}queryRenderedFeatures(g,i){if(!this.style)return[];let h;const p=g instanceof l.P||Array.isArray(g),y=p?g:[[0,0],[this.transform.width,this.transform.height]];if(i=i||(p?{}:g)||{},y instanceof l.P||typeof y[0]=="number")h=[l.P.convert(y)];else{const b=l.P.convert(y[0]),T=l.P.convert(y[1]);h=[b,new l.P(T.x,b.y),T,new l.P(b.x,T.y),b]}return this.style.queryRenderedFeatures(h,i,this.transform)}querySourceFeatures(g,i){return this.style.querySourceFeatures(g,i)}setStyle(g,i){return(i=l.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},i)).diff!==!1&&i.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&g?(this._diffStyle(g,i),this):(this._localIdeographFontFamily=i.localIdeographFontFamily,this._updateStyle(g,i))}setTransformRequest(g){return this._requestManager.setTransformRequest(g),this}_getUIString(g){const i=this._locale[g];if(i==null)throw new Error(`Missing UI string '${g}'`);return i}_updateStyle(g,i){if(i.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(g,i));const h=this.style&&i.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!g)),g?(this.style=new wo(this,i||{}),this.style.setEventedParent(this,{style:this.style}),typeof g=="string"?this.style.loadURL(g,i,h):this.style.loadJSON(g,i,h),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new wo(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(g,i){if(typeof g=="string"){const h=this._requestManager.transformRequest(g,"Style");l.h(h,new AbortController).then(p=>{this._updateDiff(p.data,i)}).catch(p=>{p&&this.fire(new l.j(p))})}else typeof g=="object"&&this._updateDiff(g,i)}_updateDiff(g,i){try{this.style.setState(g,i)&&this._update(!0)}catch(h){l.w(`Unable to perform style diff: ${h.message||h.error||h}.  Rebuilding the style from scratch.`),this._updateStyle(g,i)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():l.w("There is no style added to the map.")}addSource(g,i){return this._lazyInitEmptyStyle(),this.style.addSource(g,i),this._update(!0)}isSourceLoaded(g){const i=this.style&&this.style.sourceCaches[g];if(i!==void 0)return i.loaded();this.fire(new l.j(new Error(`There is no source with ID '${g}'`)))}setTerrain(g){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),g){const i=this.style.sourceCaches[g.source];if(!i)throw new Error(`cannot load terrain, because there exists no source with ID: ${g.source}`);this.terrain===null&&i.reload();for(const h in this.style._layers){const p=this.style._layers[h];p.type==="hillshade"&&p.source===g.source&&l.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new qd(this.painter,i,g),this.painter.renderToTexture=new Qf(this.painter,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=h=>{h.dataType==="style"?this.terrain.sourceCache.freeRtt():h.dataType==="source"&&h.tile&&(h.sourceId!==g.source||this._elevationFreeze||(this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(h.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.minElevationForCurrentTile=0,this.transform.elevation=0;return this.fire(new l.k("terrain",{terrain:g})),this}getTerrain(){var g,i;return(i=(g=this.terrain)===null||g===void 0?void 0:g.options)!==null&&i!==void 0?i:null}areTilesLoaded(){const g=this.style&&this.style.sourceCaches;for(const i in g){const h=g[i]._tiles;for(const p in h){const y=h[p];if(y.state!=="loaded"&&y.state!=="errored")return!1}}return!0}removeSource(g){return this.style.removeSource(g),this._update(!0)}getSource(g){return this.style.getSource(g)}addImage(g,i,h={}){const{pixelRatio:p=1,sdf:y=!1,stretchX:b,stretchY:T,content:k,textFitWidth:R,textFitHeight:B}=h;if(this._lazyInitEmptyStyle(),!(i instanceof HTMLImageElement||l.b(i))){if(i.width===void 0||i.height===void 0)return this.fire(new l.j(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:H,height:q,data:te}=i,se=i;return this.style.addImage(g,{data:new l.R({width:H,height:q},new Uint8Array(te)),pixelRatio:p,stretchX:b,stretchY:T,content:k,textFitWidth:R,textFitHeight:B,sdf:y,version:0,userImage:se}),se.onAdd&&se.onAdd(this,g),this}}{const{width:H,height:q,data:te}=w.getImageData(i);this.style.addImage(g,{data:new l.R({width:H,height:q},te),pixelRatio:p,stretchX:b,stretchY:T,content:k,textFitWidth:R,textFitHeight:B,sdf:y,version:0})}}updateImage(g,i){const h=this.style.getImage(g);if(!h)return this.fire(new l.j(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const p=i instanceof HTMLImageElement||l.b(i)?w.getImageData(i):i,{width:y,height:b,data:T}=p;if(y===void 0||b===void 0)return this.fire(new l.j(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(y!==h.data.width||b!==h.data.height)return this.fire(new l.j(new Error("The width and height of the updated image must be that same as the previous version of the image")));const k=!(i instanceof HTMLImageElement||l.b(i));return h.data.replace(T,k),this.style.updateImage(g,h),this}getImage(g){return this.style.getImage(g)}hasImage(g){return g?!!this.style.getImage(g):(this.fire(new l.j(new Error("Missing required image id"))),!1)}removeImage(g){this.style.removeImage(g)}loadImage(g){return V.getImage(this._requestManager.transformRequest(g,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(g,i){return this._lazyInitEmptyStyle(),this.style.addLayer(g,i),this._update(!0)}moveLayer(g,i){return this.style.moveLayer(g,i),this._update(!0)}removeLayer(g){return this.style.removeLayer(g),this._update(!0)}getLayer(g){return this.style.getLayer(g)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(g,i,h){return this.style.setLayerZoomRange(g,i,h),this._update(!0)}setFilter(g,i,h={}){return this.style.setFilter(g,i,h),this._update(!0)}getFilter(g){return this.style.getFilter(g)}setPaintProperty(g,i,h,p={}){return this.style.setPaintProperty(g,i,h,p),this._update(!0)}getPaintProperty(g,i){return this.style.getPaintProperty(g,i)}setLayoutProperty(g,i,h,p={}){return this.style.setLayoutProperty(g,i,h,p),this._update(!0)}getLayoutProperty(g,i){return this.style.getLayoutProperty(g,i)}setGlyphs(g,i={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(g,i),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(g,i,h={}){return this._lazyInitEmptyStyle(),this.style.addSprite(g,i,h,p=>{p||this._update(!0)}),this}removeSprite(g){return this._lazyInitEmptyStyle(),this.style.removeSprite(g),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(g,i={}){return this._lazyInitEmptyStyle(),this.style.setSprite(g,i,h=>{h||this._update(!0)}),this}setLight(g,i={}){return this._lazyInitEmptyStyle(),this.style.setLight(g,i),this._update(!0)}getLight(){return this.style.getLight()}setSky(g){return this._lazyInitEmptyStyle(),this.style.setSky(g),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(g,i){return this.style.setFeatureState(g,i),this._update()}removeFeatureState(g,i){return this.style.removeFeatureState(g,i),this._update()}getFeatureState(g){return this.style.getFeatureState(g)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let g=0,i=0;return this._container&&(g=this._container.clientWidth||400,i=this._container.clientHeight||300),[g,i]}_setupContainer(){const g=this._container;g.classList.add("maplibregl-map");const i=this._canvasContainer=C.create("div","maplibregl-canvas-container",g);this._interactive&&i.classList.add("maplibregl-interactive"),this._canvas=C.create("canvas","maplibregl-canvas",i),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");const h=this._containerDimensions(),p=this._getClampedPixelRatio(h[0],h[1]);this._resizeCanvas(h[0],h[1],p);const y=this._controlContainer=C.create("div","maplibregl-control-container",g),b=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(T=>{b[T]=C.create("div",`maplibregl-ctrl-${T} `,y)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(g,i,h){this._canvas.width=Math.floor(h*g),this._canvas.height=Math.floor(h*i),this._canvas.style.width=`${g}px`,this._canvas.style.height=`${i}px`}_setupPainter(){const g={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let i=null;this._canvas.addEventListener("webglcontextcreationerror",p=>{i={requestedAttributes:g},p&&(i.statusMessage=p.statusMessage,i.type=p.type)},{once:!0});const h=this._canvas.getContext("webgl2",g)||this._canvas.getContext("webgl",g);if(!h){const p="Failed to initialize WebGL";throw i?(i.message=p,new Error(JSON.stringify(i))):new Error(p)}this.painter=new Zn(h,this.transform),P.testSupport(h)}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(g){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||g,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(g){return this._update(),this._renderTaskQueue.add(g)}_cancelRenderFrame(g){this._renderTaskQueue.remove(g)}_render(g){const i=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(g),this._removed)return;let h=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const y=this.transform.zoom,b=w.now();this.style.zoomHistory.update(y,b);const T=new l.z(y,{now:b,fadeDuration:i,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),k=T.crossFadingFactor();k===1&&k===this._crossFadingFactor||(h=!0,this._crossFadingFactor=k),this.style.update(T)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.minElevationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,i,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:i,showPadding:this.showPadding}),this.fire(new l.k("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,l.bf.mark(l.bg.load),this.fire(new l.k("load"))),this.style&&(this.style.hasTransitions()||h)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const p=this._sourcesDirty||this._styleDirty||this._placementDirty;return p||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new l.k("idle")),!this._loaded||this._fullyLoaded||p||(this._fullyLoaded=!0,l.bf.mark(l.bg.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var g;this._hash&&this._hash.remove();for(const h of this._controls)h.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),V.removeThrottleControl(this._imageQueueHandle),(g=this._resizeObserver)===null||g===void 0||g.disconnect();const i=this.painter.context.gl.getExtension("WEBGL_lose_context");i!=null&&i.loseContext&&i.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),C.remove(this._canvasContainer),C.remove(this._controlContainer),this._container.classList.remove("maplibregl-map"),l.bf.clearMetrics(),this._removed=!0,this.fire(new l.k("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,w.frameAsync(this._frameRequest).then(g=>{l.bf.frame(g),this._frameRequest=null,this._render(g)}).catch(()=>{}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(g){this._showTileBoundaries!==g&&(this._showTileBoundaries=g,this._update())}get showPadding(){return!!this._showPadding}set showPadding(g){this._showPadding!==g&&(this._showPadding=g,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(g){this._showCollisionBoxes!==g&&(this._showCollisionBoxes=g,g?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(g){this._showOverdrawInspector!==g&&(this._showOverdrawInspector=g,this._update())}get repaint(){return!!this._repaint}set repaint(g){this._repaint!==g&&(this._repaint=g,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(g){this._vertices=g,this._update()}get version(){return Zh}getCameraTargetElevation(){return this.transform.elevation}},u.MapMouseEvent=Ei,u.MapTouchEvent=Gi,u.MapWheelEvent=ns,u.Marker=Wd,u.NavigationControl=class{constructor(g){this._updateZoomButtons=()=>{const i=this._map.getZoom(),h=i===this._map.getMaxZoom(),p=i===this._map.getMinZoom();this._zoomInButton.disabled=h,this._zoomOutButton.disabled=p,this._zoomInButton.setAttribute("aria-disabled",h.toString()),this._zoomOutButton.setAttribute("aria-disabled",p.toString())},this._rotateCompassArrow=()=>{const i=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=i},this._setButtonTitle=(i,h)=>{const p=this._map._getUIString(`NavigationControl.${h}`);i.title=p,i.setAttribute("aria-label",p)},this.options=l.e({},tp,g),this._container=C.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",i=>i.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",i=>this._map.zoomIn({},{originalEvent:i})),C.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",i=>this._map.zoomOut({},{originalEvent:i})),C.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",i=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:i}):this._map.resetNorth({},{originalEvent:i})}),this._compassIcon=C.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(g){return this._map=g,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new gm(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){C.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(g,i){const h=C.create("button",g,this._container);return h.type="button",h.addEventListener("click",i),h}},u.Popup=class extends l.E{constructor(g){super(),this.remove=()=>(this._content&&C.remove(this._content),this._container&&(C.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new l.k("close"))),this),this._onMouseUp=i=>{this._update(i.point)},this._onMouseMove=i=>{this._update(i.point)},this._onDrag=i=>{this._update(i.point)},this._update=i=>{var h;if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=C.create("div","maplibregl-popup",this._map.getContainer()),this._tip=C.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const k of this.options.className.split(" "))this._container.classList.add(k);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=this._map.transform.renderWorldCopies&&!this._trackPointer?yi(this._lngLat,this._flatPos,this._map.transform):(h=this._lngLat)===null||h===void 0?void 0:h.wrap(),this._trackPointer&&!i)return;const p=this._flatPos=this._pos=this._trackPointer&&i?i:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&i?i:this._map.transform.locationPoint(this._lngLat));let y=this.options.anchor;const b=A(this.options.offset);if(!y){const k=this._container.offsetWidth,R=this._container.offsetHeight;let B;B=p.y+b.bottom.y<R?["top"]:p.y>this._map.transform.height-R?["bottom"]:[],p.x<k/2?B.push("left"):p.x>this._map.transform.width-k/2&&B.push("right"),y=B.length===0?"bottom":B.join("-")}let T=p.add(b[y]);this.options.subpixelPositioning||(T=T.round()),C.setTransform(this._container,`${nh[y]} translate(${T.x}px,${T.y}px)`),Gd(this._container,y,"popup")},this._onClose=()=>{this.remove()},this.options=l.e(Object.create(Gr),g)}addTo(g){return this._map&&this.remove(),this._map=g,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new l.k("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(g){return this._lngLat=l.N.convert(g),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(g){return this.setDOMContent(document.createTextNode(g))}setHTML(g){const i=document.createDocumentFragment(),h=document.createElement("body");let p;for(h.innerHTML=g;p=h.firstChild,p;)i.appendChild(p);return this.setDOMContent(i)}getMaxWidth(){var g;return(g=this._container)===null||g===void 0?void 0:g.style.maxWidth}setMaxWidth(g){return this.options.maxWidth=g,this._update(),this}setDOMContent(g){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=C.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(g),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(g){return this._container&&this._container.classList.add(g),this}removeClassName(g){return this._container&&this._container.classList.remove(g),this}setOffset(g){return this.options.offset=g,this._update(),this}toggleClassName(g){if(this._container)return this._container.classList.toggle(g)}setSubpixelPositioning(g){this.options.subpixelPositioning=g}_createCloseButton(){this.options.closeButton&&(this._closeButton=C.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const g=this._container.querySelector(Qh);g&&g.focus()}},u.RasterDEMTileSource=Pt,u.RasterTileSource=bt,u.ScaleControl=class{constructor(g){this._onMove=()=>{Nu(this._map,this._container,this.options)},this.setUnit=i=>{this.options.unit=i,Nu(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},tl),g)}getDefaultPosition(){return"bottom-left"}onAdd(g){return this._map=g,this._container=C.create("div","maplibregl-ctrl maplibregl-ctrl-scale",g.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){C.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},u.ScrollZoomHandler=is,u.Style=wo,u.TerrainControl=class{constructor(g){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=g}onAdd(g){return this._map=g,this._container=C.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=C.create("button","maplibregl-ctrl-terrain",this._container),C.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){C.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},u.TwoFingersTouchPitchHandler=eh,u.TwoFingersTouchRotateHandler=Xf,u.TwoFingersTouchZoomHandler=Wh,u.TwoFingersTouchZoomRotateHandler=Yf,u.VectorTileSource=Kt,u.VideoSource=ir,u.addSourceType=(g,i)=>l._(void 0,void 0,void 0,function*(){if(Vr(g))throw new Error(`A source type called "${g}" already exists.`);((h,p)=>{Pr[h]=p})(g,i)}),u.clearPrewarmedResources=function(){const g=tt;g&&(g.isPreloaded()&&g.numActive()===1?(g.release(we),tt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},u.getMaxParallelImageRequests=function(){return l.a.MAX_PARALLEL_IMAGE_REQUESTS},u.getRTLTextPluginStatus=function(){return Lt().getRTLTextPluginStatus()},u.getVersion=function(){return L},u.getWorkerCount=function(){return Ie.workerCount},u.getWorkerUrl=function(){return l.a.WORKER_URL},u.importScriptInWorkers=function(g){return pt().broadcast("IS",g)},u.prewarm=function(){qe().acquire(we)},u.setMaxParallelImageRequests=function(g){l.a.MAX_PARALLEL_IMAGE_REQUESTS=g},u.setRTLTextPlugin=function(g,i){return Lt().setRTLTextPlugin(g,i)},u.setWorkerCount=function(g){Ie.workerCount=g},u.setWorkerUrl=function(g){l.a.WORKER_URL=g}});var s=r;return s})})(oN);var VV=oN.exports;function Su(e){let t="https://mui.com/production-error/?code="+e;for(let r=1;r<arguments.length;r+=1)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}const Wp="$$material";function Ve(){return Ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ve.apply(this,arguments)}function tn(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,s;for(s=0;s<n.length;s++)o=n[s],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function lv(){return lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lv.apply(this,arguments)}function Wv(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var qV=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,HV=Wv(function(e){return qV.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function GV(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function WV(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var XV=function(){function e(r){var n=this;this._insertTag=function(o){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(o,s),n.tags.push(o)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(WV(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var s=GV(o);try{s.insertRule(n,s.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},e}(),di="-ms-",Ff="-moz-",qr="-webkit-",sN="comm",Px="rule",kx="decl",KV="@import",DE="@keyframes",ZV="@layer",YV=Math.abs,Xv=String.fromCharCode,JV=Object.assign;function lN(e,t){return _o(e,0)^45?(((t<<2^_o(e,0))<<2^_o(e,1))<<2^_o(e,2))<<2^_o(e,3):0}function uN(e){return e.trim()}function cN(e,t){return(e=t.exec(e))?e[0]:e}function Qr(e,t,r){return e.replace(t,r)}function uv(e,t){return e.indexOf(t)}function _o(e,t){return e.charCodeAt(t)|0}function cv(e,t,r){return e.slice(t,r)}function Ju(e){return e.length}function RE(e){return e.length}function nb(e,t){return t.push(e),e}function hN(e,t){return e.map(t).join("")}var Ix=1,Ig=1,dN=0,Hs=0,_a=0,Vg="";function Lx(e,t,r,n,o,s,u){return{value:e,root:t,parent:r,type:n,props:o,children:s,line:Ix,column:Ig,length:u,return:""}}function kh(e,t){return JV(Lx("",null,null,"",null,null,0),e,{length:-e.length},t)}function QV(){return _a}function eq(){return _a=Hs>0?_o(Vg,--Hs):0,Ig--,_a===10&&(Ig=1,Ix--),_a}function hl(){return _a=Hs<dN?_o(Vg,Hs++):0,Ig++,_a===10&&(Ig=1,Ix++),_a}function xu(){return _o(Vg,Hs)}function Gb(){return Hs}function qg(e,t){return cv(Vg,e,t)}function Xp(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function OE(e){return Ix=Ig=1,dN=Ju(Vg=e),Hs=0,[]}function NE(e){return Vg="",e}function L1(e){return uN(qg(Hs-1,fC(e===91?e+2:e===40?e+1:e)))}function tq(e){for(;(_a=xu())&&_a<33;)hl();return Xp(e)>2||Xp(_a)>3?"":" "}function rq(e,t){for(;--t&&hl()&&!(_a<48||_a>102||_a>57&&_a<65||_a>70&&_a<97););return qg(e,Gb()+(t<6&&xu()==32&&hl()==32))}function fC(e){for(;hl();)switch(_a){case e:return Hs;case 34:case 39:e!==34&&e!==39&&fC(_a);break;case 40:e===41&&fC(e);break;case 92:hl();break}return Hs}function nq(e,t){for(;hl()&&e+_a!==57;)if(e+_a===84&&xu()===47)break;return"/*"+qg(t,Hs-1)+"*"+Xv(e===47?e:hl())}function iq(e){for(;!Xp(xu());)hl();return qg(e,Hs)}function fN(e){return NE(Wb("",null,null,null,[""],e=OE(e),0,[0],e))}function Wb(e,t,r,n,o,s,u,l,f){for(var v=0,x=0,w=u,C=0,P=0,O=0,I=1,z=1,N=1,j=0,V="",W=o,re=s,ie=n,J=V;z;)switch(O=j,j=hl()){case 40:if(O!=108&&_o(J,w-1)==58){uv(J+=Qr(L1(j),"&","&\f"),"&\f")!=-1&&(N=-1);break}case 34:case 39:case 91:J+=L1(j);break;case 9:case 10:case 13:case 32:J+=tq(O);break;case 92:J+=rq(Gb()-1,7);continue;case 47:switch(xu()){case 42:case 47:nb(oq(nq(hl(),Gb()),t,r),f);break;default:J+="/"}break;case 123*I:l[v++]=Ju(J)*N;case 125*I:case 59:case 0:switch(j){case 0:case 125:z=0;case 59+x:N==-1&&(J=Qr(J,/\f/g,"")),P>0&&Ju(J)-w&&nb(P>32?JI(J+";",n,r,w-1):JI(Qr(J," ","")+";",n,r,w-2),f);break;case 59:J+=";";default:if(nb(ie=YI(J,t,r,v,x,o,l,V,W=[],re=[],w),s),j===123)if(x===0)Wb(J,t,ie,ie,W,s,w,l,re);else switch(C===99&&_o(J,3)===110?100:C){case 100:case 108:case 109:case 115:Wb(e,ie,ie,n&&nb(YI(e,ie,ie,0,0,o,l,V,o,W=[],w),re),o,re,w,l,n?W:re);break;default:Wb(J,ie,ie,ie,[""],re,0,l,re)}}v=x=P=0,I=N=1,V=J="",w=u;break;case 58:w=1+Ju(J),P=O;default:if(I<1){if(j==123)--I;else if(j==125&&I++==0&&eq()==125)continue}switch(J+=Xv(j),j*I){case 38:N=x>0?1:(J+="\f",-1);break;case 44:l[v++]=(Ju(J)-1)*N,N=1;break;case 64:xu()===45&&(J+=L1(hl())),C=xu(),x=w=Ju(V=J+=iq(Gb())),j++;break;case 45:O===45&&Ju(J)==2&&(I=0)}}return s}function YI(e,t,r,n,o,s,u,l,f,v,x){for(var w=o-1,C=o===0?s:[""],P=RE(C),O=0,I=0,z=0;O<n;++O)for(var N=0,j=cv(e,w+1,w=YV(I=u[O])),V=e;N<P;++N)(V=uN(I>0?C[N]+" "+j:Qr(j,/&\f/g,C[N])))&&(f[z++]=V);return Lx(e,t,r,o===0?Px:l,f,v,x)}function oq(e,t,r){return Lx(e,t,r,sN,Xv(QV()),cv(e,2,-2),0)}function JI(e,t,r,n){return Lx(e,t,r,kx,cv(e,0,n),cv(e,n+1,-1),n)}function Dh(e,t){for(var r="",n=RE(e),o=0;o<n;o++)r+=t(e[o],o,e,t)||"";return r}function pN(e,t,r,n){switch(e.type){case ZV:if(e.children.length)break;case KV:case kx:return e.return=e.return||e.value;case sN:return"";case DE:return e.return=e.value+"{"+Dh(e.children,n)+"}";case Px:e.value=e.props.join(",")}return Ju(r=Dh(e.children,n))?e.return=e.value+"{"+r+"}":""}function mN(e){var t=RE(e);return function(r,n,o,s){for(var u="",l=0;l<t;l++)u+=e[l](r,n,o,s)||"";return u}}function gN(e){return function(t){t.root||(t=t.return)&&e(t)}}var aq=function(t,r,n){for(var o=0,s=0;o=s,s=xu(),o===38&&s===12&&(r[n]=1),!Xp(s);)hl();return qg(t,Hs)},sq=function(t,r){var n=-1,o=44;do switch(Xp(o)){case 0:o===38&&xu()===12&&(r[n]=1),t[n]+=aq(Hs-1,r,n);break;case 2:t[n]+=L1(o);break;case 4:if(o===44){t[++n]=xu()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=Xv(o)}while(o=hl());return t},lq=function(t,r){return NE(sq(OE(t),r))},QI=new WeakMap,uq=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,o=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!QI.get(n))&&!o){QI.set(t,!0);for(var s=[],u=lq(r,s),l=n.props,f=0,v=0;f<u.length;f++)for(var x=0;x<l.length;x++,v++)t.props[v]=s[f]?u[f].replace(/&\f/g,l[x]):l[x]+" "+u[f]}}},cq=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function yN(e,t){switch(lN(e,t)){case 5103:return qr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return qr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return qr+e+Ff+e+di+e+e;case 6828:case 4268:return qr+e+di+e+e;case 6165:return qr+e+di+"flex-"+e+e;case 5187:return qr+e+Qr(e,/(\w+).+(:[^]+)/,qr+"box-$1$2"+di+"flex-$1$2")+e;case 5443:return qr+e+di+"flex-item-"+Qr(e,/flex-|-self/,"")+e;case 4675:return qr+e+di+"flex-line-pack"+Qr(e,/align-content|flex-|-self/,"")+e;case 5548:return qr+e+di+Qr(e,"shrink","negative")+e;case 5292:return qr+e+di+Qr(e,"basis","preferred-size")+e;case 6060:return qr+"box-"+Qr(e,"-grow","")+qr+e+di+Qr(e,"grow","positive")+e;case 4554:return qr+Qr(e,/([^-])(transform)/g,"$1"+qr+"$2")+e;case 6187:return Qr(Qr(Qr(e,/(zoom-|grab)/,qr+"$1"),/(image-set)/,qr+"$1"),e,"")+e;case 5495:case 3959:return Qr(e,/(image-set\([^]*)/,qr+"$1$`$1");case 4968:return Qr(Qr(e,/(.+:)(flex-)?(.*)/,qr+"box-pack:$3"+di+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+qr+e+e;case 4095:case 3583:case 4068:case 2532:return Qr(e,/(.+)-inline(.+)/,qr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ju(e)-1-t>6)switch(_o(e,t+1)){case 109:if(_o(e,t+4)!==45)break;case 102:return Qr(e,/(.+:)(.+)-([^]+)/,"$1"+qr+"$2-$3$1"+Ff+(_o(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~uv(e,"stretch")?yN(Qr(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(_o(e,t+1)!==115)break;case 6444:switch(_o(e,Ju(e)-3-(~uv(e,"!important")&&10))){case 107:return Qr(e,":",":"+qr)+e;case 101:return Qr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+qr+(_o(e,14)===45?"inline-":"")+"box$3$1"+qr+"$2$3$1"+di+"$2box$3")+e}break;case 5936:switch(_o(e,t+11)){case 114:return qr+e+di+Qr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return qr+e+di+Qr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return qr+e+di+Qr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return qr+e+di+e+e}return e}var hq=function(t,r,n,o){if(t.length>-1&&!t.return)switch(t.type){case kx:t.return=yN(t.value,t.length);break;case DE:return Dh([kh(t,{value:Qr(t.value,"@","@"+qr)})],o);case Px:if(t.length)return hN(t.props,function(s){switch(cN(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Dh([kh(t,{props:[Qr(s,/:(read-\w+)/,":"+Ff+"$1")]})],o);case"::placeholder":return Dh([kh(t,{props:[Qr(s,/:(plac\w+)/,":"+qr+"input-$1")]}),kh(t,{props:[Qr(s,/:(plac\w+)/,":"+Ff+"$1")]}),kh(t,{props:[Qr(s,/:(plac\w+)/,di+"input-$1")]})],o)}return""})}},dq=[hq],vN=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(I){var z=I.getAttribute("data-emotion");z.indexOf(" ")!==-1&&(document.head.appendChild(I),I.setAttribute("data-s",""))})}var o=t.stylisPlugins||dq,s={},u,l=[];u=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(I){for(var z=I.getAttribute("data-emotion").split(" "),N=1;N<z.length;N++)s[z[N]]=!0;l.push(I)});var f,v=[uq,cq];{var x,w=[pN,gN(function(I){x.insert(I)})],C=mN(v.concat(o,w)),P=function(z){return Dh(fN(z),C)};f=function(z,N,j,V){x=j,P(z?z+"{"+N.styles+"}":N.styles),V&&(O.inserted[N.name]=!0)}}var O={key:r,sheet:new XV({key:r,container:u,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:f};return O.sheet.hydrate(l),O},bN={exports:{}},Oi={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Za=typeof Symbol=="function"&&Symbol.for,FE=Za?Symbol.for("react.element"):60103,$E=Za?Symbol.for("react.portal"):60106,Mx=Za?Symbol.for("react.fragment"):60107,Dx=Za?Symbol.for("react.strict_mode"):60108,Rx=Za?Symbol.for("react.profiler"):60114,Ox=Za?Symbol.for("react.provider"):60109,Nx=Za?Symbol.for("react.context"):60110,BE=Za?Symbol.for("react.async_mode"):60111,Fx=Za?Symbol.for("react.concurrent_mode"):60111,$x=Za?Symbol.for("react.forward_ref"):60112,Bx=Za?Symbol.for("react.suspense"):60113,fq=Za?Symbol.for("react.suspense_list"):60120,zx=Za?Symbol.for("react.memo"):60115,jx=Za?Symbol.for("react.lazy"):60116,pq=Za?Symbol.for("react.block"):60121,mq=Za?Symbol.for("react.fundamental"):60117,gq=Za?Symbol.for("react.responder"):60118,yq=Za?Symbol.for("react.scope"):60119;function Pu(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case FE:switch(e=e.type,e){case BE:case Fx:case Mx:case Rx:case Dx:case Bx:return e;default:switch(e=e&&e.$$typeof,e){case Nx:case $x:case jx:case zx:case Ox:return e;default:return t}}case $E:return t}}}function _N(e){return Pu(e)===Fx}Oi.AsyncMode=BE;Oi.ConcurrentMode=Fx;Oi.ContextConsumer=Nx;Oi.ContextProvider=Ox;Oi.Element=FE;Oi.ForwardRef=$x;Oi.Fragment=Mx;Oi.Lazy=jx;Oi.Memo=zx;Oi.Portal=$E;Oi.Profiler=Rx;Oi.StrictMode=Dx;Oi.Suspense=Bx;Oi.isAsyncMode=function(e){return _N(e)||Pu(e)===BE};Oi.isConcurrentMode=_N;Oi.isContextConsumer=function(e){return Pu(e)===Nx};Oi.isContextProvider=function(e){return Pu(e)===Ox};Oi.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===FE};Oi.isForwardRef=function(e){return Pu(e)===$x};Oi.isFragment=function(e){return Pu(e)===Mx};Oi.isLazy=function(e){return Pu(e)===jx};Oi.isMemo=function(e){return Pu(e)===zx};Oi.isPortal=function(e){return Pu(e)===$E};Oi.isProfiler=function(e){return Pu(e)===Rx};Oi.isStrictMode=function(e){return Pu(e)===Dx};Oi.isSuspense=function(e){return Pu(e)===Bx};Oi.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Mx||e===Fx||e===Rx||e===Dx||e===Bx||e===fq||typeof e=="object"&&e!==null&&(e.$$typeof===jx||e.$$typeof===zx||e.$$typeof===Ox||e.$$typeof===Nx||e.$$typeof===$x||e.$$typeof===mq||e.$$typeof===gq||e.$$typeof===yq||e.$$typeof===pq)};Oi.typeOf=Pu;bN.exports=Oi;var vq=bN.exports,xN=vq,bq={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},_q={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},wN={};wN[xN.ForwardRef]=bq;wN[xN.Memo]=_q;var xq=!0;function SN(e,t,r){var n="";return r.split(" ").forEach(function(o){e[o]!==void 0?t.push(e[o]+";"):n+=o+" "}),n}var zE=function(t,r,n){var o=t.key+"-"+r.name;(n===!1||xq===!1)&&t.registered[o]===void 0&&(t.registered[o]=r.styles)},jE=function(t,r,n){zE(t,r,n);var o=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var s=r;do t.insert(r===s?"."+o:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function UE(e){for(var t=0,r,n=0,o=e.length;o>=4;++n,o-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(o){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var VE={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},wq=/[A-Z]|^ms/g,Sq=/_EMO_([^_]+?)_([^]*?)_EMO_/g,CN=function(t){return t.charCodeAt(1)===45},e6=function(t){return t!=null&&typeof t!="boolean"},ES=Wv(function(e){return CN(e)?e:e.replace(wq,"-$&").toLowerCase()}),t6=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(Sq,function(n,o,s){return Sh={name:o,styles:s,next:Sh},o})}return VE[t]!==1&&!CN(t)&&typeof r=="number"&&r!==0?r+"px":r};function hv(e,t,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return Sh={name:r.name,styles:r.styles,next:Sh},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)Sh={name:n.name,styles:n.styles,next:Sh},n=n.next;var o=r.styles+";";return o}return Cq(e,t,r)}case"function":{if(e!==void 0){var s=Sh,u=r(e);return Sh=s,hv(e,t,u)}break}}return r}function Cq(e,t,r){var n="";if(Array.isArray(r))for(var o=0;o<r.length;o++)n+=hv(e,t,r[o])+";";else for(var s in r){var u=r[s];if(typeof u!="object")e6(u)&&(n+=ES(s)+":"+t6(s,u)+";");else if(Array.isArray(u)&&typeof u[0]=="string"&&t==null)for(var l=0;l<u.length;l++)e6(u[l])&&(n+=ES(s)+":"+t6(s,u[l])+";");else{var f=hv(e,t,u);switch(s){case"animation":case"animationName":{n+=ES(s)+":"+f+";";break}default:n+=s+"{"+f+"}"}}}return n}var r6=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Sh,AN=function(t,r,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var o=!0,s="";Sh=void 0;var u=t[0];u==null||u.raw===void 0?(o=!1,s+=hv(n,r,u)):s+=u[0];for(var l=1;l<t.length;l++)s+=hv(n,r,t[l]),o&&(s+=u[l]);r6.lastIndex=0;for(var f="",v;(v=r6.exec(s))!==null;)f+="-"+v[1];var x=UE(s)+f;return{name:x,styles:s,next:Sh}},Aq=function(t){return t()},EN=q1.useInsertionEffect?q1.useInsertionEffect:!1,TN=EN||Aq,n6=EN||Q.useLayoutEffect,PN=Q.createContext(typeof HTMLElement<"u"?vN({key:"css"}):null);PN.Provider;var kN=function(t){return Q.forwardRef(function(r,n){var o=Q.useContext(PN);return t(r,o,n)})},Ux=Q.createContext({}),IN=kN(function(e,t){var r=e.styles,n=AN([r],void 0,Q.useContext(Ux)),o=Q.useRef();return n6(function(){var s=t.key+"-global",u=new t.sheet.constructor({key:s,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),l=!1,f=document.querySelector('style[data-emotion="'+s+" "+n.name+'"]');return t.sheet.tags.length&&(u.before=t.sheet.tags[0]),f!==null&&(l=!0,f.setAttribute("data-emotion",s),u.hydrate([f])),o.current=[u,l],function(){u.flush()}},[t]),n6(function(){var s=o.current,u=s[0],l=s[1];if(l){s[1]=!1;return}if(n.next!==void 0&&jE(t,n.next,!0),u.tags.length){var f=u.tags[u.tags.length-1].nextElementSibling;u.before=f,u.flush()}t.insert("",n,u,!1)},[t,n.name]),null});function Eq(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return AN(t)}var qE=function(){var t=Eq.apply(void 0,arguments),r="animation-"+t.name;return{name:r,styles:"@keyframes "+r+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Tq=/[A-Z]|^ms/g,Pq=/_EMO_([^_]+?)_([^]*?)_EMO_/g,LN=function(t){return t.charCodeAt(1)===45},i6=function(t){return t!=null&&typeof t!="boolean"},TS=Wv(function(e){return LN(e)?e:e.replace(Tq,"-$&").toLowerCase()}),o6=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(Pq,function(n,o,s){return Ch={name:o,styles:s,next:Ch},o})}return VE[t]!==1&&!LN(t)&&typeof r=="number"&&r!==0?r+"px":r};function dv(e,t,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return Ch={name:r.name,styles:r.styles,next:Ch},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)Ch={name:n.name,styles:n.styles,next:Ch},n=n.next;var o=r.styles+";";return o}return kq(e,t,r)}case"function":{if(e!==void 0){var s=Ch,u=r(e);return Ch=s,dv(e,t,u)}break}}if(t==null)return r;var l=t[r];return l!==void 0?l:r}function kq(e,t,r){var n="";if(Array.isArray(r))for(var o=0;o<r.length;o++)n+=dv(e,t,r[o])+";";else for(var s in r){var u=r[s];if(typeof u!="object")t!=null&&t[u]!==void 0?n+=s+"{"+t[u]+"}":i6(u)&&(n+=TS(s)+":"+o6(s,u)+";");else if(Array.isArray(u)&&typeof u[0]=="string"&&(t==null||t[u[0]]===void 0))for(var l=0;l<u.length;l++)i6(u[l])&&(n+=TS(s)+":"+o6(s,u[l])+";");else{var f=dv(e,t,u);switch(s){case"animation":case"animationName":{n+=TS(s)+":"+f+";";break}default:n+=s+"{"+f+"}"}}}return n}var a6=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ch,Iq=function(t,r,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var o=!0,s="";Ch=void 0;var u=t[0];u==null||u.raw===void 0?(o=!1,s+=dv(n,r,u)):s+=u[0];for(var l=1;l<t.length;l++)s+=dv(n,r,t[l]),o&&(s+=u[l]);a6.lastIndex=0;for(var f="",v;(v=a6.exec(s))!==null;)f+="-"+v[1];var x=UE(s)+f;return{name:x,styles:s,next:Ch}},Lq=HV,Mq=function(t){return t!=="theme"},s6=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?Lq:Mq},l6=function(t,r,n){var o;if(r){var s=r.shouldForwardProp;o=t.__emotion_forwardProp&&s?function(u){return t.__emotion_forwardProp(u)&&s(u)}:s}return typeof o!="function"&&n&&(o=t.__emotion_forwardProp),o},Dq=function(t){var r=t.cache,n=t.serialized,o=t.isStringTag;return zE(r,n,o),TN(function(){return jE(r,n,o)}),null},Rq=function e(t,r){var n=t.__emotion_real===t,o=n&&t.__emotion_base||t,s,u;r!==void 0&&(s=r.label,u=r.target);var l=l6(t,r,n),f=l||s6(o),v=!f("as");return function(){var x=arguments,w=n&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(s!==void 0&&w.push("label:"+s+";"),x[0]==null||x[0].raw===void 0)w.push.apply(w,x);else{w.push(x[0][0]);for(var C=x.length,P=1;P<C;P++)w.push(x[P],x[0][P])}var O=kN(function(I,z,N){var j=v&&I.as||o,V="",W=[],re=I;if(I.theme==null){re={};for(var ie in I)re[ie]=I[ie];re.theme=Q.useContext(Ux)}typeof I.className=="string"?V=SN(z.registered,W,I.className):I.className!=null&&(V=I.className+" ");var J=Iq(w.concat(W),z.registered,re);V+=z.key+"-"+J.name,u!==void 0&&(V+=" "+u);var ne=v&&l===void 0?s6(j):f,Ae={};for(var Z in I)v&&Z==="as"||ne(Z)&&(Ae[Z]=I[Z]);return Ae.className=V,Ae.ref=N,Q.createElement(Q.Fragment,null,Q.createElement(Dq,{cache:z,serialized:J,isStringTag:typeof j=="string"}),Q.createElement(j,Ae))});return O.displayName=s!==void 0?s:"Styled("+(typeof o=="string"?o:o.displayName||o.name||"Component")+")",O.defaultProps=t.defaultProps,O.__emotion_real=O,O.__emotion_base=o,O.__emotion_styles=w,O.__emotion_forwardProp=l,Object.defineProperty(O,"toString",{value:function(){return"."+u}}),O.withComponent=function(I,z){return e(I,lv({},r,z,{shouldForwardProp:l6(O,z,!0)})).apply(void 0,w)},O}},Oq=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],pC=Rq.bind();Oq.forEach(function(e){pC[e]=pC(e)});var MN={exports:{}},Nq="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Fq=Nq,$q=Fq;function DN(){}function RN(){}RN.resetWarningCache=DN;var Bq=function(){function e(n,o,s,u,l,f){if(f!==$q){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:RN,resetWarningCache:DN};return r.PropTypes=r,r};MN.exports=Bq();var zq=MN.exports;const er=$A(zq);function jq(e){return e==null||Object.keys(e).length===0}function Uq(e){const{styles:t,defaultTheme:r={}}=e,n=typeof t=="function"?o=>t(jq(o)?r:o):t;return ut.jsx(IN,{styles:n})}function ON(e,t){return pC(e,t)}const Vq=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))};function eo(){return eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eo.apply(this,arguments)}function Kp(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,s;for(s=0;s<n.length;s++)o=n[s],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function K0(){return K0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K0.apply(this,arguments)}function gd(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function NN(e){if(!gd(e))return e;const t={};return Object.keys(e).forEach(r=>{t[r]=NN(e[r])}),t}function wa(e,t,r={clone:!0}){const n=r.clone?K0({},e):e;return gd(e)&&gd(t)&&Object.keys(t).forEach(o=>{o!=="__proto__"&&(gd(t[o])&&o in e&&gd(e[o])?n[o]=wa(e[o],t[o],r):r.clone?n[o]=gd(t[o])?NN(t[o]):t[o]:n[o]=t[o])}),n}function Rr(e){if(typeof e!="string")throw new Error(Su(7));return e.charAt(0).toUpperCase()+e.slice(1)}function mC(...e){return e.reduce((t,r)=>r==null?t:function(...o){t.apply(this,o),r.apply(this,o)},()=>{})}function Vx(e,t=166){let r;function n(...o){const s=()=>{e.apply(this,o)};clearTimeout(r),r=setTimeout(s,t)}return n.clear=()=>{clearTimeout(r)},n}function qq(e,t){return()=>null}function M1(e,t){var r,n;return Q.isValidElement(e)&&t.indexOf((r=e.type.muiName)!=null?r:(n=e.type)==null||(n=n._payload)==null||(n=n.value)==null?void 0:n.muiName)!==-1}function Xo(e){return e&&e.ownerDocument||document}function jl(e){return Xo(e).defaultView||window}function Hq(e,t){return()=>null}function M_(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const Cu=typeof window<"u"?Q.useLayoutEffect:Q.useEffect;let u6=0;function Gq(e){const[t,r]=Q.useState(e),n=e||t;return Q.useEffect(()=>{t==null&&(u6+=1,r(`mui-${u6}`))},[t]),n}const c6=q1.useId;function qx(e){if(c6!==void 0){const t=c6();return e??t}return Gq(e)}function Wq(e,t,r,n,o){return null}function fv({controlled:e,default:t,name:r,state:n="value"}){const{current:o}=Q.useRef(e!==void 0),[s,u]=Q.useState(t),l=o?e:s,f=Q.useCallback(v=>{o||u(v)},[]);return[l,f]}function bu(e){const t=Q.useRef(e);return Cu(()=>{t.current=e}),Q.useRef((...r)=>(0,t.current)(...r)).current}function Sa(...e){return Q.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(r=>{M_(r,t)})},e)}const h6={};function Xq(e,t){const r=Q.useRef(h6);return r.current===h6&&(r.current=e(t)),r}const Kq=[];function Zq(e){Q.useEffect(e,Kq)}let FN=class $N{constructor(){this.currentId=0,this.clear=()=>{this.currentId!==0&&(clearTimeout(this.currentId),this.currentId=0)},this.disposeEffect=()=>this.clear}static create(){return new $N}start(t,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=0,r()},t)}};function BN(){const e=Xq(FN.create).current;return Zq(e.disposeEffect),e}let Hx=!0,gC=!1;const Yq=new FN,Jq={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Qq(e){const{type:t,tagName:r}=e;return!!(r==="INPUT"&&Jq[t]&&!e.readOnly||r==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function eH(e){e.metaKey||e.altKey||e.ctrlKey||(Hx=!0)}function PS(){Hx=!1}function tH(){this.visibilityState==="hidden"&&gC&&(Hx=!0)}function rH(e){e.addEventListener("keydown",eH,!0),e.addEventListener("mousedown",PS,!0),e.addEventListener("pointerdown",PS,!0),e.addEventListener("touchstart",PS,!0),e.addEventListener("visibilitychange",tH,!0)}function nH(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return Hx||Qq(t)}function HE(){const e=Q.useCallback(o=>{o!=null&&rH(o.ownerDocument)},[]),t=Q.useRef(!1);function r(){return t.current?(gC=!0,Yq.start(100,()=>{gC=!1}),t.current=!1,!0):!1}function n(o){return nH(o)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:n,onBlur:r,ref:e}}function zN(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}const iH={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Gx(e,t){const r=K0({},t);return Object.keys(e).forEach(n=>{if(n.toString().match(/^(components|slots)$/))r[n]=K0({},e[n],r[n]);else if(n.toString().match(/^(componentsProps|slotProps)$/)){const o=e[n]||{},s=t[n];r[n]={},!s||!Object.keys(s)?r[n]=o:!o||!Object.keys(o)?r[n]=s:(r[n]=K0({},s),Object.keys(o).forEach(u=>{r[n][u]=Gx(o[u],s[u])}))}else r[n]===void 0&&(r[n]=e[n])}),r}function qn(e,t,r=void 0){const n={};return Object.keys(e).forEach(o=>{n[o]=e[o].reduce((s,u)=>{if(u){const l=t(u);l!==""&&s.push(l),r&&r[u]&&s.push(r[u])}return s},[]).join(" ")}),n}const d6=e=>e,oH=()=>{let e=d6;return{configure(t){e=t},generate(t){return e(t)},reset(){e=d6}}},Wx=oH(),aH={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function $n(e,t,r="Mui"){const n=aH[t];return n?`${r}-${n}`:`${Wx.generate(e)}-${t}`}function On(e,t,r="Mui"){const n={};return t.forEach(o=>{n[o]=$n(e,o,r)}),n}function yp(e,t=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,r))}const sH=["values","unit","step"],lH=e=>{const t=Object.keys(e).map(r=>({key:r,val:e[r]}))||[];return t.sort((r,n)=>r.val-n.val),t.reduce((r,n)=>eo({},r,{[n.key]:n.val}),{})};function uH(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5}=e,o=Kp(e,sH),s=lH(t),u=Object.keys(s);function l(C){return`@media (min-width:${typeof t[C]=="number"?t[C]:C}${r})`}function f(C){return`@media (max-width:${(typeof t[C]=="number"?t[C]:C)-n/100}${r})`}function v(C,P){const O=u.indexOf(P);return`@media (min-width:${typeof t[C]=="number"?t[C]:C}${r}) and (max-width:${(O!==-1&&typeof t[u[O]]=="number"?t[u[O]]:P)-n/100}${r})`}function x(C){return u.indexOf(C)+1<u.length?v(C,u[u.indexOf(C)+1]):l(C)}function w(C){const P=u.indexOf(C);return P===0?l(u[1]):P===u.length-1?f(u[P]):v(C,u[u.indexOf(C)+1]).replace("@media","@media not all and")}return eo({keys:u,values:s,up:l,down:f,between:v,only:x,not:w,unit:r},o)}const cH={borderRadius:4};function D1(e,t){return t?wa(e,t,{clone:!1}):e}const GE={xs:0,sm:600,md:900,lg:1200,xl:1536},f6={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${GE[e]}px)`};function sc(e,t,r){const n=e.theme||{};if(Array.isArray(t)){const s=n.breakpoints||f6;return t.reduce((u,l,f)=>(u[s.up(s.keys[f])]=r(t[f]),u),{})}if(typeof t=="object"){const s=n.breakpoints||f6;return Object.keys(t).reduce((u,l)=>{if(Object.keys(s.values||GE).indexOf(l)!==-1){const f=s.up(l);u[f]=r(t[l],l)}else{const f=l;u[f]=t[f]}return u},{})}return r(t)}function hH(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((n,o)=>{const s=e.up(o);return n[s]={},n},{}))||{}}function dH(e,t){return e.reduce((r,n)=>{const o=r[n];return(!o||Object.keys(o).length===0)&&delete r[n],r},t)}function fH(e,t){if(typeof e!="object")return{};const r={},n=Object.keys(t);return Array.isArray(e)?n.forEach((o,s)=>{s<e.length&&(r[o]=!0)}):n.forEach(o=>{e[o]!=null&&(r[o]=!0)}),r}function Xx({values:e,breakpoints:t,base:r}){const n=r||fH(e,t),o=Object.keys(n);if(o.length===0)return e;let s;return o.reduce((u,l,f)=>(Array.isArray(e)?(u[l]=e[f]!=null?e[f]:e[s],s=f):typeof e=="object"?(u[l]=e[l]!=null?e[l]:e[s],s=l):u[l]=e,u),{})}function Kx(e,t,r=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&r){const n=`vars.${t}`.split(".").reduce((o,s)=>o&&o[s]?o[s]:null,e);if(n!=null)return n}return t.split(".").reduce((n,o)=>n&&n[o]!=null?n[o]:null,e)}function D_(e,t,r,n=r){let o;return typeof e=="function"?o=e(r):Array.isArray(e)?o=e[r]||n:o=Kx(e,r)||n,t&&(o=t(o,n,e)),o}function oa(e){const{prop:t,cssProperty:r=e.prop,themeKey:n,transform:o}=e,s=u=>{if(u[t]==null)return null;const l=u[t],f=u.theme,v=Kx(f,n)||{};return sc(u,l,w=>{let C=D_(v,o,w);return w===C&&typeof w=="string"&&(C=D_(v,o,`${t}${w==="default"?"":Rr(w)}`,w)),r===!1?C:{[r]:C}})};return s.propTypes={},s.filterProps=[t],s}function pH(e){const t={};return r=>(t[r]===void 0&&(t[r]=e(r)),t[r])}const mH={m:"margin",p:"padding"},gH={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},p6={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},yH=pH(e=>{if(e.length>2)if(p6[e])e=p6[e];else return[e];const[t,r]=e.split(""),n=mH[t],o=gH[r]||"";return Array.isArray(o)?o.map(s=>n+s):[n+o]}),WE=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],XE=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...WE,...XE];function Kv(e,t,r,n){var o;const s=(o=Kx(e,t,!1))!=null?o:r;return typeof s=="number"?u=>typeof u=="string"?u:s*u:Array.isArray(s)?u=>typeof u=="string"?u:s[u]:typeof s=="function"?s:()=>{}}function jN(e){return Kv(e,"spacing",8)}function Zv(e,t){if(typeof t=="string"||t==null)return t;const r=Math.abs(t),n=e(r);return t>=0?n:typeof n=="number"?-n:`-${n}`}function vH(e,t){return r=>e.reduce((n,o)=>(n[o]=Zv(t,r),n),{})}function bH(e,t,r,n){if(t.indexOf(r)===-1)return null;const o=yH(r),s=vH(o,n),u=e[r];return sc(e,u,s)}function UN(e,t){const r=jN(e.theme);return Object.keys(e).map(n=>bH(e,t,n,r)).reduce(D1,{})}function Bo(e){return UN(e,WE)}Bo.propTypes={};Bo.filterProps=WE;function zo(e){return UN(e,XE)}zo.propTypes={};zo.filterProps=XE;function _H(e=8){if(e.mui)return e;const t=jN({spacing:e}),r=(...n)=>(n.length===0?[1]:n).map(s=>{const u=t(s);return typeof u=="number"?`${u}px`:u}).join(" ");return r.mui=!0,r}function Zx(...e){const t=e.reduce((n,o)=>(o.filterProps.forEach(s=>{n[s]=o}),n),{}),r=n=>Object.keys(n).reduce((o,s)=>t[s]?D1(o,t[s](n)):o,{});return r.propTypes={},r.filterProps=e.reduce((n,o)=>n.concat(o.filterProps),[]),r}function Qu(e){return typeof e!="number"?e:`${e}px solid`}function uc(e,t){return oa({prop:e,themeKey:"borders",transform:t})}const xH=uc("border",Qu),wH=uc("borderTop",Qu),SH=uc("borderRight",Qu),CH=uc("borderBottom",Qu),AH=uc("borderLeft",Qu),EH=uc("borderColor"),TH=uc("borderTopColor"),PH=uc("borderRightColor"),kH=uc("borderBottomColor"),IH=uc("borderLeftColor"),LH=uc("outline",Qu),MH=uc("outlineColor"),Yx=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Kv(e.theme,"shape.borderRadius",4),r=n=>({borderRadius:Zv(t,n)});return sc(e,e.borderRadius,r)}return null};Yx.propTypes={};Yx.filterProps=["borderRadius"];Zx(xH,wH,SH,CH,AH,EH,TH,PH,kH,IH,Yx,LH,MH);const Jx=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Kv(e.theme,"spacing",8),r=n=>({gap:Zv(t,n)});return sc(e,e.gap,r)}return null};Jx.propTypes={};Jx.filterProps=["gap"];const Qx=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Kv(e.theme,"spacing",8),r=n=>({columnGap:Zv(t,n)});return sc(e,e.columnGap,r)}return null};Qx.propTypes={};Qx.filterProps=["columnGap"];const ew=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Kv(e.theme,"spacing",8),r=n=>({rowGap:Zv(t,n)});return sc(e,e.rowGap,r)}return null};ew.propTypes={};ew.filterProps=["rowGap"];const DH=oa({prop:"gridColumn"}),RH=oa({prop:"gridRow"}),OH=oa({prop:"gridAutoFlow"}),NH=oa({prop:"gridAutoColumns"}),FH=oa({prop:"gridAutoRows"}),$H=oa({prop:"gridTemplateColumns"}),BH=oa({prop:"gridTemplateRows"}),zH=oa({prop:"gridTemplateAreas"}),jH=oa({prop:"gridArea"});Zx(Jx,Qx,ew,DH,RH,OH,NH,FH,$H,BH,zH,jH);function Z0(e,t){return t==="grey"?t:e}const UH=oa({prop:"color",themeKey:"palette",transform:Z0}),VH=oa({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Z0}),qH=oa({prop:"backgroundColor",themeKey:"palette",transform:Z0});Zx(UH,VH,qH);function mu(e){return e<=1&&e!==0?`${e*100}%`:e}const HH=oa({prop:"width",transform:mu}),KE=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=r=>{var n,o;const s=((n=e.theme)==null||(n=n.breakpoints)==null||(n=n.values)==null?void 0:n[r])||GE[r];return s?((o=e.theme)==null||(o=o.breakpoints)==null?void 0:o.unit)!=="px"?{maxWidth:`${s}${e.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:mu(r)}};return sc(e,e.maxWidth,t)}return null};KE.filterProps=["maxWidth"];const GH=oa({prop:"minWidth",transform:mu}),WH=oa({prop:"height",transform:mu}),XH=oa({prop:"maxHeight",transform:mu}),KH=oa({prop:"minHeight",transform:mu});oa({prop:"size",cssProperty:"width",transform:mu});oa({prop:"size",cssProperty:"height",transform:mu});const ZH=oa({prop:"boxSizing"});Zx(HH,KE,GH,WH,XH,KH,ZH);const tw={border:{themeKey:"borders",transform:Qu},borderTop:{themeKey:"borders",transform:Qu},borderRight:{themeKey:"borders",transform:Qu},borderBottom:{themeKey:"borders",transform:Qu},borderLeft:{themeKey:"borders",transform:Qu},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Qu},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Yx},color:{themeKey:"palette",transform:Z0},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Z0},backgroundColor:{themeKey:"palette",transform:Z0},p:{style:zo},pt:{style:zo},pr:{style:zo},pb:{style:zo},pl:{style:zo},px:{style:zo},py:{style:zo},padding:{style:zo},paddingTop:{style:zo},paddingRight:{style:zo},paddingBottom:{style:zo},paddingLeft:{style:zo},paddingX:{style:zo},paddingY:{style:zo},paddingInline:{style:zo},paddingInlineStart:{style:zo},paddingInlineEnd:{style:zo},paddingBlock:{style:zo},paddingBlockStart:{style:zo},paddingBlockEnd:{style:zo},m:{style:Bo},mt:{style:Bo},mr:{style:Bo},mb:{style:Bo},ml:{style:Bo},mx:{style:Bo},my:{style:Bo},margin:{style:Bo},marginTop:{style:Bo},marginRight:{style:Bo},marginBottom:{style:Bo},marginLeft:{style:Bo},marginX:{style:Bo},marginY:{style:Bo},marginInline:{style:Bo},marginInlineStart:{style:Bo},marginInlineEnd:{style:Bo},marginBlock:{style:Bo},marginBlockStart:{style:Bo},marginBlockEnd:{style:Bo},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Jx},rowGap:{style:ew},columnGap:{style:Qx},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:mu},maxWidth:{style:KE},minWidth:{transform:mu},height:{transform:mu},maxHeight:{transform:mu},minHeight:{transform:mu},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function YH(...e){const t=e.reduce((n,o)=>n.concat(Object.keys(o)),[]),r=new Set(t);return e.every(n=>r.size===Object.keys(n).length)}function JH(e,t){return typeof e=="function"?e(t):e}function QH(){function e(r,n,o,s){const u={[r]:n,theme:o},l=s[r];if(!l)return{[r]:n};const{cssProperty:f=r,themeKey:v,transform:x,style:w}=l;if(n==null)return null;if(v==="typography"&&n==="inherit")return{[r]:n};const C=Kx(o,v)||{};return w?w(u):sc(u,n,O=>{let I=D_(C,x,O);return O===I&&typeof O=="string"&&(I=D_(C,x,`${r}${O==="default"?"":Rr(O)}`,O)),f===!1?I:{[f]:I}})}function t(r){var n;const{sx:o,theme:s={}}=r||{};if(!o)return null;const u=(n=s.unstable_sxConfig)!=null?n:tw;function l(f){let v=f;if(typeof f=="function")v=f(s);else if(typeof f!="object")return f;if(!v)return null;const x=hH(s.breakpoints),w=Object.keys(x);let C=x;return Object.keys(v).forEach(P=>{const O=JH(v[P],s);if(O!=null)if(typeof O=="object")if(u[P])C=D1(C,e(P,O,s,u));else{const I=sc({theme:s},O,z=>({[P]:z}));YH(I,O)?C[P]=t({sx:O,theme:s}):C=D1(C,I)}else C=D1(C,e(P,O,s,u))}),dH(w,C)}return Array.isArray(o)?o.map(l):l(o)}return t}const Yv=QH();Yv.filterProps=["sx"];function eG(e,t){const r=this;return r.vars&&typeof r.getColorSchemeSelector=="function"?{[r.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:r.palette.mode===e?t:{}}const tG=["breakpoints","palette","spacing","shape"];function ZE(e={},...t){const{breakpoints:r={},palette:n={},spacing:o,shape:s={}}=e,u=Kp(e,tG),l=uH(r),f=_H(o);let v=wa({breakpoints:l,direction:"ltr",components:{},palette:eo({mode:"light"},n),spacing:f,shape:eo({},cH,s)},u);return v.applyStyles=eG,v=t.reduce((x,w)=>wa(x,w),v),v.unstable_sxConfig=eo({},tw,u==null?void 0:u.unstable_sxConfig),v.unstable_sx=function(w){return Yv({sx:w,theme:this})},v}function rG(e){return Object.keys(e).length===0}function YE(e=null){const t=Q.useContext(Ux);return!t||rG(t)?e:t}const nG=ZE();function rw(e=nG){return YE(e)}function iG({styles:e,themeId:t,defaultTheme:r={}}){const n=rw(r),o=typeof e=="function"?e(t&&n[t]||n):e;return ut.jsx(Uq,{styles:o})}const oG=["sx"],aG=e=>{var t,r;const n={systemProps:{},otherProps:{}},o=(t=e==null||(r=e.theme)==null?void 0:r.unstable_sxConfig)!=null?t:tw;return Object.keys(e).forEach(s=>{o[s]?n.systemProps[s]=e[s]:n.otherProps[s]=e[s]}),n};function JE(e){const{sx:t}=e,r=Kp(e,oG),{systemProps:n,otherProps:o}=aG(r);let s;return Array.isArray(t)?s=[n,...t]:typeof t=="function"?s=(...u)=>{const l=t(...u);return gd(l)?eo({},n,l):n}:s=eo({},n,t),eo({},o,{sx:s})}function VN(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=VN(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function jr(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=VN(e))&&(n&&(n+=" "),n+=t);return n}const sG=["className","component"];function qN(e={}){const{themeId:t,defaultTheme:r,defaultClassName:n="MuiBox-root",generateClassName:o}=e,s=ON("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})(Yv);return Q.forwardRef(function(f,v){const x=rw(r),w=JE(f),{className:C,component:P="div"}=w,O=Kp(w,sG);return ut.jsx(s,eo({as:P,ref:v,className:jr(C,o?o(n):n),theme:t&&x[t]||x},O))})}const lG=On("MuiBox",["root"]),uG=qN({defaultClassName:lG.root,generateClassName:Wx.generate}),cG=["ownerState"],hG=["variants"],dG=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function fG(e){return Object.keys(e).length===0}function pG(e){return typeof e=="string"&&e.charCodeAt(0)>96}function R1(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const mG=ZE(),gG=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function ib({defaultTheme:e,theme:t,themeId:r}){return fG(t)?e:t[r]||t}function yG(e){return e?(t,r)=>r[e]:null}function Xb(e,t){let{ownerState:r}=t,n=Kp(t,cG);const o=typeof e=="function"?e(eo({ownerState:r},n)):e;if(Array.isArray(o))return o.flatMap(s=>Xb(s,eo({ownerState:r},n)));if(o&&typeof o=="object"&&Array.isArray(o.variants)){const{variants:s=[]}=o;let l=Kp(o,hG);return s.forEach(f=>{let v=!0;typeof f.props=="function"?v=f.props(eo({ownerState:r},n)):Object.keys(f.props).forEach(x=>{(r==null?void 0:r[x])!==f.props[x]&&n[x]!==f.props[x]&&(v=!1)}),v&&(Array.isArray(l)||(l=[l]),l.push(typeof f.style=="function"?f.style(eo({ownerState:r},n)):f.style))}),l}return o}function HN(e={}){const{themeId:t,defaultTheme:r=mG,rootShouldForwardProp:n=R1,slotShouldForwardProp:o=R1}=e,s=u=>Yv(eo({},u,{theme:ib(eo({},u,{defaultTheme:r,themeId:t}))}));return s.__mui_systemSx=!0,(u,l={})=>{Vq(u,re=>re.filter(ie=>!(ie!=null&&ie.__mui_systemSx)));const{name:f,slot:v,skipVariantsResolver:x,skipSx:w,overridesResolver:C=yG(gG(v))}=l,P=Kp(l,dG),O=x!==void 0?x:v&&v!=="Root"&&v!=="root"||!1,I=w||!1;let z,N=R1;v==="Root"||v==="root"?N=n:v?N=o:pG(u)&&(N=void 0);const j=ON(u,eo({shouldForwardProp:N,label:z},P)),V=re=>typeof re=="function"&&re.__emotion_real!==re||gd(re)?ie=>Xb(re,eo({},ie,{theme:ib({theme:ie.theme,defaultTheme:r,themeId:t})})):re,W=(re,...ie)=>{let J=V(re);const ne=ie?ie.map(V):[];f&&C&&ne.push(X=>{const oe=ib(eo({},X,{defaultTheme:r,themeId:t}));if(!oe.components||!oe.components[f]||!oe.components[f].styleOverrides)return null;const be=oe.components[f].styleOverrides,ge={};return Object.entries(be).forEach(([De,Le])=>{ge[De]=Xb(Le,eo({},X,{theme:oe}))}),C(X,ge)}),f&&!O&&ne.push(X=>{var oe;const be=ib(eo({},X,{defaultTheme:r,themeId:t})),ge=be==null||(oe=be.components)==null||(oe=oe[f])==null?void 0:oe.variants;return Xb({variants:ge},eo({},X,{theme:be}))}),I||ne.push(s);const Ae=ne.length-ie.length;if(Array.isArray(re)&&Ae>0){const X=new Array(Ae).fill("");J=[...re,...X],J.raw=[...re.raw,...X]}const Z=j(J,...ne);return u.muiName&&(Z.muiName=u.muiName),Z};return j.withConfig&&(W.withConfig=j.withConfig),W}}const Hg=HN();function GN(e){const{theme:t,name:r,props:n}=e;return!t||!t.components||!t.components[r]||!t.components[r].defaultProps?n:Gx(t.components[r].defaultProps,n)}function WN({props:e,name:t,defaultTheme:r,themeId:n}){let o=rw(r);return n&&(o=o[n]||o),GN({theme:o,name:t,props:e})}function QE(e,t=0,r=1){return yp(e,t,r)}function vG(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(t);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,o)=>o<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function Zp(e){if(e.type)return e;if(e.charAt(0)==="#")return Zp(vG(e));const t=e.indexOf("("),r=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error(Su(9,e));let n=e.substring(t+1,e.length-1),o;if(r==="color"){if(n=n.split(" "),o=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(o)===-1)throw new Error(Su(10,o))}else n=n.split(",");return n=n.map(s=>parseFloat(s)),{type:r,values:n,colorSpace:o}}function nw(e){const{type:t,colorSpace:r}=e;let{values:n}=e;return t.indexOf("rgb")!==-1?n=n.map((o,s)=>s<3?parseInt(o,10):o):t.indexOf("hsl")!==-1&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),t.indexOf("color")!==-1?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${t}(${n})`}function bG(e){e=Zp(e);const{values:t}=e,r=t[0],n=t[1]/100,o=t[2]/100,s=n*Math.min(o,1-o),u=(v,x=(v+r/30)%12)=>o-s*Math.max(Math.min(x-3,9-x,1),-1);let l="rgb";const f=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return e.type==="hsla"&&(l+="a",f.push(t[3])),nw({type:l,values:f})}function m6(e){e=Zp(e);let t=e.type==="hsl"||e.type==="hsla"?Zp(bG(e)).values:e.values;return t=t.map(r=>(e.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function _G(e,t){const r=m6(e),n=m6(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function ll(e,t){return e=Zp(e),t=QE(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,nw(e)}function XN(e,t){if(e=Zp(e),t=QE(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]*=1-t;return nw(e)}function KN(e,t){if(e=Zp(e),t=QE(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return nw(e)}function yC(){return yC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yC.apply(this,arguments)}const ZN=Q.createContext(null);function YN(){return Q.useContext(ZN)}const xG=typeof Symbol=="function"&&Symbol.for,wG=xG?Symbol.for("mui.nested"):"__THEME_NESTED__";function SG(e,t){return typeof t=="function"?t(e):yC({},e,t)}function CG(e){const{children:t,theme:r}=e,n=YN(),o=Q.useMemo(()=>{const s=n===null?r:SG(n,r);return s!=null&&(s[wG]=n!==null),s},[r,n]);return ut.jsx(ZN.Provider,{value:o,children:t})}const g6={};function y6(e,t,r,n=!1){return Q.useMemo(()=>{const o=e&&t[e]||t;if(typeof r=="function"){const s=r(o),u=e?eo({},t,{[e]:s}):s;return n?()=>u:u}return e?eo({},t,{[e]:r}):eo({},t,r)},[e,t,r,n])}function AG(e){const{children:t,theme:r,themeId:n}=e,o=YE(g6),s=YN()||g6,u=y6(n,o,r),l=y6(n,s,r,!0);return ut.jsx(CG,{theme:l,children:ut.jsx(Ux.Provider,{value:u,children:t})})}function EG(e,t){return Ve({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const pv={black:"#000",white:"#fff"},TG={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Nm={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Fm={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Uy={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},$m={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Bm={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},zm={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},PG=["mode","contrastThreshold","tonalOffset"],v6={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:pv.white,default:pv.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},kS={text:{primary:pv.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:pv.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function b6(e,t,r,n){const o=n.light||n,s=n.dark||n*1.5;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:t==="light"?e.light=KN(e.main,o):t==="dark"&&(e.dark=XN(e.main,s)))}function kG(e="light"){return e==="dark"?{main:$m[200],light:$m[50],dark:$m[400]}:{main:$m[700],light:$m[400],dark:$m[800]}}function IG(e="light"){return e==="dark"?{main:Nm[200],light:Nm[50],dark:Nm[400]}:{main:Nm[500],light:Nm[300],dark:Nm[700]}}function LG(e="light"){return e==="dark"?{main:Fm[500],light:Fm[300],dark:Fm[700]}:{main:Fm[700],light:Fm[400],dark:Fm[800]}}function MG(e="light"){return e==="dark"?{main:Bm[400],light:Bm[300],dark:Bm[700]}:{main:Bm[700],light:Bm[500],dark:Bm[900]}}function DG(e="light"){return e==="dark"?{main:zm[400],light:zm[300],dark:zm[700]}:{main:zm[800],light:zm[500],dark:zm[900]}}function RG(e="light"){return e==="dark"?{main:Uy[400],light:Uy[300],dark:Uy[700]}:{main:"#ed6c02",light:Uy[500],dark:Uy[900]}}function OG(e){const{mode:t="light",contrastThreshold:r=3,tonalOffset:n=.2}=e,o=tn(e,PG),s=e.primary||kG(t),u=e.secondary||IG(t),l=e.error||LG(t),f=e.info||MG(t),v=e.success||DG(t),x=e.warning||RG(t);function w(I){return _G(I,kS.text.primary)>=r?kS.text.primary:v6.text.primary}const C=({color:I,name:z,mainShade:N=500,lightShade:j=300,darkShade:V=700})=>{if(I=Ve({},I),!I.main&&I[N]&&(I.main=I[N]),!I.hasOwnProperty("main"))throw new Error(Su(11,z?` (${z})`:"",N));if(typeof I.main!="string")throw new Error(Su(12,z?` (${z})`:"",JSON.stringify(I.main)));return b6(I,"light",j,n),b6(I,"dark",V,n),I.contrastText||(I.contrastText=w(I.main)),I},P={dark:kS,light:v6};return wa(Ve({common:Ve({},pv),mode:t,primary:C({color:s,name:"primary"}),secondary:C({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:C({color:l,name:"error"}),warning:C({color:x,name:"warning"}),info:C({color:f,name:"info"}),success:C({color:v,name:"success"}),grey:TG,contrastThreshold:r,getContrastText:w,augmentColor:C,tonalOffset:n},P[t]),o)}const NG=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function FG(e){return Math.round(e*1e5)/1e5}const _6={textTransform:"uppercase"},x6='"Roboto", "Helvetica", "Arial", sans-serif';function $G(e,t){const r=typeof t=="function"?t(e):t,{fontFamily:n=x6,fontSize:o=14,fontWeightLight:s=300,fontWeightRegular:u=400,fontWeightMedium:l=500,fontWeightBold:f=700,htmlFontSize:v=16,allVariants:x,pxToRem:w}=r,C=tn(r,NG),P=o/14,O=w||(N=>`${N/v*P}rem`),I=(N,j,V,W,re)=>Ve({fontFamily:n,fontWeight:N,fontSize:O(j),lineHeight:V},n===x6?{letterSpacing:`${FG(W/j)}em`}:{},re,x),z={h1:I(s,96,1.167,-1.5),h2:I(s,60,1.2,-.5),h3:I(u,48,1.167,0),h4:I(u,34,1.235,.25),h5:I(u,24,1.334,0),h6:I(l,20,1.6,.15),subtitle1:I(u,16,1.75,.15),subtitle2:I(l,14,1.57,.1),body1:I(u,16,1.5,.15),body2:I(u,14,1.43,.15),button:I(l,14,1.75,.4,_6),caption:I(u,12,1.66,.4),overline:I(u,12,2.66,1,_6),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return wa(Ve({htmlFontSize:v,pxToRem:O,fontFamily:n,fontSize:o,fontWeightLight:s,fontWeightRegular:u,fontWeightMedium:l,fontWeightBold:f},z),C,{clone:!1})}const BG=.2,zG=.14,jG=.12;function go(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${BG})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${zG})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${jG})`].join(",")}const UG=["none",go(0,2,1,-1,0,1,1,0,0,1,3,0),go(0,3,1,-2,0,2,2,0,0,1,5,0),go(0,3,3,-2,0,3,4,0,0,1,8,0),go(0,2,4,-1,0,4,5,0,0,1,10,0),go(0,3,5,-1,0,5,8,0,0,1,14,0),go(0,3,5,-1,0,6,10,0,0,1,18,0),go(0,4,5,-2,0,7,10,1,0,2,16,1),go(0,5,5,-3,0,8,10,1,0,3,14,2),go(0,5,6,-3,0,9,12,1,0,3,16,2),go(0,6,6,-3,0,10,14,1,0,4,18,3),go(0,6,7,-4,0,11,15,1,0,4,20,3),go(0,7,8,-4,0,12,17,2,0,5,22,4),go(0,7,8,-4,0,13,19,2,0,5,24,4),go(0,7,9,-4,0,14,21,2,0,5,26,4),go(0,8,9,-5,0,15,22,2,0,6,28,5),go(0,8,10,-5,0,16,24,2,0,6,30,5),go(0,8,11,-5,0,17,26,2,0,6,32,5),go(0,9,11,-5,0,18,28,2,0,7,34,6),go(0,9,12,-6,0,19,29,2,0,7,36,6),go(0,10,13,-6,0,20,31,3,0,8,38,7),go(0,10,13,-6,0,21,33,3,0,8,40,7),go(0,10,14,-6,0,22,35,3,0,8,42,7),go(0,11,14,-7,0,23,36,3,0,9,44,8),go(0,11,15,-7,0,24,38,3,0,9,46,8)],VG=["duration","easing","delay"],qG={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},HG={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function w6(e){return`${Math.round(e)}ms`}function GG(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function WG(e){const t=Ve({},qG,e.easing),r=Ve({},HG,e.duration);return Ve({getAutoHeightDuration:GG,create:(o=["all"],s={})=>{const{duration:u=r.standard,easing:l=t.easeInOut,delay:f=0}=s;return tn(s,VG),(Array.isArray(o)?o:[o]).map(v=>`${v} ${typeof u=="string"?u:w6(u)} ${l} ${typeof f=="string"?f:w6(f)}`).join(",")}},e,{easing:t,duration:r})}const XG={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},KG=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Jv(e={},...t){const{mixins:r={},palette:n={},transitions:o={},typography:s={}}=e,u=tn(e,KG);if(e.vars)throw new Error(Su(18));const l=OG(n),f=ZE(e);let v=wa(f,{mixins:EG(f.breakpoints,r),palette:l,shadows:UG.slice(),typography:$G(l,s),transitions:WG(o),zIndex:Ve({},XG)});return v=wa(v,u),v=t.reduce((x,w)=>wa(x,w),v),v.unstable_sxConfig=Ve({},tw,u==null?void 0:u.unstable_sxConfig),v.unstable_sx=function(w){return Yv({sx:w,theme:this})},v}const iw=Jv();function Nd(){const e=rw(iw);return e[Wp]||e}function Qn({props:e,name:t}){return WN({props:e,name:t,defaultTheme:iw,themeId:Wp})}const Gs=e=>R1(e)&&e!=="classes",e4=R1,cr=HN({themeId:Wp,defaultTheme:iw,rootShouldForwardProp:Gs}),ZG=["theme"];function YG(e){let{theme:t}=e,r=tn(e,ZG);const n=t[Wp];return ut.jsx(AG,Ve({},r,{themeId:n?Wp:void 0,theme:n||t}))}const S6=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)};let ob;const JG=new Uint8Array(16);function QG(){if(!ob&&(ob=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ob))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ob(JG)}const ds=[];for(let e=0;e<256;++e)ds.push((e+256).toString(16).slice(1));function eW(e,t=0){return ds[e[t+0]]+ds[e[t+1]]+ds[e[t+2]]+ds[e[t+3]]+"-"+ds[e[t+4]]+ds[e[t+5]]+"-"+ds[e[t+6]]+ds[e[t+7]]+"-"+ds[e[t+8]]+ds[e[t+9]]+"-"+ds[e[t+10]]+ds[e[t+11]]+ds[e[t+12]]+ds[e[t+13]]+ds[e[t+14]]+ds[e[t+15]]}const tW=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),C6={randomUUID:tW};function mv(e,t,r){if(C6.randomUUID&&!t&&!e)return C6.randomUUID();e=e||{};const n=e.random||(e.rng||QG)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,eW(n)}function rW(e){return $n("MuiSvgIcon",e)}On("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const nW=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],iW=e=>{const{color:t,fontSize:r,classes:n}=e,o={root:["root",t!=="inherit"&&`color${Rr(t)}`,`fontSize${Rr(r)}`]};return qn(o,rW,n)},oW=cr("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="inherit"&&t[`color${Rr(r.color)}`],t[`fontSize${Rr(r.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var r,n,o,s,u,l,f,v,x,w,C,P,O;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(r=e.transitions)==null||(n=r.create)==null?void 0:n.call(r,"fill",{duration:(o=e.transitions)==null||(o=o.duration)==null?void 0:o.shorter}),fontSize:{inherit:"inherit",small:((s=e.typography)==null||(u=s.pxToRem)==null?void 0:u.call(s,20))||"1.25rem",medium:((l=e.typography)==null||(f=l.pxToRem)==null?void 0:f.call(l,24))||"1.5rem",large:((v=e.typography)==null||(x=v.pxToRem)==null?void 0:x.call(v,35))||"2.1875rem"}[t.fontSize],color:(w=(C=(e.vars||e).palette)==null||(C=C[t.color])==null?void 0:C.main)!=null?w:{action:(P=(e.vars||e).palette)==null||(P=P.action)==null?void 0:P.active,disabled:(O=(e.vars||e).palette)==null||(O=O.action)==null?void 0:O.disabled,inherit:void 0}[t.color]}}),vC=Q.forwardRef(function(t,r){const n=Qn({props:t,name:"MuiSvgIcon"}),{children:o,className:s,color:u="inherit",component:l="svg",fontSize:f="medium",htmlColor:v,inheritViewBox:x=!1,titleAccess:w,viewBox:C="0 0 24 24"}=n,P=tn(n,nW),O=Q.isValidElement(o)&&o.type==="svg",I=Ve({},n,{color:u,component:l,fontSize:f,instanceFontSize:t.fontSize,inheritViewBox:x,viewBox:C,hasSvgAsChild:O}),z={};x||(z.viewBox=C);const N=iW(I);return ut.jsxs(oW,Ve({as:l,className:jr(N.root,s),focusable:"false",color:v,"aria-hidden":w?void 0:!0,role:w?"img":void 0,ref:r},z,P,O&&o.props,{ownerState:I,children:[O?o.props.children:o,w?ut.jsx("title",{children:w}):null]}))});vC.muiName="SvgIcon";function ow(e,t){function r(n,o){return ut.jsx(vC,Ve({"data-testid":`${t}Icon`,ref:o},n,{children:e}))}return r.muiName=vC.muiName,Q.memo(Q.forwardRef(r))}var Vi={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t4=Symbol.for("react.element"),r4=Symbol.for("react.portal"),aw=Symbol.for("react.fragment"),sw=Symbol.for("react.strict_mode"),lw=Symbol.for("react.profiler"),uw=Symbol.for("react.provider"),cw=Symbol.for("react.context"),aW=Symbol.for("react.server_context"),hw=Symbol.for("react.forward_ref"),dw=Symbol.for("react.suspense"),fw=Symbol.for("react.suspense_list"),pw=Symbol.for("react.memo"),mw=Symbol.for("react.lazy"),sW=Symbol.for("react.offscreen"),JN;JN=Symbol.for("react.module.reference");function cc(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case t4:switch(e=e.type,e){case aw:case lw:case sw:case dw:case fw:return e;default:switch(e=e&&e.$$typeof,e){case aW:case cw:case hw:case mw:case pw:case uw:return e;default:return t}}case r4:return t}}}Vi.ContextConsumer=cw;Vi.ContextProvider=uw;Vi.Element=t4;Vi.ForwardRef=hw;Vi.Fragment=aw;Vi.Lazy=mw;Vi.Memo=pw;Vi.Portal=r4;Vi.Profiler=lw;Vi.StrictMode=sw;Vi.Suspense=dw;Vi.SuspenseList=fw;Vi.isAsyncMode=function(){return!1};Vi.isConcurrentMode=function(){return!1};Vi.isContextConsumer=function(e){return cc(e)===cw};Vi.isContextProvider=function(e){return cc(e)===uw};Vi.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===t4};Vi.isForwardRef=function(e){return cc(e)===hw};Vi.isFragment=function(e){return cc(e)===aw};Vi.isLazy=function(e){return cc(e)===mw};Vi.isMemo=function(e){return cc(e)===pw};Vi.isPortal=function(e){return cc(e)===r4};Vi.isProfiler=function(e){return cc(e)===lw};Vi.isStrictMode=function(e){return cc(e)===sw};Vi.isSuspense=function(e){return cc(e)===dw};Vi.isSuspenseList=function(e){return cc(e)===fw};Vi.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===aw||e===lw||e===sw||e===dw||e===fw||e===sW||typeof e=="object"&&e!==null&&(e.$$typeof===mw||e.$$typeof===pw||e.$$typeof===uw||e.$$typeof===cw||e.$$typeof===hw||e.$$typeof===JN||e.getModuleId!==void 0)};Vi.typeOf=cc;function QN(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,s;for(s=0;s<n.length;s++)o=n[s],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function bC(e,t){return bC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},bC(e,t)}function eF(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,bC(e,t)}const A6={disabled:!1},R_=ve.createContext(null);var lW=function(t){return t.scrollTop},c1="unmounted",fp="exited",pp="entering",o0="entered",_C="exiting",Vc=function(e){eF(t,e);function t(n,o){var s;s=e.call(this,n,o)||this;var u=o,l=u&&!u.isMounting?n.enter:n.appear,f;return s.appearStatus=null,n.in?l?(f=fp,s.appearStatus=pp):f=o0:n.unmountOnExit||n.mountOnEnter?f=c1:f=fp,s.state={status:f},s.nextCallback=null,s}t.getDerivedStateFromProps=function(o,s){var u=o.in;return u&&s.status===c1?{status:fp}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(o){var s=null;if(o!==this.props){var u=this.state.status;this.props.in?u!==pp&&u!==o0&&(s=pp):(u===pp||u===o0)&&(s=_C)}this.updateStatus(!1,s)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var o=this.props.timeout,s,u,l;return s=u=l=o,o!=null&&typeof o!="number"&&(s=o.exit,u=o.enter,l=o.appear!==void 0?o.appear:u),{exit:s,enter:u,appear:l}},r.updateStatus=function(o,s){if(o===void 0&&(o=!1),s!==null)if(this.cancelNextCallback(),s===pp){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:rb.findDOMNode(this);u&&lW(u)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===fp&&this.setState({status:c1})},r.performEnter=function(o){var s=this,u=this.props.enter,l=this.context?this.context.isMounting:o,f=this.props.nodeRef?[l]:[rb.findDOMNode(this),l],v=f[0],x=f[1],w=this.getTimeouts(),C=l?w.appear:w.enter;if(!o&&!u||A6.disabled){this.safeSetState({status:o0},function(){s.props.onEntered(v)});return}this.props.onEnter(v,x),this.safeSetState({status:pp},function(){s.props.onEntering(v,x),s.onTransitionEnd(C,function(){s.safeSetState({status:o0},function(){s.props.onEntered(v,x)})})})},r.performExit=function(){var o=this,s=this.props.exit,u=this.getTimeouts(),l=this.props.nodeRef?void 0:rb.findDOMNode(this);if(!s||A6.disabled){this.safeSetState({status:fp},function(){o.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:_C},function(){o.props.onExiting(l),o.onTransitionEnd(u.exit,function(){o.safeSetState({status:fp},function(){o.props.onExited(l)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(o,s){s=this.setNextCallback(s),this.setState(o,s)},r.setNextCallback=function(o){var s=this,u=!0;return this.nextCallback=function(l){u&&(u=!1,s.nextCallback=null,o(l))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},r.onTransitionEnd=function(o,s){this.setNextCallback(s);var u=this.props.nodeRef?this.props.nodeRef.current:rb.findDOMNode(this),l=o==null&&!this.props.addEndListener;if(!u||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],v=f[0],x=f[1];this.props.addEndListener(v,x)}o!=null&&setTimeout(this.nextCallback,o)},r.render=function(){var o=this.state.status;if(o===c1)return null;var s=this.props,u=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var l=QN(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ve.createElement(R_.Provider,{value:null},typeof u=="function"?u(o,l):ve.cloneElement(ve.Children.only(u),l))},t}(ve.Component);Vc.contextType=R_;Vc.propTypes={};function jm(){}Vc.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:jm,onEntering:jm,onEntered:jm,onExit:jm,onExiting:jm,onExited:jm};Vc.UNMOUNTED=c1;Vc.EXITED=fp;Vc.ENTERING=pp;Vc.ENTERED=o0;Vc.EXITING=_C;function uW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n4(e,t){var r=function(s){return t&&Q.isValidElement(s)?t(s):s},n=Object.create(null);return e&&Q.Children.map(e,function(o){return o}).forEach(function(o){n[o.key]=r(o)}),n}function cW(e,t){e=e||{},t=t||{};function r(x){return x in t?t[x]:e[x]}var n=Object.create(null),o=[];for(var s in e)s in t?o.length&&(n[s]=o,o=[]):o.push(s);var u,l={};for(var f in t){if(n[f])for(u=0;u<n[f].length;u++){var v=n[f][u];l[n[f][u]]=r(v)}l[f]=r(f)}for(u=0;u<o.length;u++)l[o[u]]=r(o[u]);return l}function Cp(e,t,r){return r[t]!=null?r[t]:e.props[t]}function hW(e,t){return n4(e.children,function(r){return Q.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:Cp(r,"appear",e),enter:Cp(r,"enter",e),exit:Cp(r,"exit",e)})})}function dW(e,t,r){var n=n4(e.children),o=cW(t,n);return Object.keys(o).forEach(function(s){var u=o[s];if(Q.isValidElement(u)){var l=s in t,f=s in n,v=t[s],x=Q.isValidElement(v)&&!v.props.in;f&&(!l||x)?o[s]=Q.cloneElement(u,{onExited:r.bind(null,u),in:!0,exit:Cp(u,"exit",e),enter:Cp(u,"enter",e)}):!f&&l&&!x?o[s]=Q.cloneElement(u,{in:!1}):f&&l&&Q.isValidElement(v)&&(o[s]=Q.cloneElement(u,{onExited:r.bind(null,u),in:v.props.in,exit:Cp(u,"exit",e),enter:Cp(u,"enter",e)}))}}),o}var fW=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},pW={component:"div",childFactory:function(t){return t}},gw=function(e){eF(t,e);function t(n,o){var s;s=e.call(this,n,o)||this;var u=s.handleExited.bind(uW(s));return s.state={contextValue:{isMounting:!0},handleExited:u,firstRender:!0},s}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(o,s){var u=s.children,l=s.handleExited,f=s.firstRender;return{children:f?hW(o,l):dW(o,u,l),firstRender:!1}},r.handleExited=function(o,s){var u=n4(this.props.children);o.key in u||(o.props.onExited&&o.props.onExited(s),this.mounted&&this.setState(function(l){var f=lv({},l.children);return delete f[o.key],{children:f}}))},r.render=function(){var o=this.props,s=o.component,u=o.childFactory,l=QN(o,["component","childFactory"]),f=this.state.contextValue,v=fW(this.state.children).map(u);return delete l.appear,delete l.enter,delete l.exit,s===null?ve.createElement(R_.Provider,{value:f},v):ve.createElement(R_.Provider,{value:f},ve.createElement(s,l,v))},t}(ve.Component);gw.propTypes={};gw.defaultProps=pW;const i4=e=>e.scrollTop;function Yp(e,t){var r,n;const{timeout:o,easing:s,style:u={}}=e;return{duration:(r=u.transitionDuration)!=null?r:typeof o=="number"?o:o[t.mode]||0,easing:(n=u.transitionTimingFunction)!=null?n:typeof s=="object"?s[t.mode]:s,delay:u.transitionDelay}}function mW(e){return $n("MuiPaper",e)}On("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const gW=["className","component","elevation","square","variant"],yW=e=>{const{square:t,elevation:r,variant:n,classes:o}=e,s={root:["root",n,!t&&"rounded",n==="elevation"&&`elevation${r}`]};return qn(s,mW,o)},vW=cr("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],!r.square&&t.rounded,r.variant==="elevation"&&t[`elevation${r.elevation}`]]}})(({theme:e,ownerState:t})=>{var r;return Ve({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&Ve({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${ll("#fff",S6(t.elevation))}, ${ll("#fff",S6(t.elevation))})`},e.vars&&{backgroundImage:(r=e.vars.overlays)==null?void 0:r[t.elevation]}))}),Jp=Q.forwardRef(function(t,r){const n=Qn({props:t,name:"MuiPaper"}),{className:o,component:s="div",elevation:u=1,square:l=!1,variant:f="elevation"}=n,v=tn(n,gW),x=Ve({},n,{component:s,elevation:u,square:l,variant:f}),w=yW(x);return ut.jsx(vW,Ve({as:s,ownerState:x,className:jr(w.root,o),ref:r},v))});function ko(){return ko=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ko.apply(this,arguments)}function Rh(e){return typeof e=="string"}function bW(e,t,r){return e===void 0||Rh(e)?t:ko({},t,{ownerState:ko({},t.ownerState,r)})}function _W(e,t,r=(n,o)=>n===o){return e.length===t.length&&e.every((n,o)=>r(n,t[o]))}function O1(e,t=[]){if(e===void 0)return{};const r={};return Object.keys(e).filter(n=>n.match(/^on[A-Z]/)&&typeof e[n]=="function"&&!t.includes(n)).forEach(n=>{r[n]=e[n]}),r}function xW(e,t,r){return typeof e=="function"?e(t,r):e}function tF(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,s;for(s=0;s<n.length;s++)o=n[s],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function E6(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(r=>!(r.match(/^on[A-Z]/)&&typeof e[r]=="function")).forEach(r=>{t[r]=e[r]}),t}function wW(e){const{getSlotProps:t,additionalProps:r,externalSlotProps:n,externalForwardedProps:o,className:s}=e;if(!t){const P=jr(r==null?void 0:r.className,s,o==null?void 0:o.className,n==null?void 0:n.className),O=ko({},r==null?void 0:r.style,o==null?void 0:o.style,n==null?void 0:n.style),I=ko({},r,o,n);return P.length>0&&(I.className=P),Object.keys(O).length>0&&(I.style=O),{props:I,internalRef:void 0}}const u=O1(ko({},o,n)),l=E6(n),f=E6(o),v=t(u),x=jr(v==null?void 0:v.className,r==null?void 0:r.className,s,o==null?void 0:o.className,n==null?void 0:n.className),w=ko({},v==null?void 0:v.style,r==null?void 0:r.style,o==null?void 0:o.style,n==null?void 0:n.style),C=ko({},v,r,f,l);return x.length>0&&(C.className=x),Object.keys(w).length>0&&(C.style=w),{props:C,internalRef:v.ref}}const SW=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Ml(e){var t;const{elementType:r,externalSlotProps:n,ownerState:o,skipResolvingSlotProps:s=!1}=e,u=tF(e,SW),l=s?{}:xW(n,o),{props:f,internalRef:v}=wW(ko({},u,{externalSlotProps:l})),x=Sa(v,l==null?void 0:l.ref,(t=e.additionalProps)==null?void 0:t.ref);return bW(r,ko({},f,{ref:x}),o)}function CW(e){const{className:t,classes:r,pulsate:n=!1,rippleX:o,rippleY:s,rippleSize:u,in:l,onExited:f,timeout:v}=e,[x,w]=Q.useState(!1),C=jr(t,r.ripple,r.rippleVisible,n&&r.ripplePulsate),P={width:u,height:u,top:-(u/2)+s,left:-(u/2)+o},O=jr(r.child,x&&r.childLeaving,n&&r.childPulsate);return!l&&!x&&w(!0),Q.useEffect(()=>{if(!l&&f!=null){const I=setTimeout(f,v);return()=>{clearTimeout(I)}}},[f,l,v]),ut.jsx("span",{className:C,style:P,children:ut.jsx("span",{className:O})})}const Wu=On("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),AW=["center","classes","className"];let yw=e=>e,T6,P6,k6,I6;const xC=550,EW=80,TW=qE(T6||(T6=yw`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),PW=qE(P6||(P6=yw`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),kW=qE(k6||(k6=yw`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),IW=cr("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),LW=cr(CW,{name:"MuiTouchRipple",slot:"Ripple"})(I6||(I6=yw`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Wu.rippleVisible,TW,xC,({theme:e})=>e.transitions.easing.easeInOut,Wu.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,Wu.child,Wu.childLeaving,PW,xC,({theme:e})=>e.transitions.easing.easeInOut,Wu.childPulsate,kW,({theme:e})=>e.transitions.easing.easeInOut),MW=Q.forwardRef(function(t,r){const n=Qn({props:t,name:"MuiTouchRipple"}),{center:o=!1,classes:s={},className:u}=n,l=tn(n,AW),[f,v]=Q.useState([]),x=Q.useRef(0),w=Q.useRef(null);Q.useEffect(()=>{w.current&&(w.current(),w.current=null)},[f]);const C=Q.useRef(!1),P=BN(),O=Q.useRef(null),I=Q.useRef(null),z=Q.useCallback(W=>{const{pulsate:re,rippleX:ie,rippleY:J,rippleSize:ne,cb:Ae}=W;v(Z=>[...Z,ut.jsx(LW,{classes:{ripple:jr(s.ripple,Wu.ripple),rippleVisible:jr(s.rippleVisible,Wu.rippleVisible),ripplePulsate:jr(s.ripplePulsate,Wu.ripplePulsate),child:jr(s.child,Wu.child),childLeaving:jr(s.childLeaving,Wu.childLeaving),childPulsate:jr(s.childPulsate,Wu.childPulsate)},timeout:xC,pulsate:re,rippleX:ie,rippleY:J,rippleSize:ne},x.current)]),x.current+=1,w.current=Ae},[s]),N=Q.useCallback((W={},re={},ie=()=>{})=>{const{pulsate:J=!1,center:ne=o||re.pulsate,fakeElement:Ae=!1}=re;if((W==null?void 0:W.type)==="mousedown"&&C.current){C.current=!1;return}(W==null?void 0:W.type)==="touchstart"&&(C.current=!0);const Z=Ae?null:I.current,X=Z?Z.getBoundingClientRect():{width:0,height:0,left:0,top:0};let oe,be,ge;if(ne||W===void 0||W.clientX===0&&W.clientY===0||!W.clientX&&!W.touches)oe=Math.round(X.width/2),be=Math.round(X.height/2);else{const{clientX:De,clientY:Le}=W.touches&&W.touches.length>0?W.touches[0]:W;oe=Math.round(De-X.left),be=Math.round(Le-X.top)}if(ne)ge=Math.sqrt((2*X.width**2+X.height**2)/3),ge%2===0&&(ge+=1);else{const De=Math.max(Math.abs((Z?Z.clientWidth:0)-oe),oe)*2+2,Le=Math.max(Math.abs((Z?Z.clientHeight:0)-be),be)*2+2;ge=Math.sqrt(De**2+Le**2)}W!=null&&W.touches?O.current===null&&(O.current=()=>{z({pulsate:J,rippleX:oe,rippleY:be,rippleSize:ge,cb:ie})},P.start(EW,()=>{O.current&&(O.current(),O.current=null)})):z({pulsate:J,rippleX:oe,rippleY:be,rippleSize:ge,cb:ie})},[o,z,P]),j=Q.useCallback(()=>{N({},{pulsate:!0})},[N]),V=Q.useCallback((W,re)=>{if(P.clear(),(W==null?void 0:W.type)==="touchend"&&O.current){O.current(),O.current=null,P.start(0,()=>{V(W,re)});return}O.current=null,v(ie=>ie.length>0?ie.slice(1):ie),w.current=re},[P]);return Q.useImperativeHandle(r,()=>({pulsate:j,start:N,stop:V}),[j,N,V]),ut.jsx(IW,Ve({className:jr(Wu.root,s.root,u),ref:I},l,{children:ut.jsx(gw,{component:null,exit:!0,children:f})}))});function DW(e){return $n("MuiButtonBase",e)}const RW=On("MuiButtonBase",["root","disabled","focusVisible"]),OW=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],NW=e=>{const{disabled:t,focusVisible:r,focusVisibleClassName:n,classes:o}=e,u=qn({root:["root",t&&"disabled",r&&"focusVisible"]},DW,o);return r&&n&&(u.root+=` ${n}`),u},FW=cr("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${RW.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),vw=Q.forwardRef(function(t,r){const n=Qn({props:t,name:"MuiButtonBase"}),{action:o,centerRipple:s=!1,children:u,className:l,component:f="button",disabled:v=!1,disableRipple:x=!1,disableTouchRipple:w=!1,focusRipple:C=!1,LinkComponent:P="a",onBlur:O,onClick:I,onContextMenu:z,onDragLeave:N,onFocus:j,onFocusVisible:V,onKeyDown:W,onKeyUp:re,onMouseDown:ie,onMouseLeave:J,onMouseUp:ne,onTouchEnd:Ae,onTouchMove:Z,onTouchStart:X,tabIndex:oe=0,TouchRippleProps:be,touchRippleRef:ge,type:De}=n,Le=tn(n,OW),je=Q.useRef(null),xe=Q.useRef(null),Oe=Sa(xe,ge),{isFocusVisibleRef:Ke,onFocus:ht,onBlur:le,ref:me}=HE(),[we,Ie]=Q.useState(!1);v&&we&&Ie(!1),Q.useImperativeHandle(o,()=>({focusVisible:()=>{Ie(!0),je.current.focus()}}),[]);const[Me,tt]=Q.useState(!1);Q.useEffect(()=>{tt(!0)},[]);const Ue=Me&&!x&&!v;Q.useEffect(()=>{we&&C&&!x&&Me&&xe.current.pulsate()},[x,C,we,Me]);function qe(mt,Rt,Lt=w){return bu(Br=>(Rt&&Rt(Br),!Lt&&xe.current&&xe.current[mt](Br),!0))}const lt=qe("start",ie),pt=qe("stop",z),Et=qe("stop",N),St=qe("stop",ne),kt=qe("stop",mt=>{we&&mt.preventDefault(),J&&J(mt)}),ct=qe("start",X),de=qe("stop",Ae),hr=qe("stop",Z),Kt=qe("stop",mt=>{le(mt),Ke.current===!1&&Ie(!1),O&&O(mt)},!1),bt=bu(mt=>{je.current||(je.current=mt.currentTarget),ht(mt),Ke.current===!0&&(Ie(!0),V&&V(mt)),j&&j(mt)}),Pt=()=>{const mt=je.current;return f&&f!=="button"&&!(mt.tagName==="A"&&mt.href)},Ot=Q.useRef(!1),Gt=bu(mt=>{C&&!Ot.current&&we&&xe.current&&mt.key===" "&&(Ot.current=!0,xe.current.stop(mt,()=>{xe.current.start(mt)})),mt.target===mt.currentTarget&&Pt()&&mt.key===" "&&mt.preventDefault(),W&&W(mt),mt.target===mt.currentTarget&&Pt()&&mt.key==="Enter"&&!v&&(mt.preventDefault(),I&&I(mt))}),It=bu(mt=>{C&&mt.key===" "&&xe.current&&we&&!mt.defaultPrevented&&(Ot.current=!1,xe.current.stop(mt,()=>{xe.current.pulsate(mt)})),re&&re(mt),I&&mt.target===mt.currentTarget&&Pt()&&mt.key===" "&&!mt.defaultPrevented&&I(mt)});let ir=f;ir==="button"&&(Le.href||Le.to)&&(ir=P);const vr={};ir==="button"?(vr.type=De===void 0?"button":De,vr.disabled=v):(!Le.href&&!Le.to&&(vr.role="button"),v&&(vr["aria-disabled"]=v));const Pr=Sa(r,me,je),Vr=Ve({},n,{centerRipple:s,component:f,disabled:v,disableRipple:x,disableTouchRipple:w,focusRipple:C,tabIndex:oe,focusVisible:we}),Ze=NW(Vr);return ut.jsxs(FW,Ve({as:ir,className:jr(Ze.root,l),ownerState:Vr,onBlur:Kt,onClick:I,onContextMenu:pt,onFocus:bt,onKeyDown:Gt,onKeyUp:It,onMouseDown:lt,onMouseLeave:kt,onMouseUp:St,onDragLeave:Et,onTouchEnd:de,onTouchMove:hr,onTouchStart:ct,ref:Pr,tabIndex:v?-1:oe,type:De},vr,Le,{children:[u,Ue?ut.jsx(MW,Ve({ref:Oe,center:s},be)):null]}))});function $W(e){return $n("MuiIconButton",e)}const BW=On("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),zW=["edge","children","className","color","disabled","disableFocusRipple","size"],jW=e=>{const{classes:t,disabled:r,color:n,edge:o,size:s}=e,u={root:["root",r&&"disabled",n!=="default"&&`color${Rr(n)}`,o&&`edge${Rr(o)}`,`size${Rr(s)}`]};return qn(u,$W,t)},UW=cr(vw,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="default"&&t[`color${Rr(r.color)}`],r.edge&&t[`edge${Rr(r.edge)}`],t[`size${Rr(r.size)}`]]}})(({theme:e,ownerState:t})=>Ve({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:ll(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var r;const n=(r=(e.vars||e).palette)==null?void 0:r[t.color];return Ve({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&Ve({color:n==null?void 0:n.main},!t.disableRipple&&{"&:hover":Ve({},n&&{backgroundColor:e.vars?`rgba(${n.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ll(n.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${BW.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),Gg=Q.forwardRef(function(t,r){const n=Qn({props:t,name:"MuiIconButton"}),{edge:o=!1,children:s,className:u,color:l="default",disabled:f=!1,disableFocusRipple:v=!1,size:x="medium"}=n,w=tn(n,zW),C=Ve({},n,{edge:o,color:l,disabled:f,disableFocusRipple:v,size:x}),P=jW(C);return ut.jsx(UW,Ve({className:jr(P.root,u),centerRipple:!0,focusRipple:!v,disabled:f,ref:r,ownerState:C},w,{children:s}))});function VW(e){return $n("MuiTypography",e)}On("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const qW=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],HW=e=>{const{align:t,gutterBottom:r,noWrap:n,paragraph:o,variant:s,classes:u}=e,l={root:["root",s,e.align!=="inherit"&&`align${Rr(t)}`,r&&"gutterBottom",n&&"noWrap",o&&"paragraph"]};return qn(l,VW,u)},GW=cr("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],r.align!=="inherit"&&t[`align${Rr(r.align)}`],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>Ve({margin:0},t.variant==="inherit"&&{font:"inherit"},t.variant!=="inherit"&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),L6={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},WW={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},XW=e=>WW[e]||e,bd=Q.forwardRef(function(t,r){const n=Qn({props:t,name:"MuiTypography"}),o=XW(n.color),s=JE(Ve({},n,{color:o})),{align:u="inherit",className:l,component:f,gutterBottom:v=!1,noWrap:x=!1,paragraph:w=!1,variant:C="body1",variantMapping:P=L6}=s,O=tn(s,qW),I=Ve({},s,{align:u,color:o,className:l,component:f,gutterBottom:v,noWrap:x,paragraph:w,variant:C,variantMapping:P}),z=f||(w?"p":P[C]||L6[C])||"span",N=HW(I);return ut.jsx(GW,Ve({as:z,ref:r,ownerState:I,className:jr(N.root,l)},O))}),KW=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function ZW(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function YW(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=n=>e.ownerDocument.querySelector(`input[type="radio"]${n}`);let r=t(`[name="${e.name}"]:checked`);return r||(r=t(`[name="${e.name}"]`)),r!==e}function JW(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||YW(e))}function QW(e){const t=[],r=[];return Array.from(e.querySelectorAll(KW)).forEach((n,o)=>{const s=ZW(n);s===-1||!JW(n)||(s===0?t.push(n):r.push({documentOrder:o,tabIndex:s,node:n}))}),r.sort((n,o)=>n.tabIndex===o.tabIndex?n.documentOrder-o.documentOrder:n.tabIndex-o.tabIndex).map(n=>n.node).concat(t)}function eX(){return!0}function tX(e){const{children:t,disableAutoFocus:r=!1,disableEnforceFocus:n=!1,disableRestoreFocus:o=!1,getTabbable:s=QW,isEnabled:u=eX,open:l}=e,f=Q.useRef(!1),v=Q.useRef(null),x=Q.useRef(null),w=Q.useRef(null),C=Q.useRef(null),P=Q.useRef(!1),O=Q.useRef(null),I=Sa(t.ref,O),z=Q.useRef(null);Q.useEffect(()=>{!l||!O.current||(P.current=!r)},[r,l]),Q.useEffect(()=>{if(!l||!O.current)return;const V=Xo(O.current);return O.current.contains(V.activeElement)||(O.current.hasAttribute("tabIndex")||O.current.setAttribute("tabIndex","-1"),P.current&&O.current.focus()),()=>{o||(w.current&&w.current.focus&&(f.current=!0,w.current.focus()),w.current=null)}},[l]),Q.useEffect(()=>{if(!l||!O.current)return;const V=Xo(O.current),W=J=>{z.current=J,!(n||!u()||J.key!=="Tab")&&V.activeElement===O.current&&J.shiftKey&&(f.current=!0,x.current&&x.current.focus())},re=()=>{const J=O.current;if(J===null)return;if(!V.hasFocus()||!u()||f.current){f.current=!1;return}if(J.contains(V.activeElement)||n&&V.activeElement!==v.current&&V.activeElement!==x.current)return;if(V.activeElement!==C.current)C.current=null;else if(C.current!==null)return;if(!P.current)return;let ne=[];if((V.activeElement===v.current||V.activeElement===x.current)&&(ne=s(O.current)),ne.length>0){var Ae,Z;const X=!!((Ae=z.current)!=null&&Ae.shiftKey&&((Z=z.current)==null?void 0:Z.key)==="Tab"),oe=ne[0],be=ne[ne.length-1];typeof oe!="string"&&typeof be!="string"&&(X?be.focus():oe.focus())}else J.focus()};V.addEventListener("focusin",re),V.addEventListener("keydown",W,!0);const ie=setInterval(()=>{V.activeElement&&V.activeElement.tagName==="BODY"&&re()},50);return()=>{clearInterval(ie),V.removeEventListener("focusin",re),V.removeEventListener("keydown",W,!0)}},[r,n,o,u,l,s]);const N=V=>{w.current===null&&(w.current=V.relatedTarget),P.current=!0,C.current=V.target;const W=t.props.onFocus;W&&W(V)},j=V=>{w.current===null&&(w.current=V.relatedTarget),P.current=!0};return ut.jsxs(Q.Fragment,{children:[ut.jsx("div",{tabIndex:l?0:-1,onFocus:j,ref:v,"data-testid":"sentinelStart"}),Q.cloneElement(t,{ref:I,onFocus:N}),ut.jsx("div",{tabIndex:l?0:-1,onFocus:j,ref:x,"data-testid":"sentinelEnd"})]})}function rX(e){return typeof e=="function"?e():e}const nX=Q.forwardRef(function(t,r){const{children:n,container:o,disablePortal:s=!1}=t,[u,l]=Q.useState(null),f=Sa(Q.isValidElement(n)?n.ref:null,r);if(Cu(()=>{s||l(rX(o)||document.body)},[o,s]),Cu(()=>{if(u&&!s)return M_(r,u),()=>{M_(r,null)}},[r,u,s]),s){if(Q.isValidElement(n)){const v={ref:f};return Q.cloneElement(n,v)}return ut.jsx(Q.Fragment,{children:n})}return ut.jsx(Q.Fragment,{children:u&&kg.createPortal(n,u)})});function iX(e){const t=Xo(e);return t.body===e?jl(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function N1(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function M6(e){return parseInt(jl(e).getComputedStyle(e).paddingRight,10)||0}function oX(e){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,n=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return r||n}function D6(e,t,r,n,o){const s=[t,r,...n];[].forEach.call(e.children,u=>{const l=s.indexOf(u)===-1,f=!oX(u);l&&f&&N1(u,o)})}function IS(e,t){let r=-1;return e.some((n,o)=>t(n)?(r=o,!0):!1),r}function aX(e,t){const r=[],n=e.container;if(!t.disableScrollLock){if(iX(n)){const u=zN(Xo(n));r.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${M6(n)+u}px`;const l=Xo(n).querySelectorAll(".mui-fixed");[].forEach.call(l,f=>{r.push({value:f.style.paddingRight,property:"padding-right",el:f}),f.style.paddingRight=`${M6(f)+u}px`})}let s;if(n.parentNode instanceof DocumentFragment)s=Xo(n).body;else{const u=n.parentElement,l=jl(n);s=(u==null?void 0:u.nodeName)==="HTML"&&l.getComputedStyle(u).overflowY==="scroll"?u:n}r.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{r.forEach(({value:s,el:u,property:l})=>{s?u.style.setProperty(l,s):u.style.removeProperty(l)})}}function sX(e){const t=[];return[].forEach.call(e.children,r=>{r.getAttribute("aria-hidden")==="true"&&t.push(r)}),t}class lX{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,r){let n=this.modals.indexOf(t);if(n!==-1)return n;n=this.modals.length,this.modals.push(t),t.modalRef&&N1(t.modalRef,!1);const o=sX(r);D6(r,t.mount,t.modalRef,o,!0);const s=IS(this.containers,u=>u.container===r);return s!==-1?(this.containers[s].modals.push(t),n):(this.containers.push({modals:[t],container:r,restore:null,hiddenSiblings:o}),n)}mount(t,r){const n=IS(this.containers,s=>s.modals.indexOf(t)!==-1),o=this.containers[n];o.restore||(o.restore=aX(o,r))}remove(t,r=!0){const n=this.modals.indexOf(t);if(n===-1)return n;const o=IS(this.containers,u=>u.modals.indexOf(t)!==-1),s=this.containers[o];if(s.modals.splice(s.modals.indexOf(t),1),this.modals.splice(n,1),s.modals.length===0)s.restore&&s.restore(),t.modalRef&&N1(t.modalRef,r),D6(s.container,t.mount,t.modalRef,s.hiddenSiblings,!1),this.containers.splice(o,1);else{const u=s.modals[s.modals.length-1];u.modalRef&&N1(u.modalRef,!1)}return n}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}function uX(e){return typeof e=="function"?e():e}function cX(e){return e?e.props.hasOwnProperty("in"):!1}const hX=new lX;function dX(e){const{container:t,disableEscapeKeyDown:r=!1,disableScrollLock:n=!1,manager:o=hX,closeAfterTransition:s=!1,onTransitionEnter:u,onTransitionExited:l,children:f,onClose:v,open:x,rootRef:w}=e,C=Q.useRef({}),P=Q.useRef(null),O=Q.useRef(null),I=Sa(O,w),[z,N]=Q.useState(!x),j=cX(f);let V=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(V=!1);const W=()=>Xo(P.current),re=()=>(C.current.modalRef=O.current,C.current.mount=P.current,C.current),ie=()=>{o.mount(re(),{disableScrollLock:n}),O.current&&(O.current.scrollTop=0)},J=bu(()=>{const Le=uX(t)||W().body;o.add(re(),Le),O.current&&ie()}),ne=Q.useCallback(()=>o.isTopModal(re()),[o]),Ae=bu(Le=>{P.current=Le,Le&&(x&&ne()?ie():O.current&&N1(O.current,V))}),Z=Q.useCallback(()=>{o.remove(re(),V)},[V,o]);Q.useEffect(()=>()=>{Z()},[Z]),Q.useEffect(()=>{x?J():(!j||!s)&&Z()},[x,Z,j,s,J]);const X=Le=>je=>{var xe;(xe=Le.onKeyDown)==null||xe.call(Le,je),!(je.key!=="Escape"||je.which===229||!ne())&&(r||(je.stopPropagation(),v&&v(je,"escapeKeyDown")))},oe=Le=>je=>{var xe;(xe=Le.onClick)==null||xe.call(Le,je),je.target===je.currentTarget&&v&&v(je,"backdropClick")};return{getRootProps:(Le={})=>{const je=O1(e);delete je.onTransitionEnter,delete je.onTransitionExited;const xe=ko({},je,Le);return ko({role:"presentation"},xe,{onKeyDown:X(xe),ref:I})},getBackdropProps:(Le={})=>{const je=Le;return ko({"aria-hidden":!0},je,{onClick:oe(je),open:x})},getTransitionProps:()=>{const Le=()=>{N(!1),u&&u()},je=()=>{N(!0),l&&l(),s&&Z()};return{onEnter:mC(Le,f==null?void 0:f.props.onEnter),onExited:mC(je,f==null?void 0:f.props.onExited)}},rootRef:I,portalRef:Ae,isTopModal:ne,exited:z,hasTransition:j}}function fX(e){const{children:t,defer:r=!1,fallback:n=null}=e,[o,s]=Q.useState(!1);return Cu(()=>{r||s(!0)},[r]),Q.useEffect(()=>{r&&s(!0)},[r]),ut.jsx(Q.Fragment,{children:o?t:n})}const pX=2;function rF(e,t){return e-t}function R6(e,t){var r;const{index:n}=(r=e.reduce((o,s,u)=>{const l=Math.abs(t-s);return o===null||l<o.distance||l===o.distance?{distance:l,index:u}:o},null))!=null?r:{};return n}function ab(e,t){if(t.current!==void 0&&e.changedTouches){const r=e;for(let n=0;n<r.changedTouches.length;n+=1){const o=r.changedTouches[n];if(o.identifier===t.current)return{x:o.clientX,y:o.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function O_(e,t,r){return(e-t)*100/(r-t)}function mX(e,t,r){return(r-t)*e+t}function gX(e){if(Math.abs(e)<1){const r=e.toExponential().split("e-"),n=r[0].split(".")[1];return(n?n.length:0)+parseInt(r[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}function yX(e,t,r){const n=Math.round((e-r)/t)*t+r;return Number(n.toFixed(gX(t)))}function O6({values:e,newValue:t,index:r}){const n=e.slice();return n[r]=t,n.sort(rF)}function sb({sliderRef:e,activeIndex:t,setActive:r}){var n,o;const s=Xo(e.current);if(!((n=e.current)!=null&&n.contains(s.activeElement))||Number(s==null||(o=s.activeElement)==null?void 0:o.getAttribute("data-index"))!==t){var u;(u=e.current)==null||u.querySelector(`[type="range"][data-index="${t}"]`).focus()}r&&r(t)}function lb(e,t){return typeof e=="number"&&typeof t=="number"?e===t:typeof e=="object"&&typeof t=="object"?_W(e,t):!1}const vX={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},bX=e=>e;let ub;function N6(){return ub===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?ub=CSS.supports("touch-action","none"):ub=!0),ub}function _X(e){const{"aria-labelledby":t,defaultValue:r,disabled:n=!1,disableSwap:o=!1,isRtl:s=!1,marks:u=!1,max:l=100,min:f=0,name:v,onChange:x,onChangeCommitted:w,orientation:C="horizontal",rootRef:P,scale:O=bX,step:I=1,shiftStep:z=10,tabIndex:N,value:j}=e,V=Q.useRef(),[W,re]=Q.useState(-1),[ie,J]=Q.useState(-1),[ne,Ae]=Q.useState(!1),Z=Q.useRef(0),[X,oe]=fv({controlled:j,default:r??f,name:"Slider"}),be=x&&((Ze,mt,Rt)=>{const Lt=Ze.nativeEvent||Ze,Br=new Lt.constructor(Lt.type,Lt);Object.defineProperty(Br,"target",{writable:!0,value:{value:mt,name:v}}),x(Br,mt,Rt)}),ge=Array.isArray(X);let De=ge?X.slice().sort(rF):[X];De=De.map(Ze=>Ze==null?f:yp(Ze,f,l));const Le=u===!0&&I!==null?[...Array(Math.floor((l-f)/I)+1)].map((Ze,mt)=>({value:f+I*mt})):u||[],je=Le.map(Ze=>Ze.value),{isFocusVisibleRef:xe,onBlur:Oe,onFocus:Ke,ref:ht}=HE(),[le,me]=Q.useState(-1),we=Q.useRef(),Ie=Sa(ht,we),Me=Sa(P,Ie),tt=Ze=>mt=>{var Rt;const Lt=Number(mt.currentTarget.getAttribute("data-index"));Ke(mt),xe.current===!0&&me(Lt),J(Lt),Ze==null||(Rt=Ze.onFocus)==null||Rt.call(Ze,mt)},Ue=Ze=>mt=>{var Rt;Oe(mt),xe.current===!1&&me(-1),J(-1),Ze==null||(Rt=Ze.onBlur)==null||Rt.call(Ze,mt)},qe=(Ze,mt)=>{const Rt=Number(Ze.currentTarget.getAttribute("data-index")),Lt=De[Rt],Br=je.indexOf(Lt);let rt=mt;if(Le&&I==null){const Qt=je[je.length-1];rt>Qt?rt=Qt:rt<je[0]?rt=je[0]:rt=rt<Lt?je[Br-1]:je[Br+1]}if(rt=yp(rt,f,l),ge){o&&(rt=yp(rt,De[Rt-1]||-1/0,De[Rt+1]||1/0));const Qt=rt;rt=O6({values:De,newValue:rt,index:Rt});let Vt=Rt;o||(Vt=rt.indexOf(Qt)),sb({sliderRef:we,activeIndex:Vt})}oe(rt),me(Rt),be&&!lb(rt,X)&&be(Ze,rt,Rt),w&&w(Ze,rt)},lt=Ze=>mt=>{var Rt;if(I!==null){const Lt=Number(mt.currentTarget.getAttribute("data-index")),Br=De[Lt];let rt=null;(mt.key==="ArrowLeft"||mt.key==="ArrowDown")&&mt.shiftKey||mt.key==="PageDown"?rt=Math.max(Br-z,f):((mt.key==="ArrowRight"||mt.key==="ArrowUp")&&mt.shiftKey||mt.key==="PageUp")&&(rt=Math.min(Br+z,l)),rt!==null&&(qe(mt,rt),mt.preventDefault())}Ze==null||(Rt=Ze.onKeyDown)==null||Rt.call(Ze,mt)};Cu(()=>{if(n&&we.current.contains(document.activeElement)){var Ze;(Ze=document.activeElement)==null||Ze.blur()}},[n]),n&&W!==-1&&re(-1),n&&le!==-1&&me(-1);const pt=Ze=>mt=>{var Rt;(Rt=Ze.onChange)==null||Rt.call(Ze,mt),qe(mt,mt.target.valueAsNumber)},Et=Q.useRef();let St=C;s&&C==="horizontal"&&(St+="-reverse");const kt=({finger:Ze,move:mt=!1})=>{const{current:Rt}=we,{width:Lt,height:Br,bottom:rt,left:Qt}=Rt.getBoundingClientRect();let Vt;St.indexOf("vertical")===0?Vt=(rt-Ze.y)/Br:Vt=(Ze.x-Qt)/Lt,St.indexOf("-reverse")!==-1&&(Vt=1-Vt);let xr;if(xr=mX(Vt,f,l),I)xr=yX(xr,I,f);else{const rr=R6(je,xr);xr=je[rr]}xr=yp(xr,f,l);let rn=0;if(ge){mt?rn=Et.current:rn=R6(De,xr),o&&(xr=yp(xr,De[rn-1]||-1/0,De[rn+1]||1/0));const rr=xr;xr=O6({values:De,newValue:xr,index:rn}),o&&mt||(rn=xr.indexOf(rr),Et.current=rn)}return{newValue:xr,activeIndex:rn}},ct=bu(Ze=>{const mt=ab(Ze,V);if(!mt)return;if(Z.current+=1,Ze.type==="mousemove"&&Ze.buttons===0){de(Ze);return}const{newValue:Rt,activeIndex:Lt}=kt({finger:mt,move:!0});sb({sliderRef:we,activeIndex:Lt,setActive:re}),oe(Rt),!ne&&Z.current>pX&&Ae(!0),be&&!lb(Rt,X)&&be(Ze,Rt,Lt)}),de=bu(Ze=>{const mt=ab(Ze,V);if(Ae(!1),!mt)return;const{newValue:Rt}=kt({finger:mt,move:!0});re(-1),Ze.type==="touchend"&&J(-1),w&&w(Ze,Rt),V.current=void 0,Kt()}),hr=bu(Ze=>{if(n)return;N6()||Ze.preventDefault();const mt=Ze.changedTouches[0];mt!=null&&(V.current=mt.identifier);const Rt=ab(Ze,V);if(Rt!==!1){const{newValue:Br,activeIndex:rt}=kt({finger:Rt});sb({sliderRef:we,activeIndex:rt,setActive:re}),oe(Br),be&&!lb(Br,X)&&be(Ze,Br,rt)}Z.current=0;const Lt=Xo(we.current);Lt.addEventListener("touchmove",ct,{passive:!0}),Lt.addEventListener("touchend",de,{passive:!0})}),Kt=Q.useCallback(()=>{const Ze=Xo(we.current);Ze.removeEventListener("mousemove",ct),Ze.removeEventListener("mouseup",de),Ze.removeEventListener("touchmove",ct),Ze.removeEventListener("touchend",de)},[de,ct]);Q.useEffect(()=>{const{current:Ze}=we;return Ze.addEventListener("touchstart",hr,{passive:N6()}),()=>{Ze.removeEventListener("touchstart",hr),Kt()}},[Kt,hr]),Q.useEffect(()=>{n&&Kt()},[n,Kt]);const bt=Ze=>mt=>{var Rt;if((Rt=Ze.onMouseDown)==null||Rt.call(Ze,mt),n||mt.defaultPrevented||mt.button!==0)return;mt.preventDefault();const Lt=ab(mt,V);if(Lt!==!1){const{newValue:rt,activeIndex:Qt}=kt({finger:Lt});sb({sliderRef:we,activeIndex:Qt,setActive:re}),oe(rt),be&&!lb(rt,X)&&be(mt,rt,Qt)}Z.current=0;const Br=Xo(we.current);Br.addEventListener("mousemove",ct,{passive:!0}),Br.addEventListener("mouseup",de)},Pt=O_(ge?De[0]:f,f,l),Ot=O_(De[De.length-1],f,l)-Pt,Gt=(Ze={})=>{const mt=O1(Ze),Rt={onMouseDown:bt(mt||{})},Lt=ko({},mt,Rt);return ko({},Ze,{ref:Me},Lt)},It=Ze=>mt=>{var Rt;(Rt=Ze.onMouseOver)==null||Rt.call(Ze,mt);const Lt=Number(mt.currentTarget.getAttribute("data-index"));J(Lt)},ir=Ze=>mt=>{var Rt;(Rt=Ze.onMouseLeave)==null||Rt.call(Ze,mt),J(-1)};return{active:W,axis:St,axisProps:vX,dragging:ne,focusedThumbIndex:le,getHiddenInputProps:(Ze={})=>{var mt;const Rt=O1(Ze),Lt={onChange:pt(Rt||{}),onFocus:tt(Rt||{}),onBlur:Ue(Rt||{}),onKeyDown:lt(Rt||{})},Br=ko({},Rt,Lt);return ko({tabIndex:N,"aria-labelledby":t,"aria-orientation":C,"aria-valuemax":O(l),"aria-valuemin":O(f),name:v,type:"range",min:e.min,max:e.max,step:e.step===null&&e.marks?"any":(mt=e.step)!=null?mt:void 0,disabled:n},Ze,Br,{style:ko({},iH,{direction:s?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:Gt,getThumbProps:(Ze={})=>{const mt=O1(Ze),Rt={onMouseOver:It(mt||{}),onMouseLeave:ir(mt||{})};return ko({},Ze,mt,Rt)},marks:Le,open:ie,range:ge,rootRef:Me,trackLeap:Ot,trackOffset:Pt,values:De,getThumbStyle:Ze=>({pointerEvents:W!==-1&&W!==Ze?"none":void 0})}}const xX=["onChange","maxRows","minRows","style","value"];function cb(e){return parseInt(e,10)||0}const wX={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function F6(e){return e==null||Object.keys(e).length===0||e.outerHeightStyle===0&&!e.overflow}const SX=Q.forwardRef(function(t,r){const{onChange:n,maxRows:o,minRows:s=1,style:u,value:l}=t,f=tF(t,xX),{current:v}=Q.useRef(l!=null),x=Q.useRef(null),w=Sa(r,x),C=Q.useRef(null),P=Q.useRef(0),[O,I]=Q.useState({outerHeightStyle:0}),z=Q.useCallback(()=>{const W=x.current,ie=jl(W).getComputedStyle(W);if(ie.width==="0px")return{outerHeightStyle:0};const J=C.current;J.style.width=ie.width,J.value=W.value||t.placeholder||"x",J.value.slice(-1)===`
`&&(J.value+=" ");const ne=ie.boxSizing,Ae=cb(ie.paddingBottom)+cb(ie.paddingTop),Z=cb(ie.borderBottomWidth)+cb(ie.borderTopWidth),X=J.scrollHeight;J.value="x";const oe=J.scrollHeight;let be=X;s&&(be=Math.max(Number(s)*oe,be)),o&&(be=Math.min(Number(o)*oe,be)),be=Math.max(be,oe);const ge=be+(ne==="border-box"?Ae+Z:0),De=Math.abs(be-X)<=1;return{outerHeightStyle:ge,overflow:De}},[o,s,t.placeholder]),N=(W,re)=>{const{outerHeightStyle:ie,overflow:J}=re;return P.current<20&&(ie>0&&Math.abs((W.outerHeightStyle||0)-ie)>1||W.overflow!==J)?(P.current+=1,{overflow:J,outerHeightStyle:ie}):W},j=Q.useCallback(()=>{const W=z();F6(W)||I(re=>N(re,W))},[z]);Cu(()=>{const W=()=>{const X=z();F6(X)||kg.flushSync(()=>{I(oe=>N(oe,X))})},re=()=>{P.current=0,W()};let ie;const J=Vx(re),ne=x.current,Ae=jl(ne);Ae.addEventListener("resize",J);let Z;return typeof ResizeObserver<"u"&&(Z=new ResizeObserver(re),Z.observe(ne)),()=>{J.clear(),cancelAnimationFrame(ie),Ae.removeEventListener("resize",J),Z&&Z.disconnect()}},[z]),Cu(()=>{j()}),Q.useEffect(()=>{P.current=0},[l]);const V=W=>{P.current=0,v||j(),n&&n(W)};return ut.jsxs(Q.Fragment,{children:[ut.jsx("textarea",ko({value:l,onChange:V,ref:w,rows:s,style:ko({height:O.outerHeightStyle,overflow:O.overflow?"hidden":void 0},u)},f)),ut.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:C,tabIndex:-1,style:ko({},wX.shadow,u,{paddingTop:0,paddingBottom:0})})]})});function Wg({props:e,states:t,muiFormControl:r}){return t.reduce((n,o)=>(n[o]=e[o],r&&typeof e[o]>"u"&&(n[o]=r[o]),n),{})}const o4=Q.createContext(void 0);function im(){return Q.useContext(o4)}function CX(e){return ut.jsx(iG,Ve({},e,{defaultTheme:iw,themeId:Wp}))}function $6(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function N_(e,t=!1){return e&&($6(e.value)&&e.value!==""||t&&$6(e.defaultValue)&&e.defaultValue!=="")}function AX(e){return e.startAdornment}function EX(e){return $n("MuiInputBase",e)}const Lg=On("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),TX=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],bw=(e,t)=>{const{ownerState:r}=e;return[t.root,r.formControl&&t.formControl,r.startAdornment&&t.adornedStart,r.endAdornment&&t.adornedEnd,r.error&&t.error,r.size==="small"&&t.sizeSmall,r.multiline&&t.multiline,r.color&&t[`color${Rr(r.color)}`],r.fullWidth&&t.fullWidth,r.hiddenLabel&&t.hiddenLabel]},_w=(e,t)=>{const{ownerState:r}=e;return[t.input,r.size==="small"&&t.inputSizeSmall,r.multiline&&t.inputMultiline,r.type==="search"&&t.inputTypeSearch,r.startAdornment&&t.inputAdornedStart,r.endAdornment&&t.inputAdornedEnd,r.hiddenLabel&&t.inputHiddenLabel]},PX=e=>{const{classes:t,color:r,disabled:n,error:o,endAdornment:s,focused:u,formControl:l,fullWidth:f,hiddenLabel:v,multiline:x,readOnly:w,size:C,startAdornment:P,type:O}=e,I={root:["root",`color${Rr(r)}`,n&&"disabled",o&&"error",f&&"fullWidth",u&&"focused",l&&"formControl",C&&C!=="medium"&&`size${Rr(C)}`,x&&"multiline",P&&"adornedStart",s&&"adornedEnd",v&&"hiddenLabel",w&&"readOnly"],input:["input",n&&"disabled",O==="search"&&"inputTypeSearch",x&&"inputMultiline",C==="small"&&"inputSizeSmall",v&&"inputHiddenLabel",P&&"inputAdornedStart",s&&"inputAdornedEnd",w&&"readOnly"]};return qn(I,EX,t)},xw=cr("div",{name:"MuiInputBase",slot:"Root",overridesResolver:bw})(({theme:e,ownerState:t})=>Ve({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Lg.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&Ve({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),ww=cr("input",{name:"MuiInputBase",slot:"Input",overridesResolver:_w})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light",n=Ve({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),o={opacity:"0 !important"},s=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return Ve({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Lg.formControl} &`]:{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${Lg.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),kX=ut.jsx(CX,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),a4=Q.forwardRef(function(t,r){var n;const o=Qn({props:t,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:u,autoFocus:l,className:f,components:v={},componentsProps:x={},defaultValue:w,disabled:C,disableInjectingGlobalStyles:P,endAdornment:O,fullWidth:I=!1,id:z,inputComponent:N="input",inputProps:j={},inputRef:V,maxRows:W,minRows:re,multiline:ie=!1,name:J,onBlur:ne,onChange:Ae,onClick:Z,onFocus:X,onKeyDown:oe,onKeyUp:be,placeholder:ge,readOnly:De,renderSuffix:Le,rows:je,slotProps:xe={},slots:Oe={},startAdornment:Ke,type:ht="text",value:le}=o,me=tn(o,TX),we=j.value!=null?j.value:le,{current:Ie}=Q.useRef(we!=null),Me=Q.useRef(),tt=Q.useCallback(Ze=>{},[]),Ue=Sa(Me,V,j.ref,tt),[qe,lt]=Q.useState(!1),pt=im(),Et=Wg({props:o,muiFormControl:pt,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Et.focused=pt?pt.focused:qe,Q.useEffect(()=>{!pt&&C&&qe&&(lt(!1),ne&&ne())},[pt,C,qe,ne]);const St=pt&&pt.onFilled,kt=pt&&pt.onEmpty,ct=Q.useCallback(Ze=>{N_(Ze)?St&&St():kt&&kt()},[St,kt]);Cu(()=>{Ie&&ct({value:we})},[we,ct,Ie]);const de=Ze=>{if(Et.disabled){Ze.stopPropagation();return}X&&X(Ze),j.onFocus&&j.onFocus(Ze),pt&&pt.onFocus?pt.onFocus(Ze):lt(!0)},hr=Ze=>{ne&&ne(Ze),j.onBlur&&j.onBlur(Ze),pt&&pt.onBlur?pt.onBlur(Ze):lt(!1)},Kt=(Ze,...mt)=>{if(!Ie){const Rt=Ze.target||Me.current;if(Rt==null)throw new Error(Su(1));ct({value:Rt.value})}j.onChange&&j.onChange(Ze,...mt),Ae&&Ae(Ze,...mt)};Q.useEffect(()=>{ct(Me.current)},[]);const bt=Ze=>{Me.current&&Ze.currentTarget===Ze.target&&Me.current.focus(),Z&&Z(Ze)};let Pt=N,Ot=j;ie&&Pt==="input"&&(je?Ot=Ve({type:void 0,minRows:je,maxRows:je},Ot):Ot=Ve({type:void 0,maxRows:W,minRows:re},Ot),Pt=SX);const Gt=Ze=>{ct(Ze.animationName==="mui-auto-fill-cancel"?Me.current:{value:"x"})};Q.useEffect(()=>{pt&&pt.setAdornedStart(!!Ke)},[pt,Ke]);const It=Ve({},o,{color:Et.color||"primary",disabled:Et.disabled,endAdornment:O,error:Et.error,focused:Et.focused,formControl:pt,fullWidth:I,hiddenLabel:Et.hiddenLabel,multiline:ie,size:Et.size,startAdornment:Ke,type:ht}),ir=PX(It),vr=Oe.root||v.Root||xw,Pr=xe.root||x.root||{},Vr=Oe.input||v.Input||ww;return Ot=Ve({},Ot,(n=xe.input)!=null?n:x.input),ut.jsxs(Q.Fragment,{children:[!P&&kX,ut.jsxs(vr,Ve({},Pr,!Rh(vr)&&{ownerState:Ve({},It,Pr.ownerState)},{ref:r,onClick:bt},me,{className:jr(ir.root,Pr.className,f,De&&"MuiInputBase-readOnly"),children:[Ke,ut.jsx(o4.Provider,{value:null,children:ut.jsx(Vr,Ve({ownerState:It,"aria-invalid":Et.error,"aria-describedby":s,autoComplete:u,autoFocus:l,defaultValue:w,disabled:Et.disabled,id:z,onAnimationStart:Gt,name:J,placeholder:ge,readOnly:De,required:Et.required,rows:je,value:we,onKeyDown:oe,onKeyUp:be,type:ht},Ot,!Rh(Vr)&&{as:Pt,ownerState:Ve({},It,Ot.ownerState)},{ref:Ue,className:jr(ir.input,Ot.className,De&&"MuiInputBase-readOnly"),onBlur:hr,onChange:Kt,onFocus:de}))}),O,Le?Le(Ve({},Et,{startAdornment:Ke})):null]}))]})});function IX(e){return $n("MuiInput",e)}const Vy=Ve({},Lg,On("MuiInput",["root","underline","input"]));function LX(e){return $n("MuiOutlinedInput",e)}const nf=Ve({},Lg,On("MuiOutlinedInput",["root","notchedOutline","input"]));function MX(e){return $n("MuiFilledInput",e)}const cp=Ve({},Lg,On("MuiFilledInput",["root","underline","input"])),DX=ow(ut.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),RX=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],OX={entering:{opacity:1},entered:{opacity:1}},nF=Q.forwardRef(function(t,r){const n=Nd(),o={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:s,appear:u=!0,children:l,easing:f,in:v,onEnter:x,onEntered:w,onEntering:C,onExit:P,onExited:O,onExiting:I,style:z,timeout:N=o,TransitionComponent:j=Vc}=t,V=tn(t,RX),W=Q.useRef(null),re=Sa(W,l.ref,r),ie=ge=>De=>{if(ge){const Le=W.current;De===void 0?ge(Le):ge(Le,De)}},J=ie(C),ne=ie((ge,De)=>{i4(ge);const Le=Yp({style:z,timeout:N,easing:f},{mode:"enter"});ge.style.webkitTransition=n.transitions.create("opacity",Le),ge.style.transition=n.transitions.create("opacity",Le),x&&x(ge,De)}),Ae=ie(w),Z=ie(I),X=ie(ge=>{const De=Yp({style:z,timeout:N,easing:f},{mode:"exit"});ge.style.webkitTransition=n.transitions.create("opacity",De),ge.style.transition=n.transitions.create("opacity",De),P&&P(ge)}),oe=ie(O),be=ge=>{s&&s(W.current,ge)};return ut.jsx(j,Ve({appear:u,in:v,nodeRef:W,onEnter:ne,onEntered:Ae,onEntering:J,onExit:X,onExited:oe,onExiting:Z,addEndListener:be,timeout:N},V,{children:(ge,De)=>Q.cloneElement(l,Ve({style:Ve({opacity:0,visibility:ge==="exited"&&!v?"hidden":void 0},OX[ge],z,l.props.style),ref:re},De))}))});function NX(e){return $n("MuiBackdrop",e)}On("MuiBackdrop",["root","invisible"]);const FX=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],$X=e=>{const{classes:t,invisible:r}=e;return qn({root:["root",r&&"invisible"]},NX,t)},BX=cr("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.invisible&&t.invisible]}})(({ownerState:e})=>Ve({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),iF=Q.forwardRef(function(t,r){var n,o,s;const u=Qn({props:t,name:"MuiBackdrop"}),{children:l,className:f,component:v="div",components:x={},componentsProps:w={},invisible:C=!1,open:P,slotProps:O={},slots:I={},TransitionComponent:z=nF,transitionDuration:N}=u,j=tn(u,FX),V=Ve({},u,{component:v,invisible:C}),W=$X(V),re=(n=O.root)!=null?n:w.root;return ut.jsx(z,Ve({in:P,timeout:N},j,{children:ut.jsx(BX,Ve({"aria-hidden":!0},re,{as:(o=(s=I.root)!=null?s:x.Root)!=null?o:v,className:jr(W.root,f,re==null?void 0:re.className),ownerState:Ve({},V,re==null?void 0:re.ownerState),classes:W,ref:r,children:l}))}))}),zX=On("MuiBox",["root"]),jX=Jv(),Sd=qN({themeId:Wp,defaultTheme:jX,defaultClassName:zX.root,generateClassName:Wx.generate});function UX(e){return $n("MuiButton",e)}const hb=On("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),VX=Q.createContext({}),qX=Q.createContext(void 0),HX=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],GX=e=>{const{color:t,disableElevation:r,fullWidth:n,size:o,variant:s,classes:u}=e,l={root:["root",s,`${s}${Rr(t)}`,`size${Rr(o)}`,`${s}Size${Rr(o)}`,t==="inherit"&&"colorInherit",r&&"disableElevation",n&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${Rr(o)}`],endIcon:["endIcon",`iconSize${Rr(o)}`]},f=qn(l,UX,u);return Ve({},u,f)},oF=e=>Ve({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),WX=cr(vw,{shouldForwardProp:e=>Gs(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${Rr(r.color)}`],t[`size${Rr(r.size)}`],t[`${r.variant}Size${Rr(r.size)}`],r.color==="inherit"&&t.colorInherit,r.disableElevation&&t.disableElevation,r.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var r,n;const o=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],s=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return Ve({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":Ve({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:ll(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ll(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ll(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":Ve({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${hb.focusVisible}`]:Ve({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${hb.disabled}`]:Ve({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${ll(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(r=(n=e.palette).getContrastText)==null?void 0:r.call(n,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:o,boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${hb.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${hb.disabled}`]:{boxShadow:"none"}}),XX=cr("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.startIcon,t[`iconSize${Rr(r.size)}`]]}})(({ownerState:e})=>Ve({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},oF(e))),KX=cr("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.endIcon,t[`iconSize${Rr(r.size)}`]]}})(({ownerState:e})=>Ve({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},oF(e))),wC=Q.forwardRef(function(t,r){const n=Q.useContext(VX),o=Q.useContext(qX),s=Gx(n,t),u=Qn({props:s,name:"MuiButton"}),{children:l,color:f="primary",component:v="button",className:x,disabled:w=!1,disableElevation:C=!1,disableFocusRipple:P=!1,endIcon:O,focusVisibleClassName:I,fullWidth:z=!1,size:N="medium",startIcon:j,type:V,variant:W="text"}=u,re=tn(u,HX),ie=Ve({},u,{color:f,component:v,disabled:w,disableElevation:C,disableFocusRipple:P,fullWidth:z,size:N,type:V,variant:W}),J=GX(ie),ne=j&&ut.jsx(XX,{className:J.startIcon,ownerState:ie,children:j}),Ae=O&&ut.jsx(KX,{className:J.endIcon,ownerState:ie,children:O}),Z=o||"";return ut.jsxs(WX,Ve({ownerState:ie,className:jr(n.className,J.root,x,Z),component:v,disabled:w,focusRipple:!P,focusVisibleClassName:jr(J.focusVisible,I),ref:r,type:V},re,{classes:J,children:[ne,l,Ae]}))});function ZX(e){return $n("PrivateSwitchBase",e)}On("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const YX=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],JX=e=>{const{classes:t,checked:r,disabled:n,edge:o}=e,s={root:["root",r&&"checked",n&&"disabled",o&&`edge${Rr(o)}`],input:["input"]};return qn(s,ZX,t)},QX=cr(vw)(({ownerState:e})=>Ve({padding:9,borderRadius:"50%"},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12})),eK=cr("input",{shouldForwardProp:Gs})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),tK=Q.forwardRef(function(t,r){const{autoFocus:n,checked:o,checkedIcon:s,className:u,defaultChecked:l,disabled:f,disableFocusRipple:v=!1,edge:x=!1,icon:w,id:C,inputProps:P,inputRef:O,name:I,onBlur:z,onChange:N,onFocus:j,readOnly:V,required:W=!1,tabIndex:re,type:ie,value:J}=t,ne=tn(t,YX),[Ae,Z]=fv({controlled:o,default:!!l,name:"SwitchBase",state:"checked"}),X=im(),oe=Oe=>{j&&j(Oe),X&&X.onFocus&&X.onFocus(Oe)},be=Oe=>{z&&z(Oe),X&&X.onBlur&&X.onBlur(Oe)},ge=Oe=>{if(Oe.nativeEvent.defaultPrevented)return;const Ke=Oe.target.checked;Z(Ke),N&&N(Oe,Ke)};let De=f;X&&typeof De>"u"&&(De=X.disabled);const Le=ie==="checkbox"||ie==="radio",je=Ve({},t,{checked:Ae,disabled:De,disableFocusRipple:v,edge:x}),xe=JX(je);return ut.jsxs(QX,Ve({component:"span",className:jr(xe.root,u),centerRipple:!0,focusRipple:!v,disabled:De,tabIndex:null,role:void 0,onFocus:oe,onBlur:be,ownerState:je,ref:r},ne,{children:[ut.jsx(eK,Ve({autoFocus:n,checked:o,defaultChecked:l,className:xe.input,disabled:De,id:Le?C:void 0,name:I,onChange:ge,readOnly:V,ref:O,required:W,ownerState:je,tabIndex:re,type:ie},ie==="checkbox"&&J===void 0?{}:{value:J},P)),Ae?s:w]}))}),rK=ow(ut.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),nK=ow(ut.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),iK=ow(ut.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function oK(e){return $n("MuiCheckbox",e)}const LS=On("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),aK=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],sK=e=>{const{classes:t,indeterminate:r,color:n,size:o}=e,s={root:["root",r&&"indeterminate",`color${Rr(n)}`,`size${Rr(o)}`]},u=qn(s,oK,t);return Ve({},t,u)},lK=cr(tK,{shouldForwardProp:e=>Gs(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.indeterminate&&t.indeterminate,t[`size${Rr(r.size)}`],r.color!=="default"&&t[`color${Rr(r.color)}`]]}})(({theme:e,ownerState:t})=>Ve({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${t.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ll(t.color==="default"?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${LS.checked}, &.${LS.indeterminate}`]:{color:(e.vars||e).palette[t.color].main},[`&.${LS.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),uK=ut.jsx(nK,{}),cK=ut.jsx(rK,{}),hK=ut.jsx(iK,{}),aF=Q.forwardRef(function(t,r){var n,o;const s=Qn({props:t,name:"MuiCheckbox"}),{checkedIcon:u=uK,color:l="primary",icon:f=cK,indeterminate:v=!1,indeterminateIcon:x=hK,inputProps:w,size:C="medium",className:P}=s,O=tn(s,aK),I=v?x:f,z=v?x:u,N=Ve({},s,{color:l,indeterminate:v,size:C}),j=sK(N);return ut.jsx(lK,Ve({type:"checkbox",inputProps:Ve({"data-indeterminate":v},w),icon:Q.cloneElement(I,{fontSize:(n=I.props.fontSize)!=null?n:C}),checkedIcon:Q.cloneElement(z,{fontSize:(o=z.props.fontSize)!=null?o:C}),ownerState:N,ref:r,className:jr(j.root,P)},O,{classes:j}))});function dK(e){return $n("MuiModal",e)}On("MuiModal",["root","hidden","backdrop"]);const fK=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],pK=e=>{const{open:t,exited:r,classes:n}=e;return qn({root:["root",!t&&r&&"hidden"],backdrop:["backdrop"]},dK,n)},mK=cr("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.open&&r.exited&&t.hidden]}})(({theme:e,ownerState:t})=>Ve({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),gK=cr(iF,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),s4=Q.forwardRef(function(t,r){var n,o,s,u,l,f;const v=Qn({name:"MuiModal",props:t}),{BackdropComponent:x=gK,BackdropProps:w,className:C,closeAfterTransition:P=!1,children:O,container:I,component:z,components:N={},componentsProps:j={},disableAutoFocus:V=!1,disableEnforceFocus:W=!1,disableEscapeKeyDown:re=!1,disablePortal:ie=!1,disableRestoreFocus:J=!1,disableScrollLock:ne=!1,hideBackdrop:Ae=!1,keepMounted:Z=!1,onBackdropClick:X,open:oe,slotProps:be,slots:ge}=v,De=tn(v,fK),Le=Ve({},v,{closeAfterTransition:P,disableAutoFocus:V,disableEnforceFocus:W,disableEscapeKeyDown:re,disablePortal:ie,disableRestoreFocus:J,disableScrollLock:ne,hideBackdrop:Ae,keepMounted:Z}),{getRootProps:je,getBackdropProps:xe,getTransitionProps:Oe,portalRef:Ke,isTopModal:ht,exited:le,hasTransition:me}=dX(Ve({},Le,{rootRef:r})),we=Ve({},Le,{exited:le}),Ie=pK(we),Me={};if(O.props.tabIndex===void 0&&(Me.tabIndex="-1"),me){const{onEnter:St,onExited:kt}=Oe();Me.onEnter=St,Me.onExited=kt}const tt=(n=(o=ge==null?void 0:ge.root)!=null?o:N.Root)!=null?n:mK,Ue=(s=(u=ge==null?void 0:ge.backdrop)!=null?u:N.Backdrop)!=null?s:x,qe=(l=be==null?void 0:be.root)!=null?l:j.root,lt=(f=be==null?void 0:be.backdrop)!=null?f:j.backdrop,pt=Ml({elementType:tt,externalSlotProps:qe,externalForwardedProps:De,getSlotProps:je,additionalProps:{ref:r,as:z},ownerState:we,className:jr(C,qe==null?void 0:qe.className,Ie==null?void 0:Ie.root,!we.open&&we.exited&&(Ie==null?void 0:Ie.hidden))}),Et=Ml({elementType:Ue,externalSlotProps:lt,additionalProps:w,getSlotProps:St=>xe(Ve({},St,{onClick:kt=>{X&&X(kt),St!=null&&St.onClick&&St.onClick(kt)}})),className:jr(lt==null?void 0:lt.className,w==null?void 0:w.className,Ie==null?void 0:Ie.backdrop),ownerState:we});return!Z&&!oe&&(!me||le)?null:ut.jsx(nX,{ref:Ke,container:I,disablePortal:ie,children:ut.jsxs(tt,Ve({},pt,{children:[!Ae&&x?ut.jsx(Ue,Ve({},Et)):null,ut.jsx(tX,{disableEnforceFocus:W,disableAutoFocus:V,disableRestoreFocus:J,isEnabled:ht,open:oe,children:Q.cloneElement(O,Me)})]}))})});function yK(e){return $n("MuiDialog",e)}const MS=On("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),sF=Q.createContext({}),vK=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],bK=cr(iF,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),_K=e=>{const{classes:t,scroll:r,maxWidth:n,fullWidth:o,fullScreen:s}=e,u={root:["root"],container:["container",`scroll${Rr(r)}`],paper:["paper",`paperScroll${Rr(r)}`,`paperWidth${Rr(String(n))}`,o&&"paperFullWidth",s&&"paperFullScreen"]};return qn(u,yK,t)},xK=cr(s4,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),wK=cr("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.container,t[`scroll${Rr(r.scroll)}`]]}})(({ownerState:e})=>Ve({height:"100%","@media print":{height:"auto"},outline:0},e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),SK=cr(Jp,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.paper,t[`scrollPaper${Rr(r.scroll)}`],t[`paperWidth${Rr(String(r.maxWidth))}`],r.fullWidth&&t.paperFullWidth,r.fullScreen&&t.paperFullScreen]}})(({theme:e,ownerState:t})=>Ve({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},t.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},t.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},t.maxWidth==="xs"&&{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${MS.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&t.maxWidth!=="xs"&&{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`,[`&.${MS.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${MS.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),CK=Q.forwardRef(function(t,r){const n=Qn({props:t,name:"MuiDialog"}),o=Nd(),s={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{"aria-describedby":u,"aria-labelledby":l,BackdropComponent:f,BackdropProps:v,children:x,className:w,disableEscapeKeyDown:C=!1,fullScreen:P=!1,fullWidth:O=!1,maxWidth:I="sm",onBackdropClick:z,onClose:N,open:j,PaperComponent:V=Jp,PaperProps:W={},scroll:re="paper",TransitionComponent:ie=nF,transitionDuration:J=s,TransitionProps:ne}=n,Ae=tn(n,vK),Z=Ve({},n,{disableEscapeKeyDown:C,fullScreen:P,fullWidth:O,maxWidth:I,scroll:re}),X=_K(Z),oe=Q.useRef(),be=je=>{oe.current=je.target===je.currentTarget},ge=je=>{oe.current&&(oe.current=null,z&&z(je),N&&N(je,"backdropClick"))},De=qx(l),Le=Q.useMemo(()=>({titleId:De}),[De]);return ut.jsx(xK,Ve({className:jr(X.root,w),closeAfterTransition:!0,components:{Backdrop:bK},componentsProps:{backdrop:Ve({transitionDuration:J,as:f},v)},disableEscapeKeyDown:C,onClose:N,open:j,ref:r,onClick:ge,ownerState:Z},Ae,{children:ut.jsx(ie,Ve({appear:!0,in:j,timeout:J,role:"presentation"},ne,{children:ut.jsx(wK,{className:jr(X.container),onMouseDown:be,ownerState:Z,children:ut.jsx(SK,Ve({as:V,elevation:24,role:"dialog","aria-describedby":u,"aria-labelledby":De},W,{className:jr(X.paper,W.className),ownerState:Z,children:ut.jsx(sF.Provider,{value:Le,children:x})}))})}))}))});function AK(e){return $n("MuiDialogActions",e)}On("MuiDialogActions",["root","spacing"]);const EK=["className","disableSpacing"],TK=e=>{const{classes:t,disableSpacing:r}=e;return qn({root:["root",!r&&"spacing"]},AK,t)},PK=cr("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disableSpacing&&t.spacing]}})(({ownerState:e})=>Ve({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),kK=Q.forwardRef(function(t,r){const n=Qn({props:t,name:"MuiDialogActions"}),{className:o,disableSpacing:s=!1}=n,u=tn(n,EK),l=Ve({},n,{disableSpacing:s}),f=TK(l);return ut.jsx(PK,Ve({className:jr(f.root,o),ownerState:l,ref:r},u))});function IK(e){return $n("MuiDialogContent",e)}On("MuiDialogContent",["root","dividers"]);function LK(e){return $n("MuiDialogTitle",e)}const MK=On("MuiDialogTitle",["root"]),DK=["className","dividers"],RK=e=>{const{classes:t,dividers:r}=e;return qn({root:["root",r&&"dividers"]},IK,t)},OK=cr("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.dividers&&t.dividers]}})(({theme:e,ownerState:t})=>Ve({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${MK.root} + &`]:{paddingTop:0}})),NK=Q.forwardRef(function(t,r){const n=Qn({props:t,name:"MuiDialogContent"}),{className:o,dividers:s=!1}=n,u=tn(n,DK),l=Ve({},n,{dividers:s}),f=RK(l);return ut.jsx(OK,Ve({className:jr(f.root,o),ownerState:l,ref:r},u))});function FK(e){return $n("MuiDialogContentText",e)}On("MuiDialogContentText",["root"]);const $K=["children","className"],BK=e=>{const{classes:t}=e,n=qn({root:["root"]},FK,t);return Ve({},t,n)},zK=cr(bd,{shouldForwardProp:e=>Gs(e)||e==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),jK=Q.forwardRef(function(t,r){const n=Qn({props:t,name:"MuiDialogContentText"}),{className:o}=n,s=tn(n,$K),u=BK(s);return ut.jsx(zK,Ve({component:"p",variant:"body1",color:"text.secondary",ref:r,ownerState:s,className:jr(u.root,o)},n,{classes:u}))}),UK=["className","id"],VK=e=>{const{classes:t}=e;return qn({root:["root"]},LK,t)},qK=cr(bd,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),HK=Q.forwardRef(function(t,r){const n=Qn({props:t,name:"MuiDialogTitle"}),{className:o,id:s}=n,u=tn(n,UK),l=n,f=VK(l),{titleId:v=s}=Q.useContext(sF);return ut.jsx(qK,Ve({component:"h2",className:jr(f.root,o),ownerState:l,ref:r,variant:"h6",id:s??v},u))}),GK=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function WK(e,t,r){const n=t.getBoundingClientRect(),o=r&&r.getBoundingClientRect(),s=jl(t);let u;if(t.fakeTransform)u=t.fakeTransform;else{const v=s.getComputedStyle(t);u=v.getPropertyValue("-webkit-transform")||v.getPropertyValue("transform")}let l=0,f=0;if(u&&u!=="none"&&typeof u=="string"){const v=u.split("(")[1].split(")")[0].split(",");l=parseInt(v[4],10),f=parseInt(v[5],10)}return e==="left"?o?`translateX(${o.right+l-n.left}px)`:`translateX(${s.innerWidth+l-n.left}px)`:e==="right"?o?`translateX(-${n.right-o.left-l}px)`:`translateX(-${n.left+n.width-l}px)`:e==="up"?o?`translateY(${o.bottom+f-n.top}px)`:`translateY(${s.innerHeight+f-n.top}px)`:o?`translateY(-${n.top-o.top+n.height-f}px)`:`translateY(-${n.top+n.height-f}px)`}function XK(e){return typeof e=="function"?e():e}function db(e,t,r){const n=XK(r),o=WK(e,t,n);o&&(t.style.webkitTransform=o,t.style.transform=o)}const KK=Q.forwardRef(function(t,r){const n=Nd(),o={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},s={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:u,appear:l=!0,children:f,container:v,direction:x="down",easing:w=o,in:C,onEnter:P,onEntered:O,onEntering:I,onExit:z,onExited:N,onExiting:j,style:V,timeout:W=s,TransitionComponent:re=Vc}=t,ie=tn(t,GK),J=Q.useRef(null),ne=Sa(f.ref,J,r),Ae=xe=>Oe=>{xe&&(Oe===void 0?xe(J.current):xe(J.current,Oe))},Z=Ae((xe,Oe)=>{db(x,xe,v),i4(xe),P&&P(xe,Oe)}),X=Ae((xe,Oe)=>{const Ke=Yp({timeout:W,style:V,easing:w},{mode:"enter"});xe.style.webkitTransition=n.transitions.create("-webkit-transform",Ve({},Ke)),xe.style.transition=n.transitions.create("transform",Ve({},Ke)),xe.style.webkitTransform="none",xe.style.transform="none",I&&I(xe,Oe)}),oe=Ae(O),be=Ae(j),ge=Ae(xe=>{const Oe=Yp({timeout:W,style:V,easing:w},{mode:"exit"});xe.style.webkitTransition=n.transitions.create("-webkit-transform",Oe),xe.style.transition=n.transitions.create("transform",Oe),db(x,xe,v),z&&z(xe)}),De=Ae(xe=>{xe.style.webkitTransition="",xe.style.transition="",N&&N(xe)}),Le=xe=>{u&&u(J.current,xe)},je=Q.useCallback(()=>{J.current&&db(x,J.current,v)},[x,v]);return Q.useEffect(()=>{if(C||x==="down"||x==="right")return;const xe=Vx(()=>{J.current&&db(x,J.current,v)}),Oe=jl(J.current);return Oe.addEventListener("resize",xe),()=>{xe.clear(),Oe.removeEventListener("resize",xe)}},[x,C,v]),Q.useEffect(()=>{C||je()},[C,je]),ut.jsx(re,Ve({nodeRef:J,onEnter:Z,onEntered:oe,onEntering:X,onExit:ge,onExited:De,onExiting:be,addEndListener:Le,appear:l,in:C,timeout:W},ie,{children:(xe,Oe)=>Q.cloneElement(f,Ve({ref:ne,style:Ve({visibility:xe==="exited"&&!C?"hidden":void 0},V,f.props.style)},Oe))}))});function ZK(e){return $n("MuiDrawer",e)}On("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const YK=["BackdropProps"],JK=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],lF=(e,t)=>{const{ownerState:r}=e;return[t.root,(r.variant==="permanent"||r.variant==="persistent")&&t.docked,t.modal]},QK=e=>{const{classes:t,anchor:r,variant:n}=e,o={root:["root"],docked:[(n==="permanent"||n==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${Rr(r)}`,n!=="temporary"&&`paperAnchorDocked${Rr(r)}`]};return qn(o,ZK,t)},eZ=cr(s4,{name:"MuiDrawer",slot:"Root",overridesResolver:lF})(({theme:e})=>({zIndex:(e.vars||e).zIndex.drawer})),B6=cr("div",{shouldForwardProp:Gs,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:lF})({flex:"0 0 auto"}),tZ=cr(Jp,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.paper,t[`paperAnchor${Rr(r.anchor)}`],r.variant!=="temporary"&&t[`paperAnchorDocked${Rr(r.anchor)}`]]}})(({theme:e,ownerState:t})=>Ve({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(e.vars||e).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},t.anchor==="left"&&{left:0},t.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},t.anchor==="right"&&{right:0},t.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},t.anchor==="left"&&t.variant!=="temporary"&&{borderRight:`1px solid ${(e.vars||e).palette.divider}`},t.anchor==="top"&&t.variant!=="temporary"&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`},t.anchor==="right"&&t.variant!=="temporary"&&{borderLeft:`1px solid ${(e.vars||e).palette.divider}`},t.anchor==="bottom"&&t.variant!=="temporary"&&{borderTop:`1px solid ${(e.vars||e).palette.divider}`})),uF={left:"right",right:"left",top:"down",bottom:"up"};function vp(e){return["left","right"].indexOf(e)!==-1}function h1(e,t){return e.direction==="rtl"&&vp(t)?uF[t]:t}const cF=Q.forwardRef(function(t,r){const n=Qn({props:t,name:"MuiDrawer"}),o=Nd(),s={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{anchor:u="left",BackdropProps:l,children:f,className:v,elevation:x=16,hideBackdrop:w=!1,ModalProps:{BackdropProps:C}={},onClose:P,open:O=!1,PaperProps:I={},SlideProps:z,TransitionComponent:N=KK,transitionDuration:j=s,variant:V="temporary"}=n,W=tn(n.ModalProps,YK),re=tn(n,JK),ie=Q.useRef(!1);Q.useEffect(()=>{ie.current=!0},[]);const J=h1(o,u),Ae=Ve({},n,{anchor:u,elevation:x,open:O,variant:V},re),Z=QK(Ae),X=ut.jsx(tZ,Ve({elevation:V==="temporary"?x:0,square:!0},I,{className:jr(Z.paper,I.className),ownerState:Ae,children:f}));if(V==="permanent")return ut.jsx(B6,Ve({className:jr(Z.root,Z.docked,v),ownerState:Ae,ref:r},re,{children:X}));const oe=ut.jsx(N,Ve({in:O,direction:uF[J],timeout:j,appear:ie.current},z,{children:X}));return V==="persistent"?ut.jsx(B6,Ve({className:jr(Z.root,Z.docked,v),ownerState:Ae,ref:r},re,{children:oe})):ut.jsx(eZ,Ve({BackdropProps:Ve({},l,C,{transitionDuration:j}),className:jr(Z.root,Z.modal,v),open:O,ownerState:Ae,onClose:P,hideBackdrop:w,ref:r},re,W,{children:oe}))}),rZ=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],nZ=e=>{const{classes:t,disableUnderline:r}=e,o=qn({root:["root",!r&&"underline"],input:["input"]},MX,t);return Ve({},t,o)},iZ=cr(xw,{shouldForwardProp:e=>Gs(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...bw(e,t),!r.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{var r;const n=e.palette.mode==="light",o=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",u=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return Ve({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:u,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s}},[`&.${cp.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s},[`&.${cp.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:l}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(r=(e.vars||e).palette[t.color||"primary"])==null?void 0:r.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${cp.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${cp.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:o}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${cp.disabled}, .${cp.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${cp.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&Ve({padding:"25px 12px 8px"},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9}))}),oZ=cr(ww,{name:"MuiFilledInput",slot:"Input",overridesResolver:_w})(({theme:e,ownerState:t})=>Ve({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),l4=Q.forwardRef(function(t,r){var n,o,s,u;const l=Qn({props:t,name:"MuiFilledInput"}),{components:f={},componentsProps:v,fullWidth:x=!1,inputComponent:w="input",multiline:C=!1,slotProps:P,slots:O={},type:I="text"}=l,z=tn(l,rZ),N=Ve({},l,{fullWidth:x,inputComponent:w,multiline:C,type:I}),j=nZ(l),V={root:{ownerState:N},input:{ownerState:N}},W=P??v?wa(V,P??v):V,re=(n=(o=O.root)!=null?o:f.Root)!=null?n:iZ,ie=(s=(u=O.input)!=null?u:f.Input)!=null?s:oZ;return ut.jsx(a4,Ve({slots:{root:re,input:ie},componentsProps:W,fullWidth:x,inputComponent:w,multiline:C,ref:r,type:I},z,{classes:j}))});l4.muiName="Input";function aZ(e){return $n("MuiFormControl",e)}On("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const sZ=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],lZ=e=>{const{classes:t,margin:r,fullWidth:n}=e,o={root:["root",r!=="none"&&`margin${Rr(r)}`,n&&"fullWidth"]};return qn(o,aZ,t)},uZ=cr("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>Ve({},t.root,t[`margin${Rr(e.margin)}`],e.fullWidth&&t.fullWidth)})(({ownerState:e})=>Ve({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},e.margin==="normal"&&{marginTop:16,marginBottom:8},e.margin==="dense"&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),cZ=Q.forwardRef(function(t,r){const n=Qn({props:t,name:"MuiFormControl"}),{children:o,className:s,color:u="primary",component:l="div",disabled:f=!1,error:v=!1,focused:x,fullWidth:w=!1,hiddenLabel:C=!1,margin:P="none",required:O=!1,size:I="medium",variant:z="outlined"}=n,N=tn(n,sZ),j=Ve({},n,{color:u,component:l,disabled:f,error:v,fullWidth:w,hiddenLabel:C,margin:P,required:O,size:I,variant:z}),V=lZ(j),[W,re]=Q.useState(()=>{let be=!1;return o&&Q.Children.forEach(o,ge=>{if(!M1(ge,["Input","Select"]))return;const De=M1(ge,["Select"])?ge.props.input:ge;De&&AX(De.props)&&(be=!0)}),be}),[ie,J]=Q.useState(()=>{let be=!1;return o&&Q.Children.forEach(o,ge=>{M1(ge,["Input","Select"])&&(N_(ge.props,!0)||N_(ge.props.inputProps,!0))&&(be=!0)}),be}),[ne,Ae]=Q.useState(!1);f&&ne&&Ae(!1);const Z=x!==void 0&&!f?x:ne;let X;const oe=Q.useMemo(()=>({adornedStart:W,setAdornedStart:re,color:u,disabled:f,error:v,filled:ie,focused:Z,fullWidth:w,hiddenLabel:C,size:I,onBlur:()=>{Ae(!1)},onEmpty:()=>{J(!1)},onFilled:()=>{J(!0)},onFocus:()=>{Ae(!0)},registerEffect:X,required:O,variant:z}),[W,u,f,v,ie,Z,w,C,X,O,I,z]);return ut.jsx(o4.Provider,{value:oe,children:ut.jsx(uZ,Ve({as:l,ownerState:j,className:jr(V.root,s),ref:r},N,{children:o}))})});function hZ(e){return $n("MuiFormHelperText",e)}const z6=On("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var j6;const dZ=["children","className","component","disabled","error","filled","focused","margin","required","variant"],fZ=e=>{const{classes:t,contained:r,size:n,disabled:o,error:s,filled:u,focused:l,required:f}=e,v={root:["root",o&&"disabled",s&&"error",n&&`size${Rr(n)}`,r&&"contained",l&&"focused",u&&"filled",f&&"required"]};return qn(v,hZ,t)},pZ=cr("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.size&&t[`size${Rr(r.size)}`],r.contained&&t.contained,r.filled&&t.filled]}})(({theme:e,ownerState:t})=>Ve({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${z6.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${z6.error}`]:{color:(e.vars||e).palette.error.main}},t.size==="small"&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),mZ=Q.forwardRef(function(t,r){const n=Qn({props:t,name:"MuiFormHelperText"}),{children:o,className:s,component:u="p"}=n,l=tn(n,dZ),f=im(),v=Wg({props:n,muiFormControl:f,states:["variant","size","disabled","error","filled","focused","required"]}),x=Ve({},n,{component:u,contained:v.variant==="filled"||v.variant==="outlined",variant:v.variant,size:v.size,disabled:v.disabled,error:v.error,filled:v.filled,focused:v.focused,required:v.required}),w=fZ(x);return ut.jsx(pZ,Ve({as:u,ownerState:x,className:jr(w.root,s),ref:r},l,{children:o===" "?j6||(j6=ut.jsx("span",{className:"notranslate",children:""})):o}))});function gZ(e){return $n("MuiFormLabel",e)}const F1=On("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),yZ=["children","className","color","component","disabled","error","filled","focused","required"],vZ=e=>{const{classes:t,color:r,focused:n,disabled:o,error:s,filled:u,required:l}=e,f={root:["root",`color${Rr(r)}`,o&&"disabled",s&&"error",u&&"filled",n&&"focused",l&&"required"],asterisk:["asterisk",s&&"error"]};return qn(f,gZ,t)},bZ=cr("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>Ve({},t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled)})(({theme:e,ownerState:t})=>Ve({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${F1.focused}`]:{color:(e.vars||e).palette[t.color].main},[`&.${F1.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${F1.error}`]:{color:(e.vars||e).palette.error.main}})),_Z=cr("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${F1.error}`]:{color:(e.vars||e).palette.error.main}})),xZ=Q.forwardRef(function(t,r){const n=Qn({props:t,name:"MuiFormLabel"}),{children:o,className:s,component:u="label"}=n,l=tn(n,yZ),f=im(),v=Wg({props:n,muiFormControl:f,states:["color","required","focused","disabled","error","filled"]}),x=Ve({},n,{color:v.color||"primary",component:u,disabled:v.disabled,error:v.error,filled:v.filled,focused:v.focused,required:v.required}),w=vZ(x);return ut.jsxs(bZ,Ve({as:u,ownerState:x,className:jr(w.root,s),ref:r},l,{children:[o,v.required&&ut.jsxs(_Z,{ownerState:x,"aria-hidden":!0,className:w.asterisk,children:["","*"]})]}))}),U6=Q.createContext();function wZ(e){return $n("MuiGrid",e)}const SZ=[0,1,2,3,4,5,6,7,8,9,10],CZ=["column-reverse","column","row-reverse","row"],AZ=["nowrap","wrap-reverse","wrap"],qy=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],gv=On("MuiGrid",["root","container","item","zeroMinWidth",...SZ.map(e=>`spacing-xs-${e}`),...CZ.map(e=>`direction-xs-${e}`),...AZ.map(e=>`wrap-xs-${e}`),...qy.map(e=>`grid-xs-${e}`),...qy.map(e=>`grid-sm-${e}`),...qy.map(e=>`grid-md-${e}`),...qy.map(e=>`grid-lg-${e}`),...qy.map(e=>`grid-xl-${e}`)]),EZ=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Y0(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function TZ({theme:e,ownerState:t}){let r;return e.breakpoints.keys.reduce((n,o)=>{let s={};if(t[o]&&(r=t[o]),!r)return n;if(r===!0)s={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(r==="auto")s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const u=Xx({values:t.columns,breakpoints:e.breakpoints.values}),l=typeof u=="object"?u[o]:u;if(l==null)return n;const f=`${Math.round(r/l*1e8)/1e6}%`;let v={};if(t.container&&t.item&&t.columnSpacing!==0){const x=e.spacing(t.columnSpacing);if(x!=="0px"){const w=`calc(${f} + ${Y0(x)})`;v={flexBasis:w,maxWidth:w}}}s=Ve({flexBasis:f,flexGrow:0,maxWidth:f},v)}return e.breakpoints.values[o]===0?Object.assign(n,s):n[e.breakpoints.up(o)]=s,n},{})}function PZ({theme:e,ownerState:t}){const r=Xx({values:t.direction,breakpoints:e.breakpoints.values});return sc({theme:e},r,n=>{const o={flexDirection:n};return n.indexOf("column")===0&&(o[`& > .${gv.item}`]={maxWidth:"none"}),o})}function hF({breakpoints:e,values:t}){let r="";Object.keys(t).forEach(o=>{r===""&&t[o]!==0&&(r=o)});const n=Object.keys(e).sort((o,s)=>e[o]-e[s]);return n.slice(0,n.indexOf(r))}function kZ({theme:e,ownerState:t}){const{container:r,rowSpacing:n}=t;let o={};if(r&&n!==0){const s=Xx({values:n,breakpoints:e.breakpoints.values});let u;typeof s=="object"&&(u=hF({breakpoints:e.breakpoints.values,values:s})),o=sc({theme:e},s,(l,f)=>{var v;const x=e.spacing(l);return x!=="0px"?{marginTop:`-${Y0(x)}`,[`& > .${gv.item}`]:{paddingTop:Y0(x)}}:(v=u)!=null&&v.includes(f)?{}:{marginTop:0,[`& > .${gv.item}`]:{paddingTop:0}}})}return o}function IZ({theme:e,ownerState:t}){const{container:r,columnSpacing:n}=t;let o={};if(r&&n!==0){const s=Xx({values:n,breakpoints:e.breakpoints.values});let u;typeof s=="object"&&(u=hF({breakpoints:e.breakpoints.values,values:s})),o=sc({theme:e},s,(l,f)=>{var v;const x=e.spacing(l);return x!=="0px"?{width:`calc(100% + ${Y0(x)})`,marginLeft:`-${Y0(x)}`,[`& > .${gv.item}`]:{paddingLeft:Y0(x)}}:(v=u)!=null&&v.includes(f)?{}:{width:"100%",marginLeft:0,[`& > .${gv.item}`]:{paddingLeft:0}}})}return o}function LZ(e,t,r={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[r[`spacing-xs-${String(e)}`]];const n=[];return t.forEach(o=>{const s=e[o];Number(s)>0&&n.push(r[`spacing-${o}-${String(s)}`])}),n}const MZ=cr("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{container:n,direction:o,item:s,spacing:u,wrap:l,zeroMinWidth:f,breakpoints:v}=r;let x=[];n&&(x=LZ(u,v,t));const w=[];return v.forEach(C=>{const P=r[C];P&&w.push(t[`grid-${C}-${String(P)}`])}),[t.root,n&&t.container,s&&t.item,f&&t.zeroMinWidth,...x,o!=="row"&&t[`direction-xs-${String(o)}`],l!=="wrap"&&t[`wrap-xs-${String(l)}`],...w]}})(({ownerState:e})=>Ve({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),PZ,kZ,IZ,TZ);function DZ(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const r=[];return t.forEach(n=>{const o=e[n];if(Number(o)>0){const s=`spacing-${n}-${String(o)}`;r.push(s)}}),r}const RZ=e=>{const{classes:t,container:r,direction:n,item:o,spacing:s,wrap:u,zeroMinWidth:l,breakpoints:f}=e;let v=[];r&&(v=DZ(s,f));const x=[];f.forEach(C=>{const P=e[C];P&&x.push(`grid-${C}-${String(P)}`)});const w={root:["root",r&&"container",o&&"item",l&&"zeroMinWidth",...v,n!=="row"&&`direction-xs-${String(n)}`,u!=="wrap"&&`wrap-xs-${String(u)}`,...x]};return qn(w,wZ,t)},V6=Q.forwardRef(function(t,r){const n=Qn({props:t,name:"MuiGrid"}),{breakpoints:o}=Nd(),s=JE(n),{className:u,columns:l,columnSpacing:f,component:v="div",container:x=!1,direction:w="row",item:C=!1,rowSpacing:P,spacing:O=0,wrap:I="wrap",zeroMinWidth:z=!1}=s,N=tn(s,EZ),j=P||O,V=f||O,W=Q.useContext(U6),re=x?l||12:W,ie={},J=Ve({},N);o.keys.forEach(Z=>{N[Z]!=null&&(ie[Z]=N[Z],delete J[Z])});const ne=Ve({},s,{columns:re,container:x,direction:w,item:C,rowSpacing:j,columnSpacing:V,wrap:I,zeroMinWidth:z,spacing:O},ie,{breakpoints:o.keys}),Ae=RZ(ne);return ut.jsx(U6.Provider,{value:re,children:ut.jsx(MZ,Ve({ownerState:ne,className:jr(Ae.root,u),as:v,ref:r},J))})}),OZ=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function SC(e){return`scale(${e}, ${e**2})`}const NZ={entering:{opacity:1,transform:SC(1)},entered:{opacity:1,transform:"none"}},DS=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),dF=Q.forwardRef(function(t,r){const{addEndListener:n,appear:o=!0,children:s,easing:u,in:l,onEnter:f,onEntered:v,onEntering:x,onExit:w,onExited:C,onExiting:P,style:O,timeout:I="auto",TransitionComponent:z=Vc}=t,N=tn(t,OZ),j=BN(),V=Q.useRef(),W=Nd(),re=Q.useRef(null),ie=Sa(re,s.ref,r),J=De=>Le=>{if(De){const je=re.current;Le===void 0?De(je):De(je,Le)}},ne=J(x),Ae=J((De,Le)=>{i4(De);const{duration:je,delay:xe,easing:Oe}=Yp({style:O,timeout:I,easing:u},{mode:"enter"});let Ke;I==="auto"?(Ke=W.transitions.getAutoHeightDuration(De.clientHeight),V.current=Ke):Ke=je,De.style.transition=[W.transitions.create("opacity",{duration:Ke,delay:xe}),W.transitions.create("transform",{duration:DS?Ke:Ke*.666,delay:xe,easing:Oe})].join(","),f&&f(De,Le)}),Z=J(v),X=J(P),oe=J(De=>{const{duration:Le,delay:je,easing:xe}=Yp({style:O,timeout:I,easing:u},{mode:"exit"});let Oe;I==="auto"?(Oe=W.transitions.getAutoHeightDuration(De.clientHeight),V.current=Oe):Oe=Le,De.style.transition=[W.transitions.create("opacity",{duration:Oe,delay:je}),W.transitions.create("transform",{duration:DS?Oe:Oe*.666,delay:DS?je:je||Oe*.333,easing:xe})].join(","),De.style.opacity=0,De.style.transform=SC(.75),w&&w(De)}),be=J(C),ge=De=>{I==="auto"&&j.start(V.current||0,De),n&&n(re.current,De)};return ut.jsx(z,Ve({appear:o,in:l,nodeRef:re,onEnter:Ae,onEntered:Z,onEntering:ne,onExit:oe,onExited:be,onExiting:X,addEndListener:ge,timeout:I==="auto"?null:I},N,{children:(De,Le)=>Q.cloneElement(s,Ve({style:Ve({opacity:0,transform:SC(.75),visibility:De==="exited"&&!l?"hidden":void 0},NZ[De],O,s.props.style),ref:ie},Le))}))});dF.muiSupportAuto=!0;function FZ(e,t,r,n,o){const[s,u]=Q.useState(()=>o&&r?r(e).matches:n?n(e).matches:t);return Cu(()=>{let l=!0;if(!r)return;const f=r(e),v=()=>{l&&u(f.matches)};return v(),f.addListener(v),()=>{l=!1,f.removeListener(v)}},[e,r]),s}const fF=Q.useSyncExternalStore;function $Z(e,t,r,n,o){const s=Q.useCallback(()=>t,[t]),u=Q.useMemo(()=>{if(o&&r)return()=>r(e).matches;if(n!==null){const{matches:x}=n(e);return()=>x}return s},[s,e,n,o,r]),[l,f]=Q.useMemo(()=>{if(r===null)return[s,()=>()=>{}];const x=r(e);return[()=>x.matches,w=>(x.addListener(w),()=>{x.removeListener(w)})]},[s,r,e]);return fF(f,l,u)}function BZ(e,t={}){const r=YE(),n=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:o=!1,matchMedia:s=n?window.matchMedia:null,ssrMatchMedia:u=null,noSsr:l=!1}=GN({name:"MuiUseMediaQuery",props:t,theme:r});let f=typeof e=="function"?e(r):e;return f=f.replace(/^@media( ?)/m,""),(fF!==void 0?$Z:FZ)(f,o,s,u,l)}const zZ=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],jZ=e=>{const{classes:t,disableUnderline:r}=e,o=qn({root:["root",!r&&"underline"],input:["input"]},IX,t);return Ve({},t,o)},UZ=cr(xw,{shouldForwardProp:e=>Gs(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...bw(e,t),!r.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{let n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(n=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),Ve({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Vy.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Vy.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Vy.disabled}, .${Vy.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Vy.disabled}:before`]:{borderBottomStyle:"dotted"}})}),VZ=cr(ww,{name:"MuiInput",slot:"Input",overridesResolver:_w})({}),u4=Q.forwardRef(function(t,r){var n,o,s,u;const l=Qn({props:t,name:"MuiInput"}),{disableUnderline:f,components:v={},componentsProps:x,fullWidth:w=!1,inputComponent:C="input",multiline:P=!1,slotProps:O,slots:I={},type:z="text"}=l,N=tn(l,zZ),j=jZ(l),W={root:{ownerState:{disableUnderline:f}}},re=O??x?wa(O??x,W):W,ie=(n=(o=I.root)!=null?o:v.Root)!=null?n:UZ,J=(s=(u=I.input)!=null?u:v.Input)!=null?s:VZ;return ut.jsx(a4,Ve({slots:{root:ie,input:J},slotProps:re,fullWidth:w,inputComponent:C,multiline:P,ref:r,type:z},N,{classes:j}))});u4.muiName="Input";function qZ(e){return $n("MuiInputLabel",e)}On("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const HZ=["disableAnimation","margin","shrink","variant","className"],GZ=e=>{const{classes:t,formControl:r,size:n,shrink:o,disableAnimation:s,variant:u,required:l}=e,f={root:["root",r&&"formControl",!s&&"animated",o&&"shrink",n&&n!=="normal"&&`size${Rr(n)}`,u],asterisk:[l&&"asterisk"]},v=qn(f,qZ,t);return Ve({},t,v)},WZ=cr(xZ,{shouldForwardProp:e=>Gs(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${F1.asterisk}`]:t.asterisk},t.root,r.formControl&&t.formControl,r.size==="small"&&t.sizeSmall,r.shrink&&t.shrink,!r.disableAnimation&&t.animated,r.focused&&t.focused,t[r.variant]]}})(({theme:e,ownerState:t})=>Ve({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},t.size==="small"&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},t.variant==="filled"&&Ve({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&Ve({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},t.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),t.variant==="outlined"&&Ve({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),XZ=Q.forwardRef(function(t,r){const n=Qn({name:"MuiInputLabel",props:t}),{disableAnimation:o=!1,shrink:s,className:u}=n,l=tn(n,HZ),f=im();let v=s;typeof v>"u"&&f&&(v=f.filled||f.focused||f.adornedStart);const x=Wg({props:n,muiFormControl:f,states:["size","variant","required","focused"]}),w=Ve({},n,{disableAnimation:o,formControl:f,shrink:v,size:x.size,variant:x.variant,required:x.required,focused:x.focused}),C=GZ(w);return ut.jsx(WZ,Ve({"data-shrink":v,ownerState:w,ref:r,className:jr(C.root,u)},l,{classes:C}))}),Np=Q.createContext({});function KZ(e){return $n("MuiList",e)}On("MuiList",["root","padding","dense","subheader"]);const ZZ=["children","className","component","dense","disablePadding","subheader"],YZ=e=>{const{classes:t,disablePadding:r,dense:n,subheader:o}=e;return qn({root:["root",!r&&"padding",n&&"dense",o&&"subheader"]},KZ,t)},JZ=cr("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disablePadding&&t.padding,r.dense&&t.dense,r.subheader&&t.subheader]}})(({ownerState:e})=>Ve({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),c4=Q.forwardRef(function(t,r){const n=Qn({props:t,name:"MuiList"}),{children:o,className:s,component:u="ul",dense:l=!1,disablePadding:f=!1,subheader:v}=n,x=tn(n,ZZ),w=Q.useMemo(()=>({dense:l}),[l]),C=Ve({},n,{component:u,dense:l,disablePadding:f}),P=YZ(C);return ut.jsx(Np.Provider,{value:w,children:ut.jsxs(JZ,Ve({as:u,className:jr(P.root,s),ref:r,ownerState:C},x,{children:[v,o]}))})});function QZ(e){return $n("MuiListItem",e)}const a0=On("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),eY=On("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function tY(e){return $n("MuiListItemSecondaryAction",e)}On("MuiListItemSecondaryAction",["root","disableGutters"]);const rY=["className"],nY=e=>{const{disableGutters:t,classes:r}=e;return qn({root:["root",t&&"disableGutters"]},tY,r)},iY=cr("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.disableGutters&&t.disableGutters]}})(({ownerState:e})=>Ve({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0})),pF=Q.forwardRef(function(t,r){const n=Qn({props:t,name:"MuiListItemSecondaryAction"}),{className:o}=n,s=tn(n,rY),u=Q.useContext(Np),l=Ve({},n,{disableGutters:u.disableGutters}),f=nY(l);return ut.jsx(iY,Ve({className:jr(f.root,o),ownerState:l,ref:r},s))});pF.muiName="ListItemSecondaryAction";const oY=["className"],aY=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],sY=(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.alignItems==="flex-start"&&t.alignItemsFlexStart,r.divider&&t.divider,!r.disableGutters&&t.gutters,!r.disablePadding&&t.padding,r.button&&t.button,r.hasSecondaryAction&&t.secondaryAction]},lY=e=>{const{alignItems:t,button:r,classes:n,dense:o,disabled:s,disableGutters:u,disablePadding:l,divider:f,hasSecondaryAction:v,selected:x}=e;return qn({root:["root",o&&"dense",!u&&"gutters",!l&&"padding",f&&"divider",s&&"disabled",r&&"button",t==="flex-start"&&"alignItemsFlexStart",v&&"secondaryAction",x&&"selected"],container:["container"]},QZ,n)},uY=cr("div",{name:"MuiListItem",slot:"Root",overridesResolver:sY})(({theme:e,ownerState:t})=>Ve({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&Ve({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${eY.root}`]:{paddingRight:48}},{[`&.${a0.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${a0.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:ll(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${a0.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:ll(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${a0.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.alignItems==="flex-start"&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${a0.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:ll(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:ll(e.palette.primary.main,e.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48})),cY=cr("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),h4=Q.forwardRef(function(t,r){const n=Qn({props:t,name:"MuiListItem"}),{alignItems:o="center",autoFocus:s=!1,button:u=!1,children:l,className:f,component:v,components:x={},componentsProps:w={},ContainerComponent:C="li",ContainerProps:{className:P}={},dense:O=!1,disabled:I=!1,disableGutters:z=!1,disablePadding:N=!1,divider:j=!1,focusVisibleClassName:V,secondaryAction:W,selected:re=!1,slotProps:ie={},slots:J={}}=n,ne=tn(n.ContainerProps,oY),Ae=tn(n,aY),Z=Q.useContext(Np),X=Q.useMemo(()=>({dense:O||Z.dense||!1,alignItems:o,disableGutters:z}),[o,Z.dense,O,z]),oe=Q.useRef(null);Cu(()=>{s&&oe.current&&oe.current.focus()},[s]);const be=Q.Children.toArray(l),ge=be.length&&M1(be[be.length-1],["ListItemSecondaryAction"]),De=Ve({},n,{alignItems:o,autoFocus:s,button:u,dense:X.dense,disabled:I,disableGutters:z,disablePadding:N,divider:j,hasSecondaryAction:ge,selected:re}),Le=lY(De),je=Sa(oe,r),xe=J.root||x.Root||uY,Oe=ie.root||w.root||{},Ke=Ve({className:jr(Le.root,Oe.className,f),disabled:I},Ae);let ht=v||"li";return u&&(Ke.component=v||"div",Ke.focusVisibleClassName=jr(a0.focusVisible,V),ht=vw),ge?(ht=!Ke.component&&!v?"div":ht,C==="li"&&(ht==="li"?ht="div":Ke.component==="li"&&(Ke.component="div")),ut.jsx(Np.Provider,{value:X,children:ut.jsxs(cY,Ve({as:C,className:jr(Le.container,P),ref:je,ownerState:De},ne,{children:[ut.jsx(xe,Ve({},Oe,!Rh(xe)&&{as:ht,ownerState:Ve({},De,Oe.ownerState)},Ke,{children:be})),be.pop()]}))})):ut.jsx(Np.Provider,{value:X,children:ut.jsxs(xe,Ve({},Oe,{as:ht,ref:je},!Rh(xe)&&{ownerState:Ve({},De,Oe.ownerState)},Ke,{children:[be,W&&ut.jsx(pF,{children:W})]}))})});function hY(e){return $n("MuiListItemIcon",e)}On("MuiListItemIcon",["root","alignItemsFlexStart"]);const dY=["className"],fY=e=>{const{alignItems:t,classes:r}=e;return qn({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},hY,r)},pY=cr("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(({theme:e,ownerState:t})=>Ve({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex"},t.alignItems==="flex-start"&&{marginTop:8})),mF=Q.forwardRef(function(t,r){const n=Qn({props:t,name:"MuiListItemIcon"}),{className:o}=n,s=tn(n,dY),u=Q.useContext(Np),l=Ve({},n,{alignItems:u.alignItems}),f=fY(l);return ut.jsx(pY,Ve({className:jr(f.root,o),ownerState:l,ref:r},s))});function mY(e){return $n("MuiListItemText",e)}const q6=On("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),gY=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],yY=e=>{const{classes:t,inset:r,primary:n,secondary:o,dense:s}=e;return qn({root:["root",r&&"inset",s&&"dense",n&&o&&"multiline"],primary:["primary"],secondary:["secondary"]},mY,t)},vY=cr("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${q6.primary}`]:t.primary},{[`& .${q6.secondary}`]:t.secondary},t.root,r.inset&&t.inset,r.primary&&r.secondary&&t.multiline,r.dense&&t.dense]}})(({ownerState:e})=>Ve({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),d4=Q.forwardRef(function(t,r){const n=Qn({props:t,name:"MuiListItemText"}),{children:o,className:s,disableTypography:u=!1,inset:l=!1,primary:f,primaryTypographyProps:v,secondary:x,secondaryTypographyProps:w}=n,C=tn(n,gY),{dense:P}=Q.useContext(Np);let O=f??o,I=x;const z=Ve({},n,{disableTypography:u,inset:l,primary:!!O,secondary:!!I,dense:P}),N=yY(z);return O!=null&&O.type!==bd&&!u&&(O=ut.jsx(bd,Ve({variant:P?"body2":"body1",className:N.primary,component:v!=null&&v.variant?void 0:"span",display:"block"},v,{children:O}))),I!=null&&I.type!==bd&&!u&&(I=ut.jsx(bd,Ve({variant:"body2",className:N.secondary,color:"text.secondary",display:"block"},w,{children:I}))),ut.jsxs(vY,Ve({className:jr(N.root,s),ownerState:z,ref:r},C,{children:[O,I]}))}),bY=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function RS(e,t,r){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:r?null:e.firstChild}function H6(e,t,r){return e===t?r?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:r?null:e.lastChild}function gF(e,t){if(t===void 0)return!0;let r=e.innerText;return r===void 0&&(r=e.textContent),r=r.trim().toLowerCase(),r.length===0?!1:t.repeating?r[0]===t.keys[0]:r.indexOf(t.keys.join(""))===0}function Hy(e,t,r,n,o,s){let u=!1,l=o(e,t,t?r:!1);for(;l;){if(l===e.firstChild){if(u)return!1;u=!0}const f=n?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!gF(l,s)||f)l=o(e,l,r);else return l.focus(),!0}return!1}const _Y=Q.forwardRef(function(t,r){const{actions:n,autoFocus:o=!1,autoFocusItem:s=!1,children:u,className:l,disabledItemsFocusable:f=!1,disableListWrap:v=!1,onKeyDown:x,variant:w="selectedMenu"}=t,C=tn(t,bY),P=Q.useRef(null),O=Q.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Cu(()=>{o&&P.current.focus()},[o]),Q.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(V,W)=>{const re=!P.current.style.width;if(V.clientHeight<P.current.clientHeight&&re){const ie=`${zN(Xo(V))}px`;P.current.style[W.direction==="rtl"?"paddingLeft":"paddingRight"]=ie,P.current.style.width=`calc(100% + ${ie})`}return P.current}}),[]);const I=V=>{const W=P.current,re=V.key,ie=Xo(W).activeElement;if(re==="ArrowDown")V.preventDefault(),Hy(W,ie,v,f,RS);else if(re==="ArrowUp")V.preventDefault(),Hy(W,ie,v,f,H6);else if(re==="Home")V.preventDefault(),Hy(W,null,v,f,RS);else if(re==="End")V.preventDefault(),Hy(W,null,v,f,H6);else if(re.length===1){const J=O.current,ne=re.toLowerCase(),Ae=performance.now();J.keys.length>0&&(Ae-J.lastTime>500?(J.keys=[],J.repeating=!0,J.previousKeyMatched=!0):J.repeating&&ne!==J.keys[0]&&(J.repeating=!1)),J.lastTime=Ae,J.keys.push(ne);const Z=ie&&!J.repeating&&gF(ie,J);J.previousKeyMatched&&(Z||Hy(W,ie,!1,f,RS,J))?V.preventDefault():J.previousKeyMatched=!1}x&&x(V)},z=Sa(P,r);let N=-1;Q.Children.forEach(u,(V,W)=>{if(!Q.isValidElement(V)){N===W&&(N+=1,N>=u.length&&(N=-1));return}V.props.disabled||(w==="selectedMenu"&&V.props.selected||N===-1)&&(N=W),N===W&&(V.props.disabled||V.props.muiSkipListHighlight||V.type.muiSkipListHighlight)&&(N+=1,N>=u.length&&(N=-1))});const j=Q.Children.map(u,(V,W)=>{if(W===N){const re={};return s&&(re.autoFocus=!0),V.props.tabIndex===void 0&&w==="selectedMenu"&&(re.tabIndex=0),Q.cloneElement(V,re)}return V});return ut.jsx(c4,Ve({role:"menu",ref:z,className:l,onKeyDown:I,tabIndex:o?0:-1},C,{children:j}))});function xY(e){return $n("MuiPopover",e)}On("MuiPopover",["root","paper"]);const wY=["onEntering"],SY=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],CY=["slotProps"];function G6(e,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=e.height/2:t==="bottom"&&(r=e.height),r}function W6(e,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=e.width/2:t==="right"&&(r=e.width),r}function X6(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function OS(e){return typeof e=="function"?e():e}const AY=e=>{const{classes:t}=e;return qn({root:["root"],paper:["paper"]},xY,t)},EY=cr(s4,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),yF=cr(Jp,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),TY=Q.forwardRef(function(t,r){var n,o,s;const u=Qn({props:t,name:"MuiPopover"}),{action:l,anchorEl:f,anchorOrigin:v={vertical:"top",horizontal:"left"},anchorPosition:x,anchorReference:w="anchorEl",children:C,className:P,container:O,elevation:I=8,marginThreshold:z=16,open:N,PaperProps:j={},slots:V,slotProps:W,transformOrigin:re={vertical:"top",horizontal:"left"},TransitionComponent:ie=dF,transitionDuration:J="auto",TransitionProps:{onEntering:ne}={},disableScrollLock:Ae=!1}=u,Z=tn(u.TransitionProps,wY),X=tn(u,SY),oe=(n=W==null?void 0:W.paper)!=null?n:j,be=Q.useRef(),ge=Sa(be,oe.ref),De=Ve({},u,{anchorOrigin:v,anchorReference:w,elevation:I,marginThreshold:z,externalPaperSlotProps:oe,transformOrigin:re,TransitionComponent:ie,transitionDuration:J,TransitionProps:Z}),Le=AY(De),je=Q.useCallback(()=>{if(w==="anchorPosition")return x;const St=OS(f),ct=(St&&St.nodeType===1?St:Xo(be.current).body).getBoundingClientRect();return{top:ct.top+G6(ct,v.vertical),left:ct.left+W6(ct,v.horizontal)}},[f,v.horizontal,v.vertical,x,w]),xe=Q.useCallback(St=>({vertical:G6(St,re.vertical),horizontal:W6(St,re.horizontal)}),[re.horizontal,re.vertical]),Oe=Q.useCallback(St=>{const kt={width:St.offsetWidth,height:St.offsetHeight},ct=xe(kt);if(w==="none")return{top:null,left:null,transformOrigin:X6(ct)};const de=je();let hr=de.top-ct.vertical,Kt=de.left-ct.horizontal;const bt=hr+kt.height,Pt=Kt+kt.width,Ot=jl(OS(f)),Gt=Ot.innerHeight-z,It=Ot.innerWidth-z;if(z!==null&&hr<z){const ir=hr-z;hr-=ir,ct.vertical+=ir}else if(z!==null&&bt>Gt){const ir=bt-Gt;hr-=ir,ct.vertical+=ir}if(z!==null&&Kt<z){const ir=Kt-z;Kt-=ir,ct.horizontal+=ir}else if(Pt>It){const ir=Pt-It;Kt-=ir,ct.horizontal+=ir}return{top:`${Math.round(hr)}px`,left:`${Math.round(Kt)}px`,transformOrigin:X6(ct)}},[f,w,je,xe,z]),[Ke,ht]=Q.useState(N),le=Q.useCallback(()=>{const St=be.current;if(!St)return;const kt=Oe(St);kt.top!==null&&(St.style.top=kt.top),kt.left!==null&&(St.style.left=kt.left),St.style.transformOrigin=kt.transformOrigin,ht(!0)},[Oe]);Q.useEffect(()=>(Ae&&window.addEventListener("scroll",le),()=>window.removeEventListener("scroll",le)),[f,Ae,le]);const me=(St,kt)=>{ne&&ne(St,kt),le()},we=()=>{ht(!1)};Q.useEffect(()=>{N&&le()}),Q.useImperativeHandle(l,()=>N?{updatePosition:()=>{le()}}:null,[N,le]),Q.useEffect(()=>{if(!N)return;const St=Vx(()=>{le()}),kt=jl(f);return kt.addEventListener("resize",St),()=>{St.clear(),kt.removeEventListener("resize",St)}},[f,N,le]);let Ie=J;J==="auto"&&!ie.muiSupportAuto&&(Ie=void 0);const Me=O||(f?Xo(OS(f)).body:void 0),tt=(o=V==null?void 0:V.root)!=null?o:EY,Ue=(s=V==null?void 0:V.paper)!=null?s:yF,qe=Ml({elementType:Ue,externalSlotProps:Ve({},oe,{style:Ke?oe.style:Ve({},oe.style,{opacity:0})}),additionalProps:{elevation:I,ref:ge},ownerState:De,className:jr(Le.paper,oe==null?void 0:oe.className)}),lt=Ml({elementType:tt,externalSlotProps:(W==null?void 0:W.root)||{},externalForwardedProps:X,additionalProps:{ref:r,slotProps:{backdrop:{invisible:!0}},container:Me,open:N},ownerState:De,className:jr(Le.root,P)}),{slotProps:pt}=lt,Et=tn(lt,CY);return ut.jsx(tt,Ve({},Et,!Rh(tt)&&{slotProps:pt,disableScrollLock:Ae},{children:ut.jsx(ie,Ve({appear:!0,in:N,onEntering:me,onExited:we,timeout:Ie},Z,{children:ut.jsx(Ue,Ve({},qe,{children:C}))}))}))});function PY(e){return $n("MuiMenu",e)}On("MuiMenu",["root","paper","list"]);const kY=["onEntering"],IY=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],LY={vertical:"top",horizontal:"right"},MY={vertical:"top",horizontal:"left"},DY=e=>{const{classes:t}=e;return qn({root:["root"],paper:["paper"],list:["list"]},PY,t)},RY=cr(TY,{shouldForwardProp:e=>Gs(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),OY=cr(yF,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),NY=cr(_Y,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),FY=Q.forwardRef(function(t,r){var n,o;const s=Qn({props:t,name:"MuiMenu"}),{autoFocus:u=!0,children:l,className:f,disableAutoFocusItem:v=!1,MenuListProps:x={},onClose:w,open:C,PaperProps:P={},PopoverClasses:O,transitionDuration:I="auto",TransitionProps:{onEntering:z}={},variant:N="selectedMenu",slots:j={},slotProps:V={}}=s,W=tn(s.TransitionProps,kY),re=tn(s,IY),ie=Nd(),J=ie.direction==="rtl",ne=Ve({},s,{autoFocus:u,disableAutoFocusItem:v,MenuListProps:x,onEntering:z,PaperProps:P,transitionDuration:I,TransitionProps:W,variant:N}),Ae=DY(ne),Z=u&&!v&&C,X=Q.useRef(null),oe=(Oe,Ke)=>{X.current&&X.current.adjustStyleForScrollbar(Oe,ie),z&&z(Oe,Ke)},be=Oe=>{Oe.key==="Tab"&&(Oe.preventDefault(),w&&w(Oe,"tabKeyDown"))};let ge=-1;Q.Children.map(l,(Oe,Ke)=>{Q.isValidElement(Oe)&&(Oe.props.disabled||(N==="selectedMenu"&&Oe.props.selected||ge===-1)&&(ge=Ke))});const De=(n=j.paper)!=null?n:OY,Le=(o=V.paper)!=null?o:P,je=Ml({elementType:j.root,externalSlotProps:V.root,ownerState:ne,className:[Ae.root,f]}),xe=Ml({elementType:De,externalSlotProps:Le,ownerState:ne,className:Ae.paper});return ut.jsx(RY,Ve({onClose:w,anchorOrigin:{vertical:"bottom",horizontal:J?"right":"left"},transformOrigin:J?LY:MY,slots:{paper:De,root:j.root},slotProps:{root:je,paper:xe},open:C,ref:r,transitionDuration:I,TransitionProps:Ve({onEntering:oe},W),ownerState:ne},re,{classes:O,children:ut.jsx(NY,Ve({onKeyDown:be,actions:X,autoFocus:u&&(ge===-1||v),autoFocusItem:Z,variant:N},x,{className:jr(Ae.list,x.className),children:l}))}))});function $Y(e){return $n("MuiNativeSelect",e)}const f4=On("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),BY=["className","disabled","error","IconComponent","inputRef","variant"],zY=e=>{const{classes:t,variant:r,disabled:n,multiple:o,open:s,error:u}=e,l={select:["select",r,n&&"disabled",o&&"multiple",u&&"error"],icon:["icon",`icon${Rr(r)}`,s&&"iconOpen",n&&"disabled"]};return qn(l,$Y,t)},vF=({ownerState:e,theme:t})=>Ve({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":Ve({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${f4.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},e.variant==="filled"&&{"&&&":{paddingRight:32}},e.variant==="outlined"&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),jY=cr("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Gs,overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.select,t[r.variant],r.error&&t.error,{[`&.${f4.multiple}`]:t.multiple}]}})(vF),bF=({ownerState:e,theme:t})=>Ve({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${f4.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},e.variant==="filled"&&{right:7},e.variant==="outlined"&&{right:7}),UY=cr("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${Rr(r.variant)}`],r.open&&t.iconOpen]}})(bF),VY=Q.forwardRef(function(t,r){const{className:n,disabled:o,error:s,IconComponent:u,inputRef:l,variant:f="standard"}=t,v=tn(t,BY),x=Ve({},t,{disabled:o,variant:f,error:s}),w=zY(x);return ut.jsxs(Q.Fragment,{children:[ut.jsx(jY,Ve({ownerState:x,className:jr(w.select,n),disabled:o,ref:l||r},v)),t.multiple?null:ut.jsx(UY,{as:u,ownerState:x,className:w.icon})]})});var K6;const qY=["children","classes","className","label","notched"],HY=cr("fieldset",{shouldForwardProp:Gs})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),GY=cr("legend",{shouldForwardProp:Gs})(({ownerState:e,theme:t})=>Ve({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&Ve({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function WY(e){const{className:t,label:r,notched:n}=e,o=tn(e,qY),s=r!=null&&r!=="",u=Ve({},e,{notched:n,withLabel:s});return ut.jsx(HY,Ve({"aria-hidden":!0,className:t,ownerState:u},o,{children:ut.jsx(GY,{ownerState:u,children:s?ut.jsx("span",{children:r}):K6||(K6=ut.jsx("span",{className:"notranslate",children:""}))})}))}const XY=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],KY=e=>{const{classes:t}=e,n=qn({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},LX,t);return Ve({},t,n)},ZY=cr(xw,{shouldForwardProp:e=>Gs(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:bw})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return Ve({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${nf.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${nf.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:r}},[`&.${nf.focused} .${nf.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${nf.error} .${nf.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${nf.disabled} .${nf.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&Ve({padding:"16.5px 14px"},t.size==="small"&&{padding:"8.5px 14px"}))}),YY=cr(WY,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),JY=cr(ww,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:_w})(({theme:e,ownerState:t})=>Ve({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),p4=Q.forwardRef(function(t,r){var n,o,s,u,l;const f=Qn({props:t,name:"MuiOutlinedInput"}),{components:v={},fullWidth:x=!1,inputComponent:w="input",label:C,multiline:P=!1,notched:O,slots:I={},type:z="text"}=f,N=tn(f,XY),j=KY(f),V=im(),W=Wg({props:f,muiFormControl:V,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),re=Ve({},f,{color:W.color||"primary",disabled:W.disabled,error:W.error,focused:W.focused,formControl:V,fullWidth:x,hiddenLabel:W.hiddenLabel,multiline:P,size:W.size,type:z}),ie=(n=(o=I.root)!=null?o:v.Root)!=null?n:ZY,J=(s=(u=I.input)!=null?u:v.Input)!=null?s:JY;return ut.jsx(a4,Ve({slots:{root:ie,input:J},renderSuffix:ne=>ut.jsx(YY,{ownerState:re,className:j.notchedOutline,label:C!=null&&C!==""&&W.required?l||(l=ut.jsxs(Q.Fragment,{children:[C,"","*"]})):C,notched:typeof O<"u"?O:!!(ne.startAdornment||ne.filled||ne.focused)}),fullWidth:x,inputComponent:w,multiline:P,ref:r,type:z},N,{classes:Ve({},j,{notchedOutline:null})}))});p4.muiName="Input";function QY(e){return $n("MuiSelect",e)}const Gy=On("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Z6;const eJ=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],tJ=cr("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`&.${Gy.select}`]:t.select},{[`&.${Gy.select}`]:t[r.variant]},{[`&.${Gy.error}`]:t.error},{[`&.${Gy.multiple}`]:t.multiple}]}})(vF,{[`&.${Gy.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),rJ=cr("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${Rr(r.variant)}`],r.open&&t.iconOpen]}})(bF),nJ=cr("input",{shouldForwardProp:e=>e4(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Y6(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function iJ(e){return e==null||typeof e=="string"&&!e.trim()}const oJ=e=>{const{classes:t,variant:r,disabled:n,multiple:o,open:s,error:u}=e,l={select:["select",r,n&&"disabled",o&&"multiple",u&&"error"],icon:["icon",`icon${Rr(r)}`,s&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return qn(l,QY,t)},aJ=Q.forwardRef(function(t,r){var n;const{"aria-describedby":o,"aria-label":s,autoFocus:u,autoWidth:l,children:f,className:v,defaultOpen:x,defaultValue:w,disabled:C,displayEmpty:P,error:O=!1,IconComponent:I,inputRef:z,labelId:N,MenuProps:j={},multiple:V,name:W,onBlur:re,onChange:ie,onClose:J,onFocus:ne,onOpen:Ae,open:Z,readOnly:X,renderValue:oe,SelectDisplayProps:be={},tabIndex:ge,value:De,variant:Le="standard"}=t,je=tn(t,eJ),[xe,Oe]=fv({controlled:De,default:w,name:"Select"}),[Ke,ht]=fv({controlled:Z,default:x,name:"Select"}),le=Q.useRef(null),me=Q.useRef(null),[we,Ie]=Q.useState(null),{current:Me}=Q.useRef(Z!=null),[tt,Ue]=Q.useState(),qe=Sa(r,z),lt=Q.useCallback(rt=>{me.current=rt,rt&&Ie(rt)},[]),pt=we==null?void 0:we.parentNode;Q.useImperativeHandle(qe,()=>({focus:()=>{me.current.focus()},node:le.current,value:xe}),[xe]),Q.useEffect(()=>{x&&Ke&&we&&!Me&&(Ue(l?null:pt.clientWidth),me.current.focus())},[we,l]),Q.useEffect(()=>{u&&me.current.focus()},[u]),Q.useEffect(()=>{if(!N)return;const rt=Xo(me.current).getElementById(N);if(rt){const Qt=()=>{getSelection().isCollapsed&&me.current.focus()};return rt.addEventListener("click",Qt),()=>{rt.removeEventListener("click",Qt)}}},[N]);const Et=(rt,Qt)=>{rt?Ae&&Ae(Qt):J&&J(Qt),Me||(Ue(l?null:pt.clientWidth),ht(rt))},St=rt=>{rt.button===0&&(rt.preventDefault(),me.current.focus(),Et(!0,rt))},kt=rt=>{Et(!1,rt)},ct=Q.Children.toArray(f),de=rt=>{const Qt=ct.find(Vt=>Vt.props.value===rt.target.value);Qt!==void 0&&(Oe(Qt.props.value),ie&&ie(rt,Qt))},hr=rt=>Qt=>{let Vt;if(Qt.currentTarget.hasAttribute("tabindex")){if(V){Vt=Array.isArray(xe)?xe.slice():[];const xr=xe.indexOf(rt.props.value);xr===-1?Vt.push(rt.props.value):Vt.splice(xr,1)}else Vt=rt.props.value;if(rt.props.onClick&&rt.props.onClick(Qt),xe!==Vt&&(Oe(Vt),ie)){const xr=Qt.nativeEvent||Qt,rn=new xr.constructor(xr.type,xr);Object.defineProperty(rn,"target",{writable:!0,value:{value:Vt,name:W}}),ie(rn,rt)}V||Et(!1,Qt)}},Kt=rt=>{X||[" ","ArrowUp","ArrowDown","Enter"].indexOf(rt.key)!==-1&&(rt.preventDefault(),Et(!0,rt))},bt=we!==null&&Ke,Pt=rt=>{!bt&&re&&(Object.defineProperty(rt,"target",{writable:!0,value:{value:xe,name:W}}),re(rt))};delete je["aria-invalid"];let Ot,Gt;const It=[];let ir=!1;(N_({value:xe})||P)&&(oe?Ot=oe(xe):ir=!0);const vr=ct.map(rt=>{if(!Q.isValidElement(rt))return null;let Qt;if(V){if(!Array.isArray(xe))throw new Error(Su(2));Qt=xe.some(Vt=>Y6(Vt,rt.props.value)),Qt&&ir&&It.push(rt.props.children)}else Qt=Y6(xe,rt.props.value),Qt&&ir&&(Gt=rt.props.children);return Q.cloneElement(rt,{"aria-selected":Qt?"true":"false",onClick:hr(rt),onKeyUp:Vt=>{Vt.key===" "&&Vt.preventDefault(),rt.props.onKeyUp&&rt.props.onKeyUp(Vt)},role:"option",selected:Qt,value:void 0,"data-value":rt.props.value})});ir&&(V?It.length===0?Ot=null:Ot=It.reduce((rt,Qt,Vt)=>(rt.push(Qt),Vt<It.length-1&&rt.push(", "),rt),[]):Ot=Gt);let Pr=tt;!l&&Me&&we&&(Pr=pt.clientWidth);let Vr;typeof ge<"u"?Vr=ge:Vr=C?null:0;const Ze=be.id||(W?`mui-component-select-${W}`:void 0),mt=Ve({},t,{variant:Le,value:xe,open:bt,error:O}),Rt=oJ(mt),Lt=Ve({},j.PaperProps,(n=j.slotProps)==null?void 0:n.paper),Br=qx();return ut.jsxs(Q.Fragment,{children:[ut.jsx(tJ,Ve({ref:lt,tabIndex:Vr,role:"combobox","aria-controls":Br,"aria-disabled":C?"true":void 0,"aria-expanded":bt?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[N,Ze].filter(Boolean).join(" ")||void 0,"aria-describedby":o,onKeyDown:Kt,onMouseDown:C||X?null:St,onBlur:Pt,onFocus:ne},be,{ownerState:mt,className:jr(be.className,Rt.select,v),id:Ze,children:iJ(Ot)?Z6||(Z6=ut.jsx("span",{className:"notranslate",children:""})):Ot})),ut.jsx(nJ,Ve({"aria-invalid":O,value:Array.isArray(xe)?xe.join(","):xe,name:W,ref:le,"aria-hidden":!0,onChange:de,tabIndex:-1,disabled:C,className:Rt.nativeInput,autoFocus:u,ownerState:mt},je)),ut.jsx(rJ,{as:I,className:Rt.icon,ownerState:mt}),ut.jsx(FY,Ve({id:`menu-${W||""}`,anchorEl:pt,open:bt,onClose:kt,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},j,{MenuListProps:Ve({"aria-labelledby":N,role:"listbox","aria-multiselectable":V?"true":void 0,disableListWrap:!0,id:Br},j.MenuListProps),slotProps:Ve({},j.slotProps,{paper:Ve({},Lt,{style:Ve({minWidth:Pr},Lt!=null?Lt.style:null)})}),children:vr}))]})}),sJ=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],lJ=["root"],uJ=e=>{const{classes:t}=e;return t},m4={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>Gs(e)&&e!=="variant",slot:"Root"},cJ=cr(u4,m4)(""),hJ=cr(p4,m4)(""),dJ=cr(l4,m4)(""),_F=Q.forwardRef(function(t,r){const n=Qn({name:"MuiSelect",props:t}),{autoWidth:o=!1,children:s,classes:u={},className:l,defaultOpen:f=!1,displayEmpty:v=!1,IconComponent:x=DX,id:w,input:C,inputProps:P,label:O,labelId:I,MenuProps:z,multiple:N=!1,native:j=!1,onClose:V,onOpen:W,open:re,renderValue:ie,SelectDisplayProps:J,variant:ne="outlined"}=n,Ae=tn(n,sJ),Z=j?VY:aJ,X=im(),oe=Wg({props:n,muiFormControl:X,states:["variant","error"]}),be=oe.variant||ne,ge=Ve({},n,{variant:be,classes:u}),De=uJ(ge),Le=tn(De,lJ),je=C||{standard:ut.jsx(cJ,{ownerState:ge}),outlined:ut.jsx(hJ,{label:O,ownerState:ge}),filled:ut.jsx(dJ,{ownerState:ge})}[be],xe=Sa(r,je.ref);return ut.jsx(Q.Fragment,{children:Q.cloneElement(je,Ve({inputComponent:Z,inputProps:Ve({children:s,error:oe.error,IconComponent:x,variant:be,type:void 0,multiple:N},j?{id:w}:{autoWidth:o,defaultOpen:f,displayEmpty:v,labelId:I,MenuProps:z,onClose:V,onOpen:W,open:re,renderValue:ie,SelectDisplayProps:Ve({id:w},J)},P,{classes:P?wa(Le,P.classes):Le},C?C.props.inputProps:{})},(N&&j||v)&&be==="outlined"?{notched:!0}:{},{ref:xe,className:jr(je.props.className,l,De.root)},!C&&{variant:be},Ae))})});_F.muiName="Select";const fJ=e=>!e||!Rh(e);function pJ(e){return $n("MuiSlider",e)}const Nc=On("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),mJ=e=>{const{open:t}=e;return{offset:jr(t&&Nc.valueLabelOpen),circle:Nc.valueLabelCircle,label:Nc.valueLabelLabel}};function gJ(e){const{children:t,className:r,value:n}=e,o=mJ(e);return t?Q.cloneElement(t,{className:jr(t.props.className)},ut.jsxs(Q.Fragment,{children:[t.props.children,ut.jsx("span",{className:jr(o.offset,r),"aria-hidden":!0,children:ut.jsx("span",{className:o.circle,children:ut.jsx("span",{className:o.label,children:n})})})]})):null}const yJ=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","shiftStep","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"];function J6(e){return e}const vJ=cr("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`color${Rr(r.color)}`],r.size!=="medium"&&t[`size${Rr(r.size)}`],r.marked&&t.marked,r.orientation==="vertical"&&t.vertical,r.track==="inverted"&&t.trackInverted,r.track===!1&&t.trackFalse]}})(({theme:e,ownerState:t})=>Ve({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:(e.vars||e).palette[t.color].main,WebkitTapHighlightColor:"transparent"},t.orientation==="horizontal"&&Ve({height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}},t.size==="small"&&{height:2},t.marked&&{marginBottom:20}),t.orientation==="vertical"&&Ve({height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}},t.size==="small"&&{width:2},t.marked&&{marginRight:44}),{"@media print":{colorAdjust:"exact"},[`&.${Nc.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${Nc.dragging}`]:{[`& .${Nc.thumb}, & .${Nc.track}`]:{transition:"none"}}})),bJ=cr("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(e,t)=>t.rail})(({ownerState:e})=>Ve({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38},e.orientation==="horizontal"&&{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"},e.orientation==="vertical"&&{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"},e.track==="inverted"&&{opacity:1})),_J=cr("span",{name:"MuiSlider",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light"?KN(e.palette[t.color].main,.62):XN(e.palette[t.color].main,.5);return Ve({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest})},t.size==="small"&&{border:"none"},t.orientation==="horizontal"&&{height:"inherit",top:"50%",transform:"translateY(-50%)"},t.orientation==="vertical"&&{width:"inherit",left:"50%",transform:"translateX(-50%)"},t.track===!1&&{display:"none"},t.track==="inverted"&&{backgroundColor:e.vars?e.vars.palette.Slider[`${t.color}Track`]:r,borderColor:e.vars?e.vars.palette.Slider[`${t.color}Track`]:r})}),xJ=cr("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.thumb,t[`thumbColor${Rr(r.color)}`],r.size!=="medium"&&t[`thumbSize${Rr(r.size)}`]]}})(({theme:e,ownerState:t})=>Ve({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest})},t.size==="small"&&{width:12,height:12},t.orientation==="horizontal"&&{top:"50%",transform:"translate(-50%, -50%)"},t.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 50%)"},{"&::before":Ve({position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},t.size==="small"&&{boxShadow:"none"}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&:hover, &.${Nc.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.16)`:ll(e.palette[t.color].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${Nc.active}`]:{boxShadow:`0px 0px 0px 14px ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.16)`:ll(e.palette[t.color].main,.16)}`},[`&.${Nc.disabled}`]:{"&:hover":{boxShadow:"none"}}})),wJ=cr(gJ,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(e,t)=>t.valueLabel})(({theme:e,ownerState:t})=>Ve({[`&.${Nc.valueLabelOpen}`]:{transform:`${t.orientation==="vertical"?"translateY(-50%)":"translateY(-100%)"} scale(1)`},zIndex:1,whiteSpace:"nowrap"},e.typography.body2,{fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),transform:`${t.orientation==="vertical"?"translateY(-50%)":"translateY(-100%)"} scale(0)`,position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem"},t.orientation==="horizontal"&&{top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"}},t.orientation==="vertical"&&{right:t.size==="small"?"20px":"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"}},t.size==="small"&&{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"})),SJ=cr("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>e4(e)&&e!=="markActive",overridesResolver:(e,t)=>{const{markActive:r}=e;return[t.mark,r&&t.markActive]}})(({theme:e,ownerState:t,markActive:r})=>Ve({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},t.orientation==="horizontal"&&{top:"50%",transform:"translate(-1px, -50%)"},t.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 1px)"},r&&{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8})),CJ=cr("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>e4(e)&&e!=="markLabelActive",overridesResolver:(e,t)=>t.markLabel})(({theme:e,ownerState:t,markLabelActive:r})=>Ve({},e.typography.body2,{color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap"},t.orientation==="horizontal"&&{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}},t.orientation==="vertical"&&{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}},r&&{color:(e.vars||e).palette.text.primary})),AJ=e=>{const{disabled:t,dragging:r,marked:n,orientation:o,track:s,classes:u,color:l,size:f}=e,v={root:["root",t&&"disabled",r&&"dragging",n&&"marked",o==="vertical"&&"vertical",s==="inverted"&&"trackInverted",s===!1&&"trackFalse",l&&`color${Rr(l)}`,f&&`size${Rr(f)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",f&&`thumbSize${Rr(f)}`,l&&`thumbColor${Rr(l)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return qn(v,pJ,u)},EJ=({children:e})=>e,TJ=Q.forwardRef(function(t,r){var n,o,s,u,l,f,v,x,w,C,P,O,I,z,N,j,V,W,re,ie,J,ne,Ae,Z;const X=Qn({props:t,name:"MuiSlider"}),be=Nd().direction==="rtl",{"aria-label":ge,"aria-valuetext":De,"aria-labelledby":Le,component:je="span",components:xe={},componentsProps:Oe={},color:Ke="primary",classes:ht,className:le,disableSwap:me=!1,disabled:we=!1,getAriaLabel:Ie,getAriaValueText:Me,marks:tt=!1,max:Ue=100,min:qe=0,orientation:lt="horizontal",shiftStep:pt=10,size:Et="medium",step:St=1,scale:kt=J6,slotProps:ct,slots:de,track:hr="normal",valueLabelDisplay:Kt="off",valueLabelFormat:bt=J6}=X,Pt=tn(X,yJ),Ot=Ve({},X,{isRtl:be,max:Ue,min:qe,classes:ht,disabled:we,disableSwap:me,orientation:lt,marks:tt,color:Ke,size:Et,step:St,shiftStep:pt,scale:kt,track:hr,valueLabelDisplay:Kt,valueLabelFormat:bt}),{axisProps:Gt,getRootProps:It,getHiddenInputProps:ir,getThumbProps:vr,open:Pr,active:Vr,axis:Ze,focusedThumbIndex:mt,range:Rt,dragging:Lt,marks:Br,values:rt,trackOffset:Qt,trackLeap:Vt,getThumbStyle:xr}=_X(Ve({},Ot,{rootRef:r}));Ot.marked=Br.length>0&&Br.some(nn=>nn.label),Ot.dragging=Lt,Ot.focusedThumbIndex=mt;const rn=AJ(Ot),rr=(n=(o=de==null?void 0:de.root)!=null?o:xe.Root)!=null?n:vJ,ni=(s=(u=de==null?void 0:de.rail)!=null?u:xe.Rail)!=null?s:bJ,Nn=(l=(f=de==null?void 0:de.track)!=null?f:xe.Track)!=null?l:_J,_i=(v=(x=de==null?void 0:de.thumb)!=null?x:xe.Thumb)!=null?v:xJ,Bn=(w=(C=de==null?void 0:de.valueLabel)!=null?C:xe.ValueLabel)!=null?w:wJ,Ne=(P=(O=de==null?void 0:de.mark)!=null?O:xe.Mark)!=null?P:SJ,ae=(I=(z=de==null?void 0:de.markLabel)!=null?z:xe.MarkLabel)!=null?I:CJ,ce=(N=(j=de==null?void 0:de.input)!=null?j:xe.Input)!=null?N:"input",Ce=(V=ct==null?void 0:ct.root)!=null?V:Oe.root,Re=(W=ct==null?void 0:ct.rail)!=null?W:Oe.rail,Je=(re=ct==null?void 0:ct.track)!=null?re:Oe.track,nt=(ie=ct==null?void 0:ct.thumb)!=null?ie:Oe.thumb,Ye=(J=ct==null?void 0:ct.valueLabel)!=null?J:Oe.valueLabel,He=(ne=ct==null?void 0:ct.mark)!=null?ne:Oe.mark,_t=(Ae=ct==null?void 0:ct.markLabel)!=null?Ae:Oe.markLabel,Ct=(Z=ct==null?void 0:ct.input)!=null?Z:Oe.input,gt=Ml({elementType:rr,getSlotProps:It,externalSlotProps:Ce,externalForwardedProps:Pt,additionalProps:Ve({},fJ(rr)&&{as:je}),ownerState:Ve({},Ot,Ce==null?void 0:Ce.ownerState),className:[rn.root,le]}),jt=Ml({elementType:ni,externalSlotProps:Re,ownerState:Ot,className:rn.rail}),ur=Ml({elementType:Nn,externalSlotProps:Je,additionalProps:{style:Ve({},Gt[Ze].offset(Qt),Gt[Ze].leap(Vt))},ownerState:Ve({},Ot,Je==null?void 0:Je.ownerState),className:rn.track}),mr=Ml({elementType:_i,getSlotProps:vr,externalSlotProps:nt,ownerState:Ve({},Ot,nt==null?void 0:nt.ownerState),className:rn.thumb}),gn=Ml({elementType:Bn,externalSlotProps:Ye,ownerState:Ve({},Ot,Ye==null?void 0:Ye.ownerState),className:rn.valueLabel}),Ir=Ml({elementType:Ne,externalSlotProps:He,ownerState:Ot,className:rn.mark}),Yr=Ml({elementType:ae,externalSlotProps:_t,ownerState:Ot,className:rn.markLabel}),en=Ml({elementType:ce,getSlotProps:ir,externalSlotProps:Ct,ownerState:Ot});return ut.jsxs(rr,Ve({},gt,{children:[ut.jsx(ni,Ve({},jt)),ut.jsx(Nn,Ve({},ur)),Br.filter(nn=>nn.value>=qe&&nn.value<=Ue).map((nn,Tr)=>{const Hr=O_(nn.value,qe,Ue),_n=Gt[Ze].offset(Hr);let Cn;return hr===!1?Cn=rt.indexOf(nn.value)!==-1:Cn=hr==="normal"&&(Rt?nn.value>=rt[0]&&nn.value<=rt[rt.length-1]:nn.value<=rt[0])||hr==="inverted"&&(Rt?nn.value<=rt[0]||nn.value>=rt[rt.length-1]:nn.value>=rt[0]),ut.jsxs(Q.Fragment,{children:[ut.jsx(Ne,Ve({"data-index":Tr},Ir,!Rh(Ne)&&{markActive:Cn},{style:Ve({},_n,Ir.style),className:jr(Ir.className,Cn&&rn.markActive)})),nn.label!=null?ut.jsx(ae,Ve({"aria-hidden":!0,"data-index":Tr},Yr,!Rh(ae)&&{markLabelActive:Cn},{style:Ve({},_n,Yr.style),className:jr(rn.markLabel,Yr.className,Cn&&rn.markLabelActive),children:nn.label})):null]},Tr)}),rt.map((nn,Tr)=>{const Hr=O_(nn,qe,Ue),_n=Gt[Ze].offset(Hr),Cn=Kt==="off"?EJ:Bn;return ut.jsx(Cn,Ve({},!Rh(Cn)&&{valueLabelFormat:bt,valueLabelDisplay:Kt,value:typeof bt=="function"?bt(kt(nn),Tr):bt,index:Tr,open:Pr===Tr||Vr===Tr||Kt==="on",disabled:we},gn,{children:ut.jsx(_i,Ve({"data-index":Tr},mr,{className:jr(rn.thumb,mr.className,Vr===Tr&&rn.active,mt===Tr&&rn.focusVisible),style:Ve({},_n,xr(Tr),mr.style),children:ut.jsx(ce,Ve({"data-index":Tr,"aria-label":Ie?Ie(Tr):ge,"aria-valuenow":kt(nn),"aria-labelledby":Le,"aria-valuetext":Me?Me(kt(nn),Tr):De,value:rt[Tr]},en))}))}),Tr)})]}))}),PJ=["anchor","classes","className","width","style"],kJ=cr("div",{shouldForwardProp:Gs})(({theme:e,ownerState:t})=>Ve({position:"fixed",top:0,left:0,bottom:0,zIndex:e.zIndex.drawer-1},t.anchor==="left"&&{right:"auto"},t.anchor==="right"&&{left:"auto",right:0},t.anchor==="top"&&{bottom:"auto",right:0},t.anchor==="bottom"&&{top:"auto",bottom:0,right:0})),IJ=Q.forwardRef(function(t,r){const{anchor:n,classes:o={},className:s,width:u,style:l}=t,f=tn(t,PJ),v=t;return ut.jsx(kJ,Ve({className:jr("PrivateSwipeArea-root",o.root,o[`anchor${Rr(n)}`],s),ref:r,style:Ve({[vp(n)?"width":"height"]:u},l),ownerState:v},f))}),LJ=["BackdropProps"],MJ=["anchor","disableBackdropTransition","disableDiscovery","disableSwipeToOpen","hideBackdrop","hysteresis","allowSwipeInChildren","minFlingVelocity","ModalProps","onClose","onOpen","open","PaperProps","SwipeAreaProps","swipeAreaWidth","transitionDuration","variant"],fb=3,NS=20;let ld=null;function FS(e,t,r){return e==="right"?r.body.offsetWidth-t[0].pageX:t[0].pageX}function $S(e,t,r){return e==="bottom"?r.innerHeight-t[0].clientY:t[0].clientY}function Wy(e,t){return e?t.clientWidth:t.clientHeight}function Q6(e,t,r,n){return Math.min(Math.max(r?t-e:n+t-e,0),n)}function DJ(e,t){const r=[];for(;e&&e!==t.parentElement;){const n=jl(t).getComputedStyle(e);n.getPropertyValue("position")==="absolute"||n.getPropertyValue("overflow-x")==="hidden"||(e.clientWidth>0&&e.scrollWidth>e.clientWidth||e.clientHeight>0&&e.scrollHeight>e.clientHeight)&&r.push(e),e=e.parentElement}return r}function RJ({domTreeShapes:e,start:t,current:r,anchor:n}){const o={scrollPosition:{x:"scrollLeft",y:"scrollTop"},scrollLength:{x:"scrollWidth",y:"scrollHeight"},clientLength:{x:"clientWidth",y:"clientHeight"}};return e.some(s=>{let u=r>=t;(n==="top"||n==="left")&&(u=!u);const l=n==="left"||n==="right"?"x":"y",f=Math.round(s[o.scrollPosition[l]]),v=f>0,x=f+s[o.clientLength[l]]<s[o.scrollLength[l]];return!!(u&&x||!u&&v)})}const OJ=typeof navigator<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent),NJ=Q.forwardRef(function(t,r){const n=WN({name:"MuiSwipeableDrawer",props:t}),o=Nd(),s={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{anchor:u="left",disableBackdropTransition:l=!1,disableDiscovery:f=!1,disableSwipeToOpen:v=OJ,hideBackdrop:x,hysteresis:w=.52,allowSwipeInChildren:C=!1,minFlingVelocity:P=450,ModalProps:{BackdropProps:O}={},onClose:I,onOpen:z,open:N=!1,PaperProps:j={},SwipeAreaProps:V,swipeAreaWidth:W=20,transitionDuration:re=s,variant:ie="temporary"}=n,J=tn(n.ModalProps,LJ),ne=tn(n,MJ),[Ae,Z]=Q.useState(!1),X=Q.useRef({isSwiping:null}),oe=Q.useRef(),be=Q.useRef(),ge=Q.useRef(),De=Sa(j.ref,ge),Le=Q.useRef(!1),je=Q.useRef();Cu(()=>{je.current=null},[N]);const xe=Q.useCallback((me,we={})=>{const{mode:Ie=null,changeTransition:Me=!0}=we,tt=h1(o,u),Ue=["right","bottom"].indexOf(tt)!==-1?1:-1,qe=vp(u),lt=qe?`translate(${Ue*me}px, 0)`:`translate(0, ${Ue*me}px)`,pt=ge.current.style;pt.webkitTransform=lt,pt.transform=lt;let Et="";if(Ie&&(Et=o.transitions.create("all",Yp({easing:void 0,style:void 0,timeout:re},{mode:Ie}))),Me&&(pt.webkitTransition=Et,pt.transition=Et),!l&&!x){const St=be.current.style;St.opacity=1-me/Wy(qe,ge.current),Me&&(St.webkitTransition=Et,St.transition=Et)}},[u,l,x,o,re]),Oe=bu(me=>{if(!Le.current)return;if(ld=null,Le.current=!1,kg.flushSync(()=>{Z(!1)}),!X.current.isSwiping){X.current.isSwiping=null;return}X.current.isSwiping=null;const we=h1(o,u),Ie=vp(u);let Me;Ie?Me=FS(we,me.changedTouches,Xo(me.currentTarget)):Me=$S(we,me.changedTouches,jl(me.currentTarget));const tt=Ie?X.current.startX:X.current.startY,Ue=Wy(Ie,ge.current),qe=Q6(Me,tt,N,Ue),lt=qe/Ue;if(Math.abs(X.current.velocity)>P&&(je.current=Math.abs((Ue-qe)/X.current.velocity)*1e3),N){X.current.velocity>P||lt>w?I():xe(0,{mode:"exit"});return}X.current.velocity<-P||1-lt>w?z():xe(Wy(Ie,ge.current),{mode:"enter"})}),Ke=(me=!1)=>{if(!Ae){(me||!(f&&C))&&kg.flushSync(()=>{Z(!0)});const we=vp(u);!N&&ge.current&&xe(Wy(we,ge.current)+(f?15:-NS),{changeTransition:!1}),X.current.velocity=0,X.current.lastTime=null,X.current.lastTranslate=null,X.current.paperHit=!1,Le.current=!0}},ht=bu(me=>{if(!ge.current||!Le.current||ld!==null&&ld!==X.current)return;Ke(!0);const we=h1(o,u),Ie=vp(u),Me=FS(we,me.touches,Xo(me.currentTarget)),tt=$S(we,me.touches,jl(me.currentTarget));if(N&&ge.current.contains(me.target)&&ld===null){const Et=DJ(me.target,ge.current);if(RJ({domTreeShapes:Et,start:Ie?X.current.startX:X.current.startY,current:Ie?Me:tt,anchor:u})){ld=!0;return}ld=X.current}if(X.current.isSwiping==null){const Et=Math.abs(Me-X.current.startX),St=Math.abs(tt-X.current.startY),kt=Ie?Et>St&&Et>fb:St>Et&&St>fb;if(kt&&me.cancelable&&me.preventDefault(),kt===!0||(Ie?St>fb:Et>fb)){if(X.current.isSwiping=kt,!kt){Oe(me);return}X.current.startX=Me,X.current.startY=tt,!f&&!N&&(Ie?X.current.startX-=NS:X.current.startY-=NS)}}if(!X.current.isSwiping)return;const Ue=Wy(Ie,ge.current);let qe=Ie?X.current.startX:X.current.startY;N&&!X.current.paperHit&&(qe=Math.min(qe,Ue));const lt=Q6(Ie?Me:tt,qe,N,Ue);if(N)if(X.current.paperHit)lt===0&&(X.current.startX=Me,X.current.startY=tt);else if(Ie?Me<Ue:tt<Ue)X.current.paperHit=!0,X.current.startX=Me,X.current.startY=tt;else return;X.current.lastTranslate===null&&(X.current.lastTranslate=lt,X.current.lastTime=performance.now()+1);const pt=(lt-X.current.lastTranslate)/(performance.now()-X.current.lastTime)*1e3;X.current.velocity=X.current.velocity*.4+pt*.6,X.current.lastTranslate=lt,X.current.lastTime=performance.now(),me.cancelable&&me.preventDefault(),xe(lt)}),le=bu(me=>{if(me.defaultPrevented||me.defaultMuiPrevented||N&&(x||!be.current.contains(me.target))&&!ge.current.contains(me.target))return;const we=h1(o,u),Ie=vp(u),Me=FS(we,me.touches,Xo(me.currentTarget)),tt=$S(we,me.touches,jl(me.currentTarget));if(!N){var Ue;if(v||!(me.target===oe.current||(Ue=ge.current)!=null&&Ue.contains(me.target)&&(typeof C=="function"?C(me,oe.current,ge.current):C)))return;if(Ie){if(Me>W)return}else if(tt>W)return}me.defaultMuiPrevented=!0,ld=null,X.current.startX=Me,X.current.startY=tt,Ke()});return Q.useEffect(()=>{if(ie==="temporary"){const me=Xo(ge.current);return me.addEventListener("touchstart",le),me.addEventListener("touchmove",ht,{passive:!N}),me.addEventListener("touchend",Oe),()=>{me.removeEventListener("touchstart",le),me.removeEventListener("touchmove",ht,{passive:!N}),me.removeEventListener("touchend",Oe)}}},[ie,N,le,ht,Oe]),Q.useEffect(()=>()=>{ld===X.current&&(ld=null)},[]),Q.useEffect(()=>{N||Z(!1)},[N]),ut.jsxs(Q.Fragment,{children:[ut.jsx(cF,Ve({open:ie==="temporary"&&Ae?!0:N,variant:ie,ModalProps:Ve({BackdropProps:Ve({},O,{ref:be})},ie==="temporary"&&{keepMounted:!0},J),hideBackdrop:x,PaperProps:Ve({},j,{style:Ve({pointerEvents:ie==="temporary"&&!N&&!C?"none":""},j.style),ref:De}),anchor:u,transitionDuration:je.current||re,onClose:I,ref:r},ne)),!v&&ie==="temporary"&&ut.jsx(fX,{children:ut.jsx(IJ,Ve({anchor:u,ref:oe,width:W},V))})]})});function FJ(e){return $n("MuiTextField",e)}On("MuiTextField",["root"]);const $J=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],BJ={standard:u4,filled:l4,outlined:p4},zJ=e=>{const{classes:t}=e;return qn({root:["root"]},FJ,t)},jJ=cr(cZ,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),UJ=Q.forwardRef(function(t,r){const n=Qn({props:t,name:"MuiTextField"}),{autoComplete:o,autoFocus:s=!1,children:u,className:l,color:f="primary",defaultValue:v,disabled:x=!1,error:w=!1,FormHelperTextProps:C,fullWidth:P=!1,helperText:O,id:I,InputLabelProps:z,inputProps:N,InputProps:j,inputRef:V,label:W,maxRows:re,minRows:ie,multiline:J=!1,name:ne,onBlur:Ae,onChange:Z,onFocus:X,placeholder:oe,required:be=!1,rows:ge,select:De=!1,SelectProps:Le,type:je,value:xe,variant:Oe="outlined"}=n,Ke=tn(n,$J),ht=Ve({},n,{autoFocus:s,color:f,disabled:x,error:w,fullWidth:P,multiline:J,required:be,select:De,variant:Oe}),le=zJ(ht),me={};Oe==="outlined"&&(z&&typeof z.shrink<"u"&&(me.notched=z.shrink),me.label=W),De&&((!Le||!Le.native)&&(me.id=void 0),me["aria-describedby"]=void 0);const we=qx(I),Ie=O&&we?`${we}-helper-text`:void 0,Me=W&&we?`${we}-label`:void 0,tt=BJ[Oe],Ue=ut.jsx(tt,Ve({"aria-describedby":Ie,autoComplete:o,autoFocus:s,defaultValue:v,fullWidth:P,multiline:J,name:ne,rows:ge,maxRows:re,minRows:ie,type:je,value:xe,id:we,inputRef:V,onBlur:Ae,onChange:Z,onFocus:X,placeholder:oe,inputProps:N},me,j));return ut.jsxs(jJ,Ve({className:jr(le.root,l),disabled:x,error:w,fullWidth:P,ref:r,required:be,color:f,variant:Oe,ownerState:ht},Ke,{children:[W!=null&&W!==""&&ut.jsx(XZ,Ve({htmlFor:we,id:Me},z,{children:W})),De?ut.jsx(_F,Ve({"aria-describedby":Ie,id:we,labelId:Me,value:xe,input:Ue},Le,{children:u})):Ue,O&&ut.jsx(mZ,Ve({id:Ie},C,{children:O}))]}))});var xF={exports:{}};(function(e){function t(r){return r&&r.__esModule?r:{default:r}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(xF);var Fd=xF.exports,BS={};function ai(){return ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ai.apply(this,arguments)}function zh(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,s;for(s=0;s<n.length;s++)o=n[s],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function CC(){return CC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CC.apply(this,arguments)}var VJ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,qJ=Wv(function(e){return VJ.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),wF=Q.createContext(typeof HTMLElement<"u"?vN({key:"css"}):null);wF.Provider;var HJ=function(t){return Q.forwardRef(function(r,n){var o=Q.useContext(wF);return t(r,o,n)})},SF=Q.createContext({}),GJ=/[A-Z]|^ms/g,WJ=/_EMO_([^_]+?)_([^]*?)_EMO_/g,CF=function(t){return t.charCodeAt(1)===45},eL=function(t){return t!=null&&typeof t!="boolean"},zS=Wv(function(e){return CF(e)?e:e.replace(GJ,"-$&").toLowerCase()}),tL=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(WJ,function(n,o,s){return Ah={name:o,styles:s,next:Ah},o})}return VE[t]!==1&&!CF(t)&&typeof r=="number"&&r!==0?r+"px":r};function yv(e,t,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return Ah={name:r.name,styles:r.styles,next:Ah},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)Ah={name:n.name,styles:n.styles,next:Ah},n=n.next;var o=r.styles+";";return o}return XJ(e,t,r)}case"function":{if(e!==void 0){var s=Ah,u=r(e);return Ah=s,yv(e,t,u)}break}}if(t==null)return r;var l=t[r];return l!==void 0?l:r}function XJ(e,t,r){var n="";if(Array.isArray(r))for(var o=0;o<r.length;o++)n+=yv(e,t,r[o])+";";else for(var s in r){var u=r[s];if(typeof u!="object")t!=null&&t[u]!==void 0?n+=s+"{"+t[u]+"}":eL(u)&&(n+=zS(s)+":"+tL(s,u)+";");else if(Array.isArray(u)&&typeof u[0]=="string"&&(t==null||t[u[0]]===void 0))for(var l=0;l<u.length;l++)eL(u[l])&&(n+=zS(s)+":"+tL(s,u[l])+";");else{var f=yv(e,t,u);switch(s){case"animation":case"animationName":{n+=zS(s)+":"+f+";";break}default:n+=s+"{"+f+"}"}}}return n}var rL=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ah,KJ=function(t,r,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var o=!0,s="";Ah=void 0;var u=t[0];u==null||u.raw===void 0?(o=!1,s+=yv(n,r,u)):s+=u[0];for(var l=1;l<t.length;l++)s+=yv(n,r,t[l]),o&&(s+=u[l]);rL.lastIndex=0;for(var f="",v;(v=rL.exec(s))!==null;)f+="-"+v[1];var x=UE(s)+f;return{name:x,styles:s,next:Ah}},ZJ=qJ,YJ=function(t){return t!=="theme"},nL=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?ZJ:YJ},iL=function(t,r,n){var o;if(r){var s=r.shouldForwardProp;o=t.__emotion_forwardProp&&s?function(u){return t.__emotion_forwardProp(u)&&s(u)}:s}return typeof o!="function"&&n&&(o=t.__emotion_forwardProp),o},JJ=function(t){var r=t.cache,n=t.serialized,o=t.isStringTag;return zE(r,n,o),TN(function(){return jE(r,n,o)}),null},QJ=function e(t,r){var n=t.__emotion_real===t,o=n&&t.__emotion_base||t,s,u;r!==void 0&&(s=r.label,u=r.target);var l=iL(t,r,n),f=l||nL(o),v=!f("as");return function(){var x=arguments,w=n&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(s!==void 0&&w.push("label:"+s+";"),x[0]==null||x[0].raw===void 0)w.push.apply(w,x);else{w.push(x[0][0]);for(var C=x.length,P=1;P<C;P++)w.push(x[P],x[0][P])}var O=HJ(function(I,z,N){var j=v&&I.as||o,V="",W=[],re=I;if(I.theme==null){re={};for(var ie in I)re[ie]=I[ie];re.theme=Q.useContext(SF)}typeof I.className=="string"?V=SN(z.registered,W,I.className):I.className!=null&&(V=I.className+" ");var J=KJ(w.concat(W),z.registered,re);V+=z.key+"-"+J.name,u!==void 0&&(V+=" "+u);var ne=v&&l===void 0?nL(j):f,Ae={};for(var Z in I)v&&Z==="as"||ne(Z)&&(Ae[Z]=I[Z]);return Ae.className=V,Ae.ref=N,Q.createElement(Q.Fragment,null,Q.createElement(JJ,{cache:z,serialized:J,isStringTag:typeof j=="string"}),Q.createElement(j,Ae))});return O.displayName=s!==void 0?s:"Styled("+(typeof o=="string"?o:o.displayName||o.name||"Component")+")",O.defaultProps=t.defaultProps,O.__emotion_real=O,O.__emotion_base=o,O.__emotion_styles=w,O.__emotion_forwardProp=l,Object.defineProperty(O,"toString",{value:function(){return"."+u}}),O.withComponent=function(I,z){return e(I,CC({},r,z,{shouldForwardProp:iL(O,z,!0)})).apply(void 0,w)},O}},eQ=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],AC=QJ.bind();eQ.forEach(function(e){AC[e]=AC(e)});function tQ(e,t){return AC(e,t)}const rQ=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},nQ=["values","unit","step"],iQ=e=>{const t=Object.keys(e).map(r=>({key:r,val:e[r]}))||[];return t.sort((r,n)=>r.val-n.val),t.reduce((r,n)=>ai({},r,{[n.key]:n.val}),{})};function oQ(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5}=e,o=zh(e,nQ),s=iQ(t),u=Object.keys(s);function l(C){return`@media (min-width:${typeof t[C]=="number"?t[C]:C}${r})`}function f(C){return`@media (max-width:${(typeof t[C]=="number"?t[C]:C)-n/100}${r})`}function v(C,P){const O=u.indexOf(P);return`@media (min-width:${typeof t[C]=="number"?t[C]:C}${r}) and (max-width:${(O!==-1&&typeof t[u[O]]=="number"?t[u[O]]:P)-n/100}${r})`}function x(C){return u.indexOf(C)+1<u.length?v(C,u[u.indexOf(C)+1]):l(C)}function w(C){const P=u.indexOf(C);return P===0?l(u[1]):P===u.length-1?f(u[P]):v(C,u[u.indexOf(C)+1]).replace("@media","@media not all and")}return ai({keys:u,values:s,up:l,down:f,between:v,only:x,not:w,unit:r},o)}const aQ={borderRadius:4};function $1(e,t){return t?wa(e,t,{clone:!1}):e}const g4={xs:0,sm:600,md:900,lg:1200,xl:1536},oL={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${g4[e]}px)`};function kd(e,t,r){const n=e.theme||{};if(Array.isArray(t)){const s=n.breakpoints||oL;return t.reduce((u,l,f)=>(u[s.up(s.keys[f])]=r(t[f]),u),{})}if(typeof t=="object"){const s=n.breakpoints||oL;return Object.keys(t).reduce((u,l)=>{if(Object.keys(s.values||g4).indexOf(l)!==-1){const f=s.up(l);u[f]=r(t[l],l)}else{const f=l;u[f]=t[f]}return u},{})}return r(t)}function sQ(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((n,o)=>{const s=e.up(o);return n[s]={},n},{}))||{}}function lQ(e,t){return e.reduce((r,n)=>{const o=r[n];return(!o||Object.keys(o).length===0)&&delete r[n],r},t)}function Sw(e,t,r=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&r){const n=`vars.${t}`.split(".").reduce((o,s)=>o&&o[s]?o[s]:null,e);if(n!=null)return n}return t.split(".").reduce((n,o)=>n&&n[o]!=null?n[o]:null,e)}function F_(e,t,r,n=r){let o;return typeof e=="function"?o=e(r):Array.isArray(e)?o=e[r]||n:o=Sw(e,r)||n,t&&(o=t(o,n,e)),o}function aa(e){const{prop:t,cssProperty:r=e.prop,themeKey:n,transform:o}=e,s=u=>{if(u[t]==null)return null;const l=u[t],f=u.theme,v=Sw(f,n)||{};return kd(u,l,w=>{let C=F_(v,o,w);return w===C&&typeof w=="string"&&(C=F_(v,o,`${t}${w==="default"?"":Rr(w)}`,w)),r===!1?C:{[r]:C}})};return s.propTypes={},s.filterProps=[t],s}function uQ(e){const t={};return r=>(t[r]===void 0&&(t[r]=e(r)),t[r])}const cQ={m:"margin",p:"padding"},hQ={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aL={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},dQ=uQ(e=>{if(e.length>2)if(aL[e])e=aL[e];else return[e];const[t,r]=e.split(""),n=cQ[t],o=hQ[r]||"";return Array.isArray(o)?o.map(s=>n+s):[n+o]}),y4=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],v4=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...y4,...v4];function Qv(e,t,r,n){var o;const s=(o=Sw(e,t,!1))!=null?o:r;return typeof s=="number"?u=>typeof u=="string"?u:s*u:Array.isArray(s)?u=>typeof u=="string"?u:s[u]:typeof s=="function"?s:()=>{}}function AF(e){return Qv(e,"spacing",8)}function e2(e,t){if(typeof t=="string"||t==null)return t;const r=Math.abs(t),n=e(r);return t>=0?n:typeof n=="number"?-n:`-${n}`}function fQ(e,t){return r=>e.reduce((n,o)=>(n[o]=e2(t,r),n),{})}function pQ(e,t,r,n){if(t.indexOf(r)===-1)return null;const o=dQ(r),s=fQ(o,n),u=e[r];return kd(e,u,s)}function EF(e,t){const r=AF(e.theme);return Object.keys(e).map(n=>pQ(e,t,n,r)).reduce($1,{})}function jo(e){return EF(e,y4)}jo.propTypes={};jo.filterProps=y4;function Uo(e){return EF(e,v4)}Uo.propTypes={};Uo.filterProps=v4;function mQ(e=8){if(e.mui)return e;const t=AF({spacing:e}),r=(...n)=>(n.length===0?[1]:n).map(s=>{const u=t(s);return typeof u=="number"?`${u}px`:u}).join(" ");return r.mui=!0,r}function Cw(...e){const t=e.reduce((n,o)=>(o.filterProps.forEach(s=>{n[s]=o}),n),{}),r=n=>Object.keys(n).reduce((o,s)=>t[s]?$1(o,t[s](n)):o,{});return r.propTypes={},r.filterProps=e.reduce((n,o)=>n.concat(o.filterProps),[]),r}function ec(e){return typeof e!="number"?e:`${e}px solid`}function hc(e,t){return aa({prop:e,themeKey:"borders",transform:t})}const gQ=hc("border",ec),yQ=hc("borderTop",ec),vQ=hc("borderRight",ec),bQ=hc("borderBottom",ec),_Q=hc("borderLeft",ec),xQ=hc("borderColor"),wQ=hc("borderTopColor"),SQ=hc("borderRightColor"),CQ=hc("borderBottomColor"),AQ=hc("borderLeftColor"),EQ=hc("outline",ec),TQ=hc("outlineColor"),Aw=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Qv(e.theme,"shape.borderRadius",4),r=n=>({borderRadius:e2(t,n)});return kd(e,e.borderRadius,r)}return null};Aw.propTypes={};Aw.filterProps=["borderRadius"];Cw(gQ,yQ,vQ,bQ,_Q,xQ,wQ,SQ,CQ,AQ,Aw,EQ,TQ);const Ew=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Qv(e.theme,"spacing",8),r=n=>({gap:e2(t,n)});return kd(e,e.gap,r)}return null};Ew.propTypes={};Ew.filterProps=["gap"];const Tw=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Qv(e.theme,"spacing",8),r=n=>({columnGap:e2(t,n)});return kd(e,e.columnGap,r)}return null};Tw.propTypes={};Tw.filterProps=["columnGap"];const Pw=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Qv(e.theme,"spacing",8),r=n=>({rowGap:e2(t,n)});return kd(e,e.rowGap,r)}return null};Pw.propTypes={};Pw.filterProps=["rowGap"];const PQ=aa({prop:"gridColumn"}),kQ=aa({prop:"gridRow"}),IQ=aa({prop:"gridAutoFlow"}),LQ=aa({prop:"gridAutoColumns"}),MQ=aa({prop:"gridAutoRows"}),DQ=aa({prop:"gridTemplateColumns"}),RQ=aa({prop:"gridTemplateRows"}),OQ=aa({prop:"gridTemplateAreas"}),NQ=aa({prop:"gridArea"});Cw(Ew,Tw,Pw,PQ,kQ,IQ,LQ,MQ,DQ,RQ,OQ,NQ);function J0(e,t){return t==="grey"?t:e}const FQ=aa({prop:"color",themeKey:"palette",transform:J0}),$Q=aa({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:J0}),BQ=aa({prop:"backgroundColor",themeKey:"palette",transform:J0});Cw(FQ,$Q,BQ);function gu(e){return e<=1&&e!==0?`${e*100}%`:e}const zQ=aa({prop:"width",transform:gu}),b4=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=r=>{var n,o;const s=((n=e.theme)==null||(n=n.breakpoints)==null||(n=n.values)==null?void 0:n[r])||g4[r];return s?((o=e.theme)==null||(o=o.breakpoints)==null?void 0:o.unit)!=="px"?{maxWidth:`${s}${e.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:gu(r)}};return kd(e,e.maxWidth,t)}return null};b4.filterProps=["maxWidth"];const jQ=aa({prop:"minWidth",transform:gu}),UQ=aa({prop:"height",transform:gu}),VQ=aa({prop:"maxHeight",transform:gu}),qQ=aa({prop:"minHeight",transform:gu});aa({prop:"size",cssProperty:"width",transform:gu});aa({prop:"size",cssProperty:"height",transform:gu});const HQ=aa({prop:"boxSizing"});Cw(zQ,b4,jQ,UQ,VQ,qQ,HQ);const _4={border:{themeKey:"borders",transform:ec},borderTop:{themeKey:"borders",transform:ec},borderRight:{themeKey:"borders",transform:ec},borderBottom:{themeKey:"borders",transform:ec},borderLeft:{themeKey:"borders",transform:ec},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ec},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Aw},color:{themeKey:"palette",transform:J0},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:J0},backgroundColor:{themeKey:"palette",transform:J0},p:{style:Uo},pt:{style:Uo},pr:{style:Uo},pb:{style:Uo},pl:{style:Uo},px:{style:Uo},py:{style:Uo},padding:{style:Uo},paddingTop:{style:Uo},paddingRight:{style:Uo},paddingBottom:{style:Uo},paddingLeft:{style:Uo},paddingX:{style:Uo},paddingY:{style:Uo},paddingInline:{style:Uo},paddingInlineStart:{style:Uo},paddingInlineEnd:{style:Uo},paddingBlock:{style:Uo},paddingBlockStart:{style:Uo},paddingBlockEnd:{style:Uo},m:{style:jo},mt:{style:jo},mr:{style:jo},mb:{style:jo},ml:{style:jo},mx:{style:jo},my:{style:jo},margin:{style:jo},marginTop:{style:jo},marginRight:{style:jo},marginBottom:{style:jo},marginLeft:{style:jo},marginX:{style:jo},marginY:{style:jo},marginInline:{style:jo},marginInlineStart:{style:jo},marginInlineEnd:{style:jo},marginBlock:{style:jo},marginBlockStart:{style:jo},marginBlockEnd:{style:jo},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Ew},rowGap:{style:Pw},columnGap:{style:Tw},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:gu},maxWidth:{style:b4},minWidth:{transform:gu},height:{transform:gu},maxHeight:{transform:gu},minHeight:{transform:gu},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function GQ(...e){const t=e.reduce((n,o)=>n.concat(Object.keys(o)),[]),r=new Set(t);return e.every(n=>r.size===Object.keys(n).length)}function WQ(e,t){return typeof e=="function"?e(t):e}function XQ(){function e(r,n,o,s){const u={[r]:n,theme:o},l=s[r];if(!l)return{[r]:n};const{cssProperty:f=r,themeKey:v,transform:x,style:w}=l;if(n==null)return null;if(v==="typography"&&n==="inherit")return{[r]:n};const C=Sw(o,v)||{};return w?w(u):kd(u,n,O=>{let I=F_(C,x,O);return O===I&&typeof O=="string"&&(I=F_(C,x,`${r}${O==="default"?"":Rr(O)}`,O)),f===!1?I:{[f]:I}})}function t(r){var n;const{sx:o,theme:s={}}=r||{};if(!o)return null;const u=(n=s.unstable_sxConfig)!=null?n:_4;function l(f){let v=f;if(typeof f=="function")v=f(s);else if(typeof f!="object")return f;if(!v)return null;const x=sQ(s.breakpoints),w=Object.keys(x);let C=x;return Object.keys(v).forEach(P=>{const O=WQ(v[P],s);if(O!=null)if(typeof O=="object")if(u[P])C=$1(C,e(P,O,s,u));else{const I=kd({theme:s},O,z=>({[P]:z}));GQ(I,O)?C[P]=t({sx:O,theme:s}):C=$1(C,I)}else C=$1(C,e(P,O,s,u))}),lQ(w,C)}return Array.isArray(o)?o.map(l):l(o)}return t}const kw=XQ();kw.filterProps=["sx"];function KQ(e,t){const r=this;return r.vars&&typeof r.getColorSchemeSelector=="function"?{[r.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:r.palette.mode===e?t:{}}const ZQ=["breakpoints","palette","spacing","shape"];function x4(e={},...t){const{breakpoints:r={},palette:n={},spacing:o,shape:s={}}=e,u=zh(e,ZQ),l=oQ(r),f=mQ(o);let v=wa({breakpoints:l,direction:"ltr",components:{},palette:ai({mode:"light"},n),spacing:f,shape:ai({},aQ,s)},u);return v.applyStyles=KQ,v=t.reduce((x,w)=>wa(x,w),v),v.unstable_sxConfig=ai({},_4,u==null?void 0:u.unstable_sxConfig),v.unstable_sx=function(w){return kw({sx:w,theme:this})},v}function YQ(e){return Object.keys(e).length===0}function JQ(e=null){const t=Q.useContext(SF);return!t||YQ(t)?e:t}const QQ=x4();function eee(e=QQ){return JQ(e)}const tee=["ownerState"],ree=["variants"],nee=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function iee(e){return Object.keys(e).length===0}function oee(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Kb(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const aee=x4(),see=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function pb({defaultTheme:e,theme:t,themeId:r}){return iee(t)?e:t[r]||t}function lee(e){return e?(t,r)=>r[e]:null}function Zb(e,t){let{ownerState:r}=t,n=zh(t,tee);const o=typeof e=="function"?e(ai({ownerState:r},n)):e;if(Array.isArray(o))return o.flatMap(s=>Zb(s,ai({ownerState:r},n)));if(o&&typeof o=="object"&&Array.isArray(o.variants)){const{variants:s=[]}=o;let l=zh(o,ree);return s.forEach(f=>{let v=!0;typeof f.props=="function"?v=f.props(ai({ownerState:r},n)):Object.keys(f.props).forEach(x=>{(r==null?void 0:r[x])!==f.props[x]&&n[x]!==f.props[x]&&(v=!1)}),v&&(Array.isArray(l)||(l=[l]),l.push(typeof f.style=="function"?f.style(ai({ownerState:r},n)):f.style))}),l}return o}function uee(e={}){const{themeId:t,defaultTheme:r=aee,rootShouldForwardProp:n=Kb,slotShouldForwardProp:o=Kb}=e,s=u=>kw(ai({},u,{theme:pb(ai({},u,{defaultTheme:r,themeId:t}))}));return s.__mui_systemSx=!0,(u,l={})=>{rQ(u,re=>re.filter(ie=>!(ie!=null&&ie.__mui_systemSx)));const{name:f,slot:v,skipVariantsResolver:x,skipSx:w,overridesResolver:C=lee(see(v))}=l,P=zh(l,nee),O=x!==void 0?x:v&&v!=="Root"&&v!=="root"||!1,I=w||!1;let z,N=Kb;v==="Root"||v==="root"?N=n:v?N=o:oee(u)&&(N=void 0);const j=tQ(u,ai({shouldForwardProp:N,label:z},P)),V=re=>typeof re=="function"&&re.__emotion_real!==re||gd(re)?ie=>Zb(re,ai({},ie,{theme:pb({theme:ie.theme,defaultTheme:r,themeId:t})})):re,W=(re,...ie)=>{let J=V(re);const ne=ie?ie.map(V):[];f&&C&&ne.push(X=>{const oe=pb(ai({},X,{defaultTheme:r,themeId:t}));if(!oe.components||!oe.components[f]||!oe.components[f].styleOverrides)return null;const be=oe.components[f].styleOverrides,ge={};return Object.entries(be).forEach(([De,Le])=>{ge[De]=Zb(Le,ai({},X,{theme:oe}))}),C(X,ge)}),f&&!O&&ne.push(X=>{var oe;const be=pb(ai({},X,{defaultTheme:r,themeId:t})),ge=be==null||(oe=be.components)==null||(oe=oe[f])==null?void 0:oe.variants;return Zb({variants:ge},ai({},X,{theme:be}))}),I||ne.push(s);const Ae=ne.length-ie.length;if(Array.isArray(re)&&Ae>0){const X=new Array(Ae).fill("");J=[...re,...X],J.raw=[...re.raw,...X]}const Z=j(J,...ne);return u.muiName&&(Z.muiName=u.muiName),Z};return j.withConfig&&(W.withConfig=j.withConfig),W}}function cee(e){const{theme:t,name:r,props:n}=e;return!t||!t.components||!t.components[r]||!t.components[r].defaultProps?n:Gx(t.components[r].defaultProps,n)}function hee({props:e,name:t,defaultTheme:r,themeId:n}){let o=eee(r);return n&&(o=o[n]||o),cee({theme:o,name:t,props:e})}function TF(e,t=0,r=1){return yp(e,t,r)}function dee(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(t);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,o)=>o<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function Mg(e){if(e.type)return e;if(e.charAt(0)==="#")return Mg(dee(e));const t=e.indexOf("("),r=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error(Su(9,e));let n=e.substring(t+1,e.length-1),o;if(r==="color"){if(n=n.split(" "),o=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(o)===-1)throw new Error(Su(10,o))}else n=n.split(",");return n=n.map(s=>parseFloat(s)),{type:r,values:n,colorSpace:o}}function w4(e){const{type:t,colorSpace:r}=e;let{values:n}=e;return t.indexOf("rgb")!==-1?n=n.map((o,s)=>s<3?parseInt(o,10):o):t.indexOf("hsl")!==-1&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),t.indexOf("color")!==-1?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${t}(${n})`}function fee(e){e=Mg(e);const{values:t}=e,r=t[0],n=t[1]/100,o=t[2]/100,s=n*Math.min(o,1-o),u=(v,x=(v+r/30)%12)=>o-s*Math.max(Math.min(x-3,9-x,1),-1);let l="rgb";const f=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return e.type==="hsla"&&(l+="a",f.push(t[3])),w4({type:l,values:f})}function sL(e){e=Mg(e);let t=e.type==="hsl"||e.type==="hsla"?Mg(fee(e)).values:e.values;return t=t.map(r=>(e.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function pee(e,t){const r=sL(e),n=sL(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function mee(e,t){if(e=Mg(e),t=TF(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]*=1-t;return w4(e)}function gee(e,t){if(e=Mg(e),t=TF(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return w4(e)}function yee(e,t){return ai({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const vv={black:"#000",white:"#fff"},vee={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Um={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Vm={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Xy={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},qm={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Hm={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Gm={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},bee=["mode","contrastThreshold","tonalOffset"],lL={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:vv.white,default:vv.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},jS={text:{primary:vv.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:vv.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function uL(e,t,r,n){const o=n.light||n,s=n.dark||n*1.5;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:t==="light"?e.light=gee(e.main,o):t==="dark"&&(e.dark=mee(e.main,s)))}function _ee(e="light"){return e==="dark"?{main:qm[200],light:qm[50],dark:qm[400]}:{main:qm[700],light:qm[400],dark:qm[800]}}function xee(e="light"){return e==="dark"?{main:Um[200],light:Um[50],dark:Um[400]}:{main:Um[500],light:Um[300],dark:Um[700]}}function wee(e="light"){return e==="dark"?{main:Vm[500],light:Vm[300],dark:Vm[700]}:{main:Vm[700],light:Vm[400],dark:Vm[800]}}function See(e="light"){return e==="dark"?{main:Hm[400],light:Hm[300],dark:Hm[700]}:{main:Hm[700],light:Hm[500],dark:Hm[900]}}function Cee(e="light"){return e==="dark"?{main:Gm[400],light:Gm[300],dark:Gm[700]}:{main:Gm[800],light:Gm[500],dark:Gm[900]}}function Aee(e="light"){return e==="dark"?{main:Xy[400],light:Xy[300],dark:Xy[700]}:{main:"#ed6c02",light:Xy[500],dark:Xy[900]}}function Eee(e){const{mode:t="light",contrastThreshold:r=3,tonalOffset:n=.2}=e,o=zh(e,bee),s=e.primary||_ee(t),u=e.secondary||xee(t),l=e.error||wee(t),f=e.info||See(t),v=e.success||Cee(t),x=e.warning||Aee(t);function w(I){return pee(I,jS.text.primary)>=r?jS.text.primary:lL.text.primary}const C=({color:I,name:z,mainShade:N=500,lightShade:j=300,darkShade:V=700})=>{if(I=ai({},I),!I.main&&I[N]&&(I.main=I[N]),!I.hasOwnProperty("main"))throw new Error(Su(11,z?` (${z})`:"",N));if(typeof I.main!="string")throw new Error(Su(12,z?` (${z})`:"",JSON.stringify(I.main)));return uL(I,"light",j,n),uL(I,"dark",V,n),I.contrastText||(I.contrastText=w(I.main)),I},P={dark:jS,light:lL};return wa(ai({common:ai({},vv),mode:t,primary:C({color:s,name:"primary"}),secondary:C({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:C({color:l,name:"error"}),warning:C({color:x,name:"warning"}),info:C({color:f,name:"info"}),success:C({color:v,name:"success"}),grey:vee,contrastThreshold:r,getContrastText:w,augmentColor:C,tonalOffset:n},P[t]),o)}const Tee=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Pee(e){return Math.round(e*1e5)/1e5}const cL={textTransform:"uppercase"},hL='"Roboto", "Helvetica", "Arial", sans-serif';function kee(e,t){const r=typeof t=="function"?t(e):t,{fontFamily:n=hL,fontSize:o=14,fontWeightLight:s=300,fontWeightRegular:u=400,fontWeightMedium:l=500,fontWeightBold:f=700,htmlFontSize:v=16,allVariants:x,pxToRem:w}=r,C=zh(r,Tee),P=o/14,O=w||(N=>`${N/v*P}rem`),I=(N,j,V,W,re)=>ai({fontFamily:n,fontWeight:N,fontSize:O(j),lineHeight:V},n===hL?{letterSpacing:`${Pee(W/j)}em`}:{},re,x),z={h1:I(s,96,1.167,-1.5),h2:I(s,60,1.2,-.5),h3:I(u,48,1.167,0),h4:I(u,34,1.235,.25),h5:I(u,24,1.334,0),h6:I(l,20,1.6,.15),subtitle1:I(u,16,1.75,.15),subtitle2:I(l,14,1.57,.1),body1:I(u,16,1.5,.15),body2:I(u,14,1.43,.15),button:I(l,14,1.75,.4,cL),caption:I(u,12,1.66,.4),overline:I(u,12,2.66,1,cL),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return wa(ai({htmlFontSize:v,pxToRem:O,fontFamily:n,fontSize:o,fontWeightLight:s,fontWeightRegular:u,fontWeightMedium:l,fontWeightBold:f},z),C,{clone:!1})}const Iee=.2,Lee=.14,Mee=.12;function yo(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Iee})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${Lee})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Mee})`].join(",")}const Dee=["none",yo(0,2,1,-1,0,1,1,0,0,1,3,0),yo(0,3,1,-2,0,2,2,0,0,1,5,0),yo(0,3,3,-2,0,3,4,0,0,1,8,0),yo(0,2,4,-1,0,4,5,0,0,1,10,0),yo(0,3,5,-1,0,5,8,0,0,1,14,0),yo(0,3,5,-1,0,6,10,0,0,1,18,0),yo(0,4,5,-2,0,7,10,1,0,2,16,1),yo(0,5,5,-3,0,8,10,1,0,3,14,2),yo(0,5,6,-3,0,9,12,1,0,3,16,2),yo(0,6,6,-3,0,10,14,1,0,4,18,3),yo(0,6,7,-4,0,11,15,1,0,4,20,3),yo(0,7,8,-4,0,12,17,2,0,5,22,4),yo(0,7,8,-4,0,13,19,2,0,5,24,4),yo(0,7,9,-4,0,14,21,2,0,5,26,4),yo(0,8,9,-5,0,15,22,2,0,6,28,5),yo(0,8,10,-5,0,16,24,2,0,6,30,5),yo(0,8,11,-5,0,17,26,2,0,6,32,5),yo(0,9,11,-5,0,18,28,2,0,7,34,6),yo(0,9,12,-6,0,19,29,2,0,7,36,6),yo(0,10,13,-6,0,20,31,3,0,8,38,7),yo(0,10,13,-6,0,21,33,3,0,8,40,7),yo(0,10,14,-6,0,22,35,3,0,8,42,7),yo(0,11,14,-7,0,23,36,3,0,9,44,8),yo(0,11,15,-7,0,24,38,3,0,9,46,8)],Ree=["duration","easing","delay"],Oee={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Nee={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function dL(e){return`${Math.round(e)}ms`}function Fee(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function $ee(e){const t=ai({},Oee,e.easing),r=ai({},Nee,e.duration);return ai({getAutoHeightDuration:Fee,create:(o=["all"],s={})=>{const{duration:u=r.standard,easing:l=t.easeInOut,delay:f=0}=s;return zh(s,Ree),(Array.isArray(o)?o:[o]).map(v=>`${v} ${typeof u=="string"?u:dL(u)} ${l} ${typeof f=="string"?f:dL(f)}`).join(",")}},e,{easing:t,duration:r})}const Bee={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},zee=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function jee(e={},...t){const{mixins:r={},palette:n={},transitions:o={},typography:s={}}=e,u=zh(e,zee);if(e.vars)throw new Error(Su(18));const l=Eee(n),f=x4(e);let v=wa(f,{mixins:yee(f.breakpoints,r),palette:l,shadows:Dee.slice(),typography:kee(l,s),transitions:$ee(o),zIndex:ai({},Bee)});return v=wa(v,u),v=t.reduce((x,w)=>wa(x,w),v),v.unstable_sxConfig=ai({},_4,u==null?void 0:u.unstable_sxConfig),v.unstable_sx=function(w){return kw({sx:w,theme:this})},v}const PF=jee(),kF="$$material";function Uee({props:e,name:t}){return hee({props:e,name:t,defaultTheme:PF,themeId:kF})}const Vee=e=>Kb(e)&&e!=="classes",qee=uee({themeId:kF,defaultTheme:PF,rootShouldForwardProp:Vee});function Hee(e){return $n("MuiSvgIcon",e)}On("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Gee=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Wee=e=>{const{color:t,fontSize:r,classes:n}=e,o={root:["root",t!=="inherit"&&`color${Rr(t)}`,`fontSize${Rr(r)}`]};return qn(o,Hee,n)},Xee=qee("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="inherit"&&t[`color${Rr(r.color)}`],t[`fontSize${Rr(r.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var r,n,o,s,u,l,f,v,x,w,C,P,O;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(r=e.transitions)==null||(n=r.create)==null?void 0:n.call(r,"fill",{duration:(o=e.transitions)==null||(o=o.duration)==null?void 0:o.shorter}),fontSize:{inherit:"inherit",small:((s=e.typography)==null||(u=s.pxToRem)==null?void 0:u.call(s,20))||"1.25rem",medium:((l=e.typography)==null||(f=l.pxToRem)==null?void 0:f.call(l,24))||"1.5rem",large:((v=e.typography)==null||(x=v.pxToRem)==null?void 0:x.call(v,35))||"2.1875rem"}[t.fontSize],color:(w=(C=(e.vars||e).palette)==null||(C=C[t.color])==null?void 0:C.main)!=null?w:{action:(P=(e.vars||e).palette)==null||(P=P.action)==null?void 0:P.active,disabled:(O=(e.vars||e).palette)==null||(O=O.action)==null?void 0:O.disabled,inherit:void 0}[t.color]}}),EC=Q.forwardRef(function(t,r){const n=Uee({props:t,name:"MuiSvgIcon"}),{children:o,className:s,color:u="inherit",component:l="svg",fontSize:f="medium",htmlColor:v,inheritViewBox:x=!1,titleAccess:w,viewBox:C="0 0 24 24"}=n,P=zh(n,Gee),O=Q.isValidElement(o)&&o.type==="svg",I=ai({},n,{color:u,component:l,fontSize:f,instanceFontSize:t.fontSize,inheritViewBox:x,viewBox:C,hasSvgAsChild:O}),z={};x||(z.viewBox=C);const N=Wee(I);return ut.jsxs(Xee,ai({as:l,className:jr(N.root,s),focusable:"false",color:v,"aria-hidden":w?void 0:!0,role:w?"img":void 0,ref:r},z,P,O&&o.props,{ownerState:I,children:[O?o.props.children:o,w?ut.jsx("title",{children:w}):null]}))});EC.muiName="SvgIcon";function t2(e,t){function r(n,o){return ut.jsx(EC,ai({"data-testid":`${t}Icon`,ref:o},n,{children:e}))}return r.muiName=EC.muiName,Q.memo(Q.forwardRef(r))}const Kee={configure:e=>{Wx.configure(e)}},Zee=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Rr,createChainedFunction:mC,createSvgIcon:t2,debounce:Vx,deprecatedPropType:qq,isMuiElement:M1,ownerDocument:Xo,ownerWindow:jl,requirePropFactory:Hq,setRef:M_,unstable_ClassNameGenerator:Kee,unstable_useEnhancedEffect:Cu,unstable_useId:qx,unsupportedProp:Wq,useControlled:fv,useEventCallback:bu,useForkRef:Sa,useIsFocusVisible:HE},Symbol.toStringTag,{value:"Module"})),Yee=GR(Zee);var fL;function $d(){return fL||(fL=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=Yee}(BS)),BS}const Jee="modulepreload",Qee=function(e){return"/react-map-components-apps/multi_tab/"+e},pL={},TC=function(t,r,n){let o=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),l=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));o=Promise.allSettled(r.map(f=>{if(f=Qee(f),f in pL)return;pL[f]=!0;const v=f.endsWith(".css"),x=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${x}`))return;const w=document.createElement("link");if(w.rel=v?"stylesheet":Jee,v||(w.as="script"),w.crossOrigin="",w.href=f,l&&w.setAttribute("nonce",l),document.head.appendChild(w),v)return new Promise((C,P)=>{w.addEventListener("load",C),w.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(u){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=u,window.dispatchEvent(l),!l.defaultPrevented)throw u}return o.then(u=>{for(const l of u||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};function Mi(e){"@babel/helpers - typeof";return Mi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mi(e)}var Nl=Uint8Array,ul=Uint16Array,bv=Uint32Array,Iw=new Nl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Lw=new Nl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),PC=new Nl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),IF=function(e,t){for(var r=new ul(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var o=new bv(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)o[s]=s-r[n]<<5|n;return[r,o]},LF=IF(Iw,2),MF=LF[0],kC=LF[1];MF[28]=258,kC[258]=28;var DF=IF(Lw,0),ete=DF[0],mL=DF[1],IC=new ul(32768);for(var co=0;co<32768;++co){var of=(co&43690)>>>1|(co&21845)<<1;of=(of&52428)>>>2|(of&13107)<<2,of=(of&61680)>>>4|(of&3855)<<4,IC[co]=((of&65280)>>>8|(of&255)<<8)>>>1}var Oh=function(e,t,r){for(var n=e.length,o=0,s=new ul(t);o<n;++o)++s[e[o]-1];var u=new ul(t);for(o=0;o<t;++o)u[o]=u[o-1]+s[o-1]<<1;var l;if(r){l=new ul(1<<t);var f=15-t;for(o=0;o<n;++o)if(e[o])for(var v=o<<4|e[o],x=t-e[o],w=u[e[o]-1]++<<x,C=w|(1<<x)-1;w<=C;++w)l[IC[w]>>>f]=v}else for(l=new ul(n),o=0;o<n;++o)l[o]=IC[u[e[o]-1]++]>>>15-e[o];return l},$f=new Nl(288);for(var co=0;co<144;++co)$f[co]=8;for(var co=144;co<256;++co)$f[co]=9;for(var co=256;co<280;++co)$f[co]=7;for(var co=280;co<288;++co)$f[co]=8;var _v=new Nl(32);for(var co=0;co<32;++co)_v[co]=5;var tte=Oh($f,9,0),rte=Oh($f,9,1),nte=Oh(_v,5,0),ite=Oh(_v,5,1),US=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Ac=function(e,t,r){var n=t/8>>0;return(e[n]|e[n+1]<<8)>>>(t&7)&r},VS=function(e,t){var r=t/8>>0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>>(t&7)},S4=function(e){return(e/8>>0)+(e&7&&1)},RF=function(e,t,r){(r==null||r>e.length)&&(r=e.length);var n=new(e instanceof ul?ul:e instanceof bv?bv:Nl)(r-t);return n.set(e.subarray(t,r)),n},ote=function(e,t,r){var n=e.length,o=!t||r,s=!r||r.i;r||(r={}),t||(t=new Nl(n*3));var u=function(Me){var tt=t.length;if(Me>tt){var Ue=new Nl(Math.max(tt*2,Me));Ue.set(t),t=Ue}},l=r.f||0,f=r.p||0,v=r.b||0,x=r.l,w=r.d,C=r.m,P=r.n,O=n*8;do{if(!x){r.f=l=Ac(e,f,1);var I=Ac(e,f+1,3);if(f+=3,I)if(I==1)x=rte,w=ite,C=9,P=5;else if(I==2){var V=Ac(e,f,31)+257,W=Ac(e,f+10,15)+4,re=V+Ac(e,f+5,31)+1;f+=14;for(var ie=new Nl(re),J=new Nl(19),ne=0;ne<W;++ne)J[PC[ne]]=Ac(e,f+ne*3,7);f+=W*3;var Ae=US(J),Z=(1<<Ae)-1;if(!s&&f+re*(Ae+7)>O)break;for(var X=Oh(J,Ae,1),ne=0;ne<re;){var oe=X[Ac(e,f,Z)];f+=oe&15;var z=oe>>>4;if(z<16)ie[ne++]=z;else{var be=0,ge=0;for(z==16?(ge=3+Ac(e,f,3),f+=2,be=ie[ne-1]):z==17?(ge=3+Ac(e,f,7),f+=3):z==18&&(ge=11+Ac(e,f,127),f+=7);ge--;)ie[ne++]=be}}var De=ie.subarray(0,V),Le=ie.subarray(V);C=US(De),P=US(Le),x=Oh(De,C,1),w=Oh(Le,P,1)}else throw"invalid block type";else{var z=S4(f)+4,N=e[z-4]|e[z-3]<<8,j=z+N;if(j>n){if(s)throw"unexpected EOF";break}o&&u(v+N),t.set(e.subarray(z,j),v),r.b=v+=N,r.p=f=j*8;continue}if(f>O)throw"unexpected EOF"}o&&u(v+131072);for(var je=(1<<C)-1,xe=(1<<P)-1,Oe=C+P+18;s||f+Oe<O;){var be=x[VS(e,f)&je],Ke=be>>>4;if(f+=be&15,f>O)throw"unexpected EOF";if(!be)throw"invalid length/literal";if(Ke<256)t[v++]=Ke;else if(Ke==256){x=null;break}else{var ht=Ke-254;if(Ke>264){var ne=Ke-257,le=Iw[ne];ht=Ac(e,f,(1<<le)-1)+MF[ne],f+=le}var me=w[VS(e,f)&xe],we=me>>>4;if(!me)throw"invalid distance";f+=me&15;var Le=ete[we];if(we>3){var le=Lw[we];Le+=VS(e,f)&(1<<le)-1,f+=le}if(f>O)throw"unexpected EOF";o&&u(v+131072);for(var Ie=v+ht;v<Ie;v+=4)t[v]=t[v-Le],t[v+1]=t[v+1-Le],t[v+2]=t[v+2-Le],t[v+3]=t[v+3-Le];v=Ie}}r.l=x,r.p=f,r.b=v,x&&(l=1,r.m=C,r.d=w,r.n=P)}while(!l);return v==t.length?t:RF(t,0,v)},ud=function(e,t,r){r<<=t&7;var n=t/8>>0;e[n]|=r,e[n+1]|=r>>>8},Ky=function(e,t,r){r<<=t&7;var n=t/8>>0;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},qS=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var o=r.length,s=r.slice();if(!o)return[new Nl(0),0];if(o==1){var u=new Nl(r[0].s+1);return u[r[0].s]=1,[u,1]}r.sort(function(re,ie){return re.f-ie.f}),r.push({s:-1,f:25001});var l=r[0],f=r[1],v=0,x=1,w=2;for(r[0]={s:-1,f:l.f+f.f,l,r:f};x!=o-1;)l=r[r[v].f<r[w].f?v++:w++],f=r[v!=x&&r[v].f<r[w].f?v++:w++],r[x++]={s:-1,f:l.f+f.f,l,r:f};for(var C=s[0].s,n=1;n<o;++n)s[n].s>C&&(C=s[n].s);var P=new ul(C+1),O=LC(r[x-1],P,0);if(O>t){var n=0,I=0,z=O-t,N=1<<z;for(s.sort(function(ie,J){return P[J.s]-P[ie.s]||ie.f-J.f});n<o;++n){var j=s[n].s;if(P[j]>t)I+=N-(1<<O-P[j]),P[j]=t;else break}for(I>>>=z;I>0;){var V=s[n].s;P[V]<t?I-=1<<t-P[V]++-1:++n}for(;n>=0&&I;--n){var W=s[n].s;P[W]==t&&(--P[W],++I)}O=t}return[new Nl(P),O]},LC=function(e,t,r){return e.s==-1?Math.max(LC(e.l,t,r+1),LC(e.r,t,r+1)):t[e.s]=r},gL=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new ul(++t),n=0,o=e[0],s=1,u=function(f){r[n++]=f},l=1;l<=t;++l)if(e[l]==o&&l!=t)++s;else{if(!o&&s>2){for(;s>138;s-=138)u(32754);s>2&&(u(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(u(o),--s;s>6;s-=6)u(8304);s>2&&(u(s-3<<5|8208),s=0)}for(;s--;)u(o);s=1,o=e[l]}return[r.subarray(0,n),t]},Zy=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},MC=function(e,t,r){var n=r.length,o=S4(t+2);e[o]=n&255,e[o+1]=n>>>8,e[o+2]=e[o]^255,e[o+3]=e[o+1]^255;for(var s=0;s<n;++s)e[o+s+4]=r[s];return(o+4+n)*8},yL=function(e,t,r,n,o,s,u,l,f,v,x){ud(t,x++,r),++o[256];for(var w=qS(o,15),C=w[0],P=w[1],O=qS(s,15),I=O[0],z=O[1],N=gL(C),j=N[0],V=N[1],W=gL(I),re=W[0],ie=W[1],J=new ul(19),ne=0;ne<j.length;++ne)J[j[ne]&31]++;for(var ne=0;ne<re.length;++ne)J[re[ne]&31]++;for(var Ae=qS(J,7),Z=Ae[0],X=Ae[1],oe=19;oe>4&&!Z[PC[oe-1]];--oe);var be=v+5<<3,ge=Zy(o,$f)+Zy(s,_v)+u,De=Zy(o,C)+Zy(s,I)+u+14+3*oe+Zy(J,Z)+(2*J[16]+3*J[17]+7*J[18]);if(be<=ge&&be<=De)return MC(t,x,e.subarray(f,f+v));var Le,je,xe,Oe;if(ud(t,x,1+(De<ge)),x+=2,De<ge){Le=Oh(C,P,0),je=C,xe=Oh(I,z,0),Oe=I;var Ke=Oh(Z,X,0);ud(t,x,V-257),ud(t,x+5,ie-1),ud(t,x+10,oe-4),x+=14;for(var ne=0;ne<oe;++ne)ud(t,x+3*ne,Z[PC[ne]]);x+=3*oe;for(var ht=[j,re],le=0;le<2;++le)for(var me=ht[le],ne=0;ne<me.length;++ne){var we=me[ne]&31;ud(t,x,Ke[we]),x+=Z[we],we>15&&(ud(t,x,me[ne]>>>5&127),x+=me[ne]>>>12)}}else Le=tte,je=$f,xe=nte,Oe=_v;for(var ne=0;ne<l;++ne)if(n[ne]>255){var we=n[ne]>>>18&31;Ky(t,x,Le[we+257]),x+=je[we+257],we>7&&(ud(t,x,n[ne]>>>23&31),x+=Iw[we]);var Ie=n[ne]&31;Ky(t,x,xe[Ie]),x+=Oe[Ie],Ie>3&&(Ky(t,x,n[ne]>>>5&8191),x+=Lw[Ie])}else Ky(t,x,Le[n[ne]]),x+=je[n[ne]];return Ky(t,x,Le[256]),x+je[256]},ate=new bv([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ste=function(e,t,r,n,o,s){var u=e.length,l=new Nl(n+u+5*(1+Math.floor(u/7e3))+o),f=l.subarray(n,l.length-o),v=0;if(!t||u<8)for(var x=0;x<=u;x+=65535){var w=x+65535;w<u?v=MC(f,v,e.subarray(x,w)):(f[x]=s,v=MC(f,v,e.subarray(x,u)))}else{for(var C=ate[t-1],P=C>>>13,O=C&8191,I=(1<<r)-1,z=new ul(32768),N=new ul(I+1),j=Math.ceil(r/3),V=2*j,W=function(kt){return(e[kt]^e[kt+1]<<j^e[kt+2]<<V)&I},re=new bv(25e3),ie=new ul(288),J=new ul(32),ne=0,Ae=0,x=0,Z=0,X=0,oe=0;x<u;++x){var be=W(x),ge=x&32767,De=N[be];if(z[ge]=De,N[be]=ge,X<=x){var Le=u-x;if((ne>7e3||Z>24576)&&Le>423){v=yL(e,f,0,re,ie,J,Ae,Z,oe,x-oe,v),Z=ne=Ae=0,oe=x;for(var je=0;je<286;++je)ie[je]=0;for(var je=0;je<30;++je)J[je]=0}var xe=2,Oe=0,Ke=O,ht=ge-De&32767;if(Le>2&&be==W(x-ht))for(var le=Math.min(P,Le)-1,me=Math.min(32767,x),we=Math.min(258,Le);ht<=me&&--Ke&&ge!=De;){if(e[x+xe]==e[x+xe-ht]){for(var Ie=0;Ie<we&&e[x+Ie]==e[x+Ie-ht];++Ie);if(Ie>xe){if(xe=Ie,Oe=ht,Ie>le)break;for(var Me=Math.min(ht,Ie-2),tt=0,je=0;je<Me;++je){var Ue=x-ht+je+32768&32767,qe=z[Ue],lt=Ue-qe+32768&32767;lt>tt&&(tt=lt,De=Ue)}}}ge=De,De=z[ge],ht+=ge-De+32768&32767}if(Oe){re[Z++]=268435456|kC[xe]<<18|mL[Oe];var pt=kC[xe]&31,Et=mL[Oe]&31;Ae+=Iw[pt]+Lw[Et],++ie[257+pt],++J[Et],X=x+xe,++ne}else re[Z++]=e[x],++ie[e[x]]}}v=yL(e,f,s,re,ie,J,Ae,Z,oe,x-oe,v)}return RF(l,0,n+S4(v)+o)},lte=function(){var e=1,t=0;return{p:function(r){for(var n=e,o=t,s=r.length,u=0;u!=s;){for(var l=Math.min(u+5552,s);u<l;++u)n+=r[u],o+=n;n%=65521,o%=65521}e=n,t=o},d:function(){return(e>>>8<<16|(t&255)<<8|t>>>8)+((e&255)<<23)*2}}},ute=function(e,t,r,n,o){return ste(e,t.level==null?6:t.level,t.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):12+t.mem,r,n,!o)},cte=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},hte=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;e[0]=120,e[1]=n<<6|(n?32-2*n:1)},dte=function(e){if((e[0]&15)!=8||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(e[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function DC(e,t){t===void 0&&(t={});var r=lte();r.p(e);var n=ute(e,t,2,4);return hte(n,t),cte(n,n.length-4,r.d()),n}function fte(e,t){return ote((dte(e),e.subarray(2,-4)),t)}var vn=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function HS(){vn.console&&typeof vn.console.log=="function"&&vn.console.log.apply(vn.console,arguments)}var Zi={log:HS,warn:function(e){vn.console&&(typeof vn.console.warn=="function"?vn.console.warn.apply(vn.console,arguments):HS.call(null,arguments))},error:function(e){vn.console&&(typeof vn.console.error=="function"?vn.console.error.apply(vn.console,arguments):HS(e))}};function GS(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){mp(n.response,t,r)},n.onerror=function(){Zi.error("could not download file")},n.send()}function vL(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function mb(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var B1,RC,mp=vn.saveAs||((typeof window>"u"?"undefined":Mi(window))!=="object"||window!==vn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=vn.URL||vn.webkitURL,o=document.createElement("a");t=t||e.name||"download",o.download=t,o.rel="noopener",typeof e=="string"?(o.href=e,o.origin!==location.origin?vL(o.href)?GS(e,t,r):mb(o,o.target="_blank"):mb(o)):(o.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(o.href)},4e4),setTimeout(function(){mb(o)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(vL(e))GS(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){mb(n)})}else navigator.msSaveOrOpenBlob(function(o,s){return s===void 0?s={autoBom:!1}:Mi(s)!=="object"&&(Zi.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return GS(e,t,r);var o=e.type==="application/octet-stream",s=/constructor/i.test(vn.HTMLElement)||vn.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||o&&s)&&(typeof FileReader>"u"?"undefined":Mi(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var x=l.result;x=u?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=x:location=x,n=null},l.readAsDataURL(e)}else{var f=vn.URL||vn.webkitURL,v=f.createObjectURL(e);n?n.location=v:location.href=v,n=null,setTimeout(function(){f.revokeObjectURL(v)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function OF(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var o=r[n].re,s=r[n].process,u=o.exec(e);u&&(t=s(u),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),f=this.g.toString(16),v=this.b.toString(16);return l.length==1&&(l="0"+l),f.length==1&&(f="0"+f),v.length==1&&(v="0"+v),"#"+l+f+v}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function WS(e,t){var r=e[0],n=e[1],o=e[2],s=e[3];r=$s(r,n,o,s,t[0],7,-680876936),s=$s(s,r,n,o,t[1],12,-389564586),o=$s(o,s,r,n,t[2],17,606105819),n=$s(n,o,s,r,t[3],22,-1044525330),r=$s(r,n,o,s,t[4],7,-176418897),s=$s(s,r,n,o,t[5],12,1200080426),o=$s(o,s,r,n,t[6],17,-1473231341),n=$s(n,o,s,r,t[7],22,-45705983),r=$s(r,n,o,s,t[8],7,1770035416),s=$s(s,r,n,o,t[9],12,-1958414417),o=$s(o,s,r,n,t[10],17,-42063),n=$s(n,o,s,r,t[11],22,-1990404162),r=$s(r,n,o,s,t[12],7,1804603682),s=$s(s,r,n,o,t[13],12,-40341101),o=$s(o,s,r,n,t[14],17,-1502002290),r=Bs(r,n=$s(n,o,s,r,t[15],22,1236535329),o,s,t[1],5,-165796510),s=Bs(s,r,n,o,t[6],9,-1069501632),o=Bs(o,s,r,n,t[11],14,643717713),n=Bs(n,o,s,r,t[0],20,-373897302),r=Bs(r,n,o,s,t[5],5,-701558691),s=Bs(s,r,n,o,t[10],9,38016083),o=Bs(o,s,r,n,t[15],14,-660478335),n=Bs(n,o,s,r,t[4],20,-405537848),r=Bs(r,n,o,s,t[9],5,568446438),s=Bs(s,r,n,o,t[14],9,-1019803690),o=Bs(o,s,r,n,t[3],14,-187363961),n=Bs(n,o,s,r,t[8],20,1163531501),r=Bs(r,n,o,s,t[13],5,-1444681467),s=Bs(s,r,n,o,t[2],9,-51403784),o=Bs(o,s,r,n,t[7],14,1735328473),r=zs(r,n=Bs(n,o,s,r,t[12],20,-1926607734),o,s,t[5],4,-378558),s=zs(s,r,n,o,t[8],11,-2022574463),o=zs(o,s,r,n,t[11],16,1839030562),n=zs(n,o,s,r,t[14],23,-35309556),r=zs(r,n,o,s,t[1],4,-1530992060),s=zs(s,r,n,o,t[4],11,1272893353),o=zs(o,s,r,n,t[7],16,-155497632),n=zs(n,o,s,r,t[10],23,-1094730640),r=zs(r,n,o,s,t[13],4,681279174),s=zs(s,r,n,o,t[0],11,-358537222),o=zs(o,s,r,n,t[3],16,-722521979),n=zs(n,o,s,r,t[6],23,76029189),r=zs(r,n,o,s,t[9],4,-640364487),s=zs(s,r,n,o,t[12],11,-421815835),o=zs(o,s,r,n,t[15],16,530742520),r=js(r,n=zs(n,o,s,r,t[2],23,-995338651),o,s,t[0],6,-198630844),s=js(s,r,n,o,t[7],10,1126891415),o=js(o,s,r,n,t[14],15,-1416354905),n=js(n,o,s,r,t[5],21,-57434055),r=js(r,n,o,s,t[12],6,1700485571),s=js(s,r,n,o,t[3],10,-1894986606),o=js(o,s,r,n,t[10],15,-1051523),n=js(n,o,s,r,t[1],21,-2054922799),r=js(r,n,o,s,t[8],6,1873313359),s=js(s,r,n,o,t[15],10,-30611744),o=js(o,s,r,n,t[6],15,-1560198380),n=js(n,o,s,r,t[13],21,1309151649),r=js(r,n,o,s,t[4],6,-145523070),s=js(s,r,n,o,t[11],10,-1120210379),o=js(o,s,r,n,t[2],15,718787259),n=js(n,o,s,r,t[9],21,-343485551),e[0]=Ef(r,e[0]),e[1]=Ef(n,e[1]),e[2]=Ef(o,e[2]),e[3]=Ef(s,e[3])}function Mw(e,t,r,n,o,s){return t=Ef(Ef(t,e),Ef(n,s)),Ef(t<<o|t>>>32-o,r)}function $s(e,t,r,n,o,s,u){return Mw(t&r|~t&n,e,t,o,s,u)}function Bs(e,t,r,n,o,s,u){return Mw(t&n|r&~n,e,t,o,s,u)}function zs(e,t,r,n,o,s,u){return Mw(t^r^n,e,t,o,s,u)}function js(e,t,r,n,o,s,u){return Mw(r^(t|~n),e,t,o,s,u)}function NF(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)WS(n,pte(e.substring(t-64,t)));e=e.substring(t-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(WS(n,o),t=0;t<16;t++)o[t]=0;return o[14]=8*r,WS(n,o),n}function pte(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}B1=vn.atob.bind(vn),RC=vn.btoa.bind(vn);var bL="0123456789abcdef".split("");function mte(e){for(var t="",r=0;r<4;r++)t+=bL[e>>8*r+4&15]+bL[e>>8*r&15];return t}function gte(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function OC(e){return NF(e).map(gte).join("")}var yte=function(e){for(var t=0;t<e.length;t++)e[t]=mte(e[t]);return e.join("")}(NF("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ef(e,t){if(yte){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function NC(e,t){var r,n,o,s;if(e!==r){for(var u=(o=e,s=1+(256/e.length>>0),new Array(s+1).join(o)),l=[],f=0;f<256;f++)l[f]=f;var v=0;for(f=0;f<256;f++){var x=l[f];v=(v+x+u.charCodeAt(f))%256,l[f]=l[v],l[v]=x}r=e,n=l}else l=n;var w=t.length,C=0,P=0,O="";for(f=0;f<w;f++)P=(P+(x=l[C=(C+1)%256]))%256,l[C]=l[P],l[P]=x,u=l[(l[C]+l[P])%256],O+=String.fromCharCode(t.charCodeAt(f)^u);return O}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var _L={print:4,modify:8,copy:16,"annot-forms":32};function s0(e,t,r,n){this.v=1,this.r=2;var o=192;e.forEach(function(l){if(_L.perm!==void 0)throw new Error("Invalid permission: "+l);o+=_L[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),u=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,u),this.P=-(1+(255^o)),this.encryptionKey=OC(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=NC(this.encryptionKey,this.padding)}function l0(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var o=e.charCodeAt(n);o<33||o===35||o===37||o===40||o===41||o===47||o===60||o===62||o===91||o===93||o===123||o===125||o>126?t+="#"+("0"+o.toString(16)).slice(-2):t+=e[n]}return t}function xL(e){if(Mi(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,o){if(o=o||!1,typeof r!="string"||typeof n!="function"||typeof o!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var s=Math.random().toString(35);return t[r][s]=[n,!!o],s},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),o=[];for(var s in t[r]){var u=t[r][s];try{u[0].apply(e,n)}catch(l){vn.console&&Zi.error("jsPDF PubSub Error",l.message,l)}u[1]&&o.push(s)}o.length&&o.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function $_(e){if(!(this instanceof $_))return new $_(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function FF(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function bp(e,t,r,n,o){if(!(this instanceof bp))return new bp(e,t,r,n,o);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,FF.call(this,n,o)}function B0(e,t,r,n,o){if(!(this instanceof B0))return new B0(e,t,r,n,o);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,FF.call(this,n,o)}function bn(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],o=arguments[2],s=arguments[3],u=[],l=1,f=16,v="S",x=null;Mi(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,o=e.format||o,s=e.compress||e.compressPdf||s,(x=e.encryption||null)!==null&&(x.userPassword=x.userPassword||"",x.ownerPassword=x.ownerPassword||"",x.userPermissions=x.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(f=e.floatPrecision),v=e.defaultPathOperation||"S"),u=e.filters||(s===!0?["FlateEncode"]:u),n=n||"mm",r=(""+(r||"P")).toLowerCase();var w=e.putOnlyUsedFonts||!1,C={},P={internal:{},__private__:{}};P.__private__.PubSub=xL;var O="1.3",I=P.__private__.getPdfVersion=function(){return O};P.__private__.setPdfVersion=function($){O=$};var z={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};P.__private__.getPageFormats=function(){return z};var N=P.__private__.getPageFormat=function($){return z[$]};o=o||"a4";var j={COMPAT:"compat",ADVANCED:"advanced"},V=j.COMPAT;function W(){this.saveGraphicsState(),de(new Ye(Lt,0,0,-Lt,0,$a()*Lt).toString()+" cm"),this.setFontSize(this.getFontSize()/Lt),v="n",V=j.ADVANCED}function re(){this.restoreGraphicsState(),v="S",V=j.COMPAT}var ie=P.__private__.combineFontStyleAndFontWeight=function($,fe){if($=="bold"&&fe=="normal"||$=="bold"&&fe==400||$=="normal"&&fe=="italic"||$=="bold"&&fe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return fe&&($=fe==400||fe==="normal"?$==="italic"?"italic":"normal":fe!=700&&fe!=="bold"||$!=="normal"?(fe==700?"bold":fe)+""+$:"bold"),$};P.advancedAPI=function($){var fe=V===j.COMPAT;return fe&&W.call(this),typeof $!="function"||($(this),fe&&re.call(this)),this},P.compatAPI=function($){var fe=V===j.ADVANCED;return fe&&re.call(this),typeof $!="function"||($(this),fe&&W.call(this)),this},P.isAdvancedAPI=function(){return V===j.ADVANCED};var J,ne=function($){if(V!==j.ADVANCED)throw new Error($+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Ae=P.roundToPrecision=P.__private__.roundToPrecision=function($,fe){var $e=t||fe;if(isNaN($)||isNaN($e))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return $.toFixed($e).replace(/0+$/,"")};J=P.hpf=P.__private__.hpf=typeof f=="number"?function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.hpf");return Ae($,f)}:f==="smart"?function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.hpf");return Ae($,$>-1&&$<1?16:5)}:function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.hpf");return Ae($,16)};var Z=P.f2=P.__private__.f2=function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.f2");return Ae($,2)},X=P.__private__.f3=function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.f3");return Ae($,3)},oe=P.scale=P.__private__.scale=function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.scale");return V===j.COMPAT?$*Lt:V===j.ADVANCED?$:void 0},be=function($){return V===j.COMPAT?$a()-$:V===j.ADVANCED?$:void 0},ge=function($){return oe(be($))};P.__private__.setPrecision=P.setPrecision=function($){typeof parseInt($,10)=="number"&&(t=parseInt($,10))};var De,Le="00000000000000000000000000000000",je=P.__private__.getFileId=function(){return Le},xe=P.__private__.setFileId=function($){return Le=$!==void 0&&/^[a-fA-F0-9]{32}$/.test($)?$.toUpperCase():Le.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),x!==null&&(wr=new s0(x.userPermissions,x.userPassword,x.ownerPassword,Le)),Le};P.setFileId=function($){return xe($),this},P.getFileId=function(){return je()};var Oe=P.__private__.convertDateToPDFDate=function($){var fe=$.getTimezoneOffset(),$e=fe<0?"+":"-",ot=Math.floor(Math.abs(fe/60)),yt=Math.abs(fe%60),Tt=[$e,we(ot),"'",we(yt),"'"].join("");return["D:",$.getFullYear(),we($.getMonth()+1),we($.getDate()),we($.getHours()),we($.getMinutes()),we($.getSeconds()),Tt].join("")},Ke=P.__private__.convertPDFDateToDate=function($){var fe=parseInt($.substr(2,4),10),$e=parseInt($.substr(6,2),10)-1,ot=parseInt($.substr(8,2),10),yt=parseInt($.substr(10,2),10),Tt=parseInt($.substr(12,2),10),Zt=parseInt($.substr(14,2),10);return new Date(fe,$e,ot,yt,Tt,Zt,0)},ht=P.__private__.setCreationDate=function($){var fe;if($===void 0&&($=new Date),$ instanceof Date)fe=Oe($);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test($))throw new Error("Invalid argument passed to jsPDF.setCreationDate");fe=$}return De=fe},le=P.__private__.getCreationDate=function($){var fe=De;return $==="jsDate"&&(fe=Ke(De)),fe};P.setCreationDate=function($){return ht($),this},P.getCreationDate=function($){return le($)};var me,we=P.__private__.padd2=function($){return("0"+parseInt($)).slice(-2)},Ie=P.__private__.padd2Hex=function($){return("00"+($=$.toString())).substr($.length)},Me=0,tt=[],Ue=[],qe=0,lt=[],pt=[],Et=!1,St=Ue,kt=function(){Me=0,qe=0,Ue=[],tt=[],lt=[],gn=jt(),Ir=jt()};P.__private__.setCustomOutputDestination=function($){Et=!0,St=$};var ct=function($){Et||(St=$)};P.__private__.resetCustomOutputDestination=function(){Et=!1,St=Ue};var de=P.__private__.out=function($){return $=$.toString(),qe+=$.length+1,St.push($),St},hr=P.__private__.write=function($){return de(arguments.length===1?$.toString():Array.prototype.join.call(arguments," "))},Kt=P.__private__.getArrayBuffer=function($){for(var fe=$.length,$e=new ArrayBuffer(fe),ot=new Uint8Array($e);fe--;)ot[fe]=$.charCodeAt(fe);return $e},bt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];P.__private__.getStandardFonts=function(){return bt};var Pt=e.fontSize||16;P.__private__.setFontSize=P.setFontSize=function($){return Pt=V===j.ADVANCED?$/Lt:$,this};var Ot,Gt=P.__private__.getFontSize=P.getFontSize=function(){return V===j.COMPAT?Pt:Pt*Lt},It=e.R2L||!1;P.__private__.setR2L=P.setR2L=function($){return It=$,this},P.__private__.getR2L=P.getR2L=function(){return It};var ir,vr=P.__private__.setZoomMode=function($){var fe=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test($))Ot=$;else if(isNaN($)){if(fe.indexOf($)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+$+'" is not recognized.');Ot=$}else Ot=parseInt($,10)};P.__private__.getZoomMode=function(){return Ot};var Pr,Vr=P.__private__.setPageMode=function($){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf($)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+$+'" is not recognized.');ir=$};P.__private__.getPageMode=function(){return ir};var Ze=P.__private__.setLayoutMode=function($){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf($)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+$+'" is not recognized.');Pr=$};P.__private__.getLayoutMode=function(){return Pr},P.__private__.setDisplayMode=P.setDisplayMode=function($,fe,$e){return vr($),Ze(fe),Vr($e),this};var mt={title:"",subject:"",author:"",keywords:"",creator:""};P.__private__.getDocumentProperty=function($){if(Object.keys(mt).indexOf($)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return mt[$]},P.__private__.getDocumentProperties=function(){return mt},P.__private__.setDocumentProperties=P.setProperties=P.setDocumentProperties=function($){for(var fe in mt)mt.hasOwnProperty(fe)&&$[fe]&&(mt[fe]=$[fe]);return this},P.__private__.setDocumentProperty=function($,fe){if(Object.keys(mt).indexOf($)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return mt[$]=fe};var Rt,Lt,Br,rt,Qt,Vt={},xr={},rn=[],rr={},ni={},Nn={},_i={},Bn=null,Ne=0,ae=[],ce=new xL(P),Ce=e.hotfixes||[],Re={},Je={},nt=[],Ye=function $(fe,$e,ot,yt,Tt,Zt){if(!(this instanceof $))return new $(fe,$e,ot,yt,Tt,Zt);isNaN(fe)&&(fe=1),isNaN($e)&&($e=0),isNaN(ot)&&(ot=0),isNaN(yt)&&(yt=1),isNaN(Tt)&&(Tt=0),isNaN(Zt)&&(Zt=0),this._matrix=[fe,$e,ot,yt,Tt,Zt]};Object.defineProperty(Ye.prototype,"sx",{get:function(){return this._matrix[0]},set:function($){this._matrix[0]=$}}),Object.defineProperty(Ye.prototype,"shy",{get:function(){return this._matrix[1]},set:function($){this._matrix[1]=$}}),Object.defineProperty(Ye.prototype,"shx",{get:function(){return this._matrix[2]},set:function($){this._matrix[2]=$}}),Object.defineProperty(Ye.prototype,"sy",{get:function(){return this._matrix[3]},set:function($){this._matrix[3]=$}}),Object.defineProperty(Ye.prototype,"tx",{get:function(){return this._matrix[4]},set:function($){this._matrix[4]=$}}),Object.defineProperty(Ye.prototype,"ty",{get:function(){return this._matrix[5]},set:function($){this._matrix[5]=$}}),Object.defineProperty(Ye.prototype,"a",{get:function(){return this._matrix[0]},set:function($){this._matrix[0]=$}}),Object.defineProperty(Ye.prototype,"b",{get:function(){return this._matrix[1]},set:function($){this._matrix[1]=$}}),Object.defineProperty(Ye.prototype,"c",{get:function(){return this._matrix[2]},set:function($){this._matrix[2]=$}}),Object.defineProperty(Ye.prototype,"d",{get:function(){return this._matrix[3]},set:function($){this._matrix[3]=$}}),Object.defineProperty(Ye.prototype,"e",{get:function(){return this._matrix[4]},set:function($){this._matrix[4]=$}}),Object.defineProperty(Ye.prototype,"f",{get:function(){return this._matrix[5]},set:function($){this._matrix[5]=$}}),Object.defineProperty(Ye.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ye.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ye.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ye.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ye.prototype.join=function($){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(J).join($)},Ye.prototype.multiply=function($){var fe=$.sx*this.sx+$.shy*this.shx,$e=$.sx*this.shy+$.shy*this.sy,ot=$.shx*this.sx+$.sy*this.shx,yt=$.shx*this.shy+$.sy*this.sy,Tt=$.tx*this.sx+$.ty*this.shx+this.tx,Zt=$.tx*this.shy+$.ty*this.sy+this.ty;return new Ye(fe,$e,ot,yt,Tt,Zt)},Ye.prototype.decompose=function(){var $=this.sx,fe=this.shy,$e=this.shx,ot=this.sy,yt=this.tx,Tt=this.ty,Zt=Math.sqrt($*$+fe*fe),gr=($/=Zt)*$e+(fe/=Zt)*ot;$e-=$*gr,ot-=fe*gr;var Ur=Math.sqrt($e*$e+ot*ot);return gr/=Ur,$*(ot/=Ur)<fe*($e/=Ur)&&($=-$,fe=-fe,gr=-gr,Zt=-Zt),{scale:new Ye(Zt,0,0,Ur,0,0),translate:new Ye(1,0,0,1,yt,Tt),rotate:new Ye($,fe,-fe,$,0,0),skew:new Ye(1,0,gr,1,0,0)}},Ye.prototype.toString=function($){return this.join(" ")},Ye.prototype.inversed=function(){var $=this.sx,fe=this.shy,$e=this.shx,ot=this.sy,yt=this.tx,Tt=this.ty,Zt=1/($*ot-fe*$e),gr=ot*Zt,Ur=-fe*Zt,cn=-$e*Zt,hn=$*Zt;return new Ye(gr,Ur,cn,hn,-gr*yt-cn*Tt,-Ur*yt-hn*Tt)},Ye.prototype.applyToPoint=function($){var fe=$.x*this.sx+$.y*this.shx+this.tx,$e=$.x*this.shy+$.y*this.sy+this.ty;return new Ea(fe,$e)},Ye.prototype.applyToRectangle=function($){var fe=this.applyToPoint($),$e=this.applyToPoint(new Ea($.x+$.w,$.y+$.h));return new Ql(fe.x,fe.y,$e.x-fe.x,$e.y-fe.y)},Ye.prototype.clone=function(){var $=this.sx,fe=this.shy,$e=this.shx,ot=this.sy,yt=this.tx,Tt=this.ty;return new Ye($,fe,$e,ot,yt,Tt)},P.Matrix=Ye;var He=P.matrixMult=function($,fe){return fe.multiply($)},_t=new Ye(1,0,0,1,0,0);P.unitMatrix=P.identityMatrix=_t;var Ct=function($,fe){if(!ni[$]){var $e=(fe instanceof bp?"Sh":"P")+(Object.keys(rr).length+1).toString(10);fe.id=$e,ni[$]=$e,rr[$e]=fe,ce.publish("addPattern",fe)}};P.ShadingPattern=bp,P.TilingPattern=B0,P.addShadingPattern=function($,fe){return ne("addShadingPattern()"),Ct($,fe),this},P.beginTilingPattern=function($){ne("beginTilingPattern()"),rs($.boundingBox[0],$.boundingBox[1],$.boundingBox[2]-$.boundingBox[0],$.boundingBox[3]-$.boundingBox[1],$.matrix)},P.endTilingPattern=function($,fe){ne("endTilingPattern()"),fe.stream=pt[me].join(`
`),Ct($,fe),ce.publish("endTilingPattern",fe),nt.pop().restore()};var gt=P.__private__.newObject=function(){var $=jt();return ur($,!0),$},jt=P.__private__.newObjectDeferred=function(){return Me++,tt[Me]=function(){return qe},Me},ur=function($,fe){return fe=typeof fe=="boolean"&&fe,tt[$]=qe,fe&&de($+" 0 obj"),$},mr=P.__private__.newAdditionalObject=function(){var $={objId:jt(),content:""};return lt.push($),$},gn=jt(),Ir=jt(),Yr=P.__private__.decodeColorString=function($){var fe=$.split(" ");if(fe.length!==2||fe[1]!=="g"&&fe[1]!=="G")fe.length===5&&(fe[4]==="k"||fe[4]==="K")&&(fe=[(1-fe[0])*(1-fe[3]),(1-fe[1])*(1-fe[3]),(1-fe[2])*(1-fe[3]),"r"]);else{var $e=parseFloat(fe[0]);fe=[$e,$e,$e,"r"]}for(var ot="#",yt=0;yt<3;yt++)ot+=("0"+Math.floor(255*parseFloat(fe[yt])).toString(16)).slice(-2);return ot},en=P.__private__.encodeColorString=function($){var fe;typeof $=="string"&&($={ch1:$});var $e=$.ch1,ot=$.ch2,yt=$.ch3,Tt=$.ch4,Zt=$.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof $e=="string"&&$e.charAt(0)!=="#"){var gr=new OF($e);if(gr.ok)$e=gr.toHex();else if(!/^\d*\.?\d*$/.test($e))throw new Error('Invalid color "'+$e+'" passed to jsPDF.encodeColorString.')}if(typeof $e=="string"&&/^#[0-9A-Fa-f]{3}$/.test($e)&&($e="#"+$e[1]+$e[1]+$e[2]+$e[2]+$e[3]+$e[3]),typeof $e=="string"&&/^#[0-9A-Fa-f]{6}$/.test($e)){var Ur=parseInt($e.substr(1),16);$e=Ur>>16&255,ot=Ur>>8&255,yt=255&Ur}if(ot===void 0||Tt===void 0&&$e===ot&&ot===yt)if(typeof $e=="string")fe=$e+" "+Zt[0];else switch($.precision){case 2:fe=Z($e/255)+" "+Zt[0];break;case 3:default:fe=X($e/255)+" "+Zt[0]}else if(Tt===void 0||Mi(Tt)==="object"){if(Tt&&!isNaN(Tt.a)&&Tt.a===0)return fe=["1.","1.","1.",Zt[1]].join(" ");if(typeof $e=="string")fe=[$e,ot,yt,Zt[1]].join(" ");else switch($.precision){case 2:fe=[Z($e/255),Z(ot/255),Z(yt/255),Zt[1]].join(" ");break;default:case 3:fe=[X($e/255),X(ot/255),X(yt/255),Zt[1]].join(" ")}}else if(typeof $e=="string")fe=[$e,ot,yt,Tt,Zt[2]].join(" ");else switch($.precision){case 2:fe=[Z($e),Z(ot),Z(yt),Z(Tt),Zt[2]].join(" ");break;case 3:default:fe=[X($e),X(ot),X(yt),X(Tt),Zt[2]].join(" ")}return fe},nn=P.__private__.getFilters=function(){return u},Tr=P.__private__.putStream=function($){var fe=($=$||{}).data||"",$e=$.filters||nn(),ot=$.alreadyAppliedFilters||[],yt=$.addLength1||!1,Tt=fe.length,Zt=$.objectId,gr=function(Oo){return Oo};if(x!==null&&Zt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");x!==null&&(gr=wr.encryptor(Zt,0));var Ur={};$e===!0&&($e=["FlateEncode"]);var cn=$.additionalKeyValues||[],hn=(Ur=bn.API.processDataByFilters!==void 0?bn.API.processDataByFilters(fe,$e):{data:fe,reverseChain:[]}).reverseChain+(Array.isArray(ot)?ot.join(" "):ot.toString());if(Ur.data.length!==0&&(cn.push({key:"Length",value:Ur.data.length}),yt===!0&&cn.push({key:"Length1",value:Tt})),hn.length!=0)if(hn.split("/").length-1==1)cn.push({key:"Filter",value:hn});else{cn.push({key:"Filter",value:"["+hn+"]"});for(var dn=0;dn<cn.length;dn+=1)if(cn[dn].key==="DecodeParms"){for(var zn=[],mi=0;mi<Ur.reverseChain.split("/").length-1;mi+=1)zn.push("null");zn.push(cn[dn].value),cn[dn].value="["+zn.join(" ")+"]"}}de("<<");for(var fn=0;fn<cn.length;fn++)de("/"+cn[fn].key+" "+cn[fn].value);de(">>"),Ur.data.length!==0&&(de("stream"),de(gr(Ur.data)),de("endstream"))},Hr=P.__private__.putPage=function($){var fe=$.number,$e=$.data,ot=$.objId,yt=$.contentsObjId;ur(ot,!0),de("<</Type /Page"),de("/Parent "+$.rootDictionaryObjId+" 0 R"),de("/Resources "+$.resourceDictionaryObjId+" 0 R"),de("/MediaBox ["+parseFloat(J($.mediaBox.bottomLeftX))+" "+parseFloat(J($.mediaBox.bottomLeftY))+" "+J($.mediaBox.topRightX)+" "+J($.mediaBox.topRightY)+"]"),$.cropBox!==null&&de("/CropBox ["+J($.cropBox.bottomLeftX)+" "+J($.cropBox.bottomLeftY)+" "+J($.cropBox.topRightX)+" "+J($.cropBox.topRightY)+"]"),$.bleedBox!==null&&de("/BleedBox ["+J($.bleedBox.bottomLeftX)+" "+J($.bleedBox.bottomLeftY)+" "+J($.bleedBox.topRightX)+" "+J($.bleedBox.topRightY)+"]"),$.trimBox!==null&&de("/TrimBox ["+J($.trimBox.bottomLeftX)+" "+J($.trimBox.bottomLeftY)+" "+J($.trimBox.topRightX)+" "+J($.trimBox.topRightY)+"]"),$.artBox!==null&&de("/ArtBox ["+J($.artBox.bottomLeftX)+" "+J($.artBox.bottomLeftY)+" "+J($.artBox.topRightX)+" "+J($.artBox.topRightY)+"]"),typeof $.userUnit=="number"&&$.userUnit!==1&&de("/UserUnit "+$.userUnit),ce.publish("putPage",{objId:ot,pageContext:ae[fe],pageNumber:fe,page:$e}),de("/Contents "+yt+" 0 R"),de(">>"),de("endobj");var Tt=$e.join(`
`);return V===j.ADVANCED&&(Tt+=`
Q`),ur(yt,!0),Tr({data:Tt,filters:nn(),objectId:yt}),de("endobj"),ot},_n=P.__private__.putPages=function(){var $,fe,$e=[];for($=1;$<=Ne;$++)ae[$].objId=jt(),ae[$].contentsObjId=jt();for($=1;$<=Ne;$++)$e.push(Hr({number:$,data:pt[$],objId:ae[$].objId,contentsObjId:ae[$].contentsObjId,mediaBox:ae[$].mediaBox,cropBox:ae[$].cropBox,bleedBox:ae[$].bleedBox,trimBox:ae[$].trimBox,artBox:ae[$].artBox,userUnit:ae[$].userUnit,rootDictionaryObjId:gn,resourceDictionaryObjId:Ir}));ur(gn,!0),de("<</Type /Pages");var ot="/Kids [";for(fe=0;fe<Ne;fe++)ot+=$e[fe]+" 0 R ";de(ot+"]"),de("/Count "+Ne),de(">>"),de("endobj"),ce.publish("postPutPages")},Cn=function($){ce.publish("putFont",{font:$,out:de,newObject:gt,putStream:Tr}),$.isAlreadyPutted!==!0&&($.objectNumber=gt(),de("<<"),de("/Type /Font"),de("/BaseFont /"+l0($.postScriptName)),de("/Subtype /Type1"),typeof $.encoding=="string"&&de("/Encoding /"+$.encoding),de("/FirstChar 32"),de("/LastChar 255"),de(">>"),de("endobj"))},xi=function(){for(var $ in Vt)Vt.hasOwnProperty($)&&(w===!1||w===!0&&C.hasOwnProperty($))&&Cn(Vt[$])},Ni=function($){$.objectNumber=gt();var fe=[];fe.push({key:"Type",value:"/XObject"}),fe.push({key:"Subtype",value:"/Form"}),fe.push({key:"BBox",value:"["+[J($.x),J($.y),J($.x+$.width),J($.y+$.height)].join(" ")+"]"}),fe.push({key:"Matrix",value:"["+$.matrix.toString()+"]"});var $e=$.pages[1].join(`
`);Tr({data:$e,additionalKeyValues:fe,objectId:$.objectNumber}),de("endobj")},Fi=function(){for(var $ in Re)Re.hasOwnProperty($)&&Ni(Re[$])},Xs=function($,fe){var $e,ot=[],yt=1/(fe-1);for($e=0;$e<1;$e+=yt)ot.push($e);if(ot.push(1),$[0].offset!=0){var Tt={offset:0,color:$[0].color};$.unshift(Tt)}if($[$.length-1].offset!=1){var Zt={offset:1,color:$[$.length-1].color};$.push(Zt)}for(var gr="",Ur=0,cn=0;cn<ot.length;cn++){for($e=ot[cn];$e>$[Ur+1].offset;)Ur++;var hn=$[Ur].offset,dn=($e-hn)/($[Ur+1].offset-hn),zn=$[Ur].color,mi=$[Ur+1].color;gr+=Ie(Math.round((1-dn)*zn[0]+dn*mi[0]).toString(16))+Ie(Math.round((1-dn)*zn[1]+dn*mi[1]).toString(16))+Ie(Math.round((1-dn)*zn[2]+dn*mi[2]).toString(16))}return gr.trim()},Dn=function($,fe){fe||(fe=21);var $e=gt(),ot=Xs($.colors,fe),yt=[];yt.push({key:"FunctionType",value:"0"}),yt.push({key:"Domain",value:"[0.0 1.0]"}),yt.push({key:"Size",value:"["+fe+"]"}),yt.push({key:"BitsPerSample",value:"8"}),yt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),yt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Tr({data:ot,additionalKeyValues:yt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:$e}),de("endobj"),$.objectNumber=gt(),de("<< /ShadingType "+$.type),de("/ColorSpace /DeviceRGB");var Tt="/Coords ["+J(parseFloat($.coords[0]))+" "+J(parseFloat($.coords[1]))+" ";$.type===2?Tt+=J(parseFloat($.coords[2]))+" "+J(parseFloat($.coords[3])):Tt+=J(parseFloat($.coords[2]))+" "+J(parseFloat($.coords[3]))+" "+J(parseFloat($.coords[4]))+" "+J(parseFloat($.coords[5])),de(Tt+="]"),$.matrix&&de("/Matrix ["+$.matrix.toString()+"]"),de("/Function "+$e+" 0 R"),de("/Extend [true true]"),de(">>"),de("endobj")},Wl=function($,fe){var $e=jt(),ot=gt();fe.push({resourcesOid:$e,objectOid:ot}),$.objectNumber=ot;var yt=[];yt.push({key:"Type",value:"/Pattern"}),yt.push({key:"PatternType",value:"1"}),yt.push({key:"PaintType",value:"1"}),yt.push({key:"TilingType",value:"1"}),yt.push({key:"BBox",value:"["+$.boundingBox.map(J).join(" ")+"]"}),yt.push({key:"XStep",value:J($.xStep)}),yt.push({key:"YStep",value:J($.yStep)}),yt.push({key:"Resources",value:$e+" 0 R"}),$.matrix&&yt.push({key:"Matrix",value:"["+$.matrix.toString()+"]"}),Tr({data:$.stream,additionalKeyValues:yt,objectId:$.objectNumber}),de("endobj")},bs=function($){var fe;for(fe in rr)rr.hasOwnProperty(fe)&&(rr[fe]instanceof bp?Dn(rr[fe]):rr[fe]instanceof B0&&Wl(rr[fe],$))},Fn=function($){for(var fe in $.objectNumber=gt(),de("<<"),$)switch(fe){case"opacity":de("/ca "+Z($[fe]));break;case"stroke-opacity":de("/CA "+Z($[fe]))}de(">>"),de("endobj")},Mo=function(){var $;for($ in Nn)Nn.hasOwnProperty($)&&Fn(Nn[$])},ku=function(){for(var $ in de("/XObject <<"),Re)Re.hasOwnProperty($)&&Re[$].objectNumber>=0&&de("/"+$+" "+Re[$].objectNumber+" 0 R");ce.publish("putXobjectDict"),de(">>")},qi=function(){wr.oid=gt(),de("<<"),de("/Filter /Standard"),de("/V "+wr.v),de("/R "+wr.r),de("/U <"+wr.toHexString(wr.U)+">"),de("/O <"+wr.toHexString(wr.O)+">"),de("/P "+wr.P),de(">>"),de("endobj")},pi=function(){for(var $ in de("/Font <<"),Vt)Vt.hasOwnProperty($)&&(w===!1||w===!0&&C.hasOwnProperty($))&&de("/"+$+" "+Vt[$].objectNumber+" 0 R");de(">>")},Ya=function(){if(Object.keys(rr).length>0){for(var $ in de("/Shading <<"),rr)rr.hasOwnProperty($)&&rr[$]instanceof bp&&rr[$].objectNumber>=0&&de("/"+$+" "+rr[$].objectNumber+" 0 R");ce.publish("putShadingPatternDict"),de(">>")}},fo=function($){if(Object.keys(rr).length>0){for(var fe in de("/Pattern <<"),rr)rr.hasOwnProperty(fe)&&rr[fe]instanceof P.TilingPattern&&rr[fe].objectNumber>=0&&rr[fe].objectNumber<$&&de("/"+fe+" "+rr[fe].objectNumber+" 0 R");ce.publish("putTilingPatternDict"),de(">>")}},ei=function(){if(Object.keys(Nn).length>0){var $;for($ in de("/ExtGState <<"),Nn)Nn.hasOwnProperty($)&&Nn[$].objectNumber>=0&&de("/"+$+" "+Nn[$].objectNumber+" 0 R");ce.publish("putGStateDict"),de(">>")}},li=function($){ur($.resourcesOid,!0),de("<<"),de("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),pi(),Ya(),fo($.objectOid),ei(),ku(),de(">>"),de("endobj")},la=function(){var $=[];xi(),Mo(),Fi(),bs($),ce.publish("putResources"),$.forEach(li),li({resourcesOid:Ir,objectOid:Number.MAX_SAFE_INTEGER}),ce.publish("postPutResources")},wi=function(){ce.publish("putAdditionalObjects");for(var $=0;$<lt.length;$++){var fe=lt[$];ur(fe.objId,!0),de(fe.content),de("endobj")}ce.publish("postPutAdditionalObjects")},Xl=function($){xr[$.fontName]=xr[$.fontName]||{},xr[$.fontName][$.fontStyle]=$.id},Do=function($,fe,$e,ot,yt){var Tt={id:"F"+(Object.keys(Vt).length+1).toString(10),postScriptName:$,fontName:fe,fontStyle:$e,encoding:ot,isStandardFont:yt||!1,metadata:{}};return ce.publish("addFont",{font:Tt,instance:this}),Vt[Tt.id]=Tt,Xl(Tt),Tt.id},Kl=function($){for(var fe=0,$e=bt.length;fe<$e;fe++){var ot=Do.call(this,$[fe][0],$[fe][1],$[fe][2],bt[fe][3],!0);w===!1&&(C[ot]=!0);var yt=$[fe][0].split("-");Xl({id:ot,fontName:yt[0],fontStyle:yt[1]||""})}ce.publish("addFonts",{fonts:Vt,dictionary:xr})},$i=function($){return $.foo=function(){try{return $.apply(this,arguments)}catch(ot){var fe=ot.stack||"";~fe.indexOf(" at ")&&(fe=fe.split(" at ")[1]);var $e="Error in function "+fe.split(`
`)[0].split("<")[0]+": "+ot.message;if(!vn.console)throw new Error($e);vn.console.error($e,ot),vn.alert&&alert($e)}},$.foo.bar=$,$.foo},Zl=function($,fe){var $e,ot,yt,Tt,Zt,gr,Ur,cn,hn;if(yt=(fe=fe||{}).sourceEncoding||"Unicode",Zt=fe.outputEncoding,(fe.autoencode||Zt)&&Vt[Rt].metadata&&Vt[Rt].metadata[yt]&&Vt[Rt].metadata[yt].encoding&&(Tt=Vt[Rt].metadata[yt].encoding,!Zt&&Vt[Rt].encoding&&(Zt=Vt[Rt].encoding),!Zt&&Tt.codePages&&(Zt=Tt.codePages[0]),typeof Zt=="string"&&(Zt=Tt[Zt]),Zt)){for(Ur=!1,gr=[],$e=0,ot=$.length;$e<ot;$e++)(cn=Zt[$.charCodeAt($e)])?gr.push(String.fromCharCode(cn)):gr.push($[$e]),gr[$e].charCodeAt(0)>>8&&(Ur=!0);$=gr.join("")}for($e=$.length;Ur===void 0&&$e!==0;)$.charCodeAt($e-1)>>8&&(Ur=!0),$e--;if(!Ur)return $;for(gr=fe.noBOM?[]:[254,255],$e=0,ot=$.length;$e<ot;$e++){if((hn=(cn=$.charCodeAt($e))>>8)>>8)throw new Error("Character at position "+$e+" of string '"+$+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");gr.push(hn),gr.push(cn-(hn<<8))}return String.fromCharCode.apply(void 0,gr)},wo=P.__private__.pdfEscape=P.pdfEscape=function($,fe){return Zl($,fe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ja=P.__private__.beginPage=function($){pt[++Ne]=[],ae[Ne]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number($[0]),topRightY:Number($[1])}},D(Ne),ct(pt[me])},Qa=function($,fe){var $e,ot,yt;switch(r=fe||r,typeof $=="string"&&($e=N($.toLowerCase()),Array.isArray($e)&&(ot=$e[0],yt=$e[1])),Array.isArray($)&&(ot=$[0]*Lt,yt=$[1]*Lt),isNaN(ot)&&(ot=o[0],yt=o[1]),(ot>14400||yt>14400)&&(Zi.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ot=Math.min(14400,ot),yt=Math.min(14400,yt)),o=[ot,yt],r.substr(0,1)){case"l":yt>ot&&(o=[yt,ot]);break;case"p":ot>yt&&(o=[yt,ot])}Ja(o),Zc(ml),de(ca),Mu!==0&&de(Mu+" J"),Jl!==0&&de(Jl+" j"),ce.publish("addPage",{pageNumber:Ne})},kn=function($){$>0&&$<=Ne&&(pt.splice($,1),ae.splice($,1),Ne--,me>Ne&&(me=Ne),this.setPage(me))},D=function($){$>0&&$<=Ne&&(me=$)},G=P.__private__.getNumberOfPages=P.getNumberOfPages=function(){return pt.length-1},ye=function($,fe,$e){var ot,yt=void 0;return $e=$e||{},$=$!==void 0?$:Vt[Rt].fontName,fe=fe!==void 0?fe:Vt[Rt].fontStyle,ot=$.toLowerCase(),xr[ot]!==void 0&&xr[ot][fe]!==void 0?yt=xr[ot][fe]:xr[$]!==void 0&&xr[$][fe]!==void 0?yt=xr[$][fe]:$e.disableWarning===!1&&Zi.warn("Unable to look up font label for font '"+$+"', '"+fe+"'. Refer to getFontList() for available fonts."),yt||$e.noFallback||(yt=xr.times[fe])==null&&(yt=xr.times.normal),yt},ze=P.__private__.putInfo=function(){var $=gt(),fe=function(ot){return ot};for(var $e in x!==null&&(fe=wr.encryptor($,0)),de("<<"),de("/Producer ("+wo(fe("jsPDF "+bn.version))+")"),mt)mt.hasOwnProperty($e)&&mt[$e]&&de("/"+$e.substr(0,1).toUpperCase()+$e.substr(1)+" ("+wo(fe(mt[$e]))+")");de("/CreationDate ("+wo(fe(De))+")"),de(">>"),de("endobj")},et=P.__private__.putCatalog=function($){var fe=($=$||{}).rootDictionaryObjId||gn;switch(gt(),de("<<"),de("/Type /Catalog"),de("/Pages "+fe+" 0 R"),Ot||(Ot="fullwidth"),Ot){case"fullwidth":de("/OpenAction [3 0 R /FitH null]");break;case"fullheight":de("/OpenAction [3 0 R /FitV null]");break;case"fullpage":de("/OpenAction [3 0 R /Fit]");break;case"original":de("/OpenAction [3 0 R /XYZ null null 1]");break;default:var $e=""+Ot;$e.substr($e.length-1)==="%"&&(Ot=parseInt(Ot)/100),typeof Ot=="number"&&de("/OpenAction [3 0 R /XYZ null null "+Z(Ot)+"]")}switch(Pr||(Pr="continuous"),Pr){case"continuous":de("/PageLayout /OneColumn");break;case"single":de("/PageLayout /SinglePage");break;case"two":case"twoleft":de("/PageLayout /TwoColumnLeft");break;case"tworight":de("/PageLayout /TwoColumnRight")}ir&&de("/PageMode /"+ir),ce.publish("putCatalog"),de(">>"),de("endobj")},it=P.__private__.putTrailer=function(){de("trailer"),de("<<"),de("/Size "+(Me+1)),de("/Root "+Me+" 0 R"),de("/Info "+(Me-1)+" 0 R"),x!==null&&de("/Encrypt "+wr.oid+" 0 R"),de("/ID [ <"+Le+"> <"+Le+"> ]"),de(">>")},dt=P.__private__.putHeader=function(){de("%PDF-"+O),de("%")},Ut=P.__private__.putXRef=function(){var $="0000000000";de("xref"),de("0 "+(Me+1)),de("0000000000 65535 f ");for(var fe=1;fe<=Me;fe++)typeof tt[fe]=="function"?de(($+tt[fe]()).slice(-10)+" 00000 n "):tt[fe]!==void 0?de(($+tt[fe]).slice(-10)+" 00000 n "):de("0000000000 00000 n ")},Wt=P.__private__.buildDocument=function(){kt(),ct(Ue),ce.publish("buildDocument"),dt(),_n(),wi(),la(),x!==null&&qi(),ze(),et();var $=qe;return Ut(),it(),de("startxref"),de(""+$),de("%%EOF"),ct(pt[me]),Ue.join(`
`)},sr=P.__private__.getBlob=function($){return new Blob([Kt($)],{type:"application/pdf"})},ar=P.output=P.__private__.output=$i(function($,fe){switch(typeof(fe=fe||{})=="string"?fe={filename:fe}:fe.filename=fe.filename||"generated.pdf",$){case void 0:return Wt();case"save":P.save(fe.filename);break;case"arraybuffer":return Kt(Wt());case"blob":return sr(Wt());case"bloburi":case"bloburl":if(vn.URL!==void 0&&typeof vn.URL.createObjectURL=="function")return vn.URL&&vn.URL.createObjectURL(sr(Wt()))||void 0;Zi.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var $e="",ot=Wt();try{$e=RC(ot)}catch{$e=RC(unescape(encodeURIComponent(ot)))}return"data:application/pdf;filename="+fe.filename+";base64,"+$e;case"pdfobjectnewwindow":if(Object.prototype.toString.call(vn)==="[object Window]"){var yt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Tt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';fe.pdfObjectUrl&&(yt=fe.pdfObjectUrl,Tt="");var Zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+yt+'"'+Tt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(fe)+");<\/script></body></html>",gr=vn.open();return gr!==null&&gr.document.write(Zt),gr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(vn)==="[object Window]"){var Ur='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(fe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+fe.filename+'" width="500px" height="400px" /></body></html>',cn=vn.open();if(cn!==null){cn.document.write(Ur);var hn=this;cn.document.documentElement.querySelector("#pdfViewer").onload=function(){cn.document.title=fe.filename,cn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(hn.output("bloburl"))}}return cn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(vn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var dn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",fe)+'"></iframe></body></html>',zn=vn.open();if(zn!==null&&(zn.document.write(dn),zn.document.title=fe.filename),zn||typeof safari>"u")return zn;break;case"datauri":case"dataurl":return vn.document.location.href=this.output("datauristring",fe);default:return null}}),nr=function($){return Array.isArray(Ce)===!0&&Ce.indexOf($)>-1};switch(n){case"pt":Lt=1;break;case"mm":Lt=72/25.4;break;case"cm":Lt=72/2.54;break;case"in":Lt=72;break;case"px":Lt=nr("px_scaling")==1?.75:96/72;break;case"pc":case"em":Lt=12;break;case"ex":Lt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Lt=n}var wr=null;ht(),xe();var Kn=function($){return x!==null?wr.encryptor($,0):function(fe){return fe}},Fr=P.__private__.getPageInfo=P.getPageInfo=function($){if(isNaN($)||$%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ae[$].objId,pageNumber:$,pageContext:ae[$]}},fr=P.__private__.getPageInfoByObjId=function($){if(isNaN($)||$%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var fe in ae)if(ae[fe].objId===$)break;return Fr(fe)},Nt=P.__private__.getCurrentPageInfo=P.getCurrentPageInfo=function(){return{objId:ae[me].objId,pageNumber:me,pageContext:ae[me]}};P.addPage=function(){return Qa.apply(this,arguments),this},P.setPage=function(){return D.apply(this,arguments),ct.call(this,pt[me]),this},P.insertPage=function($){return this.addPage(),this.movePage(me,$),this},P.movePage=function($,fe){var $e,ot;if($>fe){$e=pt[$],ot=ae[$];for(var yt=$;yt>fe;yt--)pt[yt]=pt[yt-1],ae[yt]=ae[yt-1];pt[fe]=$e,ae[fe]=ot,this.setPage(fe)}else if($<fe){$e=pt[$],ot=ae[$];for(var Tt=$;Tt<fe;Tt++)pt[Tt]=pt[Tt+1],ae[Tt]=ae[Tt+1];pt[fe]=$e,ae[fe]=ot,this.setPage(fe)}return this},P.deletePage=function(){return kn.apply(this,arguments),this},P.__private__.text=P.text=function($,fe,$e,ot,yt){var Tt,Zt,gr,Ur,cn,hn,dn,zn,mi,fn=(ot=ot||{}).scope||this;if(typeof $=="number"&&typeof fe=="number"&&(typeof $e=="string"||Array.isArray($e))){var Oo=$e;$e=fe,fe=$,$=Oo}if(arguments[3]instanceof Ye?(ne("The transform parameter of text() with a Matrix value"),mi=yt):(gr=arguments[4],Ur=arguments[5],Mi(dn=arguments[3])==="object"&&dn!==null||(typeof gr=="string"&&(Ur=gr,gr=null),typeof dn=="string"&&(Ur=dn,dn=null),typeof dn=="number"&&(gr=dn,dn=null),ot={flags:dn,angle:gr,align:Ur})),isNaN(fe)||isNaN($e)||$==null)throw new Error("Invalid arguments passed to jsPDF.text");if($.length===0)return fn;var Or="",po=!1,An=typeof ot.lineHeightFactor=="number"?ot.lineHeightFactor:ts,In=fn.internal.scaleFactor;function ws(hi){return hi=hi.split("	").join(Array(ot.TabLen||9).join(" ")),wo(hi,dn)}function Zs(hi){for(var ii,on=hi.concat(),sn=[],Fo=on.length;Fo--;)typeof(ii=on.shift())=="string"?sn.push(ii):Array.isArray(hi)&&(ii.length===1||ii[1]===void 0&&ii[2]===void 0)?sn.push(ii[0]):sn.push([ii[0],ii[1],ii[2]]);return sn}function Ss(hi,ii){var on;if(typeof hi=="string")on=ii(hi)[0];else if(Array.isArray(hi)){for(var sn,Fo,no=hi.concat(),Ei=[],Gi=no.length;Gi--;)typeof(sn=no.shift())=="string"?Ei.push(ii(sn)[0]):Array.isArray(sn)&&typeof sn[0]=="string"&&(Fo=ii(sn[0],sn[1],sn[2]),Ei.push([Fo[0],Fo[1],Fo[2]]));on=Ei}return on}var Ys=!1,ha=!0;if(typeof $=="string")Ys=!0;else if(Array.isArray($)){var Ko=$.concat();Zt=[];for(var So,Ai=Ko.length;Ai--;)(typeof(So=Ko.shift())!="string"||Array.isArray(So)&&typeof So[0]!="string")&&(ha=!1);Ys=ha}if(Ys===!1)throw new Error('Type of text must be string or Array. "'+$+'" is not recognized.');typeof $=="string"&&($=$.match(/[\r?\n]/)?$.split(/\r\n|\r|\n/g):[$]);var xl=Pt/fn.internal.scaleFactor,da=xl*(An-1);switch(ot.baseline){case"bottom":$e-=da;break;case"top":$e+=xl-da;break;case"hanging":$e+=xl-2*da;break;case"middle":$e+=xl/2-da}if((hn=ot.maxWidth||0)>0&&(typeof $=="string"?$=fn.splitTextToSize($,hn):Object.prototype.toString.call($)==="[object Array]"&&($=$.reduce(function(hi,ii){return hi.concat(fn.splitTextToSize(ii,hn))},[]))),Tt={text:$,x:fe,y:$e,options:ot,mutex:{pdfEscape:wo,activeFontKey:Rt,fonts:Vt,activeFontSize:Pt}},ce.publish("preProcessText",Tt),$=Tt.text,gr=(ot=Tt.options).angle,!(mi instanceof Ye)&&gr&&typeof gr=="number"){gr*=Math.PI/180,ot.rotationDirection===0&&(gr=-gr),V===j.ADVANCED&&(gr=-gr);var Ta=Math.cos(gr),Js=Math.sin(gr);mi=new Ye(Ta,Js,-Js,Ta,0,0)}else gr&&gr instanceof Ye&&(mi=gr);V!==j.ADVANCED||mi||(mi=_t),(cn=ot.charSpace||Ks)!==void 0&&(Or+=J(oe(cn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(zn=ot.horizontalScale)!==void 0&&(Or+=J(100*zn)+` Tz
`),ot.lang;var Hi=-1,Cs=ot.renderingMode!==void 0?ot.renderingMode:ot.stroke,As=fn.internal.getCurrentPageInfo().pageContext;switch(Cs){case 0:case!1:case"fill":Hi=0;break;case 1:case!0:case"stroke":Hi=1;break;case 2:case"fillThenStroke":Hi=2;break;case 3:case"invisible":Hi=3;break;case 4:case"fillAndAddForClipping":Hi=4;break;case 5:case"strokeAndAddPathForClipping":Hi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Hi=6;break;case 7:case"addToPathForClipping":Hi=7}var wl=As.usedRenderingMode!==void 0?As.usedRenderingMode:-1;Hi!==-1?Or+=Hi+` Tr
`:wl!==-1&&(Or+=`0 Tr
`),Hi!==-1&&(As.usedRenderingMode=Hi),Ur=ot.align||"left";var Co,fa=Pt*An,mc=fn.internal.pageSize.getWidth(),gc=Vt[Rt];cn=ot.charSpace||Ks,hn=ot.maxWidth||0,dn=Object.assign({autoencode:!0,noBOM:!0},ot.flags);var Qe=[];if(Object.prototype.toString.call($)==="[object Array]"){var xt;Zt=Zs($),Ur!=="left"&&(Co=Zt.map(function(hi){return fn.getStringUnitWidth(hi,{font:gc,charSpace:cn,fontSize:Pt,doKerning:!1})*Pt/In}));var tr,kr=0;if(Ur==="right"){fe-=Co[0],$=[],Ai=Zt.length;for(var Pn=0;Pn<Ai;Pn++)Pn===0?(tr=wn(fe),xt=Fa($e)):(tr=oe(kr-Co[Pn]),xt=-fa),$.push([Zt[Pn],tr,xt]),kr=Co[Pn]}else if(Ur==="center"){fe-=Co[0]/2,$=[],Ai=Zt.length;for(var yn=0;yn<Ai;yn++)yn===0?(tr=wn(fe),xt=Fa($e)):(tr=oe((kr-Co[yn])/2),xt=-fa),$.push([Zt[yn],tr,xt]),kr=Co[yn]}else if(Ur==="left"){$=[],Ai=Zt.length;for(var Hn=0;Hn<Ai;Hn++)$.push(Zt[Hn])}else{if(Ur!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');$=[],Ai=Zt.length,hn=hn!==0?hn:mc;for(var jn=0;jn<Ai;jn++)xt=jn===0?Fa($e):-fa,tr=jn===0?wn(fe):0,jn<Ai-1?Qe.push(J(oe((hn-Co[jn])/(Zt[jn].split(" ").length-1)))):Qe.push(0),$.push([Zt[jn],tr,xt])}}var Ao=typeof ot.R2L=="boolean"?ot.R2L:It;Ao===!0&&($=Ss($,function(hi,ii,on){return[hi.split("").reverse().join(""),ii,on]})),Tt={text:$,x:fe,y:$e,options:ot,mutex:{pdfEscape:wo,activeFontKey:Rt,fonts:Vt,activeFontSize:Pt}},ce.publish("postProcessText",Tt),$=Tt.text,po=Tt.mutex.isHex||!1;var ui=Vt[Rt].encoding;ui!=="WinAnsiEncoding"&&ui!=="StandardEncoding"||($=Ss($,function(hi,ii,on){return[ws(hi),ii,on]})),Zt=Zs($),$=[];for(var Zn,gi,zi,ci=0,No=1,Eo=Array.isArray(Zt[0])?No:ci,Zo="",Pa=function(hi,ii,on){var sn="";return on instanceof Ye?(on=typeof ot.angle=="number"?He(on,new Ye(1,0,0,1,hi,ii)):He(new Ye(1,0,0,1,hi,ii),on),V===j.ADVANCED&&(on=He(new Ye(1,0,0,-1,0,0),on)),sn=on.join(" ")+` Tm
`):sn=J(hi)+" "+J(ii)+` Td
`,sn},ro=0;ro<Zt.length;ro++){switch(Zo="",Eo){case No:zi=(po?"<":"(")+Zt[ro][0]+(po?">":")"),Zn=parseFloat(Zt[ro][1]),gi=parseFloat(Zt[ro][2]);break;case ci:zi=(po?"<":"(")+Zt[ro]+(po?">":")"),Zn=wn(fe),gi=Fa($e)}Qe!==void 0&&Qe[ro]!==void 0&&(Zo=Qe[ro]+` Tw
`),ro===0?$.push(Zo+Pa(Zn,gi,mi)+zi):Eo===ci?$.push(Zo+zi):Eo===No&&$.push(Zo+Pa(Zn,gi,mi)+zi)}$=Eo===ci?$.join(` Tj
T* `):$.join(` Tj
`),$+=` Tj
`;var Ba=`BT
/`;return Ba+=Rt+" "+Pt+` Tf
`,Ba+=J(Pt*An)+` TL
`,Ba+=yl+`
`,Ba+=Or,Ba+=$,de(Ba+="ET"),C[Rt]=!0,fn};var Sr=P.__private__.clip=P.clip=function($){return de($==="evenodd"?"W*":"W"),this};P.clipEvenOdd=function(){return Sr("evenodd")},P.__private__.discardPath=P.discardPath=function(){return de("n"),this};var xn=P.__private__.isValidStyle=function($){var fe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf($)!==-1&&(fe=!0),fe};P.__private__.setDefaultPathOperation=P.setDefaultPathOperation=function($){return xn($)&&(v=$),this};var Bi=P.__private__.getStyle=P.getStyle=function($){var fe=v;switch($){case"D":case"S":fe="S";break;case"F":fe="f";break;case"FD":case"DF":fe="B";break;case"f":case"f*":case"B":case"B*":fe=$}return fe},ti=P.close=function(){return de("h"),this};P.stroke=function(){return de("S"),this},P.fill=function($){return pl("f",$),this},P.fillEvenOdd=function($){return pl("f*",$),this},P.fillStroke=function($){return pl("B",$),this},P.fillStrokeEvenOdd=function($){return pl("B*",$),this};var pl=function($,fe){Mi(fe)==="object"?Kc(fe,$):de($)},Iu=function($){$===null||V===j.ADVANCED&&$===void 0||($=Bi($),de($))};function ri($,fe,$e,ot,yt){var Tt=new B0(fe||this.boundingBox,$e||this.xStep,ot||this.yStep,this.gState,yt||this.matrix);Tt.stream=this.stream;var Zt=$+"$$"+this.cloneIndex+++"$$";return Ct(Zt,Tt),Tt}var Kc=function($,fe){var $e=ni[$.key],ot=rr[$e];if(ot instanceof bp)de("q"),de(qh(fe)),ot.gState&&P.setGState(ot.gState),de($.matrix.toString()+" cm"),de("/"+$e+" sh"),de("Q");else if(ot instanceof B0){var yt=new Ye(1,0,0,-1,0,$a());$.matrix&&(yt=yt.multiply($.matrix||_t),$e=ri.call(ot,$.key,$.boundingBox,$.xStep,$.yStep,yt).id),de("q"),de("/Pattern cs"),de("/"+$e+" scn"),ot.gState&&P.setGState(ot.gState),de(fe),de("Q")}},qh=function($){switch($){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ua=P.moveTo=function($,fe){return de(J(oe($))+" "+J(ge(fe))+" m"),this},Oa=P.lineTo=function($,fe){return de(J(oe($))+" "+J(ge(fe))+" l"),this},es=P.curveTo=function($,fe,$e,ot,yt,Tt){return de([J(oe($)),J(ge(fe)),J(oe($e)),J(ge(ot)),J(oe(yt)),J(ge(Tt)),"c"].join(" ")),this};P.__private__.line=P.line=function($,fe,$e,ot,yt){if(isNaN($)||isNaN(fe)||isNaN($e)||isNaN(ot)||!xn(yt))throw new Error("Invalid arguments passed to jsPDF.line");return V===j.COMPAT?this.lines([[$e-$,ot-fe]],$,fe,[1,1],yt||"S"):this.lines([[$e-$,ot-fe]],$,fe,[1,1]).stroke()},P.__private__.lines=P.lines=function($,fe,$e,ot,yt,Tt){var Zt,gr,Ur,cn,hn,dn,zn,mi,fn,Oo,Or,po;if(typeof $=="number"&&(po=$e,$e=fe,fe=$,$=po),ot=ot||[1,1],Tt=Tt||!1,isNaN(fe)||isNaN($e)||!Array.isArray($)||!Array.isArray(ot)||!xn(yt)||typeof Tt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ua(fe,$e),Zt=ot[0],gr=ot[1],cn=$.length,Oo=fe,Or=$e,Ur=0;Ur<cn;Ur++)(hn=$[Ur]).length===2?(Oo=hn[0]*Zt+Oo,Or=hn[1]*gr+Or,Oa(Oo,Or)):(dn=hn[0]*Zt+Oo,zn=hn[1]*gr+Or,mi=hn[2]*Zt+Oo,fn=hn[3]*gr+Or,Oo=hn[4]*Zt+Oo,Or=hn[5]*gr+Or,es(dn,zn,mi,fn,Oo,Or));return Tt&&ti(),Iu(yt),this},P.path=function($){for(var fe=0;fe<$.length;fe++){var $e=$[fe],ot=$e.c;switch($e.op){case"m":ua(ot[0],ot[1]);break;case"l":Oa(ot[0],ot[1]);break;case"c":es.apply(this,ot);break;case"h":ti()}}return this},P.__private__.rect=P.rect=function($,fe,$e,ot,yt){if(isNaN($)||isNaN(fe)||isNaN($e)||isNaN(ot)||!xn(yt))throw new Error("Invalid arguments passed to jsPDF.rect");return V===j.COMPAT&&(ot=-ot),de([J(oe($)),J(ge(fe)),J(oe($e)),J(oe(ot)),"re"].join(" ")),Iu(yt),this},P.__private__.triangle=P.triangle=function($,fe,$e,ot,yt,Tt,Zt){if(isNaN($)||isNaN(fe)||isNaN($e)||isNaN(ot)||isNaN(yt)||isNaN(Tt)||!xn(Zt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[$e-$,ot-fe],[yt-$e,Tt-ot],[$-yt,fe-Tt]],$,fe,[1,1],Zt,!0),this},P.__private__.roundedRect=P.roundedRect=function($,fe,$e,ot,yt,Tt,Zt){if(isNaN($)||isNaN(fe)||isNaN($e)||isNaN(ot)||isNaN(yt)||isNaN(Tt)||!xn(Zt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var gr=4/3*(Math.SQRT2-1);return yt=Math.min(yt,.5*$e),Tt=Math.min(Tt,.5*ot),this.lines([[$e-2*yt,0],[yt*gr,0,yt,Tt-Tt*gr,yt,Tt],[0,ot-2*Tt],[0,Tt*gr,-yt*gr,Tt,-yt,Tt],[2*yt-$e,0],[-yt*gr,0,-yt,-Tt*gr,-yt,-Tt],[0,2*Tt-ot],[0,-Tt*gr,yt*gr,-Tt,yt,-Tt]],$+yt,fe,[1,1],Zt,!0),this},P.__private__.ellipse=P.ellipse=function($,fe,$e,ot,yt){if(isNaN($)||isNaN(fe)||isNaN($e)||isNaN(ot)||!xn(yt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Tt=4/3*(Math.SQRT2-1)*$e,Zt=4/3*(Math.SQRT2-1)*ot;return ua($+$e,fe),es($+$e,fe-Zt,$+Tt,fe-ot,$,fe-ot),es($-Tt,fe-ot,$-$e,fe-Zt,$-$e,fe),es($-$e,fe+Zt,$-Tt,fe+ot,$,fe+ot),es($+Tt,fe+ot,$+$e,fe+Zt,$+$e,fe),Iu(yt),this},P.__private__.circle=P.circle=function($,fe,$e,ot){if(isNaN($)||isNaN(fe)||isNaN($e)||!xn(ot))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse($,fe,$e,$e,ot)},P.setFont=function($,fe,$e){return $e&&(fe=ie(fe,$e)),Rt=ye($,fe,{disableWarning:!1}),this};var Yl=P.__private__.getFont=P.getFont=function(){return Vt[ye.apply(P,arguments)]};P.__private__.getFontList=P.getFontList=function(){var $,fe,$e={};for($ in xr)if(xr.hasOwnProperty($))for(fe in $e[$]=[],xr[$])xr[$].hasOwnProperty(fe)&&$e[$].push(fe);return $e},P.addFont=function($,fe,$e,ot,yt){var Tt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Tt.indexOf(arguments[3])!==-1?yt=arguments[3]:arguments[3]&&Tt.indexOf(arguments[3])==-1&&($e=ie($e,ot)),yt=yt||"Identity-H",Do.call(this,$,fe,$e,yt)};var ts,ml=e.lineWidth||.200025,Ro=P.__private__.getLineWidth=P.getLineWidth=function(){return ml},Zc=P.__private__.setLineWidth=P.setLineWidth=function($){return ml=$,de(J(oe($))+" w"),this};P.__private__.setLineDash=bn.API.setLineDash=bn.API.setLineDashPattern=function($,fe){if($=$||[],fe=fe||0,isNaN(fe)||!Array.isArray($))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return $=$.map(function($e){return J(oe($e))}).join(" "),fe=J(oe(fe)),de("["+$+"] "+fe+" d"),this};var Lu=P.__private__.getLineHeight=P.getLineHeight=function(){return Pt*ts};P.__private__.getLineHeight=P.getLineHeight=function(){return Pt*ts};var _s=P.__private__.setLineHeightFactor=P.setLineHeightFactor=function($){return typeof($=$||1.15)=="number"&&(ts=$),this},Na=P.__private__.getLineHeightFactor=P.getLineHeightFactor=function(){return ts};_s(e.lineHeight);var wn=P.__private__.getHorizontalCoordinate=function($){return oe($)},Fa=P.__private__.getVerticalCoordinate=function($){return V===j.ADVANCED?$:ae[me].mediaBox.topRightY-ae[me].mediaBox.bottomLeftY-oe($)},Hh=P.__private__.getHorizontalCoordinateString=P.getHorizontalCoordinateString=function($){return J(wn($))},Ca=P.__private__.getVerticalCoordinateString=P.getVerticalCoordinateString=function($){return J(Fa($))},ca=e.strokeColor||"0 G";P.__private__.getStrokeColor=P.getDrawColor=function(){return Yr(ca)},P.__private__.setStrokeColor=P.setDrawColor=function($,fe,$e,ot){return ca=en({ch1:$,ch2:fe,ch3:$e,ch4:ot,pdfColorType:"draw",precision:2}),de(ca),this};var gl=e.fillColor||"0 g";P.__private__.getFillColor=P.getFillColor=function(){return Yr(gl)},P.__private__.setFillColor=P.setFillColor=function($,fe,$e,ot){return gl=en({ch1:$,ch2:fe,ch3:$e,ch4:ot,pdfColorType:"fill",precision:2}),de(gl),this};var yl=e.textColor||"0 g",Aa=P.__private__.getTextColor=P.getTextColor=function(){return Yr(yl)};P.__private__.setTextColor=P.setTextColor=function($,fe,$e,ot){return yl=en({ch1:$,ch2:fe,ch3:$e,ch4:ot,pdfColorType:"text",precision:3}),this};var Ks=e.charSpace,fc=P.__private__.getCharSpace=P.getCharSpace=function(){return parseFloat(Ks||0)};P.__private__.setCharSpace=P.setCharSpace=function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ks=$,this};var Mu=0;P.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},P.__private__.setLineCap=P.setLineCap=function($){var fe=P.CapJoinStyles[$];if(fe===void 0)throw new Error("Line cap style of '"+$+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Mu=fe,de(fe+" J"),this};var Jl=0;P.__private__.setLineJoin=P.setLineJoin=function($){var fe=P.CapJoinStyles[$];if(fe===void 0)throw new Error("Line join style of '"+$+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Jl=fe,de(fe+" j"),this},P.__private__.setLineMiterLimit=P.__private__.setMiterLimit=P.setLineMiterLimit=P.setMiterLimit=function($){if($=$||0,isNaN($))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return de(J(oe($))+" M"),this},P.GState=$_,P.setGState=function($){($=typeof $=="string"?Nn[_i[$]]:vl(null,$)).equals(Bn)||(de("/"+$.id+" gs"),Bn=$)};var vl=function($,fe){if(!$||!_i[$]){var $e=!1;for(var ot in Nn)if(Nn.hasOwnProperty(ot)&&Nn[ot].equals(fe)){$e=!0;break}if($e)fe=Nn[ot];else{var yt="GS"+(Object.keys(Nn).length+1).toString(10);Nn[yt]=fe,fe.id=yt}return $&&(_i[$]=fe.id),ce.publish("addGState",fe),fe}};P.addGState=function($,fe){return vl($,fe),this},P.saveGraphicsState=function(){return de("q"),rn.push({key:Rt,size:Pt,color:yl}),this},P.restoreGraphicsState=function(){de("Q");var $=rn.pop();return Rt=$.key,Pt=$.size,yl=$.color,Bn=null,this},P.setCurrentTransformationMatrix=function($){return de($.toString()+" cm"),this},P.comment=function($){return de("#"+$),this};var Ea=function($,fe){var $e=$||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return $e},set:function(Tt){isNaN(Tt)||($e=parseFloat(Tt))}});var ot=fe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ot},set:function(Tt){isNaN(Tt)||(ot=parseFloat(Tt))}});var yt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return yt},set:function(Tt){yt=Tt.toString()}}),this},Ql=function($,fe,$e,ot){Ea.call(this,$,fe),this.type="rect";var yt=$e||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return yt},set:function(Zt){isNaN(Zt)||(yt=parseFloat(Zt))}});var Tt=ot||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Tt},set:function(Zt){isNaN(Zt)||(Tt=parseFloat(Zt))}}),this},pc=function(){this.page=Ne,this.currentPage=me,this.pages=pt.slice(0),this.pagesContext=ae.slice(0),this.x=Br,this.y=rt,this.matrix=Qt,this.width=xs(me),this.height=$a(me),this.outputDestination=St,this.id="",this.objectNumber=-1};pc.prototype.restore=function(){Ne=this.page,me=this.currentPage,ae=this.pagesContext,pt=this.pages,Br=this.x,rt=this.y,Qt=this.matrix,eu(me,this.width),_l(me,this.height),St=this.outputDestination};var rs=function($,fe,$e,ot,yt){nt.push(new pc),Ne=me=0,pt=[],Br=$,rt=fe,Qt=yt,Ja([$e,ot])},bl=function($){if(Je[$])nt.pop().restore();else{var fe=new pc,$e="Xo"+(Object.keys(Re).length+1).toString(10);fe.id=$e,Je[$]=$e,Re[$e]=fe,ce.publish("addFormObject",fe),nt.pop().restore()}};for(var Du in P.beginFormObject=function($,fe,$e,ot,yt){return rs($,fe,$e,ot,yt),this},P.endFormObject=function($){return bl($),this},P.doFormObject=function($,fe){var $e=Re[Je[$]];return de("q"),de(fe.toString()+" cm"),de("/"+$e.id+" Do"),de("Q"),this},P.getFormObject=function($){var fe=Re[Je[$]];return{x:fe.x,y:fe.y,width:fe.width,height:fe.height,matrix:fe.matrix}},P.save=function($,fe){return $=$||"generated.pdf",(fe=fe||{}).returnPromise=fe.returnPromise||!1,fe.returnPromise===!1?(mp(sr(Wt()),$),typeof mp.unload=="function"&&vn.setTimeout&&setTimeout(mp.unload,911),this):new Promise(function($e,ot){try{var yt=mp(sr(Wt()),$);typeof mp.unload=="function"&&vn.setTimeout&&setTimeout(mp.unload,911),$e(yt)}catch(Tt){ot(Tt.message)}})},bn.API)bn.API.hasOwnProperty(Du)&&(Du==="events"&&bn.API.events.length?function($,fe){var $e,ot,yt;for(yt=fe.length-1;yt!==-1;yt--)$e=fe[yt][0],ot=fe[yt][1],$.subscribe.apply($,[$e].concat(typeof ot=="function"?[ot]:ot))}(ce,bn.API.events):P[Du]=bn.API[Du]);var xs=P.getPageWidth=function($){return(ae[$=$||me].mediaBox.topRightX-ae[$].mediaBox.bottomLeftX)/Lt},eu=P.setPageWidth=function($,fe){ae[$].mediaBox.topRightX=fe*Lt+ae[$].mediaBox.bottomLeftX},$a=P.getPageHeight=function($){return(ae[$=$||me].mediaBox.topRightY-ae[$].mediaBox.bottomLeftY)/Lt},_l=P.setPageHeight=function($,fe){ae[$].mediaBox.topRightY=fe*Lt+ae[$].mediaBox.bottomLeftY};return P.internal={pdfEscape:wo,getStyle:Bi,getFont:Yl,getFontSize:Gt,getCharSpace:fc,getTextColor:Aa,getLineHeight:Lu,getLineHeightFactor:Na,getLineWidth:Ro,write:hr,getHorizontalCoordinate:wn,getVerticalCoordinate:Fa,getCoordinateString:Hh,getVerticalCoordinateString:Ca,collections:{},newObject:gt,newAdditionalObject:mr,newObjectDeferred:jt,newObjectDeferredBegin:ur,getFilters:nn,putStream:Tr,events:ce,scaleFactor:Lt,pageSize:{getWidth:function(){return xs(me)},setWidth:function($){eu(me,$)},getHeight:function(){return $a(me)},setHeight:function($){_l(me,$)}},encryptionOptions:x,encryption:wr,getEncryptor:Kn,output:ar,getNumberOfPages:G,pages:pt,out:de,f2:Z,f3:X,getPageInfo:Fr,getPageInfoByObjId:fr,getCurrentPageInfo:Nt,getPDFVersion:I,Point:Ea,Rectangle:Ql,Matrix:Ye,hasHotfix:nr},Object.defineProperty(P.internal.pageSize,"width",{get:function(){return xs(me)},set:function($){eu(me,$)},enumerable:!0,configurable:!0}),Object.defineProperty(P.internal.pageSize,"height",{get:function(){return $a(me)},set:function($){_l(me,$)},enumerable:!0,configurable:!0}),Kl.call(P,bt),Rt="F1",Qa(o,r),ce.publish("initialized"),P}s0.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},s0.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},s0.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},s0.prototype.processOwnerPassword=function(e,t){return NC(OC(t).substr(0,5),e)},s0.prototype.encryptor=function(e,t){var r=OC(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return NC(r,n)}},$_.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Mi(e)!==Mi(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},bn.API={events:[]},bn.version="2.5.1";var Go=bn.API,C4=1,om=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Wm=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ln=function(e){return e.toFixed(2)},af=function(e){return e.toFixed(5)};Go.__acroform__={};var Ul=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},wL=function(e){return e*C4},yh=function(e){var t=new BF,r=zr.internal.getHeight(e)||0,n=zr.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Ln(n)),Number(Ln(r))],t},vte=Go.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},bte=Go.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},_te=Go.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},ta=Go.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return _te(e,t-1)},ra=Go.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return vte(e,t-1)},na=Go.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return bte(e,t-1)},xte=Go.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,o=e[0],s=e[1],u=e[2],l=e[3],f={};return f.lowerLeft_X=r(o)||0,f.lowerLeft_Y=n(s+l)||0,f.upperRight_X=r(o+u)||0,f.upperRight_Y=n(s)||0,[Number(Ln(f.lowerLeft_X)),Number(Ln(f.lowerLeft_Y)),Number(Ln(f.upperRight_X)),Number(Ln(f.upperRight_Y))]},wte=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=FC(e,r),o=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+o+" "+Ln(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=yh(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},FC=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},o=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");o=e.multiline?o.map(function(X){return X.split(`
`)}):o.map(function(X){return[X]});var s=r,u=zr.internal.getHeight(e)||0;u=u<0?-u:u;var l=zr.internal.getWidth(e)||0;l=l<0?-l:l;var f=function(X,oe,be){if(X+1<o.length){var ge=oe+" "+o[X+1][0];return gb(ge,e,be).width<=l-4}return!1};s++;e:for(;s>0;){t="",s--;var v,x,w=gb("3",e,s).height,C=e.multiline?u-s:(u-w)/2,P=C+=2,O=0,I=0,z=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+gb(t,e,s=12).width+", FieldWidth:"+l+`
`;break}for(var N="",j=0,V=0;V<o.length;V++)if(o.hasOwnProperty(V)){var W=!1;if(o[V].length!==1&&z!==o[V].length-1){if((w+2)*(j+2)+2>u)continue e;N+=o[V][z],W=!0,I=V,V--}else{N=(N+=o[V][z]+" ").substr(N.length-1)==" "?N.substr(0,N.length-1):N;var re=parseInt(V),ie=f(re,N,s),J=V>=o.length-1;if(ie&&!J){N+=" ",z=0;continue}if(ie||J){if(J)I=re;else if(e.multiline&&(w+2)*(j+2)+2>u)continue e}else{if(!e.multiline||(w+2)*(j+2)+2>u)continue e;I=re}}for(var ne="",Ae=O;Ae<=I;Ae++){var Z=o[Ae];if(e.multiline){if(Ae===I){ne+=Z[z]+" ",z=(z+1)%Z.length;continue}if(Ae===O){ne+=Z[Z.length-1]+" ";continue}}ne+=Z[0]+" "}switch(ne=ne.substr(ne.length-1)==" "?ne.substr(0,ne.length-1):ne,x=gb(ne,e,s).width,e.textAlign){case"right":v=l-x-2;break;case"center":v=(l-x)/2;break;case"left":default:v=2}t+=Ln(v)+" "+Ln(P)+` Td
`,t+="("+om(ne)+`) Tj
`,t+=-Ln(v)+` 0 Td
`,P=-(s+2),x=0,O=W?I:I+1,j++,N=""}break}return n.text=t,n.fontSize=s,n},gb=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),o=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:o}},Ste={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Cte=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},Ate=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,o=e[r];t.internal.newObjectDeferredBegin(o.objId,!0),Mi(o)==="object"&&typeof o.putStream=="function"&&o.putStream(),delete e[n]}},Ete=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(qc.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Ste)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");C4=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new zF,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var o in n)if(n.hasOwnProperty(o)){var s=n[o];s.objId=void 0,s.hasAnnotation&&Cte(s,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,o){var s=!n;for(var u in n||(o.internal.newObjectDeferredBegin(o.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),o.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||o.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(u)){var l=n[u],f=[],v=l.Rect;if(l.Rect&&(l.Rect=xte(l.Rect,o)),o.internal.newObjectDeferredBegin(l.objId,!0),l.DA=zr.createDefaultAppearanceStream(l),Mi(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(f=l.getKeyValueListForStream()),l.Rect=v,l.hasAppearanceStream&&!l.appearanceStreamContent){var x=wte(l);f.push({key:"AP",value:"<</N "+x+">>"}),o.internal.acroformPlugin.xForms.push(x)}if(l.appearanceStreamContent){var w="";for(var C in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(C)){var P=l.appearanceStreamContent[C];if(w+="/"+C+" ",w+="<<",Object.keys(P).length>=1||Array.isArray(P)){for(var u in P)if(P.hasOwnProperty(u)){var O=P[u];typeof O=="function"&&(O=O.call(o,l)),w+="/"+u+" "+O+" ",o.internal.acroformPlugin.xForms.indexOf(O)>=0||o.internal.acroformPlugin.xForms.push(O)}}else typeof(O=P)=="function"&&(O=O.call(o,l)),w+="/"+u+" "+O,o.internal.acroformPlugin.xForms.indexOf(O)>=0||o.internal.acroformPlugin.xForms.push(O);w+=">>"}f.push({key:"AP",value:`<<
`+w+">>"})}o.internal.putStream({additionalKeyValues:f,objectId:l.objId}),o.internal.out("endobj")}s&&Ate(o.internal.acroformPlugin.xForms,o)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},$F=Go.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(u){return u};if(Array.isArray(e)){for(var o="[",s=0;s<e.length;s++)switch(s!==0&&(o+=" "),Mi(e[s])){case"boolean":case"number":case"object":o+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),o+="("+om(n(e[s].toString()))+")"):o+=e[s].toString()}return o+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},XS=function(e,t,r){var n=function(o){return o};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+om(n(e))+")"},Ih=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ih.prototype.toString=function(){return this.objId+" 0 R"},Ih.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Ih.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],o=this[n];o&&(Array.isArray(o)?e.push({key:n,value:$F(o,this.objId,this.scope)}):o instanceof Ih?(o.scope=this.scope,e.push({key:n,value:o.objId+" 0 R"})):typeof o!="function"&&e.push({key:n,value:o}))}return e};var BF=function(){Ih.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Ul(BF,Ih);var zF=function(){Ih.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+om(r(e))+")"}},set:function(r){e=r}})};Ul(zF,Ih);var qc=function e(){Ih.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute F supplied.');t=N}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ta(t,3)},set:function(N){N?this.F=ra(t,3):this.F=na(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute Ff supplied.');r=N}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(N){n=N!==void 0?N:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(N){n[0]=N}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(N){n[1]=N}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(N){n[2]=N}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(N){n[3]=N}});var o="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return o},set:function(N){switch(N){case"/Btn":case"/Tx":case"/Ch":case"/Sig":o=N;break;default:throw new Error('Invalid value "'+N+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof B_)return;s="FieldObject"+e.FieldNum++}var N=function(j){return j};return this.scope&&(N=this.scope.internal.getEncryptor(this.objId)),"("+om(N(s))+")"},set:function(N){s=N.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(N){s=N}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(N){u=N}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(N){l=N}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(N){f=N}});var v=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return v===void 0?50/C4:v},set:function(N){v=N}});var x="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return x},set:function(N){x=N}});var w="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!w||this instanceof B_||this instanceof Fp))return XS(w,this.objId,this.scope)},set:function(N){N=N.toString(),w=N}});var C=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(C)return this instanceof Ga?C:XS(C,this.objId,this.scope)},set:function(N){N=N.toString(),C=this instanceof Ga?N:N.substr(0,1)==="("?Wm(N.substr(1,N.length-2)):Wm(N)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ga?Wm(C.substr(1,C.length-1)):C},set:function(N){N=N.toString(),C=this instanceof Ga?"/"+N:N}});var P=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(P)return P},set:function(N){this.V=N}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(P)return this instanceof Ga?P:XS(P,this.objId,this.scope)},set:function(N){N=N.toString(),P=this instanceof Ga?N:N.substr(0,1)==="("?Wm(N.substr(1,N.length-2)):Wm(N)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ga?Wm(P.substr(1,P.length-1)):P},set:function(N){N=N.toString(),P=this instanceof Ga?"/"+N:N}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var O,I=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return I},set:function(N){N=!!N,I=N}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(O)return O},set:function(N){O=N}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,1)},set:function(N){N?this.Ff=ra(this.Ff,1):this.Ff=na(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,2)},set:function(N){N?this.Ff=ra(this.Ff,2):this.Ff=na(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,3)},set:function(N){N?this.Ff=ra(this.Ff,3):this.Ff=na(this.Ff,3)}});var z=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(z!==null)return z},set:function(N){if([0,1,2].indexOf(N)===-1)throw new Error('Invalid value "'+N+'" for attribute Q supplied.');z=N}}),Object.defineProperty(this,"textAlign",{get:function(){var N;switch(z){case 0:default:N="left";break;case 1:N="center";break;case 2:N="right"}return N},configurable:!0,enumerable:!0,set:function(N){switch(N){case"right":case 2:z=2;break;case"center":case 1:z=1;break;case"left":case 0:default:z=0}}})};Ul(qc,Ih);var Q0=function(){qc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return $F(t,this.objId,this.scope)},set:function(r){var n,o;o=[],typeof(n=r)=="string"&&(o=function(s,u,l){l||(l=1);for(var f,v=[];f=u.exec(s);)v.push(f[l]);return v}(n,/\((.*?)\)/g)),t=o}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,18)},set:function(r){r?this.Ff=ra(this.Ff,18):this.Ff=na(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ra(this.Ff,19):this.Ff=na(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,20)},set:function(r){r?(this.Ff=ra(this.Ff,20),t.sort()):this.Ff=na(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,22)},set:function(r){r?this.Ff=ra(this.Ff,22):this.Ff=na(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,23)},set:function(r){r?this.Ff=ra(this.Ff,23):this.Ff=na(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,27)},set:function(r){r?this.Ff=ra(this.Ff,27):this.Ff=na(this.Ff,27)}}),this.hasAppearanceStream=!1};Ul(Q0,qc);var eg=function(){Q0.call(this),this.fontName="helvetica",this.combo=!1};Ul(eg,Q0);var tg=function(){eg.call(this),this.combo=!0};Ul(tg,eg);var Yb=function(){tg.call(this),this.edit=!0};Ul(Yb,tg);var Ga=function(){qc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,15)},set:function(r){r?this.Ff=ra(this.Ff,15):this.Ff=na(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,16)},set:function(r){r?this.Ff=ra(this.Ff,16):this.Ff=na(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,17)},set:function(r){r?this.Ff=ra(this.Ff,17):this.Ff=na(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,26)},set:function(r){r?this.Ff=ra(this.Ff,26):this.Ff=na(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,o=[];for(n in o.push("<<"),t)o.push("/"+n+" ("+om(r(t[n]))+")");return o.push(">>"),o.join(`
`)}},set:function(r){Mi(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Ul(Ga,qc);var Jb=function(){Ga.call(this),this.pushButton=!0};Ul(Jb,Ga);var rg=function(){Ga.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Ul(rg,Ga);var B_=function(){var e,t;qc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(o){e=o}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(o){t=o}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var o=function(l){return l};this.scope&&(o=this.scope.internal.getEncryptor(this.objId));var s,u=[];for(s in u.push("<<"),n)u.push("/"+s+" ("+om(o(n[s]))+")");return u.push(">>"),u.join(`
`)},set:function(o){Mi(o)==="object"&&(n=o)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(o){typeof o=="string"&&(n.CA=o)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(o){r=o}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(o){r="/"+o}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=zr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ul(B_,qc),rg.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},rg.prototype.createOption=function(e){var t=new B_;return t.Parent=this,t.optionName=e,this.Kids.push(t),Tte.call(this.scope,t),t};var Qb=function(){Ga.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=zr.CheckBox.createAppearanceStream()};Ul(Qb,Ga);var Fp=function(){qc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,13)},set:function(t){t?this.Ff=ra(this.Ff,13):this.Ff=na(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,21)},set:function(t){t?this.Ff=ra(this.Ff,21):this.Ff=na(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,23)},set:function(t){t?this.Ff=ra(this.Ff,23):this.Ff=na(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,24)},set:function(t){t?this.Ff=ra(this.Ff,24):this.Ff=na(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,25)},set:function(t){t?this.Ff=ra(this.Ff,25):this.Ff=na(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,26)},set:function(t){t?this.Ff=ra(this.Ff,26):this.Ff=na(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ul(Fp,qc);var e_=function(){Fp.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,14)},set:function(e){e?this.Ff=ra(this.Ff,14):this.Ff=na(this.Ff,14)}}),this.password=!0};Ul(e_,Fp);var zr={CheckBox:{createAppearanceStream:function(){return{N:{On:zr.CheckBox.YesNormal},D:{On:zr.CheckBox.YesPushDown,Off:zr.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=yh(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,o=e.scope.__private__.encodeColorString(e.color),s=FC(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Ln(zr.internal.getWidth(e))+" "+Ln(zr.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Ln(s.fontSize)+" Tf "+o),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=yh(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),o=[],s=zr.internal.getHeight(e),u=zr.internal.getWidth(e),l=FC(e,e.caption);return o.push("1 g"),o.push("0 0 "+Ln(u)+" "+Ln(s)+" re"),o.push("f"),o.push("q"),o.push("0 0 1 rg"),o.push("0 0 "+Ln(u-1)+" "+Ln(s-1)+" re"),o.push("W"),o.push("n"),o.push("0 g"),o.push("BT"),o.push("/"+r+" "+Ln(l.fontSize)+" Tf "+n),o.push(l.text),o.push("ET"),o.push("Q"),t.stream=o.join(`
`),t},OffPushDown:function(e){var t=yh(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ln(zr.internal.getWidth(e))+" "+Ln(zr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:zr.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=zr.RadioButton.Circle.YesNormal,t.D[e]=zr.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=yh(e);t.scope=e.scope;var r=[],n=zr.internal.getWidth(e)<=zr.internal.getHeight(e)?zr.internal.getWidth(e)/4:zr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var o=zr.internal.Bezier_C,s=Number((n*o).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+af(zr.internal.getWidth(e)/2)+" "+af(zr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=yh(e);t.scope=e.scope;var r=[],n=zr.internal.getWidth(e)<=zr.internal.getHeight(e)?zr.internal.getWidth(e)/4:zr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var o=Number((2*n).toFixed(5)),s=Number((o*zr.internal.Bezier_C).toFixed(5)),u=Number((n*zr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+af(zr.internal.getWidth(e)/2)+" "+af(zr.internal.getHeight(e)/2)+" cm"),r.push(o+" 0 m"),r.push(o+" "+s+" "+s+" "+o+" 0 "+o+" c"),r.push("-"+s+" "+o+" -"+o+" "+s+" -"+o+" 0 c"),r.push("-"+o+" -"+s+" -"+s+" -"+o+" 0 -"+o+" c"),r.push(s+" -"+o+" "+o+" -"+s+" "+o+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+af(zr.internal.getWidth(e)/2)+" "+af(zr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+u+" "+u+" "+n+" 0 "+n+" c"),r.push("-"+u+" "+n+" -"+n+" "+u+" -"+n+" 0 c"),r.push("-"+n+" -"+u+" -"+u+" -"+n+" 0 -"+n+" c"),r.push(u+" -"+n+" "+n+" -"+u+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=yh(e);t.scope=e.scope;var r=[],n=zr.internal.getWidth(e)<=zr.internal.getHeight(e)?zr.internal.getWidth(e)/4:zr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var o=Number((2*n).toFixed(5)),s=Number((o*zr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+af(zr.internal.getWidth(e)/2)+" "+af(zr.internal.getHeight(e)/2)+" cm"),r.push(o+" 0 m"),r.push(o+" "+s+" "+s+" "+o+" 0 "+o+" c"),r.push("-"+s+" "+o+" -"+o+" "+s+" -"+o+" 0 c"),r.push("-"+o+" -"+s+" -"+s+" -"+o+" 0 -"+o+" c"),r.push(s+" -"+o+" "+o+" -"+s+" "+o+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:zr.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=zr.RadioButton.Cross.YesNormal,t.D[e]=zr.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=yh(e);t.scope=e.scope;var r=[],n=zr.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Ln(zr.internal.getWidth(e)-2)+" "+Ln(zr.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Ln(n.x1.x)+" "+Ln(n.x1.y)+" m"),r.push(Ln(n.x2.x)+" "+Ln(n.x2.y)+" l"),r.push(Ln(n.x4.x)+" "+Ln(n.x4.y)+" m"),r.push(Ln(n.x3.x)+" "+Ln(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=yh(e);t.scope=e.scope;var r=zr.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Ln(zr.internal.getWidth(e))+" "+Ln(zr.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Ln(zr.internal.getWidth(e)-2)+" "+Ln(zr.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Ln(r.x1.x)+" "+Ln(r.x1.y)+" m"),n.push(Ln(r.x2.x)+" "+Ln(r.x2.y)+" l"),n.push(Ln(r.x4.x)+" "+Ln(r.x4.y)+" m"),n.push(Ln(r.x3.x)+" "+Ln(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=yh(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ln(zr.internal.getWidth(e))+" "+Ln(zr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};zr.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=zr.internal.getWidth(e),r=zr.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},zr.internal.getWidth=function(e){var t=0;return Mi(e)==="object"&&(t=wL(e.Rect[2])),t},zr.internal.getHeight=function(e){var t=0;return Mi(e)==="object"&&(t=wL(e.Rect[3])),t};var Tte=Go.addField=function(e){if(Ete(this,e),!(e instanceof qc))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Go.AcroFormChoiceField=Q0,Go.AcroFormListBox=eg,Go.AcroFormComboBox=tg,Go.AcroFormEditBox=Yb,Go.AcroFormButton=Ga,Go.AcroFormPushButton=Jb,Go.AcroFormRadioButton=rg,Go.AcroFormCheckBox=Qb,Go.AcroFormTextField=Fp,Go.AcroFormPasswordField=e_,Go.AcroFormAppearance=zr,Go.AcroForm={ChoiceField:Q0,ListBox:eg,ComboBox:tg,EditBox:Yb,Button:Ga,PushButton:Jb,RadioButton:rg,CheckBox:Qb,TextField:Fp,PasswordField:e_,Appearance:zr},bn.AcroForm={ChoiceField:Q0,ListBox:eg,ComboBox:tg,EditBox:Yb,Button:Ga,PushButton:Jb,RadioButton:rg,CheckBox:Qb,TextField:Fp,PasswordField:e_,Appearance:zr};function jF(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(X,oe){var be,ge,De,Le,je,xe=t;if((oe=oe||t)==="RGBA"||X.data!==void 0&&X.data instanceof Uint8ClampedArray&&"height"in X&&"width"in X)return"RGBA";if(ie(X))for(je in r)for(De=r[je],be=0;be<De.length;be+=1){for(Le=!0,ge=0;ge<De[be].length;ge+=1)if(De[be][ge]!==void 0&&De[be][ge]!==X[ge]){Le=!1;break}if(Le===!0){xe=je;break}}else for(je in r)for(De=r[je],be=0;be<De.length;be+=1){for(Le=!0,ge=0;ge<De[be].length;ge+=1)if(De[be][ge]!==void 0&&De[be][ge]!==X.charCodeAt(ge)){Le=!1;break}if(Le===!0){xe=je;break}}return xe===t&&oe!==t&&(xe=oe),xe},o=function X(oe){for(var be=this.internal.write,ge=this.internal.putStream,De=(0,this.internal.getFilters)();De.indexOf("FlateEncode")!==-1;)De.splice(De.indexOf("FlateEncode"),1);oe.objectId=this.internal.newObject();var Le=[];if(Le.push({key:"Type",value:"/XObject"}),Le.push({key:"Subtype",value:"/Image"}),Le.push({key:"Width",value:oe.width}),Le.push({key:"Height",value:oe.height}),oe.colorSpace===z.INDEXED?Le.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(oe.palette.length/3-1)+" "+("sMask"in oe&&oe.sMask!==void 0?oe.objectId+2:oe.objectId+1)+" 0 R]"}):(Le.push({key:"ColorSpace",value:"/"+oe.colorSpace}),oe.colorSpace===z.DEVICE_CMYK&&Le.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Le.push({key:"BitsPerComponent",value:oe.bitsPerComponent}),"decodeParameters"in oe&&oe.decodeParameters!==void 0&&Le.push({key:"DecodeParms",value:"<<"+oe.decodeParameters+">>"}),"transparency"in oe&&Array.isArray(oe.transparency)){for(var je="",xe=0,Oe=oe.transparency.length;xe<Oe;xe++)je+=oe.transparency[xe]+" "+oe.transparency[xe]+" ";Le.push({key:"Mask",value:"["+je+"]"})}oe.sMask!==void 0&&Le.push({key:"SMask",value:oe.objectId+1+" 0 R"});var Ke=oe.filter!==void 0?["/"+oe.filter]:void 0;if(ge({data:oe.data,additionalKeyValues:Le,alreadyAppliedFilters:Ke,objectId:oe.objectId}),be("endobj"),"sMask"in oe&&oe.sMask!==void 0){var ht="/Predictor "+oe.predictor+" /Colors 1 /BitsPerComponent "+oe.bitsPerComponent+" /Columns "+oe.width,le={width:oe.width,height:oe.height,colorSpace:"DeviceGray",bitsPerComponent:oe.bitsPerComponent,decodeParameters:ht,data:oe.sMask};"filter"in oe&&(le.filter=oe.filter),X.call(this,le)}if(oe.colorSpace===z.INDEXED){var me=this.internal.newObject();ge({data:ne(new Uint8Array(oe.palette)),objectId:me}),be("endobj")}},s=function(){var X=this.internal.collections.addImage_images;for(var oe in X)o.call(this,X[oe])},u=function(){var X,oe=this.internal.collections.addImage_images,be=this.internal.write;for(var ge in oe)be("/I"+(X=oe[ge]).index,X.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",u))},f=function(){var X=this.internal.collections.addImage_images;return l.call(this),X},v=function(){return Object.keys(this.internal.collections.addImage_images).length},x=function(X){return typeof e["process"+X.toUpperCase()]=="function"},w=function(X){return Mi(X)==="object"&&X.nodeType===1},C=function(X,oe){if(X.nodeName==="IMG"&&X.hasAttribute("src")){var be=""+X.getAttribute("src");if(be.indexOf("data:image/")===0)return B1(unescape(be).split("base64,").pop());var ge=e.loadFile(be,!0);if(ge!==void 0)return ge}if(X.nodeName==="CANVAS"){if(X.width===0||X.height===0)throw new Error("Given canvas must have data. Canvas width: "+X.width+", height: "+X.height);var De;switch(oe){case"PNG":De="image/png";break;case"WEBP":De="image/webp";break;case"JPEG":case"JPG":default:De="image/jpeg"}return B1(X.toDataURL(De,1).split("base64,").pop())}},P=function(X){var oe=this.internal.collections.addImage_images;if(oe){for(var be in oe)if(X===oe[be].alias)return oe[be]}},O=function(X,oe,be){return X||oe||(X=-96,oe=-96),X<0&&(X=-1*be.width*72/X/this.internal.scaleFactor),oe<0&&(oe=-1*be.height*72/oe/this.internal.scaleFactor),X===0&&(X=oe*be.width/be.height),oe===0&&(oe=X*be.height/be.width),[X,oe]},I=function(X,oe,be,ge,De,Le){var je=O.call(this,be,ge,De),xe=this.internal.getCoordinateString,Oe=this.internal.getVerticalCoordinateString,Ke=f.call(this);if(be=je[0],ge=je[1],Ke[De.index]=De,Le){Le*=Math.PI/180;var ht=Math.cos(Le),le=Math.sin(Le),me=function(Ie){return Ie.toFixed(4)},we=[me(ht),me(le),me(-1*le),me(ht),0,0,"cm"]}this.internal.write("q"),Le?(this.internal.write([1,"0","0",1,xe(X),Oe(oe+ge),"cm"].join(" ")),this.internal.write(we.join(" ")),this.internal.write([xe(be),"0","0",xe(ge),"0","0","cm"].join(" "))):this.internal.write([xe(be),"0","0",xe(ge),xe(X),Oe(oe+ge),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+De.index+" Do"),this.internal.write("Q")},z=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var N=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},j=e.__addimage__.sHashCode=function(X){var oe,be,ge=0;if(typeof X=="string")for(be=X.length,oe=0;oe<be;oe++)ge=(ge<<5)-ge+X.charCodeAt(oe),ge|=0;else if(ie(X))for(be=X.byteLength/2,oe=0;oe<be;oe++)ge=(ge<<5)-ge+X[oe],ge|=0;return ge},V=e.__addimage__.validateStringAsBase64=function(X){(X=X||"").toString().trim();var oe=!0;return X.length===0&&(oe=!1),X.length%4!=0&&(oe=!1),/^[A-Za-z0-9+/]+$/.test(X.substr(0,X.length-2))===!1&&(oe=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(X.substr(-2))===!1&&(oe=!1),oe},W=e.__addimage__.extractImageFromDataUrl=function(X){var oe=(X=X||"").split("base64,"),be=null;if(oe.length===2){var ge=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(oe[0]);Array.isArray(ge)&&(be={mimeType:ge[1],charset:ge[2],data:oe[1]})}return be},re=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(X){return re()&&X instanceof ArrayBuffer};var ie=e.__addimage__.isArrayBufferView=function(X){return re()&&typeof Uint32Array<"u"&&(X instanceof Int8Array||X instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&X instanceof Uint8ClampedArray||X instanceof Int16Array||X instanceof Uint16Array||X instanceof Int32Array||X instanceof Uint32Array||X instanceof Float32Array||X instanceof Float64Array)},J=e.__addimage__.binaryStringToUint8Array=function(X){for(var oe=X.length,be=new Uint8Array(oe),ge=0;ge<oe;ge++)be[ge]=X.charCodeAt(ge);return be},ne=e.__addimage__.arrayBufferToBinaryString=function(X){for(var oe="",be=ie(X)?X:new Uint8Array(X),ge=0;ge<be.length;ge+=8192)oe+=String.fromCharCode.apply(null,be.subarray(ge,ge+8192));return oe};e.addImage=function(){var X,oe,be,ge,De,Le,je,xe,Oe;if(typeof arguments[1]=="number"?(oe=t,be=arguments[1],ge=arguments[2],De=arguments[3],Le=arguments[4],je=arguments[5],xe=arguments[6],Oe=arguments[7]):(oe=arguments[1],be=arguments[2],ge=arguments[3],De=arguments[4],Le=arguments[5],je=arguments[6],xe=arguments[7],Oe=arguments[8]),Mi(X=arguments[0])==="object"&&!w(X)&&"imageData"in X){var Ke=X;X=Ke.imageData,oe=Ke.format||oe||t,be=Ke.x||be||0,ge=Ke.y||ge||0,De=Ke.w||Ke.width||De,Le=Ke.h||Ke.height||Le,je=Ke.alias||je,xe=Ke.compression||xe,Oe=Ke.rotation||Ke.angle||Oe}var ht=this.internal.getFilters();if(xe===void 0&&ht.indexOf("FlateEncode")!==-1&&(xe="SLOW"),isNaN(be)||isNaN(ge))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var le=Ae.call(this,X,oe,je,xe);return I.call(this,be,ge,De,Le,le,Oe),this};var Ae=function(X,oe,be,ge){var De,Le,je;if(typeof X=="string"&&n(X)===t){X=unescape(X);var xe=Z(X,!1);(xe!==""||(xe=e.loadFile(X,!0))!==void 0)&&(X=xe)}if(w(X)&&(X=C(X,oe)),oe=n(X,oe),!x(oe))throw new Error("addImage does not support files of type '"+oe+"', please ensure that a plugin for '"+oe+"' support is added.");if(((je=be)==null||je.length===0)&&(be=function(Oe){return typeof Oe=="string"||ie(Oe)?j(Oe):ie(Oe.data)?j(Oe.data):null}(X)),(De=P.call(this,be))||(re()&&(X instanceof Uint8Array||oe==="RGBA"||(Le=X,X=J(X))),De=this["process"+oe.toUpperCase()](X,v.call(this),be,function(Oe){return Oe&&typeof Oe=="string"&&(Oe=Oe.toUpperCase()),Oe in e.image_compression?Oe:N.NONE}(ge),Le)),!De)throw new Error("An unknown error occurred whilst processing the image.");return De},Z=e.__addimage__.convertBase64ToBinaryString=function(X,oe){var be;oe=typeof oe!="boolean"||oe;var ge,De="";if(typeof X=="string"){ge=(be=W(X))!==null?be.data:X;try{De=B1(ge)}catch(Le){if(oe)throw V(ge)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Le.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return De};e.getImageProperties=function(X){var oe,be,ge="";if(w(X)&&(X=C(X)),typeof X=="string"&&n(X)===t&&((ge=Z(X,!1))===""&&(ge=e.loadFile(X)||""),X=ge),be=n(X),!x(be))throw new Error("addImage does not support files of type '"+be+"', please ensure that a plugin for '"+be+"' support is added.");if(!re()||X instanceof Uint8Array||(X=J(X)),!(oe=this["process"+be.toUpperCase()](X)))throw new Error("An unknown error occurred whilst processing the image");return oe.fileType=be,oe}})(bn.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};bn.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,o,s,u=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(r.objId),v=r.pageContext.annotations,x=!1,w=0;w<v.length&&!x;w++)switch((n=v[w]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(x=!0);break;case"reference":case"text":case"freetext":x=!0}if(x!=0){this.internal.write("/Annots [");for(var C=0;C<v.length;C++){n=v[C];var P=this.internal.pdfEscape,O=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var I=this.internal.newAdditionalObject(),z=this.internal.newAdditionalObject(),N=this.internal.getEncryptor(I.objId),j=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(o="/Rect ["+u(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+u(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+P(N(n.contents))+")",s+=" /Popup "+z.objId+" 0 R",s+=" /P "+f.objId+" 0 R",s+=" /T ("+P(N(j))+") >>",I.content=s;var V=I.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(o="/Rect ["+u(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+u(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+V,n.open&&(s+=" /Open true"),s+=" >>",z.content=s,this.internal.write(I.objId,"0 R",z.objId,"0 R");break;case"freetext":o="/Rect ["+u(n.bounds.x)+" "+l(n.bounds.y)+" "+u(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var W=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+o+"/Contents ("+P(O(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+W+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var re=this.annotations._nameMap[n.options.name];n.options.pageNumber=re.page,n.options.top=re.y}else n.options.top||(n.options.top=0);if(o="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /A <</S /URI /URI ("+P(O(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var ie=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+ie+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,o,s,u){var l=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,v=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:f(r),y:v(n),w:f(r+o),h:v(n+s)},options:u,type:"link"})},e.textWithLink=function(r,n,o,s){var u,l,f=this.getTextWidth(r),v=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var x=this.splitTextToSize(r,l).length;u=Math.ceil(v*x)}else l=f,u=v;return this.text(r,n,o,s),o+=.2*v,s.align==="center"&&(n-=f/2),s.align==="right"&&(n-=f),this.link(n,o-v,l,u,s),f},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(bn.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},o=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(I){return t[I.charCodeAt(0)]!==void 0},u=e.__arabicParser__.isArabicLetter=function(I){return typeof I=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(I)},l=e.__arabicParser__.isArabicEndLetter=function(I){return u(I)&&s(I)&&t[I.charCodeAt(0)].length<=2},f=e.__arabicParser__.isArabicAlfLetter=function(I){return u(I)&&o.indexOf(I.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(I){return u(I)&&s(I)&&t[I.charCodeAt(0)].length>=1};var v=e.__arabicParser__.arabicLetterHasFinalForm=function(I){return u(I)&&s(I)&&t[I.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(I){return u(I)&&s(I)&&t[I.charCodeAt(0)].length>=3};var x=e.__arabicParser__.arabicLetterHasMedialForm=function(I){return u(I)&&s(I)&&t[I.charCodeAt(0)].length==4},w=e.__arabicParser__.resolveLigatures=function(I){var z=0,N=r,j="",V=0;for(z=0;z<I.length;z+=1)N[I.charCodeAt(z)]!==void 0?(V++,typeof(N=N[I.charCodeAt(z)])=="number"&&(j+=String.fromCharCode(N),N=r,V=0),z===I.length-1&&(N=r,j+=I.charAt(z-(V-1)),z-=V-1,V=0)):(N=r,j+=I.charAt(z-V),z-=V,V=0);return j};e.__arabicParser__.isArabicDiacritic=function(I){return I!==void 0&&n[I.charCodeAt(0)]!==void 0};var C=e.__arabicParser__.getCorrectForm=function(I,z,N){return u(I)?s(I)===!1?-1:!v(I)||!u(z)&&!u(N)||!u(N)&&l(z)||l(I)&&!u(z)||l(I)&&f(z)||l(I)&&l(z)?0:x(I)&&u(z)&&!l(z)&&u(N)&&v(N)?3:l(I)||!u(N)?1:2:-1},P=function(I){var z=0,N=0,j=0,V="",W="",re="",ie=(I=I||"").split("\\s+"),J=[];for(z=0;z<ie.length;z+=1){for(J.push(""),N=0;N<ie[z].length;N+=1)V=ie[z][N],W=ie[z][N-1],re=ie[z][N+1],u(V)?(j=C(V,W,re),J[z]+=j!==-1?String.fromCharCode(t[V.charCodeAt(0)][j]):V):J[z]+=V;J[z]=w(J[z])}return J.join(" ")},O=e.__arabicParser__.processArabic=e.processArabic=function(){var I,z=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,N=[];if(Array.isArray(z)){var j=0;for(N=[],j=0;j<z.length;j+=1)Array.isArray(z[j])?N.push([P(z[j][0]),z[j][1],z[j][2]]):N.push([P(z[j])]);I=N}else I=P(z);return typeof arguments[0]=="string"?I:(arguments[0].text=I,arguments[0])};e.events.push(["preProcessText",O])}(bn.API),bn.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var o=300;Object.defineProperty(this,"height",{get:function(){return o},set:function(l){o=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=o+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(l){u=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var o;if((r=r||"2d")!=="2d")return null;for(o in n)this.pdf.context2d.hasOwnProperty(o)&&(this.pdf.context2d[o]=n[o]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(bn.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),o.call(this))},o=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(I){f=I}});var v=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return v},set:function(I){v=I}});var x=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return x},set:function(I){x=I}});var w=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return w},set:function(I){w=I}});var C=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return C},set:function(I){C=I}});var P=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return P},set:function(I){P=I}});var O=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return O},set:function(I){O=I}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(f){return n.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},e.getTextDimensions=function(f,v){n.call(this);var x=(v=v||{}).fontSize||this.getFontSize(),w=v.font||this.getFont(),C=v.scaleFactor||this.internal.scaleFactor,P=0,O=0,I=0,z=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var N=v.maxWidth;N>0?typeof f=="string"?f=this.splitTextToSize(f,N):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(V,W){return V.concat(z.splitTextToSize(W,N))},[])):f=Array.isArray(f)?f:[f];for(var j=0;j<f.length;j++)P<(I=this.getStringUnitWidth(f[j],{font:w})*x)&&(P=I);return P!==0&&(O=f.length),{w:P/=C,h:Math.max((O*x*this.getLineHeightFactor()-x*(this.getLineHeightFactor()-1))/C,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var f=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=e.cell=function(){var f;f=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var v=this.internal.__cell__.lastCell,x=this.internal.__cell__.padding,w=this.internal.__cell__.margins||t,C=this.internal.__cell__.tableHeaderRow,P=this.internal.__cell__.printHeaders;return v.lineNumber!==void 0&&(v.lineNumber===f.lineNumber?(f.x=(v.x||0)+(v.width||0),f.y=v.y||0):v.y+v.height+f.height+w.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=w.top,P&&C&&(this.printHeaderRow(f.lineNumber,!0),f.y+=C[0].height)):f.y=v.y+v.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,r===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-x,f.y+x,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+x,{align:"center",baseline:"top",maxWidth:f.width-x-x}):this.text(f.text,f.x+x,f.y+x,{align:"left",baseline:"top",maxWidth:f.width-x-x})),this.internal.__cell__.lastCell=f,this};e.table=function(f,v,x,w,C){if(n.call(this),!x)throw new Error("No data for PDF table.");var P,O,I,z,N=[],j=[],V=[],W={},re={},ie=[],J=[],ne=(C=C||{}).autoSize||!1,Ae=C.printHeaders!==!1,Z=C.css&&C.css["font-size"]!==void 0?16*C.css["font-size"]:C.fontSize||12,X=C.margins||Object.assign({width:this.getPageWidth()},t),oe=typeof C.padding=="number"?C.padding:3,be=C.headerBackgroundColor||"#c8c8c8",ge=C.headerTextColor||"#000";if(o.call(this),this.internal.__cell__.printHeaders=Ae,this.internal.__cell__.margins=X,this.internal.__cell__.table_font_size=Z,this.internal.__cell__.padding=oe,this.internal.__cell__.headerBackgroundColor=be,this.internal.__cell__.headerTextColor=ge,this.setFontSize(Z),w==null)j=N=Object.keys(x[0]),V=N.map(function(){return"left"});else if(Array.isArray(w)&&Mi(w[0])==="object")for(N=w.map(function(Ke){return Ke.name}),j=w.map(function(Ke){return Ke.prompt||Ke.name||""}),V=w.map(function(Ke){return Ke.align||"left"}),P=0;P<w.length;P+=1)re[w[P].name]=w[P].width*(19.049976/25.4);else Array.isArray(w)&&typeof w[0]=="string"&&(j=N=w,V=N.map(function(){return"left"}));if(ne||Array.isArray(w)&&typeof w[0]=="string")for(P=0;P<N.length;P+=1){for(W[z=N[P]]=x.map(function(Ke){return Ke[z]}),this.setFont(void 0,"bold"),ie.push(this.getTextDimensions(j[P],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),O=W[z],this.setFont(void 0,"normal"),I=0;I<O.length;I+=1)ie.push(this.getTextDimensions(O[I],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);re[z]=Math.max.apply(null,ie)+oe+oe,ie=[]}if(Ae){var De={};for(P=0;P<N.length;P+=1)De[N[P]]={},De[N[P]].text=j[P],De[N[P]].align=V[P];var Le=l.call(this,De,re);J=N.map(function(Ke){return new s(f,v,re[Ke],Le,De[Ke].text,void 0,De[Ke].align)}),this.setTableHeaderRow(J),this.printHeaderRow(1,!1)}var je=w.reduce(function(Ke,ht){return Ke[ht.name]=ht.align,Ke},{});for(P=0;P<x.length;P+=1){"rowStart"in C&&C.rowStart instanceof Function&&C.rowStart({row:P,data:x[P]},this);var xe=l.call(this,x[P],re);for(I=0;I<N.length;I+=1){var Oe=x[P][N[I]];"cellStart"in C&&C.cellStart instanceof Function&&C.cellStart({row:P,col:I,data:Oe},this),u.call(this,new s(f,v,re[N[I]],xe,Oe,P+2,je[N[I]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=v,this};var l=function(f,v){var x=this.internal.__cell__.padding,w=this.internal.__cell__.table_font_size,C=this.internal.scaleFactor;return Object.keys(f).map(function(P){var O=f[P];return this.splitTextToSize(O.hasOwnProperty("text")?O.text:O,v[P]-x-x)},this).map(function(P){return this.getLineHeightFactor()*P.length*w/C+x+x},this).reduce(function(P,O){return Math.max(P,O)},0)};e.setTableHeaderRow=function(f){n.call(this),this.internal.__cell__.tableHeaderRow=f},e.printHeaderRow=function(f,v){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var x;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var w=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(w[0],w[1],w[2],w[3],void 0,-1)}this.setFont(void 0,"bold");for(var C=[],P=0;P<this.internal.__cell__.tableHeaderRow.length;P+=1){x=this.internal.__cell__.tableHeaderRow[P].clone(),v&&(x.y=this.internal.__cell__.margins.top||0,C.push(x)),x.lineNumber=f;var O=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,x),this.setTextColor(O)}C.length>0&&this.setTableHeaderRow(C),this.setFont(void 0,"normal"),r=!1}}(bn.API);var UF={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},VF=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],$C=jF(VF),qF=[100,200,300,400,500,600,700,800,900],Pte=jF(qF);function BC(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return UF[s=s||"normal"]?s:"normal"}(e.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(e.weight),o=function(s){return typeof $C[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:o,src:e.src||[],ref:e.ref||{name:t,style:[o,r,n].join(" ")}}}function SL(e,t,r,n){var o;for(o=r;o>=0&&o<t.length;o+=n)if(e[t[o]])return e[t[o]];for(o=r;o>=0&&o<t.length;o-=n)if(e[t[o]])return e[t[o]]}var kte={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},CL={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function AL(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Ite(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",o=Object.assign({},kte,r.genericFontFamilies||{}),s=null,u=null,l=0;l<t.length;++l)if(o[(s=BC(t[l])).family]&&(s.family=o[s.family]),e.hasOwnProperty(s.family)){u=e[s.family];break}if(!(u=u||e[n]))throw new Error("Could not find a font-family for the rule '"+AL(s)+"' and default family '"+n+"'.");if(u=function(f,v){if(v[f])return v[f];var x=$C[f],w=x<=$C.normal?-1:1,C=SL(v,VF,x,w);if(!C)throw new Error("Could not find a matching font-stretch value for "+f);return C}(s.stretch,u),u=function(f,v){if(v[f])return v[f];for(var x=UF[f],w=0;w<x.length;++w)if(v[x[w]])return v[x[w]];throw new Error("Could not find a matching font-style for "+f)}(s.style,u),!(u=function(f,v){if(v[f])return v[f];if(f===400&&v[500])return v[500];if(f===500&&v[400])return v[400];var x=Pte[f],w=SL(v,qF,x,f<400?-1:1);if(!w)throw new Error("Could not find a matching font-weight for value "+f);return w}(s.weight,u)))throw new Error("Failed to resolve a font for the rule '"+AL(s)+"'.");return u}function EL(e){return e.trimLeft()}function Lte(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function Mte(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var yb,TL,PL,KS=["times"];(function(e){var t,r,n,o,s,u,l,f,v,x=function(le){return le=le||{},this.isStrokeTransparent=le.isStrokeTransparent||!1,this.strokeOpacity=le.strokeOpacity||1,this.strokeStyle=le.strokeStyle||"#000000",this.fillStyle=le.fillStyle||"#000000",this.isFillTransparent=le.isFillTransparent||!1,this.fillOpacity=le.fillOpacity||1,this.font=le.font||"10px sans-serif",this.textBaseline=le.textBaseline||"alphabetic",this.textAlign=le.textAlign||"left",this.lineWidth=le.lineWidth||1,this.lineJoin=le.lineJoin||"miter",this.lineCap=le.lineCap||"butt",this.path=le.path||[],this.transform=le.transform!==void 0?le.transform.clone():new f,this.globalCompositeOperation=le.globalCompositeOperation||"normal",this.globalAlpha=le.globalAlpha||1,this.clip_path=le.clip_path||[],this.currentPoint=le.currentPoint||new u,this.miterLimit=le.miterLimit||10,this.lastPoint=le.lastPoint||new u,this.lineDashOffset=le.lineDashOffset||0,this.lineDash=le.lineDash||[],this.margin=le.margin||[0,0,0,0],this.prevPageLastElemOffset=le.prevPageLastElemOffset||0,this.ignoreClearRect=typeof le.ignoreClearRect!="boolean"||le.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new w(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,o=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,u=this.internal.Point,l=this.internal.Rectangle,f=this.internal.Matrix,v=new x}]);var w=function(le){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var me=le;Object.defineProperty(this,"pdf",{get:function(){return me}});var we=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return we},set:function(ct){we=!!ct}});var Ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Ie},set:function(ct){Ie=!!ct}});var Me=0;Object.defineProperty(this,"posX",{get:function(){return Me},set:function(ct){isNaN(ct)||(Me=ct)}});var tt=0;Object.defineProperty(this,"posY",{get:function(){return tt},set:function(ct){isNaN(ct)||(tt=ct)}}),Object.defineProperty(this,"margin",{get:function(){return v.margin},set:function(ct){var de;typeof ct=="number"?de=[ct,ct,ct,ct]:((de=new Array(4))[0]=ct[0],de[1]=ct.length>=2?ct[1]:de[0],de[2]=ct.length>=3?ct[2]:de[0],de[3]=ct.length>=4?ct[3]:de[1]),v.margin=de}});var Ue=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ue},set:function(ct){Ue=ct}});var qe=0;Object.defineProperty(this,"lastBreak",{get:function(){return qe},set:function(ct){qe=ct}});var lt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return lt},set:function(ct){lt=ct}}),Object.defineProperty(this,"ctx",{get:function(){return v},set:function(ct){ct instanceof x&&(v=ct)}}),Object.defineProperty(this,"path",{get:function(){return v.path},set:function(ct){v.path=ct}});var pt=[];Object.defineProperty(this,"ctxStack",{get:function(){return pt},set:function(ct){pt=ct}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ct){var de;de=C(ct),this.ctx.fillStyle=de.style,this.ctx.isFillTransparent=de.a===0,this.ctx.fillOpacity=de.a,this.pdf.setFillColor(de.r,de.g,de.b,{a:de.a}),this.pdf.setTextColor(de.r,de.g,de.b,{a:de.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ct){var de=C(ct);this.ctx.strokeStyle=de.style,this.ctx.isStrokeTransparent=de.a===0,this.ctx.strokeOpacity=de.a,de.a===0?this.pdf.setDrawColor(255,255,255):(de.a,this.pdf.setDrawColor(de.r,de.g,de.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ct){["butt","round","square"].indexOf(ct)!==-1&&(this.ctx.lineCap=ct,this.pdf.setLineCap(ct))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ct){isNaN(ct)||(this.ctx.lineWidth=ct,this.pdf.setLineWidth(ct))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ct){["bevel","round","miter"].indexOf(ct)!==-1&&(this.ctx.lineJoin=ct,this.pdf.setLineJoin(ct))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ct){isNaN(ct)||(this.ctx.miterLimit=ct,this.pdf.setMiterLimit(ct))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ct){this.ctx.textBaseline=ct}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ct){["right","end","center","left","start"].indexOf(ct)!==-1&&(this.ctx.textAlign=ct)}});var Et=null;function St(ct,de){if(Et===null){var hr=function(Kt){var bt=[];return Object.keys(Kt).forEach(function(Pt){Kt[Pt].forEach(function(Ot){var Gt=null;switch(Ot){case"bold":Gt={family:Pt,weight:"bold"};break;case"italic":Gt={family:Pt,style:"italic"};break;case"bolditalic":Gt={family:Pt,weight:"bold",style:"italic"};break;case"":case"normal":Gt={family:Pt}}Gt!==null&&(Gt.ref={name:Pt,style:Ot},bt.push(Gt))})}),bt}(ct.getFontList());Et=function(Kt){for(var bt={},Pt=0;Pt<Kt.length;++Pt){var Ot=BC(Kt[Pt]),Gt=Ot.family,It=Ot.stretch,ir=Ot.style,vr=Ot.weight;bt[Gt]=bt[Gt]||{},bt[Gt][It]=bt[Gt][It]||{},bt[Gt][It][ir]=bt[Gt][It][ir]||{},bt[Gt][It][ir][vr]=Ot}return bt}(hr.concat(de))}return Et}var kt=null;Object.defineProperty(this,"fontFaces",{get:function(){return kt},set:function(ct){Et=null,kt=ct}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ct){var de;if(this.ctx.font=ct,(de=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ct))!==null){var hr=de[1],Kt=(de[2],de[3]),bt=de[4],Pt=(de[5],de[6]),Ot=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(bt)[2];bt=Math.floor(Ot==="px"?parseFloat(bt)*this.pdf.internal.scaleFactor:Ot==="em"?parseFloat(bt)*this.pdf.getFontSize():parseFloat(bt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(bt);var Gt=function(mt){var Rt,Lt,Br=[],rt=mt.trim();if(rt==="")return KS;if(rt in CL)return[CL[rt]];for(;rt!=="";){switch(Lt=null,Rt=(rt=EL(rt)).charAt(0)){case'"':case"'":Lt=Lte(rt.substring(1),Rt);break;default:Lt=Mte(rt)}if(Lt===null||(Br.push(Lt[0]),(rt=EL(Lt[1]))!==""&&rt.charAt(0)!==","))return KS;rt=rt.replace(/^,/,"")}return Br}(Pt);if(this.fontFaces){var It=Ite(St(this.pdf,this.fontFaces),Gt.map(function(mt){return{family:mt,stretch:"normal",weight:Kt,style:hr}}));this.pdf.setFont(It.ref.name,It.ref.style)}else{var ir="";(Kt==="bold"||parseInt(Kt,10)>=700||hr==="bold")&&(ir="bold"),hr==="italic"&&(ir+="italic"),ir.length===0&&(ir="normal");for(var vr="",Pr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Vr=0;Vr<Gt.length;Vr++){if(this.pdf.internal.getFont(Gt[Vr],ir,{noFallback:!0,disableWarning:!0})!==void 0){vr=Gt[Vr];break}if(ir==="bolditalic"&&this.pdf.internal.getFont(Gt[Vr],"bold",{noFallback:!0,disableWarning:!0})!==void 0)vr=Gt[Vr],ir="bold";else if(this.pdf.internal.getFont(Gt[Vr],"normal",{noFallback:!0,disableWarning:!0})!==void 0){vr=Gt[Vr],ir="normal";break}}if(vr===""){for(var Ze=0;Ze<Gt.length;Ze++)if(Pr[Gt[Ze]]){vr=Pr[Gt[Ze]];break}}vr=vr===""?"Times":vr,this.pdf.setFont(vr,ir)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ct){this.ctx.globalCompositeOperation=ct}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ct){this.ctx.globalAlpha=ct}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ct){this.ctx.lineDashOffset=ct,ht.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ct){this.ctx.lineDash=ct,ht.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ct){this.ctx.ignoreClearRect=!!ct}})};w.prototype.setLineDash=function(le){this.lineDash=le},w.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},w.prototype.fill=function(){W.call(this,"fill",!1)},w.prototype.stroke=function(){W.call(this,"stroke",!1)},w.prototype.beginPath=function(){this.path=[{type:"begin"}]},w.prototype.moveTo=function(le,me){if(isNaN(le)||isNaN(me))throw Zi.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var we=this.ctx.transform.applyToPoint(new u(le,me));this.path.push({type:"mt",x:we.x,y:we.y}),this.ctx.lastPoint=new u(le,me)},w.prototype.closePath=function(){var le=new u(0,0),me=0;for(me=this.path.length-1;me!==-1;me--)if(this.path[me].type==="begin"&&Mi(this.path[me+1])==="object"&&typeof this.path[me+1].x=="number"){le=new u(this.path[me+1].x,this.path[me+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(le.x,le.y)},w.prototype.lineTo=function(le,me){if(isNaN(le)||isNaN(me))throw Zi.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var we=this.ctx.transform.applyToPoint(new u(le,me));this.path.push({type:"lt",x:we.x,y:we.y}),this.ctx.lastPoint=new u(we.x,we.y)},w.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),W.call(this,null,!0)},w.prototype.quadraticCurveTo=function(le,me,we,Ie){if(isNaN(we)||isNaN(Ie)||isNaN(le)||isNaN(me))throw Zi.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Me=this.ctx.transform.applyToPoint(new u(we,Ie)),tt=this.ctx.transform.applyToPoint(new u(le,me));this.path.push({type:"qct",x1:tt.x,y1:tt.y,x:Me.x,y:Me.y}),this.ctx.lastPoint=new u(Me.x,Me.y)},w.prototype.bezierCurveTo=function(le,me,we,Ie,Me,tt){if(isNaN(Me)||isNaN(tt)||isNaN(le)||isNaN(me)||isNaN(we)||isNaN(Ie))throw Zi.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ue=this.ctx.transform.applyToPoint(new u(Me,tt)),qe=this.ctx.transform.applyToPoint(new u(le,me)),lt=this.ctx.transform.applyToPoint(new u(we,Ie));this.path.push({type:"bct",x1:qe.x,y1:qe.y,x2:lt.x,y2:lt.y,x:Ue.x,y:Ue.y}),this.ctx.lastPoint=new u(Ue.x,Ue.y)},w.prototype.arc=function(le,me,we,Ie,Me,tt){if(isNaN(le)||isNaN(me)||isNaN(we)||isNaN(Ie)||isNaN(Me))throw Zi.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(tt=!!tt,!this.ctx.transform.isIdentity){var Ue=this.ctx.transform.applyToPoint(new u(le,me));le=Ue.x,me=Ue.y;var qe=this.ctx.transform.applyToPoint(new u(0,we)),lt=this.ctx.transform.applyToPoint(new u(0,0));we=Math.sqrt(Math.pow(qe.x-lt.x,2)+Math.pow(qe.y-lt.y,2))}Math.abs(Me-Ie)>=2*Math.PI&&(Ie=0,Me=2*Math.PI),this.path.push({type:"arc",x:le,y:me,radius:we,startAngle:Ie,endAngle:Me,counterclockwise:tt})},w.prototype.arcTo=function(le,me,we,Ie,Me){throw new Error("arcTo not implemented.")},w.prototype.rect=function(le,me,we,Ie){if(isNaN(le)||isNaN(me)||isNaN(we)||isNaN(Ie))throw Zi.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(le,me),this.lineTo(le+we,me),this.lineTo(le+we,me+Ie),this.lineTo(le,me+Ie),this.lineTo(le,me),this.lineTo(le+we,me),this.lineTo(le,me)},w.prototype.fillRect=function(le,me,we,Ie){if(isNaN(le)||isNaN(me)||isNaN(we)||isNaN(Ie))throw Zi.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!P.call(this)){var Me={};this.lineCap!=="butt"&&(Me.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Me.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(le,me,we,Ie),this.fill(),Me.hasOwnProperty("lineCap")&&(this.lineCap=Me.lineCap),Me.hasOwnProperty("lineJoin")&&(this.lineJoin=Me.lineJoin)}},w.prototype.strokeRect=function(le,me,we,Ie){if(isNaN(le)||isNaN(me)||isNaN(we)||isNaN(Ie))throw Zi.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");O.call(this)||(this.beginPath(),this.rect(le,me,we,Ie),this.stroke())},w.prototype.clearRect=function(le,me,we,Ie){if(isNaN(le)||isNaN(me)||isNaN(we)||isNaN(Ie))throw Zi.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(le,me,we,Ie))},w.prototype.save=function(le){le=typeof le!="boolean"||le;for(var me=this.pdf.internal.getCurrentPageInfo().pageNumber,we=0;we<this.pdf.internal.getNumberOfPages();we++)this.pdf.setPage(we+1),this.pdf.internal.out("q");if(this.pdf.setPage(me),le){this.ctx.fontSize=this.pdf.internal.getFontSize();var Ie=new x(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Ie}},w.prototype.restore=function(le){le=typeof le!="boolean"||le;for(var me=this.pdf.internal.getCurrentPageInfo().pageNumber,we=0;we<this.pdf.internal.getNumberOfPages();we++)this.pdf.setPage(we+1),this.pdf.internal.out("Q");this.pdf.setPage(me),le&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},w.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var C=function(le){var me,we,Ie,Me;if(le.isCanvasGradient===!0&&(le=le.getColor()),!le)return{r:0,g:0,b:0,a:0,style:le};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(le))me=0,we=0,Ie=0,Me=0;else{var tt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(le);if(tt!==null)me=parseInt(tt[1]),we=parseInt(tt[2]),Ie=parseInt(tt[3]),Me=1;else if((tt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(le))!==null)me=parseInt(tt[1]),we=parseInt(tt[2]),Ie=parseInt(tt[3]),Me=parseFloat(tt[4]);else{if(Me=1,typeof le=="string"&&le.charAt(0)!=="#"){var Ue=new OF(le);le=Ue.ok?Ue.toHex():"#000000"}le.length===4?(me=le.substring(1,2),me+=me,we=le.substring(2,3),we+=we,Ie=le.substring(3,4),Ie+=Ie):(me=le.substring(1,3),we=le.substring(3,5),Ie=le.substring(5,7)),me=parseInt(me,16),we=parseInt(we,16),Ie=parseInt(Ie,16)}}return{r:me,g:we,b:Ie,a:Me,style:le}},P=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},O=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};w.prototype.fillText=function(le,me,we,Ie){if(isNaN(me)||isNaN(we)||typeof le!="string")throw Zi.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Ie=isNaN(Ie)?void 0:Ie,!P.call(this)){var Me=xe(this.ctx.transform.rotation),tt=this.ctx.transform.scaleX;oe.call(this,{text:le,x:me,y:we,scale:tt,angle:Me,align:this.textAlign,maxWidth:Ie})}},w.prototype.strokeText=function(le,me,we,Ie){if(isNaN(me)||isNaN(we)||typeof le!="string")throw Zi.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!O.call(this)){Ie=isNaN(Ie)?void 0:Ie;var Me=xe(this.ctx.transform.rotation),tt=this.ctx.transform.scaleX;oe.call(this,{text:le,x:me,y:we,scale:tt,renderingMode:"stroke",angle:Me,align:this.textAlign,maxWidth:Ie})}},w.prototype.measureText=function(le){if(typeof le!="string")throw Zi.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var me=this.pdf,we=this.pdf.internal.scaleFactor,Ie=me.internal.getFontSize(),Me=me.getStringUnitWidth(le)*Ie/me.internal.scaleFactor,tt=function(Ue){var qe=(Ue=Ue||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return qe}}),this};return new tt({width:Me*=Math.round(96*we/72*1e4)/1e4})},w.prototype.scale=function(le,me){if(isNaN(le)||isNaN(me))throw Zi.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var we=new f(le,0,0,me,0,0);this.ctx.transform=this.ctx.transform.multiply(we)},w.prototype.rotate=function(le){if(isNaN(le))throw Zi.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var me=new f(Math.cos(le),Math.sin(le),-Math.sin(le),Math.cos(le),0,0);this.ctx.transform=this.ctx.transform.multiply(me)},w.prototype.translate=function(le,me){if(isNaN(le)||isNaN(me))throw Zi.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var we=new f(1,0,0,1,le,me);this.ctx.transform=this.ctx.transform.multiply(we)},w.prototype.transform=function(le,me,we,Ie,Me,tt){if(isNaN(le)||isNaN(me)||isNaN(we)||isNaN(Ie)||isNaN(Me)||isNaN(tt))throw Zi.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ue=new f(le,me,we,Ie,Me,tt);this.ctx.transform=this.ctx.transform.multiply(Ue)},w.prototype.setTransform=function(le,me,we,Ie,Me,tt){le=isNaN(le)?1:le,me=isNaN(me)?0:me,we=isNaN(we)?0:we,Ie=isNaN(Ie)?1:Ie,Me=isNaN(Me)?0:Me,tt=isNaN(tt)?0:tt,this.ctx.transform=new f(le,me,we,Ie,Me,tt)};var I=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};w.prototype.drawImage=function(le,me,we,Ie,Me,tt,Ue,qe,lt){var pt=this.pdf.getImageProperties(le),Et=1,St=1,kt=1,ct=1;Ie!==void 0&&qe!==void 0&&(kt=qe/Ie,ct=lt/Me,Et=pt.width/Ie*qe/Ie,St=pt.height/Me*lt/Me),tt===void 0&&(tt=me,Ue=we,me=0,we=0),Ie!==void 0&&qe===void 0&&(qe=Ie,lt=Me),Ie===void 0&&qe===void 0&&(qe=pt.width,lt=pt.height);for(var de,hr=this.ctx.transform.decompose(),Kt=xe(hr.rotate.shx),bt=new f,Pt=(bt=(bt=(bt=bt.multiply(hr.translate)).multiply(hr.skew)).multiply(hr.scale)).applyToRectangle(new l(tt-me*kt,Ue-we*ct,Ie*Et,Me*St)),Ot=z.call(this,Pt),Gt=[],It=0;It<Ot.length;It+=1)Gt.indexOf(Ot[It])===-1&&Gt.push(Ot[It]);if(V(Gt),this.autoPaging)for(var ir=Gt[0],vr=Gt[Gt.length-1],Pr=ir;Pr<vr+1;Pr++){this.pdf.setPage(Pr);var Vr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ze=Pr===1?this.posY+this.margin[0]:this.margin[0],mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Rt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Lt=Pr===1?0:mt+(Pr-2)*Rt;if(this.ctx.clip_path.length!==0){var Br=this.path;de=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(de,this.posX+this.margin[3],-Lt+Ze+this.ctx.prevPageLastElemOffset),re.call(this,"fill",!0),this.path=Br}var rt=JSON.parse(JSON.stringify(Pt));rt=j([rt],this.posX+this.margin[3],-Lt+Ze+this.ctx.prevPageLastElemOffset)[0];var Qt=(Pr>ir||Pr<vr)&&I.call(this);Qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Vr,Rt,null).clip().discardPath()),this.pdf.addImage(le,"JPEG",rt.x,rt.y,rt.w,rt.h,null,null,Kt),Qt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(le,"JPEG",Pt.x,Pt.y,Pt.w,Pt.h,null,null,Kt)};var z=function(le,me,we){var Ie=[];me=me||this.pdf.internal.pageSize.width,we=we||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Me=this.posY+this.ctx.prevPageLastElemOffset;switch(le.type){default:case"mt":case"lt":Ie.push(Math.floor((le.y+Me)/we)+1);break;case"arc":Ie.push(Math.floor((le.y+Me-le.radius)/we)+1),Ie.push(Math.floor((le.y+Me+le.radius)/we)+1);break;case"qct":var tt=Oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,le.x1,le.y1,le.x,le.y);Ie.push(Math.floor((tt.y+Me)/we)+1),Ie.push(Math.floor((tt.y+tt.h+Me)/we)+1);break;case"bct":var Ue=Ke(this.ctx.lastPoint.x,this.ctx.lastPoint.y,le.x1,le.y1,le.x2,le.y2,le.x,le.y);Ie.push(Math.floor((Ue.y+Me)/we)+1),Ie.push(Math.floor((Ue.y+Ue.h+Me)/we)+1);break;case"rect":Ie.push(Math.floor((le.y+Me)/we)+1),Ie.push(Math.floor((le.y+le.h+Me)/we)+1)}for(var qe=0;qe<Ie.length;qe+=1)for(;this.pdf.internal.getNumberOfPages()<Ie[qe];)N.call(this);return Ie},N=function(){var le=this.fillStyle,me=this.strokeStyle,we=this.font,Ie=this.lineCap,Me=this.lineWidth,tt=this.lineJoin;this.pdf.addPage(),this.fillStyle=le,this.strokeStyle=me,this.font=we,this.lineCap=Ie,this.lineWidth=Me,this.lineJoin=tt},j=function(le,me,we){for(var Ie=0;Ie<le.length;Ie++)switch(le[Ie].type){case"bct":le[Ie].x2+=me,le[Ie].y2+=we;case"qct":le[Ie].x1+=me,le[Ie].y1+=we;case"mt":case"lt":case"arc":default:le[Ie].x+=me,le[Ie].y+=we}return le},V=function(le){return le.sort(function(me,we){return me-we})},W=function(le,me){for(var we,Ie,Me=this.fillStyle,tt=this.strokeStyle,Ue=this.lineCap,qe=this.lineWidth,lt=Math.abs(qe*this.ctx.transform.scaleX),pt=this.lineJoin,Et=JSON.parse(JSON.stringify(this.path)),St=JSON.parse(JSON.stringify(this.path)),kt=[],ct=0;ct<St.length;ct++)if(St[ct].x!==void 0)for(var de=z.call(this,St[ct]),hr=0;hr<de.length;hr+=1)kt.indexOf(de[hr])===-1&&kt.push(de[hr]);for(var Kt=0;Kt<kt.length;Kt++)for(;this.pdf.internal.getNumberOfPages()<kt[Kt];)N.call(this);if(V(kt),this.autoPaging)for(var bt=kt[0],Pt=kt[kt.length-1],Ot=bt;Ot<Pt+1;Ot++){this.pdf.setPage(Ot),this.fillStyle=Me,this.strokeStyle=tt,this.lineCap=Ue,this.lineWidth=lt,this.lineJoin=pt;var Gt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],It=Ot===1?this.posY+this.margin[0]:this.margin[0],ir=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Pr=Ot===1?0:ir+(Ot-2)*vr;if(this.ctx.clip_path.length!==0){var Vr=this.path;we=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(we,this.posX+this.margin[3],-Pr+It+this.ctx.prevPageLastElemOffset),re.call(this,le,!0),this.path=Vr}if(Ie=JSON.parse(JSON.stringify(Et)),this.path=j(Ie,this.posX+this.margin[3],-Pr+It+this.ctx.prevPageLastElemOffset),me===!1||Ot===0){var Ze=(Ot>bt||Ot<Pt)&&I.call(this);Ze&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Gt,vr,null).clip().discardPath()),re.call(this,le,me),Ze&&this.pdf.restoreGraphicsState()}this.lineWidth=qe}else this.lineWidth=lt,re.call(this,le,me),this.lineWidth=qe;this.path=Et},re=function(le,me){if((le!=="stroke"||me||!O.call(this))&&(le==="stroke"||me||!P.call(this))){for(var we,Ie,Me=[],tt=this.path,Ue=0;Ue<tt.length;Ue++){var qe=tt[Ue];switch(qe.type){case"begin":Me.push({begin:!0});break;case"close":Me.push({close:!0});break;case"mt":Me.push({start:qe,deltas:[],abs:[]});break;case"lt":var lt=Me.length;if(tt[Ue-1]&&!isNaN(tt[Ue-1].x)&&(we=[qe.x-tt[Ue-1].x,qe.y-tt[Ue-1].y],lt>0)){for(;lt>=0;lt--)if(Me[lt-1].close!==!0&&Me[lt-1].begin!==!0){Me[lt-1].deltas.push(we),Me[lt-1].abs.push(qe);break}}break;case"bct":we=[qe.x1-tt[Ue-1].x,qe.y1-tt[Ue-1].y,qe.x2-tt[Ue-1].x,qe.y2-tt[Ue-1].y,qe.x-tt[Ue-1].x,qe.y-tt[Ue-1].y],Me[Me.length-1].deltas.push(we);break;case"qct":var pt=tt[Ue-1].x+2/3*(qe.x1-tt[Ue-1].x),Et=tt[Ue-1].y+2/3*(qe.y1-tt[Ue-1].y),St=qe.x+2/3*(qe.x1-qe.x),kt=qe.y+2/3*(qe.y1-qe.y),ct=qe.x,de=qe.y;we=[pt-tt[Ue-1].x,Et-tt[Ue-1].y,St-tt[Ue-1].x,kt-tt[Ue-1].y,ct-tt[Ue-1].x,de-tt[Ue-1].y],Me[Me.length-1].deltas.push(we);break;case"arc":Me.push({deltas:[],abs:[],arc:!0}),Array.isArray(Me[Me.length-1].abs)&&Me[Me.length-1].abs.push(qe)}}Ie=me?null:le==="stroke"?"stroke":"fill";for(var hr=!1,Kt=0;Kt<Me.length;Kt++)if(Me[Kt].arc)for(var bt=Me[Kt].abs,Pt=0;Pt<bt.length;Pt++){var Ot=bt[Pt];Ot.type==="arc"?ne.call(this,Ot.x,Ot.y,Ot.radius,Ot.startAngle,Ot.endAngle,Ot.counterclockwise,void 0,me,!hr):be.call(this,Ot.x,Ot.y),hr=!0}else if(Me[Kt].close===!0)this.pdf.internal.out("h"),hr=!1;else if(Me[Kt].begin!==!0){var Gt=Me[Kt].start.x,It=Me[Kt].start.y;ge.call(this,Me[Kt].deltas,Gt,It),hr=!0}Ie&&Ae.call(this,Ie),me&&Z.call(this)}},ie=function(le){var me=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,we=me*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return le-we;case"top":return le+me-we;case"hanging":return le+me-2*we;case"middle":return le+me/2-we;case"ideographic":return le;case"alphabetic":default:return le}},J=function(le){return le+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};w.prototype.createLinearGradient=function(){var le=function(){};return le.colorStops=[],le.addColorStop=function(me,we){this.colorStops.push([me,we])},le.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},le.isCanvasGradient=!0,le},w.prototype.createPattern=function(){return this.createLinearGradient()},w.prototype.createRadialGradient=function(){return this.createLinearGradient()};var ne=function(le,me,we,Ie,Me,tt,Ue,qe,lt){for(var pt=Le.call(this,we,Ie,Me,tt),Et=0;Et<pt.length;Et++){var St=pt[Et];Et===0&&(lt?X.call(this,St.x1+le,St.y1+me):be.call(this,St.x1+le,St.y1+me)),De.call(this,le,me,St.x2,St.y2,St.x3,St.y3,St.x4,St.y4)}qe?Z.call(this):Ae.call(this,Ue)},Ae=function(le){switch(le){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Z=function(){this.pdf.clip(),this.pdf.discardPath()},X=function(le,me){this.pdf.internal.out(r(le)+" "+n(me)+" m")},oe=function(le){var me;switch(le.align){case"right":case"end":me="right";break;case"center":me="center";break;case"left":case"start":default:me="left"}var we=this.pdf.getTextDimensions(le.text),Ie=ie.call(this,le.y),Me=J.call(this,Ie)-we.h,tt=this.ctx.transform.applyToPoint(new u(le.x,Ie)),Ue=this.ctx.transform.decompose(),qe=new f;qe=(qe=(qe=qe.multiply(Ue.translate)).multiply(Ue.skew)).multiply(Ue.scale);for(var lt,pt,Et,St=this.ctx.transform.applyToRectangle(new l(le.x,Ie,we.w,we.h)),kt=qe.applyToRectangle(new l(le.x,Me,we.w,we.h)),ct=z.call(this,kt),de=[],hr=0;hr<ct.length;hr+=1)de.indexOf(ct[hr])===-1&&de.push(ct[hr]);if(V(de),this.autoPaging)for(var Kt=de[0],bt=de[de.length-1],Pt=Kt;Pt<bt+1;Pt++){this.pdf.setPage(Pt);var Ot=Pt===1?this.posY+this.margin[0]:this.margin[0],Gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],It=this.pdf.internal.pageSize.height-this.margin[2],ir=It-this.margin[0],vr=this.pdf.internal.pageSize.width-this.margin[1],Pr=vr-this.margin[3],Vr=Pt===1?0:Gt+(Pt-2)*ir;if(this.ctx.clip_path.length!==0){var Ze=this.path;lt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(lt,this.posX+this.margin[3],-1*Vr+Ot),re.call(this,"fill",!0),this.path=Ze}var mt=j([JSON.parse(JSON.stringify(kt))],this.posX+this.margin[3],-Vr+Ot+this.ctx.prevPageLastElemOffset)[0];le.scale>=.01&&(pt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pt*le.scale),Et=this.lineWidth,this.lineWidth=Et*le.scale);var Rt=this.autoPaging!=="text";if(Rt||mt.y+mt.h<=It){if(Rt||mt.y>=Ot&&mt.x<=vr){var Lt=Rt?le.text:this.pdf.splitTextToSize(le.text,le.maxWidth||vr-mt.x)[0],Br=j([JSON.parse(JSON.stringify(St))],this.posX+this.margin[3],-Vr+Ot+this.ctx.prevPageLastElemOffset)[0],rt=Rt&&(Pt>Kt||Pt<bt)&&I.call(this);rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pr,ir,null).clip().discardPath()),this.pdf.text(Lt,Br.x,Br.y,{angle:le.angle,align:me,renderingMode:le.renderingMode}),rt&&this.pdf.restoreGraphicsState()}}else mt.y<It&&(this.ctx.prevPageLastElemOffset+=It-mt.y);le.scale>=.01&&(this.pdf.setFontSize(pt),this.lineWidth=Et)}else le.scale>=.01&&(pt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pt*le.scale),Et=this.lineWidth,this.lineWidth=Et*le.scale),this.pdf.text(le.text,tt.x+this.posX,tt.y+this.posY,{angle:le.angle,align:me,renderingMode:le.renderingMode,maxWidth:le.maxWidth}),le.scale>=.01&&(this.pdf.setFontSize(pt),this.lineWidth=Et)},be=function(le,me,we,Ie){we=we||0,Ie=Ie||0,this.pdf.internal.out(r(le+we)+" "+n(me+Ie)+" l")},ge=function(le,me,we){return this.pdf.lines(le,me,we,null,null)},De=function(le,me,we,Ie,Me,tt,Ue,qe){this.pdf.internal.out([t(o(we+le)),t(s(Ie+me)),t(o(Me+le)),t(s(tt+me)),t(o(Ue+le)),t(s(qe+me)),"c"].join(" "))},Le=function(le,me,we,Ie){for(var Me=2*Math.PI,tt=Math.PI/2;me>we;)me-=Me;var Ue=Math.abs(we-me);Ue<Me&&Ie&&(Ue=Me-Ue);for(var qe=[],lt=Ie?-1:1,pt=me;Ue>1e-5;){var Et=pt+lt*Math.min(Ue,tt);qe.push(je.call(this,le,pt,Et)),Ue-=Math.abs(Et-pt),pt=Et}return qe},je=function(le,me,we){var Ie=(we-me)/2,Me=le*Math.cos(Ie),tt=le*Math.sin(Ie),Ue=Me,qe=-tt,lt=Ue*Ue+qe*qe,pt=lt+Ue*Me+qe*tt,Et=4/3*(Math.sqrt(2*lt*pt)-pt)/(Ue*tt-qe*Me),St=Ue-Et*qe,kt=qe+Et*Ue,ct=St,de=-kt,hr=Ie+me,Kt=Math.cos(hr),bt=Math.sin(hr);return{x1:le*Math.cos(me),y1:le*Math.sin(me),x2:St*Kt-kt*bt,y2:St*bt+kt*Kt,x3:ct*Kt-de*bt,y3:ct*bt+de*Kt,x4:le*Math.cos(we),y4:le*Math.sin(we)}},xe=function(le){return 180*le/Math.PI},Oe=function(le,me,we,Ie,Me,tt){var Ue=le+.5*(we-le),qe=me+.5*(Ie-me),lt=Me+.5*(we-Me),pt=tt+.5*(Ie-tt),Et=Math.min(le,Me,Ue,lt),St=Math.max(le,Me,Ue,lt),kt=Math.min(me,tt,qe,pt),ct=Math.max(me,tt,qe,pt);return new l(Et,kt,St-Et,ct-kt)},Ke=function(le,me,we,Ie,Me,tt,Ue,qe){var lt,pt,Et,St,kt,ct,de,hr,Kt,bt,Pt,Ot,Gt,It,ir=we-le,vr=Ie-me,Pr=Me-we,Vr=tt-Ie,Ze=Ue-Me,mt=qe-tt;for(pt=0;pt<41;pt++)Kt=(de=(Et=le+(lt=pt/40)*ir)+lt*((kt=we+lt*Pr)-Et))+lt*(kt+lt*(Me+lt*Ze-kt)-de),bt=(hr=(St=me+lt*vr)+lt*((ct=Ie+lt*Vr)-St))+lt*(ct+lt*(tt+lt*mt-ct)-hr),pt==0?(Pt=Kt,Ot=bt,Gt=Kt,It=bt):(Pt=Math.min(Pt,Kt),Ot=Math.min(Ot,bt),Gt=Math.max(Gt,Kt),It=Math.max(It,bt));return new l(Math.round(Pt),Math.round(Ot),Math.round(Gt-Pt),Math.round(It-Ot))},ht=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var le,me,we=(le=this.ctx.lineDash,me=this.ctx.lineDashOffset,JSON.stringify({lineDash:le,lineDashOffset:me}));this.prevLineDash!==we&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=we)}}})(bn.API),function(e){var t=function(s){var u,l,f,v,x,w,C,P,O,I;for(l=[],f=0,v=(s+=u="\0\0\0\0".slice(s.length%4||4)).length;v>f;f+=4)(x=(s.charCodeAt(f)<<24)+(s.charCodeAt(f+1)<<16)+(s.charCodeAt(f+2)<<8)+s.charCodeAt(f+3))!==0?(w=(x=((x=((x=((x=(x-(I=x%85))/85)-(O=x%85))/85)-(P=x%85))/85)-(C=x%85))/85)%85,l.push(w+33,C+33,P+33,O+33,I+33)):l.push(122);return function(z,N){for(var j=N;j>0;j--)z.pop()}(l,u.length),String.fromCharCode.apply(String,l)+"~>"},r=function(s){var u,l,f,v,x,w=String,C="length",P=255,O="charCodeAt",I="slice",z="replace";for(s[I](-2),s=s[I](0,-2)[z](/\s/g,"")[z]("z","!!!!!"),f=[],v=0,x=(s+=u="uuuuu"[I](s[C]%5||5))[C];x>v;v+=5)l=52200625*(s[O](v)-33)+614125*(s[O](v+1)-33)+7225*(s[O](v+2)-33)+85*(s[O](v+3)-33)+(s[O](v+4)-33),f.push(P&l>>24,P&l>>16,P&l>>8,P&l);return function(N,j){for(var V=j;V>0;V--)N.pop()}(f,u[C]),w.fromCharCode.apply(w,f)},n=function(s){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),u.test(s)===!1)return"";for(var l="",f=0;f<s.length;f+=2)l+=String.fromCharCode("0x"+(s[f]+s[f+1]));return l},o=function(s){for(var u=new Uint8Array(s.length),l=s.length;l--;)u[l]=s.charCodeAt(l);return s=(u=DC(u)).reduce(function(f,v){return f+String.fromCharCode(v)},"")};e.processDataByFilters=function(s,u){var l=0,f=s||"",v=[];for(typeof(u=u||[])=="string"&&(u=[u]),l=0;l<u.length;l+=1)switch(u[l]){case"ASCII85Decode":case"/ASCII85Decode":f=r(f),v.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=t(f),v.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=n(f),v.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=f.split("").map(function(x){return("0"+x.charCodeAt().toString(16)).slice(-2)}).join("")+">",v.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=o(f),v.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[l]+'" is not implemented')}return{data:f,reverseChain:v.reverse().join(" ")}}}(bn.API),function(e){e.loadFile=function(t,r,n){return function(o,s,u){s=s!==!1,u=typeof u=="function"?u:function(){};var l=void 0;try{l=function(f,v,x){var w=new XMLHttpRequest,C=0,P=function(O){var I=O.length,z=[],N=String.fromCharCode;for(C=0;C<I;C+=1)z.push(N(255&O.charCodeAt(C)));return z.join("")};if(w.open("GET",f,!v),w.overrideMimeType("text/plain; charset=x-user-defined"),v===!1&&(w.onload=function(){w.status===200?x(P(this.responseText)):x(void 0)}),w.send(null),v&&w.status===200)return P(w.responseText)}(o,s,u)}catch{}return l}(t,r,n)},e.loadImageFile=e.loadFile}(bn.API),function(e){function t(){return(vn.html2canvas?Promise.resolve(vn.html2canvas):TC(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))}).then(function(u){return u.default?u.default:u})}function r(){return(vn.DOMPurify?Promise.resolve(vn.DOMPurify):TC(()=>import("./purify.es-DZPxG8F7.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load dompurify: "+u))}).then(function(u){return u.default?u.default:u})}var n=function(u){var l=Mi(u);return l==="undefined"?"undefined":l==="string"||u instanceof String?"string":l==="number"||u instanceof Number?"number":l==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":l==="object"?"object":"unknown"},o=function(u,l){var f=document.createElement(u);for(var v in l.className&&(f.className=l.className),l.innerHTML&&l.dompurify&&(f.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)f.style[v]=l.style[v];return f},s=function u(l){var f=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),v=u.convert(Promise.resolve(),f);return v=(v=v.setProgress(1,u,1,[u])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(u,l){return u.__proto__=l||s.prototype,u},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(u,l){return this.then(function(){switch(l=l||function(f){switch(n(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(u)){case"string":return this.then(r).then(function(f){return this.set({src:o("div",{innerHTML:u,dompurify:f})})});case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}})},s.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function f(v,x){for(var w=v.nodeType===3?document.createTextNode(v.nodeValue):v.cloneNode(!1),C=v.firstChild;C;C=C.nextSibling)x!==!0&&C.nodeType===1&&C.nodeName==="SCRIPT"||w.appendChild(f(C,x));return v.nodeType===1&&(v.nodeName==="CANVAS"?(w.width=v.width,w.height=v.height,w.getContext("2d").drawImage(v,0,0)):v.nodeName!=="TEXTAREA"&&v.nodeName!=="SELECT"||(w.value=v.value),w.addEventListener("load",function(){w.scrollTop=v.scrollTop,w.scrollLeft=v.scrollLeft},!0)),w}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=o("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=o("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(o("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(t).then(function(l){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,l(this.prop.container,f)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(t).then(function(l){var f=this.opt.jsPDF,v=this.opt.fontFaces,x=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,w=Object.assign({async:!0,allowTaint:!0,scale:x,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete w.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=v,v)for(var C=0;C<v.length;++C){var P=v[C],O=P.src.find(function(I){return I.format==="truetype"});O&&f.addFont(O.url,P.ref.name,P.ref.style)}return w.windowHeight=w.windowHeight||0,w.windowHeight=w.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):w.windowHeight,f.context2d.save(!0),l(this.prop.container,w)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(u,l,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(u,l):this.outputPdf(u,l)},s.prototype.outputPdf=function(u,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(u,l)})},s.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}})},s.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(u){if(n(u)!=="object")return this;var l=Object.keys(u||{}).map(function(f){if(f in s.template.prop)return function(){this.prop[f]=u[f]};switch(f){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[f]=u[f]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(u,l){return this.then(function(){var f=u in s.template.prop?this.prop[u]:this.opt[u];return l?l(f):f})},s.prototype.setMargin=function(u){return this.then(function(){switch(n(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u}).then(this.setPageSize)},s.prototype.setPageSize=function(u){function l(f,v){return Math.floor(f*v/72*96)}return this.then(function(){(u=u||bn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:l(u.inner.width,u.k),height:l(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u})},s.prototype.setProgress=function(u,l,f,v){return u!=null&&(this.progress.val=u),l!=null&&(this.progress.state=l),f!=null&&(this.progress.n=f),v!=null&&(this.progress.stack=v),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(u,l,f,v){return this.setProgress(u?this.progress.val+u:null,l||null,f?this.progress.n+f:null,v?this.progress.stack.concat(v):null)},s.prototype.then=function(u,l){var f=this;return this.thenCore(u,l,function(v,x){return f.updateProgress(null,null,1,[v]),Promise.prototype.then.call(this,function(w){return f.updateProgress(null,v),w}).then(v,x).then(function(w){return f.updateProgress(1),w})})},s.prototype.thenCore=function(u,l,f){f=f||Promise.prototype.then,u&&(u=u.bind(this)),l&&(l=l.bind(this));var v=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),x=f.call(v,u,l);return s.convert(x,this.__proto__)},s.prototype.thenExternal=function(u,l){return Promise.prototype.then.call(this,u,l)},s.prototype.thenList=function(u){var l=this;return u.forEach(function(f){l=l.thenCore(f)}),l},s.prototype.catch=function(u){u&&(u=u.bind(this));var l=Promise.prototype.catch.call(this,u);return s.convert(l,this)},s.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},s.prototype.error=function(u){return this.then(function(){throw new Error(u)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,bn.getPageSize=function(u,l,f){if(Mi(u)==="object"){var v=u;u=v.orientation,l=v.unit||l,f=v.format||f}l=l||"mm",f=f||"a4",u=(""+(u||"P")).toLowerCase();var x,w=(""+f).toLowerCase(),C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":x=1;break;case"mm":x=72/25.4;break;case"cm":x=72/2.54;break;case"in":x=72;break;case"px":x=.75;break;case"pc":case"em":x=12;break;case"ex":x=6;break;default:throw"Invalid unit: "+l}var P,O=0,I=0;if(C.hasOwnProperty(w))O=C[w][1]/x,I=C[w][0]/x;else try{O=f[1],I=f[0]}catch{throw new Error("Invalid format: "+f)}if(u==="p"||u==="portrait")u="p",I>O&&(P=I,I=O,O=P);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",O>I&&(P=I,I=O,O=P)}return{width:I,height:O,unit:l,k:x,orientation:u}},e.html=function(u,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(BC):null;var f=new s(l);return l.worker?f:f.from(u).doCallback()}}(bn.API),bn.API.addJS=function(e){return PL=e,this.internal.events.subscribe("postPutResources",function(){yb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(yb+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),TL=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+PL+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){yb!==void 0&&TL!==void 0&&this.internal.out("/Names <</JavaScript "+yb+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var o=r.outline.render().split(/\r\n/),s=0;s<o.length;s++){var u=o[s],l=n.exec(u);if(l!=null){var f=l[1];r.internal.newObjectDeferredBegin(f,!1)}r.internal.write(u)}if(this.outline.createNamedDestinations){var v=this.internal.pages.length,x=[];for(s=0;s<v;s++){var w=r.internal.newObject();x.push(w);var C=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+C.objId+" 0 R /XYZ null null null]>> endobj")}var P=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<x.length;s++)r.internal.write("(page_"+(s+1)+")"+x[s]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+P+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,o,s){var u={title:o,options:s,children:[]};return n==null&&(n=this.root),n.children.push(u),u},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var o=0;o<n.children.length;o++)this.genIds_r(n.children[o])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var o=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var u=n.children[s];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var l=this.count=this.count_r({count:0},u);if(l>0&&this.line("/Count "+l),u.options&&u.options.pageNumber){var f=r.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+o(0)+" 0]")}this.objEnd()}for(var v=0;v<n.children.length;v++)this.renderItems(n.children[v])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,o){for(var s=0;s<o.children.length;s++)n.count++,this.count_r(n,o.children[s]);return n.count}}])}(bn.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,o,s,u,l){var f,v=this.decode.DCT_DECODE,x=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=u||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(f=function(w){for(var C,P=256*w.charCodeAt(4)+w.charCodeAt(5),O=w.length,I={width:0,height:0,numcomponents:1},z=4;z<O;z+=2){if(z+=P,t.indexOf(w.charCodeAt(z+1))!==-1){C=256*w.charCodeAt(z+5)+w.charCodeAt(z+6),I={width:256*w.charCodeAt(z+7)+w.charCodeAt(z+8),height:C,numcomponents:w.charCodeAt(z+9)};break}P=256*w.charCodeAt(z+2)+w.charCodeAt(z+3)}return I}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}x={data:r,width:f.width,height:f.height,colorSpace:l,bitsPerComponent:8,filter:v,index:n,alias:o}}return x}}(bn.API);var Xm,vb,kL,IL,LL,Dte=function(){var e,t,r;function n(s){var u,l,f,v,x,w,C,P,O,I,z,N,j,V;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},w=null;;){switch(u=this.readUInt32(),O=(function(){var W,re;for(re=[],W=0;W<4;++W)re.push(String.fromCharCode(this.data[this.pos++]));return re}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(u);break;case"fcTL":w&&this.animation.frames.push(w),this.pos+=4,w={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},x=this.readUInt16(),v=this.readUInt16()||100,w.delay=1e3*x/v,w.disposeOp=this.data[this.pos++],w.blendOp=this.data[this.pos++],w.data=[];break;case"IDAT":case"fdAT":for(O==="fdAT"&&(this.pos+=4,u-=4),s=(w!=null?w.data:void 0)||this.imgData,N=0;0<=u?N<u:N>u;0<=u?++N:--N)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(f=this.palette.length/3,this.transparency.indexed=this.read(u),this.transparency.indexed.length>f)throw new Error("More transparent colors than palette size");if((I=f-this.transparency.indexed.length)>0)for(j=0;0<=I?j<I:j>I;0<=I?++j:--j)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(u)[0];break;case 2:this.transparency.rgb=this.read(u)}break;case"tEXt":C=(z=this.read(u)).indexOf(0),P=String.fromCharCode.apply(String,z.slice(0,C)),this.text[P]=String.fromCharCode.apply(String,z.slice(C+1));break;case"IEND":return w&&this.animation.frames.push(w),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(V=this.colorType)===4||V===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=u}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var u,l;for(l=[],u=0;0<=s?u<s:u>s;0<=s?++u:--u)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var u=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*u),f=0,v=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function x(w,C,P,O){var I,z,N,j,V,W,re,ie,J,ne,Ae,Z,X,oe,be,ge,De,Le,je,xe,Oe,Ke=Math.ceil((v.width-w)/P),ht=Math.ceil((v.height-C)/O),le=v.width==Ke&&v.height==ht;for(oe=u*Ke,Z=le?l:new Uint8Array(oe*ht),W=s.length,X=0,z=0;X<ht&&f<W;){switch(s[f++]){case 0:for(j=De=0;De<oe;j=De+=1)Z[z++]=s[f++];break;case 1:for(j=Le=0;Le<oe;j=Le+=1)I=s[f++],V=j<u?0:Z[z-u],Z[z++]=(I+V)%256;break;case 2:for(j=je=0;je<oe;j=je+=1)I=s[f++],N=(j-j%u)/u,be=X&&Z[(X-1)*oe+N*u+j%u],Z[z++]=(be+I)%256;break;case 3:for(j=xe=0;xe<oe;j=xe+=1)I=s[f++],N=(j-j%u)/u,V=j<u?0:Z[z-u],be=X&&Z[(X-1)*oe+N*u+j%u],Z[z++]=(I+Math.floor((V+be)/2))%256;break;case 4:for(j=Oe=0;Oe<oe;j=Oe+=1)I=s[f++],N=(j-j%u)/u,V=j<u?0:Z[z-u],X===0?be=ge=0:(be=Z[(X-1)*oe+N*u+j%u],ge=N&&Z[(X-1)*oe+(N-1)*u+j%u]),re=V+be-ge,ie=Math.abs(re-V),ne=Math.abs(re-be),Ae=Math.abs(re-ge),J=ie<=ne&&ie<=Ae?V:ne<=Ae?be:ge,Z[z++]=(I+J)%256;break;default:throw new Error("Invalid filter algorithm: "+s[f-1])}if(!le){var me=((C+X*O)*v.width+w)*u,we=X*oe;for(j=0;j<Ke;j+=1){for(var Ie=0;Ie<u;Ie+=1)l[me++]=Z[we++];me+=(P-1)*u}}X++}}return s=fte(s),v.interlaceMethod==1?(x(0,0,8,8),x(4,0,8,8),x(0,4,4,8),x(2,0,4,4),x(0,2,2,4),x(1,0,2,2),x(0,1,1,2)):x(0,0,1,1),l},n.prototype.decodePalette=function(){var s,u,l,f,v,x,w,C,P;for(l=this.palette,x=this.transparency.indexed||[],v=new Uint8Array((x.length||0)+l.length),f=0,s=0,u=w=0,C=l.length;w<C;u=w+=3)v[f++]=l[u],v[f++]=l[u+1],v[f++]=l[u+2],v[f++]=(P=x[s++])!=null?P:255;return v},n.prototype.copyToImageData=function(s,u){var l,f,v,x,w,C,P,O,I,z,N;if(f=this.colors,I=null,l=this.hasAlphaChannel,this.palette.length&&(I=(N=this._decodedPalette)!=null?N:this._decodedPalette=this.decodePalette(),f=4,l=!0),O=(v=s.data||s).length,w=I||u,x=C=0,f===1)for(;x<O;)P=I?4*u[x/4]:C,z=w[P++],v[x++]=z,v[x++]=z,v[x++]=z,v[x++]=l?w[P++]:255,C=P;else for(;x<O;)P=I?4*u[x/4]:C,v[x++]=w[P++],v[x++]=w[P++],v[x++]=w[P++],v[x++]=l?w[P++]:255,C=P},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var o=function(){if(Object.prototype.toString.call(vn)==="[object Window]"){try{t=vn.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return o(),e=function(s){var u;if(o()===!0)return r.width=s.width,r.height=s.height,r.clearRect(0,0,s.width,s.height),r.putImageData(s,0,0),(u=new Image).src=t.toDataURL(),u;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var u,l,f,v,x,w,C,P;if(this.animation){for(P=[],l=x=0,w=(C=this.animation.frames).length;x<w;l=++x)u=C[l],f=s.createImageData(u.width,u.height),v=this.decodePixels(new Uint8Array(u.data)),this.copyToImageData(f,v),u.imageData=f,P.push(u.image=e(f));return P}},n.prototype.renderFrame=function(s,u){var l,f,v;return l=(f=this.animation.frames)[u],v=f[u-1],u===0&&s.clearRect(0,0,this.width,this.height),(v!=null?v.disposeOp:void 0)===1?s.clearRect(v.xOffset,v.yOffset,v.width,v.height):(v!=null?v.disposeOp:void 0)===2&&s.putImageData(v.imageData,v.xOffset,v.yOffset),l.blendOp===0&&s.clearRect(l.xOffset,l.yOffset,l.width,l.height),s.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(s){var u,l,f,v,x,w,C=this;return l=0,w=this.animation,v=w.numFrames,f=w.frames,x=w.numPlays,(u=function(){var P,O;if(P=l++%v,O=f[P],C.renderFrame(s,P),v>1&&l/v<x)return C.animation._timeout=setTimeout(u,O.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var u,l;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,u=s.getContext("2d"),this.animation?(this.decodeFrames(u),this.animate(u)):(l=u.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),u.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Rte(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,o=e[t++],s=o>>7,u=1<<(7&o)+1;e[t++],e[t++];var l=null,f=null;s&&(l=t,f=u,t+=3*u);var v=!0,x=[],w=0,C=null,P=0,O=null;for(this.width=r,this.height=n;v&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,O=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((X=e[t++])>=0))throw Error("Invalid block size");if(X===0)break;t+=X}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var I=e[t++];w=e[t++]|e[t++]<<8,C=e[t++],!(1&I)&&(C=null),P=I>>2&7,t++;break;case 254:for(;;){if(!((X=e[t++])>=0))throw Error("Invalid block size");if(X===0)break;t+=X}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var z=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,V=e[t++]|e[t++]<<8,W=e[t++],re=W>>6&1,ie=1<<(7&W)+1,J=l,ne=f,Ae=!1;W>>7&&(Ae=!0,J=t,ne=ie,t+=3*ie);var Z=t;for(t++;;){var X;if(!((X=e[t++])>=0))throw Error("Invalid block size");if(X===0)break;t+=X}x.push({x:z,y:N,width:j,height:V,has_local_palette:Ae,palette_offset:J,palette_size:ne,data_offset:Z,data_length:t-Z,transparent_index:C,interlaced:!!re,delay:w,disposal:P});break;case 59:v=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return x.length},this.loopCount=function(){return O},this.frameInfo=function(oe){if(oe<0||oe>=x.length)throw new Error("Frame index out of range.");return x[oe]},this.decodeAndBlitFrameBGRA=function(oe,be){var ge=this.frameInfo(oe),De=ge.width*ge.height,Le=new Uint8Array(De);ML(e,ge.data_offset,Le,De);var je=ge.palette_offset,xe=ge.transparent_index;xe===null&&(xe=256);var Oe=ge.width,Ke=r-Oe,ht=Oe,le=4*(ge.y*r+ge.x),me=4*((ge.y+ge.height)*r+ge.x),we=le,Ie=4*Ke;ge.interlaced===!0&&(Ie+=4*r*7);for(var Me=8,tt=0,Ue=Le.length;tt<Ue;++tt){var qe=Le[tt];if(ht===0&&(ht=Oe,(we+=Ie)>=me&&(Ie=4*Ke+4*r*(Me-1),we=le+(Oe+Ke)*(Me<<1),Me>>=1)),qe===xe)we+=4;else{var lt=e[je+3*qe],pt=e[je+3*qe+1],Et=e[je+3*qe+2];be[we++]=Et,be[we++]=pt,be[we++]=lt,be[we++]=255}--ht}},this.decodeAndBlitFrameRGBA=function(oe,be){var ge=this.frameInfo(oe),De=ge.width*ge.height,Le=new Uint8Array(De);ML(e,ge.data_offset,Le,De);var je=ge.palette_offset,xe=ge.transparent_index;xe===null&&(xe=256);var Oe=ge.width,Ke=r-Oe,ht=Oe,le=4*(ge.y*r+ge.x),me=4*((ge.y+ge.height)*r+ge.x),we=le,Ie=4*Ke;ge.interlaced===!0&&(Ie+=4*r*7);for(var Me=8,tt=0,Ue=Le.length;tt<Ue;++tt){var qe=Le[tt];if(ht===0&&(ht=Oe,(we+=Ie)>=me&&(Ie=4*Ke+4*r*(Me-1),we=le+(Oe+Ke)*(Me<<1),Me>>=1)),qe===xe)we+=4;else{var lt=e[je+3*qe],pt=e[je+3*qe+1],Et=e[je+3*qe+2];be[we++]=lt,be[we++]=pt,be[we++]=Et,be[we++]=255}--ht}}}function ML(e,t,r,n){for(var o=e[t++],s=1<<o,u=s+1,l=u+1,f=o+1,v=(1<<f)-1,x=0,w=0,C=0,P=e[t++],O=new Int32Array(4096),I=null;;){for(;x<16&&P!==0;)w|=e[t++]<<x,x+=8,P===1?P=e[t++]:--P;if(x<f)break;var z=w&v;if(w>>=f,x-=f,z!==s){if(z===u)break;for(var N=z<l?z:I,j=0,V=N;V>s;)V=O[V]>>8,++j;var W=V;if(C+j+(N!==z?1:0)>n)return void Zi.log("Warning, gif stream longer than expected.");r[C++]=W;var re=C+=j;for(N!==z&&(r[C++]=W),V=N;j--;)V=O[V],r[--re]=255&V,V>>=8;I!==null&&l<4096&&(O[l++]=I<<8|W,l>=v+1&&f<12&&(++f,v=v<<1|1)),I=z}else l=u+1,v=(1<<(f=o+1))-1,I=null}return C!==n&&Zi.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function ZS(e){var t,r,n,o,s,u=Math.floor,l=new Array(64),f=new Array(64),v=new Array(64),x=new Array(64),w=new Array(65535),C=new Array(65535),P=new Array(64),O=new Array(64),I=[],z=0,N=7,j=new Array(64),V=new Array(64),W=new Array(64),re=new Array(256),ie=new Array(2048),J=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],ne=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Ae=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],X=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],oe=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],be=[0,1,2,3,4,5,6,7,8,9,10,11],ge=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],De=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Le(le,me){for(var we=0,Ie=0,Me=new Array,tt=1;tt<=16;tt++){for(var Ue=1;Ue<=le[tt];Ue++)Me[me[Ie]]=[],Me[me[Ie]][0]=we,Me[me[Ie]][1]=tt,Ie++,we++;we*=2}return Me}function je(le){for(var me=le[0],we=le[1]-1;we>=0;)me&1<<we&&(z|=1<<N),we--,--N<0&&(z==255?(xe(255),xe(0)):xe(z),N=7,z=0)}function xe(le){I.push(le)}function Oe(le){xe(le>>8&255),xe(255&le)}function Ke(le,me,we,Ie,Me){for(var tt,Ue=Me[0],qe=Me[240],lt=function(bt,Pt){var Ot,Gt,It,ir,vr,Pr,Vr,Ze,mt,Rt,Lt=0;for(mt=0;mt<8;++mt){Ot=bt[Lt],Gt=bt[Lt+1],It=bt[Lt+2],ir=bt[Lt+3],vr=bt[Lt+4],Pr=bt[Lt+5],Vr=bt[Lt+6];var Br=Ot+(Ze=bt[Lt+7]),rt=Ot-Ze,Qt=Gt+Vr,Vt=Gt-Vr,xr=It+Pr,rn=It-Pr,rr=ir+vr,ni=ir-vr,Nn=Br+rr,_i=Br-rr,Bn=Qt+xr,Ne=Qt-xr;bt[Lt]=Nn+Bn,bt[Lt+4]=Nn-Bn;var ae=.707106781*(Ne+_i);bt[Lt+2]=_i+ae,bt[Lt+6]=_i-ae;var ce=.382683433*((Nn=ni+rn)-(Ne=Vt+rt)),Ce=.5411961*Nn+ce,Re=1.306562965*Ne+ce,Je=.707106781*(Bn=rn+Vt),nt=rt+Je,Ye=rt-Je;bt[Lt+5]=Ye+Ce,bt[Lt+3]=Ye-Ce,bt[Lt+1]=nt+Re,bt[Lt+7]=nt-Re,Lt+=8}for(Lt=0,mt=0;mt<8;++mt){Ot=bt[Lt],Gt=bt[Lt+8],It=bt[Lt+16],ir=bt[Lt+24],vr=bt[Lt+32],Pr=bt[Lt+40],Vr=bt[Lt+48];var He=Ot+(Ze=bt[Lt+56]),_t=Ot-Ze,Ct=Gt+Vr,gt=Gt-Vr,jt=It+Pr,ur=It-Pr,mr=ir+vr,gn=ir-vr,Ir=He+mr,Yr=He-mr,en=Ct+jt,nn=Ct-jt;bt[Lt]=Ir+en,bt[Lt+32]=Ir-en;var Tr=.707106781*(nn+Yr);bt[Lt+16]=Yr+Tr,bt[Lt+48]=Yr-Tr;var Hr=.382683433*((Ir=gn+ur)-(nn=gt+_t)),_n=.5411961*Ir+Hr,Cn=1.306562965*nn+Hr,xi=.707106781*(en=ur+gt),Ni=_t+xi,Fi=_t-xi;bt[Lt+40]=Fi+_n,bt[Lt+24]=Fi-_n,bt[Lt+8]=Ni+Cn,bt[Lt+56]=Ni-Cn,Lt++}for(mt=0;mt<64;++mt)Rt=bt[mt]*Pt[mt],P[mt]=Rt>0?Rt+.5|0:Rt-.5|0;return P}(le,me),pt=0;pt<64;++pt)O[J[pt]]=lt[pt];var Et=O[0]-we;we=O[0],Et==0?je(Ie[0]):(je(Ie[C[tt=32767+Et]]),je(w[tt]));for(var St=63;St>0&&O[St]==0;)St--;if(St==0)return je(Ue),we;for(var kt,ct=1;ct<=St;){for(var de=ct;O[ct]==0&&ct<=St;)++ct;var hr=ct-de;if(hr>=16){kt=hr>>4;for(var Kt=1;Kt<=kt;++Kt)je(qe);hr&=15}tt=32767+O[ct],je(Me[(hr<<4)+C[tt]]),je(w[tt]),ct++}return St!=63&&je(Ue),we}function ht(le){le=Math.min(Math.max(le,1),100),s!=le&&(function(me){for(var we=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Ie=0;Ie<64;Ie++){var Me=u((we[Ie]*me+50)/100);Me=Math.min(Math.max(Me,1),255),l[J[Ie]]=Me}for(var tt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ue=0;Ue<64;Ue++){var qe=u((tt[Ue]*me+50)/100);qe=Math.min(Math.max(qe,1),255),f[J[Ue]]=qe}for(var lt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],pt=0,Et=0;Et<8;Et++)for(var St=0;St<8;St++)v[pt]=1/(l[J[pt]]*lt[Et]*lt[St]*8),x[pt]=1/(f[J[pt]]*lt[Et]*lt[St]*8),pt++}(le<50?Math.floor(5e3/le):Math.floor(200-2*le)),s=le)}this.encode=function(le,me){me&&ht(me),I=new Array,z=0,N=7,Oe(65496),Oe(65504),Oe(16),xe(74),xe(70),xe(73),xe(70),xe(0),xe(1),xe(1),xe(0),Oe(1),Oe(1),xe(0),xe(0),function(){Oe(65499),Oe(132),xe(0);for(var Gt=0;Gt<64;Gt++)xe(l[Gt]);xe(1);for(var It=0;It<64;It++)xe(f[It])}(),function(Gt,It){Oe(65472),Oe(17),xe(8),Oe(It),Oe(Gt),xe(3),xe(1),xe(17),xe(0),xe(2),xe(17),xe(1),xe(3),xe(17),xe(1)}(le.width,le.height),function(){Oe(65476),Oe(418),xe(0);for(var Gt=0;Gt<16;Gt++)xe(ne[Gt+1]);for(var It=0;It<=11;It++)xe(Ae[It]);xe(16);for(var ir=0;ir<16;ir++)xe(Z[ir+1]);for(var vr=0;vr<=161;vr++)xe(X[vr]);xe(1);for(var Pr=0;Pr<16;Pr++)xe(oe[Pr+1]);for(var Vr=0;Vr<=11;Vr++)xe(be[Vr]);xe(17);for(var Ze=0;Ze<16;Ze++)xe(ge[Ze+1]);for(var mt=0;mt<=161;mt++)xe(De[mt])}(),Oe(65498),Oe(12),xe(3),xe(1),xe(0),xe(2),xe(17),xe(3),xe(17),xe(0),xe(63),xe(0);var we=0,Ie=0,Me=0;z=0,N=7,this.encode.displayName="_encode_";for(var tt,Ue,qe,lt,pt,Et,St,kt,ct,de=le.data,hr=le.width,Kt=le.height,bt=4*hr,Pt=0;Pt<Kt;){for(tt=0;tt<bt;){for(pt=bt*Pt+tt,St=-1,kt=0,ct=0;ct<64;ct++)Et=pt+(kt=ct>>3)*bt+(St=4*(7&ct)),Pt+kt>=Kt&&(Et-=bt*(Pt+1+kt-Kt)),tt+St>=bt&&(Et-=tt+St-bt+4),Ue=de[Et++],qe=de[Et++],lt=de[Et++],j[ct]=(ie[Ue]+ie[qe+256>>0]+ie[lt+512>>0]>>16)-128,V[ct]=(ie[Ue+768>>0]+ie[qe+1024>>0]+ie[lt+1280>>0]>>16)-128,W[ct]=(ie[Ue+1280>>0]+ie[qe+1536>>0]+ie[lt+1792>>0]>>16)-128;we=Ke(j,v,we,t,n),Ie=Ke(V,x,Ie,r,o),Me=Ke(W,x,Me,r,o),tt+=32}Pt+=8}if(N>=0){var Ot=[];Ot[1]=N+1,Ot[0]=(1<<N+1)-1,je(Ot)}return Oe(65497),new Uint8Array(I)},e=e||50,function(){for(var le=String.fromCharCode,me=0;me<256;me++)re[me]=le(me)}(),t=Le(ne,Ae),r=Le(oe,be),n=Le(Z,X),o=Le(ge,De),function(){for(var le=1,me=2,we=1;we<=15;we++){for(var Ie=le;Ie<me;Ie++)C[32767+Ie]=we,w[32767+Ie]=[],w[32767+Ie][1]=we,w[32767+Ie][0]=Ie;for(var Me=-(me-1);Me<=-le;Me++)C[32767+Me]=we,w[32767+Me]=[],w[32767+Me][1]=we,w[32767+Me][0]=me-1+Me;le<<=1,me<<=1}}(),function(){for(var le=0;le<256;le++)ie[le]=19595*le,ie[le+256>>0]=38470*le,ie[le+512>>0]=7471*le+32768,ie[le+768>>0]=-11059*le,ie[le+1024>>0]=-21709*le,ie[le+1280>>0]=32768*le+8421375,ie[le+1536>>0]=-27439*le,ie[le+1792>>0]=-5329*le}(),ht(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ec(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function DL(e){function t(ne){if(!ne)throw Error("assert :P")}function r(ne,Ae,Z){for(var X=0;4>X;X++)if(ne[Ae+X]!=Z.charCodeAt(X))return!0;return!1}function n(ne,Ae,Z,X,oe){for(var be=0;be<oe;be++)ne[Ae+be]=Z[X+be]}function o(ne,Ae,Z,X){for(var oe=0;oe<X;oe++)ne[Ae+oe]=Z}function s(ne){return new Int32Array(ne)}function u(ne,Ae){for(var Z=[],X=0;X<ne;X++)Z.push(new Ae);return Z}function l(ne,Ae){var Z=[];return function X(oe,be,ge){for(var De=ge[be],Le=0;Le<De&&(oe.push(ge.length>be+1?[]:new Ae),!(ge.length<be+1));Le++)X(oe[Le],be+1,ge)}(Z,0,ne),Z}var f=function(){var ne=this;function Ae(A,L){for(var g=1<<L-1>>>0;A&g;)g>>>=1;return g?(A&g-1)+g:A}function Z(A,L,g,i,h){t(!(i%g));do A[L+(i-=g)]=h;while(0<i)}function X(A,L,g,i,h){if(t(2328>=h),512>=h)var p=s(512);else if((p=s(h))==null)return 0;return function(y,b,T,k,R,B){var H,q,te=b,se=1<<T,ee=s(16),he=s(16);for(t(R!=0),t(k!=null),t(y!=null),t(0<T),q=0;q<R;++q){if(15<k[q])return 0;++ee[k[q]]}if(ee[0]==R)return 0;for(he[1]=0,H=1;15>H;++H){if(ee[H]>1<<H)return 0;he[H+1]=he[H]+ee[H]}for(q=0;q<R;++q)H=k[q],0<k[q]&&(B[he[H]++]=q);if(he[15]==1)return(k=new oe).g=0,k.value=B[0],Z(y,te,1,se,k),se;var Se,Ee=-1,ke=se-1,Te=0,Fe=1,Xe=1,Ge=1<<T;for(q=0,H=1,R=2;H<=T;++H,R<<=1){if(Fe+=Xe<<=1,0>(Xe-=ee[H]))return 0;for(;0<ee[H];--ee[H])(k=new oe).g=H,k.value=B[q++],Z(y,te+Te,R,Ge,k),Te=Ae(Te,H)}for(H=T+1,R=2;15>=H;++H,R<<=1){if(Fe+=Xe<<=1,0>(Xe-=ee[H]))return 0;for(;0<ee[H];--ee[H]){if(k=new oe,(Te&ke)!=Ee){for(te+=Ge,Se=1<<(Ee=H)-T;15>Ee&&!(0>=(Se-=ee[Ee]));)++Ee,Se<<=1;se+=Ge=1<<(Se=Ee-T),y[b+(Ee=Te&ke)].g=Se+T,y[b+Ee].value=te-b-Ee}k.g=H-T,k.value=B[q++],Z(y,te+(Te>>T),R,Ge,k),Te=Ae(Te,H)}}return Fe!=2*he[15]-1?0:se}(A,L,g,i,h,p)}function oe(){this.value=this.g=0}function be(){this.value=this.g=0}function ge(){this.G=u(5,oe),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(Ai,be)}function De(A,L,g,i){t(A!=null),t(L!=null),t(2147483648>i),A.Ca=254,A.I=0,A.b=-8,A.Ka=0,A.oa=L,A.pa=g,A.Jd=L,A.Yc=g+i,A.Zc=4<=i?g+i-4+1:g,tt(A)}function Le(A,L){for(var g=0;0<L--;)g|=qe(A,128)<<L;return g}function je(A,L){var g=Le(A,L);return Ue(A)?-g:g}function xe(A,L,g,i){var h,p=0;for(t(A!=null),t(L!=null),t(4294967288>i),A.Sb=i,A.Ra=0,A.u=0,A.h=0,4<i&&(i=4),h=0;h<i;++h)p+=L[g+h]<<8*h;A.Ra=p,A.bb=i,A.oa=L,A.pa=g}function Oe(A){for(;8<=A.u&&A.bb<A.Sb;)A.Ra>>>=8,A.Ra+=A.oa[A.pa+A.bb]<<Ta-8>>>0,++A.bb,A.u-=8;we(A)&&(A.h=1,A.u=0)}function Ke(A,L){if(t(0<=L),!A.h&&L<=da){var g=me(A)&xl[L];return A.u+=L,Oe(A),g}return A.h=1,A.u=0}function ht(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function le(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function me(A){return A.Ra>>>(A.u&Ta-1)>>>0}function we(A){return t(A.bb<=A.Sb),A.h||A.bb==A.Sb&&A.u>Ta}function Ie(A,L){A.u=L,A.h=we(A)}function Me(A){A.u>=Js&&(t(A.u>=Js),Oe(A))}function tt(A){t(A!=null&&A.oa!=null),A.pa<A.Zc?(A.I=(A.oa[A.pa++]|A.I<<8)>>>0,A.b+=8):(t(A!=null&&A.oa!=null),A.pa<A.Yc?(A.b+=8,A.I=A.oa[A.pa++]|A.I<<8):A.Ka?A.b=0:(A.I<<=8,A.b+=8,A.Ka=1))}function Ue(A){return Le(A,1)}function qe(A,L){var g=A.Ca;0>A.b&&tt(A);var i=A.b,h=g*L>>>8,p=(A.I>>>i>h)+0;for(p?(g-=h,A.I-=h+1<<i>>>0):g=h+1,i=g,h=0;256<=i;)h+=8,i>>=8;return i=7^h+Hi[i],A.b-=i,A.Ca=(g<<i)-1,p}function lt(A,L,g){A[L+0]=g>>24&255,A[L+1]=g>>16&255,A[L+2]=g>>8&255,A[L+3]=g>>0&255}function pt(A,L){return A[L+0]<<0|A[L+1]<<8}function Et(A,L){return pt(A,L)|A[L+2]<<16}function St(A,L){return pt(A,L)|pt(A,L+2)<<16}function kt(A,L){var g=1<<L;return t(A!=null),t(0<L),A.X=s(g),A.X==null?0:(A.Mb=32-L,A.Xa=L,1)}function ct(A,L){t(A!=null),t(L!=null),t(A.Xa==L.Xa),n(L.X,0,A.X,0,1<<L.Xa)}function de(){this.X=[],this.Xa=this.Mb=0}function hr(A,L,g,i){t(g!=null),t(i!=null);var h=g[0],p=i[0];return h==0&&(h=(A*p+L/2)/L),p==0&&(p=(L*h+A/2)/A),0>=h||0>=p?0:(g[0]=h,i[0]=p,1)}function Kt(A,L){return A+(1<<L)-1>>>L}function bt(A,L){return((4278255360&A)+(4278255360&L)>>>0&4278255360)+((16711935&A)+(16711935&L)>>>0&16711935)>>>0}function Pt(A,L){ne[L]=function(g,i,h,p,y,b,T){var k;for(k=0;k<y;++k){var R=ne[A](b[T+k-1],h,p+k);b[T+k]=bt(g[i+k],R)}}}function Ot(){this.ud=this.hd=this.jd=0}function Gt(A,L){return((4278124286&(A^L))>>>1)+(A&L)>>>0}function It(A){return 0<=A&&256>A?A:0>A?0:255<A?255:void 0}function ir(A,L){return It(A+(A-L+.5>>1))}function vr(A,L,g){return Math.abs(L-g)-Math.abs(A-g)}function Pr(A,L,g,i,h,p,y){for(i=p[y-1],g=0;g<h;++g)p[y+g]=i=bt(A[L+g],i)}function Vr(A,L,g,i,h){var p;for(p=0;p<g;++p){var y=A[L+p],b=y>>8&255,T=16711935&(T=(T=16711935&y)+((b<<16)+b));i[h+p]=(4278255360&y)+T>>>0}}function Ze(A,L){L.jd=A>>0&255,L.hd=A>>8&255,L.ud=A>>16&255}function mt(A,L,g,i,h,p){var y;for(y=0;y<i;++y){var b=L[g+y],T=b>>>8,k=b,R=255&(R=(R=b>>>16)+((A.jd<<24>>24)*(T<<24>>24)>>>5));k=255&(k=(k=k+((A.hd<<24>>24)*(T<<24>>24)>>>5))+((A.ud<<24>>24)*(R<<24>>24)>>>5)),h[p+y]=(4278255360&b)+(R<<16)+k}}function Rt(A,L,g,i,h){ne[L]=function(p,y,b,T,k,R,B,H,q){for(T=B;T<H;++T)for(B=0;B<q;++B)k[R++]=h(b[i(p[y++])])},ne[A]=function(p,y,b,T,k,R,B){var H=8>>p.b,q=p.Ea,te=p.K[0],se=p.w;if(8>H)for(p=(1<<p.b)-1,se=(1<<H)-1;y<b;++y){var ee,he=0;for(ee=0;ee<q;++ee)ee&p||(he=i(T[k++])),R[B++]=h(te[he&se]),he>>=H}else ne["VP8LMapColor"+g](T,k,te,se,R,B,y,b,q)}}function Lt(A,L,g,i,h){for(g=L+g;L<g;){var p=A[L++];i[h++]=p>>16&255,i[h++]=p>>8&255,i[h++]=p>>0&255}}function Br(A,L,g,i,h){for(g=L+g;L<g;){var p=A[L++];i[h++]=p>>16&255,i[h++]=p>>8&255,i[h++]=p>>0&255,i[h++]=p>>24&255}}function rt(A,L,g,i,h){for(g=L+g;L<g;){var p=(y=A[L++])>>16&240|y>>12&15,y=y>>0&240|y>>28&15;i[h++]=p,i[h++]=y}}function Qt(A,L,g,i,h){for(g=L+g;L<g;){var p=(y=A[L++])>>16&248|y>>13&7,y=y>>5&224|y>>3&31;i[h++]=p,i[h++]=y}}function Vt(A,L,g,i,h){for(g=L+g;L<g;){var p=A[L++];i[h++]=p>>0&255,i[h++]=p>>8&255,i[h++]=p>>16&255}}function xr(A,L,g,i,h,p){if(p==0)for(g=L+g;L<g;)lt(i,((p=A[L++])[0]>>24|p[1]>>8&65280|p[2]<<8&16711680|p[3]<<24)>>>0),h+=32;else n(i,h,A,L,g)}function rn(A,L){ne[L][0]=ne[A+"0"],ne[L][1]=ne[A+"1"],ne[L][2]=ne[A+"2"],ne[L][3]=ne[A+"3"],ne[L][4]=ne[A+"4"],ne[L][5]=ne[A+"5"],ne[L][6]=ne[A+"6"],ne[L][7]=ne[A+"7"],ne[L][8]=ne[A+"8"],ne[L][9]=ne[A+"9"],ne[L][10]=ne[A+"10"],ne[L][11]=ne[A+"11"],ne[L][12]=ne[A+"12"],ne[L][13]=ne[A+"13"],ne[L][14]=ne[A+"0"],ne[L][15]=ne[A+"0"]}function rr(A){return A==Jc||A==yc||A==Qc||A==Wh}function ni(){this.eb=[],this.size=this.A=this.fb=0}function Nn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function _i(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ni,this.f.kb=new Nn,this.sd=null}function Bn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ne(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ae(A){return alert("todo:WebPSamplerProcessPlane"),A.T}function ce(A,L){var g=A.T,i=L.ba.f.RGBA,h=i.eb,p=i.fb+A.ka*i.A,y=mn[L.ba.S],b=A.y,T=A.O,k=A.f,R=A.N,B=A.ea,H=A.W,q=L.cc,te=L.dc,se=L.Mc,ee=L.Nc,he=A.ka,Se=A.ka+A.T,Ee=A.U,ke=Ee+1>>1;for(he==0?y(b,T,null,null,k,R,B,H,k,R,B,H,h,p,null,null,Ee):(y(L.ec,L.fc,b,T,q,te,se,ee,k,R,B,H,h,p-i.A,h,p,Ee),++g);he+2<Se;he+=2)q=k,te=R,se=B,ee=H,R+=A.Rc,H+=A.Rc,p+=2*i.A,y(b,(T+=2*A.fa)-A.fa,b,T,q,te,se,ee,k,R,B,H,h,p-i.A,h,p,Ee);return T+=A.fa,A.j+Se<A.o?(n(L.ec,L.fc,b,T,Ee),n(L.cc,L.dc,k,R,ke),n(L.Mc,L.Nc,B,H,ke),g--):1&Se||y(b,T,null,null,k,R,B,H,k,R,B,H,h,p+i.A,null,null,Ee),g}function Ce(A,L,g){var i=A.F,h=[A.J];if(i!=null){var p=A.U,y=L.ba.S,b=y==Yc||y==Qc;L=L.ba.f.RGBA;var T=[0],k=A.ka;T[0]=A.T,A.Kb&&(k==0?--T[0]:(--k,h[0]-=A.width),A.j+A.ka+A.T==A.o&&(T[0]=A.o-A.j-k));var R=L.eb;k=L.fb+k*L.A,A=Gi(i,h[0],A.width,p,T,R,k+(b?0:3),L.A),t(g==T),A&&rr(y)&&no(R,k,b,p,T,L.A)}return 0}function Re(A){var L=A.ma,g=L.ba.S,i=11>g,h=g==Sl||g==Ps||g==Yc||g==Gh||g==12||rr(g);if(L.memory=null,L.Ib=null,L.Jb=null,L.Nd=null,!ha(L.Oa,A,h?11:12))return 0;if(h&&rr(g)&&Zt(),A.da)alert("todo:use_scaling");else{if(i){if(L.Ib=ae,A.Kb){if(g=A.U+1>>1,L.memory=s(A.U+2*g),L.memory==null)return 0;L.ec=L.memory,L.fc=0,L.cc=L.ec,L.dc=L.fc+A.U,L.Mc=L.cc,L.Nc=L.dc+g,L.Ib=ce,Zt()}}else alert("todo:EmitYUV");h&&(L.Jb=Ce,i&&yt())}if(i&&!yi){for(A=0;256>A;++A)nh[A]=89858*(A-128)+Hd>>Zh,ym[A]=-22014*(A-128)+Hd,Wd[A]=-45773*(A-128),Gd[A]=113618*(A-128)+Hd>>Zh;for(A=_c;A<tp;++A)L=76283*(A-16)+Hd>>Zh,Yh[A-_c]=An(L,255),Jh[A-_c]=An(L+8>>4,15);yi=1}return 1}function Je(A){var L=A.ma,g=A.U,i=A.T;return t(!(1&A.ka)),0>=g||0>=i?0:(g=L.Ib(A,L),L.Jb!=null&&L.Jb(A,L,g),L.Dc+=g,1)}function nt(A){A.ma.memory=null}function Ye(A,L,g,i){return Ke(A,8)!=47?0:(L[0]=Ke(A,14)+1,g[0]=Ke(A,14)+1,i[0]=Ke(A,1),Ke(A,3)!=0?0:!A.h)}function He(A,L){if(4>A)return A+1;var g=A-2>>1;return(2+(1&A)<<g)+Ke(L,g)+1}function _t(A,L){return 120<L?L-120:1<=(g=((g=ks[L-1])>>4)*A+(8-(15&g)))?g:1;var g}function Ct(A,L,g){var i=me(g),h=A[L+=255&i].g-8;return 0<h&&(Ie(g,g.u+8),i=me(g),L+=A[L].value,L+=i&(1<<h)-1),Ie(g,g.u+A[L].g),A[L].value}function gt(A,L,g){return g.g+=A.g,g.value+=A.value<<L>>>0,t(8>=g.g),A.g}function jt(A,L,g){var i=A.xc;return t((L=i==0?0:A.vc[A.md*(g>>i)+(L>>i)])<A.Wb),A.Ya[L]}function ur(A,L,g,i){var h=A.ab,p=A.c*L,y=A.C;L=y+L;var b=g,T=i;for(i=A.Ta,g=A.Ua;0<h--;){var k=A.gc[h],R=y,B=L,H=b,q=T,te=(T=i,b=g,k.Ea);switch(t(R<B),t(B<=k.nc),k.hc){case 2:wl(H,q,(B-R)*te,T,b);break;case 0:var se=R,ee=B,he=T,Se=b,Ee=(Ge=k).Ea;se==0&&(Cs(H,q,null,null,1,he,Se),Pr(H,q+1,0,0,Ee-1,he,Se+1),q+=Ee,Se+=Ee,++se);for(var ke=1<<Ge.b,Te=ke-1,Fe=Kt(Ee,Ge.b),Xe=Ge.K,Ge=Ge.w+(se>>Ge.b)*Fe;se<ee;){var wt=Xe,Mt=Ge,$t=1;for(As(H,q,he,Se-Ee,1,he,Se);$t<Ee;){var qt=($t&~Te)+ke;qt>Ee&&(qt=Ee),(0,Qe[wt[Mt++]>>8&15])(H,q+ +$t,he,Se+$t-Ee,qt-$t,he,Se+$t),$t=qt}q+=Ee,Se+=Ee,++se&Te||(Ge+=Fe)}B!=k.nc&&n(T,b-te,T,b+(B-R-1)*te,te);break;case 1:for(te=H,ee=q,Ee=(H=k.Ea)-(Se=H&~(he=(q=1<<k.b)-1)),se=Kt(H,k.b),ke=k.K,k=k.w+(R>>k.b)*se;R<B;){for(Te=ke,Fe=k,Xe=new Ot,Ge=ee+Se,wt=ee+H;ee<Ge;)Ze(Te[Fe++],Xe),xt(Xe,te,ee,q,T,b),ee+=q,b+=q;ee<wt&&(Ze(Te[Fe++],Xe),xt(Xe,te,ee,Ee,T,b),ee+=Ee,b+=Ee),++R&he||(k+=se)}break;case 3:if(H==T&&q==b&&0<k.b){for(ee=T,H=te=b+(B-R)*te-(Se=(B-R)*Kt(k.Ea,k.b)),q=T,he=b,se=[],Se=(Ee=Se)-1;0<=Se;--Se)se[Se]=q[he+Se];for(Se=Ee-1;0<=Se;--Se)ee[H+Se]=se[Se];Co(k,R,B,T,te,T,b)}else Co(k,R,B,H,q,T,b)}b=i,T=g}T!=g&&n(i,g,b,T,p)}function mr(A,L){var g=A.V,i=A.Ba+A.c*A.C,h=L-A.C;if(t(L<=A.l.o),t(16>=h),0<h){var p=A.l,y=A.Ta,b=A.Ua,T=p.width;if(ur(A,h,g,i),h=b=[b],t((g=A.C)<(i=L)),t(p.v<p.va),i>p.o&&(i=p.o),g<p.j){var k=p.j-g;g=p.j,h[0]+=k*T}if(g>=i?g=0:(h[0]+=4*p.v,p.ka=g-p.j,p.U=p.va-p.v,p.T=i-g,g=1),g){if(b=b[0],11>(g=A.ca).S){var R=g.f.RGBA,B=(i=g.S,h=p.U,p=p.T,k=R.eb,R.A),H=p;for(R=R.fb+A.Ma*R.A;0<H--;){var q=y,te=b,se=h,ee=k,he=R;switch(i){case Qs:tr(q,te,se,ee,he);break;case Sl:kr(q,te,se,ee,he);break;case Jc:kr(q,te,se,ee,he),no(ee,he,0,se,1,0);break;case tu:Hn(q,te,se,ee,he);break;case Ps:xr(q,te,se,ee,he,1);break;case yc:xr(q,te,se,ee,he,1),no(ee,he,0,se,1,0);break;case Yc:xr(q,te,se,ee,he,0);break;case Qc:xr(q,te,se,ee,he,0),no(ee,he,1,se,1,0);break;case Gh:Pn(q,te,se,ee,he);break;case Wh:Pn(q,te,se,ee,he),Ei(ee,he,se,1,0);break;case Ou:yn(q,te,se,ee,he);break;default:t(0)}b+=T,R+=B}A.Ma+=p}else alert("todo:EmitRescaledRowsYUVA");t(A.Ma<=g.height)}}A.C=L,t(A.C<=A.i)}function gn(A){var L;if(0<A.ua)return 0;for(L=0;L<A.Wb;++L){var g=A.Ya[L].G,i=A.Ya[L].H;if(0<g[1][i[1]+0].g||0<g[2][i[2]+0].g||0<g[3][i[3]+0].g)return 0}return 1}function Ir(A,L,g,i,h,p){if(A.Z!=0){var y=A.qd,b=A.rd;for(t(El[A.Z]!=null);L<g;++L)El[A.Z](y,b,i,h,i,h,p),y=i,b=h,h+=p;A.qd=y,A.rd=b}}function Yr(A,L){var g=A.l.ma,i=g.Z==0||g.Z==1?A.l.j:A.C;if(i=A.C<i?i:A.C,t(L<=A.l.o),L>i){var h=A.l.width,p=g.ca,y=g.tb+h*i,b=A.V,T=A.Ba+A.c*i,k=A.gc;t(A.ab==1),t(k[0].hc==3),mc(k[0],i,L,b,T,p,y),Ir(g,i,L,p,y,h)}A.C=A.Ma=L}function en(A,L,g,i,h,p,y){var b=A.$/i,T=A.$%i,k=A.m,R=A.s,B=g+A.$,H=B;h=g+i*h;var q=g+i*p,te=280+R.ua,se=A.Pb?b:16777216,ee=0<R.ua?R.Wa:null,he=R.wc,Se=B<q?jt(R,T,b):null;t(A.C<p),t(q<=h);var Ee=!1;e:for(;;){for(;Ee||B<q;){var ke=0;if(b>=se){var Te=B-g;t((se=A).Pb),se.wd=se.m,se.xd=Te,0<se.s.ua&&ct(se.s.Wa,se.s.vb),se=b+Kf}if(T&he||(Se=jt(R,T,b)),t(Se!=null),Se.Qb&&(L[B]=Se.qb,Ee=!0),!Ee)if(Me(k),Se.jc){ke=k,Te=L;var Fe=B,Xe=Se.pd[me(ke)&Ai-1];t(Se.jc),256>Xe.g?(Ie(ke,ke.u+Xe.g),Te[Fe]=Xe.value,ke=0):(Ie(ke,ke.u+Xe.g-256),t(256<=Xe.value),ke=Xe.value),ke==0&&(Ee=!0)}else ke=Ct(Se.G[0],Se.H[0],k);if(k.h)break;if(Ee||256>ke){if(!Ee)if(Se.nd)L[B]=(Se.qb|ke<<8)>>>0;else{if(Me(k),Ee=Ct(Se.G[1],Se.H[1],k),Me(k),Te=Ct(Se.G[2],Se.H[2],k),Fe=Ct(Se.G[3],Se.H[3],k),k.h)break;L[B]=(Fe<<24|Ee<<16|ke<<8|Te)>>>0}if(Ee=!1,++B,++T>=i&&(T=0,++b,y!=null&&b<=p&&!(b%16)&&y(A,b),ee!=null))for(;H<B;)ke=L[H++],ee.X[(506832829*ke&4294967295)>>>ee.Mb]=ke}else if(280>ke){if(ke=He(ke-256,k),Te=Ct(Se.G[4],Se.H[4],k),Me(k),Te=_t(i,Te=He(Te,k)),k.h)break;if(B-g<Te||h-B<ke)break e;for(Fe=0;Fe<ke;++Fe)L[B+Fe]=L[B+Fe-Te];for(B+=ke,T+=ke;T>=i;)T-=i,++b,y!=null&&b<=p&&!(b%16)&&y(A,b);if(t(B<=h),T&he&&(Se=jt(R,T,b)),ee!=null)for(;H<B;)ke=L[H++],ee.X[(506832829*ke&4294967295)>>>ee.Mb]=ke}else{if(!(ke<te))break e;for(Ee=ke-280,t(ee!=null);H<B;)ke=L[H++],ee.X[(506832829*ke&4294967295)>>>ee.Mb]=ke;ke=B,t(!(Ee>>>(Te=ee).Xa)),L[ke]=Te.X[Ee],Ee=!0}Ee||t(k.h==we(k))}if(A.Pb&&k.h&&B<h)t(A.m.h),A.a=5,A.m=A.wd,A.$=A.xd,0<A.s.ua&&ct(A.s.vb,A.s.Wa);else{if(k.h)break e;y!=null&&y(A,b>p?p:b),A.a=0,A.$=B-g}return 1}return A.a=3,0}function nn(A){t(A!=null),A.vc=null,A.yc=null,A.Ya=null;var L=A.Wa;L!=null&&(L.X=null),A.vb=null,t(A!=null)}function Tr(){var A=new bl;return A==null?null:(A.a=0,A.xb=vc,rn("Predictor","VP8LPredictors"),rn("Predictor","VP8LPredictors_C"),rn("PredictorAdd","VP8LPredictorsAdd"),rn("PredictorAdd","VP8LPredictorsAdd_C"),wl=Vr,xt=mt,tr=Lt,kr=Br,Pn=rt,yn=Qt,Hn=Vt,ne.VP8LMapColor32b=fa,ne.VP8LMapColor8b=gc,A)}function Hr(A,L,g,i,h){var p=1,y=[A],b=[L],T=i.m,k=i.s,R=null,B=0;e:for(;;){if(g)for(;p&&Ke(T,1);){var H=y,q=b,te=i,se=1,ee=te.m,he=te.gc[te.ab],Se=Ke(ee,2);if(te.Oc&1<<Se)p=0;else{switch(te.Oc|=1<<Se,he.hc=Se,he.Ea=H[0],he.nc=q[0],he.K=[null],++te.ab,t(4>=te.ab),Se){case 0:case 1:he.b=Ke(ee,3)+2,se=Hr(Kt(he.Ea,he.b),Kt(he.nc,he.b),0,te,he.K),he.K=he.K[0];break;case 3:var Ee,ke=Ke(ee,8)+1,Te=16<ke?0:4<ke?1:2<ke?2:3;if(H[0]=Kt(he.Ea,Te),he.b=Te,Ee=se=Hr(ke,1,0,te,he.K)){var Fe,Xe=ke,Ge=he,wt=1<<(8>>Ge.b),Mt=s(wt);if(Mt==null)Ee=0;else{var $t=Ge.K[0],qt=Ge.w;for(Mt[0]=Ge.K[0][0],Fe=1;Fe<1*Xe;++Fe)Mt[Fe]=bt($t[qt+Fe],Mt[Fe-1]);for(;Fe<4*wt;++Fe)Mt[Fe]=0;Ge.K[0]=null,Ge.K[0]=Mt,Ee=1}}se=Ee;break;case 2:break;default:t(0)}p=se}}if(y=y[0],b=b[0],p&&Ke(T,1)&&!(p=1<=(B=Ke(T,4))&&11>=B)){i.a=3;break e}var zt;if(zt=p)t:{var Bt,Ht,Ar,Yt=i,Jt=y,Mr=b,Jr=B,Wr=g,ln=Yt.m,Sn=Yt.s,Gn=[null],Pi=1,Rn=0,Wi=Cl[Jr];r:for(;;){if(Wr&&Ke(ln,1)){var Wn=Ke(ln,3)+2,ji=Kt(Jt,Wn),oo=Kt(Mr,Wn),ka=ji*oo;if(!Hr(ji,oo,0,Yt,Gn))break r;for(Gn=Gn[0],Sn.xc=Wn,Bt=0;Bt<ka;++Bt){var ss=Gn[Bt]>>8&65535;Gn[Bt]=ss,ss>=Pi&&(Pi=ss+1)}}if(ln.h)break r;for(Ht=0;5>Ht;++Ht){var ki=Xh[Ht];!Ht&&0<Jr&&(ki+=1<<Jr),Rn<ki&&(Rn=ki)}var Fu=u(Pi*Wi,oe),ls=Pi,ed=u(ls,ge);if(ed==null)var ih=null;else t(65536>=ls),ih=ed;var pa=s(Rn);if(ih==null||pa==null||Fu==null){Yt.a=1;break r}var Ia=Fu;for(Bt=Ar=0;Bt<Pi;++Bt){var $o=ih[Bt],ma=$o.G,Ji=$o.H,Jo=0,ga=1,Mn=0;for(Ht=0;5>Ht;++Ht){ki=Xh[Ht],ma[Ht]=Ia,Ji[Ht]=Ar,!Ht&&0<Jr&&(ki+=1<<Jr);i:{var Tl,$u=ki,nu=Yt,oh=pa,uy=Ia,vm=Ar,Pl=0,iu=nu.m,Xd=Ke(iu,1);if(o(oh,0,0,$u),Xd){var td=Ke(iu,1)+1,Kd=Ke(iu,1),rd=Ke(iu,Kd==0?1:8);oh[rd]=1,td==2&&(oh[rd=Ke(iu,8)]=1);var ou=1}else{var ah=s(19),rp=Ke(iu,4)+4;if(19<rp){nu.a=3;var np=0;break i}for(Tl=0;Tl<rp;++Tl)ah[fm[Tl]]=Ke(iu,3);var bm=void 0,ip=void 0,_m=nu,op=ah,xc=$u,Bu=oh,rl=0,us=_m.m,cy=8,sh=u(128,oe);n:for(;X(sh,0,7,op,19);){if(Ke(us,1)){var m5=2+2*Ke(us,3);if((bm=2+Ke(us,m5))>xc)break n}else bm=xc;for(ip=0;ip<xc&&bm--;){Me(us);var hy=sh[0+(127&me(us))];Ie(us,us.u+hy.g);var Ii=hy.value;if(16>Ii)Bu[ip++]=Ii,Ii!=0&&(cy=Ii);else{var dy=Ii==16,fy=Ii-16,nd=Xf[fy],lh=Ke(us,Wf[fy])+nd;if(ip+lh>xc)break n;for(var xm=dy?cy:0;0<lh--;)Bu[ip++]=xm}}rl=1;break n}rl||(_m.a=3),ou=rl}(ou=ou&&!iu.h)&&(Pl=X(uy,vm,8,oh,$u)),ou&&Pl!=0?np=Pl:(nu.a=3,np=0)}if(np==0)break r;if(ga&&eh[Ht]==1&&(ga=Ia[Ar].g==0),Jo+=Ia[Ar].g,Ar+=np,3>=Ht){var id,wm=pa[0];for(id=1;id<ki;++id)pa[id]>wm&&(wm=pa[id]);Mn+=wm}}if($o.nd=ga,$o.Qb=0,ga&&($o.qb=(ma[3][Ji[3]+0].value<<24|ma[1][Ji[1]+0].value<<16|ma[2][Ji[2]+0].value)>>>0,Jo==0&&256>ma[0][Ji[0]+0].value&&($o.Qb=1,$o.qb+=ma[0][Ji[0]+0].value<<8)),$o.jc=!$o.Qb&&6>Mn,$o.jc){var Sm,zu=$o;for(Sm=0;Sm<Ai;++Sm){var uh=Sm,ju=zu.pd[uh],Cm=zu.G[0][zu.H[0]+uh];256<=Cm.value?(ju.g=Cm.g+256,ju.value=Cm.value):(ju.g=0,ju.value=0,uh>>=gt(Cm,8,ju),uh>>=gt(zu.G[1][zu.H[1]+uh],16,ju),uh>>=gt(zu.G[2][zu.H[2]+uh],0,ju),gt(zu.G[3][zu.H[3]+uh],24,ju))}}}Sn.vc=Gn,Sn.Wb=Pi,Sn.Ya=ih,Sn.yc=Fu,zt=1;break t}zt=0}if(!(p=zt)){i.a=3;break e}if(0<B){if(k.ua=1<<B,!kt(k.Wa,B)){i.a=1,p=0;break e}}else k.ua=0;var ap=i,py=y,b2=b,ch=ap.s,my=ch.xc;if(ap.c=py,ap.i=b2,ch.md=Kt(py,my),ch.wc=my==0?-1:(1<<my)-1,g){i.xb=rh;break e}if((R=s(y*b))==null){i.a=1,p=0;break e}p=(p=en(i,R,0,y,b,b,null))&&!T.h;break e}return p?(h!=null?h[0]=R:(t(R==null),t(g)),i.$=0,g||nn(k)):nn(k),p}function _n(A,L){var g=A.c*A.i,i=g+L+16*L;return t(A.c<=L),A.V=s(i),A.V==null?(A.Ta=null,A.Ua=0,A.a=1,0):(A.Ta=A.V,A.Ua=A.Ba+g+L,1)}function Cn(A,L){var g=A.C,i=L-g,h=A.V,p=A.Ba+A.c*g;for(t(L<=A.l.o);0<i;){var y=16<i?16:i,b=A.l.ma,T=A.l.width,k=T*y,R=b.ca,B=b.tb+T*g,H=A.Ta,q=A.Ua;ur(A,y,h,p),ns(H,q,R,B,k),Ir(b,g,g+y,R,B,T),i-=y,h+=y*A.c,g+=y}t(g==L),A.C=A.Ma=L}function xi(){this.ub=this.yd=this.td=this.Rb=0}function Ni(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Fi(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Xs(){this.Yb=function(){var A=[];return function L(g,i,h){for(var p=h[i],y=0;y<p&&(g.push(h.length>i+1?[]:0),!(h.length<i+1));y++)L(g[y],i+1,h)}(A,0,[3,11]),A}()}function Dn(){this.jb=s(3),this.Wc=l([4,8],Xs),this.Xc=l([4,17],Xs)}function Wl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function bs(){this.ld=this.La=this.dd=this.tc=0}function Fn(){this.Na=this.la=0}function Mo(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ku(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function qi(){this.uc=this.M=this.Nb=0,this.wa=Array(new bs),this.Y=0,this.ya=Array(new ku),this.aa=0,this.l=new fo}function pi(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Ya(){this.cb=this.a=0,this.sc="",this.m=new ht,this.Od=new xi,this.Kc=new Ni,this.ed=new Wl,this.Qa=new Fi,this.Ic=this.$c=this.Aa=0,this.D=new qi,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,ht),this.ia=0,this.pb=u(4,Mo),this.Pa=new Dn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new pi),this.Hd=0,this.rb=Array(new Fn),this.sb=0,this.wa=Array(new bs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ku),this.L=this.aa=0,this.gd=l([4,2],bs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function fo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ei(){var A=new Ya;return A!=null&&(A.a=0,A.sc="OK",A.cb=0,A.Xb=0,Kh||(Kh=Xl)),A}function li(A,L,g){return A.a==0&&(A.a=L,A.sc=g,A.cb=0),0}function la(A,L,g){return 3<=g&&A[L+0]==157&&A[L+1]==1&&A[L+2]==42}function wi(A,L){if(A==null)return 0;if(A.a=0,A.sc="OK",L==null)return li(A,2,"null VP8Io passed to VP8GetHeaders()");var g=L.data,i=L.w,h=L.ha;if(4>h)return li(A,7,"Truncated header.");var p=g[i+0]|g[i+1]<<8|g[i+2]<<16,y=A.Od;if(y.Rb=!(1&p),y.td=p>>1&7,y.yd=p>>4&1,y.ub=p>>5,3<y.td)return li(A,3,"Incorrect keyframe parameters.");if(!y.yd)return li(A,4,"Frame not displayable.");i+=3,h-=3;var b=A.Kc;if(y.Rb){if(7>h)return li(A,7,"cannot parse picture header");if(!la(g,i,h))return li(A,3,"Bad code word");b.c=16383&(g[i+4]<<8|g[i+3]),b.Td=g[i+4]>>6,b.i=16383&(g[i+6]<<8|g[i+5]),b.Ud=g[i+6]>>6,i+=7,h-=7,A.za=b.c+15>>4,A.Ub=b.i+15>>4,L.width=b.c,L.height=b.i,L.Da=0,L.j=0,L.v=0,L.va=L.width,L.o=L.height,L.da=0,L.ib=L.width,L.hb=L.height,L.U=L.width,L.T=L.height,o((p=A.Pa).jb,0,255,p.jb.length),t((p=A.Qa)!=null),p.Cb=0,p.Bb=0,p.Fb=1,o(p.Zb,0,0,p.Zb.length),o(p.Lb,0,0,p.Lb)}if(y.ub>h)return li(A,7,"bad partition length");De(p=A.m,g,i,y.ub),i+=y.ub,h-=y.ub,y.Rb&&(b.Ld=Ue(p),b.Kd=Ue(p)),b=A.Qa;var T,k=A.Pa;if(t(p!=null),t(b!=null),b.Cb=Ue(p),b.Cb){if(b.Bb=Ue(p),Ue(p)){for(b.Fb=Ue(p),T=0;4>T;++T)b.Zb[T]=Ue(p)?je(p,7):0;for(T=0;4>T;++T)b.Lb[T]=Ue(p)?je(p,6):0}if(b.Bb)for(T=0;3>T;++T)k.jb[T]=Ue(p)?Le(p,8):255}else b.Bb=0;if(p.Ka)return li(A,3,"cannot parse segment header");if((b=A.ed).zd=Ue(p),b.Tb=Le(p,6),b.wb=Le(p,3),b.Pc=Ue(p),b.Pc&&Ue(p)){for(k=0;4>k;++k)Ue(p)&&(b.vd[k]=je(p,6));for(k=0;4>k;++k)Ue(p)&&(b.od[k]=je(p,6))}if(A.L=b.Tb==0?0:b.zd?1:2,p.Ka)return li(A,3,"cannot parse filter header");var R=h;if(h=T=i,i=T+R,b=R,A.Xb=(1<<Le(A.m,2))-1,R<3*(k=A.Xb))g=7;else{for(T+=3*k,b-=3*k,R=0;R<k;++R){var B=g[h+0]|g[h+1]<<8|g[h+2]<<16;B>b&&(B=b),De(A.Jc[+R],g,T,B),T+=B,b-=B,h+=3}De(A.Jc[+k],g,T,b),g=T<i?0:5}if(g!=0)return li(A,g,"cannot parse partitions");for(g=Le(T=A.m,7),h=Ue(T)?je(T,4):0,i=Ue(T)?je(T,4):0,b=Ue(T)?je(T,4):0,k=Ue(T)?je(T,4):0,T=Ue(T)?je(T,4):0,R=A.Qa,B=0;4>B;++B){if(R.Cb){var H=R.Zb[B];R.Fb||(H+=g)}else{if(0<B){A.pb[B]=A.pb[0];continue}H=g}var q=A.pb[B];q.Sc[0]=is[An(H+h,127)],q.Sc[1]=ru[An(H+0,127)],q.Eb[0]=2*is[An(H+i,127)],q.Eb[1]=101581*ru[An(H+b,127)]>>16,8>q.Eb[1]&&(q.Eb[1]=8),q.Qc[0]=is[An(H+k,117)],q.Qc[1]=ru[An(H+T,127)],q.lc=H+T}if(!y.Rb)return li(A,4,"Not a key frame.");for(Ue(p),y=A.Pa,g=0;4>g;++g){for(h=0;8>h;++h)for(i=0;3>i;++i)for(b=0;11>b;++b)k=qe(p,Is[g][h][i][b])?Le(p,8):Yf[g][h][i][b],y.Wc[g][h].Yb[i][b]=k;for(h=0;17>h;++h)y.Xc[g][h]=y.Wc[g][yr[h]]}return A.kc=Ue(p),A.kc&&(A.Bd=Le(p,8)),A.cb=1}function Xl(A,L,g,i,h,p,y){var b=L[h].Yb[g];for(g=0;16>h;++h){if(!qe(A,b[g+0]))return h;for(;!qe(A,b[g+1]);)if(b=L[++h].Yb[0],g=0,h==16)return 16;var T=L[h+1].Yb;if(qe(A,b[g+2])){var k=A,R=0;if(qe(k,(H=b)[(B=g)+3]))if(qe(k,H[B+6])){for(b=0,B=2*(R=qe(k,H[B+8]))+(H=qe(k,H[B+9+R])),R=0,H=sy[B];H[b];++b)R+=R+qe(k,H[b]);R+=3+(8<<B)}else qe(k,H[B+7])?(R=7+2*qe(k,165),R+=qe(k,145)):R=5+qe(k,159);else R=qe(k,H[B+4])?3+qe(k,H[B+5]):2;b=T[2]}else R=1,b=T[1];T=y+pm[h],0>(k=A).b&&tt(k);var B,H=k.b,q=(B=k.Ca>>1)-(k.I>>H)>>31;--k.b,k.Ca+=q,k.Ca|=1,k.I-=(B+1&q)<<H,p[T]=((R^q)-q)*i[(0<h)+0]}return 16}function Do(A){var L=A.rb[A.sb-1];L.la=0,L.Na=0,o(A.zc,0,0,A.zc.length),A.ja=0}function Kl(A,L){if(A==null)return 0;if(L==null)return li(A,2,"NULL VP8Io parameter in VP8Decode().");if(!A.cb&&!wi(A,L))return 0;if(t(A.cb),L.ac==null||L.ac(L)){L.ob&&(A.L=0);var g=Nu[A.L];if(A.L==2?(A.yb=0,A.zb=0):(A.yb=L.v-g>>4,A.zb=L.j-g>>4,0>A.yb&&(A.yb=0),0>A.zb&&(A.zb=0)),A.Va=L.o+15+g>>4,A.Hb=L.va+15+g>>4,A.Hb>A.za&&(A.Hb=A.za),A.Va>A.Ub&&(A.Va=A.Ub),0<A.L){var i=A.ed;for(g=0;4>g;++g){var h;if(A.Qa.Cb){var p=A.Qa.Lb[g];A.Qa.Fb||(p+=i.Tb)}else p=i.Tb;for(h=0;1>=h;++h){var y=A.gd[g][h],b=p;if(i.Pc&&(b+=i.vd[0],h&&(b+=i.od[0])),0<(b=0>b?0:63<b?63:b)){var T=b;0<i.wb&&(T=4<i.wb?T>>2:T>>1)>9-i.wb&&(T=9-i.wb),1>T&&(T=1),y.dd=T,y.tc=2*b+T,y.ld=40<=b?2:15<=b?1:0}else y.tc=0;y.La=h}}}g=0}else li(A,6,"Frame setup failed"),g=A.a;if(g=g==0){if(g){A.$c=0,0<A.Aa||(A.Ic=Gr);e:{g=A.Ic,i=4*(T=A.za);var k=32*T,R=T+1,B=0<A.L?T*(0<A.Aa?2:1):0,H=(A.Aa==2?2:1)*T;if((y=i+832+(h=3*(16*g+Nu[A.L])/2*k)+(p=A.Fa!=null&&0<A.Fa.length?A.Kc.c*A.Kc.i:0))!=y)g=0;else{if(y>A.Vb){if(A.Vb=0,A.Ec=s(y),A.Fc=0,A.Ec==null){g=li(A,1,"no memory during frame initialization.");break e}A.Vb=y}y=A.Ec,b=A.Fc,A.Ac=y,A.Bc=b,b+=i,A.Gd=u(k,pi),A.Hd=0,A.rb=u(R+1,Fn),A.sb=1,A.wa=B?u(B,bs):null,A.Y=0,A.D.Nb=0,A.D.wa=A.wa,A.D.Y=A.Y,0<A.Aa&&(A.D.Y+=T),t(!0),A.oc=y,A.pc=b,b+=832,A.ya=u(H,ku),A.aa=0,A.D.ya=A.ya,A.D.aa=A.aa,A.Aa==2&&(A.D.aa+=T),A.R=16*T,A.B=8*T,T=(k=Nu[A.L])*A.R,k=k/2*A.B,A.sa=y,A.ta=b+T,A.qa=A.sa,A.ra=A.ta+16*g*A.R+k,A.Ha=A.qa,A.Ia=A.ra+8*g*A.B+k,A.$c=0,b+=h,A.mb=p?y:null,A.nb=p?b:null,t(b+p<=A.Fc+A.Vb),Do(A),o(A.Ac,A.Bc,0,i),g=1}}if(g){if(L.ka=0,L.y=A.sa,L.O=A.ta,L.f=A.qa,L.N=A.ra,L.ea=A.Ha,L.Vd=A.Ia,L.fa=A.R,L.Rc=A.B,L.F=null,L.J=0,!za){for(g=-255;255>=g;++g)Es[255+g]=0>g?-g:g;for(g=-1020;1020>=g;++g)oi[1020+g]=-128>g?-128:127<g?127:g;for(g=-112;112>=g;++g)Yo[112+g]=-16>g?-16:15<g?15:g;for(g=-255;510>=g;++g)io[255+g]=0>g?0:255<g?255:g;za=1}jn=ze,Ao=kn,Zn=D,gi=G,zi=ye,ui=Qa,ci=gl,No=yl,Eo=fc,Zo=Mu,Pa=Aa,ro=Ks,Ba=Jl,hi=vl,ii=Na,on=wn,sn=Fa,Fo=Hh,os[0]=xn,os[1]=it,os[2]=Nt,os[3]=Sr,os[4]=Bi,os[5]=pl,os[6]=ti,os[7]=Iu,os[8]=Kc,os[9]=ri,el[0]=nr,el[1]=Ut,el[2]=Wt,el[3]=sr,el[4]=wr,el[5]=Kn,el[6]=Fr,Al[0]=es,Al[1]=dt,Al[2]=qh,Al[3]=ua,Al[4]=ts,Al[5]=Yl,Al[6]=ml,g=1}else g=0}g&&(g=function(q,te){for(q.M=0;q.M<q.Va;++q.M){var se,ee=q.Jc[q.M&q.Xb],he=q.m,Se=q;for(se=0;se<Se.za;++se){var Ee=he,ke=Se,Te=ke.Ac,Fe=ke.Bc+4*se,Xe=ke.zc,Ge=ke.ya[ke.aa+se];if(ke.Qa.Bb?Ge.$b=qe(Ee,ke.Pa.jb[0])?2+qe(Ee,ke.Pa.jb[2]):qe(Ee,ke.Pa.jb[1]):Ge.$b=0,ke.kc&&(Ge.Ad=qe(Ee,ke.Bd)),Ge.Za=!qe(Ee,145)+0,Ge.Za){var wt=Ge.Ob,Mt=0;for(ke=0;4>ke;++ke){var $t,qt=Xe[0+ke];for($t=0;4>$t;++$t){qt=th[Te[Fe+$t]][qt];for(var zt=Zf[qe(Ee,qt[0])];0<zt;)zt=Zf[2*zt+qe(Ee,qt[zt])];qt=-zt,Te[Fe+$t]=qt}n(wt,Mt,Te,Fe,4),Mt+=4,Xe[0+ke]=qt}}else qt=qe(Ee,156)?qe(Ee,128)?1:3:qe(Ee,163)?2:0,Ge.Ob[0]=qt,o(Te,Fe,qt,4),o(Xe,0,qt,4);Ge.Dd=qe(Ee,142)?qe(Ee,114)?qe(Ee,183)?1:3:2:0}if(Se.m.Ka)return li(q,7,"Premature end-of-partition0 encountered.");for(;q.ja<q.za;++q.ja){if(Se=ee,Ee=(he=q).rb[he.sb-1],Te=he.rb[he.sb+he.ja],se=he.ya[he.aa+he.ja],Fe=he.kc?se.Ad:0)Ee.la=Te.la=0,se.Za||(Ee.Na=Te.Na=0),se.Hc=0,se.Gc=0,se.ia=0;else{var Bt,Ht;if(Ee=Te,Te=Se,Fe=he.Pa.Xc,Xe=he.ya[he.aa+he.ja],Ge=he.pb[Xe.$b],ke=Xe.ad,wt=0,Mt=he.rb[he.sb-1],qt=$t=0,o(ke,wt,0,384),Xe.Za)var Ar=0,Yt=Fe[3];else{zt=s(16);var Jt=Ee.Na+Mt.Na;if(Jt=Kh(Te,Fe[1],Jt,Ge.Eb,0,zt,0),Ee.Na=Mt.Na=(0<Jt)+0,1<Jt)jn(zt,0,ke,wt);else{var Mr=zt[0]+3>>3;for(zt=0;256>zt;zt+=16)ke[wt+zt]=Mr}Ar=1,Yt=Fe[0]}var Jr=15&Ee.la,Wr=15&Mt.la;for(zt=0;4>zt;++zt){var ln=1&Wr;for(Mr=Ht=0;4>Mr;++Mr)Jr=Jr>>1|(ln=(Jt=Kh(Te,Yt,Jt=ln+(1&Jr),Ge.Sc,Ar,ke,wt))>Ar)<<7,Ht=Ht<<2|(3<Jt?3:1<Jt?2:ke[wt+0]!=0),wt+=16;Jr>>=4,Wr=Wr>>1|ln<<7,$t=($t<<8|Ht)>>>0}for(Yt=Jr,Ar=Wr>>4,Bt=0;4>Bt;Bt+=2){for(Ht=0,Jr=Ee.la>>4+Bt,Wr=Mt.la>>4+Bt,zt=0;2>zt;++zt){for(ln=1&Wr,Mr=0;2>Mr;++Mr)Jt=ln+(1&Jr),Jr=Jr>>1|(ln=0<(Jt=Kh(Te,Fe[2],Jt,Ge.Qc,0,ke,wt)))<<3,Ht=Ht<<2|(3<Jt?3:1<Jt?2:ke[wt+0]!=0),wt+=16;Jr>>=2,Wr=Wr>>1|ln<<5}qt|=Ht<<4*Bt,Yt|=Jr<<4<<Bt,Ar|=(240&Wr)<<Bt}Ee.la=Yt,Mt.la=Ar,Xe.Hc=$t,Xe.Gc=qt,Xe.ia=43690&qt?0:Ge.ia,Fe=!($t|qt)}if(0<he.L&&(he.wa[he.Y+he.ja]=he.gd[se.$b][se.Za],he.wa[he.Y+he.ja].La|=!Fe),Se.Ka)return li(q,7,"Premature end-of-file encountered.")}if(Do(q),he=te,Se=1,se=(ee=q).D,Ee=0<ee.L&&ee.M>=ee.zb&&ee.M<=ee.Va,ee.Aa==0)e:{if(se.M=ee.M,se.uc=Ee,Ss(ee,se),Se=1,se=(Ht=ee.D).Nb,Ee=(qt=Nu[ee.L])*ee.R,Te=qt/2*ee.B,zt=16*se*ee.R,Mr=8*se*ee.B,Fe=ee.sa,Xe=ee.ta-Ee+zt,Ge=ee.qa,ke=ee.ra-Te+Mr,wt=ee.Ha,Mt=ee.Ia-Te+Mr,Wr=(Jr=Ht.M)==0,$t=Jr>=ee.Va-1,ee.Aa==2&&Ss(ee,Ht),Ht.uc)for(ln=(Jt=ee).D.M,t(Jt.D.uc),Ht=Jt.yb;Ht<Jt.Hb;++Ht){Ar=Ht,Yt=ln;var Sn=(Gn=(ki=Jt).D).Nb;Bt=ki.R;var Gn=Gn.wa[Gn.Y+Ar],Pi=ki.sa,Rn=ki.ta+16*Sn*Bt+16*Ar,Wi=Gn.dd,Wn=Gn.tc;if(Wn!=0)if(t(3<=Wn),ki.L==1)0<Ar&&on(Pi,Rn,Bt,Wn+4),Gn.La&&Fo(Pi,Rn,Bt,Wn),0<Yt&&ii(Pi,Rn,Bt,Wn+4),Gn.La&&sn(Pi,Rn,Bt,Wn);else{var ji=ki.B,oo=ki.qa,ka=ki.ra+8*Sn*ji+8*Ar,ss=ki.Ha,ki=ki.Ia+8*Sn*ji+8*Ar;Sn=Gn.ld,0<Ar&&(No(Pi,Rn,Bt,Wn+4,Wi,Sn),Zo(oo,ka,ss,ki,ji,Wn+4,Wi,Sn)),Gn.La&&(ro(Pi,Rn,Bt,Wn,Wi,Sn),hi(oo,ka,ss,ki,ji,Wn,Wi,Sn)),0<Yt&&(ci(Pi,Rn,Bt,Wn+4,Wi,Sn),Eo(oo,ka,ss,ki,ji,Wn+4,Wi,Sn)),Gn.La&&(Pa(Pi,Rn,Bt,Wn,Wi,Sn),Ba(oo,ka,ss,ki,ji,Wn,Wi,Sn))}}if(ee.ia&&alert("todo:DitherRow"),he.put!=null){if(Ht=16*Jr,Jr=16*(Jr+1),Wr?(he.y=ee.sa,he.O=ee.ta+zt,he.f=ee.qa,he.N=ee.ra+Mr,he.ea=ee.Ha,he.W=ee.Ia+Mr):(Ht-=qt,he.y=Fe,he.O=Xe,he.f=Ge,he.N=ke,he.ea=wt,he.W=Mt),$t||(Jr-=qt),Jr>he.o&&(Jr=he.o),he.F=null,he.J=null,ee.Fa!=null&&0<ee.Fa.length&&Ht<Jr&&(he.J=_l(ee,he,Ht,Jr-Ht),he.F=ee.mb,he.F==null&&he.F.length==0)){Se=li(ee,3,"Could not decode alpha data.");break e}Ht<he.j&&(qt=he.j-Ht,Ht=he.j,t(!(1&qt)),he.O+=ee.R*qt,he.N+=ee.B*(qt>>1),he.W+=ee.B*(qt>>1),he.F!=null&&(he.J+=he.width*qt)),Ht<Jr&&(he.O+=he.v,he.N+=he.v>>1,he.W+=he.v>>1,he.F!=null&&(he.J+=he.v),he.ka=Ht-he.j,he.U=he.va-he.v,he.T=Jr-Ht,Se=he.put(he))}se+1!=ee.Ic||$t||(n(ee.sa,ee.ta-Ee,Fe,Xe+16*ee.R,Ee),n(ee.qa,ee.ra-Te,Ge,ke+8*ee.B,Te),n(ee.Ha,ee.Ia-Te,wt,Mt+8*ee.B,Te))}if(!Se)return li(q,6,"Output aborted.")}return 1}(A,L)),L.bc!=null&&L.bc(L),g&=1}return g?(A.cb=0,g):0}function $i(A,L,g,i,h){h=A[L+g+32*i]+(h>>3),A[L+g+32*i]=-256&h?0>h?0:255:h}function Zl(A,L,g,i,h,p){$i(A,L,0,g,i+h),$i(A,L,1,g,i+p),$i(A,L,2,g,i-p),$i(A,L,3,g,i-h)}function wo(A){return(20091*A>>16)+A}function Ja(A,L,g,i){var h,p=0,y=s(16);for(h=0;4>h;++h){var b=A[L+0]+A[L+8],T=A[L+0]-A[L+8],k=(35468*A[L+4]>>16)-wo(A[L+12]),R=wo(A[L+4])+(35468*A[L+12]>>16);y[p+0]=b+R,y[p+1]=T+k,y[p+2]=T-k,y[p+3]=b-R,p+=4,L++}for(h=p=0;4>h;++h)b=(A=y[p+0]+4)+y[p+8],T=A-y[p+8],k=(35468*y[p+4]>>16)-wo(y[p+12]),$i(g,i,0,0,b+(R=wo(y[p+4])+(35468*y[p+12]>>16))),$i(g,i,1,0,T+k),$i(g,i,2,0,T-k),$i(g,i,3,0,b-R),p++,i+=32}function Qa(A,L,g,i){var h=A[L+0]+4,p=35468*A[L+4]>>16,y=wo(A[L+4]),b=35468*A[L+1]>>16;Zl(g,i,0,h+y,A=wo(A[L+1]),b),Zl(g,i,1,h+p,A,b),Zl(g,i,2,h-p,A,b),Zl(g,i,3,h-y,A,b)}function kn(A,L,g,i,h){Ja(A,L,g,i),h&&Ja(A,L+16,g,i+4)}function D(A,L,g,i){Ao(A,L+0,g,i,1),Ao(A,L+32,g,i+128,1)}function G(A,L,g,i){var h;for(A=A[L+0]+4,h=0;4>h;++h)for(L=0;4>L;++L)$i(g,i,L,h,A)}function ye(A,L,g,i){A[L+0]&&gi(A,L+0,g,i),A[L+16]&&gi(A,L+16,g,i+4),A[L+32]&&gi(A,L+32,g,i+128),A[L+48]&&gi(A,L+48,g,i+128+4)}function ze(A,L,g,i){var h,p=s(16);for(h=0;4>h;++h){var y=A[L+0+h]+A[L+12+h],b=A[L+4+h]+A[L+8+h],T=A[L+4+h]-A[L+8+h],k=A[L+0+h]-A[L+12+h];p[0+h]=y+b,p[8+h]=y-b,p[4+h]=k+T,p[12+h]=k-T}for(h=0;4>h;++h)y=(A=p[0+4*h]+3)+p[3+4*h],b=p[1+4*h]+p[2+4*h],T=p[1+4*h]-p[2+4*h],k=A-p[3+4*h],g[i+0]=y+b>>3,g[i+16]=k+T>>3,g[i+32]=y-b>>3,g[i+48]=k-T>>3,i+=64}function et(A,L,g){var i,h=L-32,p=Yi,y=255-A[h-1];for(i=0;i<g;++i){var b,T=p,k=y+A[L-1];for(b=0;b<g;++b)A[L+b]=T[k+A[h+b]];L+=32}}function it(A,L){et(A,L,4)}function dt(A,L){et(A,L,8)}function Ut(A,L){et(A,L,16)}function Wt(A,L){var g;for(g=0;16>g;++g)n(A,L+32*g,A,L-32,16)}function sr(A,L){var g;for(g=16;0<g;--g)o(A,L,A[L-1],16),L+=32}function ar(A,L,g){var i;for(i=0;16>i;++i)o(L,g+32*i,A,16)}function nr(A,L){var g,i=16;for(g=0;16>g;++g)i+=A[L-1+32*g]+A[L+g-32];ar(i>>5,A,L)}function wr(A,L){var g,i=8;for(g=0;16>g;++g)i+=A[L-1+32*g];ar(i>>4,A,L)}function Kn(A,L){var g,i=8;for(g=0;16>g;++g)i+=A[L+g-32];ar(i>>4,A,L)}function Fr(A,L){ar(128,A,L)}function fr(A,L,g){return A+2*L+g+2>>2}function Nt(A,L){var g,i=L-32;for(i=new Uint8Array([fr(A[i-1],A[i+0],A[i+1]),fr(A[i+0],A[i+1],A[i+2]),fr(A[i+1],A[i+2],A[i+3]),fr(A[i+2],A[i+3],A[i+4])]),g=0;4>g;++g)n(A,L+32*g,i,0,i.length)}function Sr(A,L){var g=A[L-1],i=A[L-1+32],h=A[L-1+64],p=A[L-1+96];lt(A,L+0,16843009*fr(A[L-1-32],g,i)),lt(A,L+32,16843009*fr(g,i,h)),lt(A,L+64,16843009*fr(i,h,p)),lt(A,L+96,16843009*fr(h,p,p))}function xn(A,L){var g,i=4;for(g=0;4>g;++g)i+=A[L+g-32]+A[L-1+32*g];for(i>>=3,g=0;4>g;++g)o(A,L+32*g,i,4)}function Bi(A,L){var g=A[L-1+0],i=A[L-1+32],h=A[L-1+64],p=A[L-1-32],y=A[L+0-32],b=A[L+1-32],T=A[L+2-32],k=A[L+3-32];A[L+0+96]=fr(i,h,A[L-1+96]),A[L+1+96]=A[L+0+64]=fr(g,i,h),A[L+2+96]=A[L+1+64]=A[L+0+32]=fr(p,g,i),A[L+3+96]=A[L+2+64]=A[L+1+32]=A[L+0+0]=fr(y,p,g),A[L+3+64]=A[L+2+32]=A[L+1+0]=fr(b,y,p),A[L+3+32]=A[L+2+0]=fr(T,b,y),A[L+3+0]=fr(k,T,b)}function ti(A,L){var g=A[L+1-32],i=A[L+2-32],h=A[L+3-32],p=A[L+4-32],y=A[L+5-32],b=A[L+6-32],T=A[L+7-32];A[L+0+0]=fr(A[L+0-32],g,i),A[L+1+0]=A[L+0+32]=fr(g,i,h),A[L+2+0]=A[L+1+32]=A[L+0+64]=fr(i,h,p),A[L+3+0]=A[L+2+32]=A[L+1+64]=A[L+0+96]=fr(h,p,y),A[L+3+32]=A[L+2+64]=A[L+1+96]=fr(p,y,b),A[L+3+64]=A[L+2+96]=fr(y,b,T),A[L+3+96]=fr(b,T,T)}function pl(A,L){var g=A[L-1+0],i=A[L-1+32],h=A[L-1+64],p=A[L-1-32],y=A[L+0-32],b=A[L+1-32],T=A[L+2-32],k=A[L+3-32];A[L+0+0]=A[L+1+64]=p+y+1>>1,A[L+1+0]=A[L+2+64]=y+b+1>>1,A[L+2+0]=A[L+3+64]=b+T+1>>1,A[L+3+0]=T+k+1>>1,A[L+0+96]=fr(h,i,g),A[L+0+64]=fr(i,g,p),A[L+0+32]=A[L+1+96]=fr(g,p,y),A[L+1+32]=A[L+2+96]=fr(p,y,b),A[L+2+32]=A[L+3+96]=fr(y,b,T),A[L+3+32]=fr(b,T,k)}function Iu(A,L){var g=A[L+0-32],i=A[L+1-32],h=A[L+2-32],p=A[L+3-32],y=A[L+4-32],b=A[L+5-32],T=A[L+6-32],k=A[L+7-32];A[L+0+0]=g+i+1>>1,A[L+1+0]=A[L+0+64]=i+h+1>>1,A[L+2+0]=A[L+1+64]=h+p+1>>1,A[L+3+0]=A[L+2+64]=p+y+1>>1,A[L+0+32]=fr(g,i,h),A[L+1+32]=A[L+0+96]=fr(i,h,p),A[L+2+32]=A[L+1+96]=fr(h,p,y),A[L+3+32]=A[L+2+96]=fr(p,y,b),A[L+3+64]=fr(y,b,T),A[L+3+96]=fr(b,T,k)}function ri(A,L){var g=A[L-1+0],i=A[L-1+32],h=A[L-1+64],p=A[L-1+96];A[L+0+0]=g+i+1>>1,A[L+2+0]=A[L+0+32]=i+h+1>>1,A[L+2+32]=A[L+0+64]=h+p+1>>1,A[L+1+0]=fr(g,i,h),A[L+3+0]=A[L+1+32]=fr(i,h,p),A[L+3+32]=A[L+1+64]=fr(h,p,p),A[L+3+64]=A[L+2+64]=A[L+0+96]=A[L+1+96]=A[L+2+96]=A[L+3+96]=p}function Kc(A,L){var g=A[L-1+0],i=A[L-1+32],h=A[L-1+64],p=A[L-1+96],y=A[L-1-32],b=A[L+0-32],T=A[L+1-32],k=A[L+2-32];A[L+0+0]=A[L+2+32]=g+y+1>>1,A[L+0+32]=A[L+2+64]=i+g+1>>1,A[L+0+64]=A[L+2+96]=h+i+1>>1,A[L+0+96]=p+h+1>>1,A[L+3+0]=fr(b,T,k),A[L+2+0]=fr(y,b,T),A[L+1+0]=A[L+3+32]=fr(g,y,b),A[L+1+32]=A[L+3+64]=fr(i,g,y),A[L+1+64]=A[L+3+96]=fr(h,i,g),A[L+1+96]=fr(p,h,i)}function qh(A,L){var g;for(g=0;8>g;++g)n(A,L+32*g,A,L-32,8)}function ua(A,L){var g;for(g=0;8>g;++g)o(A,L,A[L-1],8),L+=32}function Oa(A,L,g){var i;for(i=0;8>i;++i)o(L,g+32*i,A,8)}function es(A,L){var g,i=8;for(g=0;8>g;++g)i+=A[L+g-32]+A[L-1+32*g];Oa(i>>4,A,L)}function Yl(A,L){var g,i=4;for(g=0;8>g;++g)i+=A[L+g-32];Oa(i>>3,A,L)}function ts(A,L){var g,i=4;for(g=0;8>g;++g)i+=A[L-1+32*g];Oa(i>>3,A,L)}function ml(A,L){Oa(128,A,L)}function Ro(A,L,g){var i=A[L-g],h=A[L+0],p=3*(h-i)+Ru[1020+A[L-2*g]-A[L+g]],y=Ts[112+(p+4>>3)];A[L-g]=Yi[255+i+Ts[112+(p+3>>3)]],A[L+0]=Yi[255+h-y]}function Zc(A,L,g,i){var h=A[L+0],p=A[L+g];return Ti[255+A[L-2*g]-A[L-g]]>i||Ti[255+p-h]>i}function Lu(A,L,g,i){return 4*Ti[255+A[L-g]-A[L+0]]+Ti[255+A[L-2*g]-A[L+g]]<=i}function _s(A,L,g,i,h){var p=A[L-3*g],y=A[L-2*g],b=A[L-g],T=A[L+0],k=A[L+g],R=A[L+2*g],B=A[L+3*g];return 4*Ti[255+b-T]+Ti[255+y-k]>i?0:Ti[255+A[L-4*g]-p]<=h&&Ti[255+p-y]<=h&&Ti[255+y-b]<=h&&Ti[255+B-R]<=h&&Ti[255+R-k]<=h&&Ti[255+k-T]<=h}function Na(A,L,g,i){var h=2*i+1;for(i=0;16>i;++i)Lu(A,L+i,g,h)&&Ro(A,L+i,g)}function wn(A,L,g,i){var h=2*i+1;for(i=0;16>i;++i)Lu(A,L+i*g,1,h)&&Ro(A,L+i*g,1)}function Fa(A,L,g,i){var h;for(h=3;0<h;--h)Na(A,L+=4*g,g,i)}function Hh(A,L,g,i){var h;for(h=3;0<h;--h)wn(A,L+=4,g,i)}function Ca(A,L,g,i,h,p,y,b){for(p=2*p+1;0<h--;){if(_s(A,L,g,p,y))if(Zc(A,L,g,b))Ro(A,L,g);else{var T=A,k=L,R=g,B=T[k-2*R],H=T[k-R],q=T[k+0],te=T[k+R],se=T[k+2*R],ee=27*(Se=Ru[1020+3*(q-H)+Ru[1020+B-te]])+63>>7,he=18*Se+63>>7,Se=9*Se+63>>7;T[k-3*R]=Yi[255+T[k-3*R]+Se],T[k-2*R]=Yi[255+B+he],T[k-R]=Yi[255+H+ee],T[k+0]=Yi[255+q-ee],T[k+R]=Yi[255+te-he],T[k+2*R]=Yi[255+se-Se]}L+=i}}function ca(A,L,g,i,h,p,y,b){for(p=2*p+1;0<h--;){if(_s(A,L,g,p,y))if(Zc(A,L,g,b))Ro(A,L,g);else{var T=A,k=L,R=g,B=T[k-R],H=T[k+0],q=T[k+R],te=Ts[112+((se=3*(H-B))+4>>3)],se=Ts[112+(se+3>>3)],ee=te+1>>1;T[k-2*R]=Yi[255+T[k-2*R]+ee],T[k-R]=Yi[255+B+se],T[k+0]=Yi[255+H-te],T[k+R]=Yi[255+q-ee]}L+=i}}function gl(A,L,g,i,h,p){Ca(A,L,g,1,16,i,h,p)}function yl(A,L,g,i,h,p){Ca(A,L,1,g,16,i,h,p)}function Aa(A,L,g,i,h,p){var y;for(y=3;0<y;--y)ca(A,L+=4*g,g,1,16,i,h,p)}function Ks(A,L,g,i,h,p){var y;for(y=3;0<y;--y)ca(A,L+=4,1,g,16,i,h,p)}function fc(A,L,g,i,h,p,y,b){Ca(A,L,h,1,8,p,y,b),Ca(g,i,h,1,8,p,y,b)}function Mu(A,L,g,i,h,p,y,b){Ca(A,L,1,h,8,p,y,b),Ca(g,i,1,h,8,p,y,b)}function Jl(A,L,g,i,h,p,y,b){ca(A,L+4*h,h,1,8,p,y,b),ca(g,i+4*h,h,1,8,p,y,b)}function vl(A,L,g,i,h,p,y,b){ca(A,L+4,1,h,8,p,y,b),ca(g,i+4,1,h,8,p,y,b)}function Ea(){this.ba=new _i,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ne,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ql(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function pc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function rs(){this.ua=0,this.Wa=new de,this.vb=new de,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ge,this.yc=new oe}function bl(){this.xb=this.a=0,this.l=new fo,this.ca=new _i,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new le,this.Pb=0,this.wd=new le,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new rs,this.ab=0,this.gc=u(4,pc),this.Oc=0}function Du(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new fo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function xs(A,L,g,i,h,p,y){for(A=A==null?0:A[L+0],L=0;L<y;++L)h[p+L]=A+g[i+L]&255,A=h[p+L]}function eu(A,L,g,i,h,p,y){var b;if(A==null)xs(null,null,g,i,h,p,y);else for(b=0;b<y;++b)h[p+b]=A[L+b]+g[i+b]&255}function $a(A,L,g,i,h,p,y){if(A==null)xs(null,null,g,i,h,p,y);else{var b,T=A[L+0],k=T,R=T;for(b=0;b<y;++b)k=R+(T=A[L+b])-k,R=g[i+b]+(-256&k?0>k?0:255:k)&255,k=T,h[p+b]=R}}function _l(A,L,g,i){var h=L.width,p=L.o;if(t(A!=null&&L!=null),0>g||0>=i||g+i>p)return null;if(!A.Cc){if(A.ga==null){var y;if(A.ga=new Du,(y=A.ga==null)||(y=L.width*L.o,t(A.Gb.length==0),A.Gb=s(y),A.Uc=0,A.Gb==null?y=0:(A.mb=A.Gb,A.nb=A.Uc,A.rc=null,y=1),y=!y),!y){y=A.ga;var b=A.Fa,T=A.P,k=A.qc,R=A.mb,B=A.nb,H=T+1,q=k-1,te=y.l;if(t(b!=null&&R!=null&&L!=null),El[0]=null,El[1]=xs,El[2]=eu,El[3]=$a,y.ca=R,y.tb=B,y.c=L.width,y.i=L.height,t(0<y.c&&0<y.i),1>=k)L=0;else if(y.$a=b[T+0]>>0&3,y.Z=b[T+0]>>2&3,y.Lc=b[T+0]>>4&3,T=b[T+0]>>6&3,0>y.$a||1<y.$a||4<=y.Z||1<y.Lc||T)L=0;else if(te.put=Je,te.ac=Re,te.bc=nt,te.ma=y,te.width=L.width,te.height=L.height,te.Da=L.Da,te.v=L.v,te.va=L.va,te.j=L.j,te.o=L.o,y.$a)e:{t(y.$a==1),L=Tr();t:for(;;){if(L==null){L=0;break e}if(t(y!=null),y.mc=L,L.c=y.c,L.i=y.i,L.l=y.l,L.l.ma=y,L.l.width=y.c,L.l.height=y.i,L.a=0,xe(L.m,b,H,q),!Hr(y.c,y.i,1,L,null)||(L.ab==1&&L.gc[0].hc==3&&gn(L.s)?(y.ic=1,b=L.c*L.i,L.Ta=null,L.Ua=0,L.V=s(b),L.Ba=0,L.V==null?(L.a=1,L=0):L=1):(y.ic=0,L=_n(L,y.c)),!L))break t;L=1;break e}y.mc=null,L=0}else L=q>=y.c*y.i;y=!L}if(y)return null;A.ga.Lc!=1?A.Ga=0:i=p-g}t(A.ga!=null),t(g+i<=p);e:{if(L=(b=A.ga).c,p=b.l.o,b.$a==0){if(H=A.rc,q=A.Vc,te=A.Fa,T=A.P+1+g*L,k=A.mb,R=A.nb+g*L,t(T<=A.P+A.qc),b.Z!=0)for(t(El[b.Z]!=null),y=0;y<i;++y)El[b.Z](H,q,te,T,k,R,L),H=k,q=R,R+=L,T+=L;else for(y=0;y<i;++y)n(k,R,te,T,L),H=k,q=R,R+=L,T+=L;A.rc=H,A.Vc=q}else{if(t(b.mc!=null),L=g+i,t((y=b.mc)!=null),t(L<=y.i),y.C>=L)L=1;else if(b.ic||yt(),b.ic){b=y.V,H=y.Ba,q=y.c;var se=y.i,ee=(te=1,T=y.$/q,k=y.$%q,R=y.m,B=y.s,y.$),he=q*se,Se=q*L,Ee=B.wc,ke=ee<Se?jt(B,k,T):null;t(ee<=he),t(L<=se),t(gn(B));t:for(;;){for(;!R.h&&ee<Se;){if(k&Ee||(ke=jt(B,k,T)),t(ke!=null),Me(R),256>(se=Ct(ke.G[0],ke.H[0],R)))b[H+ee]=se,++ee,++k>=q&&(k=0,++T<=L&&!(T%16)&&Yr(y,T));else{if(!(280>se)){te=0;break t}se=He(se-256,R);var Te,Fe=Ct(ke.G[4],ke.H[4],R);if(Me(R),!(ee>=(Fe=_t(q,Fe=He(Fe,R)))&&he-ee>=se)){te=0;break t}for(Te=0;Te<se;++Te)b[H+ee+Te]=b[H+ee+Te-Fe];for(ee+=se,k+=se;k>=q;)k-=q,++T<=L&&!(T%16)&&Yr(y,T);ee<Se&&k&Ee&&(ke=jt(B,k,T))}t(R.h==we(R))}Yr(y,T>L?L:T);break t}!te||R.h&&ee<he?(te=0,y.a=R.h?5:3):y.$=ee,L=te}else L=en(y,y.V,y.Ba,y.c,y.i,L,Cn);if(!L){i=0;break e}}g+i>=p&&(A.Cc=1),i=1}if(!i)return null;if(A.Cc&&((i=A.ga)!=null&&(i.mc=null),A.ga=null,0<A.Ga))return alert("todo:WebPDequantizeLevels"),null}return A.nb+g*h}function $(A,L,g,i,h,p){for(;0<h--;){var y,b=A,T=L+(g?1:0),k=A,R=L+(g?0:3);for(y=0;y<i;++y){var B=k[R+4*y];B!=255&&(B*=32897,b[T+4*y+0]=b[T+4*y+0]*B>>23,b[T+4*y+1]=b[T+4*y+1]*B>>23,b[T+4*y+2]=b[T+4*y+2]*B>>23)}L+=p}}function fe(A,L,g,i,h){for(;0<i--;){var p;for(p=0;p<g;++p){var y=A[L+2*p+0],b=15&(k=A[L+2*p+1]),T=4369*b,k=(240&k|k>>4)*T>>16;A[L+2*p+0]=(240&y|y>>4)*T>>16&240|(15&y|y<<4)*T>>16>>4&15,A[L+2*p+1]=240&k|b}L+=h}}function $e(A,L,g,i,h,p,y,b){var T,k,R=255;for(k=0;k<h;++k){for(T=0;T<i;++T){var B=A[L+T];p[y+4*T]=B,R&=B}L+=g,y+=b}return R!=255}function ot(A,L,g,i,h){var p;for(p=0;p<h;++p)g[i+p]=A[L+p]>>8}function yt(){no=$,Ei=fe,Gi=$e,ns=ot}function Tt(A,L,g){ne[A]=function(i,h,p,y,b,T,k,R,B,H,q,te,se,ee,he,Se,Ee){var ke,Te=Ee-1>>1,Fe=b[T+0]|k[R+0]<<16,Xe=B[H+0]|q[te+0]<<16;t(i!=null);var Ge=3*Fe+Xe+131074>>2;for(L(i[h+0],255&Ge,Ge>>16,se,ee),p!=null&&(Ge=3*Xe+Fe+131074>>2,L(p[y+0],255&Ge,Ge>>16,he,Se)),ke=1;ke<=Te;++ke){var wt=b[T+ke]|k[R+ke]<<16,Mt=B[H+ke]|q[te+ke]<<16,$t=Fe+wt+Xe+Mt+524296,qt=$t+2*(wt+Xe)>>3;Ge=qt+Fe>>1,Fe=($t=$t+2*(Fe+Mt)>>3)+wt>>1,L(i[h+2*ke-1],255&Ge,Ge>>16,se,ee+(2*ke-1)*g),L(i[h+2*ke-0],255&Fe,Fe>>16,se,ee+(2*ke-0)*g),p!=null&&(Ge=$t+Xe>>1,Fe=qt+Mt>>1,L(p[y+2*ke-1],255&Ge,Ge>>16,he,Se+(2*ke-1)*g),L(p[y+2*ke+0],255&Fe,Fe>>16,he,Se+(2*ke+0)*g)),Fe=wt,Xe=Mt}1&Ee||(Ge=3*Fe+Xe+131074>>2,L(i[h+Ee-1],255&Ge,Ge>>16,se,ee+(Ee-1)*g),p!=null&&(Ge=3*Xe+Fe+131074>>2,L(p[y+Ee-1],255&Ge,Ge>>16,he,Se+(Ee-1)*g)))}}function Zt(){mn[Qs]=Jf,mn[Sl]=qd,mn[tu]=ly,mn[Ps]=mm,mn[Yc]=bc,mn[Gh]=Qf,mn[Ou]=ep,mn[Jc]=qd,mn[yc]=mm,mn[Qc]=bc,mn[Wh]=Qf}function gr(A){return A&~as?0>A?0:255:A>>gm}function Ur(A,L){return gr((19077*A>>8)+(26149*L>>8)-14234)}function cn(A,L,g){return gr((19077*A>>8)-(6419*L>>8)-(13320*g>>8)+8708)}function hn(A,L){return gr((19077*A>>8)+(33050*L>>8)-17685)}function dn(A,L,g,i,h){i[h+0]=Ur(A,g),i[h+1]=cn(A,L,g),i[h+2]=hn(A,L)}function zn(A,L,g,i,h){i[h+0]=hn(A,L),i[h+1]=cn(A,L,g),i[h+2]=Ur(A,g)}function mi(A,L,g,i,h){var p=cn(A,L,g);L=p<<3&224|hn(A,L)>>3,i[h+0]=248&Ur(A,g)|p>>5,i[h+1]=L}function fn(A,L,g,i,h){var p=240&hn(A,L)|15;i[h+0]=240&Ur(A,g)|cn(A,L,g)>>4,i[h+1]=p}function Oo(A,L,g,i,h){i[h+0]=255,dn(A,L,g,i,h+1)}function Or(A,L,g,i,h){zn(A,L,g,i,h),i[h+3]=255}function po(A,L,g,i,h){dn(A,L,g,i,h),i[h+3]=255}function An(A,L){return 0>A?0:A>L?L:A}function In(A,L,g){ne[A]=function(i,h,p,y,b,T,k,R,B){for(var H=R+(-2&B)*g;R!=H;)L(i[h+0],p[y+0],b[T+0],k,R),L(i[h+1],p[y+0],b[T+0],k,R+g),h+=2,++y,++T,R+=2*g;1&B&&L(i[h+0],p[y+0],b[T+0],k,R)}}function ws(A,L,g){return g==0?A==0?L==0?6:5:L==0?4:0:g}function Zs(A,L,g,i,h){switch(A>>>30){case 3:Ao(L,g,i,h,0);break;case 2:ui(L,g,i,h);break;case 1:gi(L,g,i,h)}}function Ss(A,L){var g,i,h=L.M,p=L.Nb,y=A.oc,b=A.pc+40,T=A.oc,k=A.pc+584,R=A.oc,B=A.pc+600;for(g=0;16>g;++g)y[b+32*g-1]=129;for(g=0;8>g;++g)T[k+32*g-1]=129,R[B+32*g-1]=129;for(0<h?y[b-1-32]=T[k-1-32]=R[B-1-32]=129:(o(y,b-32-1,127,21),o(T,k-32-1,127,9),o(R,B-32-1,127,9)),i=0;i<A.za;++i){var H=L.ya[L.aa+i];if(0<i){for(g=-1;16>g;++g)n(y,b+32*g-4,y,b+32*g+12,4);for(g=-1;8>g;++g)n(T,k+32*g-4,T,k+32*g+4,4),n(R,B+32*g-4,R,B+32*g+4,4)}var q=A.Gd,te=A.Hd+i,se=H.ad,ee=H.Hc;if(0<h&&(n(y,b-32,q[te].y,0,16),n(T,k-32,q[te].f,0,8),n(R,B-32,q[te].ea,0,8)),H.Za){var he=y,Se=b-32+16;for(0<h&&(i>=A.za-1?o(he,Se,q[te].y[15],4):n(he,Se,q[te+1].y,0,4)),g=0;4>g;g++)he[Se+128+g]=he[Se+256+g]=he[Se+384+g]=he[Se+0+g];for(g=0;16>g;++g,ee<<=2)he=y,Se=b+tl[g],os[H.Ob[g]](he,Se),Zs(ee,se,16*+g,he,Se)}else if(he=ws(i,h,H.Ob[0]),el[he](y,b),ee!=0)for(g=0;16>g;++g,ee<<=2)Zs(ee,se,16*+g,y,b+tl[g]);for(g=H.Gc,he=ws(i,h,H.Dd),Al[he](T,k),Al[he](R,B),ee=se,he=T,Se=k,255&(H=g>>0)&&(170&H?Zn(ee,256,he,Se):zi(ee,256,he,Se)),H=R,ee=B,255&(g>>=8)&&(170&g?Zn(se,320,H,ee):zi(se,320,H,ee)),h<A.Ub-1&&(n(q[te].y,0,y,b+480,16),n(q[te].f,0,T,k+224,8),n(q[te].ea,0,R,B+224,8)),g=8*p*A.B,q=A.sa,te=A.ta+16*i+16*p*A.R,se=A.qa,H=A.ra+8*i+g,ee=A.Ha,he=A.Ia+8*i+g,g=0;16>g;++g)n(q,te+g*A.R,y,b+32*g,16);for(g=0;8>g;++g)n(se,H+g*A.B,T,k+32*g,8),n(ee,he+g*A.B,R,B+32*g,8)}}function Ys(A,L,g,i,h,p,y,b,T){var k=[0],R=[0],B=0,H=T!=null?T.kd:0,q=T??new Ql;if(A==null||12>g)return 7;q.data=A,q.w=L,q.ha=g,L=[L],g=[g],q.gb=[q.gb];e:{var te=L,se=g,ee=q.gb;if(t(A!=null),t(se!=null),t(ee!=null),ee[0]=0,12<=se[0]&&!r(A,te[0],"RIFF")){if(r(A,te[0]+8,"WEBP")){ee=3;break e}var he=St(A,te[0]+4);if(12>he||4294967286<he){ee=3;break e}if(H&&he>se[0]-8){ee=7;break e}ee[0]=he,te[0]+=12,se[0]-=12}ee=0}if(ee!=0)return ee;for(he=0<q.gb[0],g=g[0];;){e:{var Se=A;se=L,ee=g;var Ee=k,ke=R,Te=te=[0];if((Ge=B=[B])[0]=0,8>ee[0])ee=7;else{if(!r(Se,se[0],"VP8X")){if(St(Se,se[0]+4)!=10){ee=3;break e}if(18>ee[0]){ee=7;break e}var Fe=St(Se,se[0]+8),Xe=1+Et(Se,se[0]+12);if(2147483648<=Xe*(Se=1+Et(Se,se[0]+15))){ee=3;break e}Te!=null&&(Te[0]=Fe),Ee!=null&&(Ee[0]=Xe),ke!=null&&(ke[0]=Se),se[0]+=18,ee[0]-=18,Ge[0]=1}ee=0}}if(B=B[0],te=te[0],ee!=0)return ee;if(se=!!(2&te),!he&&B)return 3;if(p!=null&&(p[0]=!!(16&te)),y!=null&&(y[0]=se),b!=null&&(b[0]=0),y=k[0],te=R[0],B&&se&&T==null){ee=0;break}if(4>g){ee=7;break}if(he&&B||!he&&!B&&!r(A,L[0],"ALPH")){g=[g],q.na=[q.na],q.P=[q.P],q.Sa=[q.Sa];e:{Fe=A,ee=L,he=g;var Ge=q.gb;Ee=q.na,ke=q.P,Te=q.Sa,Xe=22,t(Fe!=null),t(he!=null),Se=ee[0];var wt=he[0];for(t(Ee!=null),t(Te!=null),Ee[0]=null,ke[0]=null,Te[0]=0;;){if(ee[0]=Se,he[0]=wt,8>wt){ee=7;break e}var Mt=St(Fe,Se+4);if(4294967286<Mt){ee=3;break e}var $t=8+Mt+1&-2;if(Xe+=$t,0<Ge&&Xe>Ge){ee=3;break e}if(!r(Fe,Se,"VP8 ")||!r(Fe,Se,"VP8L")){ee=0;break e}if(wt[0]<$t){ee=7;break e}r(Fe,Se,"ALPH")||(Ee[0]=Fe,ke[0]=Se+8,Te[0]=Mt),Se+=$t,wt-=$t}}if(g=g[0],q.na=q.na[0],q.P=q.P[0],q.Sa=q.Sa[0],ee!=0)break}g=[g],q.Ja=[q.Ja],q.xa=[q.xa];e:if(Ge=A,ee=L,he=g,Ee=q.gb[0],ke=q.Ja,Te=q.xa,Fe=ee[0],Se=!r(Ge,Fe,"VP8 "),Xe=!r(Ge,Fe,"VP8L"),t(Ge!=null),t(he!=null),t(ke!=null),t(Te!=null),8>he[0])ee=7;else{if(Se||Xe){if(Ge=St(Ge,Fe+4),12<=Ee&&Ge>Ee-12){ee=3;break e}if(H&&Ge>he[0]-8){ee=7;break e}ke[0]=Ge,ee[0]+=8,he[0]-=8,Te[0]=Xe}else Te[0]=5<=he[0]&&Ge[Fe+0]==47&&!(Ge[Fe+4]>>5),ke[0]=he[0];ee=0}if(g=g[0],q.Ja=q.Ja[0],q.xa=q.xa[0],L=L[0],ee!=0)break;if(4294967286<q.Ja)return 3;if(b==null||se||(b[0]=q.xa?2:1),y=[y],te=[te],q.xa){if(5>g){ee=7;break}b=y,H=te,se=p,A==null||5>g?A=0:5<=g&&A[L+0]==47&&!(A[L+4]>>5)?(he=[0],Ge=[0],Ee=[0],xe(ke=new le,A,L,g),Ye(ke,he,Ge,Ee)?(b!=null&&(b[0]=he[0]),H!=null&&(H[0]=Ge[0]),se!=null&&(se[0]=Ee[0]),A=1):A=0):A=0}else{if(10>g){ee=7;break}b=te,A==null||10>g||!la(A,L+3,g-3)?A=0:(H=A[L+0]|A[L+1]<<8|A[L+2]<<16,se=16383&(A[L+7]<<8|A[L+6]),A=16383&(A[L+9]<<8|A[L+8]),1&H||3<(H>>1&7)||!(H>>4&1)||H>>5>=q.Ja||!se||!A?A=0:(y&&(y[0]=se),b&&(b[0]=A),A=1))}if(!A||(y=y[0],te=te[0],B&&(k[0]!=y||R[0]!=te)))return 3;T!=null&&(T[0]=q,T.offset=L-T.w,t(4294967286>L-T.w),t(T.offset==T.ha-g));break}return ee==0||ee==7&&B&&T==null?(p!=null&&(p[0]|=q.na!=null&&0<q.na.length),i!=null&&(i[0]=y),h!=null&&(h[0]=te),0):ee}function ha(A,L,g){var i=L.width,h=L.height,p=0,y=0,b=i,T=h;if(L.Da=A!=null&&0<A.Da,L.Da&&(b=A.cd,T=A.bd,p=A.v,y=A.j,11>g||(p&=-2,y&=-2),0>p||0>y||0>=b||0>=T||p+b>i||y+T>h))return 0;if(L.v=p,L.j=y,L.va=p+b,L.o=y+T,L.U=b,L.T=T,L.da=A!=null&&0<A.da,L.da){if(!hr(b,T,g=[A.ib],p=[A.hb]))return 0;L.ib=g[0],L.hb=p[0]}return L.ob=A!=null&&A.ob,L.Kb=A==null||!A.Sd,L.da&&(L.ob=L.ib<3*i/4&&L.hb<3*h/4,L.Kb=0),1}function Ko(A){if(A==null)return 2;if(11>A.S){var L=A.f.RGBA;L.fb+=(A.height-1)*L.A,L.A=-L.A}else L=A.f.kb,A=A.height,L.O+=(A-1)*L.fa,L.fa=-L.fa,L.N+=(A-1>>1)*L.Ab,L.Ab=-L.Ab,L.W+=(A-1>>1)*L.Db,L.Db=-L.Db,L.F!=null&&(L.J+=(A-1)*L.lb,L.lb=-L.lb);return 0}function So(A,L,g,i){if(i==null||0>=A||0>=L)return 2;if(g!=null){if(g.Da){var h=g.cd,p=g.bd,y=-2&g.v,b=-2&g.j;if(0>y||0>b||0>=h||0>=p||y+h>A||b+p>L)return 2;A=h,L=p}if(g.da){if(!hr(A,L,h=[g.ib],p=[g.hb]))return 2;A=h[0],L=p[0]}}i.width=A,i.height=L;e:{var T=i.width,k=i.height;if(A=i.S,0>=T||0>=k||!(A>=Qs&&13>A))A=2;else{if(0>=i.Rd&&i.sd==null){y=p=h=L=0;var R=(b=T*Qh[A])*k;if(11>A||(p=(k+1)/2*(L=(T+1)/2),A==12&&(y=(h=T)*k)),(k=s(R+2*p+y))==null){A=1;break e}i.sd=k,11>A?((T=i.f.RGBA).eb=k,T.fb=0,T.A=b,T.size=R):((T=i.f.kb).y=k,T.O=0,T.fa=b,T.Fd=R,T.f=k,T.N=0+R,T.Ab=L,T.Cd=p,T.ea=k,T.W=0+R+p,T.Db=L,T.Ed=p,A==12&&(T.F=k,T.J=0+R+2*p),T.Tc=y,T.lb=h)}if(L=1,h=i.S,p=i.width,y=i.height,h>=Qs&&13>h)if(11>h)A=i.f.RGBA,L&=(b=Math.abs(A.A))*(y-1)+p<=A.size,L&=b>=p*Qh[h],L&=A.eb!=null;else{A=i.f.kb,b=(p+1)/2,R=(y+1)/2,T=Math.abs(A.fa),k=Math.abs(A.Ab);var B=Math.abs(A.Db),H=Math.abs(A.lb),q=H*(y-1)+p;L&=T*(y-1)+p<=A.Fd,L&=k*(R-1)+b<=A.Cd,L=(L&=B*(R-1)+b<=A.Ed)&T>=p&k>=b&B>=b,L&=A.y!=null,L&=A.f!=null,L&=A.ea!=null,h==12&&(L&=H>=p,L&=q<=A.Tc,L&=A.F!=null)}else L=0;A=L?0:2}}return A!=0||g!=null&&g.fd&&(A=Ko(i)),A}var Ai=64,xl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],da=24,Ta=32,Js=8,Hi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Pt("Predictor0","PredictorAdd0"),ne.Predictor0=function(){return 4278190080},ne.Predictor1=function(A){return A},ne.Predictor2=function(A,L,g){return L[g+0]},ne.Predictor3=function(A,L,g){return L[g+1]},ne.Predictor4=function(A,L,g){return L[g-1]},ne.Predictor5=function(A,L,g){return Gt(Gt(A,L[g+1]),L[g+0])},ne.Predictor6=function(A,L,g){return Gt(A,L[g-1])},ne.Predictor7=function(A,L,g){return Gt(A,L[g+0])},ne.Predictor8=function(A,L,g){return Gt(L[g-1],L[g+0])},ne.Predictor9=function(A,L,g){return Gt(L[g+0],L[g+1])},ne.Predictor10=function(A,L,g){return Gt(Gt(A,L[g-1]),Gt(L[g+0],L[g+1]))},ne.Predictor11=function(A,L,g){var i=L[g+0];return 0>=vr(i>>24&255,A>>24&255,(L=L[g-1])>>24&255)+vr(i>>16&255,A>>16&255,L>>16&255)+vr(i>>8&255,A>>8&255,L>>8&255)+vr(255&i,255&A,255&L)?i:A},ne.Predictor12=function(A,L,g){var i=L[g+0];return(It((A>>24&255)+(i>>24&255)-((L=L[g-1])>>24&255))<<24|It((A>>16&255)+(i>>16&255)-(L>>16&255))<<16|It((A>>8&255)+(i>>8&255)-(L>>8&255))<<8|It((255&A)+(255&i)-(255&L)))>>>0},ne.Predictor13=function(A,L,g){var i=L[g-1];return(ir((A=Gt(A,L[g+0]))>>24&255,i>>24&255)<<24|ir(A>>16&255,i>>16&255)<<16|ir(A>>8&255,i>>8&255)<<8|ir(A>>0&255,i>>0&255))>>>0};var Cs=ne.PredictorAdd0;ne.PredictorAdd1=Pr,Pt("Predictor2","PredictorAdd2"),Pt("Predictor3","PredictorAdd3"),Pt("Predictor4","PredictorAdd4"),Pt("Predictor5","PredictorAdd5"),Pt("Predictor6","PredictorAdd6"),Pt("Predictor7","PredictorAdd7"),Pt("Predictor8","PredictorAdd8"),Pt("Predictor9","PredictorAdd9"),Pt("Predictor10","PredictorAdd10"),Pt("Predictor11","PredictorAdd11"),Pt("Predictor12","PredictorAdd12"),Pt("Predictor13","PredictorAdd13");var As=ne.PredictorAdd2;Rt("ColorIndexInverseTransform","MapARGB","32b",function(A){return A>>8&255},function(A){return A}),Rt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(A){return A},function(A){return A>>8&255});var wl,Co=ne.ColorIndexInverseTransform,fa=ne.MapARGB,mc=ne.VP8LColorIndexInverseTransformAlpha,gc=ne.MapAlpha,Qe=ne.VP8LPredictorsAdd=[];Qe.length=16,(ne.VP8LPredictors=[]).length=16,(ne.VP8LPredictorsAdd_C=[]).length=16,(ne.VP8LPredictors_C=[]).length=16;var xt,tr,kr,Pn,yn,Hn,jn,Ao,ui,Zn,gi,zi,ci,No,Eo,Zo,Pa,ro,Ba,hi,ii,on,sn,Fo,no,Ei,Gi,ns,Es=s(511),oi=s(2041),Yo=s(225),io=s(767),za=0,Ru=oi,Ts=Yo,Yi=io,Ti=Es,Qs=0,Sl=1,tu=2,Ps=3,Yc=4,Gh=5,Ou=6,Jc=7,yc=8,Qc=9,Wh=10,Wf=[2,3,7],Xf=[3,3,11],Xh=[280,256,256,256,40],eh=[0,1,1,1,0],fm=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ks=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Cl=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Kf=8,is=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ru=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Kh=null,sy=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],pm=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Zf=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Yf=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],th=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Is=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],yr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],el=[],os=[],Al=[],rh=1,vc=2,El=[],mn=[];Tt("UpsampleRgbLinePair",dn,3),Tt("UpsampleBgrLinePair",zn,3),Tt("UpsampleRgbaLinePair",po,4),Tt("UpsampleBgraLinePair",Or,4),Tt("UpsampleArgbLinePair",Oo,4),Tt("UpsampleRgba4444LinePair",fn,2),Tt("UpsampleRgb565LinePair",mi,2);var Jf=ne.UpsampleRgbLinePair,ly=ne.UpsampleBgrLinePair,qd=ne.UpsampleRgbaLinePair,mm=ne.UpsampleBgraLinePair,bc=ne.UpsampleArgbLinePair,Qf=ne.UpsampleRgba4444LinePair,ep=ne.UpsampleRgb565LinePair,Zh=16,Hd=1<<Zh-1,_c=-227,tp=482,gm=6,as=(256<<gm)-1,yi=0,nh=s(256),Gd=s(256),Wd=s(256),ym=s(256),Yh=s(tp-_c),Jh=s(tp-_c);In("YuvToRgbRow",dn,3),In("YuvToBgrRow",zn,3),In("YuvToRgbaRow",po,4),In("YuvToBgraRow",Or,4),In("YuvToArgbRow",Oo,4),In("YuvToRgba4444Row",fn,2),In("YuvToRgb565Row",mi,2);var tl=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Nu=[0,2,8],Er=[8,7,6,4,4,2,2,2,1,1,1,1],Gr=1;this.WebPDecodeRGBA=function(A,L,g,i,h){var p=Sl,y=new Ea,b=new _i;y.ba=b,b.S=p,b.width=[b.width],b.height=[b.height];var T=b.width,k=b.height,R=new Bn;if(R==null||A==null)var B=2;else t(R!=null),B=Ys(A,L,g,R.width,R.height,R.Pd,R.Qd,R.format,null);if(B!=0?T=0:(T!=null&&(T[0]=R.width[0]),k!=null&&(k[0]=R.height[0]),T=1),T){b.width=b.width[0],b.height=b.height[0],i!=null&&(i[0]=b.width),h!=null&&(h[0]=b.height);e:{if(i=new fo,(h=new Ql).data=A,h.w=L,h.ha=g,h.kd=1,L=[0],t(h!=null),((A=Ys(h.data,h.w,h.ha,null,null,null,L,null,h))==0||A==7)&&L[0]&&(A=4),(L=A)==0){if(t(y!=null),i.data=h.data,i.w=h.w+h.offset,i.ha=h.ha-h.offset,i.put=Je,i.ac=Re,i.bc=nt,i.ma=y,h.xa){if((A=Tr())==null){y=1;break e}if(function(H,q){var te=[0],se=[0],ee=[0];t:for(;;){if(H==null)return 0;if(q==null)return H.a=2,0;if(H.l=q,H.a=0,xe(H.m,q.data,q.w,q.ha),!Ye(H.m,te,se,ee)){H.a=3;break t}if(H.xb=vc,q.width=te[0],q.height=se[0],!Hr(te[0],se[0],1,H,null))break t;return 1}return t(H.a!=0),0}(A,i)){if(i=(L=So(i.width,i.height,y.Oa,y.ba))==0){t:{i=A;r:for(;;){if(i==null){i=0;break t}if(t(i.s.yc!=null),t(i.s.Ya!=null),t(0<i.s.Wb),t((g=i.l)!=null),t((h=g.ma)!=null),i.xb!=0){if(i.ca=h.ba,i.tb=h.tb,t(i.ca!=null),!ha(h.Oa,g,Ps)){i.a=2;break r}if(!_n(i,g.width)||g.da)break r;if((g.da||rr(i.ca.S))&&yt(),11>i.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),i.ca.f.kb.F!=null&&yt()),i.Pb&&0<i.s.ua&&i.s.vb.X==null&&!kt(i.s.vb,i.s.Wa.Xa)){i.a=1;break r}i.xb=0}if(!en(i,i.V,i.Ba,i.c,i.i,g.o,mr))break r;h.Dc=i.Ma,i=1;break t}t(i.a!=0),i=0}i=!i}i&&(L=A.a)}else L=A.a}else{if((A=new ei)==null){y=1;break e}if(A.Fa=h.na,A.P=h.P,A.qc=h.Sa,wi(A,i)){if((L=So(i.width,i.height,y.Oa,y.ba))==0){if(A.Aa=0,g=y.Oa,t((h=A)!=null),g!=null){if(0<(T=0>(T=g.Md)?0:100<T?255:255*T/100)){for(k=R=0;4>k;++k)12>(B=h.pb[k]).lc&&(B.ia=T*Er[0>B.lc?0:B.lc]>>3),R|=B.ia;R&&(alert("todo:VP8InitRandom"),h.ia=1)}h.Ga=g.Id,100<h.Ga?h.Ga=100:0>h.Ga&&(h.Ga=0)}Kl(A,i)||(L=A.a)}}else L=A.a}L==0&&y.Oa!=null&&y.Oa.fd&&(L=Ko(y.ba))}y=L}p=y!=0?null:11>p?b.f.RGBA.eb:b.f.kb.y}else p=null;return p};var Qh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function v(ne,Ae){for(var Z="",X=0;X<4;X++)Z+=String.fromCharCode(ne[Ae++]);return Z}function x(ne,Ae){return(ne[Ae+0]<<0|ne[Ae+1]<<8|ne[Ae+2]<<16)>>>0}function w(ne,Ae){return(ne[Ae+0]<<0|ne[Ae+1]<<8|ne[Ae+2]<<16|ne[Ae+3]<<24)>>>0}new f;var C=[0],P=[0],O=[],I=new f,z=e,N=function(ne,Ae){var Z={},X=0,oe=!1,be=0,ge=0;if(Z.frames=[],!function(me,we,Ie,Me){for(var tt=0;tt<Me;tt++)if(me[we+tt]!=Ie.charCodeAt(tt))return!0;return!1}(ne,Ae,"RIFF",4)){var De,Le;for(w(ne,Ae+=4),Ae+=8;Ae<ne.length;){var je=v(ne,Ae),xe=w(ne,Ae+=4);Ae+=4;var Oe=xe+(1&xe);switch(je){case"VP8 ":case"VP8L":Z.frames[X]===void 0&&(Z.frames[X]={}),(le=Z.frames[X]).src_off=oe?ge:Ae-8,le.src_size=be+xe+8,X++,oe&&(oe=!1,be=0,ge=0);break;case"VP8X":(le=Z.header={}).feature_flags=ne[Ae];var Ke=Ae+4;le.canvas_width=1+x(ne,Ke),Ke+=3,le.canvas_height=1+x(ne,Ke),Ke+=3;break;case"ALPH":oe=!0,be=Oe+8,ge=Ae-8;break;case"ANIM":(le=Z.header).bgcolor=w(ne,Ae),Ke=Ae+4,le.loop_count=(De=ne)[(Le=Ke)+0]<<0|De[Le+1]<<8,Ke+=2;break;case"ANMF":var ht,le;(le=Z.frames[X]={}).offset_x=2*x(ne,Ae),Ae+=3,le.offset_y=2*x(ne,Ae),Ae+=3,le.width=1+x(ne,Ae),Ae+=3,le.height=1+x(ne,Ae),Ae+=3,le.duration=x(ne,Ae),Ae+=3,ht=ne[Ae++],le.dispose=1&ht,le.blend=ht>>1&1}je!="ANMF"&&(Ae+=Oe)}return Z}}(z,0);N.response=z,N.rgbaoutput=!0,N.dataurl=!1;var j=N.header?N.header:null,V=N.frames?N.frames:null;if(j){j.loop_counter=j.loop_count,C=[j.canvas_height],P=[j.canvas_width];for(var W=0;W<V.length&&V[W].blend!=0;W++);}var re=V[0],ie=I.WebPDecodeRGBA(z,re.src_off,re.src_size,P,C);re.rgba=ie,re.imgwidth=P[0],re.imgheight=C[0];for(var J=0;J<P[0]*C[0]*4;J++)O[J]=ie[J];return this.width=P,this.height=C,this.data=O,this}(function(e){var t=function(){return typeof DC=="function"},r=function(C,P,O,I){var z=4,N=u;switch(I){case e.image_compression.FAST:z=1,N=s;break;case e.image_compression.MEDIUM:z=6,N=l;break;case e.image_compression.SLOW:z=9,N=f}C=n(C,P,O,N);var j=DC(C,{level:z});return e.__addimage__.arrayBufferToBinaryString(j)},n=function(C,P,O,I){for(var z,N,j,V=C.length/P,W=new Uint8Array(C.length+V),re=x(),ie=0;ie<V;ie+=1){if(j=ie*P,z=C.subarray(j,j+P),I)W.set(I(z,O,N),j+ie);else{for(var J,ne=re.length,Ae=[];J<ne;J+=1)Ae[J]=re[J](z,O,N);var Z=w(Ae.concat());W.set(Ae[Z],j+ie)}N=z}return W},o=function(C){var P=Array.apply([],C);return P.unshift(0),P},s=function(C,P){var O,I=[],z=C.length;I[0]=1;for(var N=0;N<z;N+=1)O=C[N-P]||0,I[N+1]=C[N]-O+256&255;return I},u=function(C,P,O){var I,z=[],N=C.length;z[0]=2;for(var j=0;j<N;j+=1)I=O&&O[j]||0,z[j+1]=C[j]-I+256&255;return z},l=function(C,P,O){var I,z,N=[],j=C.length;N[0]=3;for(var V=0;V<j;V+=1)I=C[V-P]||0,z=O&&O[V]||0,N[V+1]=C[V]+256-(I+z>>>1)&255;return N},f=function(C,P,O){var I,z,N,j,V=[],W=C.length;V[0]=4;for(var re=0;re<W;re+=1)I=C[re-P]||0,z=O&&O[re]||0,N=O&&O[re-P]||0,j=v(I,z,N),V[re+1]=C[re]-j+256&255;return V},v=function(C,P,O){if(C===P&&P===O)return C;var I=Math.abs(P-O),z=Math.abs(C-O),N=Math.abs(C+P-O-O);return I<=z&&I<=N?C:z<=N?P:O},x=function(){return[o,s,u,l,f]},w=function(C){var P=C.map(function(O){return O.reduce(function(I,z){return I+Math.abs(z)},0)});return P.indexOf(Math.min.apply(null,P))};e.processPNG=function(C,P,O,I){var z,N,j,V,W,re,ie,J,ne,Ae,Z,X,oe,be,ge,De=this.decode.FLATE_DECODE,Le="";if(this.__addimage__.isArrayBuffer(C)&&(C=new Uint8Array(C)),this.__addimage__.isArrayBufferView(C)){if(C=(j=new Dte(C)).imgData,N=j.bits,z=j.colorSpace,W=j.colors,[4,6].indexOf(j.colorType)!==-1){if(j.bits===8){ne=(J=j.pixelBitlength==32?new Uint32Array(j.decodePixels().buffer):j.pixelBitlength==16?new Uint16Array(j.decodePixels().buffer):new Uint8Array(j.decodePixels().buffer)).length,Z=new Uint8Array(ne*j.colors),Ae=new Uint8Array(ne);var je,xe=j.pixelBitlength-j.bits;for(be=0,ge=0;be<ne;be++){for(oe=J[be],je=0;je<xe;)Z[ge++]=oe>>>je&255,je+=j.bits;Ae[be]=oe>>>je&255}}if(j.bits===16){ne=(J=new Uint32Array(j.decodePixels().buffer)).length,Z=new Uint8Array(ne*(32/j.pixelBitlength)*j.colors),Ae=new Uint8Array(ne*(32/j.pixelBitlength)),X=j.colors>1,be=0,ge=0;for(var Oe=0;be<ne;)oe=J[be++],Z[ge++]=oe>>>0&255,X&&(Z[ge++]=oe>>>16&255,oe=J[be++],Z[ge++]=oe>>>0&255),Ae[Oe++]=oe>>>16&255;N=8}I!==e.image_compression.NONE&&t()?(C=r(Z,j.width*j.colors,j.colors,I),ie=r(Ae,j.width,1,I)):(C=Z,ie=Ae,De=void 0)}if(j.colorType===3&&(z=this.color_spaces.INDEXED,re=j.palette,j.transparency.indexed)){var Ke=j.transparency.indexed,ht=0;for(be=0,ne=Ke.length;be<ne;++be)ht+=Ke[be];if((ht/=255)===ne-1&&Ke.indexOf(0)!==-1)V=[Ke.indexOf(0)];else if(ht!==ne){for(J=j.decodePixels(),Ae=new Uint8Array(J.length),be=0,ne=J.length;be<ne;be++)Ae[be]=Ke[J[be]];ie=r(Ae,j.width,1)}}var le=function(me){var we;switch(me){case e.image_compression.FAST:we=11;break;case e.image_compression.MEDIUM:we=13;break;case e.image_compression.SLOW:we=14;break;default:we=12}return we}(I);return De===this.decode.FLATE_DECODE&&(Le="/Predictor "+le+" "),Le+="/Colors "+W+" /BitsPerComponent "+N+" /Columns "+j.width,(this.__addimage__.isArrayBuffer(C)||this.__addimage__.isArrayBufferView(C))&&(C=this.__addimage__.arrayBufferToBinaryString(C)),(ie&&this.__addimage__.isArrayBuffer(ie)||this.__addimage__.isArrayBufferView(ie))&&(ie=this.__addimage__.arrayBufferToBinaryString(ie)),{alias:O,data:C,index:P,filter:De,decodeParameters:Le,transparency:V,palette:re,sMask:ie,predictor:le,width:j.width,height:j.height,bitsPerComponent:N,colorSpace:z}}}})(bn.API),function(e){e.processGIF89A=function(t,r,n,o){var s=new Rte(t),u=s.width,l=s.height,f=[];s.decodeAndBlitFrameRGBA(0,f);var v={data:f,width:u,height:l},x=new ZS(100).encode(v,100);return e.processJPEG.call(this,x,r,n,o)},e.processGIF87A=e.processGIF89A}(bn.API),Ec.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:o,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ec.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Zi.log("bit decode error:"+r)}},Ec.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,o=0;o<t;o++)for(var s=this.datav.getUint8(this.pos++,!0),u=n*this.width*4+8*o*4,l=0;l<8&&8*o+l<this.width;l++){var f=this.palette[s>>7-l&1];this.data[u+4*l]=f.blue,this.data[u+4*l+1]=f.green,this.data[u+4*l+2]=f.red,this.data[u+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Ec.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,o=0;o<e;o++){var s=this.datav.getUint8(this.pos++,!0),u=n*this.width*4+2*o*4,l=s>>4,f=15&s,v=this.palette[l];if(this.data[u]=v.blue,this.data[u+1]=v.green,this.data[u+2]=v.red,this.data[u+3]=255,2*o+1>=this.width)break;v=this.palette[f],this.data[u+4]=v.blue,this.data[u+4+1]=v.green,this.data[u+4+2]=v.red,this.data[u+4+3]=255}t!==0&&(this.pos+=4-t)}},Ec.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(o<this.palette.length){var u=this.palette[o];this.data[s]=u.red,this.data[s+1]=u.green,this.data[s+2]=u.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},Ec.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(s&t)/t*255|0,l=(s>>5&t)/t*255|0,f=(s>>10&t)/t*255|0,v=s>>15?255:0,x=n*this.width*4+4*o;this.data[x]=f,this.data[x+1]=l,this.data[x+2]=u,this.data[x+3]=v}this.pos+=e}},Ec.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var o=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(u&t)/t*255|0,f=(u>>5&r)/r*255|0,v=(u>>11)/t*255|0,x=o*this.width*4+4*s;this.data[x]=v,this.data[x+1]=f,this.data[x+2]=l,this.data[x+3]=255}this.pos+=e}},Ec.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*r;this.data[u]=s,this.data[u+1]=o,this.data[u+2]=n,this.data[u+3]=255}this.pos+=this.width%4}},Ec.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=s,this.data[l+1]=o,this.data[l+2]=n,this.data[l+3]=u}},Ec.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,o){var s=new Ec(t,!1),u=s.width,l=s.height,f={data:s.getData(),width:u,height:l},v=new ZS(100).encode(f,100);return e.processJPEG.call(this,v,r,n,o)}}(bn.API),DL.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,o){var s=new DL(t),u=s.width,l=s.height,f={data:s.getData(),width:u,height:l},v=new ZS(100).encode(f,100);return e.processJPEG.call(this,v,r,n,o)}}(bn.API),bn.API.processRGBA=function(e,t,r){for(var n=e.data,o=n.length,s=new Uint8Array(o/4*3),u=new Uint8Array(o/4),l=0,f=0,v=0;v<o;v+=4){var x=n[v],w=n[v+1],C=n[v+2],P=n[v+3];s[l++]=x,s[l++]=w,s[l++]=C,u[f++]=P}var O=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:O,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},bn.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Xm=bn.API,vb=Xm.getCharWidthsArray=function(e,t){var r,n,o=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),u=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:o.metadata.Unicode.widths,f=l.fof?l.fof:1,v=t.kerning?t.kerning:o.metadata.Unicode.kerning,x=v.fof?v.fof:1,w=t.doKerning!==!1,C=0,P=e.length,O=0,I=l[0]||f,z=[];for(r=0;r<P;r++)n=e.charCodeAt(r),typeof o.metadata.widthOfString=="function"?z.push((o.metadata.widthOfGlyph(o.metadata.characterToGlyph(n))+u*(1e3/s)||0)/1e3):(C=w&&Mi(v[n])==="object"&&!isNaN(parseInt(v[n][O],10))?v[n][O]/x:0,z.push((l[n]||I)/f+C)),O=n;return z},kL=Xm.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),o=t.charSpace||this.internal.getCharSpace();return Xm.processArabic&&(e=Xm.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,o)/r:vb.apply(this,arguments).reduce(function(s,u){return s+u},0)},IL=function(e,t,r,n){for(var o=[],s=0,u=e.length,l=0;s!==u&&l+t[s]<r;)l+=t[s],s++;o.push(e.slice(0,s));var f=s;for(l=0;s!==u;)l+t[s]>n&&(o.push(e.slice(f,s)),l=0,f=s),l+=t[s],s++;return f!==s&&o.push(e.slice(f,s)),o},LL=function(e,t,r){r||(r={});var n,o,s,u,l,f,v,x=[],w=[x],C=r.textIndent||0,P=0,O=0,I=e.split(" "),z=vb.apply(this,[" ",r])[0];if(f=r.lineIndent===-1?I[0].length+2:r.lineIndent||0){var N=Array(f).join(" "),j=[];I.map(function(W){(W=W.split(/\s*\n/)).length>1?j=j.concat(W.map(function(re,ie){return(ie&&re.length?`
`:"")+re})):j.push(W[0])}),I=j,f=kL.apply(this,[N,r])}for(s=0,u=I.length;s<u;s++){var V=0;if(n=I[s],f&&n[0]==`
`&&(n=n.substr(1),V=1),C+P+(O=(o=vb.apply(this,[n,r])).reduce(function(W,re){return W+re},0))>t||V){if(O>t){for(l=IL.apply(this,[n,o,t-(C+P),t]),x.push(l.shift()),x=[l.pop()];l.length;)w.push([l.shift()]);O=o.slice(n.length-(x[0]?x[0].length:0)).reduce(function(W,re){return W+re},0)}else x=[n];w.push(x),C=O+f,P=z}else x.push(n),C+=P+O,P=z}return v=f?function(W,re){return(re?N:"")+W.join(" ")}:function(W){return W.join(" ")},w.map(v)},Xm.splitTextToSize=function(e,t,r){var n,o=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(x){if(x.widths&&x.kerning)return{widths:x.widths,kerning:x.kerning};var w=this.internal.getFont(x.fontName,x.fontStyle);return w.metadata.Unicode?{widths:w.metadata.Unicode.widths||{0:1},kerning:w.metadata.Unicode.kerning||{}}:{font:w.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var u=1*this.internal.scaleFactor*t/o;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/o:0,s.lineIndent=r.lineIndent;var l,f,v=[];for(l=0,f=n.length;l<f;l++)v=v.concat(LL.apply(this,[n[l],u,s]));return v},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},o=0;o<t.length;o++)r[t[o]]="0123456789abcdef"[o],n["0123456789abcdef"[o]]=t[o];var s=function(w){return"0x"+parseInt(w,10).toString(16)},u=e.__fontmetrics__.compress=function(w){var C,P,O,I,z=["{"];for(var N in w){if(C=w[N],isNaN(parseInt(N,10))?P="'"+N+"'":(N=parseInt(N,10),P=(P=s(N).slice(2)).slice(0,-1)+n[P.slice(-1)]),typeof C=="number")C<0?(O=s(C).slice(3),I="-"):(O=s(C).slice(2),I=""),O=I+O.slice(0,-1)+n[O.slice(-1)];else{if(Mi(C)!=="object")throw new Error("Don't know what to do with value type "+Mi(C)+".");O=u(C)}z.push(P+O)}return z.push("}"),z.join("")},l=e.__fontmetrics__.uncompress=function(w){if(typeof w!="string")throw new Error("Invalid argument passed to uncompress.");for(var C,P,O,I,z={},N=1,j=z,V=[],W="",re="",ie=w.length-1,J=1;J<ie;J+=1)(I=w[J])=="'"?C?(O=C.join(""),C=void 0):C=[]:C?C.push(I):I=="{"?(V.push([j,O]),j={},O=void 0):I=="}"?((P=V.pop())[0][P[1]]=j,O=void 0,j=P[0]):I=="-"?N=-1:O===void 0?r.hasOwnProperty(I)?(W+=r[I],O=parseInt(W,16)*N,N=1,W=""):W+=I:r.hasOwnProperty(I)?(re+=r[I],j[O]=parseInt(re,16)*N,N=1,O=void 0,re=""):re+=I;return z},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},v={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},x={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(w){var C=w.font,P=x.Unicode[C.postScriptName];P&&(C.metadata.Unicode={},C.metadata.Unicode.widths=P.widths,C.metadata.Unicode.kerning=P.kerning);var O=v.Unicode[C.postScriptName];O&&(C.metadata.Unicode.encoding=O,C.encoding=O.codePages[0])}])}(bn.API),function(e){var t=function(r){for(var n=r.length,o=new Uint8Array(n),s=0;s<n;s++)o[s]=r.charCodeAt(s);return o};e.API.events.push(["addFont",function(r){var n=void 0,o=r.font,s=r.instance;if(!o.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");if(typeof(n=s.existsFileInVFS(o.postScriptName)===!1?s.loadFile(o.postScriptName):s.getFileFromVFS(o.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");(function(u,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(B1(l)),u.metadata=e.API.TTFFont.open(l),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(o,n)}}])}(bn),function(e){function t(){return(vn.canvg?Promise.resolve(vn.canvg):TC(()=>import("./index.es-BWh5r8n-.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}bn.API.addSvgAsImage=function(r,n,o,s,u,l,f,v){if(isNaN(n)||isNaN(o))throw Zi.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(u))throw Zi.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var x=document.createElement("canvas");x.width=s,x.height=u;var w=x.getContext("2d");w.fillStyle="#fff",w.fillRect(0,0,x.width,x.height);var C={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},P=this;return t().then(function(O){return O.fromString(w,r,C)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(O){return O.render(C)}).then(function(){P.addImage(x.toDataURL("image/jpeg",1),n,o,s,u,f,v)})}}(),bn.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var o=0;o<this.internal.pages[n].length;o++)this.internal.pages[n][o]=this.internal.pages[n][o].replace(t,r);return this},bn.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,o,s,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(u),f=[],v=0,x=0,w=0;function C(O,I){var z,N=!1;for(z=0;z<O.length;z+=1)O[z]===I&&(N=!0);return N}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var P=l.length;for(w=0;w<P;w+=1)r[l[w]].value=r[l[w]].defaultValue,r[l[w]].explicitSet=!1}if(Mi(e)==="object"){for(o in e)if(s=e[o],C(l,o)&&s!==void 0){if(r[o].type==="boolean"&&typeof s=="boolean")r[o].value=s;else if(r[o].type==="name"&&C(r[o].valueSet,s))r[o].value=s;else if(r[o].type==="integer"&&Number.isInteger(s))r[o].value=s;else if(r[o].type==="array"){for(v=0;v<s.length;v+=1)if(n=!0,s[v].length===1&&typeof s[v][0]=="number")f.push(String(s[v]-1));else if(s[v].length>1){for(x=0;x<s[v].length;x+=1)typeof s[v][x]!="number"&&(n=!1);n===!0&&f.push([s[v][0]-1,s[v][1]-1].join(" "))}r[o].value="["+f.join(" ")+"]"}else r[o].value=r[o].defaultValue;r[o].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var O,I=[];for(O in r)r[O].explicitSet===!0&&(r[O].type==="name"?I.push("/"+O+" /"+r[O].value):I.push("/"+O+" "+r[O].value));I.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+I.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',o=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),u=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),v=s.length+u.length+l.length+o.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+v+" >>"),this.internal.write("stream"),this.internal.write(o+s+u+l+f),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,o){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:o||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(bn.API),function(e){var t=e.API,r=t.pdfEscape16=function(s,u){for(var l,f=u.metadata.Unicode.widths,v=["","0","00","000","0000"],x=[""],w=0,C=s.length;w<C;++w){if(l=u.metadata.characterToGlyph(s.charCodeAt(w)),u.metadata.glyIdsUsed.push(l),u.metadata.toUnicode[l]=s.charCodeAt(w),f.indexOf(l)==-1&&(f.push(l),f.push([parseInt(u.metadata.widthOfGlyph(l),10)])),l=="0")return x.join("");l=l.toString(16),x.push(v[4-l.length],l)}return x.join("")},n=function(s){var u,l,f,v,x,w,C;for(x=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],w=0,C=(l=Object.keys(s).sort(function(P,O){return P-O})).length;w<C;w++)u=l[w],f.length>=100&&(x+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),s[u]!==void 0&&s[u]!==null&&typeof s[u].toString=="function"&&(v=("0000"+s[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),f.push("<"+u+"><"+v+">"));return f.length&&(x+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),x+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(u){var l=u.font,f=u.out,v=u.newObject,x=u.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var w=l.metadata.Unicode.widths,C=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),P="",O=0;O<C.length;O++)P+=String.fromCharCode(C[O]);var I=v();x({data:P,addLength1:!0,objectId:I}),f("endobj");var z=v();x({data:n(l.metadata.toUnicode),addLength1:!0,objectId:z}),f("endobj");var N=v();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+l0(l.fontName)),f("/FontFile2 "+I+" 0 R"),f("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),f("/Flags "+l.metadata.flags),f("/StemV "+l.metadata.stemV),f("/ItalicAngle "+l.metadata.italicAngle),f("/Ascent "+l.metadata.ascender),f("/Descent "+l.metadata.decender),f("/CapHeight "+l.metadata.capHeight),f(">>"),f("endobj");var j=v();f("<<"),f("/Type /Font"),f("/BaseFont /"+l0(l.fontName)),f("/FontDescriptor "+N+" 0 R"),f("/W "+e.API.PDFObject.convert(w)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+l.encoding+")"),f(">>"),f(">>"),f("endobj"),l.objectNumber=v(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+z+" 0 R"),f("/BaseFont /"+l0(l.fontName)),f("/Encoding /"+l.encoding),f("/DescendantFonts ["+j+" 0 R]"),f(">>"),f("endobj"),l.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(u){var l=u.font,f=u.out,v=u.newObject,x=u.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var w=l.metadata.rawData,C="",P=0;P<w.length;P++)C+=String.fromCharCode(w[P]);var O=v();x({data:C,addLength1:!0,objectId:O}),f("endobj");var I=v();x({data:n(l.metadata.toUnicode),addLength1:!0,objectId:I}),f("endobj");var z=v();f("<<"),f("/Descent "+l.metadata.decender),f("/CapHeight "+l.metadata.capHeight),f("/StemV "+l.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+O+" 0 R"),f("/Flags 96"),f("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),f("/FontName /"+l0(l.fontName)),f("/ItalicAngle "+l.metadata.italicAngle),f("/Ascent "+l.metadata.ascender),f(">>"),f("endobj"),l.objectNumber=v();for(var N=0;N<l.metadata.hmtx.widths.length;N++)l.metadata.hmtx.widths[N]=parseInt(l.metadata.hmtx.widths[N]*(1e3/l.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+I+" 0 R/BaseFont/"+l0(l.fontName)+"/FontDescriptor "+z+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),f("endobj"),l.isAlreadyPutted=!0}})(s)}]);var o=function(s){var u,l=s.text||"",f=s.x,v=s.y,x=s.options||{},w=s.mutex||{},C=w.pdfEscape,P=w.activeFontKey,O=w.fonts,I=P,z="",N=0,j="",V=O[I].encoding;if(O[I].encoding!=="Identity-H")return{text:l,x:f,y:v,options:x,mutex:w};for(j=l,I=P,Array.isArray(l)&&(j=l[0]),N=0;N<j.length;N+=1)O[I].metadata.hasOwnProperty("cmap")&&(u=O[I].metadata.cmap.unicode.codeMap[j[N].charCodeAt(0)]),u||j[N].charCodeAt(0)<256&&O[I].metadata.hasOwnProperty("Unicode")?z+=j[N]:z+="";var W="";return parseInt(I.slice(1))<14||V==="WinAnsiEncoding"?W=C(z,I).split("").map(function(re){return re.charCodeAt(0).toString(16)}).join(""):V==="Identity-H"&&(W=r(z,O[I])),w.isHex=!0,{text:W,x:f,y:v,options:x,mutex:w}};t.events.push(["postProcessText",function(s){var u=s.text||"",l=[],f={text:u,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(u)){var v=0;for(v=0;v<u.length;v+=1)Array.isArray(u[v])&&u[v].length===3?l.push([o(Object.assign({},f,{text:u[v][0]})).text,u[v][1],u[v][2]]):l.push(o(Object.assign({},f,{text:u[v]})).text);s.text=l}else s.text=o(Object.assign({},f,{text:u})).text}])}(bn),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(bn.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var o,s,u,l,f,v,x,w=t,C=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],P=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],O={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},I={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},z=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],N=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),j=!1,V=0;this.__bidiEngine__={};var W=function(X){var oe=X.charCodeAt(),be=oe>>8,ge=I[be];return ge!==void 0?w[256*ge+(255&oe)]:be===252||be===253?"AL":N.test(be)?"L":be===8?"R":"N"},re=function(X){for(var oe,be=0;be<X.length;be++){if((oe=W(X.charAt(be)))==="L")return!1;if(oe==="R")return!0}return!1},ie=function(X,oe,be,ge){var De,Le,je,xe,Oe=oe[ge];switch(Oe){case"L":case"R":j=!1;break;case"N":case"AN":break;case"EN":j&&(Oe="AN");break;case"AL":j=!0,Oe="R";break;case"WS":Oe="N";break;case"CS":ge<1||ge+1>=oe.length||(De=be[ge-1])!=="EN"&&De!=="AN"||(Le=oe[ge+1])!=="EN"&&Le!=="AN"?Oe="N":j&&(Le="AN"),Oe=Le===De?Le:"N";break;case"ES":Oe=(De=ge>0?be[ge-1]:"B")==="EN"&&ge+1<oe.length&&oe[ge+1]==="EN"?"EN":"N";break;case"ET":if(ge>0&&be[ge-1]==="EN"){Oe="EN";break}if(j){Oe="N";break}for(je=ge+1,xe=oe.length;je<xe&&oe[je]==="ET";)je++;Oe=je<xe&&oe[je]==="EN"?"EN":"N";break;case"NSM":if(u&&!l){for(xe=oe.length,je=ge+1;je<xe&&oe[je]==="NSM";)je++;if(je<xe){var Ke=X[ge],ht=Ke>=1425&&Ke<=2303||Ke===64286;if(De=oe[je],ht&&(De==="R"||De==="AL")){Oe="R";break}}}Oe=ge<1||(De=oe[ge-1])==="B"?"N":be[ge-1];break;case"B":j=!1,o=!0,Oe=V;break;case"S":s=!0,Oe="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":j=!1;break;case"BN":Oe="N"}return Oe},J=function(X,oe,be){var ge=X.split("");return be&&ne(ge,be,{hiLevel:V}),ge.reverse(),oe&&oe.reverse(),ge.join("")},ne=function(X,oe,be){var ge,De,Le,je,xe,Oe=-1,Ke=X.length,ht=0,le=[],me=V?P:C,we=[];for(j=!1,o=!1,s=!1,De=0;De<Ke;De++)we[De]=W(X[De]);for(Le=0;Le<Ke;Le++){if(xe=ht,le[Le]=ie(X,we,le,Le),ge=240&(ht=me[xe][O[le[Le]]]),ht&=15,oe[Le]=je=me[ht][5],ge>0)if(ge===16){for(De=Oe;De<Le;De++)oe[De]=1;Oe=-1}else Oe=-1;if(me[ht][6])Oe===-1&&(Oe=Le);else if(Oe>-1){for(De=Oe;De<Le;De++)oe[De]=je;Oe=-1}we[Le]==="B"&&(oe[Le]=0),be.hiLevel|=je}s&&function(Ie,Me,tt){for(var Ue=0;Ue<tt;Ue++)if(Ie[Ue]==="S"){Me[Ue]=V;for(var qe=Ue-1;qe>=0&&Ie[qe]==="WS";qe--)Me[qe]=V}}(we,oe,Ke)},Ae=function(X,oe,be,ge,De){if(!(De.hiLevel<X)){if(X===1&&V===1&&!o)return oe.reverse(),void(be&&be.reverse());for(var Le,je,xe,Oe,Ke=oe.length,ht=0;ht<Ke;){if(ge[ht]>=X){for(xe=ht+1;xe<Ke&&ge[xe]>=X;)xe++;for(Oe=ht,je=xe-1;Oe<je;Oe++,je--)Le=oe[Oe],oe[Oe]=oe[je],oe[je]=Le,be&&(Le=be[Oe],be[Oe]=be[je],be[je]=Le);ht=xe}ht++}}},Z=function(X,oe,be){var ge=X.split(""),De={hiLevel:V};return be||(be=[]),ne(ge,be,De),function(Le,je,xe){if(xe.hiLevel!==0&&x)for(var Oe,Ke=0;Ke<Le.length;Ke++)je[Ke]===1&&(Oe=z.indexOf(Le[Ke]))>=0&&(Le[Ke]=z[Oe+1])}(ge,be,De),Ae(2,ge,oe,be,De),Ae(1,ge,oe,be,De),ge.join("")};return this.__bidiEngine__.doBidiReorder=function(X,oe,be){if(function(De,Le){if(Le)for(var je=0;je<De.length;je++)Le[je]=je;l===void 0&&(l=re(De)),v===void 0&&(v=re(De))}(X,oe),u||!f||v)if(u&&f&&l^v)V=l?1:0,X=J(X,oe,be);else if(!u&&f&&v)V=l?1:0,X=Z(X,oe,be),X=J(X,oe);else if(!u||l||f||v){if(u&&!f&&l^v)X=J(X,oe),l?(V=0,X=Z(X,oe,be)):(V=1,X=Z(X,oe,be),X=J(X,oe));else if(u&&l&&!f&&v)V=1,X=Z(X,oe,be),X=J(X,oe);else if(!u&&!f&&l^v){var ge=x;l?(V=1,X=Z(X,oe,be),V=0,x=!1,X=Z(X,oe,be),x=ge):(V=0,X=Z(X,oe,be),X=J(X,oe),V=1,x=!1,X=Z(X,oe,be),x=ge,X=J(X,oe))}}else V=0,X=Z(X,oe,be);else V=l?1:0,X=Z(X,oe,be);return X},this.__bidiEngine__.setOptions=function(X){X&&(u=X.isInputVisual,f=X.isOutputVisual,l=X.isInputRtl,v=X.isOutputRtl,x=X.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var o=n.text,s=(n.x,n.y,n.options||{}),u=(n.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(o)==="[object Array]"){var l=0;for(u=[],l=0;l<o.length;l+=1)Object.prototype.toString.call(o[l])==="[object Array]"?u.push([r.doBidiReorder(o[l][0]),o[l][1],o[l][2]]):u.push([r.doBidiReorder(o[l])]);n.text=u}else n.text=r.doBidiReorder(o);r.setOptions({isInputVisual:!0})}])}(bn),bn.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Bf(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Kte(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Ote(this.contents),this.head=new Fte(this),this.name=new Ute(this),this.cmap=new HF(this),this.toUnicode={},this.hhea=new $te(this),this.maxp=new Vte(this),this.hmtx=new qte(this),this.post=new zte(this),this.os2=new Bte(this),this.loca=new Xte(this),this.glyf=new Hte(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,o,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,l,f,v;for(v=[],u=0,l=(f=this.bbox).length;u<l;u++)t=f[u],v.push(Math.round(t*this.scaleFactor));return v}).call(this),this.stemV=0,this.post.exists?(n=255&(o=this.post.italic_angle),32768&(r=o>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var o,s,u,l;for(u=0,s=0,l=(t=""+t).length;0<=l?s<l:s>l;s=0<=l?++s:--s)o=t.charCodeAt(s),u+=this.widthOfGlyph(this.characterToGlyph(o))+n*(1e3/r)||0;return u*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Hc,Bf=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,o;for(o=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)o.push(this.writeByte(t.charCodeAt(r)));return o},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,o,s,u,l,f;return t=this.readByte(),r=this.readByte(),n=this.readByte(),o=this.readByte(),s=this.readByte(),u=this.readByte(),l=this.readByte(),f=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^o)+16777216*(255^s)+65536*(255^u)+256*(255^l)+(255^f)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*o+16777216*s+65536*u+256*l+f},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,o,s;for(s=[],n=0,o=t.length;n<o;n++)r=t[n],s.push(this.writeByte(r));return s},e}(),Ote=function(){var e;function t(r){var n,o,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},o=0,s=this.tableCount;0<=s?o<s:o>s;o=0<=s?++o:--o)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,o,s,u,l,f,v,x,w,C,P,O,I;for(I in P=Object.keys(r).length,f=Math.log(2),w=16*Math.floor(Math.log(P)/f),u=Math.floor(w/f),x=16*P-w,(o=new Bf).writeInt(this.scalarType),o.writeShort(P),o.writeShort(w),o.writeShort(u),o.writeShort(x),s=16*P,v=o.pos+s,l=null,O=[],r)for(C=r[I],o.writeString(I),o.writeInt(e(C)),o.writeInt(v),o.writeInt(C.length),O=O.concat(C),I==="head"&&(l=v),v+=C.length;v%4;)O.push(0),v++;return o.write(O),n=2981146554-e(o.data),o.pos=l+8,o.writeUInt32(n),o.data},e=function(r){var n,o,s,u;for(r=GF.call(r);r.length%4;)r.push(0);for(s=new Bf(r),o=0,n=0,u=r.length;n<u;n=n+=4)o+=s.readUInt32();return 4294967295&o},t}(),Nte={}.hasOwnProperty,jh=function(e,t){for(var r in t)Nte.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Hc=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Fte=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return jh(t,Hc),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new Bf).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),RL=function(){function e(t,r){var n,o,s,u,l,f,v,x,w,C,P,O,I,z,N,j,V;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),w=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=t.readByte();break;case 4:for(P=t.readUInt16(),C=P/2,t.pos+=6,s=function(){var W,re;for(re=[],f=W=0;0<=C?W<C:W>C;f=0<=C?++W:--W)re.push(t.readUInt16());return re}(),t.pos+=2,I=function(){var W,re;for(re=[],f=W=0;0<=C?W<C:W>C;f=0<=C?++W:--W)re.push(t.readUInt16());return re}(),v=function(){var W,re;for(re=[],f=W=0;0<=C?W<C:W>C;f=0<=C?++W:--W)re.push(t.readUInt16());return re}(),x=function(){var W,re;for(re=[],f=W=0;0<=C?W<C:W>C;f=0<=C?++W:--W)re.push(t.readUInt16());return re}(),o=(this.length-t.pos+this.offset)/2,l=function(){var W,re;for(re=[],f=W=0;0<=o?W<o:W>o;f=0<=o?++W:--W)re.push(t.readUInt16());return re}(),f=N=0,V=s.length;N<V;f=++N)for(z=s[f],n=j=O=I[f];O<=z?j<=z:j>=z;n=O<=z?++j:--j)x[f]===0?u=n+v[f]:(u=l[x[f]/2+(n-O)-(C-f)]||0)!==0&&(u+=v[f]),this.codeMap[n]=65535&u}t.pos=w}return e.encode=function(t,r){var n,o,s,u,l,f,v,x,w,C,P,O,I,z,N,j,V,W,re,ie,J,ne,Ae,Z,X,oe,be,ge,De,Le,je,xe,Oe,Ke,ht,le,me,we,Ie,Me,tt,Ue,qe,lt,pt,Et;switch(ge=new Bf,u=Object.keys(t).sort(function(St,kt){return St-kt}),r){case"macroman":for(I=0,z=function(){var St=[];for(O=0;O<256;++O)St.push(0);return St}(),j={0:0},s={},De=0,Oe=u.length;De<Oe;De++)j[qe=t[o=u[De]]]==null&&(j[qe]=++I),s[o]={old:t[o],new:j[t[o]]},z[o]=j[t[o]];return ge.writeUInt16(1),ge.writeUInt16(0),ge.writeUInt32(12),ge.writeUInt16(0),ge.writeUInt16(262),ge.writeUInt16(0),ge.write(z),{charMap:s,subtable:ge.data,maxGlyphID:I+1};case"unicode":for(oe=[],w=[],V=0,j={},n={},N=v=null,Le=0,Ke=u.length;Le<Ke;Le++)j[re=t[o=u[Le]]]==null&&(j[re]=++V),n[o]={old:re,new:j[re]},l=j[re]-o,N!=null&&l===v||(N&&w.push(N),oe.push(o),v=l),N=o;for(N&&w.push(N),w.push(65535),oe.push(65535),Z=2*(Ae=oe.length),ne=2*Math.pow(Math.log(Ae)/Math.LN2,2),C=Math.log(ne/2)/Math.LN2,J=2*Ae-ne,f=[],ie=[],P=[],O=je=0,ht=oe.length;je<ht;O=++je){if(X=oe[O],x=w[O],X===65535){f.push(0),ie.push(0);break}if(X-(be=n[X].new)>=32768)for(f.push(0),ie.push(2*(P.length+Ae-O)),o=xe=X;X<=x?xe<=x:xe>=x;o=X<=x?++xe:--xe)P.push(n[o].new);else f.push(be-X),ie.push(0)}for(ge.writeUInt16(3),ge.writeUInt16(1),ge.writeUInt32(12),ge.writeUInt16(4),ge.writeUInt16(16+8*Ae+2*P.length),ge.writeUInt16(0),ge.writeUInt16(Z),ge.writeUInt16(ne),ge.writeUInt16(C),ge.writeUInt16(J),tt=0,le=w.length;tt<le;tt++)o=w[tt],ge.writeUInt16(o);for(ge.writeUInt16(0),Ue=0,me=oe.length;Ue<me;Ue++)o=oe[Ue],ge.writeUInt16(o);for(lt=0,we=f.length;lt<we;lt++)l=f[lt],ge.writeUInt16(l);for(pt=0,Ie=ie.length;pt<Ie;pt++)W=ie[pt],ge.writeUInt16(W);for(Et=0,Me=P.length;Et<Me;Et++)I=P[Et],ge.writeUInt16(I);return{charMap:n,subtable:ge.data,maxGlyphID:V+1}}},e}(),HF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return jh(t,Hc),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,o,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)n=new RL(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var o,s;return n==null&&(n="macroman"),o=RL.encode(r,n),(s=new Bf).writeUInt16(0),s.writeUInt16(1),o.table=s.data.concat(o.subtable),o},t}(),$te=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return jh(t,Hc),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),Bte=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return jh(t,Hc),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,o;for(o=[],n=0;n<10;++n)o.push(r.readByte());return o}(),this.charRange=function(){var n,o;for(o=[],n=0;n<4;++n)o.push(r.readInt());return o}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,o;for(o=[],n=0;n<2;n=++n)o.push(r.readInt());return o}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),zte=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return jh(t,Hc),t.prototype.tag="post",t.prototype.parse=function(r){var n,o,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var u;for(o=r.readUInt16(),this.glyphNameIndex=[],u=0;0<=o?u<o:u>o;u=0<=o?++u:--u)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)n=r.readByte(),s.push(this.names.push(r.readString(n)));return s;case 151552:return o=r.readUInt16(),this.offsets=r.read(o);case 196608:break;case 262144:return this.map=(function(){var l,f,v;for(v=[],u=l=0,f=this.file.maxp.numGlyphs;0<=f?l<f:l>f;u=0<=f?++l:--l)v.push(r.readUInt32());return v}).call(this)}},t}(),jte=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Ute=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return jh(t,Hc),t.prototype.tag="name",t.prototype.parse=function(r){var n,o,s,u,l,f,v,x,w,C,P;for(r.pos=this.offset,r.readShort(),n=r.readShort(),f=r.readShort(),o=[],u=0;0<=n?u<n:u>n;u=0<=n?++u:--u)o.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+f+r.readShort()});for(v={},u=w=0,C=o.length;w<C;u=++w)s=o[u],r.pos=s.offset,x=r.readString(s.length),l=new jte(x,s),v[P=s.nameID]==null&&(v[P]=[]),v[s.nameID].push(l);this.strings=v,this.copyright=v[0],this.fontFamily=v[1],this.fontSubfamily=v[2],this.uniqueSubfamily=v[3],this.fontName=v[4],this.version=v[5];try{this.postscriptName=v[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=v[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=v[7],this.manufacturer=v[8],this.designer=v[9],this.description=v[10],this.vendorUrl=v[11],this.designerUrl=v[12],this.license=v[13],this.licenseUrl=v[14],this.preferredFamily=v[15],this.preferredSubfamily=v[17],this.compatibleFull=v[18],this.sampleText=v[19]},t}(),Vte=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return jh(t,Hc),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),qte=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return jh(t,Hc),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,o,s,u,l,f,v;for(r.pos=this.offset,this.metrics=[],n=0,f=this.file.hhea.numberOfMetrics;0<=f?n<f:n>f;n=0<=f?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var x,w;for(w=[],n=x=0;0<=s?x<s:x>s;n=0<=s?++x:--x)w.push(r.readInt16());return w}(),this.widths=(function(){var x,w,C,P;for(P=[],x=0,w=(C=this.metrics).length;x<w;x++)u=C[x],P.push(u.advance);return P}).call(this),o=this.widths[this.widths.length-1],v=[],n=l=0;0<=s?l<s:l>s;n=0<=s?++l:--l)v.push(this.widths.push(o));return v},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),GF=[].slice,Hte=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return jh(t,Hc),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,o,s,u,l,f,v,x,w,C;return r in this.cache?this.cache[r]:(u=this.file.loca,n=this.file.contents,o=u.indexOf(r),(s=u.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+o,l=(f=new Bf(n.read(s))).readShort(),x=f.readShort(),C=f.readShort(),v=f.readShort(),w=f.readShort(),this.cache[r]=l===-1?new Wte(f,x,C,v,w):new Gte(f,l,x,C,v,w),this.cache[r]))},t.prototype.encode=function(r,n,o){var s,u,l,f,v;for(l=[],u=[],f=0,v=n.length;f<v;f++)s=r[n[f]],u.push(l.length),s&&(l=l.concat(s.encode(o)));return u.push(l.length),{table:l,offsets:u}},t}(),Gte=function(){function e(t,r,n,o,s,u){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=o,this.xMax=s,this.yMax=u,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Wte=function(){function e(t,r,n,o,s){var u,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=o,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;l=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&l;)u.pos+=1&l?4:2,128&l?u.pos+=8:64&l?u.pos+=4:8&l&&(u.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Bf(GF.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),Xte=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return jh(t,Hc),t.prototype.tag="loca",t.prototype.parse=function(r){var n,o;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,u;for(u=[],o=0,s=this.length;o<s;o+=2)u.push(2*r.readUInt16());return u}).call(this):(function(){var s,u;for(u=[],o=0,s=this.length;o<s;o+=4)u.push(r.readUInt32());return u}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var o=new Uint32Array(this.offsets.length),s=0,u=0,l=0;l<o.length;++l)if(o[l]=s,u<n.length&&n[u]==l){++u,o[l]=s;var f=this.offsets[l],v=this.offsets[l+1]-f;v>0&&(s+=v)}for(var x=new Array(4*o.length),w=0;w<o.length;++w)x[4*w+3]=255&o[w],x[4*w+2]=(65280&o[w])>>8,x[4*w+1]=(16711680&o[w])>>16,x[4*w]=(4278190080&o[w])>>24;return x},t}(),Kte=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,o,s;for(r in o=this.font.cmap.tables[0].codeMap,t={},s=this.subset)n=s[r],t[r]=o[n];return t},e.prototype.glyphsFor=function(t){var r,n,o,s,u,l,f;for(o={},u=0,l=t.length;u<l;u++)o[s=t[u]]=this.font.glyf.glyphFor(s);for(s in r=[],o)(n=o[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in f=this.glyphsFor(r))n=f[s],o[s]=n;return o},e.prototype.encode=function(t,r){var n,o,s,u,l,f,v,x,w,C,P,O,I,z,N;for(o in n=HF.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(t),P={0:0},N=n.charMap)P[(f=N[o]).old]=f.new;for(O in C=n.maxGlyphID,u)O in P||(P[O]=C++);return x=function(j){var V,W;for(V in W={},j)W[j[V]]=V;return W}(P),w=Object.keys(x).sort(function(j,V){return j-V}),I=function(){var j,V,W;for(W=[],j=0,V=w.length;j<V;j++)l=w[j],W.push(x[l]);return W}(),s=this.font.glyf.encode(u,I,P),v=this.font.loca.encode(s.offsets,I),z={cmap:this.font.cmap.raw(),glyf:s.table,loca:v,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(z["OS/2"]=this.font.os2.raw()),this.font.directory.encode(z)},e}();bn.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,o,s,u;if(Array.isArray(r))return"["+function(){var l,f,v;for(v=[],l=0,f=r.length;l<f;l++)n=r[l],v.push(t.convert(n));return v}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(o in s=["<<"],r)u=r[o],s.push("/"+o+" "+t.convert(u));return s.push(">>"),s.join(`
`)}return""+r},t}();function Zte(e,t){t===void 0&&(t={});var r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}var Yte={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Th,function(){var r=function(D,G){var ye={drag:[],click:[],mousemove:[],mousedown:[],mouseup:[],mouseout:[],keydown:[],keyup:[],touchstart:[],touchmove:[],touchend:[],tap:[]},ze={on:function(it,dt,Ut){if(ye[it]===void 0)throw new Error("Invalid event type: "+it);ye[it].push({selector:dt,fn:Ut})},render:function(it){G.store.featureChanged(it)}},et=function(it,dt){for(var Ut=ye[it],Wt=Ut.length;Wt--;){var sr=Ut[Wt];if(sr.selector(dt)){sr.fn.call(ze,dt)||G.store.render(),G.ui.updateMapClasses();break}}};return D.start.call(ze),{render:D.render,stop:function(){D.stop&&D.stop()},trash:function(){D.trash&&(D.trash(),G.store.render())},combineFeatures:function(){D.combineFeatures&&D.combineFeatures()},uncombineFeatures:function(){D.uncombineFeatures&&D.uncombineFeatures()},drag:function(it){et("drag",it)},click:function(it){et("click",it)},mousemove:function(it){et("mousemove",it)},mousedown:function(it){et("mousedown",it)},mouseup:function(it){et("mouseup",it)},mouseout:function(it){et("mouseout",it)},keydown:function(it){et("keydown",it)},keyup:function(it){et("keyup",it)},touchstart:function(it){et("touchstart",it)},touchmove:function(it){et("touchmove",it)},touchend:function(it){et("touchend",it)},tap:function(it){et("tap",it)}}};function n(D){return D&&D.__esModule&&Object.prototype.hasOwnProperty.call(D,"default")?D.default:D}function o(D){if(D.__esModule)return D;var G=D.default;if(typeof G=="function"){var ye=function ze(){if(this instanceof ze){var et=[null];et.push.apply(et,arguments);var it=Function.bind.apply(G,et);return new it}return G.apply(this,arguments)};ye.prototype=G.prototype}else ye={};return Object.defineProperty(ye,"__esModule",{value:!0}),Object.keys(D).forEach(function(ze){var et=Object.getOwnPropertyDescriptor(D,ze);Object.defineProperty(ye,ze,et.get?et:{enumerable:!0,get:function(){return D[ze]}})}),ye}var s={},u={RADIUS:6378137,FLATTENING:1/298.257223563,POLAR_RADIUS:63567523142e-4},l=u;function f(D){var G=0;if(D&&D.length>0){G+=Math.abs(v(D[0]));for(var ye=1;ye<D.length;ye++)G-=Math.abs(v(D[ye]))}return G}function v(D){var G,ye,ze,et,it,dt,Ut=0,Wt=D.length;if(Wt>2){for(dt=0;dt<Wt;dt++)dt===Wt-2?(ze=Wt-2,et=Wt-1,it=0):dt===Wt-1?(ze=Wt-1,et=0,it=1):(ze=dt,et=dt+1,it=dt+2),G=D[ze],ye=D[et],Ut+=(x(D[it][0])-x(G[0]))*Math.sin(x(ye[1]));Ut=Ut*l.RADIUS*l.RADIUS/2}return Ut}function x(D){return D*Math.PI/180}s.geometry=function D(G){var ye,ze=0;switch(G.type){case"Polygon":return f(G.coordinates);case"MultiPolygon":for(ye=0;ye<G.coordinates.length;ye++)ze+=f(G.coordinates[ye]);return ze;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(ye=0;ye<G.geometries.length;ye++)ze+=D(G.geometries[ye]);return ze}},s.ring=v;var w={CONTROL_BASE:"mapboxgl-ctrl",CONTROL_PREFIX:"mapboxgl-ctrl-",CONTROL_BUTTON:"mapbox-gl-draw_ctrl-draw-btn",CONTROL_BUTTON_LINE:"mapbox-gl-draw_line",CONTROL_BUTTON_POLYGON:"mapbox-gl-draw_polygon",CONTROL_BUTTON_POINT:"mapbox-gl-draw_point",CONTROL_BUTTON_TRASH:"mapbox-gl-draw_trash",CONTROL_BUTTON_COMBINE_FEATURES:"mapbox-gl-draw_combine",CONTROL_BUTTON_UNCOMBINE_FEATURES:"mapbox-gl-draw_uncombine",CONTROL_GROUP:"mapboxgl-ctrl-group",ATTRIBUTION:"mapboxgl-ctrl-attrib",ACTIVE_BUTTON:"active",BOX_SELECT:"mapbox-gl-draw_boxselect"},C={HOT:"mapbox-gl-draw-hot",COLD:"mapbox-gl-draw-cold"},P={ADD:"add",MOVE:"move",DRAG:"drag",POINTER:"pointer",NONE:"none"},O={POLYGON:"polygon",LINE:"line_string",POINT:"point"},I={FEATURE:"Feature",POLYGON:"Polygon",LINE_STRING:"LineString",POINT:"Point",FEATURE_COLLECTION:"FeatureCollection",MULTI_PREFIX:"Multi",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon"},z={DRAW_LINE_STRING:"draw_line_string",DRAW_POLYGON:"draw_polygon",DRAW_POINT:"draw_point",SIMPLE_SELECT:"simple_select",DIRECT_SELECT:"direct_select",STATIC:"static"},N={CREATE:"draw.create",DELETE:"draw.delete",UPDATE:"draw.update",SELECTION_CHANGE:"draw.selectionchange",MODE_CHANGE:"draw.modechange",ACTIONABLE:"draw.actionable",RENDER:"draw.render",COMBINE_FEATURES:"draw.combine",UNCOMBINE_FEATURES:"draw.uncombine"},j={MOVE:"move",CHANGE_COORDINATES:"change_coordinates"},V={FEATURE:"feature",MIDPOINT:"midpoint",VERTEX:"vertex"},W={ACTIVE:"true",INACTIVE:"false"},re=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate"],ie=-85,J=Object.freeze({__proto__:null,classes:w,sources:C,cursors:P,types:O,geojsonTypes:I,modes:z,events:N,updateActions:j,meta:V,activeStates:W,interactions:re,LAT_MIN:-90,LAT_RENDERED_MIN:ie,LAT_MAX:90,LAT_RENDERED_MAX:85,LNG_MIN:-270,LNG_MAX:270}),ne={Point:0,LineString:1,MultiLineString:1,Polygon:2};function Ae(D,G){var ye=ne[D.geometry.type]-ne[G.geometry.type];return ye===0&&D.geometry.type===I.POLYGON?D.area-G.area:ye}function Z(D){return D.map(function(G){return G.geometry.type===I.POLYGON&&(G.area=s.geometry({type:I.FEATURE,property:{},geometry:G.geometry})),G}).sort(Ae).map(function(G){return delete G.area,G})}function X(D,G){return G===void 0&&(G=0),[[D.point.x-G,D.point.y-G],[D.point.x+G,D.point.y+G]]}function oe(D){if(this._items={},this._nums={},this._length=D?D.length:0,D)for(var G=0,ye=D.length;G<ye;G++)this.add(D[G]),D[G]!==void 0&&(typeof D[G]=="string"?this._items[D[G]]=G:this._nums[D[G]]=G)}oe.prototype.add=function(D){return this.has(D)||(this._length++,typeof D=="string"?this._items[D]=this._length:this._nums[D]=this._length),this},oe.prototype.delete=function(D){return this.has(D)===!1||(this._length--,delete this._items[D],delete this._nums[D]),this},oe.prototype.has=function(D){return(typeof D=="string"||typeof D=="number")&&(this._items[D]!==void 0||this._nums[D]!==void 0)},oe.prototype.values=function(){var D=this,G=[];return Object.keys(this._items).forEach(function(ye){G.push({k:ye,v:D._items[ye]})}),Object.keys(this._nums).forEach(function(ye){G.push({k:JSON.parse(ye),v:D._nums[ye]})}),G.sort(function(ye,ze){return ye.v-ze.v}).map(function(ye){return ye.k})},oe.prototype.clear=function(){return this._length=0,this._items={},this._nums={},this};var be=[V.FEATURE,V.MIDPOINT,V.VERTEX],ge={click:function(D,G,ye){return De(D,G,ye,ye.options.clickBuffer)},touch:function(D,G,ye){return De(D,G,ye,ye.options.touchBuffer)}};function De(D,G,ye,ze){if(ye.map===null)return[];var et=D?X(D,ze):G,it={};ye.options.styles&&(it.layers=ye.options.styles.map(function(sr){return sr.id}).filter(function(sr){return ye.map.getLayer(sr)!=null}));var dt=ye.map.queryRenderedFeatures(et,it).filter(function(sr){return be.indexOf(sr.properties.meta)!==-1}),Ut=new oe,Wt=[];return dt.forEach(function(sr){var ar=sr.properties.id;Ut.has(ar)||(Ut.add(ar),Wt.push(sr))}),Z(Wt)}function Le(D,G){var ye=ge.click(D,null,G),ze={mouse:P.NONE};return ye[0]&&(ze.mouse=ye[0].properties.active===W.ACTIVE?P.MOVE:P.POINTER,ze.feature=ye[0].properties.meta),G.events.currentModeName().indexOf("draw")!==-1&&(ze.mouse=P.ADD),G.ui.queueMapClasses(ze),G.ui.updateMapClasses(),ye[0]}function je(D,G){var ye=D.x-G.x,ze=D.y-G.y;return Math.sqrt(ye*ye+ze*ze)}function xe(D,G,ye){ye===void 0&&(ye={});var ze=ye.fineTolerance!=null?ye.fineTolerance:4,et=ye.grossTolerance!=null?ye.grossTolerance:12,it=ye.interval!=null?ye.interval:500;D.point=D.point||G.point,D.time=D.time||G.time;var dt=je(D.point,G.point);return dt<ze||dt<et&&G.time-D.time<it}function Oe(D,G,ye){ye===void 0&&(ye={});var ze=ye.tolerance!=null?ye.tolerance:25,et=ye.interval!=null?ye.interval:250;return D.point=D.point||G.point,D.time=D.time||G.time,je(D.point,G.point)<ze&&G.time-D.time<et}var Ke={exports:{}},ht=Ke.exports=function(D,G){if(G||(G=16),D===void 0&&(D=128),D<=0)return"0";for(var ye=Math.log(Math.pow(2,D))/Math.log(G),ze=2;ye===1/0;ze*=2)ye=Math.log(Math.pow(2,D/ze))/Math.log(G)*ze;var et=ye-Math.floor(ye),it="";for(ze=0;ze<Math.floor(ye);ze++)it=Math.floor(Math.random()*G).toString(G)+it;if(et){var dt=Math.pow(G,et);it=Math.floor(Math.random()*dt).toString(G)+it}var Ut=parseInt(it,G);return Ut!==1/0&&Ut>=Math.pow(2,D)?ht(D,G):it};ht.rack=function(D,G,ye){var ze=function(it){var dt=0;do{if(dt++>10){if(!ye)throw new Error("too many ID collisions, use more bits");D+=ye}var Ut=ht(D,G)}while(Object.hasOwnProperty.call(et,Ut));return et[Ut]=it,Ut},et=ze.hats={};return ze.get=function(it){return ze.hats[it]},ze.set=function(it,dt){return ze.hats[it]=dt,ze},ze.bits=D||128,ze.base=G||16,ze};var le=n(Ke.exports),me=function(D,G){this.ctx=D,this.properties=G.properties||{},this.coordinates=G.geometry.coordinates,this.id=G.id||le(),this.type=G.geometry.type};me.prototype.changed=function(){this.ctx.store.featureChanged(this.id)},me.prototype.incomingCoords=function(D){this.setCoordinates(D)},me.prototype.setCoordinates=function(D){this.coordinates=D,this.changed()},me.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.coordinates))},me.prototype.setProperty=function(D,G){this.properties[D]=G},me.prototype.toGeoJSON=function(){return JSON.parse(JSON.stringify({id:this.id,type:I.FEATURE,properties:this.properties,geometry:{coordinates:this.getCoordinates(),type:this.type}}))},me.prototype.internal=function(D){var G={id:this.id,meta:V.FEATURE,"meta:type":this.type,active:W.INACTIVE,mode:D};if(this.ctx.options.userProperties)for(var ye in this.properties)G["user_"+ye]=this.properties[ye];return{type:I.FEATURE,properties:G,geometry:{coordinates:this.getCoordinates(),type:this.type}}};var we=function(D,G){me.call(this,D,G)};(we.prototype=Object.create(me.prototype)).isValid=function(){return typeof this.coordinates[0]=="number"&&typeof this.coordinates[1]=="number"},we.prototype.updateCoordinate=function(D,G,ye){this.coordinates=arguments.length===3?[G,ye]:[D,G],this.changed()},we.prototype.getCoordinate=function(){return this.getCoordinates()};var Ie=function(D,G){me.call(this,D,G)};(Ie.prototype=Object.create(me.prototype)).isValid=function(){return this.coordinates.length>1},Ie.prototype.addCoordinate=function(D,G,ye){this.changed();var ze=parseInt(D,10);this.coordinates.splice(ze,0,[G,ye])},Ie.prototype.getCoordinate=function(D){var G=parseInt(D,10);return JSON.parse(JSON.stringify(this.coordinates[G]))},Ie.prototype.removeCoordinate=function(D){this.changed(),this.coordinates.splice(parseInt(D,10),1)},Ie.prototype.updateCoordinate=function(D,G,ye){var ze=parseInt(D,10);this.coordinates[ze]=[G,ye],this.changed()};var Me=function(D,G){me.call(this,D,G),this.coordinates=this.coordinates.map(function(ye){return ye.slice(0,-1)})};(Me.prototype=Object.create(me.prototype)).isValid=function(){return this.coordinates.length!==0&&this.coordinates.every(function(D){return D.length>2})},Me.prototype.incomingCoords=function(D){this.coordinates=D.map(function(G){return G.slice(0,-1)}),this.changed()},Me.prototype.setCoordinates=function(D){this.coordinates=D,this.changed()},Me.prototype.addCoordinate=function(D,G,ye){this.changed();var ze=D.split(".").map(function(et){return parseInt(et,10)});this.coordinates[ze[0]].splice(ze[1],0,[G,ye])},Me.prototype.removeCoordinate=function(D){this.changed();var G=D.split(".").map(function(ze){return parseInt(ze,10)}),ye=this.coordinates[G[0]];ye&&(ye.splice(G[1],1),ye.length<3&&this.coordinates.splice(G[0],1))},Me.prototype.getCoordinate=function(D){var G=D.split(".").map(function(ze){return parseInt(ze,10)}),ye=this.coordinates[G[0]];return JSON.parse(JSON.stringify(ye[G[1]]))},Me.prototype.getCoordinates=function(){return this.coordinates.map(function(D){return D.concat([D[0]])})},Me.prototype.updateCoordinate=function(D,G,ye){this.changed();var ze=D.split("."),et=parseInt(ze[0],10),it=parseInt(ze[1],10);this.coordinates[et]===void 0&&(this.coordinates[et]=[]),this.coordinates[et][it]=[G,ye]};var tt={MultiPoint:we,MultiLineString:Ie,MultiPolygon:Me},Ue=function(D,G,ye,ze,et){var it=ye.split("."),dt=parseInt(it[0],10),Ut=it[1]?it.slice(1).join("."):null;return D[dt][G](Ut,ze,et)},qe=function(D,G){if(me.call(this,D,G),delete this.coordinates,this.model=tt[G.geometry.type],this.model===void 0)throw new TypeError(G.geometry.type+" is not a valid type");this.features=this._coordinatesToFeatures(G.geometry.coordinates)};function lt(D){this.map=D.map,this.drawConfig=JSON.parse(JSON.stringify(D.options||{})),this._ctx=D}(qe.prototype=Object.create(me.prototype))._coordinatesToFeatures=function(D){var G=this,ye=this.model.bind(this);return D.map(function(ze){return new ye(G.ctx,{id:le(),type:I.FEATURE,properties:{},geometry:{coordinates:ze,type:G.type.replace("Multi","")}})})},qe.prototype.isValid=function(){return this.features.every(function(D){return D.isValid()})},qe.prototype.setCoordinates=function(D){this.features=this._coordinatesToFeatures(D),this.changed()},qe.prototype.getCoordinate=function(D){return Ue(this.features,"getCoordinate",D)},qe.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.features.map(function(D){return D.type===I.POLYGON?D.getCoordinates():D.coordinates})))},qe.prototype.updateCoordinate=function(D,G,ye){Ue(this.features,"updateCoordinate",D,G,ye),this.changed()},qe.prototype.addCoordinate=function(D,G,ye){Ue(this.features,"addCoordinate",D,G,ye),this.changed()},qe.prototype.removeCoordinate=function(D){Ue(this.features,"removeCoordinate",D),this.changed()},qe.prototype.getFeatures=function(){return this.features},lt.prototype.setSelected=function(D){return this._ctx.store.setSelected(D)},lt.prototype.setSelectedCoordinates=function(D){var G=this;this._ctx.store.setSelectedCoordinates(D),D.reduce(function(ye,ze){return ye[ze.feature_id]===void 0&&(ye[ze.feature_id]=!0,G._ctx.store.get(ze.feature_id).changed()),ye},{})},lt.prototype.getSelected=function(){return this._ctx.store.getSelected()},lt.prototype.getSelectedIds=function(){return this._ctx.store.getSelectedIds()},lt.prototype.isSelected=function(D){return this._ctx.store.isSelected(D)},lt.prototype.getFeature=function(D){return this._ctx.store.get(D)},lt.prototype.select=function(D){return this._ctx.store.select(D)},lt.prototype.deselect=function(D){return this._ctx.store.deselect(D)},lt.prototype.deleteFeature=function(D,G){return G===void 0&&(G={}),this._ctx.store.delete(D,G)},lt.prototype.addFeature=function(D){return this._ctx.store.add(D)},lt.prototype.clearSelectedFeatures=function(){return this._ctx.store.clearSelected()},lt.prototype.clearSelectedCoordinates=function(){return this._ctx.store.clearSelectedCoordinates()},lt.prototype.setActionableState=function(D){D===void 0&&(D={});var G={trash:D.trash||!1,combineFeatures:D.combineFeatures||!1,uncombineFeatures:D.uncombineFeatures||!1};return this._ctx.events.actionable(G)},lt.prototype.changeMode=function(D,G,ye){return G===void 0&&(G={}),ye===void 0&&(ye={}),this._ctx.events.changeMode(D,G,ye)},lt.prototype.updateUIClasses=function(D){return this._ctx.ui.queueMapClasses(D)},lt.prototype.activateUIButton=function(D){return this._ctx.ui.setActiveButton(D)},lt.prototype.featuresAt=function(D,G,ye){if(ye===void 0&&(ye="click"),ye!=="click"&&ye!=="touch")throw new Error("invalid buffer type");return ge[ye](D,G,this._ctx)},lt.prototype.newFeature=function(D){var G=D.geometry.type;return G===I.POINT?new we(this._ctx,D):G===I.LINE_STRING?new Ie(this._ctx,D):G===I.POLYGON?new Me(this._ctx,D):new qe(this._ctx,D)},lt.prototype.isInstanceOf=function(D,G){if(D===I.POINT)return G instanceof we;if(D===I.LINE_STRING)return G instanceof Ie;if(D===I.POLYGON)return G instanceof Me;if(D==="MultiFeature")return G instanceof qe;throw new Error("Unknown feature class: "+D)},lt.prototype.doRender=function(D){return this._ctx.store.featureChanged(D)},lt.prototype.onSetup=function(){},lt.prototype.onDrag=function(){},lt.prototype.onClick=function(){},lt.prototype.onMouseMove=function(){},lt.prototype.onMouseDown=function(){},lt.prototype.onMouseUp=function(){},lt.prototype.onMouseOut=function(){},lt.prototype.onKeyUp=function(){},lt.prototype.onKeyDown=function(){},lt.prototype.onTouchStart=function(){},lt.prototype.onTouchMove=function(){},lt.prototype.onTouchEnd=function(){},lt.prototype.onTap=function(){},lt.prototype.onStop=function(){},lt.prototype.onTrash=function(){},lt.prototype.onCombineFeature=function(){},lt.prototype.onUncombineFeature=function(){},lt.prototype.toDisplayFeatures=function(){throw new Error("You must overwrite toDisplayFeatures")};var pt={drag:"onDrag",click:"onClick",mousemove:"onMouseMove",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseout:"onMouseOut",keyup:"onKeyUp",keydown:"onKeyDown",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd",tap:"onTap"},Et=Object.keys(pt);function St(D){var G=Object.keys(D);return function(ye,ze){ze===void 0&&(ze={});var et={},it=G.reduce(function(dt,Ut){return dt[Ut]=D[Ut],dt},new lt(ye));return{start:function(){var dt=this;et=it.onSetup(ze),Et.forEach(function(Ut){var Wt,sr=pt[Ut],ar=function(){return!1};D[sr]&&(ar=function(){return!0}),dt.on(Ut,ar,(Wt=sr,function(nr){return it[Wt](et,nr)}))})},stop:function(){it.onStop(et)},trash:function(){it.onTrash(et)},combineFeatures:function(){it.onCombineFeatures(et)},uncombineFeatures:function(){it.onUncombineFeatures(et)},render:function(dt,Ut){it.toDisplayFeatures(et,dt,Ut)}}}}function kt(D){return[].concat(D).filter(function(G){return G!==void 0})}function ct(){var D=this;if(!(D.ctx.map&&D.ctx.map.getSource(C.HOT)!==void 0))return Wt();var G=D.ctx.events.currentModeName();D.ctx.ui.queueMapClasses({mode:G});var ye=[],ze=[];D.isDirty?ze=D.getAllIds():(ye=D.getChangedIds().filter(function(sr){return D.get(sr)!==void 0}),ze=D.sources.hot.filter(function(sr){return sr.properties.id&&ye.indexOf(sr.properties.id)===-1&&D.get(sr.properties.id)!==void 0}).map(function(sr){return sr.properties.id})),D.sources.hot=[];var et=D.sources.cold.length;D.sources.cold=D.isDirty?[]:D.sources.cold.filter(function(sr){var ar=sr.properties.id||sr.properties.parent;return ye.indexOf(ar)===-1});var it=et!==D.sources.cold.length||ze.length>0;function dt(sr,ar){var nr=D.get(sr).internal(G);D.ctx.events.currentModeRender(nr,function(wr){D.sources[ar].push(wr)})}if(ye.forEach(function(sr){return dt(sr,"hot")}),ze.forEach(function(sr){return dt(sr,"cold")}),it&&D.ctx.map.getSource(C.COLD).setData({type:I.FEATURE_COLLECTION,features:D.sources.cold}),D.ctx.map.getSource(C.HOT).setData({type:I.FEATURE_COLLECTION,features:D.sources.hot}),D._emitSelectionChange&&(D.ctx.map.fire(N.SELECTION_CHANGE,{features:D.getSelected().map(function(sr){return sr.toGeoJSON()}),points:D.getSelectedCoordinates().map(function(sr){return{type:I.FEATURE,properties:{},geometry:{type:I.POINT,coordinates:sr.coordinates}}})}),D._emitSelectionChange=!1),D._deletedFeaturesToEmit.length){var Ut=D._deletedFeaturesToEmit.map(function(sr){return sr.toGeoJSON()});D._deletedFeaturesToEmit=[],D.ctx.map.fire(N.DELETE,{features:Ut})}function Wt(){D.isDirty=!1,D.clearChangedIds()}Wt(),D.ctx.map.fire(N.RENDER,{})}function de(D){var G,ye=this;this._features={},this._featureIds=new oe,this._selectedFeatureIds=new oe,this._selectedCoordinates=[],this._changedFeatureIds=new oe,this._deletedFeaturesToEmit=[],this._emitSelectionChange=!1,this._mapInitialConfig={},this.ctx=D,this.sources={hot:[],cold:[]},this.render=function(){G||(G=requestAnimationFrame(function(){G=null,ct.call(ye)}))},this.isDirty=!1}function hr(D,G){var ye=D._selectedCoordinates.filter(function(ze){return D._selectedFeatureIds.has(ze.feature_id)});D._selectedCoordinates.length===ye.length||G.silent||(D._emitSelectionChange=!0),D._selectedCoordinates=ye}de.prototype.createRenderBatch=function(){var D=this,G=this.render,ye=0;return this.render=function(){ye++},function(){D.render=G,ye>0&&D.render()}},de.prototype.setDirty=function(){return this.isDirty=!0,this},de.prototype.featureChanged=function(D){return this._changedFeatureIds.add(D),this},de.prototype.getChangedIds=function(){return this._changedFeatureIds.values()},de.prototype.clearChangedIds=function(){return this._changedFeatureIds.clear(),this},de.prototype.getAllIds=function(){return this._featureIds.values()},de.prototype.add=function(D){return this.featureChanged(D.id),this._features[D.id]=D,this._featureIds.add(D.id),this},de.prototype.delete=function(D,G){var ye=this;return G===void 0&&(G={}),kt(D).forEach(function(ze){ye._featureIds.has(ze)&&(ye._featureIds.delete(ze),ye._selectedFeatureIds.delete(ze),G.silent||ye._deletedFeaturesToEmit.indexOf(ye._features[ze])===-1&&ye._deletedFeaturesToEmit.push(ye._features[ze]),delete ye._features[ze],ye.isDirty=!0)}),hr(this,G),this},de.prototype.get=function(D){return this._features[D]},de.prototype.getAll=function(){var D=this;return Object.keys(this._features).map(function(G){return D._features[G]})},de.prototype.select=function(D,G){var ye=this;return G===void 0&&(G={}),kt(D).forEach(function(ze){ye._selectedFeatureIds.has(ze)||(ye._selectedFeatureIds.add(ze),ye._changedFeatureIds.add(ze),G.silent||(ye._emitSelectionChange=!0))}),this},de.prototype.deselect=function(D,G){var ye=this;return G===void 0&&(G={}),kt(D).forEach(function(ze){ye._selectedFeatureIds.has(ze)&&(ye._selectedFeatureIds.delete(ze),ye._changedFeatureIds.add(ze),G.silent||(ye._emitSelectionChange=!0))}),hr(this,G),this},de.prototype.clearSelected=function(D){return D===void 0&&(D={}),this.deselect(this._selectedFeatureIds.values(),{silent:D.silent}),this},de.prototype.setSelected=function(D,G){var ye=this;return G===void 0&&(G={}),D=kt(D),this.deselect(this._selectedFeatureIds.values().filter(function(ze){return D.indexOf(ze)===-1}),{silent:G.silent}),this.select(D.filter(function(ze){return!ye._selectedFeatureIds.has(ze)}),{silent:G.silent}),this},de.prototype.setSelectedCoordinates=function(D){return this._selectedCoordinates=D,this._emitSelectionChange=!0,this},de.prototype.clearSelectedCoordinates=function(){return this._selectedCoordinates=[],this._emitSelectionChange=!0,this},de.prototype.getSelectedIds=function(){return this._selectedFeatureIds.values()},de.prototype.getSelected=function(){var D=this;return this._selectedFeatureIds.values().map(function(G){return D.get(G)})},de.prototype.getSelectedCoordinates=function(){var D=this;return this._selectedCoordinates.map(function(G){return{coordinates:D.get(G.feature_id).getCoordinate(G.coord_path)}})},de.prototype.isSelected=function(D){return this._selectedFeatureIds.has(D)},de.prototype.setFeatureProperty=function(D,G,ye){this.get(D).setProperty(G,ye),this.featureChanged(D)},de.prototype.storeMapConfig=function(){var D=this;re.forEach(function(G){D.ctx.map[G]&&(D._mapInitialConfig[G]=D.ctx.map[G].isEnabled())})},de.prototype.restoreMapConfig=function(){var D=this;Object.keys(this._mapInitialConfig).forEach(function(G){D._mapInitialConfig[G]?D.ctx.map[G].enable():D.ctx.map[G].disable()})},de.prototype.getInitialConfigValue=function(D){return this._mapInitialConfig[D]===void 0||this._mapInitialConfig[D]};var Kt=function(){for(var D=arguments,G={},ye=0;ye<arguments.length;ye++){var ze=D[ye];for(var et in ze)bt.call(ze,et)&&(G[et]=ze[et])}return G},bt=Object.prototype.hasOwnProperty,Pt=n(Kt),Ot=["mode","feature","mouse"];function Gt(D){var G=null,ye=null,ze={onRemove:function(){return D.map.off("load",ze.connect),clearInterval(ye),ze.removeLayers(),D.store.restoreMapConfig(),D.ui.removeButtons(),D.events.removeEventListeners(),D.ui.clearMapClasses(),D.boxZoomInitial&&D.map.boxZoom.enable(),D.map=null,D.container=null,D.store=null,G&&G.parentNode&&G.parentNode.removeChild(G),G=null,this},connect:function(){D.map.off("load",ze.connect),clearInterval(ye),ze.addLayers(),D.store.storeMapConfig(),D.events.addEventListeners()},onAdd:function(et){var it=et.fire;return et.fire=function(dt,Ut){var Wt=arguments;return it.length===1&&arguments.length!==1&&(Wt=[Pt({},{type:dt},Ut)]),it.apply(et,Wt)},D.map=et,D.events=function(dt){var Ut=Object.keys(dt.options.modes).reduce(function(Nt,Sr){return Nt[Sr]=St(dt.options.modes[Sr]),Nt},{}),Wt={},sr={},ar={},nr=null,wr=null;ar.drag=function(Nt,Sr){Sr({point:Nt.point,time:new Date().getTime()})?(dt.ui.queueMapClasses({mouse:P.DRAG}),wr.drag(Nt)):Nt.originalEvent.stopPropagation()},ar.mousedrag=function(Nt){ar.drag(Nt,function(Sr){return!xe(Wt,Sr)})},ar.touchdrag=function(Nt){ar.drag(Nt,function(Sr){return!Oe(sr,Sr)})},ar.mousemove=function(Nt){if((Nt.originalEvent.buttons!==void 0?Nt.originalEvent.buttons:Nt.originalEvent.which)===1)return ar.mousedrag(Nt);var Sr=Le(Nt,dt);Nt.featureTarget=Sr,wr.mousemove(Nt)},ar.mousedown=function(Nt){Wt={time:new Date().getTime(),point:Nt.point};var Sr=Le(Nt,dt);Nt.featureTarget=Sr,wr.mousedown(Nt)},ar.mouseup=function(Nt){var Sr=Le(Nt,dt);Nt.featureTarget=Sr,xe(Wt,{point:Nt.point,time:new Date().getTime()})?wr.click(Nt):wr.mouseup(Nt)},ar.mouseout=function(Nt){wr.mouseout(Nt)},ar.touchstart=function(Nt){if(dt.options.touchEnabled){sr={time:new Date().getTime(),point:Nt.point};var Sr=ge.touch(Nt,null,dt)[0];Nt.featureTarget=Sr,wr.touchstart(Nt)}},ar.touchmove=function(Nt){if(dt.options.touchEnabled)return wr.touchmove(Nt),ar.touchdrag(Nt)},ar.touchend=function(Nt){if(Nt.originalEvent.preventDefault(),dt.options.touchEnabled){var Sr=ge.touch(Nt,null,dt)[0];Nt.featureTarget=Sr,Oe(sr,{time:new Date().getTime(),point:Nt.point})?wr.tap(Nt):wr.touchend(Nt)}};var Kn=function(Nt){return!(Nt===8||Nt===46||Nt>=48&&Nt<=57)};function Fr(Nt,Sr,xn){xn===void 0&&(xn={}),wr.stop();var Bi=Ut[Nt];if(Bi===void 0)throw new Error(Nt+" is not valid");nr=Nt;var ti=Bi(dt,Sr);wr=r(ti,dt),xn.silent||dt.map.fire(N.MODE_CHANGE,{mode:Nt}),dt.store.setDirty(),dt.store.render()}ar.keydown=function(Nt){(Nt.srcElement||Nt.target).classList.contains("mapboxgl-canvas")&&(Nt.keyCode!==8&&Nt.keyCode!==46||!dt.options.controls.trash?Kn(Nt.keyCode)?wr.keydown(Nt):Nt.keyCode===49&&dt.options.controls.point?Fr(z.DRAW_POINT):Nt.keyCode===50&&dt.options.controls.line_string?Fr(z.DRAW_LINE_STRING):Nt.keyCode===51&&dt.options.controls.polygon&&Fr(z.DRAW_POLYGON):(Nt.preventDefault(),wr.trash()))},ar.keyup=function(Nt){Kn(Nt.keyCode)&&wr.keyup(Nt)},ar.zoomend=function(){dt.store.changeZoom()},ar.data=function(Nt){if(Nt.dataType==="style"){var Sr=dt.setup,xn=dt.map,Bi=dt.options,ti=dt.store;Bi.styles.some(function(pl){return xn.getLayer(pl.id)})||(Sr.addLayers(),ti.setDirty(),ti.render())}};var fr={trash:!1,combineFeatures:!1,uncombineFeatures:!1};return{start:function(){nr=dt.options.defaultMode,wr=r(Ut[nr](dt),dt)},changeMode:Fr,actionable:function(Nt){var Sr=!1;Object.keys(Nt).forEach(function(xn){if(fr[xn]===void 0)throw new Error("Invalid action type");fr[xn]!==Nt[xn]&&(Sr=!0),fr[xn]=Nt[xn]}),Sr&&dt.map.fire(N.ACTIONABLE,{actions:fr})},currentModeName:function(){return nr},currentModeRender:function(Nt,Sr){return wr.render(Nt,Sr)},fire:function(Nt,Sr){ar[Nt]&&ar[Nt](Sr)},addEventListeners:function(){dt.map.on("mousemove",ar.mousemove),dt.map.on("mousedown",ar.mousedown),dt.map.on("mouseup",ar.mouseup),dt.map.on("data",ar.data),dt.map.on("touchmove",ar.touchmove),dt.map.on("touchstart",ar.touchstart),dt.map.on("touchend",ar.touchend),dt.container.addEventListener("mouseout",ar.mouseout),dt.options.keybindings&&(dt.container.addEventListener("keydown",ar.keydown),dt.container.addEventListener("keyup",ar.keyup))},removeEventListeners:function(){dt.map.off("mousemove",ar.mousemove),dt.map.off("mousedown",ar.mousedown),dt.map.off("mouseup",ar.mouseup),dt.map.off("data",ar.data),dt.map.off("touchmove",ar.touchmove),dt.map.off("touchstart",ar.touchstart),dt.map.off("touchend",ar.touchend),dt.container.removeEventListener("mouseout",ar.mouseout),dt.options.keybindings&&(dt.container.removeEventListener("keydown",ar.keydown),dt.container.removeEventListener("keyup",ar.keyup))},trash:function(Nt){wr.trash(Nt)},combineFeatures:function(){wr.combineFeatures()},uncombineFeatures:function(){wr.uncombineFeatures()},getMode:function(){return nr}}}(D),D.ui=function(dt){var Ut={},Wt=null,sr={mode:null,feature:null,mouse:null},ar={mode:null,feature:null,mouse:null};function nr(Nt){ar=Pt(ar,Nt)}function wr(){var Nt,Sr;if(dt.container){var xn=[],Bi=[];Ot.forEach(function(ti){ar[ti]!==sr[ti]&&(xn.push(ti+"-"+sr[ti]),ar[ti]!==null&&Bi.push(ti+"-"+ar[ti]))}),xn.length>0&&(Nt=dt.container.classList).remove.apply(Nt,xn),Bi.length>0&&(Sr=dt.container.classList).add.apply(Sr,Bi),sr=Pt(sr,ar)}}function Kn(Nt,Sr){Sr===void 0&&(Sr={});var xn=document.createElement("button");return xn.className=w.CONTROL_BUTTON+" "+Sr.className,xn.setAttribute("title",Sr.title),Sr.container.appendChild(xn),xn.addEventListener("click",function(Bi){if(Bi.preventDefault(),Bi.stopPropagation(),Bi.target===Wt)return Fr(),void Sr.onDeactivate();fr(Nt),Sr.onActivate()},!0),xn}function Fr(){Wt&&(Wt.classList.remove(w.ACTIVE_BUTTON),Wt=null)}function fr(Nt){Fr();var Sr=Ut[Nt];Sr&&Sr&&Nt!=="trash"&&(Sr.classList.add(w.ACTIVE_BUTTON),Wt=Sr)}return{setActiveButton:fr,queueMapClasses:nr,updateMapClasses:wr,clearMapClasses:function(){nr({mode:null,feature:null,mouse:null}),wr()},addButtons:function(){var Nt=dt.options.controls,Sr=document.createElement("div");return Sr.className=w.CONTROL_GROUP+" "+w.CONTROL_BASE,Nt&&(Nt[O.LINE]&&(Ut[O.LINE]=Kn(O.LINE,{container:Sr,className:w.CONTROL_BUTTON_LINE,title:"LineString tool "+(dt.options.keybindings?"(l)":""),onActivate:function(){return dt.events.changeMode(z.DRAW_LINE_STRING)},onDeactivate:function(){return dt.events.trash()}})),Nt[O.POLYGON]&&(Ut[O.POLYGON]=Kn(O.POLYGON,{container:Sr,className:w.CONTROL_BUTTON_POLYGON,title:"Polygon tool "+(dt.options.keybindings?"(p)":""),onActivate:function(){return dt.events.changeMode(z.DRAW_POLYGON)},onDeactivate:function(){return dt.events.trash()}})),Nt[O.POINT]&&(Ut[O.POINT]=Kn(O.POINT,{container:Sr,className:w.CONTROL_BUTTON_POINT,title:"Marker tool "+(dt.options.keybindings?"(m)":""),onActivate:function(){return dt.events.changeMode(z.DRAW_POINT)},onDeactivate:function(){return dt.events.trash()}})),Nt.trash&&(Ut.trash=Kn("trash",{container:Sr,className:w.CONTROL_BUTTON_TRASH,title:"Delete",onActivate:function(){dt.events.trash()}})),Nt.combine_features&&(Ut.combine_features=Kn("combineFeatures",{container:Sr,className:w.CONTROL_BUTTON_COMBINE_FEATURES,title:"Combine",onActivate:function(){dt.events.combineFeatures()}})),Nt.uncombine_features&&(Ut.uncombine_features=Kn("uncombineFeatures",{container:Sr,className:w.CONTROL_BUTTON_UNCOMBINE_FEATURES,title:"Uncombine",onActivate:function(){dt.events.uncombineFeatures()}}))),Sr},removeButtons:function(){Object.keys(Ut).forEach(function(Nt){var Sr=Ut[Nt];Sr.parentNode&&Sr.parentNode.removeChild(Sr),delete Ut[Nt]})}}}(D),D.container=et.getContainer(),D.store=new de(D),G=D.ui.addButtons(),D.options.boxSelect&&(D.boxZoomInitial=et.boxZoom.isEnabled(),et.boxZoom.disable(),et.dragPan.disable(),et.dragPan.enable()),et.loaded()?ze.connect():(et.on("load",ze.connect),ye=setInterval(function(){et.loaded()&&ze.connect()},16)),D.events.start(),G},addLayers:function(){D.map.addSource(C.COLD,{data:{type:I.FEATURE_COLLECTION,features:[]},type:"geojson"}),D.map.addSource(C.HOT,{data:{type:I.FEATURE_COLLECTION,features:[]},type:"geojson"}),D.options.styles.forEach(function(et){D.map.addLayer(et)}),D.store.setDirty(!0),D.store.render()},removeLayers:function(){D.options.styles.forEach(function(et){D.map.getLayer(et.id)&&D.map.removeLayer(et.id)}),D.map.getSource(C.COLD)&&D.map.removeSource(C.COLD),D.map.getSource(C.HOT)&&D.map.removeSource(C.HOT)}};return D.setup=ze,ze}var It=[{id:"gl-draw-polygon-fill-inactive",type:"fill",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],paint:{"fill-color":"#3bb2d0","fill-outline-color":"#3bb2d0","fill-opacity":.1}},{id:"gl-draw-polygon-fill-active",type:"fill",filter:["all",["==","active","true"],["==","$type","Polygon"]],paint:{"fill-color":"#fbb03b","fill-outline-color":"#fbb03b","fill-opacity":.1}},{id:"gl-draw-polygon-midpoint",type:"circle",filter:["all",["==","$type","Point"],["==","meta","midpoint"]],paint:{"circle-radius":3,"circle-color":"#fbb03b"}},{id:"gl-draw-polygon-stroke-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},{id:"gl-draw-polygon-stroke-active",type:"line",filter:["all",["==","active","true"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fbb03b","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-line-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","LineString"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},{id:"gl-draw-line-active",type:"line",filter:["all",["==","$type","LineString"],["==","active","true"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fbb03b","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-polygon-and-line-vertex-stroke-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-color":"#fff"}},{id:"gl-draw-polygon-and-line-vertex-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#fbb03b"}},{id:"gl-draw-point-point-stroke-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-opacity":1,"circle-color":"#fff"}},{id:"gl-draw-point-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#3bb2d0"}},{id:"gl-draw-point-stroke-active",type:"circle",filter:["all",["==","$type","Point"],["==","active","true"],["!=","meta","midpoint"]],paint:{"circle-radius":7,"circle-color":"#fff"}},{id:"gl-draw-point-active",type:"circle",filter:["all",["==","$type","Point"],["!=","meta","midpoint"],["==","active","true"]],paint:{"circle-radius":5,"circle-color":"#fbb03b"}},{id:"gl-draw-polygon-fill-static",type:"fill",filter:["all",["==","mode","static"],["==","$type","Polygon"]],paint:{"fill-color":"#404040","fill-outline-color":"#404040","fill-opacity":.1}},{id:"gl-draw-polygon-stroke-static",type:"line",filter:["all",["==","mode","static"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},{id:"gl-draw-line-static",type:"line",filter:["all",["==","mode","static"],["==","$type","LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},{id:"gl-draw-point-static",type:"circle",filter:["all",["==","mode","static"],["==","$type","Point"]],paint:{"circle-radius":5,"circle-color":"#404040"}}];function ir(D){return function(G){var ye=G.featureTarget;return!!ye&&!!ye.properties&&ye.properties.meta===D}}function vr(D){return!!D.originalEvent&&!!D.originalEvent.shiftKey&&D.originalEvent.button===0}function Pr(D){return!!D.featureTarget&&!!D.featureTarget.properties&&D.featureTarget.properties.active===W.ACTIVE&&D.featureTarget.properties.meta===V.FEATURE}function Vr(D){return!!D.featureTarget&&!!D.featureTarget.properties&&D.featureTarget.properties.active===W.INACTIVE&&D.featureTarget.properties.meta===V.FEATURE}function Ze(D){return D.featureTarget===void 0}function mt(D){return!!D.featureTarget&&!!D.featureTarget.properties&&D.featureTarget.properties.meta===V.FEATURE}function Rt(D){var G=D.featureTarget;return!!G&&!!G.properties&&G.properties.meta===V.VERTEX}function Lt(D){return!!D.originalEvent&&D.originalEvent.shiftKey===!0}function Br(D){return D.keyCode===27}function rt(D){return D.keyCode===13}var Qt=Object.freeze({__proto__:null,isOfMetaType:ir,isShiftMousedown:vr,isActiveFeature:Pr,isInactiveFeature:Vr,noTarget:Ze,isFeature:mt,isVertex:Rt,isShiftDown:Lt,isEscapeKey:Br,isEnterKey:rt,isTrue:function(){return!0}}),Vt=xr;function xr(D,G){this.x=D,this.y=G}xr.prototype={clone:function(){return new xr(this.x,this.y)},add:function(D){return this.clone()._add(D)},sub:function(D){return this.clone()._sub(D)},multByPoint:function(D){return this.clone()._multByPoint(D)},divByPoint:function(D){return this.clone()._divByPoint(D)},mult:function(D){return this.clone()._mult(D)},div:function(D){return this.clone()._div(D)},rotate:function(D){return this.clone()._rotate(D)},rotateAround:function(D,G){return this.clone()._rotateAround(D,G)},matMult:function(D){return this.clone()._matMult(D)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(D){return this.x===D.x&&this.y===D.y},dist:function(D){return Math.sqrt(this.distSqr(D))},distSqr:function(D){var G=D.x-this.x,ye=D.y-this.y;return G*G+ye*ye},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(D){return Math.atan2(this.y-D.y,this.x-D.x)},angleWith:function(D){return this.angleWithSep(D.x,D.y)},angleWithSep:function(D,G){return Math.atan2(this.x*G-this.y*D,this.x*D+this.y*G)},_matMult:function(D){var G=D[0]*this.x+D[1]*this.y,ye=D[2]*this.x+D[3]*this.y;return this.x=G,this.y=ye,this},_add:function(D){return this.x+=D.x,this.y+=D.y,this},_sub:function(D){return this.x-=D.x,this.y-=D.y,this},_mult:function(D){return this.x*=D,this.y*=D,this},_div:function(D){return this.x/=D,this.y/=D,this},_multByPoint:function(D){return this.x*=D.x,this.y*=D.y,this},_divByPoint:function(D){return this.x/=D.x,this.y/=D.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var D=this.y;return this.y=this.x,this.x=-D,this},_rotate:function(D){var G=Math.cos(D),ye=Math.sin(D),ze=G*this.x-ye*this.y,et=ye*this.x+G*this.y;return this.x=ze,this.y=et,this},_rotateAround:function(D,G){var ye=Math.cos(D),ze=Math.sin(D),et=G.x+ye*(this.x-G.x)-ze*(this.y-G.y),it=G.y+ze*(this.x-G.x)+ye*(this.y-G.y);return this.x=et,this.y=it,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},xr.convert=function(D){return D instanceof xr?D:Array.isArray(D)?new xr(D[0],D[1]):D};var rn=n(Vt);function rr(D,G){var ye=G.getBoundingClientRect();return new rn(D.clientX-ye.left-(G.clientLeft||0),D.clientY-ye.top-(G.clientTop||0))}function ni(D,G,ye,ze){return{type:I.FEATURE,properties:{meta:V.VERTEX,parent:D,coord_path:ye,active:ze?W.ACTIVE:W.INACTIVE},geometry:{type:I.POINT,coordinates:G}}}function Nn(D,G,ye){var ze=G.geometry.coordinates,et=ye.geometry.coordinates;if(ze[1]>85||ze[1]<ie||et[1]>85||et[1]<ie)return null;var it={lng:(ze[0]+et[0])/2,lat:(ze[1]+et[1])/2};return{type:I.FEATURE,properties:{meta:V.MIDPOINT,parent:D,lng:it.lng,lat:it.lat,coord_path:ye.properties.coord_path},geometry:{type:I.POINT,coordinates:[it.lng,it.lat]}}}function _i(D,G,ye){G===void 0&&(G={}),ye===void 0&&(ye=null);var ze,et=D.geometry,it=et.type,dt=et.coordinates,Ut=D.properties&&D.properties.id,Wt=[];function sr(nr,wr){var Kn="",Fr=null;nr.forEach(function(fr,Nt){var Sr=wr!=null?wr+"."+Nt:String(Nt),xn=ni(Ut,fr,Sr,ar(Sr));if(G.midpoints&&Fr){var Bi=Nn(Ut,Fr,xn);Bi&&Wt.push(Bi)}Fr=xn;var ti=JSON.stringify(fr);Kn!==ti&&Wt.push(xn),Nt===0&&(Kn=ti)})}function ar(nr){return!!G.selectedPaths&&G.selectedPaths.indexOf(nr)!==-1}return it===I.POINT?Wt.push(ni(Ut,dt,ye,ar(ye))):it===I.POLYGON?dt.forEach(function(nr,wr){sr(nr,ye!==null?ye+"."+wr:String(wr))}):it===I.LINE_STRING?sr(dt,ye):it.indexOf(I.MULTI_PREFIX)===0&&(ze=it.replace(I.MULTI_PREFIX,""),dt.forEach(function(nr,wr){var Kn={type:I.FEATURE,properties:D.properties,geometry:{type:ze,coordinates:nr}};Wt=Wt.concat(_i(Kn,G,wr))})),Wt}var Bn={enable:function(D){setTimeout(function(){D.map&&D.map.doubleClickZoom&&D._ctx&&D._ctx.store&&D._ctx.store.getInitialConfigValue&&D._ctx.store.getInitialConfigValue("doubleClickZoom")&&D.map.doubleClickZoom.enable()},0)},disable:function(D){setTimeout(function(){D.map&&D.map.doubleClickZoom&&D.map.doubleClickZoom.disable()},0)}},Ne={exports:{}},ae=function(D){if(!D||!D.type)return null;var G=ce[D.type];if(!G)return null;if(G==="geometry")return{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:D}]};if(G==="feature")return{type:"FeatureCollection",features:[D]};if(G==="featurecollection")return D},ce={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featurecollection"},Ce=n(ae),Re=Object.freeze({__proto__:null,default:function D(G){switch(G&&G.type||null){case"FeatureCollection":return G.features=G.features.reduce(function(ye,ze){return ye.concat(D(ze))},[]),G;case"Feature":return G.geometry?D(G.geometry).map(function(ye){var ze={type:"Feature",properties:JSON.parse(JSON.stringify(G.properties)),geometry:ye};return G.id!==void 0&&(ze.id=G.id),ze}):[G];case"MultiPoint":return G.coordinates.map(function(ye){return{type:"Point",coordinates:ye}});case"MultiPolygon":return G.coordinates.map(function(ye){return{type:"Polygon",coordinates:ye}});case"MultiLineString":return G.coordinates.map(function(ye){return{type:"LineString",coordinates:ye}});case"GeometryCollection":return G.geometries.map(D).reduce(function(ye,ze){return ye.concat(ze)},[]);case"Point":case"Polygon":case"LineString":return[G]}}}),Je=ae,nt=o(Re),Ye=function(D){return function G(ye){return Array.isArray(ye)&&ye.length&&typeof ye[0]=="number"?[ye]:ye.reduce(function(ze,et){return Array.isArray(et)&&Array.isArray(et[0])?ze.concat(G(et)):(ze.push(et),ze)},[])}(D)};nt instanceof Function||(nt=nt.default);var He={exports:{}},_t=He.exports=function(D){return new Ct(D)};function Ct(D){this.value=D}function gt(D,G,ye){var ze=[],et=[],it=!0;return function dt(Ut){var Wt=ye?jt(Ut):Ut,sr={},ar=!0,nr={node:Wt,node_:Ut,path:[].concat(ze),parent:et[et.length-1],parents:et,key:ze.slice(-1)[0],isRoot:ze.length===0,level:ze.length,circular:null,update:function(Fr,fr){nr.isRoot||(nr.parent.node[nr.key]=Fr),nr.node=Fr,fr&&(ar=!1)},delete:function(Fr){delete nr.parent.node[nr.key],Fr&&(ar=!1)},remove:function(Fr){gn(nr.parent.node)?nr.parent.node.splice(nr.key,1):delete nr.parent.node[nr.key],Fr&&(ar=!1)},keys:null,before:function(Fr){sr.before=Fr},after:function(Fr){sr.after=Fr},pre:function(Fr){sr.pre=Fr},post:function(Fr){sr.post=Fr},stop:function(){it=!1},block:function(){ar=!1}};if(!it)return nr;function wr(){if(typeof nr.node=="object"&&nr.node!==null){nr.keys&&nr.node_===nr.node||(nr.keys=ur(nr.node)),nr.isLeaf=nr.keys.length==0;for(var Fr=0;Fr<et.length;Fr++)if(et[Fr].node_===Ut){nr.circular=et[Fr];break}}else nr.isLeaf=!0,nr.keys=null;nr.notLeaf=!nr.isLeaf,nr.notRoot=!nr.isRoot}wr();var Kn=G.call(nr,nr.node);return Kn!==void 0&&nr.update&&nr.update(Kn),sr.before&&sr.before.call(nr,nr.node),ar&&(typeof nr.node!="object"||nr.node===null||nr.circular||(et.push(nr),wr(),Ir(nr.keys,function(Fr,fr){ze.push(Fr),sr.pre&&sr.pre.call(nr,nr.node[Fr],Fr);var Nt=dt(nr.node[Fr]);ye&&Yr.call(nr.node,Fr)&&(nr.node[Fr]=Nt.node),Nt.isLast=fr==nr.keys.length-1,Nt.isFirst=fr==0,sr.post&&sr.post.call(nr,Nt),ze.pop()}),et.pop()),sr.after&&sr.after.call(nr,nr.node)),nr}(D).node}function jt(D){if(typeof D=="object"&&D!==null){var G;if(gn(D))G=[];else if(mr(D)==="[object Date]")G=new Date(D.getTime?D.getTime():D);else if(function(et){return mr(et)==="[object RegExp]"}(D))G=new RegExp(D);else if(function(et){return mr(et)==="[object Error]"}(D))G={message:D.message};else if(function(et){return mr(et)==="[object Boolean]"}(D))G=new Boolean(D);else if(function(et){return mr(et)==="[object Number]"}(D))G=new Number(D);else if(function(et){return mr(et)==="[object String]"}(D))G=new String(D);else if(Object.create&&Object.getPrototypeOf)G=Object.create(Object.getPrototypeOf(D));else if(D.constructor===Object)G={};else{var ye=D.constructor&&D.constructor.prototype||D.__proto__||{},ze=function(){};ze.prototype=ye,G=new ze}return Ir(ur(D),function(et){G[et]=D[et]}),G}return D}Ct.prototype.get=function(D){for(var G=this.value,ye=0;ye<D.length;ye++){var ze=D[ye];if(!G||!Yr.call(G,ze)){G=void 0;break}G=G[ze]}return G},Ct.prototype.has=function(D){for(var G=this.value,ye=0;ye<D.length;ye++){var ze=D[ye];if(!G||!Yr.call(G,ze))return!1;G=G[ze]}return!0},Ct.prototype.set=function(D,G){for(var ye=this.value,ze=0;ze<D.length-1;ze++){var et=D[ze];Yr.call(ye,et)||(ye[et]={}),ye=ye[et]}return ye[D[ze]]=G,G},Ct.prototype.map=function(D){return gt(this.value,D,!0)},Ct.prototype.forEach=function(D){return this.value=gt(this.value,D,!1),this.value},Ct.prototype.reduce=function(D,G){var ye=arguments.length===1,ze=ye?this.value:G;return this.forEach(function(et){this.isRoot&&ye||(ze=D.call(this,ze,et))}),ze},Ct.prototype.paths=function(){var D=[];return this.forEach(function(G){D.push(this.path)}),D},Ct.prototype.nodes=function(){var D=[];return this.forEach(function(G){D.push(this.node)}),D},Ct.prototype.clone=function(){var D=[],G=[];return function ye(ze){for(var et=0;et<D.length;et++)if(D[et]===ze)return G[et];if(typeof ze=="object"&&ze!==null){var it=jt(ze);return D.push(ze),G.push(it),Ir(ur(ze),function(dt){it[dt]=ye(ze[dt])}),D.pop(),G.pop(),it}return ze}(this.value)};var ur=Object.keys||function(D){var G=[];for(var ye in D)G.push(ye);return G};function mr(D){return Object.prototype.toString.call(D)}var gn=Array.isArray||function(D){return Object.prototype.toString.call(D)==="[object Array]"},Ir=function(D,G){if(D.forEach)return D.forEach(G);for(var ye=0;ye<D.length;ye++)G(D[ye],ye,D)};Ir(ur(Ct.prototype),function(D){_t[D]=function(G){var ye=[].slice.call(arguments,1),ze=new Ct(G);return ze[D].apply(ze,ye)}});var Yr=Object.hasOwnProperty||function(D,G){return G in D},en=He.exports,nn=Tr;function Tr(D){if(!(this instanceof Tr))return new Tr(D);this._bbox=D||[1/0,1/0,-1/0,-1/0],this._valid=!!D}Tr.prototype.include=function(D){return this._valid=!0,this._bbox[0]=Math.min(this._bbox[0],D[0]),this._bbox[1]=Math.min(this._bbox[1],D[1]),this._bbox[2]=Math.max(this._bbox[2],D[0]),this._bbox[3]=Math.max(this._bbox[3],D[1]),this},Tr.prototype.equals=function(D){var G;return G=D instanceof Tr?D.bbox():D,this._bbox[0]==G[0]&&this._bbox[1]==G[1]&&this._bbox[2]==G[2]&&this._bbox[3]==G[3]},Tr.prototype.center=function(D){return this._valid?[(this._bbox[0]+this._bbox[2])/2,(this._bbox[1]+this._bbox[3])/2]:null},Tr.prototype.union=function(D){var G;return this._valid=!0,G=D instanceof Tr?D.bbox():D,this._bbox[0]=Math.min(this._bbox[0],G[0]),this._bbox[1]=Math.min(this._bbox[1],G[1]),this._bbox[2]=Math.max(this._bbox[2],G[2]),this._bbox[3]=Math.max(this._bbox[3],G[3]),this},Tr.prototype.bbox=function(){return this._valid?this._bbox:null},Tr.prototype.contains=function(D){if(!D)return this._fastContains();if(!this._valid)return null;var G=D[0],ye=D[1];return this._bbox[0]<=G&&this._bbox[1]<=ye&&this._bbox[2]>=G&&this._bbox[3]>=ye},Tr.prototype.intersect=function(D){return this._valid?(G=D instanceof Tr?D.bbox():D,!(this._bbox[0]>G[2]||this._bbox[2]<G[0]||this._bbox[3]<G[1]||this._bbox[1]>G[3])):null;var G},Tr.prototype._fastContains=function(){if(!this._valid)return new Function("return null;");var D="return "+this._bbox[0]+"<= ll[0] &&"+this._bbox[1]+"<= ll[1] &&"+this._bbox[2]+">= ll[0] &&"+this._bbox[3]+">= ll[1]";return new Function("ll",D)},Tr.prototype.polygon=function(){return this._valid?{type:"Polygon",coordinates:[[[this._bbox[0],this._bbox[1]],[this._bbox[2],this._bbox[1]],[this._bbox[2],this._bbox[3]],[this._bbox[0],this._bbox[3]],[this._bbox[0],this._bbox[1]]]]}:null};var Hr=function(D){if(!D)return[];var G=nt(Je(D)),ye=[];return G.features.forEach(function(ze){ze.geometry&&(ye=ye.concat(Ye(ze.geometry.coordinates)))}),ye},_n=en,Cn=nn,xi={features:["FeatureCollection"],coordinates:["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],geometry:["Feature"],geometries:["GeometryCollection"]},Ni=Object.keys(xi);function Fi(D){for(var G=Cn(),ye=Hr(D),ze=0;ze<ye.length;ze++)G.include(ye[ze]);return G}Ne.exports=function(D){return Fi(D).bbox()},Ne.exports.polygon=function(D){return Fi(D).polygon()},Ne.exports.bboxify=function(D){return _n(D).map(function(G){G&&Ni.some(function(ye){return!!G[ye]&&xi[ye].indexOf(G.type)!==-1})&&(G.bbox=Fi(G).bbox(),this.update(G))})};var Xs=n(Ne.exports),Dn=-90;function Wl(D,G){var ye=Dn,ze=90,et=Dn,it=90,dt=270,Ut=-270;D.forEach(function(sr){var ar=Xs(sr),nr=ar[1],wr=ar[3],Kn=ar[0],Fr=ar[2];nr>ye&&(ye=nr),wr<ze&&(ze=wr),wr>et&&(et=wr),nr<it&&(it=nr),Kn<dt&&(dt=Kn),Fr>Ut&&(Ut=Fr)});var Wt=G;return ye+Wt.lat>85&&(Wt.lat=85-ye),et+Wt.lat>90&&(Wt.lat=90-et),ze+Wt.lat<-85&&(Wt.lat=-85-ze),it+Wt.lat<Dn&&(Wt.lat=Dn-it),dt+Wt.lng<=-270&&(Wt.lng+=360*Math.ceil(Math.abs(Wt.lng)/360)),Ut+Wt.lng>=270&&(Wt.lng-=360*Math.ceil(Math.abs(Wt.lng)/360)),Wt}function bs(D,G){var ye=Wl(D.map(function(ze){return ze.toGeoJSON()}),G);D.forEach(function(ze){var et,it=ze.getCoordinates(),dt=function(Wt){var sr={lng:Wt[0]+ye.lng,lat:Wt[1]+ye.lat};return[sr.lng,sr.lat]},Ut=function(Wt){return Wt.map(function(sr){return dt(sr)})};ze.type===I.POINT?et=dt(it):ze.type===I.LINE_STRING||ze.type===I.MULTI_POINT?et=it.map(dt):ze.type===I.POLYGON||ze.type===I.MULTI_LINE_STRING?et=it.map(Ut):ze.type===I.MULTI_POLYGON&&(et=it.map(function(Wt){return Wt.map(function(sr){return Ut(sr)})})),ze.incomingCoords(et)})}var Fn={onSetup:function(D){var G=this,ye={dragMoveLocation:null,boxSelectStartLocation:null,boxSelectElement:void 0,boxSelecting:!1,canBoxSelect:!1,dragMoving:!1,canDragMove:!1,initiallySelectedFeatureIds:D.featureIds||[]};return this.setSelected(ye.initiallySelectedFeatureIds.filter(function(ze){return G.getFeature(ze)!==void 0})),this.fireActionable(),this.setActionableState({combineFeatures:!0,uncombineFeatures:!0,trash:!0}),ye},fireUpdate:function(){this.map.fire(N.UPDATE,{action:j.MOVE,features:this.getSelected().map(function(D){return D.toGeoJSON()})})},fireActionable:function(){var D=this,G=this.getSelected(),ye=G.filter(function(Ut){return D.isInstanceOf("MultiFeature",Ut)}),ze=!1;if(G.length>1){ze=!0;var et=G[0].type.replace("Multi","");G.forEach(function(Ut){Ut.type.replace("Multi","")!==et&&(ze=!1)})}var it=ye.length>0,dt=G.length>0;this.setActionableState({combineFeatures:ze,uncombineFeatures:it,trash:dt})},getUniqueIds:function(D){return D.length?D.map(function(G){return G.properties.id}).filter(function(G){return G!==void 0}).reduce(function(G,ye){return G.add(ye),G},new oe).values():[]},stopExtendedInteractions:function(D){D.boxSelectElement&&(D.boxSelectElement.parentNode&&D.boxSelectElement.parentNode.removeChild(D.boxSelectElement),D.boxSelectElement=null),this.map.dragPan.enable(),D.boxSelecting=!1,D.canBoxSelect=!1,D.dragMoving=!1,D.canDragMove=!1},onStop:function(){Bn.enable(this)},onMouseMove:function(D,G){return mt(G)&&D.dragMoving&&this.fireUpdate(),this.stopExtendedInteractions(D),!0},onMouseOut:function(D){return!D.dragMoving||this.fireUpdate()}};Fn.onTap=Fn.onClick=function(D,G){return Ze(G)?this.clickAnywhere(D,G):ir(V.VERTEX)(G)?this.clickOnVertex(D,G):mt(G)?this.clickOnFeature(D,G):void 0},Fn.clickAnywhere=function(D){var G=this,ye=this.getSelectedIds();ye.length&&(this.clearSelectedFeatures(),ye.forEach(function(ze){return G.doRender(ze)})),Bn.enable(this),this.stopExtendedInteractions(D)},Fn.clickOnVertex=function(D,G){this.changeMode(z.DIRECT_SELECT,{featureId:G.featureTarget.properties.parent,coordPath:G.featureTarget.properties.coord_path,startPos:G.lngLat}),this.updateUIClasses({mouse:P.MOVE})},Fn.startOnActiveFeature=function(D,G){this.stopExtendedInteractions(D),this.map.dragPan.disable(),this.doRender(G.featureTarget.properties.id),D.canDragMove=!0,D.dragMoveLocation=G.lngLat},Fn.clickOnFeature=function(D,G){var ye=this;Bn.disable(this),this.stopExtendedInteractions(D);var ze=Lt(G),et=this.getSelectedIds(),it=G.featureTarget.properties.id,dt=this.isSelected(it);if(!ze&&dt&&this.getFeature(it).type!==I.POINT)return this.changeMode(z.DIRECT_SELECT,{featureId:it});dt&&ze?(this.deselect(it),this.updateUIClasses({mouse:P.POINTER}),et.length===1&&Bn.enable(this)):!dt&&ze?(this.select(it),this.updateUIClasses({mouse:P.MOVE})):dt||ze||(et.forEach(function(Ut){return ye.doRender(Ut)}),this.setSelected(it),this.updateUIClasses({mouse:P.MOVE})),this.doRender(it)},Fn.onMouseDown=function(D,G){return Pr(G)?this.startOnActiveFeature(D,G):this.drawConfig.boxSelect&&vr(G)?this.startBoxSelect(D,G):void 0},Fn.startBoxSelect=function(D,G){this.stopExtendedInteractions(D),this.map.dragPan.disable(),D.boxSelectStartLocation=rr(G.originalEvent,this.map.getContainer()),D.canBoxSelect=!0},Fn.onTouchStart=function(D,G){if(Pr(G))return this.startOnActiveFeature(D,G)},Fn.onDrag=function(D,G){return D.canDragMove?this.dragMove(D,G):this.drawConfig.boxSelect&&D.canBoxSelect?this.whileBoxSelect(D,G):void 0},Fn.whileBoxSelect=function(D,G){D.boxSelecting=!0,this.updateUIClasses({mouse:P.ADD}),D.boxSelectElement||(D.boxSelectElement=document.createElement("div"),D.boxSelectElement.classList.add(w.BOX_SELECT),this.map.getContainer().appendChild(D.boxSelectElement));var ye=rr(G.originalEvent,this.map.getContainer()),ze=Math.min(D.boxSelectStartLocation.x,ye.x),et=Math.max(D.boxSelectStartLocation.x,ye.x),it=Math.min(D.boxSelectStartLocation.y,ye.y),dt=Math.max(D.boxSelectStartLocation.y,ye.y),Ut="translate("+ze+"px, "+it+"px)";D.boxSelectElement.style.transform=Ut,D.boxSelectElement.style.WebkitTransform=Ut,D.boxSelectElement.style.width=et-ze+"px",D.boxSelectElement.style.height=dt-it+"px"},Fn.dragMove=function(D,G){D.dragMoving=!0,G.originalEvent.stopPropagation();var ye={lng:G.lngLat.lng-D.dragMoveLocation.lng,lat:G.lngLat.lat-D.dragMoveLocation.lat};bs(this.getSelected(),ye),D.dragMoveLocation=G.lngLat},Fn.onTouchEnd=Fn.onMouseUp=function(D,G){var ye=this;if(D.dragMoving)this.fireUpdate();else if(D.boxSelecting){var ze=[D.boxSelectStartLocation,rr(G.originalEvent,this.map.getContainer())],et=this.featuresAt(null,ze,"click"),it=this.getUniqueIds(et).filter(function(dt){return!ye.isSelected(dt)});it.length&&(this.select(it),it.forEach(function(dt){return ye.doRender(dt)}),this.updateUIClasses({mouse:P.MOVE}))}this.stopExtendedInteractions(D)},Fn.toDisplayFeatures=function(D,G,ye){G.properties.active=this.isSelected(G.properties.id)?W.ACTIVE:W.INACTIVE,ye(G),this.fireActionable(),G.properties.active===W.ACTIVE&&G.geometry.type!==I.POINT&&_i(G).forEach(ye)},Fn.onTrash=function(){this.deleteFeature(this.getSelectedIds()),this.fireActionable()},Fn.onCombineFeatures=function(){var D=this.getSelected();if(!(D.length===0||D.length<2)){for(var G=[],ye=[],ze=D[0].type.replace("Multi",""),et=0;et<D.length;et++){var it=D[et];if(it.type.replace("Multi","")!==ze)return;it.type.includes("Multi")?it.getCoordinates().forEach(function(Ut){G.push(Ut)}):G.push(it.getCoordinates()),ye.push(it.toGeoJSON())}if(ye.length>1){var dt=this.newFeature({type:I.FEATURE,properties:ye[0].properties,geometry:{type:"Multi"+ze,coordinates:G}});this.addFeature(dt),this.deleteFeature(this.getSelectedIds(),{silent:!0}),this.setSelected([dt.id]),this.map.fire(N.COMBINE_FEATURES,{createdFeatures:[dt.toGeoJSON()],deletedFeatures:ye})}this.fireActionable()}},Fn.onUncombineFeatures=function(){var D=this,G=this.getSelected();if(G.length!==0){for(var ye=[],ze=[],et=function(dt){var Ut=G[dt];D.isInstanceOf("MultiFeature",Ut)&&(Ut.getFeatures().forEach(function(Wt){D.addFeature(Wt),Wt.properties=Ut.properties,ye.push(Wt.toGeoJSON()),D.select([Wt.id])}),D.deleteFeature(Ut.id,{silent:!0}),ze.push(Ut.toGeoJSON()))},it=0;it<G.length;it++)et(it);ye.length>1&&this.map.fire(N.UNCOMBINE_FEATURES,{createdFeatures:ye,deletedFeatures:ze}),this.fireActionable()}};var Mo=ir(V.VERTEX),ku=ir(V.MIDPOINT),qi={fireUpdate:function(){this.map.fire(N.UPDATE,{action:j.CHANGE_COORDINATES,features:this.getSelected().map(function(D){return D.toGeoJSON()})})},fireActionable:function(D){this.setActionableState({combineFeatures:!1,uncombineFeatures:!1,trash:D.selectedCoordPaths.length>0})},startDragging:function(D,G){this.map.dragPan.disable(),D.canDragMove=!0,D.dragMoveLocation=G.lngLat},stopDragging:function(D){this.map.dragPan.enable(),D.dragMoving=!1,D.canDragMove=!1,D.dragMoveLocation=null},onVertex:function(D,G){this.startDragging(D,G);var ye=G.featureTarget.properties,ze=D.selectedCoordPaths.indexOf(ye.coord_path);Lt(G)||ze!==-1?Lt(G)&&ze===-1&&D.selectedCoordPaths.push(ye.coord_path):D.selectedCoordPaths=[ye.coord_path];var et=this.pathsToCoordinates(D.featureId,D.selectedCoordPaths);this.setSelectedCoordinates(et)},onMidpoint:function(D,G){this.startDragging(D,G);var ye=G.featureTarget.properties;D.feature.addCoordinate(ye.coord_path,ye.lng,ye.lat),this.fireUpdate(),D.selectedCoordPaths=[ye.coord_path]},pathsToCoordinates:function(D,G){return G.map(function(ye){return{feature_id:D,coord_path:ye}})},onFeature:function(D,G){D.selectedCoordPaths.length===0?this.startDragging(D,G):this.stopDragging(D)},dragFeature:function(D,G,ye){bs(this.getSelected(),ye),D.dragMoveLocation=G.lngLat},dragVertex:function(D,G,ye){for(var ze=D.selectedCoordPaths.map(function(Ut){return D.feature.getCoordinate(Ut)}),et=Wl(ze.map(function(Ut){return{type:I.FEATURE,properties:{},geometry:{type:I.POINT,coordinates:Ut}}}),ye),it=0;it<ze.length;it++){var dt=ze[it];D.feature.updateCoordinate(D.selectedCoordPaths[it],dt[0]+et.lng,dt[1]+et.lat)}},clickNoTarget:function(){this.changeMode(z.SIMPLE_SELECT)},clickInactive:function(){this.changeMode(z.SIMPLE_SELECT)},clickActiveFeature:function(D){D.selectedCoordPaths=[],this.clearSelectedCoordinates(),D.feature.changed()},onSetup:function(D){var G=D.featureId,ye=this.getFeature(G);if(!ye)throw new Error("You must provide a featureId to enter direct_select mode");if(ye.type===I.POINT)throw new TypeError("direct_select mode doesn't handle point features");var ze={featureId:G,feature:ye,dragMoveLocation:D.startPos||null,dragMoving:!1,canDragMove:!1,selectedCoordPaths:D.coordPath?[D.coordPath]:[]};return this.setSelectedCoordinates(this.pathsToCoordinates(G,ze.selectedCoordPaths)),this.setSelected(G),Bn.disable(this),this.setActionableState({trash:!0}),ze},onStop:function(){Bn.enable(this),this.clearSelectedCoordinates()},toDisplayFeatures:function(D,G,ye){D.featureId===G.properties.id?(G.properties.active=W.ACTIVE,ye(G),_i(G,{map:this.map,midpoints:!0,selectedPaths:D.selectedCoordPaths}).forEach(ye)):(G.properties.active=W.INACTIVE,ye(G)),this.fireActionable(D)},onTrash:function(D){D.selectedCoordPaths.sort(function(G,ye){return ye.localeCompare(G,"en",{numeric:!0})}).forEach(function(G){return D.feature.removeCoordinate(G)}),this.fireUpdate(),D.selectedCoordPaths=[],this.clearSelectedCoordinates(),this.fireActionable(D),D.feature.isValid()===!1&&(this.deleteFeature([D.featureId]),this.changeMode(z.SIMPLE_SELECT,{}))},onMouseMove:function(D,G){var ye=Pr(G),ze=Mo(G),et=ku(G),it=D.selectedCoordPaths.length===0;return ye&&it||ze&&!it?this.updateUIClasses({mouse:P.MOVE}):this.updateUIClasses({mouse:P.NONE}),(ze||ye||et)&&D.dragMoving&&this.fireUpdate(),this.stopDragging(D),!0},onMouseOut:function(D){return D.dragMoving&&this.fireUpdate(),!0}};qi.onTouchStart=qi.onMouseDown=function(D,G){return Mo(G)?this.onVertex(D,G):Pr(G)?this.onFeature(D,G):ku(G)?this.onMidpoint(D,G):void 0},qi.onDrag=function(D,G){if(D.canDragMove===!0){D.dragMoving=!0,G.originalEvent.stopPropagation();var ye={lng:G.lngLat.lng-D.dragMoveLocation.lng,lat:G.lngLat.lat-D.dragMoveLocation.lat};D.selectedCoordPaths.length>0?this.dragVertex(D,G,ye):this.dragFeature(D,G,ye),D.dragMoveLocation=G.lngLat}},qi.onClick=function(D,G){return Ze(G)?this.clickNoTarget(D,G):Pr(G)?this.clickActiveFeature(D,G):Vr(G)?this.clickInactive(D,G):void this.stopDragging(D)},qi.onTap=function(D,G){return Ze(G)?this.clickNoTarget(D,G):Pr(G)?this.clickActiveFeature(D,G):Vr(G)?this.clickInactive(D,G):void 0},qi.onTouchEnd=qi.onMouseUp=function(D){D.dragMoving&&this.fireUpdate(),this.stopDragging(D)};var pi={};function Ya(D,G){return!!D.lngLat&&D.lngLat.lng===G[0]&&D.lngLat.lat===G[1]}pi.onSetup=function(){var D=this.newFeature({type:I.FEATURE,properties:{},geometry:{type:I.POINT,coordinates:[]}});return this.addFeature(D),this.clearSelectedFeatures(),this.updateUIClasses({mouse:P.ADD}),this.activateUIButton(O.POINT),this.setActionableState({trash:!0}),{point:D}},pi.stopDrawingAndRemove=function(D){this.deleteFeature([D.point.id],{silent:!0}),this.changeMode(z.SIMPLE_SELECT)},pi.onTap=pi.onClick=function(D,G){this.updateUIClasses({mouse:P.MOVE}),D.point.updateCoordinate("",G.lngLat.lng,G.lngLat.lat),this.map.fire(N.CREATE,{features:[D.point.toGeoJSON()]}),this.changeMode(z.SIMPLE_SELECT,{featureIds:[D.point.id]})},pi.onStop=function(D){this.activateUIButton(),D.point.getCoordinate().length||this.deleteFeature([D.point.id],{silent:!0})},pi.toDisplayFeatures=function(D,G,ye){var ze=G.properties.id===D.point.id;if(G.properties.active=ze?W.ACTIVE:W.INACTIVE,!ze)return ye(G)},pi.onTrash=pi.stopDrawingAndRemove,pi.onKeyUp=function(D,G){if(Br(G)||rt(G))return this.stopDrawingAndRemove(D,G)};var fo={onSetup:function(){var D=this.newFeature({type:I.FEATURE,properties:{},geometry:{type:I.POLYGON,coordinates:[[]]}});return this.addFeature(D),this.clearSelectedFeatures(),Bn.disable(this),this.updateUIClasses({mouse:P.ADD}),this.activateUIButton(O.POLYGON),this.setActionableState({trash:!0}),{polygon:D,currentVertexPosition:0}},clickAnywhere:function(D,G){if(D.currentVertexPosition>0&&Ya(G,D.polygon.coordinates[0][D.currentVertexPosition-1]))return this.changeMode(z.SIMPLE_SELECT,{featureIds:[D.polygon.id]});this.updateUIClasses({mouse:P.ADD}),D.polygon.updateCoordinate("0."+D.currentVertexPosition,G.lngLat.lng,G.lngLat.lat),D.currentVertexPosition++,D.polygon.updateCoordinate("0."+D.currentVertexPosition,G.lngLat.lng,G.lngLat.lat)},clickOnVertex:function(D){return this.changeMode(z.SIMPLE_SELECT,{featureIds:[D.polygon.id]})},onMouseMove:function(D,G){D.polygon.updateCoordinate("0."+D.currentVertexPosition,G.lngLat.lng,G.lngLat.lat),Rt(G)&&this.updateUIClasses({mouse:P.POINTER})}};fo.onTap=fo.onClick=function(D,G){return Rt(G)?this.clickOnVertex(D,G):this.clickAnywhere(D,G)},fo.onKeyUp=function(D,G){Br(G)?(this.deleteFeature([D.polygon.id],{silent:!0}),this.changeMode(z.SIMPLE_SELECT)):rt(G)&&this.changeMode(z.SIMPLE_SELECT,{featureIds:[D.polygon.id]})},fo.onStop=function(D){this.updateUIClasses({mouse:P.NONE}),Bn.enable(this),this.activateUIButton(),this.getFeature(D.polygon.id)!==void 0&&(D.polygon.removeCoordinate("0."+D.currentVertexPosition),D.polygon.isValid()?this.map.fire(N.CREATE,{features:[D.polygon.toGeoJSON()]}):(this.deleteFeature([D.polygon.id],{silent:!0}),this.changeMode(z.SIMPLE_SELECT,{},{silent:!0})))},fo.toDisplayFeatures=function(D,G,ye){var ze=G.properties.id===D.polygon.id;if(G.properties.active=ze?W.ACTIVE:W.INACTIVE,!ze)return ye(G);if(G.geometry.coordinates.length!==0){var et=G.geometry.coordinates[0].length;if(!(et<3)){if(G.properties.meta=V.FEATURE,ye(ni(D.polygon.id,G.geometry.coordinates[0][0],"0.0",!1)),et>3){var it=G.geometry.coordinates[0].length-3;ye(ni(D.polygon.id,G.geometry.coordinates[0][it],"0."+it,!1))}if(et<=4){var dt=[[G.geometry.coordinates[0][0][0],G.geometry.coordinates[0][0][1]],[G.geometry.coordinates[0][1][0],G.geometry.coordinates[0][1][1]]];if(ye({type:I.FEATURE,properties:G.properties,geometry:{coordinates:dt,type:I.LINE_STRING}}),et===3)return}return ye(G)}}},fo.onTrash=function(D){this.deleteFeature([D.polygon.id],{silent:!0}),this.changeMode(z.SIMPLE_SELECT)};var ei={onSetup:function(D){var G,ye,ze=(D=D||{}).featureId,et="forward";if(ze){if(!(G=this.getFeature(ze)))throw new Error("Could not find a feature with the provided featureId");var it=D.from;if(it&&it.type==="Feature"&&it.geometry&&it.geometry.type==="Point"&&(it=it.geometry),it&&it.type==="Point"&&it.coordinates&&it.coordinates.length===2&&(it=it.coordinates),!it||!Array.isArray(it))throw new Error("Please use the `from` property to indicate which point to continue the line from");var dt=G.coordinates.length-1;if(G.coordinates[dt][0]===it[0]&&G.coordinates[dt][1]===it[1])ye=dt+1,G.addCoordinate.apply(G,[ye].concat(G.coordinates[dt]));else{if(G.coordinates[0][0]!==it[0]||G.coordinates[0][1]!==it[1])throw new Error("`from` should match the point at either the start or the end of the provided LineString");et="backwards",ye=0,G.addCoordinate.apply(G,[ye].concat(G.coordinates[0]))}}else G=this.newFeature({type:I.FEATURE,properties:{},geometry:{type:I.LINE_STRING,coordinates:[]}}),ye=0,this.addFeature(G);return this.clearSelectedFeatures(),Bn.disable(this),this.updateUIClasses({mouse:P.ADD}),this.activateUIButton(O.LINE),this.setActionableState({trash:!0}),{line:G,currentVertexPosition:ye,direction:et}},clickAnywhere:function(D,G){if(D.currentVertexPosition>0&&Ya(G,D.line.coordinates[D.currentVertexPosition-1])||D.direction==="backwards"&&Ya(G,D.line.coordinates[D.currentVertexPosition+1]))return this.changeMode(z.SIMPLE_SELECT,{featureIds:[D.line.id]});this.updateUIClasses({mouse:P.ADD}),D.line.updateCoordinate(D.currentVertexPosition,G.lngLat.lng,G.lngLat.lat),D.direction==="forward"?(D.currentVertexPosition++,D.line.updateCoordinate(D.currentVertexPosition,G.lngLat.lng,G.lngLat.lat)):D.line.addCoordinate(0,G.lngLat.lng,G.lngLat.lat)},clickOnVertex:function(D){return this.changeMode(z.SIMPLE_SELECT,{featureIds:[D.line.id]})},onMouseMove:function(D,G){D.line.updateCoordinate(D.currentVertexPosition,G.lngLat.lng,G.lngLat.lat),Rt(G)&&this.updateUIClasses({mouse:P.POINTER})}};ei.onTap=ei.onClick=function(D,G){if(Rt(G))return this.clickOnVertex(D,G);this.clickAnywhere(D,G)},ei.onKeyUp=function(D,G){rt(G)?this.changeMode(z.SIMPLE_SELECT,{featureIds:[D.line.id]}):Br(G)&&(this.deleteFeature([D.line.id],{silent:!0}),this.changeMode(z.SIMPLE_SELECT))},ei.onStop=function(D){Bn.enable(this),this.activateUIButton(),this.getFeature(D.line.id)!==void 0&&(D.line.removeCoordinate(""+D.currentVertexPosition),D.line.isValid()?this.map.fire(N.CREATE,{features:[D.line.toGeoJSON()]}):(this.deleteFeature([D.line.id],{silent:!0}),this.changeMode(z.SIMPLE_SELECT,{},{silent:!0})))},ei.onTrash=function(D){this.deleteFeature([D.line.id],{silent:!0}),this.changeMode(z.SIMPLE_SELECT)},ei.toDisplayFeatures=function(D,G,ye){var ze=G.properties.id===D.line.id;if(G.properties.active=ze?W.ACTIVE:W.INACTIVE,!ze)return ye(G);G.geometry.coordinates.length<2||(G.properties.meta=V.FEATURE,ye(ni(D.line.id,G.geometry.coordinates[D.direction==="forward"?G.geometry.coordinates.length-2:1],""+(D.direction==="forward"?G.geometry.coordinates.length-2:1),!1)),ye(G))};var li={simple_select:Fn,direct_select:qi,draw_point:pi,draw_polygon:fo,draw_line_string:ei},la={defaultMode:z.SIMPLE_SELECT,keybindings:!0,touchEnabled:!0,clickBuffer:2,touchBuffer:25,boxSelect:!0,displayControlsDefault:!0,styles:It,modes:li,controls:{},userProperties:!1},wi={point:!0,line_string:!0,polygon:!0,trash:!0,combine_features:!0,uncombine_features:!0},Xl={point:!1,line_string:!1,polygon:!1,trash:!1,combine_features:!1,uncombine_features:!1};function Do(D,G){return D.map(function(ye){return ye.source?ye:Pt(ye,{id:ye.id+"."+G,source:G==="hot"?C.HOT:C.COLD})})}var Kl={exports:{}};(function(D,G){var ye="__lodash_hash_undefined__",ze=9007199254740991,et="[object Arguments]",it="[object Array]",dt="[object Boolean]",Ut="[object Date]",Wt="[object Error]",sr="[object Function]",ar="[object Map]",nr="[object Number]",wr="[object Object]",Kn="[object Promise]",Fr="[object RegExp]",fr="[object Set]",Nt="[object String]",Sr="[object Symbol]",xn="[object WeakMap]",Bi="[object ArrayBuffer]",ti="[object DataView]",pl=/^\[object .+?Constructor\]$/,Iu=/^(?:0|[1-9]\d*)$/,ri={};ri["[object Float32Array]"]=ri["[object Float64Array]"]=ri["[object Int8Array]"]=ri["[object Int16Array]"]=ri["[object Int32Array]"]=ri["[object Uint8Array]"]=ri["[object Uint8ClampedArray]"]=ri["[object Uint16Array]"]=ri["[object Uint32Array]"]=!0,ri[et]=ri[it]=ri[Bi]=ri[dt]=ri[ti]=ri[Ut]=ri[Wt]=ri[sr]=ri[ar]=ri[nr]=ri[wr]=ri[Fr]=ri[fr]=ri[Nt]=ri[xn]=!1;var Kc=typeof Th=="object"&&Th&&Th.Object===Object&&Th,qh=typeof self=="object"&&self&&self.Object===Object&&self,ua=Kc||qh||Function("return this")(),Oa=G&&!G.nodeType&&G,es=Oa&&D&&!D.nodeType&&D,Yl=es&&es.exports===Oa,ts=Yl&&Kc.process,ml=function(){try{return ts&&ts.binding&&ts.binding("util")}catch{}}(),Ro=ml&&ml.isTypedArray;function Zc(Qe,xt){for(var tr=-1,kr=Qe==null?0:Qe.length;++tr<kr;)if(xt(Qe[tr],tr,Qe))return!0;return!1}function Lu(Qe){var xt=-1,tr=Array(Qe.size);return Qe.forEach(function(kr,Pn){tr[++xt]=[Pn,kr]}),tr}function _s(Qe){var xt=-1,tr=Array(Qe.size);return Qe.forEach(function(kr){tr[++xt]=kr}),tr}var Na,wn,Fa,Hh=Array.prototype,Ca=Function.prototype,ca=Object.prototype,gl=ua["__core-js_shared__"],yl=Ca.toString,Aa=ca.hasOwnProperty,Ks=(Na=/[^.]+$/.exec(gl&&gl.keys&&gl.keys.IE_PROTO||""))?"Symbol(src)_1."+Na:"",fc=ca.toString,Mu=RegExp("^"+yl.call(Aa).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Jl=Yl?ua.Buffer:void 0,vl=ua.Symbol,Ea=ua.Uint8Array,Ql=ca.propertyIsEnumerable,pc=Hh.splice,rs=vl?vl.toStringTag:void 0,bl=Object.getOwnPropertySymbols,Du=Jl?Jl.isBuffer:void 0,xs=(wn=Object.keys,Fa=Object,function(Qe){return wn(Fa(Qe))}),eu=Ko(ua,"DataView"),$a=Ko(ua,"Map"),_l=Ko(ua,"Promise"),$=Ko(ua,"Set"),fe=Ko(ua,"WeakMap"),$e=Ko(Object,"create"),ot=da(eu),yt=da($a),Tt=da(_l),Zt=da($),gr=da(fe),Ur=vl?vl.prototype:void 0,cn=Ur?Ur.valueOf:void 0;function hn(Qe){var xt=-1,tr=Qe==null?0:Qe.length;for(this.clear();++xt<tr;){var kr=Qe[xt];this.set(kr[0],kr[1])}}function dn(Qe){var xt=-1,tr=Qe==null?0:Qe.length;for(this.clear();++xt<tr;){var kr=Qe[xt];this.set(kr[0],kr[1])}}function zn(Qe){var xt=-1,tr=Qe==null?0:Qe.length;for(this.clear();++xt<tr;){var kr=Qe[xt];this.set(kr[0],kr[1])}}function mi(Qe){var xt=-1,tr=Qe==null?0:Qe.length;for(this.__data__=new zn;++xt<tr;)this.add(Qe[xt])}function fn(Qe){var xt=this.__data__=new dn(Qe);this.size=xt.size}function Oo(Qe,xt){var tr=Hi(Qe),kr=!tr&&Js(Qe),Pn=!tr&&!kr&&Cs(Qe),yn=!tr&&!kr&&!Pn&&mc(Qe),Hn=tr||kr||Pn||yn,jn=Hn?function(Zn,gi){for(var zi=-1,ci=Array(Zn);++zi<Zn;)ci[zi]=gi(zi);return ci}(Qe.length,String):[],Ao=jn.length;for(var ui in Qe)!Aa.call(Qe,ui)||Hn&&(ui=="length"||Pn&&(ui=="offset"||ui=="parent")||yn&&(ui=="buffer"||ui=="byteLength"||ui=="byteOffset")||xl(ui,Ao))||jn.push(ui);return jn}function Or(Qe,xt){for(var tr=Qe.length;tr--;)if(Ta(Qe[tr][0],xt))return tr;return-1}function po(Qe){return Qe==null?Qe===void 0?"[object Undefined]":"[object Null]":rs&&rs in Object(Qe)?function(xt){var tr=Aa.call(xt,rs),kr=xt[rs];try{xt[rs]=void 0;var Pn=!0}catch{}var yn=fc.call(xt);return Pn&&(tr?xt[rs]=kr:delete xt[rs]),yn}(Qe):function(xt){return fc.call(xt)}(Qe)}function An(Qe){return fa(Qe)&&po(Qe)==et}function In(Qe,xt,tr,kr,Pn){return Qe===xt||(Qe==null||xt==null||!fa(Qe)&&!fa(xt)?Qe!=Qe&&xt!=xt:function(yn,Hn,jn,Ao,ui,Zn){var gi=Hi(yn),zi=Hi(Hn),ci=gi?it:Ai(yn),No=zi?it:Ai(Hn),Eo=(ci=ci==et?wr:ci)==wr,Zo=(No=No==et?wr:No)==wr,Pa=ci==No;if(Pa&&Cs(yn)){if(!Cs(Hn))return!1;gi=!0,Eo=!1}if(Pa&&!Eo)return Zn||(Zn=new fn),gi||mc(yn)?Ss(yn,Hn,jn,Ao,ui,Zn):function(on,sn,Fo,no,Ei,Gi,ns){switch(Fo){case ti:if(on.byteLength!=sn.byteLength||on.byteOffset!=sn.byteOffset)return!1;on=on.buffer,sn=sn.buffer;case Bi:return!(on.byteLength!=sn.byteLength||!Gi(new Ea(on),new Ea(sn)));case dt:case Ut:case nr:return Ta(+on,+sn);case Wt:return on.name==sn.name&&on.message==sn.message;case Fr:case Nt:return on==sn+"";case ar:var Es=Lu;case fr:var oi=1&no;if(Es||(Es=_s),on.size!=sn.size&&!oi)return!1;var Yo=ns.get(on);if(Yo)return Yo==sn;no|=2,ns.set(on,sn);var io=Ss(Es(on),Es(sn),no,Ei,Gi,ns);return ns.delete(on),io;case Sr:if(cn)return cn.call(on)==cn.call(sn)}return!1}(yn,Hn,ci,jn,Ao,ui,Zn);if(!(1&jn)){var ro=Eo&&Aa.call(yn,"__wrapped__"),Ba=Zo&&Aa.call(Hn,"__wrapped__");if(ro||Ba){var hi=ro?yn.value():yn,ii=Ba?Hn.value():Hn;return Zn||(Zn=new fn),ui(hi,ii,jn,Ao,Zn)}}return Pa?(Zn||(Zn=new fn),function(on,sn,Fo,no,Ei,Gi){var ns=1&Fo,Es=Ys(on),oi=Es.length,Yo=Ys(sn).length;if(oi!=Yo&&!ns)return!1;for(var io=oi;io--;){var za=Es[io];if(!(ns?za in sn:Aa.call(sn,za)))return!1}var Ru=Gi.get(on);if(Ru&&Gi.get(sn))return Ru==sn;var Ts=!0;Gi.set(on,sn),Gi.set(sn,on);for(var Yi=ns;++io<oi;){var Ti=on[za=Es[io]],Qs=sn[za];if(no)var Sl=ns?no(Qs,Ti,za,sn,on,Gi):no(Ti,Qs,za,on,sn,Gi);if(!(Sl===void 0?Ti===Qs||Ei(Ti,Qs,Fo,no,Gi):Sl)){Ts=!1;break}Yi||(Yi=za=="constructor")}if(Ts&&!Yi){var tu=on.constructor,Ps=sn.constructor;tu==Ps||!("constructor"in on)||!("constructor"in sn)||typeof tu=="function"&&tu instanceof tu&&typeof Ps=="function"&&Ps instanceof Ps||(Ts=!1)}return Gi.delete(on),Gi.delete(sn),Ts}(yn,Hn,jn,Ao,ui,Zn)):!1}(Qe,xt,tr,kr,In,Pn))}function ws(Qe){return!(!Co(Qe)||function(xt){return!!Ks&&Ks in xt}(Qe))&&(As(Qe)?Mu:pl).test(da(Qe))}function Zs(Qe){if(tr=(xt=Qe)&&xt.constructor,kr=typeof tr=="function"&&tr.prototype||ca,xt!==kr)return xs(Qe);var xt,tr,kr,Pn=[];for(var yn in Object(Qe))Aa.call(Qe,yn)&&yn!="constructor"&&Pn.push(yn);return Pn}function Ss(Qe,xt,tr,kr,Pn,yn){var Hn=1&tr,jn=Qe.length,Ao=xt.length;if(jn!=Ao&&!(Hn&&Ao>jn))return!1;var ui=yn.get(Qe);if(ui&&yn.get(xt))return ui==xt;var Zn=-1,gi=!0,zi=2&tr?new mi:void 0;for(yn.set(Qe,xt),yn.set(xt,Qe);++Zn<jn;){var ci=Qe[Zn],No=xt[Zn];if(kr)var Eo=Hn?kr(No,ci,Zn,xt,Qe,yn):kr(ci,No,Zn,Qe,xt,yn);if(Eo!==void 0){if(Eo)continue;gi=!1;break}if(zi){if(!Zc(xt,function(Zo,Pa){if(ro=Pa,!zi.has(ro)&&(ci===Zo||Pn(ci,Zo,tr,kr,yn)))return zi.push(Pa);var ro})){gi=!1;break}}else if(ci!==No&&!Pn(ci,No,tr,kr,yn)){gi=!1;break}}return yn.delete(Qe),yn.delete(xt),gi}function Ys(Qe){return function(xt,tr,kr){var Pn=tr(xt);return Hi(xt)?Pn:function(yn,Hn){for(var jn=-1,Ao=Hn.length,ui=yn.length;++jn<Ao;)yn[ui+jn]=Hn[jn];return yn}(Pn,kr(xt))}(Qe,gc,So)}function ha(Qe,xt){var tr,kr,Pn=Qe.__data__;return((kr=typeof(tr=xt))=="string"||kr=="number"||kr=="symbol"||kr=="boolean"?tr!=="__proto__":tr===null)?Pn[typeof xt=="string"?"string":"hash"]:Pn.map}function Ko(Qe,xt){var tr=function(kr,Pn){return kr==null?void 0:kr[Pn]}(Qe,xt);return ws(tr)?tr:void 0}hn.prototype.clear=function(){this.__data__=$e?$e(null):{},this.size=0},hn.prototype.delete=function(Qe){var xt=this.has(Qe)&&delete this.__data__[Qe];return this.size-=xt?1:0,xt},hn.prototype.get=function(Qe){var xt=this.__data__;if($e){var tr=xt[Qe];return tr===ye?void 0:tr}return Aa.call(xt,Qe)?xt[Qe]:void 0},hn.prototype.has=function(Qe){var xt=this.__data__;return $e?xt[Qe]!==void 0:Aa.call(xt,Qe)},hn.prototype.set=function(Qe,xt){var tr=this.__data__;return this.size+=this.has(Qe)?0:1,tr[Qe]=$e&&xt===void 0?ye:xt,this},dn.prototype.clear=function(){this.__data__=[],this.size=0},dn.prototype.delete=function(Qe){var xt=this.__data__,tr=Or(xt,Qe);return!(tr<0)&&(tr==xt.length-1?xt.pop():pc.call(xt,tr,1),--this.size,!0)},dn.prototype.get=function(Qe){var xt=this.__data__,tr=Or(xt,Qe);return tr<0?void 0:xt[tr][1]},dn.prototype.has=function(Qe){return Or(this.__data__,Qe)>-1},dn.prototype.set=function(Qe,xt){var tr=this.__data__,kr=Or(tr,Qe);return kr<0?(++this.size,tr.push([Qe,xt])):tr[kr][1]=xt,this},zn.prototype.clear=function(){this.size=0,this.__data__={hash:new hn,map:new($a||dn),string:new hn}},zn.prototype.delete=function(Qe){var xt=ha(this,Qe).delete(Qe);return this.size-=xt?1:0,xt},zn.prototype.get=function(Qe){return ha(this,Qe).get(Qe)},zn.prototype.has=function(Qe){return ha(this,Qe).has(Qe)},zn.prototype.set=function(Qe,xt){var tr=ha(this,Qe),kr=tr.size;return tr.set(Qe,xt),this.size+=tr.size==kr?0:1,this},mi.prototype.add=mi.prototype.push=function(Qe){return this.__data__.set(Qe,ye),this},mi.prototype.has=function(Qe){return this.__data__.has(Qe)},fn.prototype.clear=function(){this.__data__=new dn,this.size=0},fn.prototype.delete=function(Qe){var xt=this.__data__,tr=xt.delete(Qe);return this.size=xt.size,tr},fn.prototype.get=function(Qe){return this.__data__.get(Qe)},fn.prototype.has=function(Qe){return this.__data__.has(Qe)},fn.prototype.set=function(Qe,xt){var tr=this.__data__;if(tr instanceof dn){var kr=tr.__data__;if(!$a||kr.length<199)return kr.push([Qe,xt]),this.size=++tr.size,this;tr=this.__data__=new zn(kr)}return tr.set(Qe,xt),this.size=tr.size,this};var So=bl?function(Qe){return Qe==null?[]:(Qe=Object(Qe),function(xt,tr){for(var kr=-1,Pn=xt==null?0:xt.length,yn=0,Hn=[];++kr<Pn;){var jn=xt[kr];tr(jn,kr,xt)&&(Hn[yn++]=jn)}return Hn}(bl(Qe),function(xt){return Ql.call(Qe,xt)}))}:function(){return[]},Ai=po;function xl(Qe,xt){return!!(xt=xt??ze)&&(typeof Qe=="number"||Iu.test(Qe))&&Qe>-1&&Qe%1==0&&Qe<xt}function da(Qe){if(Qe!=null){try{return yl.call(Qe)}catch{}try{return Qe+""}catch{}}return""}function Ta(Qe,xt){return Qe===xt||Qe!=Qe&&xt!=xt}(eu&&Ai(new eu(new ArrayBuffer(1)))!=ti||$a&&Ai(new $a)!=ar||_l&&Ai(_l.resolve())!=Kn||$&&Ai(new $)!=fr||fe&&Ai(new fe)!=xn)&&(Ai=function(Qe){var xt=po(Qe),tr=xt==wr?Qe.constructor:void 0,kr=tr?da(tr):"";if(kr)switch(kr){case ot:return ti;case yt:return ar;case Tt:return Kn;case Zt:return fr;case gr:return xn}return xt});var Js=An(function(){return arguments}())?An:function(Qe){return fa(Qe)&&Aa.call(Qe,"callee")&&!Ql.call(Qe,"callee")},Hi=Array.isArray,Cs=Du||function(){return!1};function As(Qe){if(!Co(Qe))return!1;var xt=po(Qe);return xt==sr||xt=="[object GeneratorFunction]"||xt=="[object AsyncFunction]"||xt=="[object Proxy]"}function wl(Qe){return typeof Qe=="number"&&Qe>-1&&Qe%1==0&&Qe<=ze}function Co(Qe){var xt=typeof Qe;return Qe!=null&&(xt=="object"||xt=="function")}function fa(Qe){return Qe!=null&&typeof Qe=="object"}var mc=Ro?function(Qe){return function(xt){return Qe(xt)}}(Ro):function(Qe){return fa(Qe)&&wl(Qe.length)&&!!ri[po(Qe)]};function gc(Qe){return(xt=Qe)!=null&&wl(xt.length)&&!As(xt)?Oo(Qe):Zs(Qe);var xt}D.exports=function(Qe,xt){return In(Qe,xt)}})(Kl,Kl.exports);var $i=n(Kl.exports);function Zl(D,G){return D.length===G.length&&JSON.stringify(D.map(function(ye){return ye}).sort())===JSON.stringify(G.map(function(ye){return ye}).sort())}var wo={Polygon:Me,LineString:Ie,Point:we,MultiPolygon:qe,MultiLineString:qe,MultiPoint:qe},Ja=Object.freeze({__proto__:null,CommonSelectors:Qt,constrainFeatureMovement:Wl,createMidPoint:Nn,createSupplementaryPoints:_i,createVertex:ni,doubleClickZoom:Bn,euclideanDistance:je,featuresAt:ge,getFeatureAtAndSetCursors:Le,isClick:xe,isEventAtCoordinates:Ya,isTap:Oe,mapEventToBoundingBox:X,ModeHandler:r,moveFeatures:bs,sortFeatures:Z,stringSetsAreEqual:Zl,StringSet:oe,theme:It,toDenseArray:kt}),Qa=function(D,G){var ye={options:D=function(et){et===void 0&&(et={});var it=Pt(et);return et.controls||(it.controls={}),et.displayControlsDefault===!1?it.controls=Pt(Xl,et.controls):it.controls=Pt(wi,et.controls),(it=Pt(la,it)).styles=Do(it.styles,"cold").concat(Do(it.styles,"hot")),it}(D)};G=function(et,it){return it.modes=z,it.getFeatureIdsAt=function(dt){return ge.click({point:dt},null,et).map(function(Ut){return Ut.properties.id})},it.getSelectedIds=function(){return et.store.getSelectedIds()},it.getSelected=function(){return{type:I.FEATURE_COLLECTION,features:et.store.getSelectedIds().map(function(dt){return et.store.get(dt)}).map(function(dt){return dt.toGeoJSON()})}},it.getSelectedPoints=function(){return{type:I.FEATURE_COLLECTION,features:et.store.getSelectedCoordinates().map(function(dt){return{type:I.FEATURE,properties:{},geometry:{type:I.POINT,coordinates:dt.coordinates}}})}},it.set=function(dt){if(dt.type===void 0||dt.type!==I.FEATURE_COLLECTION||!Array.isArray(dt.features))throw new Error("Invalid FeatureCollection");var Ut=et.store.createRenderBatch(),Wt=et.store.getAllIds().slice(),sr=it.add(dt),ar=new oe(sr);return(Wt=Wt.filter(function(nr){return!ar.has(nr)})).length&&it.delete(Wt),Ut(),sr},it.add=function(dt){var Ut=JSON.parse(JSON.stringify(Ce(dt))).features.map(function(Wt){if(Wt.id=Wt.id||le(),Wt.geometry===null)throw new Error("Invalid geometry: null");if(et.store.get(Wt.id)===void 0||et.store.get(Wt.id).type!==Wt.geometry.type){var sr=wo[Wt.geometry.type];if(sr===void 0)throw new Error("Invalid geometry type: "+Wt.geometry.type+".");var ar=new sr(et,Wt);et.store.add(ar)}else{var nr=et.store.get(Wt.id);nr.properties=Wt.properties,$i(nr.properties,Wt.properties)||et.store.featureChanged(nr.id),$i(nr.getCoordinates(),Wt.geometry.coordinates)||nr.incomingCoords(Wt.geometry.coordinates)}return Wt.id});return et.store.render(),Ut},it.get=function(dt){var Ut=et.store.get(dt);if(Ut)return Ut.toGeoJSON()},it.getAll=function(){return{type:I.FEATURE_COLLECTION,features:et.store.getAll().map(function(dt){return dt.toGeoJSON()})}},it.delete=function(dt){return et.store.delete(dt,{silent:!0}),it.getMode()!==z.DIRECT_SELECT||et.store.getSelectedIds().length?et.store.render():et.events.changeMode(z.SIMPLE_SELECT,void 0,{silent:!0}),it},it.deleteAll=function(){return et.store.delete(et.store.getAllIds(),{silent:!0}),it.getMode()===z.DIRECT_SELECT?et.events.changeMode(z.SIMPLE_SELECT,void 0,{silent:!0}):et.store.render(),it},it.changeMode=function(dt,Ut){return Ut===void 0&&(Ut={}),dt===z.SIMPLE_SELECT&&it.getMode()===z.SIMPLE_SELECT?(Zl(Ut.featureIds||[],et.store.getSelectedIds())||(et.store.setSelected(Ut.featureIds,{silent:!0}),et.store.render()),it):(dt===z.DIRECT_SELECT&&it.getMode()===z.DIRECT_SELECT&&Ut.featureId===et.store.getSelectedIds()[0]||et.events.changeMode(dt,Ut,{silent:!0}),it)},it.getMode=function(){return et.events.getMode()},it.trash=function(){return et.events.trash({silent:!0}),it},it.combineFeatures=function(){return et.events.combineFeatures({silent:!0}),it},it.uncombineFeatures=function(){return et.events.uncombineFeatures({silent:!0}),it},it.setFeatureProperty=function(dt,Ut,Wt){return et.store.setFeatureProperty(dt,Ut,Wt),it},it}(ye,G),ye.api=G;var ze=Gt(ye);return G.onAdd=ze.onAdd,G.onRemove=ze.onRemove,G.types=O,G.options=D,G};function kn(D){Qa(D,this)}return kn.modes=li,kn.constants=J,kn.lib=Ja,kn})})(Yte);var A4={},Jte=Fd;Object.defineProperty(A4,"__esModule",{value:!0});var WF=A4.default=void 0,Qte=Jte($d()),ere=ut;WF=A4.default=(0,Qte.default)((0,ere.jsx)("path",{d:"M15 16v1.26l-6-3v-3.17L11.7 8H16V2h-6v4.9L7.3 10H3v6h5l7 3.5V22h6v-6z"}),"Polyline");var E4={},tre=Fd;Object.defineProperty(E4,"__esModule",{value:!0});var XF=E4.default=void 0,rre=tre($d()),nre=ut;XF=E4.default=(0,rre.default)((0,nre.jsx)("path",{d:"m2 9 4 12h12l4-12-10-7z"}),"Pentagon");const ire=t2(ut.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),ore=t2(ut.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),are=t2(ut.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}),"KeyboardArrowRight"),sre=t2(ut.jsx("path",{d:"M3 17v2h6v-2zM3 5v2h10V5zm10 16v-2h8v-2h-8v-2h-2v6zM7 9v2H3v2h4v2h2V9zm14 4v-2H11v2zm-6-4h2V7h4V5h-4V3h-2z"}),"Tune");var rc={},r2={},lre=typeof Th=="object"&&Th&&Th.Object===Object&&Th,KF=lre,ure=KF,cre=typeof self=="object"&&self&&self.Object===Object&&self,hre=ure||cre||Function("return this")(),Uh=hre,dre=Uh,fre=dre.Symbol,n2=fre,OL=n2,ZF=Object.prototype,pre=ZF.hasOwnProperty,mre=ZF.toString,Yy=OL?OL.toStringTag:void 0;function gre(e){var t=pre.call(e,Yy),r=e[Yy];try{e[Yy]=void 0;var n=!0}catch{}var o=mre.call(e);return n&&(t?e[Yy]=r:delete e[Yy]),o}var yre=gre,vre=Object.prototype,bre=vre.toString;function _re(e){return bre.call(e)}var xre=_re,NL=n2,wre=yre,Sre=xre,Cre="[object Null]",Are="[object Undefined]",FL=NL?NL.toStringTag:void 0;function Ere(e){return e==null?e===void 0?Are:Cre:FL&&FL in Object(e)?wre(e):Sre(e)}var am=Ere,Tre=Array.isArray,Gc=Tre;function Pre(e){return e!=null&&typeof e=="object"}var Bd=Pre,kre=am,Ire=Gc,Lre=Bd,Mre="[object String]";function Dre(e){return typeof e=="string"||!Ire(e)&&Lre(e)&&kre(e)==Mre}var Rre=Dre;function Ore(e){return function(t,r,n){for(var o=-1,s=Object(t),u=n(t),l=u.length;l--;){var f=u[e?l:++o];if(r(s[f],f,s)===!1)break}return t}}var Nre=Ore,Fre=Nre,$re=Fre(),Bre=$re;function zre(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var jre=zre,Ure=am,Vre=Bd,qre="[object Arguments]";function Hre(e){return Vre(e)&&Ure(e)==qre}var Gre=Hre,$L=Gre,Wre=Bd,YF=Object.prototype,Xre=YF.hasOwnProperty,Kre=YF.propertyIsEnumerable,Zre=$L(function(){return arguments}())?$L:function(e){return Wre(e)&&Xre.call(e,"callee")&&!Kre.call(e,"callee")},JF=Zre,z_={exports:{}};function Yre(){return!1}var Jre=Yre;z_.exports;(function(e,t){var r=Uh,n=Jre,o=t&&!t.nodeType&&t,s=o&&!0&&e&&!e.nodeType&&e,u=s&&s.exports===o,l=u?r.Buffer:void 0,f=l?l.isBuffer:void 0,v=f||n;e.exports=v})(z_,z_.exports);var T4=z_.exports,Qre=9007199254740991,ene=/^(?:0|[1-9]\d*)$/;function tne(e,t){var r=typeof e;return t=t??Qre,!!t&&(r=="number"||r!="symbol"&&ene.test(e))&&e>-1&&e%1==0&&e<t}var QF=tne,rne=9007199254740991;function nne(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=rne}var P4=nne,ine=am,one=P4,ane=Bd,sne="[object Arguments]",lne="[object Array]",une="[object Boolean]",cne="[object Date]",hne="[object Error]",dne="[object Function]",fne="[object Map]",pne="[object Number]",mne="[object Object]",gne="[object RegExp]",yne="[object Set]",vne="[object String]",bne="[object WeakMap]",_ne="[object ArrayBuffer]",xne="[object DataView]",wne="[object Float32Array]",Sne="[object Float64Array]",Cne="[object Int8Array]",Ane="[object Int16Array]",Ene="[object Int32Array]",Tne="[object Uint8Array]",Pne="[object Uint8ClampedArray]",kne="[object Uint16Array]",Ine="[object Uint32Array]",lo={};lo[wne]=lo[Sne]=lo[Cne]=lo[Ane]=lo[Ene]=lo[Tne]=lo[Pne]=lo[kne]=lo[Ine]=!0;lo[sne]=lo[lne]=lo[_ne]=lo[une]=lo[xne]=lo[cne]=lo[hne]=lo[dne]=lo[fne]=lo[pne]=lo[mne]=lo[gne]=lo[yne]=lo[vne]=lo[bne]=!1;function Lne(e){return ane(e)&&one(e.length)&&!!lo[ine(e)]}var Mne=Lne;function Dne(e){return function(t){return e(t)}}var k4=Dne,j_={exports:{}};j_.exports;(function(e,t){var r=KF,n=t&&!t.nodeType&&t,o=n&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===n,u=s&&r.process,l=function(){try{var f=o&&o.require&&o.require("util").types;return f||u&&u.binding&&u.binding("util")}catch{}}();e.exports=l})(j_,j_.exports);var I4=j_.exports,Rne=Mne,One=k4,BL=I4,zL=BL&&BL.isTypedArray,Nne=zL?One(zL):Rne,e$=Nne,Fne=jre,$ne=JF,Bne=Gc,zne=T4,jne=QF,Une=e$,Vne=Object.prototype,qne=Vne.hasOwnProperty;function Hne(e,t){var r=Bne(e),n=!r&&$ne(e),o=!r&&!n&&zne(e),s=!r&&!n&&!o&&Une(e),u=r||n||o||s,l=u?Fne(e.length,String):[],f=l.length;for(var v in e)(t||qne.call(e,v))&&!(u&&(v=="length"||o&&(v=="offset"||v=="parent")||s&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||jne(v,f)))&&l.push(v);return l}var t$=Hne,Gne=Object.prototype;function Wne(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Gne;return e===r}var L4=Wne;function Xne(e,t){return function(r){return e(t(r))}}var r$=Xne,Kne=r$,Zne=Kne(Object.keys,Object),Yne=Zne,Jne=L4,Qne=Yne,eie=Object.prototype,tie=eie.hasOwnProperty;function rie(e){if(!Jne(e))return Qne(e);var t=[];for(var r in Object(e))tie.call(e,r)&&r!="constructor"&&t.push(r);return t}var nie=rie;function iie(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Xg=iie,oie=am,aie=Xg,sie="[object AsyncFunction]",lie="[object Function]",uie="[object GeneratorFunction]",cie="[object Proxy]";function hie(e){if(!aie(e))return!1;var t=oie(e);return t==lie||t==uie||t==sie||t==cie}var n$=hie,die=n$,fie=P4;function pie(e){return e!=null&&fie(e.length)&&!die(e)}var Dw=pie,mie=t$,gie=nie,yie=Dw;function vie(e){return yie(e)?mie(e):gie(e)}var i2=vie,bie=Bre,_ie=i2;function xie(e,t){return e&&bie(e,t,_ie)}var i$=xie;function wie(e){return e}var o$=wie,Sie=o$;function Cie(e){return typeof e=="function"?e:Sie}var Aie=Cie,Eie=i$,Tie=Aie;function Pie(e,t){return e&&Eie(e,Tie(t))}var M4=Pie,kie=r$,Iie=kie(Object.getPrototypeOf,Object),D4=Iie,Lie=am,Mie=D4,Die=Bd,Rie="[object Object]",Oie=Function.prototype,Nie=Object.prototype,a$=Oie.toString,Fie=Nie.hasOwnProperty,$ie=a$.call(Object);function Bie(e){if(!Die(e)||Lie(e)!=Rie)return!1;var t=Mie(e);if(t===null)return!0;var r=Fie.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&a$.call(r)==$ie}var zie=Bie;function jie(e,t){for(var r=-1,n=e==null?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}var s$=jie;function Uie(){this.__data__=[],this.size=0}var Vie=Uie;function qie(e,t){return e===t||e!==e&&t!==t}var R4=qie,Hie=R4;function Gie(e,t){for(var r=e.length;r--;)if(Hie(e[r][0],t))return r;return-1}var Rw=Gie,Wie=Rw,Xie=Array.prototype,Kie=Xie.splice;function Zie(e){var t=this.__data__,r=Wie(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Kie.call(t,r,1),--this.size,!0}var Yie=Zie,Jie=Rw;function Qie(e){var t=this.__data__,r=Jie(t,e);return r<0?void 0:t[r][1]}var eoe=Qie,toe=Rw;function roe(e){return toe(this.__data__,e)>-1}var noe=roe,ioe=Rw;function ooe(e,t){var r=this.__data__,n=ioe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var aoe=ooe,soe=Vie,loe=Yie,uoe=eoe,coe=noe,hoe=aoe;function Kg(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Kg.prototype.clear=soe;Kg.prototype.delete=loe;Kg.prototype.get=uoe;Kg.prototype.has=coe;Kg.prototype.set=hoe;var Ow=Kg,doe=Ow;function foe(){this.__data__=new doe,this.size=0}var poe=foe;function moe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var goe=moe;function yoe(e){return this.__data__.get(e)}var voe=yoe;function boe(e){return this.__data__.has(e)}var _oe=boe,xoe=Uh,woe=xoe["__core-js_shared__"],Soe=woe,YS=Soe,jL=function(){var e=/[^.]+$/.exec(YS&&YS.keys&&YS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Coe(e){return!!jL&&jL in e}var Aoe=Coe,Eoe=Function.prototype,Toe=Eoe.toString;function Poe(e){if(e!=null){try{return Toe.call(e)}catch{}try{return e+""}catch{}}return""}var l$=Poe,koe=n$,Ioe=Aoe,Loe=Xg,Moe=l$,Doe=/[\\^$.*+?()[\]{}|]/g,Roe=/^\[object .+?Constructor\]$/,Ooe=Function.prototype,Noe=Object.prototype,Foe=Ooe.toString,$oe=Noe.hasOwnProperty,Boe=RegExp("^"+Foe.call($oe).replace(Doe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function zoe(e){if(!Loe(e)||Ioe(e))return!1;var t=koe(e)?Boe:Roe;return t.test(Moe(e))}var joe=zoe;function Uoe(e,t){return e==null?void 0:e[t]}var Voe=Uoe,qoe=joe,Hoe=Voe;function Goe(e,t){var r=Hoe(e,t);return qoe(r)?r:void 0}var sm=Goe,Woe=sm,Xoe=Uh,Koe=Woe(Xoe,"Map"),O4=Koe,Zoe=sm,Yoe=Zoe(Object,"create"),Nw=Yoe,UL=Nw;function Joe(){this.__data__=UL?UL(null):{},this.size=0}var Qoe=Joe;function eae(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var tae=eae,rae=Nw,nae="__lodash_hash_undefined__",iae=Object.prototype,oae=iae.hasOwnProperty;function aae(e){var t=this.__data__;if(rae){var r=t[e];return r===nae?void 0:r}return oae.call(t,e)?t[e]:void 0}var sae=aae,lae=Nw,uae=Object.prototype,cae=uae.hasOwnProperty;function hae(e){var t=this.__data__;return lae?t[e]!==void 0:cae.call(t,e)}var dae=hae,fae=Nw,pae="__lodash_hash_undefined__";function mae(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=fae&&t===void 0?pae:t,this}var gae=mae,yae=Qoe,vae=tae,bae=sae,_ae=dae,xae=gae;function Zg(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Zg.prototype.clear=yae;Zg.prototype.delete=vae;Zg.prototype.get=bae;Zg.prototype.has=_ae;Zg.prototype.set=xae;var wae=Zg,VL=wae,Sae=Ow,Cae=O4;function Aae(){this.size=0,this.__data__={hash:new VL,map:new(Cae||Sae),string:new VL}}var Eae=Aae;function Tae(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Pae=Tae,kae=Pae;function Iae(e,t){var r=e.__data__;return kae(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Fw=Iae,Lae=Fw;function Mae(e){var t=Lae(this,e).delete(e);return this.size-=t?1:0,t}var Dae=Mae,Rae=Fw;function Oae(e){return Rae(this,e).get(e)}var Nae=Oae,Fae=Fw;function $ae(e){return Fae(this,e).has(e)}var Bae=$ae,zae=Fw;function jae(e,t){var r=zae(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Uae=jae,Vae=Eae,qae=Dae,Hae=Nae,Gae=Bae,Wae=Uae;function Yg(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Yg.prototype.clear=Vae;Yg.prototype.delete=qae;Yg.prototype.get=Hae;Yg.prototype.has=Gae;Yg.prototype.set=Wae;var N4=Yg,Xae=Ow,Kae=O4,Zae=N4,Yae=200;function Jae(e,t){var r=this.__data__;if(r instanceof Xae){var n=r.__data__;if(!Kae||n.length<Yae-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Zae(n)}return r.set(e,t),this.size=r.size,this}var Qae=Jae,ese=Ow,tse=poe,rse=goe,nse=voe,ise=_oe,ose=Qae;function Jg(e){var t=this.__data__=new ese(e);this.size=t.size}Jg.prototype.clear=tse;Jg.prototype.delete=rse;Jg.prototype.get=nse;Jg.prototype.has=ise;Jg.prototype.set=ose;var F4=Jg,ase="__lodash_hash_undefined__";function sse(e){return this.__data__.set(e,ase),this}var lse=sse;function use(e){return this.__data__.has(e)}var cse=use,hse=N4,dse=lse,fse=cse;function U_(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new hse;++t<r;)this.add(e[t])}U_.prototype.add=U_.prototype.push=dse;U_.prototype.has=fse;var pse=U_;function mse(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var gse=mse;function yse(e,t){return e.has(t)}var vse=yse,bse=pse,_se=gse,xse=vse,wse=1,Sse=2;function Cse(e,t,r,n,o,s){var u=r&wse,l=e.length,f=t.length;if(l!=f&&!(u&&f>l))return!1;var v=s.get(e),x=s.get(t);if(v&&x)return v==t&&x==e;var w=-1,C=!0,P=r&Sse?new bse:void 0;for(s.set(e,t),s.set(t,e);++w<l;){var O=e[w],I=t[w];if(n)var z=u?n(I,O,w,t,e,s):n(O,I,w,e,t,s);if(z!==void 0){if(z)continue;C=!1;break}if(P){if(!_se(t,function(N,j){if(!xse(P,j)&&(O===N||o(O,N,r,n,s)))return P.push(j)})){C=!1;break}}else if(!(O===I||o(O,I,r,n,s))){C=!1;break}}return s.delete(e),s.delete(t),C}var u$=Cse,Ase=Uh,Ese=Ase.Uint8Array,c$=Ese;function Tse(e){var t=-1,r=Array(e.size);return e.forEach(function(n,o){r[++t]=[o,n]}),r}var Pse=Tse;function kse(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Ise=kse,qL=n2,HL=c$,Lse=R4,Mse=u$,Dse=Pse,Rse=Ise,Ose=1,Nse=2,Fse="[object Boolean]",$se="[object Date]",Bse="[object Error]",zse="[object Map]",jse="[object Number]",Use="[object RegExp]",Vse="[object Set]",qse="[object String]",Hse="[object Symbol]",Gse="[object ArrayBuffer]",Wse="[object DataView]",GL=qL?qL.prototype:void 0,JS=GL?GL.valueOf:void 0;function Xse(e,t,r,n,o,s,u){switch(r){case Wse:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Gse:return!(e.byteLength!=t.byteLength||!s(new HL(e),new HL(t)));case Fse:case $se:case jse:return Lse(+e,+t);case Bse:return e.name==t.name&&e.message==t.message;case Use:case qse:return e==t+"";case zse:var l=Dse;case Vse:var f=n&Ose;if(l||(l=Rse),e.size!=t.size&&!f)return!1;var v=u.get(e);if(v)return v==t;n|=Nse,u.set(e,t);var x=Mse(l(e),l(t),n,o,s,u);return u.delete(e),x;case Hse:if(JS)return JS.call(e)==JS.call(t)}return!1}var Kse=Xse;function Zse(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}var h$=Zse,Yse=h$,Jse=Gc;function Qse(e,t,r){var n=t(e);return Jse(e)?n:Yse(n,r(e))}var d$=Qse;function ele(e,t){for(var r=-1,n=e==null?0:e.length,o=0,s=[];++r<n;){var u=e[r];t(u,r,e)&&(s[o++]=u)}return s}var tle=ele;function rle(){return[]}var f$=rle,nle=tle,ile=f$,ole=Object.prototype,ale=ole.propertyIsEnumerable,WL=Object.getOwnPropertySymbols,sle=WL?function(e){return e==null?[]:(e=Object(e),nle(WL(e),function(t){return ale.call(e,t)}))}:ile,$4=sle,lle=d$,ule=$4,cle=i2;function hle(e){return lle(e,cle,ule)}var p$=hle,XL=p$,dle=1,fle=Object.prototype,ple=fle.hasOwnProperty;function mle(e,t,r,n,o,s){var u=r&dle,l=XL(e),f=l.length,v=XL(t),x=v.length;if(f!=x&&!u)return!1;for(var w=f;w--;){var C=l[w];if(!(u?C in t:ple.call(t,C)))return!1}var P=s.get(e),O=s.get(t);if(P&&O)return P==t&&O==e;var I=!0;s.set(e,t),s.set(t,e);for(var z=u;++w<f;){C=l[w];var N=e[C],j=t[C];if(n)var V=u?n(j,N,C,t,e,s):n(N,j,C,e,t,s);if(!(V===void 0?N===j||o(N,j,r,n,s):V)){I=!1;break}z||(z=C=="constructor")}if(I&&!z){var W=e.constructor,re=t.constructor;W!=re&&"constructor"in e&&"constructor"in t&&!(typeof W=="function"&&W instanceof W&&typeof re=="function"&&re instanceof re)&&(I=!1)}return s.delete(e),s.delete(t),I}var gle=mle,yle=sm,vle=Uh,ble=yle(vle,"DataView"),_le=ble,xle=sm,wle=Uh,Sle=xle(wle,"Promise"),Cle=Sle,Ale=sm,Ele=Uh,Tle=Ale(Ele,"Set"),Ple=Tle,kle=sm,Ile=Uh,Lle=kle(Ile,"WeakMap"),Mle=Lle,zC=_le,jC=O4,UC=Cle,VC=Ple,qC=Mle,m$=am,Qg=l$,KL="[object Map]",Dle="[object Object]",ZL="[object Promise]",YL="[object Set]",JL="[object WeakMap]",QL="[object DataView]",Rle=Qg(zC),Ole=Qg(jC),Nle=Qg(UC),Fle=Qg(VC),$le=Qg(qC),gp=m$;(zC&&gp(new zC(new ArrayBuffer(1)))!=QL||jC&&gp(new jC)!=KL||UC&&gp(UC.resolve())!=ZL||VC&&gp(new VC)!=YL||qC&&gp(new qC)!=JL)&&(gp=function(e){var t=m$(e),r=t==Dle?e.constructor:void 0,n=r?Qg(r):"";if(n)switch(n){case Rle:return QL;case Ole:return KL;case Nle:return ZL;case Fle:return YL;case $le:return JL}return t});var $w=gp,QS=F4,Ble=u$,zle=Kse,jle=gle,eM=$w,tM=Gc,rM=T4,Ule=e$,Vle=1,nM="[object Arguments]",iM="[object Array]",bb="[object Object]",qle=Object.prototype,oM=qle.hasOwnProperty;function Hle(e,t,r,n,o,s){var u=tM(e),l=tM(t),f=u?iM:eM(e),v=l?iM:eM(t);f=f==nM?bb:f,v=v==nM?bb:v;var x=f==bb,w=v==bb,C=f==v;if(C&&rM(e)){if(!rM(t))return!1;u=!0,x=!1}if(C&&!x)return s||(s=new QS),u||Ule(e)?Ble(e,t,r,n,o,s):zle(e,t,f,r,n,o,s);if(!(r&Vle)){var P=x&&oM.call(e,"__wrapped__"),O=w&&oM.call(t,"__wrapped__");if(P||O){var I=P?e.value():e,z=O?t.value():t;return s||(s=new QS),o(I,z,r,n,s)}}return C?(s||(s=new QS),jle(e,t,r,n,o,s)):!1}var Gle=Hle,Wle=Gle,aM=Bd;function g$(e,t,r,n,o){return e===t?!0:e==null||t==null||!aM(e)&&!aM(t)?e!==e&&t!==t:Wle(e,t,r,n,g$,o)}var y$=g$,Xle=F4,Kle=y$,Zle=1,Yle=2;function Jle(e,t,r,n){var o=r.length,s=o,u=!n;if(e==null)return!s;for(e=Object(e);o--;){var l=r[o];if(u&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<s;){l=r[o];var f=l[0],v=e[f],x=l[1];if(u&&l[2]){if(v===void 0&&!(f in e))return!1}else{var w=new Xle;if(n)var C=n(v,x,f,e,t,w);if(!(C===void 0?Kle(x,v,Zle|Yle,n,w):C))return!1}}return!0}var Qle=Jle,eue=Xg;function tue(e){return e===e&&!eue(e)}var v$=tue,rue=v$,nue=i2;function iue(e){for(var t=nue(e),r=t.length;r--;){var n=t[r],o=e[n];t[r]=[n,o,rue(o)]}return t}var oue=iue;function aue(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var b$=aue,sue=Qle,lue=oue,uue=b$;function cue(e){var t=lue(e);return t.length==1&&t[0][2]?uue(t[0][0],t[0][1]):function(r){return r===e||sue(r,e,t)}}var hue=cue,due=am,fue=Bd,pue="[object Symbol]";function mue(e){return typeof e=="symbol"||fue(e)&&due(e)==pue}var B4=mue,gue=Gc,yue=B4,vue=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bue=/^\w*$/;function _ue(e,t){if(gue(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||yue(e)?!0:bue.test(e)||!vue.test(e)||t!=null&&e in Object(t)}var z4=_ue,_$=N4,xue="Expected a function";function j4(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(xue);var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],s=r.cache;if(s.has(o))return s.get(o);var u=e.apply(this,n);return r.cache=s.set(o,u)||s,u};return r.cache=new(j4.Cache||_$),r}j4.Cache=_$;var wue=j4,Sue=wue,Cue=500;function Aue(e){var t=Sue(e,function(n){return r.size===Cue&&r.clear(),n}),r=t.cache;return t}var Eue=Aue,Tue=Eue,Pue=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kue=/\\(\\)?/g,Iue=Tue(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Pue,function(r,n,o,s){t.push(o?s.replace(kue,"$1"):n||r)}),t}),Lue=Iue,sM=n2,Mue=s$,Due=Gc,Rue=B4,Oue=1/0,lM=sM?sM.prototype:void 0,uM=lM?lM.toString:void 0;function x$(e){if(typeof e=="string")return e;if(Due(e))return Mue(e,x$)+"";if(Rue(e))return uM?uM.call(e):"";var t=e+"";return t=="0"&&1/e==-Oue?"-0":t}var Nue=x$,Fue=Nue;function $ue(e){return e==null?"":Fue(e)}var Bue=$ue,zue=Gc,jue=z4,Uue=Lue,Vue=Bue;function que(e,t){return zue(e)?e:jue(e,t)?[e]:Uue(Vue(e))}var w$=que,Hue=B4,Gue=1/0;function Wue(e){if(typeof e=="string"||Hue(e))return e;var t=e+"";return t=="0"&&1/e==-Gue?"-0":t}var Bw=Wue,Xue=w$,Kue=Bw;function Zue(e,t){t=Xue(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Kue(t[r++])];return r&&r==n?e:void 0}var S$=Zue,Yue=S$;function Jue(e,t,r){var n=e==null?void 0:Yue(e,t);return n===void 0?r:n}var Que=Jue;function ece(e,t){return e!=null&&t in Object(e)}var tce=ece,rce=w$,nce=JF,ice=Gc,oce=QF,ace=P4,sce=Bw;function lce(e,t,r){t=rce(t,e);for(var n=-1,o=t.length,s=!1;++n<o;){var u=sce(t[n]);if(!(s=e!=null&&r(e,u)))break;e=e[u]}return s||++n!=o?s:(o=e==null?0:e.length,!!o&&ace(o)&&oce(u,o)&&(ice(e)||nce(e)))}var uce=lce,cce=tce,hce=uce;function dce(e,t){return e!=null&&hce(e,t,cce)}var fce=dce,pce=y$,mce=Que,gce=fce,yce=z4,vce=v$,bce=b$,_ce=Bw,xce=1,wce=2;function Sce(e,t){return yce(e)&&vce(t)?bce(_ce(e),t):function(r){var n=mce(r,e);return n===void 0&&n===t?gce(r,e):pce(t,n,xce|wce)}}var Cce=Sce;function Ace(e){return function(t){return t==null?void 0:t[e]}}var Ece=Ace,Tce=S$;function Pce(e){return function(t){return Tce(t,e)}}var kce=Pce,Ice=Ece,Lce=kce,Mce=z4,Dce=Bw;function Rce(e){return Mce(e)?Ice(Dce(e)):Lce(e)}var Oce=Rce,Nce=hue,Fce=Cce,$ce=o$,Bce=Gc,zce=Oce;function jce(e){return typeof e=="function"?e:e==null?$ce:typeof e=="object"?Bce(e)?Fce(e[0],e[1]):Nce(e):zce(e)}var Uce=jce,Vce=Dw;function qce(e,t){return function(r,n){if(r==null)return r;if(!Vce(r))return e(r,n);for(var o=r.length,s=t?o:-1,u=Object(r);(t?s--:++s<o)&&n(u[s],s,u)!==!1;);return r}}var Hce=qce,Gce=i$,Wce=Hce,Xce=Wce(Gce),Kce=Xce,Zce=Kce,Yce=Dw;function Jce(e,t){var r=-1,n=Yce(e)?Array(e.length):[];return Zce(e,function(o,s,u){n[++r]=t(o,s,u)}),n}var Qce=Jce,ehe=s$,the=Uce,rhe=Qce,nhe=Gc;function ihe(e,t){var r=nhe(e)?ehe:rhe;return r(e,the(t))}var ohe=ihe;Object.defineProperty(r2,"__esModule",{value:!0});r2.flattenNames=void 0;var ahe=Rre,she=zw(ahe),lhe=M4,uhe=zw(lhe),che=zie,hhe=zw(che),dhe=ohe,fhe=zw(dhe);function zw(e){return e&&e.__esModule?e:{default:e}}var phe=r2.flattenNames=function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[];return(0,fhe.default)(t,function(n){Array.isArray(n)?e(n).map(function(o){return r.push(o)}):(0,hhe.default)(n)?(0,uhe.default)(n,function(o,s){o===!0&&r.push(s),r.push(s+"-"+o)}):(0,she.default)(n)&&r.push(n)}),r};r2.default=phe;var o2={};function mhe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var ghe=mhe,yhe=sm,vhe=function(){try{var e=yhe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),bhe=vhe,cM=bhe;function _he(e,t,r){t=="__proto__"&&cM?cM(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var C$=_he,xhe=C$,whe=R4,She=Object.prototype,Che=She.hasOwnProperty;function Ahe(e,t,r){var n=e[t];(!(Che.call(e,t)&&whe(n,r))||r===void 0&&!(t in e))&&xhe(e,t,r)}var A$=Ahe,Ehe=A$,The=C$;function Phe(e,t,r,n){var o=!r;r||(r={});for(var s=-1,u=t.length;++s<u;){var l=t[s],f=n?n(r[l],e[l],l,r,e):void 0;f===void 0&&(f=e[l]),o?The(r,l,f):Ehe(r,l,f)}return r}var jw=Phe,khe=jw,Ihe=i2;function Lhe(e,t){return e&&khe(t,Ihe(t),e)}var Mhe=Lhe;function Dhe(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var Rhe=Dhe,Ohe=Xg,Nhe=L4,Fhe=Rhe,$he=Object.prototype,Bhe=$he.hasOwnProperty;function zhe(e){if(!Ohe(e))return Fhe(e);var t=Nhe(e),r=[];for(var n in e)n=="constructor"&&(t||!Bhe.call(e,n))||r.push(n);return r}var jhe=zhe,Uhe=t$,Vhe=jhe,qhe=Dw;function Hhe(e){return qhe(e)?Uhe(e,!0):Vhe(e)}var U4=Hhe,Ghe=jw,Whe=U4;function Xhe(e,t){return e&&Ghe(t,Whe(t),e)}var Khe=Xhe,V_={exports:{}};V_.exports;(function(e,t){var r=Uh,n=t&&!t.nodeType&&t,o=n&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===n,u=s?r.Buffer:void 0,l=u?u.allocUnsafe:void 0;function f(v,x){if(x)return v.slice();var w=v.length,C=l?l(w):new v.constructor(w);return v.copy(C),C}e.exports=f})(V_,V_.exports);var Zhe=V_.exports;function Yhe(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var Jhe=Yhe,Qhe=jw,ede=$4;function tde(e,t){return Qhe(e,ede(e),t)}var rde=tde,nde=h$,ide=D4,ode=$4,ade=f$,sde=Object.getOwnPropertySymbols,lde=sde?function(e){for(var t=[];e;)nde(t,ode(e)),e=ide(e);return t}:ade,E$=lde,ude=jw,cde=E$;function hde(e,t){return ude(e,cde(e),t)}var dde=hde,fde=d$,pde=E$,mde=U4;function gde(e){return fde(e,mde,pde)}var yde=gde,vde=Object.prototype,bde=vde.hasOwnProperty;function _de(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&bde.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var xde=_de,hM=c$;function wde(e){var t=new e.constructor(e.byteLength);return new hM(t).set(new hM(e)),t}var V4=wde,Sde=V4;function Cde(e,t){var r=t?Sde(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var Ade=Cde,Ede=/\w*$/;function Tde(e){var t=new e.constructor(e.source,Ede.exec(e));return t.lastIndex=e.lastIndex,t}var Pde=Tde,dM=n2,fM=dM?dM.prototype:void 0,pM=fM?fM.valueOf:void 0;function kde(e){return pM?Object(pM.call(e)):{}}var Ide=kde,Lde=V4;function Mde(e,t){var r=t?Lde(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var Dde=Mde,Rde=V4,Ode=Ade,Nde=Pde,Fde=Ide,$de=Dde,Bde="[object Boolean]",zde="[object Date]",jde="[object Map]",Ude="[object Number]",Vde="[object RegExp]",qde="[object Set]",Hde="[object String]",Gde="[object Symbol]",Wde="[object ArrayBuffer]",Xde="[object DataView]",Kde="[object Float32Array]",Zde="[object Float64Array]",Yde="[object Int8Array]",Jde="[object Int16Array]",Qde="[object Int32Array]",efe="[object Uint8Array]",tfe="[object Uint8ClampedArray]",rfe="[object Uint16Array]",nfe="[object Uint32Array]";function ife(e,t,r){var n=e.constructor;switch(t){case Wde:return Rde(e);case Bde:case zde:return new n(+e);case Xde:return Ode(e,r);case Kde:case Zde:case Yde:case Jde:case Qde:case efe:case tfe:case rfe:case nfe:return $de(e,r);case jde:return new n;case Ude:case Hde:return new n(e);case Vde:return Nde(e);case qde:return new n;case Gde:return Fde(e)}}var ofe=ife,afe=Xg,mM=Object.create,sfe=function(){function e(){}return function(t){if(!afe(t))return{};if(mM)return mM(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),lfe=sfe,ufe=lfe,cfe=D4,hfe=L4;function dfe(e){return typeof e.constructor=="function"&&!hfe(e)?ufe(cfe(e)):{}}var ffe=dfe,pfe=$w,mfe=Bd,gfe="[object Map]";function yfe(e){return mfe(e)&&pfe(e)==gfe}var vfe=yfe,bfe=vfe,_fe=k4,gM=I4,yM=gM&&gM.isMap,xfe=yM?_fe(yM):bfe,wfe=xfe,Sfe=$w,Cfe=Bd,Afe="[object Set]";function Efe(e){return Cfe(e)&&Sfe(e)==Afe}var Tfe=Efe,Pfe=Tfe,kfe=k4,vM=I4,bM=vM&&vM.isSet,Ife=bM?kfe(bM):Pfe,Lfe=Ife,Mfe=F4,Dfe=ghe,Rfe=A$,Ofe=Mhe,Nfe=Khe,Ffe=Zhe,$fe=Jhe,Bfe=rde,zfe=dde,jfe=p$,Ufe=yde,Vfe=$w,qfe=xde,Hfe=ofe,Gfe=ffe,Wfe=Gc,Xfe=T4,Kfe=wfe,Zfe=Xg,Yfe=Lfe,Jfe=i2,Qfe=U4,epe=1,tpe=2,rpe=4,T$="[object Arguments]",npe="[object Array]",ipe="[object Boolean]",ope="[object Date]",ape="[object Error]",P$="[object Function]",spe="[object GeneratorFunction]",lpe="[object Map]",upe="[object Number]",k$="[object Object]",cpe="[object RegExp]",hpe="[object Set]",dpe="[object String]",fpe="[object Symbol]",ppe="[object WeakMap]",mpe="[object ArrayBuffer]",gpe="[object DataView]",ype="[object Float32Array]",vpe="[object Float64Array]",bpe="[object Int8Array]",_pe="[object Int16Array]",xpe="[object Int32Array]",wpe="[object Uint8Array]",Spe="[object Uint8ClampedArray]",Cpe="[object Uint16Array]",Ape="[object Uint32Array]",Qi={};Qi[T$]=Qi[npe]=Qi[mpe]=Qi[gpe]=Qi[ipe]=Qi[ope]=Qi[ype]=Qi[vpe]=Qi[bpe]=Qi[_pe]=Qi[xpe]=Qi[lpe]=Qi[upe]=Qi[k$]=Qi[cpe]=Qi[hpe]=Qi[dpe]=Qi[fpe]=Qi[wpe]=Qi[Spe]=Qi[Cpe]=Qi[Ape]=!0;Qi[ape]=Qi[P$]=Qi[ppe]=!1;function t_(e,t,r,n,o,s){var u,l=t&epe,f=t&tpe,v=t&rpe;if(r&&(u=o?r(e,n,o,s):r(e)),u!==void 0)return u;if(!Zfe(e))return e;var x=Wfe(e);if(x){if(u=qfe(e),!l)return $fe(e,u)}else{var w=Vfe(e),C=w==P$||w==spe;if(Xfe(e))return Ffe(e,l);if(w==k$||w==T$||C&&!o){if(u=f||C?{}:Gfe(e),!l)return f?zfe(e,Nfe(u,e)):Bfe(e,Ofe(u,e))}else{if(!Qi[w])return o?e:{};u=Hfe(e,w,l)}}s||(s=new Mfe);var P=s.get(e);if(P)return P;s.set(e,u),Yfe(e)?e.forEach(function(z){u.add(t_(z,t,r,z,e,s))}):Kfe(e)&&e.forEach(function(z,N){u.set(N,t_(z,t,r,N,e,s))});var O=v?f?Ufe:jfe:f?Qfe:Jfe,I=x?void 0:O(e);return Dfe(I||e,function(z,N){I&&(N=z,z=e[N]),Rfe(u,N,t_(z,t,r,N,e,s))}),u}var Epe=t_,Tpe=Epe,Ppe=1,kpe=4;function Ipe(e){return Tpe(e,Ppe|kpe)}var Lpe=Ipe;Object.defineProperty(o2,"__esModule",{value:!0});o2.mergeClasses=void 0;var Mpe=M4,Dpe=I$(Mpe),Rpe=Lpe,Ope=I$(Rpe),Npe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function I$(e){return e&&e.__esModule?e:{default:e}}var Fpe=o2.mergeClasses=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=t.default&&(0,Ope.default)(t.default)||{};return r.map(function(o){var s=t[o];return s&&(0,Dpe.default)(s,function(u,l){n[l]||(n[l]={}),n[l]=Npe({},n[l],s[l])}),o}),n};o2.default=Fpe;var a2={};Object.defineProperty(a2,"__esModule",{value:!0});a2.autoprefix=void 0;var $pe=M4,_M=zpe($pe),Bpe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function zpe(e){return e&&e.__esModule?e:{default:e}}var jpe={borderRadius:function(t){return{msBorderRadius:t,MozBorderRadius:t,OBorderRadius:t,WebkitBorderRadius:t,borderRadius:t}},boxShadow:function(t){return{msBoxShadow:t,MozBoxShadow:t,OBoxShadow:t,WebkitBoxShadow:t,boxShadow:t}},userSelect:function(t){return{WebkitTouchCallout:t,KhtmlUserSelect:t,MozUserSelect:t,msUserSelect:t,WebkitUserSelect:t,userSelect:t}},flex:function(t){return{WebkitBoxFlex:t,MozBoxFlex:t,WebkitFlex:t,msFlex:t,flex:t}},flexBasis:function(t){return{WebkitFlexBasis:t,flexBasis:t}},justifyContent:function(t){return{WebkitJustifyContent:t,justifyContent:t}},transition:function(t){return{msTransition:t,MozTransition:t,OTransition:t,WebkitTransition:t,transition:t}},transform:function(t){return{msTransform:t,MozTransform:t,OTransform:t,WebkitTransform:t,transform:t}},absolute:function(t){var r=t&&t.split(" ");return{position:"absolute",top:r&&r[0],right:r&&r[1],bottom:r&&r[2],left:r&&r[3]}},extend:function(t,r){var n=r[t];return n||{extend:t}}},Upe=a2.autoprefix=function(t){var r={};return(0,_M.default)(t,function(n,o){var s={};(0,_M.default)(n,function(u,l){var f=jpe[l];f?s=Bpe({},s,f(u)):s[l]=u}),r[o]=s}),r};a2.default=Upe;var s2={};Object.defineProperty(s2,"__esModule",{value:!0});s2.hover=void 0;var Vpe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qpe=Q,e3=Hpe(qpe);function Hpe(e){return e&&e.__esModule?e:{default:e}}function Gpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xM(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Wpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Xpe=s2.hover=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(n){Wpe(o,n);function o(){var s,u,l,f;Gpe(this,o);for(var v=arguments.length,x=Array(v),w=0;w<v;w++)x[w]=arguments[w];return f=(u=(l=xM(this,(s=o.__proto__||Object.getPrototypeOf(o)).call.apply(s,[this].concat(x))),l),l.state={hover:!1},l.handleMouseOver=function(){return l.setState({hover:!0})},l.handleMouseOut=function(){return l.setState({hover:!1})},l.render=function(){return e3.default.createElement(r,{onMouseOver:l.handleMouseOver,onMouseOut:l.handleMouseOut},e3.default.createElement(t,Vpe({},l.props,l.state)))},u),xM(l,f)}return o}(e3.default.Component)};s2.default=Xpe;var l2={};Object.defineProperty(l2,"__esModule",{value:!0});l2.active=void 0;var Kpe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zpe=Q,t3=Ype(Zpe);function Ype(e){return e&&e.__esModule?e:{default:e}}function Jpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wM(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Qpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var eme=l2.active=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(n){Qpe(o,n);function o(){var s,u,l,f;Jpe(this,o);for(var v=arguments.length,x=Array(v),w=0;w<v;w++)x[w]=arguments[w];return f=(u=(l=wM(this,(s=o.__proto__||Object.getPrototypeOf(o)).call.apply(s,[this].concat(x))),l),l.state={active:!1},l.handleMouseDown=function(){return l.setState({active:!0})},l.handleMouseUp=function(){return l.setState({active:!1})},l.render=function(){return t3.default.createElement(r,{onMouseDown:l.handleMouseDown,onMouseUp:l.handleMouseUp},t3.default.createElement(t,Kpe({},l.props,l.state)))},u),wM(l,f)}return o}(t3.default.Component)};l2.default=eme;var q4={};Object.defineProperty(q4,"__esModule",{value:!0});var tme=function(t,r){var n={},o=function(u){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;n[u]=l};return t===0&&o("first-child"),t===r-1&&o("last-child"),(t===0||t%2===0)&&o("even"),Math.abs(t%2)===1&&o("odd"),o("nth-child",t),n};q4.default=tme;Object.defineProperty(rc,"__esModule",{value:!0});rc.ReactCSS=rc.loop=rc.handleActive=H4=rc.handleHover=rc.hover=void 0;var rme=r2,nme=ey(rme),ime=o2,ome=ey(ime),ame=a2,sme=ey(ame),lme=s2,L$=ey(lme),ume=l2,cme=ey(ume),hme=q4,dme=ey(hme);function ey(e){return e&&e.__esModule?e:{default:e}}rc.hover=L$.default;var H4=rc.handleHover=L$.default;rc.handleActive=cme.default;rc.loop=dme.default;var fme=rc.ReactCSS=function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];var s=(0,nme.default)(n),u=(0,ome.default)(t,s);return(0,sme.default)(u)},Tn=rc.default=fme,pme=function(t,r,n,o,s){var u=s.clientWidth,l=s.clientHeight,f=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,v=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,x=f-(s.getBoundingClientRect().left+window.pageXOffset),w=v-(s.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var C=void 0;if(w<0?C=0:w>l?C=1:C=Math.round(w*100/l)/100,r.a!==C)return{h:r.h,s:r.s,l:r.l,a:C,source:"rgb"}}else{var P=void 0;if(x<0?P=0:x>u?P=1:P=Math.round(x*100/u)/100,o!==P)return{h:r.h,s:r.s,l:r.l,a:P,source:"rgb"}}return null},r3={},mme=function(t,r,n,o){if(typeof document>"u"&&!o)return null;var s=o?new o:document.createElement("canvas");s.width=n*2,s.height=n*2;var u=s.getContext("2d");return u?(u.fillStyle=t,u.fillRect(0,0,s.width,s.height),u.fillStyle=r,u.fillRect(0,0,n,n),u.translate(n,n),u.fillRect(0,0,n,n),s.toDataURL()):null},gme=function(t,r,n,o){var s=t+"-"+r+"-"+n+(o?"-server":"");if(r3[s])return r3[s];var u=mme(t,r,n,o);return r3[s]=u,u},SM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ty=function(t){var r=t.white,n=t.grey,o=t.size,s=t.renderers,u=t.borderRadius,l=t.boxShadow,f=t.children,v=Tn({default:{grid:{borderRadius:u,boxShadow:l,absolute:"0px 0px 0px 0px",background:"url("+gme(r,n,o,s.canvas)+") center left"}}});return Q.isValidElement(f)?ve.cloneElement(f,SM({},f.props,{style:SM({},f.props.style,v.grid)})):ve.createElement("div",{style:v.grid})};ty.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var yme=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vme=function(){function e(t,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function bme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CM(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function _me(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var G4=function(e){_me(t,e);function t(){var r,n,o,s;bme(this,t);for(var u=arguments.length,l=Array(u),f=0;f<u;f++)l[f]=arguments[f];return s=(n=(o=CM(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this].concat(l))),o),o.handleChange=function(v){var x=pme(v,o.props.hsl,o.props.direction,o.props.a,o.container);x&&typeof o.props.onChange=="function"&&o.props.onChange(x,v)},o.handleMouseDown=function(v){o.handleChange(v),window.addEventListener("mousemove",o.handleChange),window.addEventListener("mouseup",o.handleMouseUp)},o.handleMouseUp=function(){o.unbindEventListeners()},o.unbindEventListeners=function(){window.removeEventListener("mousemove",o.handleChange),window.removeEventListener("mouseup",o.handleMouseUp)},n),CM(o,s)}return vme(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var n=this,o=this.props.rgb,s=Tn({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+o.r+","+o.g+","+o.b+`, 0) 0%,
           rgba(`+o.r+","+o.g+","+o.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:o.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+o.r+","+o.g+","+o.b+`, 0) 0%,
           rgba(`+o.r+","+o.g+","+o.b+", 1) 100%)"},pointer:{left:0,top:o.a*100+"%"}},overwrite:yme({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return ve.createElement("div",{style:s.alpha},ve.createElement("div",{style:s.checkboard},ve.createElement(ty,{renderers:this.props.renderers})),ve.createElement("div",{style:s.gradient}),ve.createElement("div",{style:s.container,ref:function(l){return n.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},ve.createElement("div",{style:s.pointer},this.props.pointer?ve.createElement(this.props.pointer,this.props):ve.createElement("div",{style:s.slider}))))}}]),t}(Q.PureComponent||Q.Component),xme=function(){function e(t,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function wme(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cme(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Ame(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Eme=1,M$=38,Tme=40,Pme=[M$,Tme],kme=function(t){return Pme.indexOf(t)>-1},Ime=function(t){return Number(String(t).replace(/%/g,""))},Lme=1,Jn=function(e){Ame(t,e);function t(r){Sme(this,t);var n=Cme(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(o){n.setUpdatedValue(o.target.value,o)},n.handleKeyDown=function(o){var s=Ime(o.target.value);if(!isNaN(s)&&kme(o.keyCode)){var u=n.getArrowOffset(),l=o.keyCode===M$?s+u:s-u;n.setUpdatedValue(l,o)}},n.handleDrag=function(o){if(n.props.dragLabel){var s=Math.round(n.props.value+o.movementX);s>=0&&s<=n.props.dragMax&&n.props.onChange&&n.props.onChange(n.getValueObjectWithLabel(s),o)}},n.handleMouseDown=function(o){n.props.dragLabel&&(o.preventDefault(),n.handleDrag(o),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(r.value).toUpperCase(),blurValue:String(r.value).toUpperCase()},n.inputId="rc-editable-input-"+Lme++,n}return xme(t,[{key:"componentDidUpdate",value:function(n,o){this.props.value!==this.state.value&&(n.value!==this.props.value||o.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(n){return wme({},this.props.label,n)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||Eme}},{key:"setUpdatedValue",value:function(n,o){var s=this.props.label?this.getValueObjectWithLabel(n):n;this.props.onChange&&this.props.onChange(s,o),this.setState({value:n})}},{key:"render",value:function(){var n=this,o=Tn({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return ve.createElement("div",{style:o.wrap},ve.createElement("input",{id:this.inputId,style:o.input,ref:function(u){return n.input=u},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?ve.createElement("label",{htmlFor:this.inputId,style:o.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(Q.PureComponent||Q.Component),Mme=function(t,r,n,o){var s=o.clientWidth,u=o.clientHeight,l=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,f=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,v=l-(o.getBoundingClientRect().left+window.pageXOffset),x=f-(o.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var w=void 0;if(x<0)w=359;else if(x>u)w=0;else{var C=-(x*100/u)+100;w=360*C/100}if(n.h!==w)return{h:w,s:n.s,l:n.l,a:n.a,source:"hsl"}}else{var P=void 0;if(v<0)P=0;else if(v>s)P=359;else{var O=v*100/s;P=360*O/100}if(n.h!==P)return{h:P,s:n.s,l:n.l,a:n.a,source:"hsl"}}return null},Dme=function(){function e(t,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function Rme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AM(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Ome(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ry=function(e){Ome(t,e);function t(){var r,n,o,s;Rme(this,t);for(var u=arguments.length,l=Array(u),f=0;f<u;f++)l[f]=arguments[f];return s=(n=(o=AM(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this].concat(l))),o),o.handleChange=function(v){var x=Mme(v,o.props.direction,o.props.hsl,o.container);x&&typeof o.props.onChange=="function"&&o.props.onChange(x,v)},o.handleMouseDown=function(v){o.handleChange(v),window.addEventListener("mousemove",o.handleChange),window.addEventListener("mouseup",o.handleMouseUp)},o.handleMouseUp=function(){o.unbindEventListeners()},n),AM(o,s)}return Dme(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var n=this,o=this.props.direction,s=o===void 0?"horizontal":o,u=Tn({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:s==="vertical"});return ve.createElement("div",{style:u.hue},ve.createElement("div",{className:"hue-"+s,style:u.container,ref:function(f){return n.container=f},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},ve.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),ve.createElement("div",{style:u.pointer},this.props.pointer?ve.createElement(this.props.pointer,this.props):ve.createElement("div",{style:u.slider}))))}}]),t}(Q.PureComponent||Q.Component);function Nme(){this.__data__=[],this.size=0}function u2(e,t){return e===t||e!==e&&t!==t}function Uw(e,t){for(var r=e.length;r--;)if(u2(e[r][0],t))return r;return-1}var Fme=Array.prototype,$me=Fme.splice;function Bme(e){var t=this.__data__,r=Uw(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():$me.call(t,r,1),--this.size,!0}function zme(e){var t=this.__data__,r=Uw(t,e);return r<0?void 0:t[r][1]}function jme(e){return Uw(this.__data__,e)>-1}function Ume(e,t){var r=this.__data__,n=Uw(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function zd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}zd.prototype.clear=Nme;zd.prototype.delete=Bme;zd.prototype.get=zme;zd.prototype.has=jme;zd.prototype.set=Ume;function Vme(){this.__data__=new zd,this.size=0}function qme(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function Hme(e){return this.__data__.get(e)}function Gme(e){return this.__data__.has(e)}var D$=typeof global=="object"&&global&&global.Object===Object&&global,Wme=typeof self=="object"&&self&&self.Object===Object&&self,Wc=D$||Wme||Function("return this")(),zf=Wc.Symbol,R$=Object.prototype,Xme=R$.hasOwnProperty,Kme=R$.toString,Jy=zf?zf.toStringTag:void 0;function Zme(e){var t=Xme.call(e,Jy),r=e[Jy];try{e[Jy]=void 0;var n=!0}catch{}var o=Kme.call(e);return n&&(t?e[Jy]=r:delete e[Jy]),o}var Yme=Object.prototype,Jme=Yme.toString;function Qme(e){return Jme.call(e)}var e0e="[object Null]",t0e="[object Undefined]",EM=zf?zf.toStringTag:void 0;function lm(e){return e==null?e===void 0?t0e:e0e:EM&&EM in Object(e)?Zme(e):Qme(e)}function lc(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var r0e="[object AsyncFunction]",n0e="[object Function]",i0e="[object GeneratorFunction]",o0e="[object Proxy]";function W4(e){if(!lc(e))return!1;var t=lm(e);return t==n0e||t==i0e||t==r0e||t==o0e}var n3=Wc["__core-js_shared__"],TM=function(){var e=/[^.]+$/.exec(n3&&n3.keys&&n3.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function a0e(e){return!!TM&&TM in e}var s0e=Function.prototype,l0e=s0e.toString;function um(e){if(e!=null){try{return l0e.call(e)}catch{}try{return e+""}catch{}}return""}var u0e=/[\\^$.*+?()[\]{}|]/g,c0e=/^\[object .+?Constructor\]$/,h0e=Function.prototype,d0e=Object.prototype,f0e=h0e.toString,p0e=d0e.hasOwnProperty,m0e=RegExp("^"+f0e.call(p0e).replace(u0e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g0e(e){if(!lc(e)||a0e(e))return!1;var t=W4(e)?m0e:c0e;return t.test(um(e))}function y0e(e,t){return e==null?void 0:e[t]}function cm(e,t){var r=y0e(e,t);return g0e(r)?r:void 0}var xv=cm(Wc,"Map"),wv=cm(Object,"create");function v0e(){this.__data__=wv?wv(null):{},this.size=0}function b0e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var _0e="__lodash_hash_undefined__",x0e=Object.prototype,w0e=x0e.hasOwnProperty;function S0e(e){var t=this.__data__;if(wv){var r=t[e];return r===_0e?void 0:r}return w0e.call(t,e)?t[e]:void 0}var C0e=Object.prototype,A0e=C0e.hasOwnProperty;function E0e(e){var t=this.__data__;return wv?t[e]!==void 0:A0e.call(t,e)}var T0e="__lodash_hash_undefined__";function P0e(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=wv&&t===void 0?T0e:t,this}function Qp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Qp.prototype.clear=v0e;Qp.prototype.delete=b0e;Qp.prototype.get=S0e;Qp.prototype.has=E0e;Qp.prototype.set=P0e;function k0e(){this.size=0,this.__data__={hash:new Qp,map:new(xv||zd),string:new Qp}}function I0e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Vw(e,t){var r=e.__data__;return I0e(t)?r[typeof t=="string"?"string":"hash"]:r.map}function L0e(e){var t=Vw(this,e).delete(e);return this.size-=t?1:0,t}function M0e(e){return Vw(this,e).get(e)}function D0e(e){return Vw(this,e).has(e)}function R0e(e,t){var r=Vw(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function jd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}jd.prototype.clear=k0e;jd.prototype.delete=L0e;jd.prototype.get=M0e;jd.prototype.has=D0e;jd.prototype.set=R0e;var O0e=200;function N0e(e,t){var r=this.__data__;if(r instanceof zd){var n=r.__data__;if(!xv||n.length<O0e-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new jd(n)}return r.set(e,t),this.size=r.size,this}function Nh(e){var t=this.__data__=new zd(e);this.size=t.size}Nh.prototype.clear=Vme;Nh.prototype.delete=qme;Nh.prototype.get=Hme;Nh.prototype.has=Gme;Nh.prototype.set=N0e;var q_=function(){try{var e=cm(Object,"defineProperty");return e({},"",{}),e}catch{}}();function X4(e,t,r){t=="__proto__"&&q_?q_(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function HC(e,t,r){(r!==void 0&&!u2(e[t],r)||r===void 0&&!(t in e))&&X4(e,t,r)}function F0e(e){return function(t,r,n){for(var o=-1,s=Object(t),u=n(t),l=u.length;l--;){var f=u[++o];if(r(s[f],f,s)===!1)break}return t}}var O$=F0e(),N$=typeof exports=="object"&&exports&&!exports.nodeType&&exports,PM=N$&&typeof module=="object"&&module&&!module.nodeType&&module,$0e=PM&&PM.exports===N$,kM=$0e?Wc.Buffer:void 0;kM&&kM.allocUnsafe;function B0e(e,t){return e.slice()}var H_=Wc.Uint8Array;function z0e(e){var t=new e.constructor(e.byteLength);return new H_(t).set(new H_(e)),t}function j0e(e,t){var r=z0e(e.buffer);return new e.constructor(r,e.byteOffset,e.length)}function U0e(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var IM=Object.create,V0e=function(){function e(){}return function(t){if(!lc(t))return{};if(IM)return IM(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function F$(e,t){return function(r){return e(t(r))}}var $$=F$(Object.getPrototypeOf,Object),q0e=Object.prototype;function K4(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||q0e;return e===r}function H0e(e){return typeof e.constructor=="function"&&!K4(e)?V0e($$(e)):{}}function jf(e){return e!=null&&typeof e=="object"}var G0e="[object Arguments]";function LM(e){return jf(e)&&lm(e)==G0e}var B$=Object.prototype,W0e=B$.hasOwnProperty,X0e=B$.propertyIsEnumerable,G_=LM(function(){return arguments}())?LM:function(e){return jf(e)&&W0e.call(e,"callee")&&!X0e.call(e,"callee")},Au=Array.isArray,K0e=9007199254740991;function Z4(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=K0e}function ny(e){return e!=null&&Z4(e.length)&&!W4(e)}function Z0e(e){return jf(e)&&ny(e)}function Y0e(){return!1}var z$=typeof exports=="object"&&exports&&!exports.nodeType&&exports,MM=z$&&typeof module=="object"&&module&&!module.nodeType&&module,J0e=MM&&MM.exports===z$,DM=J0e?Wc.Buffer:void 0,Q0e=DM?DM.isBuffer:void 0,W_=Q0e||Y0e,ege="[object Object]",tge=Function.prototype,rge=Object.prototype,j$=tge.toString,nge=rge.hasOwnProperty,ige=j$.call(Object);function oge(e){if(!jf(e)||lm(e)!=ege)return!1;var t=$$(e);if(t===null)return!0;var r=nge.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&j$.call(r)==ige}var age="[object Arguments]",sge="[object Array]",lge="[object Boolean]",uge="[object Date]",cge="[object Error]",hge="[object Function]",dge="[object Map]",fge="[object Number]",pge="[object Object]",mge="[object RegExp]",gge="[object Set]",yge="[object String]",vge="[object WeakMap]",bge="[object ArrayBuffer]",_ge="[object DataView]",xge="[object Float32Array]",wge="[object Float64Array]",Sge="[object Int8Array]",Cge="[object Int16Array]",Age="[object Int32Array]",Ege="[object Uint8Array]",Tge="[object Uint8ClampedArray]",Pge="[object Uint16Array]",kge="[object Uint32Array]",uo={};uo[xge]=uo[wge]=uo[Sge]=uo[Cge]=uo[Age]=uo[Ege]=uo[Tge]=uo[Pge]=uo[kge]=!0;uo[age]=uo[sge]=uo[bge]=uo[lge]=uo[_ge]=uo[uge]=uo[cge]=uo[hge]=uo[dge]=uo[fge]=uo[pge]=uo[mge]=uo[gge]=uo[yge]=uo[vge]=!1;function Ige(e){return jf(e)&&Z4(e.length)&&!!uo[lm(e)]}function Lge(e){return function(t){return e(t)}}var U$=typeof exports=="object"&&exports&&!exports.nodeType&&exports,z1=U$&&typeof module=="object"&&module&&!module.nodeType&&module,Mge=z1&&z1.exports===U$,i3=Mge&&D$.process,RM=function(){try{var e=z1&&z1.require&&z1.require("util").types;return e||i3&&i3.binding&&i3.binding("util")}catch{}}(),OM=RM&&RM.isTypedArray,Y4=OM?Lge(OM):Ige;function GC(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var Dge=Object.prototype,Rge=Dge.hasOwnProperty;function Oge(e,t,r){var n=e[t];(!(Rge.call(e,t)&&u2(n,r))||r===void 0&&!(t in e))&&X4(e,t,r)}function Nge(e,t,r,n){var o=!r;r||(r={});for(var s=-1,u=t.length;++s<u;){var l=t[s],f=void 0;f===void 0&&(f=e[l]),o?X4(r,l,f):Oge(r,l,f)}return r}function Fge(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var $ge=9007199254740991,Bge=/^(?:0|[1-9]\d*)$/;function J4(e,t){var r=typeof e;return t=t??$ge,!!t&&(r=="number"||r!="symbol"&&Bge.test(e))&&e>-1&&e%1==0&&e<t}var zge=Object.prototype,jge=zge.hasOwnProperty;function V$(e,t){var r=Au(e),n=!r&&G_(e),o=!r&&!n&&W_(e),s=!r&&!n&&!o&&Y4(e),u=r||n||o||s,l=u?Fge(e.length,String):[],f=l.length;for(var v in e)(t||jge.call(e,v))&&!(u&&(v=="length"||o&&(v=="offset"||v=="parent")||s&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||J4(v,f)))&&l.push(v);return l}function Uge(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var Vge=Object.prototype,qge=Vge.hasOwnProperty;function Hge(e){if(!lc(e))return Uge(e);var t=K4(e),r=[];for(var n in e)n=="constructor"&&(t||!qge.call(e,n))||r.push(n);return r}function q$(e){return ny(e)?V$(e,!0):Hge(e)}function Gge(e){return Nge(e,q$(e))}function Wge(e,t,r,n,o,s,u){var l=GC(e,r),f=GC(t,r),v=u.get(f);if(v){HC(e,r,v);return}var x=s?s(l,f,r+"",e,t,u):void 0,w=x===void 0;if(w){var C=Au(f),P=!C&&W_(f),O=!C&&!P&&Y4(f);x=f,C||P||O?Au(l)?x=l:Z0e(l)?x=U0e(l):P?(w=!1,x=B0e(f)):O?(w=!1,x=j0e(f)):x=[]:oge(f)||G_(f)?(x=l,G_(l)?x=Gge(l):(!lc(l)||W4(l))&&(x=H0e(f))):w=!1}w&&(u.set(f,x),o(x,f,n,s,u),u.delete(f)),HC(e,r,x)}function H$(e,t,r,n,o){e!==t&&O$(t,function(s,u){if(o||(o=new Nh),lc(s))Wge(e,t,u,r,H$,n,o);else{var l=n?n(GC(e,u),s,u+"",e,t,o):void 0;l===void 0&&(l=s),HC(e,u,l)}},q$)}function qw(e){return e}function Xge(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var NM=Math.max;function Kge(e,t,r){return t=NM(t===void 0?e.length-1:t,0),function(){for(var n=arguments,o=-1,s=NM(n.length-t,0),u=Array(s);++o<s;)u[o]=n[t+o];o=-1;for(var l=Array(t+1);++o<t;)l[o]=n[o];return l[t]=r(u),Xge(e,this,l)}}function Zge(e){return function(){return e}}var Yge=q_?function(e,t){return q_(e,"toString",{configurable:!0,enumerable:!1,value:Zge(t),writable:!0})}:qw,Jge=800,Qge=16,eye=Date.now;function tye(e){var t=0,r=0;return function(){var n=eye(),o=Qge-(n-r);if(r=n,o>0){if(++t>=Jge)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var rye=tye(Yge);function nye(e,t){return rye(Kge(e,t,qw),e+"")}function iye(e,t,r){if(!lc(r))return!1;var n=typeof t;return(n=="number"?ny(r)&&J4(t,r.length):n=="string"&&t in r)?u2(r[t],e):!1}function oye(e){return nye(function(t,r){var n=-1,o=r.length,s=o>1?r[o-1]:void 0,u=o>2?r[2]:void 0;for(s=e.length>3&&typeof s=="function"?(o--,s):void 0,u&&iye(r[0],r[1],u)&&(s=o<3?void 0:s,o=1),t=Object(t);++n<o;){var l=r[n];l&&e(t,l,n,s)}return t})}var Vl=oye(function(e,t,r){H$(e,t,r)}),c2=function(t){var r=t.zDepth,n=t.radius,o=t.background,s=t.children,u=t.styles,l=u===void 0?{}:u,f=Tn(Vl({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+r+"px "+r*4+"px rgba(0,0,0,.24)",borderRadius:n,background:o}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},l),{"zDepth-1":r===1});return ve.createElement("div",{style:f.wrap},ve.createElement("div",{style:f.bg}),ve.createElement("div",{style:f.content},s))};c2.propTypes={background:er.string,zDepth:er.oneOf([0,1,2,3,4,5]),radius:er.number,styles:er.object};c2.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var o3=function(){return Wc.Date.now()},aye=/\s/;function sye(e){for(var t=e.length;t--&&aye.test(e.charAt(t)););return t}var lye=/^\s+/;function uye(e){return e&&e.slice(0,sye(e)+1).replace(lye,"")}var cye="[object Symbol]";function Hw(e){return typeof e=="symbol"||jf(e)&&lm(e)==cye}var FM=NaN,hye=/^[-+]0x[0-9a-f]+$/i,dye=/^0b[01]+$/i,fye=/^0o[0-7]+$/i,pye=parseInt;function $M(e){if(typeof e=="number")return e;if(Hw(e))return FM;if(lc(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=lc(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=uye(e);var r=dye.test(e);return r||fye.test(e)?pye(e.slice(2),r?2:8):hye.test(e)?FM:+e}var mye="Expected a function",gye=Math.max,yye=Math.min;function G$(e,t,r){var n,o,s,u,l,f,v=0,x=!1,w=!1,C=!0;if(typeof e!="function")throw new TypeError(mye);t=$M(t)||0,lc(r)&&(x=!!r.leading,w="maxWait"in r,s=w?gye($M(r.maxWait)||0,t):s,C="trailing"in r?!!r.trailing:C);function P(ie){var J=n,ne=o;return n=o=void 0,v=ie,u=e.apply(ne,J),u}function O(ie){return v=ie,l=setTimeout(N,t),x?P(ie):u}function I(ie){var J=ie-f,ne=ie-v,Ae=t-J;return w?yye(Ae,s-ne):Ae}function z(ie){var J=ie-f,ne=ie-v;return f===void 0||J>=t||J<0||w&&ne>=s}function N(){var ie=o3();if(z(ie))return j(ie);l=setTimeout(N,I(ie))}function j(ie){return l=void 0,C&&n?P(ie):(n=o=void 0,u)}function V(){l!==void 0&&clearTimeout(l),v=0,n=f=o=l=void 0}function W(){return l===void 0?u:j(o3())}function re(){var ie=o3(),J=z(ie);if(n=arguments,o=this,f=ie,J){if(l===void 0)return O(f);if(w)return clearTimeout(l),l=setTimeout(N,t),P(f)}return l===void 0&&(l=setTimeout(N,t)),u}return re.cancel=V,re.flush=W,re}var vye="Expected a function";function bye(e,t,r){var n=!0,o=!0;if(typeof e!="function")throw new TypeError(vye);return lc(r)&&(n="leading"in r?!!r.leading:n,o="trailing"in r?!!r.trailing:o),G$(e,t,{leading:n,maxWait:t,trailing:o})}var _ye=function(t,r,n){var o=n.getBoundingClientRect(),s=o.width,u=o.height,l=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,f=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,v=l-(n.getBoundingClientRect().left+window.pageXOffset),x=f-(n.getBoundingClientRect().top+window.pageYOffset);v<0?v=0:v>s&&(v=s),x<0?x=0:x>u&&(x=u);var w=v/s,C=1-x/u;return{h:r.h,s:w,v:C,a:r.a,source:"hsv"}},xye=function(){function e(t,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function wye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sye(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Cye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Gw=function(e){Cye(t,e);function t(r){wye(this,t);var n=Sye(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return n.handleChange=function(o){typeof n.props.onChange=="function"&&n.throttle(n.props.onChange,_ye(o,n.props.hsl,n.container),o)},n.handleMouseDown=function(o){n.handleChange(o);var s=n.getContainerRenderWindow();s.addEventListener("mousemove",n.handleChange),s.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=bye(function(o,s,u){o(s,u)},50),n}return xye(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var n=this.container,o=window;!o.document.contains(n)&&o.parent!==o;)o=o.parent;return o}},{key:"unbindEventListeners",value:function(){var n=this.getContainerRenderWindow();n.removeEventListener("mousemove",this.handleChange),n.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var n=this,o=this.props.style||{},s=o.color,u=o.white,l=o.black,f=o.pointer,v=o.circle,x=Tn({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:s,white:u,black:l,pointer:f,circle:v}},{custom:!!this.props.style});return ve.createElement("div",{style:x.color,ref:function(C){return n.container=C},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},ve.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),ve.createElement("div",{style:x.white,className:"saturation-white"},ve.createElement("div",{style:x.black,className:"saturation-black"}),ve.createElement("div",{style:x.pointer},this.props.pointer?ve.createElement(this.props.pointer,this.props):ve.createElement("div",{style:x.circle}))))}}]),t}(Q.PureComponent||Q.Component);function Aye(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var Eye=F$(Object.keys,Object),Tye=Object.prototype,Pye=Tye.hasOwnProperty;function kye(e){if(!K4(e))return Eye(e);var t=[];for(var r in Object(e))Pye.call(e,r)&&r!="constructor"&&t.push(r);return t}function Q4(e){return ny(e)?V$(e):kye(e)}function Iye(e,t){return e&&O$(e,t,Q4)}function Lye(e,t){return function(r,n){if(r==null)return r;if(!ny(r))return e(r,n);for(var o=r.length,s=-1,u=Object(r);++s<o&&n(u[s],s,u)!==!1;);return r}}var W$=Lye(Iye);function Mye(e){return typeof e=="function"?e:qw}function Dye(e,t){var r=Au(e)?Aye:W$;return r(e,Mye(t))}function X_(e){"@babel/helpers - typeof";return X_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X_(e)}var Rye=/^\s+/,Oye=/\s+$/;function Zr(e,t){if(e=e||"",t=t||{},e instanceof Zr)return e;if(!(this instanceof Zr))return new Zr(e,t);var r=Nye(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||r.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}Zr.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),r,n,o,s,u,l;return r=t.r/255,n=t.g/255,o=t.b/255,r<=.03928?s=r/12.92:s=Math.pow((r+.055)/1.055,2.4),n<=.03928?u=n/12.92:u=Math.pow((n+.055)/1.055,2.4),o<=.03928?l=o/12.92:l=Math.pow((o+.055)/1.055,2.4),.2126*s+.7152*u+.0722*l},setAlpha:function(t){return this._a=X$(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=zM(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=zM(this._r,this._g,this._b),r=Math.round(t.h*360),n=Math.round(t.s*100),o=Math.round(t.v*100);return this._a==1?"hsv("+r+", "+n+"%, "+o+"%)":"hsva("+r+", "+n+"%, "+o+"%, "+this._roundA+")"},toHsl:function(){var t=BM(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=BM(this._r,this._g,this._b),r=Math.round(t.h*360),n=Math.round(t.s*100),o=Math.round(t.l*100);return this._a==1?"hsl("+r+", "+n+"%, "+o+"%)":"hsla("+r+", "+n+"%, "+o+"%, "+this._roundA+")"},toHex:function(t){return jM(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return zye(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(bo(this._r,255)*100)+"%",g:Math.round(bo(this._g,255)*100)+"%",b:Math.round(bo(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(bo(this._r,255)*100)+"%, "+Math.round(bo(this._g,255)*100)+"%, "+Math.round(bo(this._b,255)*100)+"%)":"rgba("+Math.round(bo(this._r,255)*100)+"%, "+Math.round(bo(this._g,255)*100)+"%, "+Math.round(bo(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Jye[jM(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var r="#"+UM(this._r,this._g,this._b,this._a),n=r,o=this._gradientType?"GradientType = 1, ":"";if(t){var s=Zr(t);n="#"+UM(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+r+",endColorstr="+n+")"},toString:function(t){var r=!!t;t=t||this._format;var n=!1,o=this._a<1&&this._a>=0,s=!r&&o&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return s?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(n=this.toRgbString()),t==="prgb"&&(n=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(n=this.toHexString()),t==="hex3"&&(n=this.toHexString(!0)),t==="hex4"&&(n=this.toHex8String(!0)),t==="hex8"&&(n=this.toHex8String()),t==="name"&&(n=this.toName()),t==="hsl"&&(n=this.toHslString()),t==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return Zr(this.toString())},_applyModification:function(t,r){var n=t.apply(null,[this].concat([].slice.call(r)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(qye,arguments)},brighten:function(){return this._applyModification(Hye,arguments)},darken:function(){return this._applyModification(Gye,arguments)},desaturate:function(){return this._applyModification(jye,arguments)},saturate:function(){return this._applyModification(Uye,arguments)},greyscale:function(){return this._applyModification(Vye,arguments)},spin:function(){return this._applyModification(Wye,arguments)},_applyCombination:function(t,r){return t.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(Zye,arguments)},complement:function(){return this._applyCombination(Xye,arguments)},monochromatic:function(){return this._applyCombination(Yye,arguments)},splitcomplement:function(){return this._applyCombination(Kye,arguments)},triad:function(){return this._applyCombination(VM,[3])},tetrad:function(){return this._applyCombination(VM,[4])}};Zr.fromRatio=function(e,t){if(X_(e)=="object"){var r={};for(var n in e)e.hasOwnProperty(n)&&(n==="a"?r[n]=e[n]:r[n]=d1(e[n]));e=r}return Zr(e,t)};function Nye(e){var t={r:0,g:0,b:0},r=1,n=null,o=null,s=null,u=!1,l=!1;return typeof e=="string"&&(e=r1e(e)),X_(e)=="object"&&(cd(e.r)&&cd(e.g)&&cd(e.b)?(t=Fye(e.r,e.g,e.b),u=!0,l=String(e.r).substr(-1)==="%"?"prgb":"rgb"):cd(e.h)&&cd(e.s)&&cd(e.v)?(n=d1(e.s),o=d1(e.v),t=Bye(e.h,n,o),u=!0,l="hsv"):cd(e.h)&&cd(e.s)&&cd(e.l)&&(n=d1(e.s),s=d1(e.l),t=$ye(e.h,n,s),u=!0,l="hsl"),e.hasOwnProperty("a")&&(r=e.a)),r=X$(r),{ok:u,format:e.format||l,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:r}}function Fye(e,t,r){return{r:bo(e,255)*255,g:bo(t,255)*255,b:bo(r,255)*255}}function BM(e,t,r){e=bo(e,255),t=bo(t,255),r=bo(r,255);var n=Math.max(e,t,r),o=Math.min(e,t,r),s,u,l=(n+o)/2;if(n==o)s=u=0;else{var f=n-o;switch(u=l>.5?f/(2-n-o):f/(n+o),n){case e:s=(t-r)/f+(t<r?6:0);break;case t:s=(r-e)/f+2;break;case r:s=(e-t)/f+4;break}s/=6}return{h:s,s:u,l}}function $ye(e,t,r){var n,o,s;e=bo(e,360),t=bo(t,100),r=bo(r,100);function u(v,x,w){return w<0&&(w+=1),w>1&&(w-=1),w<1/6?v+(x-v)*6*w:w<1/2?x:w<2/3?v+(x-v)*(2/3-w)*6:v}if(t===0)n=o=s=r;else{var l=r<.5?r*(1+t):r+t-r*t,f=2*r-l;n=u(f,l,e+1/3),o=u(f,l,e),s=u(f,l,e-1/3)}return{r:n*255,g:o*255,b:s*255}}function zM(e,t,r){e=bo(e,255),t=bo(t,255),r=bo(r,255);var n=Math.max(e,t,r),o=Math.min(e,t,r),s,u,l=n,f=n-o;if(u=n===0?0:f/n,n==o)s=0;else{switch(n){case e:s=(t-r)/f+(t<r?6:0);break;case t:s=(r-e)/f+2;break;case r:s=(e-t)/f+4;break}s/=6}return{h:s,s:u,v:l}}function Bye(e,t,r){e=bo(e,360)*6,t=bo(t,100),r=bo(r,100);var n=Math.floor(e),o=e-n,s=r*(1-t),u=r*(1-o*t),l=r*(1-(1-o)*t),f=n%6,v=[r,u,s,s,l,r][f],x=[l,r,r,u,s,s][f],w=[s,s,l,r,r,u][f];return{r:v*255,g:x*255,b:w*255}}function jM(e,t,r,n){var o=[Fc(Math.round(e).toString(16)),Fc(Math.round(t).toString(16)),Fc(Math.round(r).toString(16))];return n&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function zye(e,t,r,n,o){var s=[Fc(Math.round(e).toString(16)),Fc(Math.round(t).toString(16)),Fc(Math.round(r).toString(16)),Fc(K$(n))];return o&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function UM(e,t,r,n){var o=[Fc(K$(n)),Fc(Math.round(e).toString(16)),Fc(Math.round(t).toString(16)),Fc(Math.round(r).toString(16))];return o.join("")}Zr.equals=function(e,t){return!e||!t?!1:Zr(e).toRgbString()==Zr(t).toRgbString()};Zr.random=function(){return Zr.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function jye(e,t){t=t===0?0:t||10;var r=Zr(e).toHsl();return r.s-=t/100,r.s=Ww(r.s),Zr(r)}function Uye(e,t){t=t===0?0:t||10;var r=Zr(e).toHsl();return r.s+=t/100,r.s=Ww(r.s),Zr(r)}function Vye(e){return Zr(e).desaturate(100)}function qye(e,t){t=t===0?0:t||10;var r=Zr(e).toHsl();return r.l+=t/100,r.l=Ww(r.l),Zr(r)}function Hye(e,t){t=t===0?0:t||10;var r=Zr(e).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(t/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(t/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(t/100)))),Zr(r)}function Gye(e,t){t=t===0?0:t||10;var r=Zr(e).toHsl();return r.l-=t/100,r.l=Ww(r.l),Zr(r)}function Wye(e,t){var r=Zr(e).toHsl(),n=(r.h+t)%360;return r.h=n<0?360+n:n,Zr(r)}function Xye(e){var t=Zr(e).toHsl();return t.h=(t.h+180)%360,Zr(t)}function VM(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var r=Zr(e).toHsl(),n=[Zr(e)],o=360/t,s=1;s<t;s++)n.push(Zr({h:(r.h+s*o)%360,s:r.s,l:r.l}));return n}function Kye(e){var t=Zr(e).toHsl(),r=t.h;return[Zr(e),Zr({h:(r+72)%360,s:t.s,l:t.l}),Zr({h:(r+216)%360,s:t.s,l:t.l})]}function Zye(e,t,r){t=t||6,r=r||30;var n=Zr(e).toHsl(),o=360/r,s=[Zr(e)];for(n.h=(n.h-(o*t>>1)+720)%360;--t;)n.h=(n.h+o)%360,s.push(Zr(n));return s}function Yye(e,t){t=t||6;for(var r=Zr(e).toHsv(),n=r.h,o=r.s,s=r.v,u=[],l=1/t;t--;)u.push(Zr({h:n,s:o,v:s})),s=(s+l)%1;return u}Zr.mix=function(e,t,r){r=r===0?0:r||50;var n=Zr(e).toRgb(),o=Zr(t).toRgb(),s=r/100,u={r:(o.r-n.r)*s+n.r,g:(o.g-n.g)*s+n.g,b:(o.b-n.b)*s+n.b,a:(o.a-n.a)*s+n.a};return Zr(u)};Zr.readability=function(e,t){var r=Zr(e),n=Zr(t);return(Math.max(r.getLuminance(),n.getLuminance())+.05)/(Math.min(r.getLuminance(),n.getLuminance())+.05)};Zr.isReadable=function(e,t,r){var n=Zr.readability(e,t),o,s;switch(s=!1,o=n1e(r),o.level+o.size){case"AAsmall":case"AAAlarge":s=n>=4.5;break;case"AAlarge":s=n>=3;break;case"AAAsmall":s=n>=7;break}return s};Zr.mostReadable=function(e,t,r){var n=null,o=0,s,u,l,f;r=r||{},u=r.includeFallbackColors,l=r.level,f=r.size;for(var v=0;v<t.length;v++)s=Zr.readability(e,t[v]),s>o&&(o=s,n=Zr(t[v]));return Zr.isReadable(e,n,{level:l,size:f})||!u?n:(r.includeFallbackColors=!1,Zr.mostReadable(e,["#fff","#000"],r))};var WC=Zr.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Jye=Zr.hexNames=Qye(WC);function Qye(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}function X$(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function bo(e,t){e1e(e)&&(e="100%");var r=t1e(e);return e=Math.min(t,Math.max(0,parseFloat(e))),r&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function Ww(e){return Math.min(1,Math.max(0,e))}function hu(e){return parseInt(e,16)}function e1e(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function t1e(e){return typeof e=="string"&&e.indexOf("%")!=-1}function Fc(e){return e.length==1?"0"+e:""+e}function d1(e){return e<=1&&(e=e*100+"%"),e}function K$(e){return Math.round(parseFloat(e)*255).toString(16)}function qM(e){return hu(e)/255}var Tc=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",r="(?:"+t+")|(?:"+e+")",n="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",o="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+o),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+o),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+o),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function cd(e){return!!Tc.CSS_UNIT.exec(e)}function r1e(e){e=e.replace(Rye,"").replace(Oye,"").toLowerCase();var t=!1;if(WC[e])e=WC[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=Tc.rgb.exec(e))?{r:r[1],g:r[2],b:r[3]}:(r=Tc.rgba.exec(e))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=Tc.hsl.exec(e))?{h:r[1],s:r[2],l:r[3]}:(r=Tc.hsla.exec(e))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=Tc.hsv.exec(e))?{h:r[1],s:r[2],v:r[3]}:(r=Tc.hsva.exec(e))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=Tc.hex8.exec(e))?{r:hu(r[1]),g:hu(r[2]),b:hu(r[3]),a:qM(r[4]),format:t?"name":"hex8"}:(r=Tc.hex6.exec(e))?{r:hu(r[1]),g:hu(r[2]),b:hu(r[3]),format:t?"name":"hex"}:(r=Tc.hex4.exec(e))?{r:hu(r[1]+""+r[1]),g:hu(r[2]+""+r[2]),b:hu(r[3]+""+r[3]),a:qM(r[4]+""+r[4]),format:t?"name":"hex8"}:(r=Tc.hex3.exec(e))?{r:hu(r[1]+""+r[1]),g:hu(r[2]+""+r[2]),b:hu(r[3]+""+r[3]),format:t?"name":"hex"}:!1}function n1e(e){var t,r;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:t,size:r}}var HM=function(t){var r=["r","g","b","a","h","s","l","v"],n=0,o=0;return Dye(r,function(s){if(t[s]&&(n+=1,isNaN(t[s])||(o+=1),s==="s"||s==="l")){var u=/^\d+%$/;u.test(t[s])&&(o+=1)}}),n===o?t:!1},f1=function(t,r){var n=t.hex?Zr(t.hex):Zr(t),o=n.toHsl(),s=n.toHsv(),u=n.toRgb(),l=n.toHex();o.s===0&&(o.h=r||0,s.h=r||0);var f=l==="000000"&&u.a===0;return{hsl:o,hex:f?"transparent":"#"+l,rgb:u,hsv:s,oldHue:t.h||r||o.h,source:t.source}},Gf=function(t){if(t==="transparent")return!0;var r=String(t).charAt(0)==="#"?1:0;return t.length!==4+r&&t.length<7+r&&Zr(t).isValid()},eT=function(t){if(!t)return"#fff";var r=f1(t);if(r.hex==="transparent")return"rgba(0,0,0,0.4)";var n=(r.rgb.r*299+r.rgb.g*587+r.rgb.b*114)/1e3;return n>=128?"#000":"#fff"},a3=function(t,r){var n=t.replace("","");return Zr(r+" ("+n+")")._ok},Qy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i1e=function(){function e(t,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function o1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a1e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function s1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ql=function(t){var r=function(n){s1e(o,n);function o(s){o1e(this,o);var u=a1e(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return u.handleChange=function(l,f){var v=HM(l);if(v){var x=f1(l,l.h||u.state.oldHue);u.setState(x),u.props.onChangeComplete&&u.debounce(u.props.onChangeComplete,x,f),u.props.onChange&&u.props.onChange(x,f)}},u.handleSwatchHover=function(l,f){var v=HM(l);if(v){var x=f1(l,l.h||u.state.oldHue);u.props.onSwatchHover&&u.props.onSwatchHover(x,f)}},u.state=Qy({},f1(s.color,0)),u.debounce=G$(function(l,f,v){l(f,v)},100),u}return i1e(o,[{key:"render",value:function(){var u={};return this.props.onSwatchHover&&(u.onSwatchHover=this.handleSwatchHover),ve.createElement(t,Qy({},this.props,this.state,{onChange:this.handleChange},u))}}],[{key:"getDerivedStateFromProps",value:function(u,l){return Qy({},f1(u.color,l.oldHue))}}]),o}(Q.PureComponent||Q.Component);return r.propTypes=Qy({},t.propTypes),r.defaultProps=Qy({},t.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),r},l1e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u1e=function(){function e(t,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function c1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GM(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function h1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d1e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(n){h1e(o,n);function o(){var s,u,l,f;c1e(this,o);for(var v=arguments.length,x=Array(v),w=0;w<v;w++)x[w]=arguments[w];return f=(u=(l=GM(this,(s=o.__proto__||Object.getPrototypeOf(o)).call.apply(s,[this].concat(x))),l),l.state={focus:!1},l.handleFocus=function(){return l.setState({focus:!0})},l.handleBlur=function(){return l.setState({focus:!1})},u),GM(l,f)}return u1e(o,[{key:"render",value:function(){return ve.createElement(r,{onFocus:this.handleFocus,onBlur:this.handleBlur},ve.createElement(t,l1e({},this.props,this.state)))}}]),o}(ve.Component)},WM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f1e=13,p1e=function(t){var r=t.color,n=t.style,o=t.onClick,s=o===void 0?function(){}:o,u=t.onHover,l=t.title,f=l===void 0?r:l,v=t.children,x=t.focus,w=t.focusStyle,C=w===void 0?{}:w,P=r==="transparent",O=Tn({default:{swatch:WM({background:r,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,x?C:{})}}),I=function(W){return s(r,W)},z=function(W){return W.keyCode===f1e&&s(r,W)},N=function(W){return u(r,W)},j={};return u&&(j.onMouseOver=N),ve.createElement("div",WM({style:O.swatch,onClick:I,title:f,tabIndex:0,onKeyDown:z},j),v,P&&ve.createElement(ty,{borderRadius:O.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const hm=d1e(p1e);var m1e=function(t){var r=t.direction,n=Tn({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:r==="vertical"});return ve.createElement("div",{style:n.picker})},g1e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z$=function(t){var r=t.rgb,n=t.hsl,o=t.width,s=t.height,u=t.onChange,l=t.direction,f=t.style,v=t.renderers,x=t.pointer,w=t.className,C=w===void 0?"":w,P=Tn({default:{picker:{position:"relative",width:o,height:s},alpha:{radius:"2px",style:f}}});return ve.createElement("div",{style:P.picker,className:"alpha-picker "+C},ve.createElement(G4,g1e({},P.alpha,{rgb:r,hsl:n,pointer:x,renderers:v,onChange:u,direction:l})))};Z$.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:m1e};ql(Z$);function Y$(e,t){for(var r=-1,n=e==null?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}var y1e="__lodash_hash_undefined__";function v1e(e){return this.__data__.set(e,y1e),this}function b1e(e){return this.__data__.has(e)}function K_(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new jd;++t<r;)this.add(e[t])}K_.prototype.add=K_.prototype.push=v1e;K_.prototype.has=b1e;function _1e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function x1e(e,t){return e.has(t)}var w1e=1,S1e=2;function J$(e,t,r,n,o,s){var u=r&w1e,l=e.length,f=t.length;if(l!=f&&!(u&&f>l))return!1;var v=s.get(e),x=s.get(t);if(v&&x)return v==t&&x==e;var w=-1,C=!0,P=r&S1e?new K_:void 0;for(s.set(e,t),s.set(t,e);++w<l;){var O=e[w],I=t[w];if(n)var z=u?n(I,O,w,t,e,s):n(O,I,w,e,t,s);if(z!==void 0){if(z)continue;C=!1;break}if(P){if(!_1e(t,function(N,j){if(!x1e(P,j)&&(O===N||o(O,N,r,n,s)))return P.push(j)})){C=!1;break}}else if(!(O===I||o(O,I,r,n,s))){C=!1;break}}return s.delete(e),s.delete(t),C}function C1e(e){var t=-1,r=Array(e.size);return e.forEach(function(n,o){r[++t]=[o,n]}),r}function A1e(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var E1e=1,T1e=2,P1e="[object Boolean]",k1e="[object Date]",I1e="[object Error]",L1e="[object Map]",M1e="[object Number]",D1e="[object RegExp]",R1e="[object Set]",O1e="[object String]",N1e="[object Symbol]",F1e="[object ArrayBuffer]",$1e="[object DataView]",XM=zf?zf.prototype:void 0,s3=XM?XM.valueOf:void 0;function B1e(e,t,r,n,o,s,u){switch(r){case $1e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case F1e:return!(e.byteLength!=t.byteLength||!s(new H_(e),new H_(t)));case P1e:case k1e:case M1e:return u2(+e,+t);case I1e:return e.name==t.name&&e.message==t.message;case D1e:case O1e:return e==t+"";case L1e:var l=C1e;case R1e:var f=n&E1e;if(l||(l=A1e),e.size!=t.size&&!f)return!1;var v=u.get(e);if(v)return v==t;n|=T1e,u.set(e,t);var x=J$(l(e),l(t),n,o,s,u);return u.delete(e),x;case N1e:if(s3)return s3.call(e)==s3.call(t)}return!1}function z1e(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}function j1e(e,t,r){var n=t(e);return Au(e)?n:z1e(n,r(e))}function U1e(e,t){for(var r=-1,n=e==null?0:e.length,o=0,s=[];++r<n;){var u=e[r];t(u,r,e)&&(s[o++]=u)}return s}function V1e(){return[]}var q1e=Object.prototype,H1e=q1e.propertyIsEnumerable,KM=Object.getOwnPropertySymbols,G1e=KM?function(e){return e==null?[]:(e=Object(e),U1e(KM(e),function(t){return H1e.call(e,t)}))}:V1e;function ZM(e){return j1e(e,Q4,G1e)}var W1e=1,X1e=Object.prototype,K1e=X1e.hasOwnProperty;function Z1e(e,t,r,n,o,s){var u=r&W1e,l=ZM(e),f=l.length,v=ZM(t),x=v.length;if(f!=x&&!u)return!1;for(var w=f;w--;){var C=l[w];if(!(u?C in t:K1e.call(t,C)))return!1}var P=s.get(e),O=s.get(t);if(P&&O)return P==t&&O==e;var I=!0;s.set(e,t),s.set(t,e);for(var z=u;++w<f;){C=l[w];var N=e[C],j=t[C];if(n)var V=u?n(j,N,C,t,e,s):n(N,j,C,e,t,s);if(!(V===void 0?N===j||o(N,j,r,n,s):V)){I=!1;break}z||(z=C=="constructor")}if(I&&!z){var W=e.constructor,re=t.constructor;W!=re&&"constructor"in e&&"constructor"in t&&!(typeof W=="function"&&W instanceof W&&typeof re=="function"&&re instanceof re)&&(I=!1)}return s.delete(e),s.delete(t),I}var XC=cm(Wc,"DataView"),KC=cm(Wc,"Promise"),ZC=cm(Wc,"Set"),YC=cm(Wc,"WeakMap"),YM="[object Map]",Y1e="[object Object]",JM="[object Promise]",QM="[object Set]",eD="[object WeakMap]",tD="[object DataView]",J1e=um(XC),Q1e=um(xv),eve=um(KC),tve=um(ZC),rve=um(YC),hf=lm;(XC&&hf(new XC(new ArrayBuffer(1)))!=tD||xv&&hf(new xv)!=YM||KC&&hf(KC.resolve())!=JM||ZC&&hf(new ZC)!=QM||YC&&hf(new YC)!=eD)&&(hf=function(e){var t=lm(e),r=t==Y1e?e.constructor:void 0,n=r?um(r):"";if(n)switch(n){case J1e:return tD;case Q1e:return YM;case eve:return JM;case tve:return QM;case rve:return eD}return t});var nve=1,rD="[object Arguments]",nD="[object Array]",_b="[object Object]",ive=Object.prototype,iD=ive.hasOwnProperty;function ove(e,t,r,n,o,s){var u=Au(e),l=Au(t),f=u?nD:hf(e),v=l?nD:hf(t);f=f==rD?_b:f,v=v==rD?_b:v;var x=f==_b,w=v==_b,C=f==v;if(C&&W_(e)){if(!W_(t))return!1;u=!0,x=!1}if(C&&!x)return s||(s=new Nh),u||Y4(e)?J$(e,t,r,n,o,s):B1e(e,t,f,r,n,o,s);if(!(r&nve)){var P=x&&iD.call(e,"__wrapped__"),O=w&&iD.call(t,"__wrapped__");if(P||O){var I=P?e.value():e,z=O?t.value():t;return s||(s=new Nh),o(I,z,r,n,s)}}return C?(s||(s=new Nh),Z1e(e,t,r,n,o,s)):!1}function tT(e,t,r,n,o){return e===t?!0:e==null||t==null||!jf(e)&&!jf(t)?e!==e&&t!==t:ove(e,t,r,n,tT,o)}var ave=1,sve=2;function lve(e,t,r,n){var o=r.length,s=o;if(e==null)return!s;for(e=Object(e);o--;){var u=r[o];if(u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<s;){u=r[o];var l=u[0],f=e[l],v=u[1];if(u[2]){if(f===void 0&&!(l in e))return!1}else{var x=new Nh,w;if(!(w===void 0?tT(v,f,ave|sve,n,x):w))return!1}}return!0}function Q$(e){return e===e&&!lc(e)}function uve(e){for(var t=Q4(e),r=t.length;r--;){var n=t[r],o=e[n];t[r]=[n,o,Q$(o)]}return t}function eB(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}function cve(e){var t=uve(e);return t.length==1&&t[0][2]?eB(t[0][0],t[0][1]):function(r){return r===e||lve(r,e,t)}}var hve=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dve=/^\w*$/;function rT(e,t){if(Au(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Hw(e)?!0:dve.test(e)||!hve.test(e)||t!=null&&e in Object(t)}var fve="Expected a function";function nT(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(fve);var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],s=r.cache;if(s.has(o))return s.get(o);var u=e.apply(this,n);return r.cache=s.set(o,u)||s,u};return r.cache=new(nT.Cache||jd),r}nT.Cache=jd;var pve=500;function mve(e){var t=nT(e,function(n){return r.size===pve&&r.clear(),n}),r=t.cache;return t}var gve=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yve=/\\(\\)?/g,vve=mve(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(gve,function(r,n,o,s){t.push(o?s.replace(yve,"$1"):n||r)}),t}),bve=1/0,oD=zf?zf.prototype:void 0,aD=oD?oD.toString:void 0;function tB(e){if(typeof e=="string")return e;if(Au(e))return Y$(e,tB)+"";if(Hw(e))return aD?aD.call(e):"";var t=e+"";return t=="0"&&1/e==-bve?"-0":t}function _ve(e){return e==null?"":tB(e)}function rB(e,t){return Au(e)?e:rT(e,t)?[e]:vve(_ve(e))}var xve=1/0;function Xw(e){if(typeof e=="string"||Hw(e))return e;var t=e+"";return t=="0"&&1/e==-xve?"-0":t}function nB(e,t){t=rB(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Xw(t[r++])];return r&&r==n?e:void 0}function wve(e,t,r){var n=e==null?void 0:nB(e,t);return n===void 0?r:n}function Sve(e,t){return e!=null&&t in Object(e)}function Cve(e,t,r){t=rB(t,e);for(var n=-1,o=t.length,s=!1;++n<o;){var u=Xw(t[n]);if(!(s=e!=null&&r(e,u)))break;e=e[u]}return s||++n!=o?s:(o=e==null?0:e.length,!!o&&Z4(o)&&J4(u,o)&&(Au(e)||G_(e)))}function Ave(e,t){return e!=null&&Cve(e,t,Sve)}var Eve=1,Tve=2;function Pve(e,t){return rT(e)&&Q$(t)?eB(Xw(e),t):function(r){var n=wve(r,e);return n===void 0&&n===t?Ave(r,e):tT(t,n,Eve|Tve)}}function kve(e){return function(t){return t==null?void 0:t[e]}}function Ive(e){return function(t){return nB(t,e)}}function Lve(e){return rT(e)?kve(Xw(e)):Ive(e)}function Mve(e){return typeof e=="function"?e:e==null?qw:typeof e=="object"?Au(e)?Pve(e[0],e[1]):cve(e):Lve(e)}function Dve(e,t){var r=-1,n=ny(e)?Array(e.length):[];return W$(e,function(o,s,u){n[++r]=t(o,s,u)}),n}function dm(e,t){var r=Au(e)?Y$:Dve;return r(e,Mve(t))}var Rve=function(t){var r=t.colors,n=t.onClick,o=t.onSwatchHover,s=Tn({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return ve.createElement("div",{style:s.swatches},dm(r,function(u){return ve.createElement(hm,{key:u,color:u,style:s.swatch,onClick:n,onHover:o,focusStyle:{boxShadow:"0 0 4px "+u}})}),ve.createElement("div",{style:s.clear}))},iT=function(t){var r=t.onChange,n=t.onSwatchHover,o=t.hex,s=t.colors,u=t.width,l=t.triangle,f=t.styles,v=f===void 0?{}:f,x=t.className,w=x===void 0?"":x,C=o==="transparent",P=function(z,N){Gf(z)&&r({hex:z,source:"hex"},N)},O=Tn(Vl({default:{card:{width:u,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:o,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:eT(o),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+o+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},v),{"hide-triangle":l==="hide"});return ve.createElement("div",{style:O.card,className:"block-picker "+w},ve.createElement("div",{style:O.triangle}),ve.createElement("div",{style:O.head},C&&ve.createElement(ty,{borderRadius:"6px 6px 0 0"}),ve.createElement("div",{style:O.label},o)),ve.createElement("div",{style:O.body},ve.createElement(Rve,{colors:s,onClick:P,onSwatchHover:n}),ve.createElement(Jn,{style:{input:O.input},value:o,onChange:P})))};iT.propTypes={width:er.oneOfType([er.string,er.number]),colors:er.arrayOf(er.string),triangle:er.oneOf(["top","hide"]),styles:er.object};iT.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};ql(iT);var u0={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},c0={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},h0={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},d0={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},f0={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},p0={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},m0={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},g0={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},y0={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},p1={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},v0={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},b0={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},_0={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},x0={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},w0={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},S0={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},C0={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},A0={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},iB=function(t){var r=t.color,n=t.onClick,o=t.onSwatchHover,s=t.hover,u=t.active,l=t.circleSize,f=t.circleSpacing,v=Tn({default:{swatch:{width:l,height:l,marginRight:f,marginBottom:f,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(l/2+1)+"px "+r,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+r}}},{hover:s,active:u});return ve.createElement("div",{style:v.swatch},ve.createElement(hm,{style:v.Swatch,color:r,onClick:n,onHover:o,focusStyle:{boxShadow:v.Swatch.boxShadow+", 0 0 5px "+r}}))};iB.defaultProps={circleSize:28,circleSpacing:14};const Ove=H4(iB);var oT=function(t){var r=t.width,n=t.onChange,o=t.onSwatchHover,s=t.colors,u=t.hex,l=t.circleSize,f=t.styles,v=f===void 0?{}:f,x=t.circleSpacing,w=t.className,C=w===void 0?"":w,P=Tn(Vl({default:{card:{width:r,display:"flex",flexWrap:"wrap",marginRight:-x,marginBottom:-x}}},v)),O=function(z,N){return n({hex:z,source:"hex"},N)};return ve.createElement("div",{style:P.card,className:"circle-picker "+C},dm(s,function(I){return ve.createElement(Ove,{key:I,color:I,onClick:O,onSwatchHover:o,active:u===I.toLowerCase(),circleSize:l,circleSpacing:x})}))};oT.propTypes={width:er.oneOfType([er.string,er.number]),circleSize:er.number,circleSpacing:er.number,styles:er.object};oT.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[u0[500],c0[500],h0[500],d0[500],f0[500],p0[500],m0[500],g0[500],y0[500],p1[500],v0[500],b0[500],_0[500],x0[500],w0[500],S0[500],C0[500],A0[500]],styles:{}};ql(oT);function sD(e){return e===void 0}var oB={};Object.defineProperty(oB,"__esModule",{value:!0});var lD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nve=Q,uD=Fve(Nve);function Fve(e){return e&&e.__esModule?e:{default:e}}function $ve(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var xb=24,Bve=oB.default=function(e){var t=e.fill,r=t===void 0?"currentColor":t,n=e.width,o=n===void 0?xb:n,s=e.height,u=s===void 0?xb:s,l=e.style,f=l===void 0?{}:l,v=$ve(e,["fill","width","height","style"]);return uD.default.createElement("svg",lD({viewBox:"0 0 "+xb+" "+xb,style:lD({fill:r,width:o,height:u},f)},v),uD.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},zve=function(){function e(t,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function jve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uve(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Vve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var aB=function(e){Vve(t,e);function t(r){jve(this,t);var n=Uve(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.toggleViews=function(){n.state.view==="hex"?n.setState({view:"rgb"}):n.state.view==="rgb"?n.setState({view:"hsl"}):n.state.view==="hsl"&&(n.props.hsl.a===1?n.setState({view:"hex"}):n.setState({view:"rgb"}))},n.handleChange=function(o,s){o.hex?Gf(o.hex)&&n.props.onChange({hex:o.hex,source:"hex"},s):o.r||o.g||o.b?n.props.onChange({r:o.r||n.props.rgb.r,g:o.g||n.props.rgb.g,b:o.b||n.props.rgb.b,source:"rgb"},s):o.a?(o.a<0?o.a=0:o.a>1&&(o.a=1),n.props.onChange({h:n.props.hsl.h,s:n.props.hsl.s,l:n.props.hsl.l,a:Math.round(o.a*100)/100,source:"rgb"},s)):(o.h||o.s||o.l)&&(typeof o.s=="string"&&o.s.includes("%")&&(o.s=o.s.replace("%","")),typeof o.l=="string"&&o.l.includes("%")&&(o.l=o.l.replace("%","")),o.s==1?o.s=.01:o.l==1&&(o.l=.01),n.props.onChange({h:o.h||n.props.hsl.h,s:Number(sD(o.s)?n.props.hsl.s:o.s),l:Number(sD(o.l)?n.props.hsl.l:o.l),source:"hsl"},s))},n.showHighlight=function(o){o.currentTarget.style.background="#eee"},n.hideHighlight=function(o){o.currentTarget.style.background="transparent"},r.hsl.a!==1&&r.view==="hex"?n.state={view:"rgb"}:n.state={view:r.view},n}return zve(t,[{key:"render",value:function(){var n=this,o=Tn({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),s=void 0;return this.state.view==="hex"?s=ve.createElement("div",{style:o.fields,className:"flexbox-fix"},ve.createElement("div",{style:o.field},ve.createElement(Jn,{style:{input:o.input,label:o.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?s=ve.createElement("div",{style:o.fields,className:"flexbox-fix"},ve.createElement("div",{style:o.field},ve.createElement(Jn,{style:{input:o.input,label:o.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),ve.createElement("div",{style:o.field},ve.createElement(Jn,{style:{input:o.input,label:o.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),ve.createElement("div",{style:o.field},ve.createElement(Jn,{style:{input:o.input,label:o.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),ve.createElement("div",{style:o.alpha},ve.createElement(Jn,{style:{input:o.input,label:o.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(s=ve.createElement("div",{style:o.fields,className:"flexbox-fix"},ve.createElement("div",{style:o.field},ve.createElement(Jn,{style:{input:o.input,label:o.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),ve.createElement("div",{style:o.field},ve.createElement(Jn,{style:{input:o.input,label:o.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),ve.createElement("div",{style:o.field},ve.createElement(Jn,{style:{input:o.input,label:o.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),ve.createElement("div",{style:o.alpha},ve.createElement(Jn,{style:{input:o.input,label:o.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),ve.createElement("div",{style:o.wrap,className:"flexbox-fix"},s,ve.createElement("div",{style:o.toggle},ve.createElement("div",{style:o.icon,onClick:this.toggleViews,ref:function(l){return n.icon=l}},ve.createElement(Bve,{style:o.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(n,o){return n.hsl.a!==1&&o.view==="hex"?{view:"rgb"}:null}}]),t}(ve.Component);aB.defaultProps={view:"hex"};var cD=function(){var t=Tn({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return ve.createElement("div",{style:t.picker})},qve=function(){var t=Tn({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return ve.createElement("div",{style:t.picker})},aT=function(t){var r=t.width,n=t.onChange,o=t.disableAlpha,s=t.rgb,u=t.hsl,l=t.hsv,f=t.hex,v=t.renderers,x=t.styles,w=x===void 0?{}:x,C=t.className,P=C===void 0?"":C,O=t.defaultView,I=Tn(Vl({default:{picker:{width:r,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+s.r+", "+s.g+", "+s.b+", "+s.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},w),{disableAlpha:o});return ve.createElement("div",{style:I.picker,className:"chrome-picker "+P},ve.createElement("div",{style:I.saturation},ve.createElement(Gw,{style:I.Saturation,hsl:u,hsv:l,pointer:qve,onChange:n})),ve.createElement("div",{style:I.body},ve.createElement("div",{style:I.controls,className:"flexbox-fix"},ve.createElement("div",{style:I.color},ve.createElement("div",{style:I.swatch},ve.createElement("div",{style:I.active}),ve.createElement(ty,{renderers:v}))),ve.createElement("div",{style:I.toggles},ve.createElement("div",{style:I.hue},ve.createElement(ry,{style:I.Hue,hsl:u,pointer:cD,onChange:n})),ve.createElement("div",{style:I.alpha},ve.createElement(G4,{style:I.Alpha,rgb:s,hsl:u,pointer:cD,renderers:v,onChange:n})))),ve.createElement(aB,{rgb:s,hsl:u,hex:f,view:O,onChange:n,disableAlpha:o})))};aT.propTypes={width:er.oneOfType([er.string,er.number]),disableAlpha:er.bool,styles:er.object,defaultView:er.oneOf(["hex","rgb","hsl"])};aT.defaultProps={width:225,disableAlpha:!1,styles:{}};const Hve=ql(aT);var Gve=function(t){var r=t.color,n=t.onClick,o=n===void 0?function(){}:n,s=t.onSwatchHover,u=t.active,l=Tn({default:{color:{background:r,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:eT(r),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:u,"color-#FFFFFF":r==="#FFFFFF",transparent:r==="transparent"});return ve.createElement(hm,{style:l.color,color:r,onClick:o,onHover:s,focusStyle:{boxShadow:"0 0 4px "+r}},ve.createElement("div",{style:l.dot}))},Wve=function(t){var r=t.hex,n=t.rgb,o=t.onChange,s=Tn({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:r},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),u=function(f,v){f.r||f.g||f.b?o({r:f.r||n.r,g:f.g||n.g,b:f.b||n.b,source:"rgb"},v):o({hex:f.hex,source:"hex"},v)};return ve.createElement("div",{style:s.fields,className:"flexbox-fix"},ve.createElement("div",{style:s.active}),ve.createElement(Jn,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:r,onChange:u}),ve.createElement(Jn,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:n.r,onChange:u}),ve.createElement(Jn,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:n.g,onChange:u}),ve.createElement(Jn,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:n.b,onChange:u}))},sT=function(t){var r=t.onChange,n=t.onSwatchHover,o=t.colors,s=t.hex,u=t.rgb,l=t.styles,f=l===void 0?{}:l,v=t.className,x=v===void 0?"":v,w=Tn(Vl({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},f)),C=function(O,I){O.hex?Gf(O.hex)&&r({hex:O.hex,source:"hex"},I):r(O,I)};return ve.createElement(c2,{style:w.Compact,styles:f},ve.createElement("div",{style:w.compact,className:"compact-picker "+x},ve.createElement("div",null,dm(o,function(P){return ve.createElement(Gve,{key:P,color:P,active:P.toLowerCase()===s,onClick:C,onSwatchHover:n})}),ve.createElement("div",{style:w.clear})),ve.createElement(Wve,{hex:s,rgb:u,onChange:C})))};sT.propTypes={colors:er.arrayOf(er.string),styles:er.object};sT.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};ql(sT);var Xve=function(t){var r=t.hover,n=t.color,o=t.onClick,s=t.onSwatchHover,u={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},l=Tn({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:u}},{hover:r});return ve.createElement("div",{style:l.swatch},ve.createElement(hm,{color:n,onClick:o,onHover:s,focusStyle:u}))};const Kve=H4(Xve);var lT=function(t){var r=t.width,n=t.colors,o=t.onChange,s=t.onSwatchHover,u=t.triangle,l=t.styles,f=l===void 0?{}:l,v=t.className,x=v===void 0?"":v,w=Tn(Vl({default:{card:{width:r,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},f),{"hide-triangle":u==="hide","top-left-triangle":u==="top-left","top-right-triangle":u==="top-right","bottom-left-triangle":u==="bottom-left","bottom-right-triangle":u==="bottom-right"}),C=function(O,I){return o({hex:O,source:"hex"},I)};return ve.createElement("div",{style:w.card,className:"github-picker "+x},ve.createElement("div",{style:w.triangleShadow}),ve.createElement("div",{style:w.triangle}),dm(n,function(P){return ve.createElement(Kve,{color:P,key:P,onClick:C,onSwatchHover:s})}))};lT.propTypes={width:er.oneOfType([er.string,er.number]),colors:er.arrayOf(er.string),triangle:er.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:er.object};lT.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};ql(lT);var Zve=function(t){var r=t.direction,n=Tn({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:r==="vertical"});return ve.createElement("div",{style:n.picker})},Yve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uT=function(t){var r=t.width,n=t.height,o=t.onChange,s=t.hsl,u=t.direction,l=t.pointer,f=t.styles,v=f===void 0?{}:f,x=t.className,w=x===void 0?"":x,C=Tn(Vl({default:{picker:{position:"relative",width:r,height:n},hue:{radius:"2px"}}},v)),P=function(I){return o({a:1,h:I.h,l:.5,s:1})};return ve.createElement("div",{style:C.picker,className:"hue-picker "+w},ve.createElement(ry,Yve({},C.hue,{hsl:s,pointer:l,onChange:P,direction:u})))};uT.propTypes={styles:er.object};uT.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:Zve,styles:{}};ql(uT);var Jve=function(t){var r=t.onChange,n=t.hex,o=t.rgb,s=t.styles,u=s===void 0?{}:s,l=t.className,f=l===void 0?"":l,v=Tn(Vl({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},u)),x=function(C,P){C.hex?Gf(C.hex)&&r({hex:C.hex,source:"hex"},P):(C.r||C.g||C.b)&&r({r:C.r||o.r,g:C.g||o.g,b:C.b||o.b,source:"rgb"},P)};return ve.createElement(c2,{styles:u},ve.createElement("div",{style:v.material,className:"material-picker "+f},ve.createElement(Jn,{style:{wrap:v.HEXwrap,input:v.HEXinput,label:v.HEXlabel},label:"hex",value:n,onChange:x}),ve.createElement("div",{style:v.split,className:"flexbox-fix"},ve.createElement("div",{style:v.third},ve.createElement(Jn,{style:{wrap:v.RGBwrap,input:v.RGBinput,label:v.RGBlabel},label:"r",value:o.r,onChange:x})),ve.createElement("div",{style:v.third},ve.createElement(Jn,{style:{wrap:v.RGBwrap,input:v.RGBinput,label:v.RGBlabel},label:"g",value:o.g,onChange:x})),ve.createElement("div",{style:v.third},ve.createElement(Jn,{style:{wrap:v.RGBwrap,input:v.RGBinput,label:v.RGBlabel},label:"b",value:o.b,onChange:x})))))};ql(Jve);var Qve=function(t){var r=t.onChange,n=t.rgb,o=t.hsv,s=t.hex,u=Tn({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),l=function(v,x){v["#"]?Gf(v["#"])&&r({hex:v["#"],source:"hex"},x):v.r||v.g||v.b?r({r:v.r||n.r,g:v.g||n.g,b:v.b||n.b,source:"rgb"},x):(v.h||v.s||v.v)&&r({h:v.h||o.h,s:v.s||o.s,v:v.v||o.v,source:"hsv"},x)};return ve.createElement("div",{style:u.fields},ve.createElement(Jn,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"h",value:Math.round(o.h),onChange:l}),ve.createElement(Jn,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"s",value:Math.round(o.s*100),onChange:l}),ve.createElement(Jn,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"v",value:Math.round(o.v*100),onChange:l}),ve.createElement("div",{style:u.divider}),ve.createElement(Jn,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:n.r,onChange:l}),ve.createElement(Jn,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:n.g,onChange:l}),ve.createElement(Jn,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:n.b,onChange:l}),ve.createElement("div",{style:u.divider}),ve.createElement(Jn,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"#",value:s.replace("#",""),onChange:l}),ve.createElement("div",{style:u.fieldSymbols},ve.createElement("div",{style:u.symbol},""),ve.createElement("div",{style:u.symbol},"%"),ve.createElement("div",{style:u.symbol},"%")))},e2e=function(t){var r=t.hsl,n=Tn({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":r.l>.5});return ve.createElement("div",{style:n.picker})},t2e=function(){var t=Tn({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return ve.createElement("div",{style:t.pointer},ve.createElement("div",{style:t.left},ve.createElement("div",{style:t.leftInside})),ve.createElement("div",{style:t.right},ve.createElement("div",{style:t.rightInside})))},hD=function(t){var r=t.onClick,n=t.label,o=t.children,s=t.active,u=Tn({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:s});return ve.createElement("div",{style:u.button,onClick:r},n||o)},r2e=function(t){var r=t.rgb,n=t.currentColor,o=Tn({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+r.r+","+r.g+", "+r.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return ve.createElement("div",null,ve.createElement("div",{style:o.label},"new"),ve.createElement("div",{style:o.swatches},ve.createElement("div",{style:o.new}),ve.createElement("div",{style:o.current})),ve.createElement("div",{style:o.label},"current"))},n2e=function(){function e(t,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function i2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o2e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function a2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var cT=function(e){a2e(t,e);function t(r){i2e(this,t);var n=o2e(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={currentColor:r.hex},n}return n2e(t,[{key:"render",value:function(){var n=this.props,o=n.styles,s=o===void 0?{}:o,u=n.className,l=u===void 0?"":u,f=Tn(Vl({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},s));return ve.createElement("div",{style:f.picker,className:"photoshop-picker "+l},ve.createElement("div",{style:f.head},this.props.header),ve.createElement("div",{style:f.body,className:"flexbox-fix"},ve.createElement("div",{style:f.saturation},ve.createElement(Gw,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:e2e,onChange:this.props.onChange})),ve.createElement("div",{style:f.hue},ve.createElement(ry,{direction:"vertical",hsl:this.props.hsl,pointer:t2e,onChange:this.props.onChange})),ve.createElement("div",{style:f.controls},ve.createElement("div",{style:f.top,className:"flexbox-fix"},ve.createElement("div",{style:f.previews},ve.createElement(r2e,{rgb:this.props.rgb,currentColor:this.state.currentColor})),ve.createElement("div",{style:f.actions},ve.createElement(hD,{label:"OK",onClick:this.props.onAccept,active:!0}),ve.createElement(hD,{label:"Cancel",onClick:this.props.onCancel}),ve.createElement(Qve,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(ve.Component);cT.propTypes={header:er.string,styles:er.object};cT.defaultProps={header:"Color Picker",styles:{}};ql(cT);var s2e=function(t){var r=t.onChange,n=t.rgb,o=t.hsl,s=t.hex,u=t.disableAlpha,l=Tn({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:u}),f=function(x,w){x.hex?Gf(x.hex)&&r({hex:x.hex,source:"hex"},w):x.r||x.g||x.b?r({r:x.r||n.r,g:x.g||n.g,b:x.b||n.b,a:n.a,source:"rgb"},w):x.a&&(x.a<0?x.a=0:x.a>100&&(x.a=100),x.a/=100,r({h:o.h,s:o.s,l:o.l,a:x.a,source:"rgb"},w))};return ve.createElement("div",{style:l.fields,className:"flexbox-fix"},ve.createElement("div",{style:l.double},ve.createElement(Jn,{style:{input:l.input,label:l.label},label:"hex",value:s.replace("#",""),onChange:f})),ve.createElement("div",{style:l.single},ve.createElement(Jn,{style:{input:l.input,label:l.label},label:"r",value:n.r,onChange:f,dragLabel:"true",dragMax:"255"})),ve.createElement("div",{style:l.single},ve.createElement(Jn,{style:{input:l.input,label:l.label},label:"g",value:n.g,onChange:f,dragLabel:"true",dragMax:"255"})),ve.createElement("div",{style:l.single},ve.createElement(Jn,{style:{input:l.input,label:l.label},label:"b",value:n.b,onChange:f,dragLabel:"true",dragMax:"255"})),ve.createElement("div",{style:l.alpha},ve.createElement(Jn,{style:{input:l.input,label:l.label},label:"a",value:Math.round(n.a*100),onChange:f,dragLabel:"true",dragMax:"100"})))},l2e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sB=function(t){var r=t.colors,n=t.onClick,o=n===void 0?function(){}:n,s=t.onSwatchHover,u=Tn({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!r||!r.length}),l=function(v,x){o({hex:v,source:"hex"},x)};return ve.createElement("div",{style:u.colors,className:"flexbox-fix"},r.map(function(f){var v=typeof f=="string"?{color:f}:f,x=""+v.color+(v.title||"");return ve.createElement("div",{key:x,style:u.swatchWrap},ve.createElement(hm,l2e({},v,{style:u.swatch,onClick:l,onHover:s,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+v.color}})))}))};sB.propTypes={colors:er.arrayOf(er.oneOfType([er.string,er.shape({color:er.string,title:er.string})])).isRequired};var u2e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hT=function(t){var r=t.width,n=t.rgb,o=t.hex,s=t.hsv,u=t.hsl,l=t.onChange,f=t.onSwatchHover,v=t.disableAlpha,x=t.presetColors,w=t.renderers,C=t.styles,P=C===void 0?{}:C,O=t.className,I=O===void 0?"":O,z=Tn(Vl({default:u2e({picker:{width:r,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},P),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},P),{disableAlpha:v});return ve.createElement("div",{style:z.picker,className:"sketch-picker "+I},ve.createElement("div",{style:z.saturation},ve.createElement(Gw,{style:z.Saturation,hsl:u,hsv:s,onChange:l})),ve.createElement("div",{style:z.controls,className:"flexbox-fix"},ve.createElement("div",{style:z.sliders},ve.createElement("div",{style:z.hue},ve.createElement(ry,{style:z.Hue,hsl:u,onChange:l})),ve.createElement("div",{style:z.alpha},ve.createElement(G4,{style:z.Alpha,rgb:n,hsl:u,renderers:w,onChange:l}))),ve.createElement("div",{style:z.color},ve.createElement(ty,null),ve.createElement("div",{style:z.activeColor}))),ve.createElement(s2e,{rgb:n,hsl:u,hex:o,onChange:l,disableAlpha:v}),ve.createElement(sB,{colors:x,onClick:l,onSwatchHover:f}))};hT.propTypes={disableAlpha:er.bool,width:er.oneOfType([er.string,er.number]),styles:er.object};hT.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};ql(hT);var e1=function(t){var r=t.hsl,n=t.offset,o=t.onClick,s=o===void 0?function(){}:o,u=t.active,l=t.first,f=t.last,v=Tn({default:{swatch:{height:"12px",background:"hsl("+r.h+", 50%, "+n*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:u,first:l,last:f}),x=function(C){return s({h:r.h,s:.5,l:n,source:"hsl"},C)};return ve.createElement("div",{style:v.swatch,onClick:x})},c2e=function(t){var r=t.onClick,n=t.hsl,o=Tn({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),s=.1;return ve.createElement("div",{style:o.swatches},ve.createElement("div",{style:o.swatch},ve.createElement(e1,{hsl:n,offset:".80",active:Math.abs(n.l-.8)<s&&Math.abs(n.s-.5)<s,onClick:r,first:!0})),ve.createElement("div",{style:o.swatch},ve.createElement(e1,{hsl:n,offset:".65",active:Math.abs(n.l-.65)<s&&Math.abs(n.s-.5)<s,onClick:r})),ve.createElement("div",{style:o.swatch},ve.createElement(e1,{hsl:n,offset:".50",active:Math.abs(n.l-.5)<s&&Math.abs(n.s-.5)<s,onClick:r})),ve.createElement("div",{style:o.swatch},ve.createElement(e1,{hsl:n,offset:".35",active:Math.abs(n.l-.35)<s&&Math.abs(n.s-.5)<s,onClick:r})),ve.createElement("div",{style:o.swatch},ve.createElement(e1,{hsl:n,offset:".20",active:Math.abs(n.l-.2)<s&&Math.abs(n.s-.5)<s,onClick:r,last:!0})),ve.createElement("div",{style:o.clear}))},h2e=function(){var t=Tn({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return ve.createElement("div",{style:t.picker})},dT=function(t){var r=t.hsl,n=t.onChange,o=t.pointer,s=t.styles,u=s===void 0?{}:s,l=t.className,f=l===void 0?"":l,v=Tn(Vl({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},u));return ve.createElement("div",{style:v.wrap||{},className:"slider-picker "+f},ve.createElement("div",{style:v.hue},ve.createElement(ry,{style:v.Hue,hsl:r,pointer:o,onChange:n})),ve.createElement("div",{style:v.swatches},ve.createElement(c2e,{hsl:r,onClick:n})))};dT.propTypes={styles:er.object};dT.defaultProps={pointer:h2e,styles:{}};ql(dT);var lB={};Object.defineProperty(lB,"__esModule",{value:!0});var dD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d2e=Q,fD=f2e(d2e);function f2e(e){return e&&e.__esModule?e:{default:e}}function p2e(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var wb=24,m2e=lB.default=function(e){var t=e.fill,r=t===void 0?"currentColor":t,n=e.width,o=n===void 0?wb:n,s=e.height,u=s===void 0?wb:s,l=e.style,f=l===void 0?{}:l,v=p2e(e,["fill","width","height","style"]);return fD.default.createElement("svg",dD({viewBox:"0 0 "+wb+" "+wb,style:dD({fill:r,width:o,height:u},f)},v),fD.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},g2e=function(t){var r=t.color,n=t.onClick,o=n===void 0?function(){}:n,s=t.onSwatchHover,u=t.first,l=t.last,f=t.active,v=Tn({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:r,marginBottom:"1px"},check:{color:eT(r),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:u,last:l,active:f,"color-#FFFFFF":r==="#FFFFFF",transparent:r==="transparent"});return ve.createElement(hm,{color:r,style:v.color,onClick:o,onHover:s,focusStyle:{boxShadow:"0 0 4px "+r}},ve.createElement("div",{style:v.check},ve.createElement(m2e,null)))},y2e=function(t){var r=t.onClick,n=t.onSwatchHover,o=t.group,s=t.active,u=Tn({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return ve.createElement("div",{style:u.group},dm(o,function(l,f){return ve.createElement(g2e,{key:l,color:l,active:l.toLowerCase()===s,first:f===0,last:f===o.length-1,onClick:r,onSwatchHover:n})}))},fT=function(t){var r=t.width,n=t.height,o=t.onChange,s=t.onSwatchHover,u=t.colors,l=t.hex,f=t.styles,v=f===void 0?{}:f,x=t.className,w=x===void 0?"":x,C=Tn(Vl({default:{picker:{width:r,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},v)),P=function(I,z){return o({hex:I,source:"hex"},z)};return ve.createElement("div",{style:C.picker,className:"swatches-picker "+w},ve.createElement(c2,null,ve.createElement("div",{style:C.overflow},ve.createElement("div",{style:C.body},dm(u,function(O){return ve.createElement(y2e,{key:O.toString(),group:O,active:l,onClick:P,onSwatchHover:s})}),ve.createElement("div",{style:C.clear})))))};fT.propTypes={width:er.oneOfType([er.string,er.number]),height:er.oneOfType([er.string,er.number]),colors:er.arrayOf(er.arrayOf(er.string)),styles:er.object};fT.defaultProps={width:320,height:240,colors:[[u0[900],u0[700],u0[500],u0[300],u0[100]],[c0[900],c0[700],c0[500],c0[300],c0[100]],[h0[900],h0[700],h0[500],h0[300],h0[100]],[d0[900],d0[700],d0[500],d0[300],d0[100]],[f0[900],f0[700],f0[500],f0[300],f0[100]],[p0[900],p0[700],p0[500],p0[300],p0[100]],[m0[900],m0[700],m0[500],m0[300],m0[100]],[g0[900],g0[700],g0[500],g0[300],g0[100]],[y0[900],y0[700],y0[500],y0[300],y0[100]],["#194D33",p1[700],p1[500],p1[300],p1[100]],[v0[900],v0[700],v0[500],v0[300],v0[100]],[b0[900],b0[700],b0[500],b0[300],b0[100]],[_0[900],_0[700],_0[500],_0[300],_0[100]],[x0[900],x0[700],x0[500],x0[300],x0[100]],[w0[900],w0[700],w0[500],w0[300],w0[100]],[S0[900],S0[700],S0[500],S0[300],S0[100]],[C0[900],C0[700],C0[500],C0[300],C0[100]],[A0[900],A0[700],A0[500],A0[300],A0[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};ql(fT);var pT=function(t){var r=t.onChange,n=t.onSwatchHover,o=t.hex,s=t.colors,u=t.width,l=t.triangle,f=t.styles,v=f===void 0?{}:f,x=t.className,w=x===void 0?"":x,C=Tn(Vl({default:{card:{width:u,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},v),{"hide-triangle":l==="hide","top-left-triangle":l==="top-left","top-right-triangle":l==="top-right"}),P=function(I,z){Gf(I)&&r({hex:I,source:"hex"},z)};return ve.createElement("div",{style:C.card,className:"twitter-picker "+w},ve.createElement("div",{style:C.triangleShadow}),ve.createElement("div",{style:C.triangle}),ve.createElement("div",{style:C.body},dm(s,function(O,I){return ve.createElement(hm,{key:I,color:O,hex:O,style:C.swatch,onClick:P,onHover:n,focusStyle:{boxShadow:"0 0 4px "+O}})}),ve.createElement("div",{style:C.hash},"#"),ve.createElement(Jn,{label:null,style:{input:C.input},value:o.replace("#",""),onChange:P}),ve.createElement("div",{style:C.clear})))};pT.propTypes={width:er.oneOfType([er.string,er.number]),triangle:er.oneOf(["hide","top-left","top-right"]),colors:er.arrayOf(er.string),styles:er.object};pT.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};ql(pT);var mT=function(t){var r=Tn({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(t.hsl.h)+", "+Math.round(t.hsl.s*100)+"%, "+Math.round(t.hsl.l*100)+"%)"}}});return ve.createElement("div",{style:r.picker})};mT.propTypes={hsl:er.shape({h:er.number,s:er.number,l:er.number,a:er.number})};mT.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var gT=function(t){var r=Tn({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(t.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return ve.createElement("div",{style:r.picker})};gT.propTypes={hsl:er.shape({h:er.number,s:er.number,l:er.number,a:er.number})};gT.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var v2e=function(t){var r=t.onChange,n=t.rgb,o=t.hsl,s=t.hex,u=t.hsv,l=function(P,O){if(P.hex)Gf(P.hex)&&r({hex:P.hex,source:"hex"},O);else if(P.rgb){var I=P.rgb.split(",");a3(P.rgb,"rgb")&&r({r:I[0],g:I[1],b:I[2],a:1,source:"rgb"},O)}else if(P.hsv){var z=P.hsv.split(",");a3(P.hsv,"hsv")&&(z[2]=z[2].replace("%",""),z[1]=z[1].replace("%",""),z[0]=z[0].replace("",""),z[1]==1?z[1]=.01:z[2]==1&&(z[2]=.01),r({h:Number(z[0]),s:Number(z[1]),v:Number(z[2]),source:"hsv"},O))}else if(P.hsl){var N=P.hsl.split(",");a3(P.hsl,"hsl")&&(N[2]=N[2].replace("%",""),N[1]=N[1].replace("%",""),N[0]=N[0].replace("",""),w[1]==1?w[1]=.01:w[2]==1&&(w[2]=.01),r({h:Number(N[0]),s:Number(N[1]),v:Number(N[2]),source:"hsl"},O))}},f=Tn({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),v=n.r+", "+n.g+", "+n.b,x=Math.round(o.h)+", "+Math.round(o.s*100)+"%, "+Math.round(o.l*100)+"%",w=Math.round(u.h)+", "+Math.round(u.s*100)+"%, "+Math.round(u.v*100)+"%";return ve.createElement("div",{style:f.wrap,className:"flexbox-fix"},ve.createElement("div",{style:f.fields},ve.createElement("div",{style:f.double},ve.createElement(Jn,{style:{input:f.input,label:f.label},label:"hex",value:s,onChange:l})),ve.createElement("div",{style:f.column},ve.createElement("div",{style:f.single},ve.createElement(Jn,{style:{input:f.input2,label:f.label2},label:"rgb",value:v,onChange:l})),ve.createElement("div",{style:f.single},ve.createElement(Jn,{style:{input:f.input2,label:f.label2},label:"hsv",value:w,onChange:l})),ve.createElement("div",{style:f.single},ve.createElement(Jn,{style:{input:f.input2,label:f.label2},label:"hsl",value:x,onChange:l})))))},yT=function(t){var r=t.width,n=t.onChange,o=t.rgb,s=t.hsl,u=t.hsv,l=t.hex,f=t.header,v=t.styles,x=v===void 0?{}:v,w=t.className,C=w===void 0?"":w,P=Tn(Vl({default:{picker:{width:r,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+o.r+", "+o.g+", "+o.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},x));return ve.createElement("div",{style:P.picker,className:"google-picker "+C},ve.createElement("div",{style:P.head},f),ve.createElement("div",{style:P.swatch}),ve.createElement("div",{style:P.saturation},ve.createElement(Gw,{hsl:s,hsv:u,pointer:mT,onChange:n})),ve.createElement("div",{style:P.body},ve.createElement("div",{style:P.controls,className:"flexbox-fix"},ve.createElement("div",{style:P.hue},ve.createElement(ry,{style:P.Hue,hsl:s,radius:"4px",pointer:gT,onChange:n}))),ve.createElement(v2e,{rgb:o,hsl:s,hex:l,hsv:u,onChange:n})))};yT.propTypes={width:er.oneOfType([er.string,er.number]),styles:er.object,header:er.string};yT.defaultProps={width:652,styles:{},header:"Color picker"};ql(yT);var vT={},b2e=Fd;Object.defineProperty(vT,"__esModule",{value:!0});var uB=vT.default=void 0,_2e=b2e($d()),x2e=ut;uB=vT.default=(0,_2e.default)((0,x2e.jsx)("path",{d:"M3 17v2h6v-2zM3 5v2h10V5zm10 16v-2h8v-2h-8v-2h-2v6zM7 9v2H3v2h4v2h2V9zm14 4v-2H11v2zm-6-4h2V7h4V5h-4V3h-2z"}),"Tune");function w2e(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Q.useMemo(()=>n=>{t.forEach(o=>o(n))},t)}const S2e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function C2e(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function A2e(e){return"nodeType"in e}function cB(e){var t,r;return e?C2e(e)?e:A2e(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}const h2=S2e?Q.useLayoutEffect:Q.useEffect;function hB(e){const t=Q.useRef(e);return h2(()=>{t.current=e}),Q.useCallback(function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t.current==null?void 0:t.current(...n)},[])}function JC(e,t){t===void 0&&(t=[e]);const r=Q.useRef(e);return h2(()=>{r.current!==e&&(r.current=e)},t),r}function QC(e){const t=hB(e),r=Q.useRef(null),n=Q.useCallback(o=>{o!==r.current&&(t==null||t(o,r.current)),r.current=o},[]);return[r,n]}let l3={};function dB(e,t){return Q.useMemo(()=>{const r=l3[e]==null?0:l3[e]+1;return l3[e]=r,e+"-"+r},[e,t])}function E2e(e){if(!e)return!1;const{KeyboardEvent:t}=cB(e.target);return t&&e instanceof t}const Sv=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[Sv.Translate.toString(e),Sv.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}});var j1;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(j1||(j1={}));function pD(){}const T2e=Object.freeze({x:0,y:0});function P2e(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function k2e(e,t,r){const n=P2e(t);if(!n)return e;const{scaleX:o,scaleY:s,x:u,y:l}=n,f=e.left-u-(1-o)*parseFloat(r),v=e.top-l-(1-s)*parseFloat(r.slice(r.indexOf(" ")+1)),x=o?e.width/o:e.width,w=s?e.height/s:e.height;return{width:x,height:w,top:v,right:f+x,bottom:v+w,left:f}}const I2e={ignoreTransform:!1};function bT(e,t){t===void 0&&(t=I2e);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:v,transformOrigin:x}=cB(e).getComputedStyle(e);v&&(r=k2e(r,v,x))}const{top:n,left:o,width:s,height:u,bottom:l,right:f}=r;return{top:n,left:o,width:s,height:u,bottom:l,right:f}}function mD(e){return bT(e,{ignoreTransform:!0})}var z0;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(z0||(z0={}));var gD;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(gD||(gD={}));var Rc;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"})(Rc||(Rc={}));Rc.Space,Rc.Enter,Rc.Esc,Rc.Space,Rc.Enter;var yD;(function(e){e[e.RightClick=2]="RightClick"})(yD||(yD={}));var vD;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(vD||(vD={}));var bD;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(bD||(bD={}));z0.Backward+"",z0.Forward+"",z0.Backward+"",z0.Forward+"";var eA;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(eA||(eA={}));var tA;(function(e){e.Optimized="optimized"})(tA||(tA={}));function L2e(e){let{callback:t,disabled:r}=e;const n=hB(t),o=Q.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(n)},[r]);return Q.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function M2e(e,t){return Q.useMemo(()=>e.reduce((r,n)=>{let{eventName:o,handler:s}=n;return r[o]=u=>{s(u,t)},r},{}),[e,t])}eA.WhileDragging,tA.Optimized;const D2e={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:pD,draggableNodes:new Map,over:null,measureDroppableContainers:pD},fB=Q.createContext(D2e),R2e=Q.createContext({...T2e,scaleX:1,scaleY:1});var _D;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(_D||(_D={}));const O2e=Q.createContext(null),xD="button",N2e="Droppable";function F2e(e){let{id:t,data:r,disabled:n=!1,attributes:o}=e;const s=dB(N2e),{activators:u,activatorEvent:l,active:f,activeNodeRect:v,ariaDescribedById:x,draggableNodes:w,over:C}=Q.useContext(fB),{role:P=xD,roleDescription:O="draggable",tabIndex:I=0}=o??{},z=(f==null?void 0:f.id)===t,N=Q.useContext(z?R2e:O2e),[j,V]=QC(),[W,re]=QC(),ie=M2e(u,t),J=JC(r);h2(()=>(w.set(t,{id:t,key:s,node:j,activatorNode:W,data:J}),()=>{const Ae=w.get(t);Ae&&Ae.key===s&&w.delete(t)}),[w,t]);const ne=Q.useMemo(()=>({role:P,tabIndex:I,"aria-disabled":n,"aria-pressed":z&&P===xD?!0:void 0,"aria-roledescription":O,"aria-describedby":x.draggable}),[n,P,I,z,O,x.draggable]);return{active:f,activatorEvent:l,activeNodeRect:v,attributes:ne,isDragging:z,listeners:n?void 0:ie,node:j,over:C,setNodeRef:V,setActivatorNodeRef:re,transform:N}}const $2e="Droppable",B2e={timeout:25};function z2e(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:o}=e;const s=dB($2e),{active:u,dispatch:l,over:f,measureDroppableContainers:v}=Q.useContext(fB),x=Q.useRef({disabled:r}),w=Q.useRef(!1),C=Q.useRef(null),P=Q.useRef(null),{disabled:O,updateMeasurementsFor:I,timeout:z}={...B2e,...o},N=JC(I??n),j=Q.useCallback(()=>{if(!w.current){w.current=!0;return}P.current!=null&&clearTimeout(P.current),P.current=setTimeout(()=>{v(Array.isArray(N.current)?N.current:[N.current]),P.current=null},z)},[z]),V=L2e({callback:j,disabled:O||!u}),W=Q.useCallback((ne,Ae)=>{V&&(Ae&&(V.unobserve(Ae),w.current=!1),ne&&V.observe(ne))},[V]),[re,ie]=QC(W),J=JC(t);return Q.useEffect(()=>{!V||!re.current||(V.disconnect(),w.current=!1,V.observe(re.current))},[re,V]),h2(()=>(l({type:j1.RegisterDroppable,element:{id:n,key:s,disabled:r,node:re,rect:C,data:J}}),()=>l({type:j1.UnregisterDroppable,key:s,id:n})),[n]),Q.useEffect(()=>{r!==x.current.disabled&&(l({type:j1.SetDroppableDisabled,id:n,key:s,disabled:r}),x.current.disabled=r)},[n,s,r,l]),{active:u,rect:C,isOver:(f==null?void 0:f.id)===n,node:re,over:f,setNodeRef:ie}}function pB(e,t,r){const n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function Sb(e){return e!==null&&e>=0}const j2e=e=>{let{rects:t,activeIndex:r,overIndex:n,index:o}=e;const s=pB(t,n,r),u=t[o],l=s[o];return!l||!u?null:{x:l.left-u.left,y:l.top-u.top,scaleX:l.width/u.width,scaleY:l.height/u.height}},U2e="Sortable",V2e=ve.createContext({activeIndex:-1,containerId:U2e,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:j2e,disabled:{draggable:!1,droppable:!1}}),q2e=e=>{let{id:t,items:r,activeIndex:n,overIndex:o}=e;return pB(r,n,o).indexOf(t)},H2e=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:o,items:s,newIndex:u,previousItems:l,previousContainerId:f,transition:v}=e;return!v||!n||l!==s&&o===u?!1:r?!0:u!==o&&t===f},G2e={duration:200,easing:"ease"},mB="transform",W2e=Sv.Transition.toString({property:mB,duration:0,easing:"linear"}),X2e={roleDescription:"sortable"};function K2e(e){let{disabled:t,index:r,node:n,rect:o}=e;const[s,u]=Q.useState(null),l=Q.useRef(r);return h2(()=>{if(!t&&r!==l.current&&n.current){const f=o.current;if(f){const v=bT(n.current,{ignoreTransform:!0}),x={x:f.left-v.left,y:f.top-v.top,scaleX:f.width/v.width,scaleY:f.height/v.height};(x.x||x.y)&&u(x)}}r!==l.current&&(l.current=r)},[t,r,n,o]),Q.useEffect(()=>{s&&u(null)},[s]),s}function Z2e(e){let{animateLayoutChanges:t=H2e,attributes:r,disabled:n,data:o,getNewIndex:s=q2e,id:u,strategy:l,resizeObserverConfig:f,transition:v=G2e}=e;const{items:x,containerId:w,activeIndex:C,disabled:P,disableTransforms:O,sortedRects:I,overIndex:z,useDragOverlay:N,strategy:j}=Q.useContext(V2e),V=Y2e(n,P),W=x.indexOf(u),re=Q.useMemo(()=>({sortable:{containerId:w,index:W,items:x},...o}),[w,o,W,x]),ie=Q.useMemo(()=>x.slice(x.indexOf(u)),[x,u]),{rect:J,node:ne,isOver:Ae,setNodeRef:Z}=z2e({id:u,data:re,disabled:V.droppable,resizeObserverConfig:{updateMeasurementsFor:ie,...f}}),{active:X,activatorEvent:oe,activeNodeRect:be,attributes:ge,setNodeRef:De,listeners:Le,isDragging:je,over:xe,setActivatorNodeRef:Oe,transform:Ke}=F2e({id:u,data:re,attributes:{...X2e,...r},disabled:V.draggable}),ht=w2e(Z,De),le=!!X,me=le&&!O&&Sb(C)&&Sb(z),we=!N&&je,Ie=we&&me?Ke:null,tt=me?Ie??(l??j)({rects:I,activeNodeRect:be,activeIndex:C,overIndex:z,index:W}):null,Ue=Sb(C)&&Sb(z)?s({id:u,items:x,activeIndex:C,overIndex:z}):W,qe=X==null?void 0:X.id,lt=Q.useRef({activeId:qe,items:x,newIndex:Ue,containerId:w}),pt=x!==lt.current.items,Et=t({active:X,containerId:w,isDragging:je,isSorting:le,id:u,index:W,items:x,newIndex:lt.current.newIndex,previousItems:lt.current.items,previousContainerId:lt.current.containerId,transition:v,wasDragging:lt.current.activeId!=null}),St=K2e({disabled:!Et,index:W,node:ne,rect:J});return Q.useEffect(()=>{le&&lt.current.newIndex!==Ue&&(lt.current.newIndex=Ue),w!==lt.current.containerId&&(lt.current.containerId=w),x!==lt.current.items&&(lt.current.items=x)},[le,Ue,w,x]),Q.useEffect(()=>{if(qe===lt.current.activeId)return;if(qe&&!lt.current.activeId){lt.current.activeId=qe;return}const ct=setTimeout(()=>{lt.current.activeId=qe},50);return()=>clearTimeout(ct)},[qe]),{active:X,activeIndex:C,attributes:ge,data:re,rect:J,index:W,newIndex:Ue,items:x,isOver:Ae,isSorting:le,isDragging:je,listeners:Le,node:ne,overIndex:z,over:xe,setNodeRef:ht,setActivatorNodeRef:Oe,setDroppableNodeRef:Z,setDraggableNodeRef:De,transform:St??tt,transition:kt()};function kt(){if(St||pt&&lt.current.newIndex===W)return W2e;if(!(we&&!E2e(oe)||!v)&&(le||Et))return Sv.Transition.toString({...v,property:mB})}}function Y2e(e,t){var r,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e==null?void 0:e.draggable)!=null?r:t.draggable,droppable:(n=e==null?void 0:e.droppable)!=null?n:t.droppable}}Rc.Down,Rc.Right,Rc.Up,Rc.Left;var _T={},J2e=Fd;Object.defineProperty(_T,"__esModule",{value:!0});var gB=_T.default=void 0,Q2e=J2e($d()),ebe=ut;gB=_T.default=(0,Q2e.default)((0,ebe.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");var Ud={},Vd={};function tbe(e,t,r){if(r===void 0&&(r=Array.prototype),e&&typeof r.find=="function")return r.find.call(e,t);for(var n=0;n<e.length;n++)if(Object.prototype.hasOwnProperty.call(e,n)){var o=e[n];if(t.call(void 0,o,n,e))return o}}function xT(e,t){return t===void 0&&(t=Object),t&&typeof t.freeze=="function"?t.freeze(e):e}function rbe(e,t){if(e===null||typeof e!="object")throw new TypeError("target is not an object");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}var yB=xT({HTML:"text/html",isHTML:function(e){return e===yB.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),vB=xT({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===vB.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});Vd.assign=rbe;Vd.find=tbe;Vd.freeze=xT;Vd.MIME_TYPE=yB;Vd.NAMESPACE=vB;var bB=Vd,Fh=bB.find,Cv=bB.NAMESPACE;function nbe(e){return e!==""}function ibe(e){return e?e.split(/[\t\n\f\r ]+/).filter(nbe):[]}function obe(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function wD(e){if(!e)return[];var t=ibe(e);return Object.keys(t.reduce(obe,{}))}function abe(e){return function(t){return e&&e.indexOf(t)!==-1}}function d2(e,t){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}function Hl(e,t){var r=e.prototype;if(!(r instanceof t)){let n=function(){};n.prototype=t.prototype,n=new n,d2(r,n),e.prototype=r=n}r.constructor!=e&&(typeof e!="function"&&console.error("unknown Class:"+e),r.constructor=e)}var Gl={},zc=Gl.ELEMENT_NODE=1,Dg=Gl.ATTRIBUTE_NODE=2,Z_=Gl.TEXT_NODE=3,_B=Gl.CDATA_SECTION_NODE=4,xB=Gl.ENTITY_REFERENCE_NODE=5,sbe=Gl.ENTITY_NODE=6,wB=Gl.PROCESSING_INSTRUCTION_NODE=7,SB=Gl.COMMENT_NODE=8,CB=Gl.DOCUMENT_NODE=9,AB=Gl.DOCUMENT_TYPE_NODE=10,Id=Gl.DOCUMENT_FRAGMENT_NODE=11,lbe=Gl.NOTATION_NODE=12,Ws={},Ka={};Ws.INDEX_SIZE_ERR=(Ka[1]="Index size error",1);Ws.DOMSTRING_SIZE_ERR=(Ka[2]="DOMString size error",2);var Rl=Ws.HIERARCHY_REQUEST_ERR=(Ka[3]="Hierarchy request error",3);Ws.WRONG_DOCUMENT_ERR=(Ka[4]="Wrong document",4);Ws.INVALID_CHARACTER_ERR=(Ka[5]="Invalid character",5);Ws.NO_DATA_ALLOWED_ERR=(Ka[6]="No data allowed",6);Ws.NO_MODIFICATION_ALLOWED_ERR=(Ka[7]="No modification allowed",7);var EB=Ws.NOT_FOUND_ERR=(Ka[8]="Not found",8);Ws.NOT_SUPPORTED_ERR=(Ka[9]="Not supported",9);var SD=Ws.INUSE_ATTRIBUTE_ERR=(Ka[10]="Attribute in use",10);Ws.INVALID_STATE_ERR=(Ka[11]="Invalid state",11);Ws.SYNTAX_ERR=(Ka[12]="Syntax error",12);Ws.INVALID_MODIFICATION_ERR=(Ka[13]="Invalid modification",13);Ws.NAMESPACE_ERR=(Ka[14]="Invalid namespace",14);Ws.INVALID_ACCESS_ERR=(Ka[15]="Invalid access",15);function ia(e,t){if(t instanceof Error)var r=t;else r=this,Error.call(this,Ka[e]),this.message=Ka[e],Error.captureStackTrace&&Error.captureStackTrace(this,ia);return r.code=e,t&&(this.message=this.message+": "+t),r}ia.prototype=Error.prototype;d2(Ws,ia);function Cd(){}Cd.prototype={length:0,item:function(e){return e>=0&&e<this.length?this[e]:null},toString:function(e,t){for(var r=[],n=0;n<this.length;n++)j0(this[n],r,e,t);return r.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}};function Rg(e,t){this._node=e,this._refresh=t,wT(this)}function wT(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!==t){var r=e._refresh(e._node);if($B(e,"length",r.length),!e.$$length||r.length<e.$$length)for(var n=r.length;n in e;n++)Object.prototype.hasOwnProperty.call(e,n)&&delete e[n];d2(r,e),e._inc=t}}Rg.prototype.item=function(e){return wT(this),this[e]||null};Hl(Rg,Cd);function Y_(){}function TB(e,t){for(var r=e.length;r--;)if(e[r]===t)return r}function CD(e,t,r,n){if(n?t[TB(t,n)]=r:t[t.length++]=r,e){r.ownerElement=e;var o=e.ownerDocument;o&&(n&&IB(o,e,n),ube(o,e,r))}}function AD(e,t,r){var n=TB(t,r);if(n>=0){for(var o=t.length-1;n<o;)t[n]=t[++n];if(t.length=o,e){var s=e.ownerDocument;s&&(IB(s,e,r),r.ownerElement=null)}}else throw new ia(EB,new Error(e.tagName+"@"+r))}Y_.prototype={length:0,item:Cd.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var r=this[t];if(r.nodeName==e)return r}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new ia(SD);var r=this.getNamedItem(e.nodeName);return CD(this._ownerElement,this,e,r),r},setNamedItemNS:function(e){var t=e.ownerElement,r;if(t&&t!=this._ownerElement)throw new ia(SD);return r=this.getNamedItemNS(e.namespaceURI,e.localName),CD(this._ownerElement,this,e,r),r},removeNamedItem:function(e){var t=this.getNamedItem(e);return AD(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var r=this.getNamedItemNS(e,t);return AD(this._ownerElement,this,r),r},getNamedItemNS:function(e,t){for(var r=this.length;r--;){var n=this[r];if(n.localName==t&&n.namespaceURI==e)return n}return null}};function PB(){}PB.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,r){var n=new f2;if(n.implementation=this,n.childNodes=new Cd,n.doctype=r||null,r&&n.appendChild(r),t){var o=n.createElementNS(e,t);n.appendChild(o)}return n},createDocumentType:function(e,t,r){var n=new Kw;return n.name=e,n.nodeName=e,n.publicId=t||"",n.systemId=r||"",n}};function Ri(){}Ri.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return J_(this,e,t)},replaceChild:function(e,t){J_(this,e,t,MB),t&&this.removeChild(t)},removeChild:function(e){return LB(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(e){return rA(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==Z_&&e.nodeType==Z_?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var r=t._nsMap;if(r){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&r[n]===e)return n}t=t.nodeType==Dg?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var r=t._nsMap;if(r&&Object.prototype.hasOwnProperty.call(r,e))return r[e];t=t.nodeType==Dg?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){var t=this.lookupPrefix(e);return t==null}};function kB(e){return e=="<"&&"&lt;"||e==">"&&"&gt;"||e=="&"&&"&amp;"||e=='"'&&"&quot;"||"&#"+e.charCodeAt()+";"}d2(Gl,Ri);d2(Gl,Ri.prototype);function Av(e,t){if(t(e))return!0;if(e=e.firstChild)do if(Av(e,t))return!0;while(e=e.nextSibling)}function f2(){this.ownerDocument=this}function ube(e,t,r){e&&e._inc++;var n=r.namespaceURI;n===Cv.XMLNS&&(t._nsMap[r.prefix?r.localName:""]=r.value)}function IB(e,t,r,n){e&&e._inc++;var o=r.namespaceURI;o===Cv.XMLNS&&delete t._nsMap[r.prefix?r.localName:""]}function ST(e,t,r){if(e&&e._inc){e._inc++;var n=t.childNodes;if(r)n[n.length++]=r;else{for(var o=t.firstChild,s=0;o;)n[s++]=o,o=o.nextSibling;n.length=s,delete n[n.length]}}}function LB(e,t){var r=t.previousSibling,n=t.nextSibling;return r?r.nextSibling=n:e.firstChild=n,n?n.previousSibling=r:e.lastChild=r,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,ST(e.ownerDocument,e),t}function cbe(e){return e&&(e.nodeType===Ri.DOCUMENT_NODE||e.nodeType===Ri.DOCUMENT_FRAGMENT_NODE||e.nodeType===Ri.ELEMENT_NODE)}function hbe(e){return e&&($h(e)||CT(e)||Ld(e)||e.nodeType===Ri.DOCUMENT_FRAGMENT_NODE||e.nodeType===Ri.COMMENT_NODE||e.nodeType===Ri.PROCESSING_INSTRUCTION_NODE)}function Ld(e){return e&&e.nodeType===Ri.DOCUMENT_TYPE_NODE}function $h(e){return e&&e.nodeType===Ri.ELEMENT_NODE}function CT(e){return e&&e.nodeType===Ri.TEXT_NODE}function ED(e,t){var r=e.childNodes||[];if(Fh(r,$h)||Ld(t))return!1;var n=Fh(r,Ld);return!(t&&n&&r.indexOf(n)>r.indexOf(t))}function TD(e,t){var r=e.childNodes||[];function n(s){return $h(s)&&s!==t}if(Fh(r,n))return!1;var o=Fh(r,Ld);return!(t&&o&&r.indexOf(o)>r.indexOf(t))}function dbe(e,t,r){if(!cbe(e))throw new ia(Rl,"Unexpected parent node type "+e.nodeType);if(r&&r.parentNode!==e)throw new ia(EB,"child not in parent");if(!hbe(t)||Ld(t)&&e.nodeType!==Ri.DOCUMENT_NODE)throw new ia(Rl,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)}function fbe(e,t,r){var n=e.childNodes||[],o=t.childNodes||[];if(t.nodeType===Ri.DOCUMENT_FRAGMENT_NODE){var s=o.filter($h);if(s.length>1||Fh(o,CT))throw new ia(Rl,"More than one element or text in fragment");if(s.length===1&&!ED(e,r))throw new ia(Rl,"Element in fragment can not be inserted before doctype")}if($h(t)&&!ED(e,r))throw new ia(Rl,"Only one element can be added and only after doctype");if(Ld(t)){if(Fh(n,Ld))throw new ia(Rl,"Only one doctype is allowed");var u=Fh(n,$h);if(r&&n.indexOf(u)<n.indexOf(r))throw new ia(Rl,"Doctype can only be inserted before an element");if(!r&&u)throw new ia(Rl,"Doctype can not be appended since element is present")}}function MB(e,t,r){var n=e.childNodes||[],o=t.childNodes||[];if(t.nodeType===Ri.DOCUMENT_FRAGMENT_NODE){var s=o.filter($h);if(s.length>1||Fh(o,CT))throw new ia(Rl,"More than one element or text in fragment");if(s.length===1&&!TD(e,r))throw new ia(Rl,"Element in fragment can not be inserted before doctype")}if($h(t)&&!TD(e,r))throw new ia(Rl,"Only one element can be added and only after doctype");if(Ld(t)){if(Fh(n,function(f){return Ld(f)&&f!==r}))throw new ia(Rl,"Only one doctype is allowed");var u=Fh(n,$h);if(r&&n.indexOf(u)<n.indexOf(r))throw new ia(Rl,"Doctype can only be inserted before an element")}}function J_(e,t,r,n){dbe(e,t,r),e.nodeType===Ri.DOCUMENT_NODE&&(n||fbe)(e,t,r);var o=t.parentNode;if(o&&o.removeChild(t),t.nodeType===Id){var s=t.firstChild;if(s==null)return t;var u=t.lastChild}else s=u=t;var l=r?r.previousSibling:e.lastChild;s.previousSibling=l,u.nextSibling=r,l?l.nextSibling=s:e.firstChild=s,r==null?e.lastChild=u:r.previousSibling=u;do s.parentNode=e;while(s!==u&&(s=s.nextSibling));return ST(e.ownerDocument||e,e),t.nodeType==Id&&(t.firstChild=t.lastChild=null),t}function pbe(e,t){return t.parentNode&&t.parentNode.removeChild(t),t.parentNode=e,t.previousSibling=e.lastChild,t.nextSibling=null,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,e.lastChild=t,ST(e.ownerDocument,e,t),t}f2.prototype={nodeName:"#document",nodeType:CB,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==Id){for(var r=e.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,t),r=n}return e}return J_(this,e,t),e.ownerDocument=this,this.documentElement===null&&e.nodeType===zc&&(this.documentElement=e),e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),LB(this,e)},replaceChild:function(e,t){J_(this,e,t,MB),e.ownerDocument=this,t&&this.removeChild(t),$h(e)&&(this.documentElement=e)},importNode:function(e,t){return FB(this,e,t)},getElementById:function(e){var t=null;return Av(this.documentElement,function(r){if(r.nodeType==zc&&r.getAttribute("id")==e)return t=r,!0}),t},getElementsByClassName:function(e){var t=wD(e);return new Rg(this,function(r){var n=[];return t.length>0&&Av(r.documentElement,function(o){if(o!==r&&o.nodeType===zc){var s=o.getAttribute("class");if(s){var u=e===s;if(!u){var l=wD(s);u=t.every(abe(l))}u&&n.push(o)}}}),n})},createElement:function(e){var t=new em;t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new Cd;var r=t.attributes=new Y_;return r._ownerElement=t,t},createDocumentFragment:function(){var e=new Zw;return e.ownerDocument=this,e.childNodes=new Cd,e},createTextNode:function(e){var t=new AT;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new ET;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new TT;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var r=new kT;return r.ownerDocument=this,r.tagName=r.nodeName=r.target=e,r.nodeValue=r.data=t,r},createAttribute:function(e){var t=new Q_;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new PT;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var r=new em,n=t.split(":"),o=r.attributes=new Y_;return r.childNodes=new Cd,r.ownerDocument=this,r.nodeName=t,r.tagName=t,r.namespaceURI=e,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=t,o._ownerElement=r,r},createAttributeNS:function(e,t){var r=new Q_,n=t.split(":");return r.ownerDocument=this,r.nodeName=t,r.name=t,r.namespaceURI=e,r.specified=!0,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=t,r}};Hl(f2,Ri);function em(){this._nsMap={}}em.prototype={nodeType:zc,hasAttribute:function(e){return this.getAttributeNode(e)!=null},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var r=this.ownerDocument.createAttribute(e);r.value=r.nodeValue=""+t,this.setAttributeNode(r)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===Id?this.insertBefore(e,null):pbe(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);r&&this.removeAttributeNode(r)},hasAttributeNS:function(e,t){return this.getAttributeNodeNS(e,t)!=null},getAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);return r&&r.value||""},setAttributeNS:function(e,t,r){var n=this.ownerDocument.createAttributeNS(e,t);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new Rg(this,function(t){var r=[];return Av(t,function(n){n!==t&&n.nodeType==zc&&(e==="*"||n.tagName==e)&&r.push(n)}),r})},getElementsByTagNameNS:function(e,t){return new Rg(this,function(r){var n=[];return Av(r,function(o){o!==r&&o.nodeType===zc&&(e==="*"||o.namespaceURI===e)&&(t==="*"||o.localName==t)&&n.push(o)}),n})}};f2.prototype.getElementsByTagName=em.prototype.getElementsByTagName;f2.prototype.getElementsByTagNameNS=em.prototype.getElementsByTagNameNS;Hl(em,Ri);function Q_(){}Q_.prototype.nodeType=Dg;Hl(Q_,Ri);function p2(){}p2.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(Ka[Rl])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,r){var n=this.data.substring(0,e),o=this.data.substring(e+t);r=n+r+o,this.nodeValue=this.data=r,this.length=r.length}};Hl(p2,Ri);function AT(){}AT.prototype={nodeName:"#text",nodeType:Z_,splitText:function(e){var t=this.data,r=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}};Hl(AT,p2);function ET(){}ET.prototype={nodeName:"#comment",nodeType:SB};Hl(ET,p2);function TT(){}TT.prototype={nodeName:"#cdata-section",nodeType:_B};Hl(TT,p2);function Kw(){}Kw.prototype.nodeType=AB;Hl(Kw,Ri);function DB(){}DB.prototype.nodeType=lbe;Hl(DB,Ri);function RB(){}RB.prototype.nodeType=sbe;Hl(RB,Ri);function PT(){}PT.prototype.nodeType=xB;Hl(PT,Ri);function Zw(){}Zw.prototype.nodeName="#document-fragment";Zw.prototype.nodeType=Id;Hl(Zw,Ri);function kT(){}kT.prototype.nodeType=wB;Hl(kT,Ri);function OB(){}OB.prototype.serializeToString=function(e,t,r){return NB.call(e,t,r)};Ri.prototype.toString=NB;function NB(e,t){var r=[],n=this.nodeType==9&&this.documentElement||this,o=n.prefix,s=n.namespaceURI;if(s&&o==null){var o=n.lookupPrefix(s);if(o==null)var u=[{namespace:s,prefix:null}]}return j0(this,r,e,t,u),r.join("")}function PD(e,t,r){var n=e.prefix||"",o=e.namespaceURI;if(!o||n==="xml"&&o===Cv.XML||o===Cv.XMLNS)return!1;for(var s=r.length;s--;){var u=r[s];if(u.prefix===n)return u.namespace!==o}return!0}function u3(e,t,r){e.push(" ",t,'="',r.replace(/[<>&"\t\n\r]/g,kB),'"')}function j0(e,t,r,n,o){if(o||(o=[]),n)if(e=n(e),e){if(typeof e=="string"){t.push(e);return}}else return;switch(e.nodeType){case zc:var s=e.attributes,u=s.length,N=e.firstChild,l=e.tagName;r=Cv.isHTML(e.namespaceURI)||r;var f=l;if(!r&&!e.prefix&&e.namespaceURI){for(var v,x=0;x<s.length;x++)if(s.item(x).name==="xmlns"){v=s.item(x).value;break}if(!v)for(var w=o.length-1;w>=0;w--){var C=o[w];if(C.prefix===""&&C.namespace===e.namespaceURI){v=C.namespace;break}}if(v!==e.namespaceURI)for(var w=o.length-1;w>=0;w--){var C=o[w];if(C.namespace===e.namespaceURI){C.prefix&&(f=C.prefix+":"+l);break}}}t.push("<",f);for(var P=0;P<u;P++){var O=s.item(P);O.prefix=="xmlns"?o.push({prefix:O.localName,namespace:O.value}):O.nodeName=="xmlns"&&o.push({prefix:"",namespace:O.value})}for(var P=0;P<u;P++){var O=s.item(P);if(PD(O,r,o)){var I=O.prefix||"",z=O.namespaceURI;u3(t,I?"xmlns:"+I:"xmlns",z),o.push({prefix:I,namespace:z})}j0(O,t,r,n,o)}if(l===f&&PD(e,r,o)){var I=e.prefix||"",z=e.namespaceURI;u3(t,I?"xmlns:"+I:"xmlns",z),o.push({prefix:I,namespace:z})}if(N||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(t.push(">"),r&&/^script$/i.test(l))for(;N;)N.data?t.push(N.data):j0(N,t,r,n,o.slice()),N=N.nextSibling;else for(;N;)j0(N,t,r,n,o.slice()),N=N.nextSibling;t.push("</",f,">")}else t.push("/>");return;case CB:case Id:for(var N=e.firstChild;N;)j0(N,t,r,n,o.slice()),N=N.nextSibling;return;case Dg:return u3(t,e.name,e.value);case Z_:return t.push(e.data.replace(/[<&>]/g,kB));case _B:return t.push("<![CDATA[",e.data,"]]>");case SB:return t.push("<!--",e.data,"-->");case AB:var j=e.publicId,V=e.systemId;if(t.push("<!DOCTYPE ",e.name),j)t.push(" PUBLIC ",j),V&&V!="."&&t.push(" ",V),t.push(">");else if(V&&V!=".")t.push(" SYSTEM ",V,">");else{var W=e.internalSubset;W&&t.push(" [",W,"]"),t.push(">")}return;case wB:return t.push("<?",e.target," ",e.data,"?>");case xB:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function FB(e,t,r){var n;switch(t.nodeType){case zc:n=t.cloneNode(!1),n.ownerDocument=e;case Id:break;case Dg:r=!0;break}if(n||(n=t.cloneNode(!1)),n.ownerDocument=e,n.parentNode=null,r)for(var o=t.firstChild;o;)n.appendChild(FB(e,o,r)),o=o.nextSibling;return n}function rA(e,t,r){var n=new t.constructor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var s=t[o];typeof s!="object"&&s!=n[o]&&(n[o]=s)}switch(t.childNodes&&(n.childNodes=new Cd),n.ownerDocument=e,n.nodeType){case zc:var u=t.attributes,l=n.attributes=new Y_,f=u.length;l._ownerElement=n;for(var v=0;v<f;v++)n.setAttributeNode(rA(e,u.item(v),!0));break;case Dg:r=!0}if(r)for(var x=t.firstChild;x;)n.appendChild(rA(e,x,r)),x=x.nextSibling;return n}function $B(e,t,r){e[t]=r}try{if(Object.defineProperty){let e=function(t){switch(t.nodeType){case zc:case Id:var r=[];for(t=t.firstChild;t;)t.nodeType!==7&&t.nodeType!==8&&r.push(e(t)),t=t.nextSibling;return r.join("");default:return t.nodeValue}};Object.defineProperty(Rg.prototype,"length",{get:function(){return wT(this),this.$$length}}),Object.defineProperty(Ri.prototype,"textContent",{get:function(){return e(this)},set:function(t){switch(this.nodeType){case zc:case Id:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),$B=function(t,r,n){t["$$"+r]=n}}}catch{}Ud.DocumentType=Kw;Ud.DOMException=ia;Ud.DOMImplementation=PB;Ud.Element=em;Ud.Node=Ri;Ud.NodeList=Cd;Ud.XMLSerializer=OB;var BB={};(function(e){var t=Vd.freeze;e.XML_ENTITIES=t({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),e.HTML_ENTITIES=t({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),e.entityMap=e.HTML_ENTITIES})(BB);var IT={},Ev=Vd.NAMESPACE,nA=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,kD=new RegExp("[\\-\\.0-9"+nA.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),ID=new RegExp("^"+nA.source+kD.source+"*(?::"+nA.source+kD.source+"*)?$"),t1=0,sf=1,Km=2,r1=3,Zm=4,Ym=5,n1=6,Cb=7;function Og(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,Og)}Og.prototype=new Error;Og.prototype.name=Og.name;function zB(){}zB.prototype={parse:function(e,t,r){var n=this.domBuilder;n.startDocument(),jB(t,t={}),mbe(e,t,r,n,this.errorHandler),n.endDocument()}};function mbe(e,t,r,n,o){function s(Le){if(Le>65535){Le-=65536;var je=55296+(Le>>10),xe=56320+(Le&1023);return String.fromCharCode(je,xe)}else return String.fromCharCode(Le)}function u(Le){var je=Le.slice(1,-1);return Object.hasOwnProperty.call(r,je)?r[je]:je.charAt(0)==="#"?s(parseInt(je.substr(1).replace("x","0x"))):(o.error("entity not found:"+Le),Le)}function l(Le){if(Le>I){var je=e.substring(I,Le).replace(/&#?\w+;/g,u);C&&f(I),n.characters(je,0,Le-I),I=Le}}function f(Le,je){for(;Le>=x&&(je=w.exec(e));)v=je.index,x=v+je[0].length,C.lineNumber++;C.columnNumber=Le-v+1}for(var v=0,x=0,w=/.*(?:\r\n?|\n)|.*$/g,C=n.locator,P=[{currentNSMap:t}],O={},I=0;;){try{var z=e.indexOf("<",I);if(z<0){if(!e.substr(I).match(/^\s*$/)){var N=n.doc,j=N.createTextNode(e.substr(I));N.appendChild(j),n.currentElement=j}return}switch(z>I&&l(z),e.charAt(z+1)){case"/":var X=e.indexOf(">",z+3),V=e.substring(z+2,X).replace(/[ \t\n\r]+$/g,""),W=P.pop();X<0?(V=e.substring(z+2).replace(/[\s<].*/,""),o.error("end tag name: "+V+" is not complete:"+W.tagName),X=z+1+V.length):V.match(/\s</)&&(V=V.replace(/[\s<].*/,""),o.error("end tag name: "+V+" maybe not complete"),X=z+1+V.length);var re=W.localNSMap,ie=W.tagName==V,J=ie||W.tagName&&W.tagName.toLowerCase()==V.toLowerCase();if(J){if(n.endElement(W.uri,W.localName,V),re)for(var ne in re)Object.prototype.hasOwnProperty.call(re,ne)&&n.endPrefixMapping(ne);ie||o.fatalError("end tag name: "+V+" is not match the current start tagName:"+W.tagName)}else P.push(W);X++;break;case"?":C&&f(z),X=_be(e,z,n);break;case"!":C&&f(z),X=bbe(e,z,n,o);break;default:C&&f(z);var Ae=new UB,Z=P[P.length-1].currentNSMap,X=gbe(e,z,Ae,Z,u,o),oe=Ae.length;if(!Ae.closed&&vbe(e,X,Ae.tagName,O)&&(Ae.closed=!0,r.nbsp||o.warning("unclosed xml attribute")),C&&oe){for(var be=LD(C,{}),ge=0;ge<oe;ge++){var De=Ae[ge];f(De.offset),De.locator=LD(C,{})}n.locator=be,MD(Ae,n,Z)&&P.push(Ae),n.locator=C}else MD(Ae,n,Z)&&P.push(Ae);Ev.isHTML(Ae.uri)&&!Ae.closed?X=ybe(e,X,Ae.tagName,u,n):X++}}catch(Le){if(Le instanceof Og)throw Le;o.error("element parse error: "+Le),X=-1}X>I?I=X:l(Math.max(z,I)+1)}}function LD(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function gbe(e,t,r,n,o,s){function u(C,P,O){r.attributeNames.hasOwnProperty(C)&&s.fatalError("Attribute "+C+" redefined"),r.addValue(C,P.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,o),O)}for(var l,f,v=++t,x=t1;;){var w=e.charAt(v);switch(w){case"=":if(x===sf)l=e.slice(t,v),x=r1;else if(x===Km)x=r1;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(x===r1||x===sf)if(x===sf&&(s.warning('attribute value must after "="'),l=e.slice(t,v)),t=v+1,v=e.indexOf(w,t),v>0)f=e.slice(t,v),u(l,f,t-1),x=Ym;else throw new Error("attribute value no end '"+w+"' match");else if(x==Zm)f=e.slice(t,v),u(l,f,t),s.warning('attribute "'+l+'" missed start quot('+w+")!!"),t=v+1,x=Ym;else throw new Error('attribute value must after "="');break;case"/":switch(x){case t1:r.setTagName(e.slice(t,v));case Ym:case n1:case Cb:x=Cb,r.closed=!0;case Zm:case sf:break;case Km:r.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),x==t1&&r.setTagName(e.slice(t,v)),v;case">":switch(x){case t1:r.setTagName(e.slice(t,v));case Ym:case n1:case Cb:break;case Zm:case sf:f=e.slice(t,v),f.slice(-1)==="/"&&(r.closed=!0,f=f.slice(0,-1));case Km:x===Km&&(f=l),x==Zm?(s.warning('attribute "'+f+'" missed quot(")!'),u(l,f,t)):((!Ev.isHTML(n[""])||!f.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+f+'" missed value!! "'+f+'" instead!!'),u(f,f,t));break;case r1:throw new Error("attribute value missed!!")}return v;case"":w=" ";default:if(w<=" ")switch(x){case t1:r.setTagName(e.slice(t,v)),x=n1;break;case sf:l=e.slice(t,v),x=Km;break;case Zm:var f=e.slice(t,v);s.warning('attribute "'+f+'" missed quot(")!!'),u(l,f,t);case Ym:x=n1;break}else switch(x){case Km:r.tagName,(!Ev.isHTML(n[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+l+'" missed value!! "'+l+'" instead2!!'),u(l,l,t),t=v,x=sf;break;case Ym:s.warning('attribute space is required"'+l+'"!!');case n1:x=sf,t=v;break;case r1:x=Zm,t=v;break;case Cb:throw new Error("elements closed character '/' and '>' must be connected to")}}v++}}function MD(e,t,r){for(var n=e.tagName,o=null,w=e.length;w--;){var s=e[w],u=s.qName,l=s.value,C=u.indexOf(":");if(C>0)var f=s.prefix=u.slice(0,C),v=u.slice(C+1),x=f==="xmlns"&&v;else v=u,f=null,x=u==="xmlns"&&"";s.localName=v,x!==!1&&(o==null&&(o={},jB(r,r={})),r[x]=o[x]=l,s.uri=Ev.XMLNS,t.startPrefixMapping(x,l))}for(var w=e.length;w--;){s=e[w];var f=s.prefix;f&&(f==="xml"&&(s.uri=Ev.XML),f!=="xmlns"&&(s.uri=r[f||""]))}var C=n.indexOf(":");C>0?(f=e.prefix=n.slice(0,C),v=e.localName=n.slice(C+1)):(f=null,v=e.localName=n);var P=e.uri=r[f||""];if(t.startElement(P,v,n,e),e.closed){if(t.endElement(P,v,n),o)for(f in o)Object.prototype.hasOwnProperty.call(o,f)&&t.endPrefixMapping(f)}else return e.currentNSMap=r,e.localNSMap=o,!0}function ybe(e,t,r,n,o){if(/^(?:script|textarea)$/i.test(r)){var s=e.indexOf("</"+r+">",t),u=e.substring(t+1,s);if(/[&<]/.test(u))return/^script$/i.test(r)?(o.characters(u,0,u.length),s):(u=u.replace(/&#?\w+;/g,n),o.characters(u,0,u.length),s)}return t+1}function vbe(e,t,r,n){var o=n[r];return o==null&&(o=e.lastIndexOf("</"+r+">"),o<t&&(o=e.lastIndexOf("</"+r)),n[r]=o),o<t}function jB(e,t){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}function bbe(e,t,r,n){var o=e.charAt(t+2);switch(o){case"-":if(e.charAt(t+3)==="-"){var s=e.indexOf("-->",t+4);return s>t?(r.comment(e,t+4,s-t-4),s+3):(n.error("Unclosed comment"),-1)}else return-1;default:if(e.substr(t+3,6)=="CDATA["){var s=e.indexOf("]]>",t+9);return r.startCDATA(),r.characters(e,t+9,s-t-9),r.endCDATA(),s+3}var u=xbe(e,t),l=u.length;if(l>1&&/!doctype/i.test(u[0][0])){var f=u[1][0],v=!1,x=!1;l>3&&(/^public$/i.test(u[2][0])?(v=u[3][0],x=l>4&&u[4][0]):/^system$/i.test(u[2][0])&&(x=u[3][0]));var w=u[l-1];return r.startDTD(f,v,x),r.endDTD(),w.index+w[0].length}}return-1}function _be(e,t,r){var n=e.indexOf("?>",t);if(n){var o=e.substring(t,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return o?(o[0].length,r.processingInstruction(o[1],o[2]),n+2):-1}return-1}function UB(){this.attributeNames={}}UB.prototype={setTagName:function(e){if(!ID.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,r){if(!ID.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:r}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}};function xbe(e,t){var r,n=[],o=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(o.lastIndex=t,o.exec(e);r=o.exec(e);)if(n.push(r),r[1])return n}IT.XMLReader=zB;IT.ParseError=Og;var wbe=Vd,Sbe=Ud,DD=BB,VB=IT,Cbe=Sbe.DOMImplementation,RD=wbe.NAMESPACE,Abe=VB.ParseError,Ebe=VB.XMLReader;function Tbe(e){return e.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function Pbe(e){this.options=e||{locator:{}}}Pbe.prototype.parseFromString=function(e,t){var r=this.options,n=new Ebe,o=r.domBuilder||new Yw,s=r.errorHandler,u=r.locator,l=r.xmlns||{},f=/\/x?html?$/.test(t),v=f?DD.HTML_ENTITIES:DD.XML_ENTITIES;u&&o.setDocumentLocator(u),n.errorHandler=kbe(s,o,u),n.domBuilder=r.domBuilder||o,f&&(l[""]=RD.HTML),l.xml=l.xml||RD.XML;var x=r.normalizeLineEndings||Tbe;return e&&typeof e=="string"?n.parse(x(e),l,v):n.errorHandler.error("invalid doc source"),o.doc};function kbe(e,t,r){if(!e){if(t instanceof Yw)return t;e=t}var n={},o=e instanceof Function;r=r||{};function s(u){var l=e[u];!l&&o&&(l=e.length==2?function(f){e(u,f)}:e),n[u]=l&&function(f){l("[xmldom "+u+"]	"+f+iA(r))}||function(){}}return s("warning"),s("error"),s("fatalError"),n}function Yw(){this.cdata=!1}function Jm(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}Yw.prototype={startDocument:function(){this.doc=new Cbe().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,r,n){var o=this.doc,s=o.createElementNS(e,r||t),u=n.length;Ab(this,s),this.currentElement=s,this.locator&&Jm(this.locator,s);for(var l=0;l<u;l++){var e=n.getURI(l),f=n.getValue(l),r=n.getQName(l),v=o.createAttributeNS(e,r);this.locator&&Jm(n.getLocator(l),v),v.value=v.nodeValue=f,s.setAttributeNode(v)}},endElement:function(e,t,r){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var r=this.doc.createProcessingInstruction(e,t);this.locator&&Jm(this.locator,r),Ab(this,r)},ignorableWhitespace:function(e,t,r){},characters:function(e,t,r){if(e=OD.apply(this,arguments),e){if(this.cdata)var n=this.doc.createCDATASection(e);else var n=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(e)&&this.doc.appendChild(n),this.locator&&Jm(this.locator,n)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,r){e=OD.apply(this,arguments);var n=this.doc.createComment(e);this.locator&&Jm(this.locator,n),Ab(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var o=n.createDocumentType(e,t,r);this.locator&&Jm(this.locator,o),Ab(this,o),this.doc.doctype=o}},warning:function(e){console.warn("[xmldom warning]	"+e,iA(this.locator))},error:function(e){console.error("[xmldom error]	"+e,iA(this.locator))},fatalError:function(e){throw new Abe(e,this.locator)}};function iA(e){if(e)return`
@`+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function OD(e,t,r){return typeof e=="string"?e.substr(t,r):e.length>=t+r||t?new java.lang.String(e,t,r)+"":e}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){Yw.prototype[e]=function(){return null}});function Ab(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}var Ibe=Ud,Lbe=Ibe.XMLSerializer;/**
 * wms-capabilities @0.6.0
 * @description WMS service Capabilities > JSON, based on openlayers 
 * @license BSD-2-Clause
 * @preserve
 */var Un=e=>e!==void 0,qB=(e,t,r)=>t in e?e[t]:e[t]=r;const ex={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12};function LT(e,t){return HB(e,t,[]).join("")}function HB(e,t,r){if(e.nodeType===ex.CDATA_SECTION||e.nodeType===ex.TEXT)r.push(e.nodeValue);else{var n;for(n=e.firstChild;n;n=n.nextSibling)HB(n,t,r)}return r}function Mbe(e,t,r,n){for(var o=Dbe(t);o;o=Rbe(o)){var s=o.namespaceURI||null,u=e[s];if(Un(u)){var l=u[o.localName];Un(l)&&l.call(n,o,r)}}}function Dbe(e){let t=e.firstElementChild||e.firstChild;for(;t&&t.nodeType!==ex.ELEMENT;)t=t.nextSibling;return t}function Rbe(e){let t=e.nextElementSibling||e.nextSibling;for(;t&&t.nodeType!==ex.ELEMENT;)t=t.nextSibling;return t}function gs(e,t,r){return Obe(e,t,r)}function Obe(e,t,r){var n=Un(r)?r:{},o,s;for(o=0,s=e.length;o<s;++o)n[e[o]]=t;return n}function GB(e,t){return function(r,n){var o=e.call(Un(t)?t:this,r,n);if(Un(o)){var s=n[n.length-1];s.push(o)}}}function ys(e,t,r,n,o){return n.push(e),Mbe(t,r,n,o),n.pop()}function Kr(e,t,r){return function(n,o){let s=e.call(Un(r)?r:this,n,o);if(Un(s)){var u=o[o.length-1],l=Un(t)?t:n.localName;u[l]=s}}}function Il(e,t,r){return function(n,o){var s=e.call(Un(r)?r:this,n,o);if(Un(s)){var u=o[o.length-1],l=Un(t)?t:n.localName,f=qB(u,l,[]);f.push(s)}}}const Nbe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function Fbe(e){return e.replace(Nbe,"")}function $p(e){const t=/^\s*(true|1)|(false|0)\s*$/.exec(e);if(t)return Un(t[1])||!1}function U0(e){return _d(LT(e,!1))}function _d(e){const t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(e);if(t)return parseFloat(t[1])}function c3(e){return tx(LT(e,!1))}function tx(e){const t=/^\s*(\d+)\s*$/.exec(e);if(t)return parseInt(t[1],10)}function fi(e){return Fbe(LT(e,!1))}const $be="http://www.w3.org/1999/xlink";function MT(e){return e.getAttributeNS($be,"href")}function Bbe(e,t){return ys({},h_e,e,t)}function WB(e){return[_d(e.getAttribute("minx")),_d(e.getAttribute("miny")),_d(e.getAttribute("maxx")),_d(e.getAttribute("maxy"))]}function zbe(e,t){const r=WB(e),n=[_d(e.getAttribute("resx")),_d(e.getAttribute("resy"))];return{crs:e.getAttribute("CRS")||e.getAttribute("SRS"),extent:r,res:n}}function jbe(e,t){const r=WB(e);if(!(!Un(r[0])||!Un(r[1])||!Un(r[2])||!Un(r[3])))return r}function Ube(e,t){const r=parseFloat(e.getAttribute("min")),n=parseFloat(e.getAttribute("max"));return{min:r,max:n}}function Vbe(e,t){const r=ys({},d_e,e,t);if(!Un(r))return;const n=r.westBoundLongitude,o=r.southBoundLatitude,s=r.eastBoundLongitude,u=r.northBoundLatitude;if(!(!Un(n)||!Un(o)||!Un(s)||!Un(u)))return[n,o,s,u]}function qbe(e,t){return ys({},o_e,e,t)}function Hbe(e,t){return ys({},a_e,e,t)}function Gbe(e,t){return ys({},s_e,e,t)}function Wbe(e,t){return ys({},l_e,e,t)}function Xbe(e,t){return ys({},u_e,e,t)}function Kbe(e,t){return ys([],c_e,e,t)}function Zbe(e,t){const r=$p(e.getAttribute("queryable"));return ys({queryable:Un(r)?r:!1},ZB,e,t)}function Ybe(e,t){var r=t[t.length-1];const n=ys({},ZB,e,t);if(!Un(n))return;let o=$p(e.getAttribute("queryable"));Un(o)||(o=r.queryable),n.queryable=Un(o)?o:!1;let s=tx(e.getAttribute("cascaded"));Un(s)||(s=r.cascaded),n.cascaded=s;let u=$p(e.getAttribute("opaque"));Un(u)||(u=r.opaque),n.opaque=Un(u)?u:!1;let l=$p(e.getAttribute("noSubsets"));Un(l)||(l=r.noSubsets),n.noSubsets=Un(l)?l:!1;let f=_d(e.getAttribute("fixedWidth"));Un(f)||(f=r.fixedWidth),n.fixedWidth=f;let v=_d(e.getAttribute("fixedHeight"));Un(v)||(v=r.fixedHeight),n.fixedHeight=v;const x=["Style","CRS","AuthorityURL"];for(let C=0,P=x.length;C<P;C++){const O=x[C],I=r[O];if(Un(I)){let z=qB(n,O,[]);z=z.concat(I),n[O]=z}}const w=["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"];for(let C=0,P=w.length;C<P;C++){const O=w[C],I=n[O];if(!Un(I)){const z=r[O];n[O]=z}}return n}function Jbe(e,t){return{name:e.getAttribute("name"),units:e.getAttribute("units"),unitSymbol:e.getAttribute("unitSymbol"),default:e.getAttribute("default"),multipleValues:$p(e.getAttribute("multipleValues")),nearestValue:$p(e.getAttribute("nearestValue")),current:$p(e.getAttribute("current")),values:fi(e)}}function Md(e,t){return ys({},v_e,e,t)}function Qbe(e,t){return ys({},f_e,e,t)}function e_e(e,t){return ys({},m_e,e,t)}function t_e(e,t){return ys({},g_e,e,t)}function h3(e,t){return ys({},p_e,e,t)}function XB(e,t){var r=Md(e,t);if(Un(r)){const n=[tx(e.getAttribute("width")),tx(e.getAttribute("height"))];return r.size=n,r}}function r_e(e,t){var r=Md(e,t);if(Un(r))return r.name=e.getAttribute("name"),r}function n_e(e,t){var r=Md(e,t);if(Un(r))return r.type=e.getAttribute("type"),r}function i_e(e,t){return ys({},y_e,e,t)}function KB(e,t){return ys([],b_e,e,t)}const vs=[null,"http://www.opengis.net/wms"];gs(vs,{Service:Kr(Hbe),Capability:Kr(qbe)});const o_e=gs(vs,{Request:Kr(Qbe),Exception:Kr(Kbe),Layer:Kr(Zbe)}),a_e=gs(vs,{Name:Kr(fi),Title:Kr(fi),Abstract:Kr(fi),KeywordList:Kr(KB),OnlineResource:Kr(MT),ContactInformation:Kr(Gbe),Fees:Kr(fi),AccessConstraints:Kr(fi),LayerLimit:Kr(c3),MaxWidth:Kr(c3),MaxHeight:Kr(c3)}),s_e=gs(vs,{ContactPersonPrimary:Kr(Wbe),ContactPosition:Kr(fi),ContactAddress:Kr(Xbe),ContactVoiceTelephone:Kr(fi),ContactFacsimileTelephone:Kr(fi),ContactElectronicMailAddress:Kr(fi)}),l_e=gs(vs,{ContactPerson:Kr(fi),ContactOrganization:Kr(fi)}),u_e=gs(vs,{AddressType:Kr(fi),Address:Kr(fi),City:Kr(fi),StateOrProvince:Kr(fi),PostCode:Kr(fi),Country:Kr(fi)}),c_e=gs(vs,{Format:GB(fi)}),ZB=gs(vs,{Name:Kr(fi),Title:Kr(fi),Abstract:Kr(fi),KeywordList:Kr(KB),CRS:Il(fi),SRS:Il(fi),EX_GeographicBoundingBox:Kr(Vbe),LatLonBoundingBox:Kr(jbe),BoundingBox:Il(zbe),Dimension:Il(Jbe),Attribution:Kr(Bbe),AuthorityURL:Il(r_e),Identifier:Il(fi),MetadataURL:Il(n_e),DataURL:Il(Md),FeatureListURL:Il(Md),Style:Il(i_e),MinScaleDenominator:Kr(U0),MaxScaleDenominator:Kr(U0),ScaleHint:Kr(Ube),Layer:Il(Ybe)}),h_e=gs(vs,{Title:Kr(fi),OnlineResource:Kr(MT),LogoURL:Kr(XB)}),d_e=gs(vs,{westBoundLongitude:Kr(U0),eastBoundLongitude:Kr(U0),southBoundLatitude:Kr(U0),northBoundLatitude:Kr(U0)}),f_e=gs(vs,{GetCapabilities:Kr(h3),GetMap:Kr(h3),GetFeatureInfo:Kr(h3)}),p_e=gs(vs,{Format:Il(fi),DCPType:Il(e_e)}),m_e=gs(vs,{HTTP:Kr(t_e)}),g_e=gs(vs,{Get:Kr(Md),Post:Kr(Md)}),y_e=gs(vs,{Name:Kr(fi),Title:Kr(fi),Abstract:Kr(fi),LegendURL:Il(XB),StyleSheetURL:Kr(Md),StyleURL:Kr(Md)}),v_e=gs(vs,{Format:Kr(fi),OnlineResource:Kr(MT)}),b_e=gs(vs,{Keyword:GB(fi)});var DT={},__e=Fd;Object.defineProperty(DT,"__esModule",{value:!0});var YB=DT.default=void 0,x_e=__e($d()),d3=ut;YB=DT.default=(0,x_e.default)([(0,d3.jsx)("circle",{cx:"7",cy:"14",r:"3"},"0"),(0,d3.jsx)("circle",{cx:"11",cy:"6",r:"3"},"1"),(0,d3.jsx)("circle",{cx:"16.6",cy:"17.6",r:"3"},"2")],"ScatterPlot");function JB(e){return new Function("d","return {"+e.map(function(t,r){return JSON.stringify(t)+": d["+r+"]"}).join(",")+"}")}function w_e(e,t){var r=JB(e);return function(n,o){return t(r(n),o,e)}}function S_e(e){var t=Object.create(null),r=[];return e.forEach(function(n){for(var o in n)o in t||r.push(t[o]=o)}),r}function RT(e){var t=new RegExp('["'+e+`
]`),r=e.charCodeAt(0);function n(v,x){var w,C,P=o(v,function(O,I){if(w)return w(O,I-1);C=O,w=x?w_e(O,x):JB(O)});return P.columns=C,P}function o(v,x){var w={},C={},P=[],O=v.length,I=0,z=0,N,j;function V(){if(I>=O)return C;if(j)return j=!1,w;var re=I,ie;if(v.charCodeAt(re)===34){for(var J=re;J++<O;)if(v.charCodeAt(J)===34){if(v.charCodeAt(J+1)!==34)break;++J}return I=J+2,ie=v.charCodeAt(J+1),ie===13?(j=!0,v.charCodeAt(J+2)===10&&++I):ie===10&&(j=!0),v.slice(re+1,J).replace(/""/g,'"')}for(;I<O;){var ne=1;if(ie=v.charCodeAt(I++),ie===10)j=!0;else if(ie===13)j=!0,v.charCodeAt(I)===10&&(++I,++ne);else if(ie!==r)continue;return v.slice(re,I-ne)}return v.slice(re)}for(;(N=V())!==C;){for(var W=[];N!==w&&N!==C;)W.push(N),N=V();x&&(W=x(W,z++))==null||P.push(W)}return P}function s(v,x){return x==null&&(x=S_e(v)),[x.map(f).join(e)].concat(v.map(function(w){return x.map(function(C){return f(w[C])}).join(e)})).join(`
`)}function u(v){return v.map(l).join(`
`)}function l(v){return v.map(f).join(e)}function f(v){return v==null?"":t.test(v+="")?'"'+v.replace(/\"/g,'""')+'"':v}return{parse:n,parseRows:o,format:s,formatRows:u}}var Jw=RT(","),C_e=Jw.parse,A_e=Jw.parseRows,E_e=Jw.format,T_e=Jw.formatRows,Qw=RT("	"),P_e=Qw.parse,k_e=Qw.parseRows,I_e=Qw.format,L_e=Qw.formatRows;const M_e=Object.freeze(Object.defineProperty({__proto__:null,csvFormat:E_e,csvFormatRows:T_e,csvParse:C_e,csvParseRows:A_e,dsvFormat:RT,tsvFormat:I_e,tsvFormatRows:L_e,tsvParse:P_e,tsvParseRows:k_e},Symbol.toStringTag,{value:"Module"})),D_e=GR(M_e);var iy={exports:{}};iy.exports=R_e;iy.exports.pair=N_e;iy.exports.format=oA;iy.exports.formatPair=O_e;iy.exports.coordToDMS=QB;function R_e(e,t){var r=aA(e,t);return r===null?null:r.val}function O_e(e){return oA(e.lat,"lat")+" "+oA(e.lon,"lon")}function oA(e,t){var r=QB(e,t);return r.whole+" "+(r.minutes?r.minutes+"' ":"")+(r.seconds?r.seconds+'" ':"")+r.dir}function QB(e,t){var r={lat:["N","S"],lon:["E","W"]}[t]||"",n=r[e>=0?0:1],o=Math.abs(e),s=Math.floor(o),u=o-s,l=u*60,f=Math.floor(l),v=Math.floor((l-f)*60);return{whole:s,minutes:f,seconds:v,dir:n}}function aA(e,t){if(t||(t="NSEW"),typeof e!="string")return null;e=e.toUpperCase();var r=/^[\s\,]*([NSEW])?\s*([\-|\|\]?[0-9.]+)[]?\s*(?:([0-9.]+)[']\s*)?(?:([0-9.]+)(?:''|"||)\s*)?([NSEW])?/,n=e.match(r);if(!n)return null;var o=n[0],s;if(n[1]&&n[5]?(s=n[1],o=o.slice(0,-1)):s=n[1]||n[5],s&&t.indexOf(s)===-1)return null;var u=n[2]?parseFloat(n[2]):0,l=n[3]?parseFloat(n[3])/60:0,f=n[4]?parseFloat(n[4])/3600:0,v=u<0?-1:1;return(s==="S"||s==="W")&&(v*=-1),{val:(Math.abs(u)+l+f)*v,dim:s,matched:o,remain:e.slice(o.length)}}function N_e(e,t){e=e.trim();var r=aA(e,t);if(!r)return null;e=r.remain.trim();var n=aA(e,t);return!n||n.remain?null:r.dim?F_e(r.val,n.val,r.dim):[r.val,n.val]}function F_e(e,t,r){if(r==="N"||r==="S")return[e,t];if(r==="W"||r==="E")return[t,e]}var $_e=iy.exports,ng=D_e,ND=$_e,e7=/(Lat)(itude)?/gi,t7=/(L)(on|ng)(gitude)?/i;function r7(e,t){var r,n,o;for(var s in e)n=s.match(t),n&&(!r||n[0].length/s.length>o)&&(o=n[0].length/s.length,r=s);return r}function n7(e){return r7(e,e7)}function i7(e){return r7(e,t7)}function B_e(e){return!!e.match(e7)}function z_e(e){return!!e.match(t7)}function FD(e){return typeof e=="object"?Object.keys(e).length:0}function o7(e){var t=[",",";","	","|"],r=[];return t.forEach(function(n){var o=ng.dsvFormat(n).parse(e);if(o.length>=1){for(var s=FD(o[0]),u=0;u<o.length;u++)if(FD(o[u])!==s)return;r.push({delimiter:n,arity:Object.keys(o[0]).length})}}),r.length?r.sort(function(n,o){return o.arity-n.arity})[0].delimiter:null}function j_e(e){return delete e.columns,e}function U_e(e){var t=o7(e);return t?j_e(ng.dsvFormat(t).parse(e)):null}function V_e(e,t,r){r||(r=t,t={}),t.delimiter=t.delimiter||",";var n=t.latfield||"",o=t.lonfield||"",s=t.crs||"",u=[],l={type:"FeatureCollection",features:u};if(s!==""&&(l.crs={type:"name",properties:{name:s}}),t.delimiter==="auto"&&typeof e=="string"&&(t.delimiter=o7(e),!t.delimiter)){r({type:"Error",message:"Could not autodetect delimiter"});return}var f=t.numericFields?t.numericFields.split(","):null,v=typeof e=="string"?ng.dsvFormat(t.delimiter).parse(e,function(j){if(f)for(var V in j)f.includes(V)&&(j[V]=+j[V]);return j}):e;if(!v.length){r(null,l);return}var x=[],w;n||(n=n7(v[0])),o||(o=i7(v[0]));var C=!n||!o;if(C){for(w=0;w<v.length;w++)u.push({type:"Feature",properties:v[w],geometry:null});r(x.length?x:null,l);return}for(w=0;w<v.length;w++)if(v[w][o]!==void 0&&v[w][n]!==void 0){var P=v[w][o],O=v[w][n],I,z,N;N=ND(P,"EW"),N&&(P=N),N=ND(O,"NS"),N&&(O=N),I=parseFloat(P),z=parseFloat(O),isNaN(I)||isNaN(z)?x.push({message:"A row contained an invalid value for latitude or longitude",row:v[w],index:w}):(t.includeLatLon||(delete v[w][o],delete v[w][n]),u.push({type:"Feature",properties:v[w],geometry:{type:"Point",coordinates:[parseFloat(I),parseFloat(z)]}}))}r(x.length?x:null,l)}function q_e(e){for(var t=e.features,r={type:"Feature",geometry:{type:"LineString",coordinates:[]}},n=0;n<t.length;n++)r.geometry.coordinates.push(t[n].geometry.coordinates);return r.properties=t.reduce(function(o,s){for(var u in s.properties)o[u]||(o[u]=[]),o[u].push(s.properties[u]);return o},{}),{type:"FeatureCollection",features:[r]}}function H_e(e){for(var t=e.features,r={type:"Feature",geometry:{type:"Polygon",coordinates:[[]]}},n=0;n<t.length;n++)r.geometry.coordinates[0].push(t[n].geometry.coordinates);return r.properties=t.reduce(function(o,s){for(var u in s.properties)o[u]||(o[u]=[]),o[u].push(s.properties[u]);return o},{}),{type:"FeatureCollection",features:[r]}}ng.csvParse,ng.tsvParse;var G_e={value:()=>{}};function a7(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new r_(r)}function r_(e){this._=e}function W_e(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",o=r.indexOf(".");if(o>=0&&(n=r.slice(o+1),r=r.slice(0,o)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}r_.prototype=a7.prototype={constructor:r_,on:function(e,t){var r=this._,n=W_e(e+"",r),o,s=-1,u=n.length;if(arguments.length<2){for(;++s<u;)if((o=(e=n[s]).type)&&(o=X_e(r[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<u;)if(o=(e=n[s]).type)r[o]=$D(r[o],e.name,t);else if(t==null)for(o in r)r[o]=$D(r[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new r_(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var r=new Array(o),n=0,o,s;n<o;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,o=s.length;n<o;++n)s[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],o=0,s=n.length;o<s;++o)n[o].value.apply(t,r)}};function X_e(e,t){for(var r=0,n=e.length,o;r<n;++r)if((o=e[r]).name===t)return o.value}function $D(e,t,r){for(var n=0,o=e.length;n<o;++n)if(e[n].name===t){e[n]=G_e,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var sA="http://www.w3.org/1999/xhtml";const BD={svg:"http://www.w3.org/2000/svg",xhtml:sA,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function e5(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),BD.hasOwnProperty(t)?{space:BD[t],local:e}:e}function K_e(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===sA&&t.documentElement.namespaceURI===sA?t.createElement(e):t.createElementNS(r,e)}}function Z_e(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function s7(e){var t=e5(e);return(t.local?Z_e:K_e)(t)}function Y_e(){}function OT(e){return e==null?Y_e:function(){return this.querySelector(e)}}function J_e(e){typeof e!="function"&&(e=OT(e));for(var t=this._groups,r=t.length,n=new Array(r),o=0;o<r;++o)for(var s=t[o],u=s.length,l=n[o]=new Array(u),f,v,x=0;x<u;++x)(f=s[x])&&(v=e.call(f,f.__data__,x,s))&&("__data__"in f&&(v.__data__=f.__data__),l[x]=v);return new Uc(n,this._parents)}function Q_e(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function exe(){return[]}function l7(e){return e==null?exe:function(){return this.querySelectorAll(e)}}function txe(e){return function(){return Q_e(e.apply(this,arguments))}}function rxe(e){typeof e=="function"?e=txe(e):e=l7(e);for(var t=this._groups,r=t.length,n=[],o=[],s=0;s<r;++s)for(var u=t[s],l=u.length,f,v=0;v<l;++v)(f=u[v])&&(n.push(e.call(f,f.__data__,v,u)),o.push(f));return new Uc(n,o)}function u7(e){return function(){return this.matches(e)}}function c7(e){return function(t){return t.matches(e)}}var nxe=Array.prototype.find;function ixe(e){return function(){return nxe.call(this.children,e)}}function oxe(){return this.firstElementChild}function axe(e){return this.select(e==null?oxe:ixe(typeof e=="function"?e:c7(e)))}var sxe=Array.prototype.filter;function lxe(){return Array.from(this.children)}function uxe(e){return function(){return sxe.call(this.children,e)}}function cxe(e){return this.selectAll(e==null?lxe:uxe(typeof e=="function"?e:c7(e)))}function hxe(e){typeof e!="function"&&(e=u7(e));for(var t=this._groups,r=t.length,n=new Array(r),o=0;o<r;++o)for(var s=t[o],u=s.length,l=n[o]=[],f,v=0;v<u;++v)(f=s[v])&&e.call(f,f.__data__,v,s)&&l.push(f);return new Uc(n,this._parents)}function h7(e){return new Array(e.length)}function dxe(){return new Uc(this._enter||this._groups.map(h7),this._parents)}function rx(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}rx.prototype={constructor:rx,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function fxe(e){return function(){return e}}function pxe(e,t,r,n,o,s){for(var u=0,l,f=t.length,v=s.length;u<v;++u)(l=t[u])?(l.__data__=s[u],n[u]=l):r[u]=new rx(e,s[u]);for(;u<f;++u)(l=t[u])&&(o[u]=l)}function mxe(e,t,r,n,o,s,u){var l,f,v=new Map,x=t.length,w=s.length,C=new Array(x),P;for(l=0;l<x;++l)(f=t[l])&&(C[l]=P=u.call(f,f.__data__,l,t)+"",v.has(P)?o[l]=f:v.set(P,f));for(l=0;l<w;++l)P=u.call(e,s[l],l,s)+"",(f=v.get(P))?(n[l]=f,f.__data__=s[l],v.delete(P)):r[l]=new rx(e,s[l]);for(l=0;l<x;++l)(f=t[l])&&v.get(C[l])===f&&(o[l]=f)}function gxe(e){return e.__data__}function yxe(e,t){if(!arguments.length)return Array.from(this,gxe);var r=t?mxe:pxe,n=this._parents,o=this._groups;typeof e!="function"&&(e=fxe(e));for(var s=o.length,u=new Array(s),l=new Array(s),f=new Array(s),v=0;v<s;++v){var x=n[v],w=o[v],C=w.length,P=vxe(e.call(x,x&&x.__data__,v,n)),O=P.length,I=l[v]=new Array(O),z=u[v]=new Array(O),N=f[v]=new Array(C);r(x,w,I,z,N,P,t);for(var j=0,V=0,W,re;j<O;++j)if(W=I[j]){for(j>=V&&(V=j+1);!(re=z[V])&&++V<O;);W._next=re||null}}return u=new Uc(u,n),u._enter=l,u._exit=f,u}function vxe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function bxe(){return new Uc(this._exit||this._groups.map(h7),this._parents)}function _xe(e,t,r){var n=this.enter(),o=this,s=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),r==null?s.remove():r(s),n&&o?n.merge(o).order():o}function xxe(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,o=r.length,s=n.length,u=Math.min(o,s),l=new Array(o),f=0;f<u;++f)for(var v=r[f],x=n[f],w=v.length,C=l[f]=new Array(w),P,O=0;O<w;++O)(P=v[O]||x[O])&&(C[O]=P);for(;f<o;++f)l[f]=r[f];return new Uc(l,this._parents)}function wxe(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],o=n.length-1,s=n[o],u;--o>=0;)(u=n[o])&&(s&&u.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(u,s),s=u);return this}function Sxe(e){e||(e=Cxe);function t(w,C){return w&&C?e(w.__data__,C.__data__):!w-!C}for(var r=this._groups,n=r.length,o=new Array(n),s=0;s<n;++s){for(var u=r[s],l=u.length,f=o[s]=new Array(l),v,x=0;x<l;++x)(v=u[x])&&(f[x]=v);f.sort(t)}return new Uc(o,this._parents).order()}function Cxe(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Axe(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Exe(){return Array.from(this)}function Txe(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],o=0,s=n.length;o<s;++o){var u=n[o];if(u)return u}return null}function Pxe(){let e=0;for(const t of this)++e;return e}function kxe(){return!this.node()}function Ixe(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var o=t[r],s=0,u=o.length,l;s<u;++s)(l=o[s])&&e.call(l,l.__data__,s,o);return this}function Lxe(e){return function(){this.removeAttribute(e)}}function Mxe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Dxe(e,t){return function(){this.setAttribute(e,t)}}function Rxe(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Oxe(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function Nxe(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function Fxe(e,t){var r=e5(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?Mxe:Lxe:typeof t=="function"?r.local?Nxe:Oxe:r.local?Rxe:Dxe)(r,t))}function d7(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function $xe(e){return function(){this.style.removeProperty(e)}}function Bxe(e,t,r){return function(){this.style.setProperty(e,t,r)}}function zxe(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function jxe(e,t,r){return arguments.length>1?this.each((t==null?$xe:typeof t=="function"?zxe:Bxe)(e,t,r??"")):Ng(this.node(),e)}function Ng(e,t){return e.style.getPropertyValue(t)||d7(e).getComputedStyle(e,null).getPropertyValue(t)}function Uxe(e){return function(){delete this[e]}}function Vxe(e,t){return function(){this[e]=t}}function qxe(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function Hxe(e,t){return arguments.length>1?this.each((t==null?Uxe:typeof t=="function"?qxe:Vxe)(e,t)):this.node()[e]}function f7(e){return e.trim().split(/^|\s+/)}function NT(e){return e.classList||new p7(e)}function p7(e){this._node=e,this._names=f7(e.getAttribute("class")||"")}p7.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function m7(e,t){for(var r=NT(e),n=-1,o=t.length;++n<o;)r.add(t[n])}function g7(e,t){for(var r=NT(e),n=-1,o=t.length;++n<o;)r.remove(t[n])}function Gxe(e){return function(){m7(this,e)}}function Wxe(e){return function(){g7(this,e)}}function Xxe(e,t){return function(){(t.apply(this,arguments)?m7:g7)(this,e)}}function Kxe(e,t){var r=f7(e+"");if(arguments.length<2){for(var n=NT(this.node()),o=-1,s=r.length;++o<s;)if(!n.contains(r[o]))return!1;return!0}return this.each((typeof t=="function"?Xxe:t?Gxe:Wxe)(r,t))}function Zxe(){this.textContent=""}function Yxe(e){return function(){this.textContent=e}}function Jxe(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Qxe(e){return arguments.length?this.each(e==null?Zxe:(typeof e=="function"?Jxe:Yxe)(e)):this.node().textContent}function ewe(){this.innerHTML=""}function twe(e){return function(){this.innerHTML=e}}function rwe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function nwe(e){return arguments.length?this.each(e==null?ewe:(typeof e=="function"?rwe:twe)(e)):this.node().innerHTML}function iwe(){this.nextSibling&&this.parentNode.appendChild(this)}function owe(){return this.each(iwe)}function awe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function swe(){return this.each(awe)}function lwe(e){var t=typeof e=="function"?e:s7(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function uwe(){return null}function cwe(e,t){var r=typeof e=="function"?e:s7(e),n=t==null?uwe:typeof t=="function"?t:OT(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function hwe(){var e=this.parentNode;e&&e.removeChild(this)}function dwe(){return this.each(hwe)}function fwe(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function pwe(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function mwe(e){return this.select(e?pwe:fwe)}function gwe(e){return arguments.length?this.property("__data__",e):this.node().__data__}function ywe(e){return function(t){e.call(this,t,this.__data__)}}function vwe(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function bwe(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,o=t.length,s;r<o;++r)s=t[r],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++n]=s;++n?t.length=n:delete this.__on}}}function _we(e,t,r){return function(){var n=this.__on,o,s=ywe(t);if(n){for(var u=0,l=n.length;u<l;++u)if((o=n[u]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=s,o.options=r),o.value=t;return}}this.addEventListener(e.type,s,r),o={type:e.type,name:e.name,value:t,listener:s,options:r},n?n.push(o):this.__on=[o]}}function xwe(e,t,r){var n=vwe(e+""),o,s=n.length,u;if(arguments.length<2){var l=this.node().__on;if(l){for(var f=0,v=l.length,x;f<v;++f)for(o=0,x=l[f];o<s;++o)if((u=n[o]).type===x.type&&u.name===x.name)return x.value}return}for(l=t?_we:bwe,o=0;o<s;++o)this.each(l(n[o],t,r));return this}function y7(e,t,r){var n=d7(e),o=n.CustomEvent;typeof o=="function"?o=new o(t,r):(o=n.document.createEvent("Event"),r?(o.initEvent(t,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function wwe(e,t){return function(){return y7(this,e,t)}}function Swe(e,t){return function(){return y7(this,e,t.apply(this,arguments))}}function Cwe(e,t){return this.each((typeof t=="function"?Swe:wwe)(e,t))}function*Awe(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],o=0,s=n.length,u;o<s;++o)(u=n[o])&&(yield u)}var Ewe=[null];function Uc(e,t){this._groups=e,this._parents=t}function m2(){return new Uc([[document.documentElement]],Ewe)}function Twe(){return this}Uc.prototype=m2.prototype={constructor:Uc,select:J_e,selectAll:rxe,selectChild:axe,selectChildren:cxe,filter:hxe,data:yxe,enter:dxe,exit:bxe,join:_xe,merge:xxe,selection:Twe,order:wxe,sort:Sxe,call:Axe,nodes:Exe,node:Txe,size:Pxe,empty:kxe,each:Ixe,attr:Fxe,style:jxe,property:Hxe,classed:Kxe,text:Qxe,html:nwe,raise:owe,lower:swe,append:lwe,insert:cwe,remove:dwe,clone:mwe,datum:gwe,on:xwe,dispatch:Cwe,[Symbol.iterator]:Awe};function FT(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function v7(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function g2(){}var Tv=.7,nx=1/Tv,ig="\\s*([+-]?\\d+)\\s*",Pv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pwe=/^#([0-9a-f]{3,8})$/,kwe=new RegExp(`^rgb\\(${ig},${ig},${ig}\\)$`),Iwe=new RegExp(`^rgb\\(${Bh},${Bh},${Bh}\\)$`),Lwe=new RegExp(`^rgba\\(${ig},${ig},${ig},${Pv}\\)$`),Mwe=new RegExp(`^rgba\\(${Bh},${Bh},${Bh},${Pv}\\)$`),Dwe=new RegExp(`^hsl\\(${Pv},${Bh},${Bh}\\)$`),Rwe=new RegExp(`^hsla\\(${Pv},${Bh},${Bh},${Pv}\\)$`),zD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};FT(g2,kv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:jD,formatHex:jD,formatHex8:Owe,formatHsl:Nwe,formatRgb:UD,toString:UD});function jD(){return this.rgb().formatHex()}function Owe(){return this.rgb().formatHex8()}function Nwe(){return b7(this).formatHsl()}function UD(){return this.rgb().formatRgb()}function kv(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Pwe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?VD(t):r===3?new Fl(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Eb(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Eb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=kwe.exec(e))?new Fl(t[1],t[2],t[3],1):(t=Iwe.exec(e))?new Fl(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Lwe.exec(e))?Eb(t[1],t[2],t[3],t[4]):(t=Mwe.exec(e))?Eb(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Dwe.exec(e))?GD(t[1],t[2]/100,t[3]/100,1):(t=Rwe.exec(e))?GD(t[1],t[2]/100,t[3]/100,t[4]):zD.hasOwnProperty(e)?VD(zD[e]):e==="transparent"?new Fl(NaN,NaN,NaN,0):null}function VD(e){return new Fl(e>>16&255,e>>8&255,e&255,1)}function Eb(e,t,r,n){return n<=0&&(e=t=r=NaN),new Fl(e,t,r,n)}function Fwe(e){return e instanceof g2||(e=kv(e)),e?(e=e.rgb(),new Fl(e.r,e.g,e.b,e.opacity)):new Fl}function lA(e,t,r,n){return arguments.length===1?Fwe(e):new Fl(e,t,r,n??1)}function Fl(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}FT(Fl,lA,v7(g2,{brighter(e){return e=e==null?nx:Math.pow(nx,e),new Fl(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Tv:Math.pow(Tv,e),new Fl(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Fl(Bp(this.r),Bp(this.g),Bp(this.b),ix(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qD,formatHex:qD,formatHex8:$we,formatRgb:HD,toString:HD}));function qD(){return`#${Ap(this.r)}${Ap(this.g)}${Ap(this.b)}`}function $we(){return`#${Ap(this.r)}${Ap(this.g)}${Ap(this.b)}${Ap((isNaN(this.opacity)?1:this.opacity)*255)}`}function HD(){const e=ix(this.opacity);return`${e===1?"rgb(":"rgba("}${Bp(this.r)}, ${Bp(this.g)}, ${Bp(this.b)}${e===1?")":`, ${e})`}`}function ix(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Bp(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ap(e){return e=Bp(e),(e<16?"0":"")+e.toString(16)}function GD(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Oc(e,t,r,n)}function b7(e){if(e instanceof Oc)return new Oc(e.h,e.s,e.l,e.opacity);if(e instanceof g2||(e=kv(e)),!e)return new Oc;if(e instanceof Oc)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,o=Math.min(t,r,n),s=Math.max(t,r,n),u=NaN,l=s-o,f=(s+o)/2;return l?(t===s?u=(r-n)/l+(r<n)*6:r===s?u=(n-t)/l+2:u=(t-r)/l+4,l/=f<.5?s+o:2-s-o,u*=60):l=f>0&&f<1?0:u,new Oc(u,l,f,e.opacity)}function Bwe(e,t,r,n){return arguments.length===1?b7(e):new Oc(e,t,r,n??1)}function Oc(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}FT(Oc,Bwe,v7(g2,{brighter(e){return e=e==null?nx:Math.pow(nx,e),new Oc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Tv:Math.pow(Tv,e),new Oc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,o=2*r-n;return new Fl(f3(e>=240?e-240:e+120,o,n),f3(e,o,n),f3(e<120?e+240:e-120,o,n),this.opacity)},clamp(){return new Oc(WD(this.h),Tb(this.s),Tb(this.l),ix(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ix(this.opacity);return`${e===1?"hsl(":"hsla("}${WD(this.h)}, ${Tb(this.s)*100}%, ${Tb(this.l)*100}%${e===1?")":`, ${e})`}`}}));function WD(e){return e=(e||0)%360,e<0?e+360:e}function Tb(e){return Math.max(0,Math.min(1,e||0))}function f3(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const _7=e=>()=>e;function zwe(e,t){return function(r){return e+r*t}}function jwe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Uwe(e){return(e=+e)==1?x7:function(t,r){return r-t?jwe(t,r,e):_7(isNaN(t)?r:t)}}function x7(e,t){var r=t-e;return r?zwe(e,r):_7(isNaN(e)?t:e)}const XD=function e(t){var r=Uwe(t);function n(o,s){var u=r((o=lA(o)).r,(s=lA(s)).r),l=r(o.g,s.g),f=r(o.b,s.b),v=x7(o.opacity,s.opacity);return function(x){return o.r=u(x),o.g=l(x),o.b=f(x),o.opacity=v(x),o+""}}return n.gamma=e,n}(1);function df(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var uA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,p3=new RegExp(uA.source,"g");function Vwe(e){return function(){return e}}function qwe(e){return function(t){return e(t)+""}}function Hwe(e,t){var r=uA.lastIndex=p3.lastIndex=0,n,o,s,u=-1,l=[],f=[];for(e=e+"",t=t+"";(n=uA.exec(e))&&(o=p3.exec(t));)(s=o.index)>r&&(s=t.slice(r,s),l[u]?l[u]+=s:l[++u]=s),(n=n[0])===(o=o[0])?l[u]?l[u]+=o:l[++u]=o:(l[++u]=null,f.push({i:u,x:df(n,o)})),r=p3.lastIndex;return r<t.length&&(s=t.slice(r),l[u]?l[u]+=s:l[++u]=s),l.length<2?f[0]?qwe(f[0].x):Vwe(t):(t=f.length,function(v){for(var x=0,w;x<t;++x)l[(w=f[x]).i]=w.x(v);return l.join("")})}var KD=180/Math.PI,cA={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function w7(e,t,r,n,o,s){var u,l,f;return(u=Math.sqrt(e*e+t*t))&&(e/=u,t/=u),(f=e*r+t*n)&&(r-=e*f,n-=t*f),(l=Math.sqrt(r*r+n*n))&&(r/=l,n/=l,f/=l),e*n<t*r&&(e=-e,t=-t,f=-f,u=-u),{translateX:o,translateY:s,rotate:Math.atan2(t,e)*KD,skewX:Math.atan(f)*KD,scaleX:u,scaleY:l}}var Pb;function Gwe(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?cA:w7(t.a,t.b,t.c,t.d,t.e,t.f)}function Wwe(e){return e==null||(Pb||(Pb=document.createElementNS("http://www.w3.org/2000/svg","g")),Pb.setAttribute("transform",e),!(e=Pb.transform.baseVal.consolidate()))?cA:(e=e.matrix,w7(e.a,e.b,e.c,e.d,e.e,e.f))}function S7(e,t,r,n){function o(v){return v.length?v.pop()+" ":""}function s(v,x,w,C,P,O){if(v!==w||x!==C){var I=P.push("translate(",null,t,null,r);O.push({i:I-4,x:df(v,w)},{i:I-2,x:df(x,C)})}else(w||C)&&P.push("translate("+w+t+C+r)}function u(v,x,w,C){v!==x?(v-x>180?x+=360:x-v>180&&(v+=360),C.push({i:w.push(o(w)+"rotate(",null,n)-2,x:df(v,x)})):x&&w.push(o(w)+"rotate("+x+n)}function l(v,x,w,C){v!==x?C.push({i:w.push(o(w)+"skewX(",null,n)-2,x:df(v,x)}):x&&w.push(o(w)+"skewX("+x+n)}function f(v,x,w,C,P,O){if(v!==w||x!==C){var I=P.push(o(P)+"scale(",null,",",null,")");O.push({i:I-4,x:df(v,w)},{i:I-2,x:df(x,C)})}else(w!==1||C!==1)&&P.push(o(P)+"scale("+w+","+C+")")}return function(v,x){var w=[],C=[];return v=e(v),x=e(x),s(v.translateX,v.translateY,x.translateX,x.translateY,w,C),u(v.rotate,x.rotate,w,C),l(v.skewX,x.skewX,w,C),f(v.scaleX,v.scaleY,x.scaleX,x.scaleY,w,C),v=x=null,function(P){for(var O=-1,I=C.length,z;++O<I;)w[(z=C[O]).i]=z.x(P);return w.join("")}}}var Xwe=S7(Gwe,"px, ","px)","deg)"),Kwe=S7(Wwe,", ",")",")"),Fg=0,m1=0,i1=0,C7=1e3,ox,g1,ax=0,tm=0,t5=0,Iv=typeof performance=="object"&&performance.now?performance:Date,A7=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function $T(){return tm||(A7(Zwe),tm=Iv.now()+t5)}function Zwe(){tm=0}function sx(){this._call=this._time=this._next=null}sx.prototype=E7.prototype={constructor:sx,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?$T():+r)+(t==null?0:+t),!this._next&&g1!==this&&(g1?g1._next=this:ox=this,g1=this),this._call=e,this._time=r,hA()},stop:function(){this._call&&(this._call=null,this._time=1/0,hA())}};function E7(e,t,r){var n=new sx;return n.restart(e,t,r),n}function Ywe(){$T(),++Fg;for(var e=ox,t;e;)(t=tm-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Fg}function ZD(){tm=(ax=Iv.now())+t5,Fg=m1=0;try{Ywe()}finally{Fg=0,Qwe(),tm=0}}function Jwe(){var e=Iv.now(),t=e-ax;t>C7&&(t5-=t,ax=e)}function Qwe(){for(var e,t=ox,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:ox=r);g1=e,hA(n)}function hA(e){if(!Fg){m1&&(m1=clearTimeout(m1));var t=e-tm;t>24?(e<1/0&&(m1=setTimeout(ZD,e-Iv.now()-t5)),i1&&(i1=clearInterval(i1))):(i1||(ax=Iv.now(),i1=setInterval(Jwe,C7)),Fg=1,A7(ZD))}}function YD(e,t,r){var n=new sx;return t=t==null?0:+t,n.restart(o=>{n.stop(),e(o+t)},t,r),n}var e5e=a7("start","end","cancel","interrupt"),t5e=[],T7=0,JD=1,dA=2,n_=3,QD=4,fA=5,i_=6;function r5(e,t,r,n,o,s){var u=e.__transition;if(!u)e.__transition={};else if(r in u)return;r5e(e,r,{name:t,index:n,group:o,on:e5e,tween:t5e,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:T7})}function BT(e,t){var r=Xc(e,t);if(r.state>T7)throw new Error("too late; already scheduled");return r}function Vh(e,t){var r=Xc(e,t);if(r.state>n_)throw new Error("too late; already running");return r}function Xc(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function r5e(e,t,r){var n=e.__transition,o;n[t]=r,r.timer=E7(s,0,r.time);function s(v){r.state=JD,r.timer.restart(u,r.delay,r.time),r.delay<=v&&u(v-r.delay)}function u(v){var x,w,C,P;if(r.state!==JD)return f();for(x in n)if(P=n[x],P.name===r.name){if(P.state===n_)return YD(u);P.state===QD?(P.state=i_,P.timer.stop(),P.on.call("interrupt",e,e.__data__,P.index,P.group),delete n[x]):+x<t&&(P.state=i_,P.timer.stop(),P.on.call("cancel",e,e.__data__,P.index,P.group),delete n[x])}if(YD(function(){r.state===n_&&(r.state=QD,r.timer.restart(l,r.delay,r.time),l(v))}),r.state=dA,r.on.call("start",e,e.__data__,r.index,r.group),r.state===dA){for(r.state=n_,o=new Array(C=r.tween.length),x=0,w=-1;x<C;++x)(P=r.tween[x].value.call(e,e.__data__,r.index,r.group))&&(o[++w]=P);o.length=w+1}}function l(v){for(var x=v<r.duration?r.ease.call(null,v/r.duration):(r.timer.restart(f),r.state=fA,1),w=-1,C=o.length;++w<C;)o[w].call(e,x);r.state===fA&&(r.on.call("end",e,e.__data__,r.index,r.group),f())}function f(){r.state=i_,r.timer.stop(),delete n[t];for(var v in n)return;delete e.__transition}}function n5e(e,t){var r=e.__transition,n,o,s=!0,u;if(r){t=t==null?null:t+"";for(u in r){if((n=r[u]).name!==t){s=!1;continue}o=n.state>dA&&n.state<fA,n.state=i_,n.timer.stop(),n.on.call(o?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[u]}s&&delete e.__transition}}function i5e(e){return this.each(function(){n5e(this,e)})}function o5e(e,t){var r,n;return function(){var o=Vh(this,e),s=o.tween;if(s!==r){n=r=s;for(var u=0,l=n.length;u<l;++u)if(n[u].name===t){n=n.slice(),n.splice(u,1);break}}o.tween=n}}function a5e(e,t,r){var n,o;if(typeof r!="function")throw new Error;return function(){var s=Vh(this,e),u=s.tween;if(u!==n){o=(n=u).slice();for(var l={name:t,value:r},f=0,v=o.length;f<v;++f)if(o[f].name===t){o[f]=l;break}f===v&&o.push(l)}s.tween=o}}function s5e(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=Xc(this.node(),r).tween,o=0,s=n.length,u;o<s;++o)if((u=n[o]).name===e)return u.value;return null}return this.each((t==null?o5e:a5e)(r,e,t))}function zT(e,t,r){var n=e._id;return e.each(function(){var o=Vh(this,n);(o.value||(o.value={}))[t]=r.apply(this,arguments)}),function(o){return Xc(o,n).value[t]}}function P7(e,t){var r;return(typeof t=="number"?df:t instanceof kv?XD:(r=kv(t))?(t=r,XD):Hwe)(e,t)}function l5e(e){return function(){this.removeAttribute(e)}}function u5e(e){return function(){this.removeAttributeNS(e.space,e.local)}}function c5e(e,t,r){var n,o=r+"",s;return function(){var u=this.getAttribute(e);return u===o?null:u===n?s:s=t(n=u,r)}}function h5e(e,t,r){var n,o=r+"",s;return function(){var u=this.getAttributeNS(e.space,e.local);return u===o?null:u===n?s:s=t(n=u,r)}}function d5e(e,t,r){var n,o,s;return function(){var u,l=r(this),f;return l==null?void this.removeAttribute(e):(u=this.getAttribute(e),f=l+"",u===f?null:u===n&&f===o?s:(o=f,s=t(n=u,l)))}}function f5e(e,t,r){var n,o,s;return function(){var u,l=r(this),f;return l==null?void this.removeAttributeNS(e.space,e.local):(u=this.getAttributeNS(e.space,e.local),f=l+"",u===f?null:u===n&&f===o?s:(o=f,s=t(n=u,l)))}}function p5e(e,t){var r=e5(e),n=r==="transform"?Kwe:P7;return this.attrTween(e,typeof t=="function"?(r.local?f5e:d5e)(r,n,zT(this,"attr."+e,t)):t==null?(r.local?u5e:l5e)(r):(r.local?h5e:c5e)(r,n,t))}function m5e(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function g5e(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function y5e(e,t){var r,n;function o(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&g5e(e,s)),r}return o._value=t,o}function v5e(e,t){var r,n;function o(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&m5e(e,s)),r}return o._value=t,o}function b5e(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=e5(e);return this.tween(r,(n.local?y5e:v5e)(n,t))}function _5e(e,t){return function(){BT(this,e).delay=+t.apply(this,arguments)}}function x5e(e,t){return t=+t,function(){BT(this,e).delay=t}}function w5e(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?_5e:x5e)(t,e)):Xc(this.node(),t).delay}function S5e(e,t){return function(){Vh(this,e).duration=+t.apply(this,arguments)}}function C5e(e,t){return t=+t,function(){Vh(this,e).duration=t}}function A5e(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?S5e:C5e)(t,e)):Xc(this.node(),t).duration}function E5e(e,t){if(typeof t!="function")throw new Error;return function(){Vh(this,e).ease=t}}function T5e(e){var t=this._id;return arguments.length?this.each(E5e(t,e)):Xc(this.node(),t).ease}function P5e(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Vh(this,e).ease=r}}function k5e(e){if(typeof e!="function")throw new Error;return this.each(P5e(this._id,e))}function I5e(e){typeof e!="function"&&(e=u7(e));for(var t=this._groups,r=t.length,n=new Array(r),o=0;o<r;++o)for(var s=t[o],u=s.length,l=n[o]=[],f,v=0;v<u;++v)(f=s[v])&&e.call(f,f.__data__,v,s)&&l.push(f);return new Dd(n,this._parents,this._name,this._id)}function L5e(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,o=r.length,s=Math.min(n,o),u=new Array(n),l=0;l<s;++l)for(var f=t[l],v=r[l],x=f.length,w=u[l]=new Array(x),C,P=0;P<x;++P)(C=f[P]||v[P])&&(w[P]=C);for(;l<n;++l)u[l]=t[l];return new Dd(u,this._parents,this._name,this._id)}function M5e(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function D5e(e,t,r){var n,o,s=M5e(t)?BT:Vh;return function(){var u=s(this,e),l=u.on;l!==n&&(o=(n=l).copy()).on(t,r),u.on=o}}function R5e(e,t){var r=this._id;return arguments.length<2?Xc(this.node(),r).on.on(e):this.each(D5e(r,e,t))}function O5e(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function N5e(){return this.on("end.remove",O5e(this._id))}function F5e(e){var t=this._name,r=this._id;typeof e!="function"&&(e=OT(e));for(var n=this._groups,o=n.length,s=new Array(o),u=0;u<o;++u)for(var l=n[u],f=l.length,v=s[u]=new Array(f),x,w,C=0;C<f;++C)(x=l[C])&&(w=e.call(x,x.__data__,C,l))&&("__data__"in x&&(w.__data__=x.__data__),v[C]=w,r5(v[C],t,r,C,v,Xc(x,r)));return new Dd(s,this._parents,t,r)}function $5e(e){var t=this._name,r=this._id;typeof e!="function"&&(e=l7(e));for(var n=this._groups,o=n.length,s=[],u=[],l=0;l<o;++l)for(var f=n[l],v=f.length,x,w=0;w<v;++w)if(x=f[w]){for(var C=e.call(x,x.__data__,w,f),P,O=Xc(x,r),I=0,z=C.length;I<z;++I)(P=C[I])&&r5(P,t,r,I,C,O);s.push(C),u.push(x)}return new Dd(s,u,t,r)}var B5e=m2.prototype.constructor;function z5e(){return new B5e(this._groups,this._parents)}function j5e(e,t){var r,n,o;return function(){var s=Ng(this,e),u=(this.style.removeProperty(e),Ng(this,e));return s===u?null:s===r&&u===n?o:o=t(r=s,n=u)}}function k7(e){return function(){this.style.removeProperty(e)}}function U5e(e,t,r){var n,o=r+"",s;return function(){var u=Ng(this,e);return u===o?null:u===n?s:s=t(n=u,r)}}function V5e(e,t,r){var n,o,s;return function(){var u=Ng(this,e),l=r(this),f=l+"";return l==null&&(f=l=(this.style.removeProperty(e),Ng(this,e))),u===f?null:u===n&&f===o?s:(o=f,s=t(n=u,l))}}function q5e(e,t){var r,n,o,s="style."+t,u="end."+s,l;return function(){var f=Vh(this,e),v=f.on,x=f.value[s]==null?l||(l=k7(t)):void 0;(v!==r||o!==x)&&(n=(r=v).copy()).on(u,o=x),f.on=n}}function H5e(e,t,r){var n=(e+="")=="transform"?Xwe:P7;return t==null?this.styleTween(e,j5e(e,n)).on("end.style."+e,k7(e)):typeof t=="function"?this.styleTween(e,V5e(e,n,zT(this,"style."+e,t))).each(q5e(this._id,e)):this.styleTween(e,U5e(e,n,t),r).on("end.style."+e,null)}function G5e(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function W5e(e,t,r){var n,o;function s(){var u=t.apply(this,arguments);return u!==o&&(n=(o=u)&&G5e(e,u,r)),n}return s._value=t,s}function X5e(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,W5e(e,t,r??""))}function K5e(e){return function(){this.textContent=e}}function Z5e(e){return function(){var t=e(this);this.textContent=t??""}}function Y5e(e){return this.tween("text",typeof e=="function"?Z5e(zT(this,"text",e)):K5e(e==null?"":e+""))}function J5e(e){return function(t){this.textContent=e.call(this,t)}}function Q5e(e){var t,r;function n(){var o=e.apply(this,arguments);return o!==r&&(t=(r=o)&&J5e(o)),t}return n._value=e,n}function eSe(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Q5e(e))}function tSe(){for(var e=this._name,t=this._id,r=I7(),n=this._groups,o=n.length,s=0;s<o;++s)for(var u=n[s],l=u.length,f,v=0;v<l;++v)if(f=u[v]){var x=Xc(f,t);r5(f,e,r,v,u,{time:x.time+x.delay+x.duration,delay:0,duration:x.duration,ease:x.ease})}return new Dd(n,this._parents,e,r)}function rSe(){var e,t,r=this,n=r._id,o=r.size();return new Promise(function(s,u){var l={value:u},f={value:function(){--o===0&&s()}};r.each(function(){var v=Vh(this,n),x=v.on;x!==e&&(t=(e=x).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(f)),v.on=t}),o===0&&s()})}var nSe=0;function Dd(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function I7(){return++nSe}var hd=m2.prototype;Dd.prototype={constructor:Dd,select:F5e,selectAll:$5e,selectChild:hd.selectChild,selectChildren:hd.selectChildren,filter:I5e,merge:L5e,selection:z5e,transition:tSe,call:hd.call,nodes:hd.nodes,node:hd.node,size:hd.size,empty:hd.empty,each:hd.each,on:R5e,attr:p5e,attrTween:b5e,style:H5e,styleTween:X5e,text:Y5e,textTween:eSe,remove:N5e,tween:s5e,delay:w5e,duration:A5e,ease:T5e,easeVarying:k5e,end:rSe,[Symbol.iterator]:hd[Symbol.iterator]};function iSe(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var oSe={time:null,delay:0,duration:250,ease:iSe};function aSe(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function sSe(e){var t,r;e instanceof Dd?(t=e._id,e=e._name):(t=I7(),(r=oSe).time=$T(),e=e==null?null:e+"");for(var n=this._groups,o=n.length,s=0;s<o;++s)for(var u=n[s],l=u.length,f,v=0;v<l;++v)(f=u[v])&&r5(f,e,t,v,u,r||aSe(f,t));return new Dd(n,this._parents,e,t)}m2.prototype.interrupt=i5e;m2.prototype.transition=sSe;function y1(e,t,r){this.k=e,this.x=t,this.y=r}y1.prototype={constructor:y1,scale:function(e){return e===1?this:new y1(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new y1(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};y1.prototype;var jT={},lSe=Fd;Object.defineProperty(jT,"__esModule",{value:!0});var L7=jT.default=void 0,uSe=lSe($d()),cSe=ut;L7=jT.default=(0,uSe.default)((0,cSe.jsx)("path",{d:"M4 4h7V2H4c-1.1 0-2 .9-2 2v7h2zm6 9-4 5h12l-3-4-2.03 2.71zm7-4.5c0-.83-.67-1.5-1.5-1.5S14 7.67 14 8.5s.67 1.5 1.5 1.5S17 9.33 17 8.5M20 2h-7v2h7v7h2V4c0-1.1-.9-2-2-2m0 18h-7v2h7c1.1 0 2-.9 2-2v-7h-2zM4 13H2v7c0 1.1.9 2 2 2h7v-2H4z"}),"Wallpaper");var UT={},hSe=Fd;Object.defineProperty(UT,"__esModule",{value:!0});var M7=UT.default=void 0,dSe=hSe($d()),fSe=ut;M7=UT.default=(0,dSe.default)((0,fSe.jsx)("path",{d:"m11.99 18.54-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27z"}),"Layers");var VT={},pSe=Fd;Object.defineProperty(VT,"__esModule",{value:!0});var D7=VT.default=void 0,mSe=pSe($d()),gSe=ut;D7=VT.default=(0,mSe.default)((0,gSe.jsx)("path",{d:"m16.24 11.51 1.57-1.57-3.75-3.75-1.57 1.57-4.14-4.13c-.78-.78-2.05-.78-2.83 0l-1.9 1.9c-.78.78-.78 2.05 0 2.83l4.13 4.13L3 17.25V21h3.75l4.76-4.76 4.13 4.13c.95.95 2.23.6 2.83 0l1.9-1.9c.78-.78.78-2.05 0-2.83zm-7.06-.44L5.04 6.94l1.89-1.9L8.2 6.31 7.02 7.5l1.41 1.41 1.19-1.19 1.45 1.45zm7.88 7.89-4.13-4.13 1.9-1.9 1.45 1.45-1.19 1.19 1.41 1.41 1.19-1.19 1.27 1.27zm3.65-11.92c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.47-.47-1.12-.29-1.41 0l-1.83 1.83 3.75 3.75z"}),"DesignServices");var qT={},ySe=Fd;Object.defineProperty(qT,"__esModule",{value:!0});var R7=qT.default=void 0,vSe=ySe($d()),bSe=ut;R7=qT.default=(0,vSe.default)((0,bSe.jsx)("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5zm4-3H19v1h1.5V11H19v2h-1.5V7h3zM9 9.5h1v-1H9zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm10 5.5h1v-3h-1z"}),"PictureAsPdf");var an=function(){return an=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},an.apply(this,arguments)};function n5(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function _Se(e,t,r,n){function o(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function l(x){try{v(n.next(x))}catch(w){u(w)}}function f(x){try{v(n.throw(x))}catch(w){u(w)}}function v(x){x.done?s(x.value):o(x.value).then(l,f)}v((n=n.apply(e,[])).next())})}function xSe(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,u;return u={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function l(v){return function(x){return f([v,x])}}function f(v){if(n)throw new TypeError("Generator is already executing.");for(;u&&(u=0,v[0]&&(r=0)),r;)try{if(n=1,o&&(s=v[0]&2?o.return:v[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,v[1])).done)return s;switch(o=0,s&&(v=[v[0]&2,s.value]),v[0]){case 0:case 1:s=v;break;case 4:return r.label++,{value:v[1],done:!1};case 5:r.label++,o=v[1],v=[0];continue;case 7:v=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(v[0]===6||v[0]===2)){r=0;continue}if(v[0]===3&&(!s||v[1]>s[0]&&v[1]<s[3])){r.label=v[1];break}if(v[0]===6&&r.label<s[1]){r.label=s[1],s=v;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(v);break}s[2]&&r.ops.pop(),r.trys.pop();continue}v=t.call(e,r)}catch(x){v=[6,x],o=0}finally{n=s=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}}function xd(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var wSe=function(){function e(t){var r=this,n=this;this.registeredElements={},this.baseLayers=[],this.firstSymbolLayer=void 0,this.eventHandlers={layerchange:[],viewportchange:[],addsource:[],addlayer:[]},this.wrapper={on:function(f,v,x,w){if(n.eventHandlers[f]){typeof x=="string"&&(w=x,x={}),n.eventHandlers[f].push({handler:v,options:x});var C=[f,v];w&&typeof w=="string"&&(n.initRegisteredElements(w),n.registeredElements[w].wrapperEvents.push(C))}},off:function(f,v){n.eventHandlers[f]&&(n.eventHandlers[f]=n.eventHandlers[f].filter(function(x){return Object.is(x.handler,v)?!1:x}))},fire:function(f,v){if(n.eventHandlers[f]){var x=v||window,w=new Event(f);n.eventHandlers[f].forEach(function(C){C.handler.call(x,w,n,v)})}},layerState:[],layerStateString:"",oldLayerStateStrings:{},buildLayerObject:function(f){if(f)return{id:f.id,type:f.type,visible:f.visibility!=="none",baseLayer:n.baseLayers.indexOf(f.id)!==-1}},buildLayerObjects:function(){return n.map.style._order.map(function(f){return n.wrapper.buildLayerObject(n.map.style._layers[f])}).filter(function(f){return typeof f<"u"})},refreshLayerState:function(){n.wrapper.layerState=n.wrapper.buildLayerObjects(),JSON.stringify(n.wrapper.layerState)!==n.wrapper.layerStateString&&(n.wrapper.fire("layerchange"),n.wrapper.layerStateString=JSON.stringify(n.wrapper.layerState))},viewportState:{center:{lng:0,lat:0},zoom:0,bearing:0,pitch:0},viewportStateString:"{}",oldViewportStateString:"{}",getViewport:function(){return typeof n.map.getCenter=="function"?{center:function(f){var v=f.lng,x=f.lat;return{lng:v,lat:x}}(n.map.getCenter()),zoom:n.map.getZoom(),bearing:n.map.getBearing(),pitch:n.map.getPitch()}:{center:{lng:0,lat:0},zoom:0,bearing:0,pitch:0}},refreshViewport:function(){n.wrapper.viewportState=n.wrapper.getViewport()}},this.cancelled=!1,this.initRegisteredElements=function(f,v){(typeof n.registeredElements[f]>"u"||typeof v<"u"&&v)&&(n.registeredElements[f]={layers:[],sources:[],images:[],events:[],controls:[],wrapperEvents:[]})},this.addLayer=function(f,v,x){return n.map.style&&(x&&typeof x=="string"&&typeof f.id<"u"&&(n.initRegisteredElements(x),n.registeredElements[x].layers.push(f.id),f!=null&&f.source&&typeof(f==null?void 0:f.source)!="string"&&n.registeredElements[x].sources.push(f.id)),n.map.addLayer(f,v),n.wrapper.fire("addlayer",{layer_id:f.id})),r},this.addSource=function(f,v,x){return n.map.style&&(x&&typeof x=="string"&&typeof f<"u"&&(n.initRegisteredElements(x),n.registeredElements[x].sources.push(f)),n.map.addSource(f,v),n.wrapper.fire("addsource",{source_id:f})),r},this.addImage=function(f,v,x,w){return n.map.style?typeof x=="string"&&typeof w>"u"?n.addImage(f,v,void 0,x):(w&&typeof w=="string"&&typeof f<"u"&&(n.initRegisteredElements(w),n.registeredElements[w].images.push(f)),n.map.addImage(f,v,x),r):r},this.on=function(f,v,x,w){var C;if(typeof x=="string"&&typeof v=="function")return n.on.call(n,f,void 0,v,x);var P=[f,v,x];return v||(P=[f,x]),w&&typeof w=="string"&&(n.initRegisteredElements(w),n.registeredElements[w].events.push(P)),(C=n.map).on.apply(C,P),r},this.addControl=function(f,v,x){return x&&typeof x=="string"&&(n.initRegisteredElements(x),n.registeredElements[x].controls.push(f)),n.map.addControl(f,v),r},this.cleanup=function(f){n.map.style&&typeof n.registeredElements[f]<"u"&&(n.registeredElements[f].layers.forEach(function(v){n.map.style.getLayer(v)&&n.map.style.removeLayer(v)}),n.registeredElements[f].sources.forEach(function(v){n.map.style.getSource(v)&&n.map.style.removeSource(v)}),n.registeredElements[f].images.forEach(function(v){n.map.hasImage(v)&&n.map.style.removeImage(v)}),n.registeredElements[f].events.forEach(function(v){var x;(x=n.map).off.apply(x,v)}),n.registeredElements[f].controls.forEach(function(v){n.map.removeControl(v)}),n.registeredElements[f].wrapperEvents.forEach(function(v){var x;(x=n.wrapper).off.apply(x,v)}),n.initRegisteredElements(f,!0))};var o=["moveLayer","removeLayer","removeSource","setPaintProperty","setLayoutProperty"];o.forEach(function(f){r[f]=function(){for(var v,x=[],w=0;w<arguments.length;w++)x[w]=arguments[w];return n.map&&n.map.style&&typeof n.map.style[f]=="function"&&(v=n.map.style)[f].apply(v,x),n.map._update?n.map._update(!0):void 0}});var s=["getLayer","getSource","listImages","getPaintProperty","getLayoutProperty","removeImage"];s.forEach(function(f){r[f]=function(){for(var v,x=[],w=0;w<arguments.length;w++)x[w]=arguments[w];return n.map&&n.map.style?(v=n.map.style)[f].apply(v,x):!1}}),this.addNativeMaplibreFunctionsAndProps=function(){Object.getOwnPropertyNames(Object.getPrototypeOf(r.map)).forEach(function(f){typeof r[f]>"u"&&(r[f]=function(){for(var v,x=[],w=0;w<arguments.length;w++)x[w]=arguments[w];return(v=n.map)[f].apply(v,x)})}),Object.keys(r.map).forEach(function(f){typeof r[f]>"u"&&(r[f]=n.map[f])})};var u=["getZoom","setZoom","getCenter","setCenter","getBearing","setBearing","getPitch","setPitch","jumpTo","flyTo","panTo","panBy","panBy","zoomTo","zoomIn","zoomOut","getPadding","setPadding","rotateTo","resetNorth","resetNorthPitch","snapToNorth","cameraForBounds","fitBounds","fitScreenCoordinates","getFreeCameraOptions","setFreeCameraOptions","easeTo","stop"];u.forEach(function(f){r[f]=function(){for(var v,x=[],w=0;w<arguments.length;w++)x[w]=arguments[w];if(typeof n.map[f]=="function")return(v=n.map[f]).call.apply(v,xd([n.map],x,!1))}});var l=function(){return _Se(r,void 0,void 0,function(){return xSe(this,function(f){switch(f.label){case 0:return typeof t.mapOptions.style=="string"&&t.mapOptions.style.indexOf("mapbox://")===-1?[4,fetch(t.mapOptions.style).then(function(v){if(v.ok)return v.json();throw new Error("error loading map style.json")}).then(function(v){v.layers.forEach(function(x){n.baseLayers.push(x.id),!n.firstSymbolLayer&&x.type==="symbol"&&(n.firstSymbolLayer=x.id)}),n.styleJson=v,t.mapOptions.style=v}).catch(function(v){console.log(v)})]:[3,2];case 1:f.sent(),f.label=2;case 2:return n.map=new VV.Map(t.mapOptions),n.addNativeMaplibreFunctionsAndProps(),n.wrapper.refreshViewport(),n.wrapper.fire("viewportchange"),n.map.on("load",function(){n.addNativeMaplibreFunctionsAndProps()}),n.map.on("move",function(){n.wrapper.viewportState=n.wrapper.getViewport(),n.wrapper.fire("viewportchange")}),n.map.on("idle",function(){n.wrapper.refreshLayerState()}),n.map.on("data",function(){n.wrapper.refreshLayerState()}),typeof t.onReady=="function"&&t.onReady(n.map,n),[2]}})})};l()}return e}(),SSe=Jv({palette:{mode:"light"}}),CSe=Jv({palette:{mode:"dark"}}),ASe=function(e){return an(an({},e==="light"?SSe:CSe),{palette:an({mode:e},e==="dark"?{primary:{main:"#009EE0"},secondary:{main:"#747577"},background:{paper:"#313131"},text:{primary:"#FFF",contrast:"#000"},topToolbar:{barColor:"#000"},navigation:{navColor:"#313131",navHover:"#747577"},GPS:{GPSActiveColor:"#fff",GPSInactiveColor:"#fff",GPSActiveBackgroundColor:"#747577"},compass:{compColor:"#313131",compHover:"#747577",compStroke:"#d3dce1",compNorth:"#cf003f",compSouth:"#d3dcf0"}}:{primary:{main:"#009EE0"},secondary:{main:"#747577"},text:{primary:"#000",contrast:"#fff"},topToolbar:{barColor:"#fff"},navigation:{navColor:"#fff",navHover:"#f5f5f5"},GPS:{GPSActiveColor:"#009EE0",GPSInactiveColor:"#000",GPSActiveBackgroundColor:"#fff"},compass:{compColor:"#fff",compHover:"#f5f5f5",compStroke:"#009ee0",compNorth:"#cf003f",compSouth:"#d3dcf0"}})})},ESe=function(e){var t,r=ASe(["light","dark"].includes(e)?e:"light");return Jv(r,{components:{MuiTypography:{styleOverrides:{root:{}}},MuiAppBar:{styleOverrides:{root:{backgroundColor:r.palette.topToolbar.barColor}}},MuiButton:{variants:[{props:{variant:"navtools"},style:(t={minWidth:"20px",minHeight:"20px",fontWeight:600},t[r.breakpoints.down("md")]={width:"50px",height:"50px",fontSize:"1.4em"},t[r.breakpoints.up("md")]={width:"30px",height:"30px",fontSize:"1.2em"},t.color=r.palette.text.primary,t.backgroundColor=r.palette.navigation.navColor,t.borderRadius="23%",t.margin="0.15px",t.marginTop="4px",t[":hover"]={backgroundColor:r.palette.navigation.navHover},t)}]},MuiListItemText:{styleOverrides:{primary:function(n){var o=n.ownerState;return(o==null?void 0:o.variant)==="layerlist"?{fontSize:"0.9rem"}:{}},secondary:function(n){var o=n.ownerState;return(o==null?void 0:o.variant)==="layerlist"?{fontSize:"0.7rem"}:{}}}}}})},TSe={source_openmaptiles_url:"https://wms.wheregroup.com/tileserver/tile/world-0-14.json",sprite:"https://wms.wheregroup.com/tileserver/sprites/osm-bright",glyphs:"https://wms.wheregroup.com/tileserver/fonts/{fontstack}/{range}.pbf",sourceOptions_tiles:["https://wms.wheregroup.com/tileserver/tile/world-0-14/{z}/{x}/{y}.pbf"]},PSe=ve.createContext({});function kSe(e){var t=ve.useState([]),r=t[0],n=t[1],o=ve.useState([]),s=o[0],u=o[1],l=ve.useState([]),f=l[0],v=l[1],x=ve.useState(TSe.sourceOptions_tiles[0]),w=x[0],C=x[1],P=Q.useMemo(function(){return{layerId:"openmaptiles",sourceOptions:{type:"vector",tiles:[w]}}},[w]),O=function(V){if(V){var W=[],re=[];V.layers.forEach(function(ie,J){ie.type==="symbol"?re.push(ie):(J===0&&(ie.id=V.name||"background"),W.push(ie))}),u(W),v(re)}};Q.useEffect(function(){if(r.filter(function(W){return!(W!=null&&W.id)}).length){var V=xd([],r,!0);V.forEach(function(W){W!=null&&W.id||(W.id=mv())}),n(V)}},[r]);var I=Q.useCallback(function(V,W){var re,ie=(re=r==null?void 0:r.filter)===null||re===void 0?void 0:re.call(r,function(X){return X.id===V});if(ie.length>0){var J=xd([],r,!0),ne=ie[0],Ae=r.indexOf(ne),Z=W(Ae);Z>=0&&Z<=r.length-1&&(J.splice(Ae,1),J.splice(Z,0,ne),n(J))}},[r]),z=Q.useCallback(function(V){I(V,function(W){return W+1})},[I]),N=Q.useCallback(function(V){I(V,function(W){return W-1})},[I]),j={layers:r,setLayers:n,backgroundLayers:s,setBackgroundLayers:u,symbolLayers:f,setSymbolLayers:v,updateStyle:O,vtLayerConfig:P,tileUrl:w,setTileUrl:C,moveUp:N,moveDown:z,moveLayer:I};return ve.createElement(PSe.Provider,{value:j},e.children)}var i5=ve.createContext({}),ISe=function(e){var t=e.children,r=Q.useState(void 0),n=r[0],o=r[1],s=Q.useState([]),u=s[0],l=s[1],f=Q.useRef([]),v=Q.useRef({}),x=function(P){if(P){typeof v.current[P]<"u"&&delete v.current[P];var O=f.current.indexOf(P);O>-1&&f.current.splice(O,1),l(xd([],f.current,!0)),f.current.length===0&&n&&o(void 0)}else x("anonymous_map")},w=function(P){if(o(P),u.length===0){var O="anonymous_map";l(xd(xd([],u,!0),[O],!1)),v.current[O]=P}},C={map:n,setMap:w,maps:v.current,mapIds:u,registerMap:function(P,O){P&&O&&(v.current[P]=O,f.current.push(P),l(xd([],f.current,!0)),(!n||(n==null?void 0:n.cancelled)===!0)&&o(O))},removeMap:x,mapExists:function(P){return P&&Object.keys(v.current).indexOf(P)===-1?!1:!(!P&&!n)},getMap:function(P){return P&&u.indexOf(P)!==-1?v.current[P]:!P&&n?n:null}};return ve.createElement(i5.Provider,{value:C},ve.createElement(kSe,null,ve.createElement(YG,{theme:ESe("light")},t)))},o_={mapId:void 0,options:{center:{lng:8.607,lat:53.1409349},zoom:11,container:"",style:{version:8,name:"blank",center:[0,0],zoom:0,sources:{},sprite:"https://wms.wheregroup.com/tileserver/sprites/osm-bright",glyphs:"https://wms.wheregroup.com/tileserver/fonts/{fontstack}/{range}.pbf",layers:[{id:"_background",type:"background",paint:{"background-color":"rgba(0,0,0,0)"}}]}}},O7=function(e){var t,r,n=Q.useRef(),o=Q.useRef(),s=Q.useContext(i5),u=Q.useRef(e.mapId),l=Q.useRef(!1),f=Q.useRef((t=e.options)===null||t===void 0?void 0:t.style);return Q.useEffect(function(){var v=u.current;return function(){var x,w;l.current=!1,s.removeMap(v),n.current&&((w=(x=n.current.map)===null||x===void 0?void 0:x.remove)===null||w===void 0||w.call(x),n.current.cancelled=!0,n.current=void 0)}},[]),Q.useEffect(function(){var v,x;l.current||o.current&&(l.current=!0,n.current=new wSe({mapOptions:an(an(an({style:""},e.options),!((v=e==null?void 0:e.options)===null||v===void 0)&&v.style?{}:{style:(x=o_==null?void 0:o_.options)===null||x===void 0?void 0:x.style}),{container:o.current}),onReady:function(w,C){w.once("load",function(){C!=null&&C.cancelled?w.remove():(window._map=w,e.mapId?s.registerMap(e.mapId,C):s.setMap(C))})}}))},[e.options,e.mapId]),Q.useEffect(function(){var v,x;!((v=n.current)===null||v===void 0)&&v.map&&(!((x=e==null?void 0:e.options)===null||x===void 0)&&x.style)&&f.current!==e.options.style&&(f.current=e.options.style,n.current.map.setStyle(e.options.style))},[(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.style]),ve.createElement("div",{ref:o,className:"mapContainer",style:e.style})};O7.defaultProps=o_;function N7(e){var t=Q.useContext(i5),r=Q.useRef(!1),n=Q.useRef(),o=Q.useState(),s=o[0],u=o[1],l=Q.useRef(void 0),f=Q.useState([]),v=f[0],x=f[1],w=Q.useRef(),C=Q.useRef(mv()),P=Q.useCallback(function(I){var z,N;return!(!((z=e==null?void 0:e.filter)===null||z===void 0)&&z.includeBaseLayers)&&(I!=null&&I.baseLayer)?!1:typeof((N=e.filter)===null||N===void 0?void 0:N.matchLayerIds)<"u"?e.filter.matchLayerIds instanceof RegExp?e.filter.matchLayerIds.test(I.id):I.id.includes(e.filter.matchLayerIds):!0},[e.filter]),O=Q.useCallback(function(){if(n.current){var I=n.current.wrapper.layerState.filter(P),z=JSON.stringify(I);w.current!==z&&(w.current=z,x(I))}},[P]);return Q.useEffect(function(){var I=C.current;return function(){n.current&&(n.current.cleanup(I),n.current=void 0),r.current=!1}},[]),Q.useEffect(function(){var I,z,N,j;if(!(!t.mapExists(e.mapId)||r.current)){if(r.current=!0,n.current=t.getMap(e.mapId),!n.current){r.current=!1;return}!((I=e==null?void 0:e.watch)===null||I===void 0)&&I.viewport&&(u(n.current.wrapper.viewportState),n.current.wrapper.on("viewportchange",function(){var V,W;l.current!==((V=n.current)===null||V===void 0?void 0:V.wrapper.viewportStateString)&&u((W=n.current)===null||W===void 0?void 0:W.wrapper.viewportState)},C.current)),!((z=e==null?void 0:e.watch)===null||z===void 0)&&z.layers&&(O(),n.current.wrapper.on("layerchange",O,{includeBaseLayers:(N=e==null?void 0:e.filter)===null||N===void 0?void 0:N.includeBaseLayers,matchLayerIds:(j=e==null?void 0:e.filter)===null||j===void 0?void 0:j.matchLayerIds},C.current))}},[t.mapIds,t,e.mapId,O,e]),{layers:v,viewport:s}}N7.defaultProps={mapId:void 0,watch:{layers:!0,sources:!1,viewport:!1},filter:{includeBaseLayers:!1}};function HT(e){var t=Q.useContext(i5),r=Q.useState({map:void 0,ready:!1}),n=r[0],o=r[1],s=N7({mapId:e==null?void 0:e.mapId,watch:{viewport:!1,layers:!!(e!=null&&e.waitForLayer),sources:!1},filter:{includeBaseLayers:!0}}),u=Q.useRef(),l=Q.useRef(mv()),f=function(){u.current&&u.current.cleanup(l.current)};return Q.useEffect(function(){return function(){f(),u.current=void 0}},[]),Q.useEffect(function(){var v;if(u.current&&u.current.cancelled===!0&&(u.current=void 0,o({map:void 0,ready:!1})),!(u.current||!t.mapExists(e==null?void 0:e.mapId))){if(e!=null&&e.waitForLayer){var x=!1;if((v=s==null?void 0:s.layers)===null||v===void 0||v.forEach(function(w){w.id===(e==null?void 0:e.waitForLayer)&&(x=!0)}),!x)return}u.current=t.getMap(e==null?void 0:e.mapId),o({map:u.current,ready:!0})}},[t.mapIds,s.layers,t,e]),{map:n.map,mapIsReady:n.ready,componentId:l.current,layers:s.layers,cleanup:f}}ve.createContext({});var eR=["fill","line","symbol","circle","heatmap","fill-extrusion","raster","hillshade","background"];function LSe(e){var t,r,n,o,s,u,l,f,v;return typeof e.options.source=="string"?{source:e.options.source}:e.geojson&&(!(!((t=e.options)===null||t===void 0)&&t.source)||typeof((r=e==null?void 0:e.options)===null||r===void 0?void 0:r.source)!="string"&&(!((o=(n=e.options)===null||n===void 0?void 0:n.source)===null||o===void 0)&&o.attribution)&&!(!((u=(s=e.options)===null||s===void 0?void 0:s.source)===null||u===void 0)&&u.type))?{source:{type:"geojson",data:e.geojson||"",attribution:typeof((l=e==null?void 0:e.options)===null||l===void 0?void 0:l.source)!="string"&&(!((f=e.options.source)===null||f===void 0)&&f.attribution)?(v=e.options.source)===null||v===void 0?void 0:v.attribution:""}}:{}}function MSe(e,t){var r;if(e!=null&&e.insertBeforeLayer)return e.insertBeforeLayer;if(e!=null&&e.insertBeforeFirstSymbolLayer)return(r=t==null?void 0:t.map)===null||r===void 0?void 0:r.firstSymbolLayer}function pA(e){var t,r=HT({mapId:e.mapId,waitForLayer:e.insertBeforeLayer}),n=Q.useRef(""),o=Q.useRef(""),s=Q.useRef(""),u=Q.useState(),l=u[0],f=u[1],v=Q.useRef(e.layerId||(e.idPrefix?e.idPrefix:"Layer-")+r.componentId),x=Q.useCallback(function(){var w,C,P,O,I,z,N;if(!(!r.map||r!=null&&r.map.cancelled)&&(r.map.map.getLayer(v.current)&&r.cleanup(),typeof((w=e==null?void 0:e.options)===null||w===void 0?void 0:w.source)!="string"&&r.map.map.getSource(v.current)&&r.map.map.removeSource(v.current),!(typeof e.options.source=="string"&&(e.options.source===""||!r.map.map.getSource(e.options.source)))&&!(typeof((C=e==null?void 0:e.options)===null||C===void 0?void 0:C.source)!="string"&&!e.geojson&&!(!((O=(P=e==null?void 0:e.options)===null||P===void 0?void 0:P.source)===null||O===void 0)&&O.data)&&((I=e==null?void 0:e.options)===null||I===void 0?void 0:I.type)!=="background")&&!(typeof e.options.type>"u"))){try{r.map.addLayer(an(an(an({},e.options),LSe(e)),{id:v.current}),MSe(e,r),r.componentId)}catch(W){console.error("Failed to add layer:",W)}f(function(){var W;return(W=r.map)===null||W===void 0?void 0:W.map.getLayer(v.current)});var j=function(){var W;!((W=r.map)===null||W===void 0)&&W.map.getLayer(v.current)||x()};r.map.on("styledata",j,r.componentId);var V=function(W,re,ie){var J,ne=ie.source_id;r.map&&typeof((J=e==null?void 0:e.options)===null||J===void 0?void 0:J.source)=="string"&&e.options.source===ne&&x()};r.map.wrapper.on("addsource",V,r.componentId),o.current=JSON.stringify((z=e.options)===null||z===void 0?void 0:z.paint),s.current=JSON.stringify((N=e.options)===null||N===void 0?void 0:N.layout),n.current=e.options.type}},[e,r]);return Q.useEffect(function(){var w,C,P,O,I;r.map&&(!e.geojson&&!e.options.source&&((w=e==null?void 0:e.options)===null||w===void 0?void 0:w.type)!=="background"||((C=r.map)===null||C===void 0?void 0:C.cancelled)===!1&&(!((I=(O=(P=r==null?void 0:r.map)===null||P===void 0?void 0:P.map)===null||O===void 0?void 0:O.getLayer)===null||I===void 0)&&I.call(O,v.current))&&(eR.indexOf(e.options.type)===-1||eR.indexOf(e.options.type)!==-1&&e.options.type===n.current)||x())},[r.map,r.mapIsReady,e,x]),Q.useEffect(function(){var w,C,P,O,I,z;((w=r.map)===null||w===void 0?void 0:w.cancelled)===!0||!(!((O=(P=(C=r.map)===null||C===void 0?void 0:C.map)===null||P===void 0?void 0:P.getSource)===null||O===void 0)&&O.call(P,v.current))||(z=(I=r.map.map.getSource(v.current))===null||I===void 0?void 0:I.setData)===null||z===void 0||z.call(I,e.geojson)},[e.geojson,r.map,e.options.type]),Q.useEffect(function(){var w,C,P,O,I,z;if(!(((w=r.map)===null||w===void 0?void 0:w.cancelled)===!0||!r.map||!(!((O=(P=(C=r.map)===null||C===void 0?void 0:C.map)===null||P===void 0?void 0:P.getLayer)===null||O===void 0)&&O.call(P,v.current))||e.options.type!==n.current)){var N,j=JSON.stringify(e.options.layout);if(e.options.layout&&j!==s.current){var V=JSON.parse(s.current);for(N in e.options.layout)!((I=e.options.layout)===null||I===void 0)&&I[N]&&e.options.layout[N]!==V[N]&&r.map.map.setLayoutProperty(v.current,N,e.options.layout[N]);s.current=j}var W=JSON.stringify(e.options.paint);if(W!==o.current){var re=JSON.parse(o.current);for(N in e.options.paint)!((z=e.options.paint)===null||z===void 0)&&z[N]&&e.options.paint[N]!==re[N]&&r.map.map.setPaintProperty(v.current,N,e.options.paint[N]);o.current=W}}},[e.options,r.map]),Q.useEffect(function(){!e.insertBeforeLayer||!r.map||!r.map.getLayer(e.insertBeforeLayer)||!r.map.getLayer(v.current)||r.map.moveLayer(v.current,e.insertBeforeLayer)},[r.map,e.insertBeforeLayer]),Q.useEffect(function(){return function(){r.cleanup()}},[]),Q.useEffect(function(){var w;if(!(typeof((w=e==null?void 0:e.options)===null||w===void 0?void 0:w.source)!="string"||!r.map)){var C=function(){var O,I,z;typeof((O=e==null?void 0:e.options)===null||O===void 0?void 0:O.source)=="string"&&(!((z=(I=r==null?void 0:r.map)===null||I===void 0?void 0:I.getSource)===null||z===void 0)&&z.call(I,e.options.source))&&!r.map.getLayer(v.current)&&x()};r.map.on("sourcedataloading",C);var P=function(O,I,z){var N,j=z.source_id;r.map&&typeof((N=e==null?void 0:e.options)===null||N===void 0?void 0:N.source)=="string"&&e.options.source===j&&x()};return r.map.wrapper.on("addsource",P),function(){r!=null&&r.map&&(r.map.off("sourcedataloading",C),r.map.wrapper.off("addsource",P))}}},[r.map,(t=e.options)===null||t===void 0?void 0:t.source]),Q.useEffect(function(){var w,C,P;if(!(!e.onClick||!(r!=null&&r.map)||!(!((C=(w=r==null?void 0:r.map)===null||w===void 0?void 0:w.getLayer)===null||C===void 0)&&C.call(w,v.current)))){var O=e.onClick;return(P=r.map)===null||P===void 0||P.on("click",v.current,O),function(){var I;O&&(r!=null&&r.map)&&((I=r.map)===null||I===void 0||I.off("click",v.current,O))}}},[r.map,e.onClick]),Q.useEffect(function(){var w,C,P;if(!(!e.onHover||!(r!=null&&r.map)||!(!((C=(w=r==null?void 0:r.map)===null||w===void 0?void 0:w.getLayer)===null||C===void 0)&&C.call(w,v.current)))){var O=e.onHover;return(P=r.map)===null||P===void 0||P.on("mousemove",v.current,O),function(){var I;O&&(r!=null&&r.map)&&((I=r.map)===null||I===void 0||I.off("mousemove",v.current,O))}}},[r.map,e.onHover]),Q.useEffect(function(){var w,C,P;if(!(!e.onLeave||!(r!=null&&r.map)||!(!((C=(w=r==null?void 0:r.map)===null||w===void 0?void 0:w.getLayer)===null||C===void 0)&&C.call(w,v.current)))){var O=e.onLeave;return(P=r.map)===null||P===void 0||P.on("mouseleave",v.current,O),function(){var I;O&&(r!=null&&r.map)&&((I=r.map)===null||I===void 0||I.off("mouseleave",v.current,O))}}},[r.map,e.onLeave]),{map:r.map,layer:l,layerId:v.current,componentId:r.componentId,mapHook:r}}pA.defaultProps={};var F7=function(e,t){switch(e){case"fill":return t!=null&&t.fill?t.fill:{"fill-color":"rgba(10,240,256,0.6)","fill-outline-color":"rgba(20,230,256,0.8)"};case"line":return t!=null&&t.line?t.line:{"line-color":"rgb(203,211,2)","line-width":5,"line-blur":0};case"circle":return t!=null&&t.circle?t.circle:{"circle-color":"rgba(10,240,256,0.8)","circle-stroke-color":"#fff","circle-stroke-width":2,"circle-radius":4};default:return{}}},kb={Position:"circle",Point:"circle",MultiPoint:"circle",LineString:"line",MultiLineString:"line",Polygon:"fill",MultiPolygon:"fill",GeometryCollection:"circle"},lx=function(e){var t;return(e==null?void 0:e.type)==="Feature"?kb!=null&&kb[(t=e==null?void 0:e.geometry)===null||t===void 0?void 0:t.type]?kb[e.geometry.type]:"circle":(e==null?void 0:e.type)==="FeatureCollection"?e.features.length?lx(e.features[0]):"circle":"fill"};function DSe(e){var t,r=HT({mapId:e.mapId}),n=Q.useState(),o=n[0],s=n[1],u=Q.useRef(e.sourceId||(e.idPrefix?e.idPrefix:"Source-")+r.componentId),l=Q.useCallback(function(){var v,x;if(r.map&&(!((x=(v=r.map)===null||v===void 0?void 0:v.style)===null||x===void 0)&&x._layers)){for(var w=0,C=Object.entries(r.map.style._layers);w<C.length;w++){var P=C[w],O=P[0],I=P[1];I.source===u.current&&r.map.removeLayer(O)}r.map.getSource(u.current)&&r.map.removeSource(u.current)}},[r.map]),f=Q.useCallback(function(){var v;r.map&&(e.source.type==="geojson"&&!e.source.data||(r.map.map.getSource(u.current)&&l(),(v=r.map)===null||v===void 0||v.addSource(u.current,an({},e.source)),s(r.map.map.getSource(u.current))))},[e,r,l]);return Q.useEffect(function(){var v,x,w,C;!((x=(v=r.map)===null||v===void 0?void 0:v.map)===null||x===void 0)&&x.getSource(u.current)&&((C=(w=r.map.map.getSource(u.current))===null||w===void 0?void 0:w.setData)===null||C===void 0||C.call(w,e.source.data))},[(t=e.source)===null||t===void 0?void 0:t.data]),Q.useEffect(function(){var v,x,w;!((w=(x=(v=r==null?void 0:r.map)===null||v===void 0?void 0:v.map)===null||x===void 0?void 0:x.getSource)===null||w===void 0)&&w.call(x,e.sourceId)&&e.sourceId===u.current||(u.current=e.sourceId,f())},[r.map,e,f]),Q.useEffect(function(){if(r.map){var v=function(){var x,w;!((w=(x=r==null?void 0:r.map)===null||x===void 0?void 0:x.getSource)===null||w===void 0)&&w.call(x,e.sourceId)||f()};return r.map.on("styledata",v),function(){r!=null&&r.map&&r.map.off("styledata",v)}}},[r.map,f]),Q.useEffect(function(){return function(){l()}},[l]),{map:r.map,source:o,componentId:r.componentId,mapHook:r}}var GT=function(e){var t,r,n,o,s,u,l,f,v,x,w,C,P=e.type||lx(e.geojson),O=Q.useRef(e.layerId||"MlGeoJsonLayer-"+mv()),I="label-".concat(O.current);return Q.useEffect(function(){e.layerId?O.current=e.layerId:O.current="MlGeoJsonLayer-"+mv()},[e.layerId]),DSe({mapId:e.mapId,sourceId:"source-"+O.current,source:an({type:"geojson",data:e.geojson},typeof((t=e==null?void 0:e.options)===null||t===void 0?void 0:t.source)<"u"&&typeof((r=e==null?void 0:e.options)===null||r===void 0?void 0:r.source)!="string"?e.options.source:{})}),pA({mapId:e.mapId,layerId:O.current,options:an(an({},typeof((n=e==null?void 0:e.options)===null||n===void 0?void 0:n.source)<"u"&&typeof((o=e==null?void 0:e.options)===null||o===void 0?void 0:o.source)=="string"?{source:e.options.source}:{source:"source-"+O.current}),{paint:an(an({},e.paint||F7(P,e.defaultPaintOverrides)),(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.paint),layout:an(an({},(e==null?void 0:e.layout)||{}),(u=e==null?void 0:e.options)===null||u===void 0?void 0:u.layout),type:P}),insertBeforeLayer:e.insertBeforeLayer,onHover:e.onHover,onClick:e.onClick,onLeave:e.onLeave}),pA({mapId:e.mapId,options:an(an(an(an(an({},typeof((l=e==null?void 0:e.options)===null||l===void 0?void 0:l.source)<"u"&&typeof((f=e==null?void 0:e.options)===null||f===void 0?void 0:f.source)=="string"?{source:e.options.source}:{source:"source-"+O.current}),{id:I,type:"symbol",maxzoom:24,minzoom:1}),e!=null&&e.labelOptions?e.labelOptions:{}),!((v=e==null?void 0:e.options)===null||v===void 0)&&v.filter?{filter:e.options.filter}:{}),{layout:an(an({"text-font":["Open Sans Regular"],"text-field":"{".concat(e.labelProp,"}"),"text-size":12,"text-anchor":"top"},!((x=e==null?void 0:e.labelOptions)===null||x===void 0)&&x.layout?e.labelOptions.layout:{}),!((w=e==null?void 0:e.layout)===null||w===void 0)&&w.visibility?{visibility:e.layout.visibility}:{}),paint:an({"text-halo-width":1,"text-halo-color":"#fefefe","text-color":"#121212"},!((C=e==null?void 0:e.labelOptions)===null||C===void 0)&&C.paint?e.labelOptions.paint:{})})}),ve.createElement(ve.Fragment,null)},RSe=cr(c4)({marginTop:"15px"});function OSe(e){return ve.createElement(RSe,null,e==null?void 0:e.children)}var NSe=Hg(h4)({paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:"4px"}),FSe=Hg(mF)({minWidth:"30px"}),$Se=Hg(Gg)({marginRight:"0px",padding:"0px"}),BSe=Hg(aF)({padding:0,marginRight:"5px"}),zSe=Hg(uG)(function(e){var t=e.open;return{display:t?"block":"none"}}),jSe=Hg(c4)({marginLeft:"50px"});function USe(e){var t=e.visible,r=t===void 0?!0:t,n=e.name,o=e.children,s=e.setVisible,u=Q.useState(!1),l=u[0],f=u[1],v=Q.useState(!0),x=v[0],w=v[1],C=Q.useMemo(function(){return r?x:!1},[r,x]),P=Q.useMemo(function(){return o?Array.isArray(o)?o.map(function(O){return ve.cloneElement(O,{visible:C})}):ve.cloneElement(o,{visible:C}):ve.createElement(ve.Fragment,null)},[C]);return ve.createElement(ve.Fragment,null,ve.createElement(NSe,null,ve.createElement(FSe,null,ve.createElement($Se,{edge:"end","aria-label":"open",onClick:function(){return f(!l)}},l?ve.createElement(ore,null):ve.createElement(are,null)),ve.createElement(BSe,{disabled:s?!1:!r,checked:s?r:x,onClick:function(){s?s(function(O){return!O}):w(function(O){return!O})}})),ve.createElement(d4,{primary:n,variant:"layerlist"})),ve.createElement(zSe,{open:l},ve.createElement(jSe,{disablePadding:!0},P)))}var v1={rgba:function(e){return"rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")")},rgb:function(e){return"rgb(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,")")},hex:function(e){return e.hex},rgba_rgb:function(e){return e.rgb.a===1?v1.rgb(e):v1.rgba(e)},rgba_hex:function(e){return e.rgb.a===1?v1.hex(e):v1.rgba(e)}},$7=function(e){var t=e.convert,r=n5(e,["convert"]),n=Q.useState(!1),o=n[0],s=n[1],u=Q.useState((r==null?void 0:r.value)||""),l=u[0],f=u[1];return ve.createElement(ve.Fragment,null,ve.createElement(V6,{container:!0,sx:{flexWrap:"nowrap"}},ve.createElement(V6,{xs:12,item:!0},ve.createElement(wC,{variant:"outlined",onClick:function(){return s(!0)},sx:{minWidth:"100%",padding:"5px",marginBottom:"10px",justifyContent:"flex-start",borderColor:function(v){return v.palette.text.primary},color:function(v){return v.palette.text.primary}}},ve.createElement("div",{style:{width:"25px",height:"25px",marginRight:"10px",backgroundColor:l}}),l))),o&&ve.createElement("div",{style:{position:"relative",marginTop:0}},ve.createElement("div",{style:{position:"absolute",zIndex:1e3}},ve.createElement("div",{style:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"},onClick:function(){s(!1)}}),ve.createElement(Hve,{color:l,onChange:function(v){var x,w=v1[t](v);f(w),(x=r==null?void 0:r.onChange)===null||x===void 0||x.call(r,w)}}))))};$7.defaultProps={convert:"rgba_hex",label:"Color",name:"color"};function VSe(e){var t=e.propKey,r=e.value,n=e.setPaintProps;return ve.createElement($7,{value:r,label:"Color",onChange:function(o){n(function(s){var u,l=an(an({},s),(u={},u[t]=o,u));return l})}})}var qSe=cr(Jp)({marginLeft:"-100px",marginRight:"-21px",paddingLeft:"53px",borderRadius:"0px",boxShadow:"none",backgroundColor:"rgb(0, 0, 0, 0)"}),HSe=cr(Sd)({marginLeft:"61px"}),B7={"circle-color":"colorpicker","circle-radius":"slider","circle-stroke-color":"colorpicker","circle-stroke-width":"slider","fill-color":"colorpicker","fill-outline-color":"colorpicker","line-color":"colorpicker","line-width":"slider","line-blur":"slider"},GSe=Object.keys(B7),WSe={"circle-stroke-width":{step:1,min:1,max:20},"circle-radius":{step:1,min:1,max:100},"line-blur":{step:1,min:1,max:100},"line-width":{step:1,min:1,max:100}};function z7(e){var t=e.paintProps,r=t===void 0?{}:t,n=e.setPaintProps,o=Q.useRef(Math.round(Math.random()*1e10)),s=Q.useCallback(function(u){if(GSe.indexOf(u)!==-1&&(typeof r[u]=="number"||typeof r[u]=="string")){var l=ve.createElement(bd,{id:u+"_label",gutterBottom:!0},u);switch(B7[u]){case"slider":return ve.createElement(ve.Fragment,{key:u},l,ve.createElement(TJ,an({},WSe[u],{inputProps:{inputMode:"decimal",pattern:"[0-9]*"},value:r[u],valueLabelDisplay:"auto",onChange:function(f,v){v&&n(function(x){var w;return an(an({},x),(w={},w[u]=v,w))})}})));case"numberfield":return ve.createElement(ve.Fragment,{key:u},l,ve.createElement(UJ,{inputProps:{inputMode:"decimal",pattern:"[0-9]*"},value:r[u],onChange:function(f){var v;!((v=f==null?void 0:f.target)===null||v===void 0)&&v.value&&n(function(x){var w;return an(an({},x),(w={},w[u]=parseInt(f.target.value),w))})}}));case"colorpicker":return ve.createElement(ve.Fragment,{key:u},l,ve.createElement(Sd,{sx:{"& > div":{width:"initial !important"}}},ve.createElement(VSe,{key:u,value:r[u],propKey:u,setPaintProps:n})))}}return null},[r]);return ve.createElement(ve.Fragment,null,ve.createElement(qSe,null,ve.createElement(h4,{key:o+"_paintPropForm"},ve.createElement(HSe,null,Object.keys(r).map(function(u){return s(u)})))))}var j7=cr(h4)(function(e){return{paddingRight:e?"56px":0,paddingLeft:0,paddingTop:0,paddingBottom:"4px"}}),XSe=cr(Gg)({padding:"4px",marginTop:"-3px"}),U7=cr(mF)({minWidth:"30px"}),V7=cr(aF)({padding:0});function q7(e){var t=e.configurable,r=e.vtProps,n=e.setVtProps,o=e.id,s=n5(e,["configurable","vtProps","setVtProps","id"]),u=Q.useState(!1),l=u[0],f=u[1],v=Q.useState(!0),x=v[0],w=v[1],C=Q.useState(r.layers[o].paint),P=C[0],O=C[1];return Q.useEffect(function(){var I,z,N,j,V,W;if(!(!n||typeof((z=(I=r.layers[o])===null||I===void 0?void 0:I.layout)===null||z===void 0?void 0:z.visibility)>"u"&&x||!x&&((j=(N=r.layers[o])===null||N===void 0?void 0:N.layout)===null||j===void 0?void 0:j.visibility)==="none"||x&&((W=(V=r.layers[o])===null||V===void 0?void 0:V.layout)===null||W===void 0?void 0:W.visibility)==="visible")){var re=xd([],r.layers,!0);re[o].layout?re[o].layout.visibility=x?"visible":"none":re[o].layout={visibility:x?"visible":"none"},n(an(an({},r),{layers:re}))}},[x,o,n,r]),Q.useEffect(function(){w(!!s.visibleMaster)},[s.visibleMaster]),Q.useEffect(function(){if(n&&JSON.stringify(P)!==JSON.stringify(r.layers[o].paint)){var I=an({},P),z=xd([],r.layers,!0);z[o].paint=I,n(an(an({},r),{layers:z}))}},[P,o,n,r]),ve.createElement(ve.Fragment,null,ve.createElement(j7,{key:o,secondaryAction:t?ve.createElement(XSe,{edge:"end","aria-label":"comments",onClick:function(){f(function(I){return!I})}},ve.createElement(uB,null)):void 0},ve.createElement(U7,null,ve.createElement(V7,{checked:x,onClick:function(){w(function(I){return!I})}})),ve.createElement(d4,{primary:r.layers[o].id,variant:"layerlist"})),t&&l&&ve.createElement(z7,{paintProps:P,setPaintProps:O,layerType:r.layers[o].type}))}q7.defaultProps={configurable:!0};function H7(e){return Q.createElement(Q.Fragment,null,Q.createElement(CK,{open:e.open,onClose:e.onCancel,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},Q.createElement(HK,{id:"alert-dialog-title"},e.title),Q.createElement(NK,null,Q.createElement(jK,{id:"alert-dialog-description"},e.text)),Q.createElement(kK,null,Q.createElement(wC,{onClick:e.onCancel},"Cancel"),Q.createElement(wC,{onClick:e.onConfirm,autoFocus:!0},"Confirm"))))}H7.defaultProps={title:"Confirm",text:"Are you sure?"};function KSe(e){var t=e.children,r=e.layerId,n=Z2e({id:r}),o=n.attributes,s=n.listeners,u=n.setNodeRef,l=n.transform,f={transform:Sv.Transform.toString(l)};return ve.createElement("li",an({ref:u,style:f},o,s),t)}var ZSe=cr(Gg)({padding:"4px",marginTop:"-3px"}),YSe=cr(Gg)({marginLeft:"20px"});function WT(e){var t,r,n,o,s,u,l,f,v,x,w,C,P,O,I=e.layerComponent,z=e.visible,N=e.type,j=e.name,V=e.description,W=e.configurable,re=e.setLayerState,ie=n5(e,["layerComponent","visible","type","name","description","configurable","setLayerState"]),J=Q.useState(!0),ne=J[0],Ae=J[1],Z=Q.useState(!1),X=Z[0],oe=Z[1],be=Q.useState(!1),ge=be[0],De=be[1],Le=Q.useRef(!1),je=Q.useRef(z),xe=Q.useState(((t=I==null?void 0:I.props)===null||t===void 0?void 0:t.paint)||((n=(r=I==null?void 0:I.props)===null||r===void 0?void 0:r.options)===null||n===void 0?void 0:n.paint)||F7(((o=I==null?void 0:I.props)===null||o===void 0?void 0:o.type)||lx(I.props.geojson))),Oe=xe[0],Ke=xe[1],ht=Q.useMemo(function(){return z?ne:!1},[z,ne]);Q.useEffect(function(){var Ie,Me,tt;if(!(!re||!(!((Ie=I==null?void 0:I.props)===null||Ie===void 0)&&Ie.layers)||ht===je.current)){je.current=ht;var Ue=an({},I==null?void 0:I.props);switch(I.type.name){case"MlWmsLayer":break;case"MlVectorTileLayer":!((Me=I==null?void 0:I.props)===null||Me===void 0)&&Me.layers&&!Le.current&&(Ue.layers=(tt=I==null?void 0:I.props)===null||tt===void 0?void 0:tt.layers.map(function(qe){return qe.layout?qe.layout.visibility=ht?"visible":"none":qe.layout={visibility:ht?"visible":"none"},qe}),console.log("setLayerState",Ue.layers),re(Ue));break}}},[ht,re,I]),Q.useEffect(function(){var Ie,Me;!re||Le.current||!Oe||!((Ie=I==null?void 0:I.props)===null||Ie===void 0)&&Ie.layers||JSON.stringify(Oe)!==JSON.stringify((Me=I.props)===null||Me===void 0?void 0:Me.paint)&&re(an(an({},I.props),{paint:Oe}))},[Oe,re,(s=I.props)===null||s===void 0?void 0:s.paint]);var le=Q.useMemo(function(){var Ie;if(I&&N==="layer")switch(I.type.displayName){case"MlWmsLayer":return ve.cloneElement(I,an(an({},I==null?void 0:I.props),{visible:ht}));case"MlVectorTileLayer":return ve.cloneElement(I,an({},I==null?void 0:I.props));default:case"MlGeoJsonLayer":return ve.cloneElement(I,{layout:{visibility:ht?"visible":"none"},options:an(an({},(Ie=I==null?void 0:I.props)===null||Ie===void 0?void 0:Ie.options),re?{}:{paint:Oe})})}return ve.createElement(ve.Fragment,null)},[N,I,Oe,ht,(u=I==null?void 0:I.props)===null||u===void 0?void 0:u.layers,re]),me=Q.useMemo(function(){if(I&&N==="layer"){if(I.props.type)return I.props.type;if(I.props.geojson)return lx(I.props.geojson)}},[I]),we=ve.createElement(j7,{sx:an({},ie.listItemSx),secondaryAction:W&&((l=Object.keys(Oe))===null||l===void 0?void 0:l.length)>0?ve.createElement(ve.Fragment,null,ie==null?void 0:ie.buttons,ve.createElement(ZSe,{edge:"end","aria-label":"settings",onClick:function(){oe(function(Ie){return!Ie})}},ve.createElement(sre,null))):void 0},ve.createElement(U7,null,ve.createElement(V7,{disabled:!z,checked:ne,onClick:function(){Ae(function(Ie){return!Ie})}})),ve.createElement(d4,{variant:"layerlist",primary:j,secondary:V,primaryTypographyProps:{overflow:"hidden"}}));return ve.createElement(ve.Fragment,null,ie.sortable&&ie.layerId&&!(!((f=I==null?void 0:I.props)===null||f===void 0)&&f.layers)&&ve.createElement(KSe,{layerId:ie.layerId},we),!ie.sortable&&!(!((v=I==null?void 0:I.props)===null||v===void 0)&&v.layers)&&we,le,!(!((x=I==null?void 0:I.props)===null||x===void 0)&&x.layers)&&Object.keys(Oe).length>0&&W&&X&&ve.createElement(ve.Fragment,null,ie.showDeleteButton&&ve.createElement(ve.Fragment,null,ve.createElement(YSe,{edge:"end","aria-label":"delete",onClick:function(){typeof re=="function"&&De(!0)}},ve.createElement(ire,null)),ge&&ve.createElement(H7,{open:ge,onConfirm:function(){typeof re=="function"&&(Le.current=!0,re(!1),De(!1))},onCancel:function(){De(!1)},title:"Delete layer",text:"Are you sure you want to delete this layer?"})),ve.createElement(z7,{paintProps:Oe,setPaintProps:Ke,layerType:me})),((w=I==null?void 0:I.props)===null||w===void 0?void 0:w.layers)&&ve.createElement(USe,{visible:ne,setVisible:Ae,name:j},(O=(P=(C=I==null?void 0:I.props)===null||C===void 0?void 0:C.layers)===null||P===void 0?void 0:P.map)===null||O===void 0?void 0:O.call(P,function(Ie,Me){return ve.createElement(q7,{vtProps:I==null?void 0:I.props,setVtProps:re,id:""+Me,key:""+Me,visibleMaster:ht})})))}WT.defaultProps={type:"layer",visible:!0,showDeleteButton:!1,buttons:ve.createElement(ve.Fragment,null)};var JSe=cr("div")(function(){return{display:"flex",alignItems:"center"}}),QSe=56,e3e=cr(Sd)(function(e){var t=e.theme;return{width:30,height:6,backgroundColor:t.palette.text.primary,borderRadius:3,position:"absolute",top:8,left:"calc(50% - 15px)"}});function t3e(e){var t=e.drawerPaperProps,r=e.drawerHeaderProps,n=e.setOpen,o=n5(e,["drawerPaperProps","drawerHeaderProps","setOpen"]),s=BZ(function(x){return x.breakpoints.down("sm")}),u=Q.useState(!1),l=u[0],f=u[1],v=o.drawerBleeding?o.drawerBleeding:QSe;return ve.createElement(ve.Fragment,null,s?ve.createElement(Sd,{sx:{display:{xs:"flex",sm:"none"}}},ve.createElement(IN,{styles:{".MuiDrawer-root > .MuiPaper-root":{height:"calc(50% - ".concat(v,"px)"),overflow:"visible"}}}),ve.createElement(NJ,{anchor:"bottom",open:typeof o.open>"u"?l:o.open,onClose:n?function(){n==null||n(!1)}:function(){f(!1)},onOpen:n?function(){n==null||n(!0)}:function(){f(!0)},swipeAreaWidth:v,disableSwipeToOpen:!1,hideBackdrop:!0,ModalProps:{keepMounted:!0,sx:{top:"calc(90%)"}}},ve.createElement(Jp,{sx:{position:"absolute",top:-v,borderTopLeftRadius:8,borderTopRightRadius:8,visibility:"visible",right:0,left:0}},ve.createElement(e3e,null),ve.createElement(bd,{variant:"h6",sx:{p:"13px"}},o.name)),ve.createElement(Jp,{sx:{px:"15px",pb:"15px",height:"100%",overflow:"auto",paddingTop:"20px"}},o.children))):ve.createElement(Sd,{sx:{display:{xs:"none",sm:"flex"},mr:1}},ve.createElement(cF,an({transitionDuration:0,variant:"persistent",anchor:"left",open:typeof o.open>"u"?l:o.open,PaperProps:an(an({},t),{sx:an({maxWidth:{lg:"30%",md:"40%",sm:"50%",xs:"78%"},padding:{sm:"84px 20px 20px 20px",xs:"74px 10px 10px 10px"},width:{xs:"80%",sm:"60%",md:"350px",lg:"350px"},boxSizing:"border-box"},t==null?void 0:t.sx)}),sx:an({flexGrow:1,zIndex:105,position:"absolute",bottom:0,display:"flex",flexDirection:"column",maxWidth:{lg:"30%",md:"40%",sm:"50%",xs:"78%"}},l?{}:{left:s?"-90vw":"-20vw"})},o),ve.createElement(JSe,an({},r),ve.createElement(bd,{variant:"h6"},o.name),ve.createElement(Gg,{onClick:n?function(){n==null||n(!1)}:function(){f(!1)},sx:{position:"absolute",right:"20px"}},ve.createElement(gB,null))),ve.createElement(Sd,null,o.children))),";")}cr(Sd)(function(e){var t,r=e.theme;return t={zIndex:1e3,cursor:"pointer",transform:"scale(1)"},t[r.breakpoints.down("md")]={transform:"scale(1.6)"},t});cr(Sd)(function(e){var t,r=e.theme;return t={position:"absolute",right:"-10px",top:"-52px",width:"52px",height:"52px",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},t[r.breakpoints.down("md")]={right:"0px",top:"-52px"},t.circle={fill:r.palette.compass.compColor,stroke:r.palette.compass.compStroke},t.path={fill:r.palette.compass.compStroke},t["&:hover circle"]={fill:r.palette.compass.compHover},t});cr(Sd)(function(e){var t=e.theme;return{display:"flex",flexDirection:"row","path:nth-of-type(2)":{fill:t.palette.compass.compSouth},"path:nth-of-type(1)":{fill:t.palette.compass.compNorth}}});function U1(e){"@babel/helpers - typeof";return U1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U1(e)}(function(){var e=/\s*/g,t=/^\s*|\s*$/g,r=/\s+/;function n(ie){if(!ie||!ie.length)return 0;for(var J=0,ne=0;J<ie.length;J++)ne=(ne<<5)-ne+ie.charCodeAt(J)|0;return ne}function o(ie,J){return ie.getElementsByTagName(J)}function s(ie,J){return ie.getAttribute(J)}function u(ie,J){return parseFloat(s(ie,J))}function l(ie,J){var ne=o(ie,J);return ne.length?ne[0]:null}function f(ie){return ie.normalize&&ie.normalize(),ie}function v(ie){for(var J=0,ne=[];J<ie.length;J++)ne[J]=parseFloat(ie[J]);return ne}function x(ie){return ie&&f(ie),ie&&ie.textContent||""}function w(ie,J){var ne={},Ae,Z;for(Z=0;Z<J.length;Z++)Ae=l(ie,J[Z]),Ae&&(ne[J[Z]]=x(Ae));return ne}function C(ie,J){for(var ne in J)ie[ne]=J[ne]}function P(ie){return v(ie.replace(e,"").split(","))}function O(ie){for(var J=ie.replace(t,"").split(r),ne=[],Ae=0;Ae<J.length;Ae++)ne.push(P(J[Ae]));return ne}function I(ie){var J=[u(ie,"lon"),u(ie,"lat")],ne=l(ie,"ele"),Ae=l(ie,"gpxtpx:hr")||l(ie,"hr"),Z=l(ie,"time"),X;return ne&&(X=parseFloat(x(ne)),isNaN(X)||J.push(X)),{coordinates:J,time:Z?x(Z):null,heartRate:Ae?parseFloat(x(Ae)):null}}function z(){return{type:"FeatureCollection",features:[]}}var N;if(typeof XMLSerializer<"u")N=new XMLSerializer;else{var j=(typeof process>"u"?"undefined":U1(process))==="object"&&!process.browser,V=(typeof Titanium>"u"?"undefined":U1(Titanium))==="object";if((typeof exports>"u"?"undefined":U1(exports))==="object"&&(j||V))N=Lbe;else throw new Error("Unable to initialize serializer")}function W(ie){return ie.xml!==void 0?ie.xml:N.serializeToString(ie)}var re={kml:function(J){for(var ne=z(),Ae={},Z={},X={},oe=["Polygon","LineString","Point","Track","gx:Track"],be=o(J,"Placemark"),ge=o(J,"Style"),De=o(J,"StyleMap"),Le=0;Le<ge.length;Le++){var je=n(W(ge[Le])).toString(16);Ae["#"+s(ge[Le],"id")]=je,Z[je]=ge[Le]}for(var xe=0;xe<De.length;xe++){Ae["#"+s(De[xe],"id")]=n(W(De[xe])).toString(16);for(var Oe=o(De[xe],"Pair"),Ke={},ht=0;ht<Oe.length;ht++)Ke[x(l(Oe[ht],"key"))]=x(l(Oe[ht],"styleUrl"));X["#"+s(De[xe],"id")]=Ke}for(var le=0;le<be.length;le++)ne.features=ne.features.concat(tt(be[le]));function me(Ue){var qe,lt;return Ue=Ue||"",Ue.substr(0,1)==="#"&&(Ue=Ue.substr(1)),(Ue.length===6||Ue.length===3)&&(qe=Ue),Ue.length===8&&(lt=parseInt(Ue.substr(0,2),16)/255,qe="#"+Ue.substr(6,2)+Ue.substr(4,2)+Ue.substr(2,2)),[qe,isNaN(lt)?void 0:lt]}function we(Ue){return v(Ue.split(" "))}function Ie(Ue){var qe=o(Ue,"coord"),lt=[],pt=[];qe.length===0&&(qe=o(Ue,"gx:coord"));for(var Et=0;Et<qe.length;Et++)lt.push(we(x(qe[Et])));for(var St=o(Ue,"when"),kt=0;kt<St.length;kt++)pt.push(x(St[kt]));return{coords:lt,times:pt}}function Me(Ue){var qe,lt,pt,Et,St,kt=[],ct=[];if(l(Ue,"MultiGeometry"))return Me(l(Ue,"MultiGeometry"));if(l(Ue,"MultiTrack"))return Me(l(Ue,"MultiTrack"));if(l(Ue,"gx:MultiTrack"))return Me(l(Ue,"gx:MultiTrack"));for(pt=0;pt<oe.length;pt++)if(lt=o(Ue,oe[pt]),lt){for(Et=0;Et<lt.length;Et++)if(qe=lt[Et],oe[pt]==="Point")kt.push({type:"Point",coordinates:P(x(l(qe,"coordinates")))});else if(oe[pt]==="LineString")kt.push({type:"LineString",coordinates:O(x(l(qe,"coordinates")))});else if(oe[pt]==="Polygon"){var de=o(qe,"LinearRing"),hr=[];for(St=0;St<de.length;St++)hr.push(O(x(l(de[St],"coordinates"))));kt.push({type:"Polygon",coordinates:hr})}else if(oe[pt]==="Track"||oe[pt]==="gx:Track"){var Kt=Ie(qe);kt.push({type:"LineString",coordinates:Kt.coords}),Kt.times.length&&ct.push(Kt.times)}}return{geoms:kt,coordTimes:ct}}function tt(Ue){var qe=Me(Ue),lt,pt={},Et=x(l(Ue,"name")),St=x(l(Ue,"address")),kt=x(l(Ue,"styleUrl")),ct=x(l(Ue,"description")),de=l(Ue,"TimeSpan"),hr=l(Ue,"TimeStamp"),Kt=l(Ue,"ExtendedData"),bt=l(Ue,"LineStyle"),Pt=l(Ue,"PolyStyle"),Ot=l(Ue,"visibility");if(!qe.geoms.length)return[];if(Et&&(pt.name=Et),St&&(pt.address=St),kt){kt[0]!=="#"&&(kt="#"+kt),pt.styleUrl=kt,Ae[kt]&&(pt.styleHash=Ae[kt]),X[kt]&&(pt.styleMapHash=X[kt],pt.styleHash=Ae[X[kt].normal]);var Gt=Z[pt.styleHash];if(Gt){bt||(bt=l(Gt,"LineStyle")),Pt||(Pt=l(Gt,"PolyStyle"));var It=l(Gt,"IconStyle");if(It){var ir=l(It,"Icon");if(ir){var vr=x(l(ir,"href"));vr&&(pt.icon=vr)}}}}if(ct&&(pt.description=ct),de){var Pr=x(l(de,"begin")),Vr=x(l(de,"end"));pt.timespan={begin:Pr,end:Vr}}if(hr&&(pt.timestamp=x(l(hr,"when"))),bt){var Ze=me(x(l(bt,"color"))),mt=Ze[0],Rt=Ze[1],Lt=parseFloat(x(l(bt,"width")));mt&&(pt.stroke=mt),isNaN(Rt)||(pt["stroke-opacity"]=Rt),isNaN(Lt)||(pt["stroke-width"]=Lt)}if(Pt){var Br=me(x(l(Pt,"color"))),rt=Br[0],Qt=Br[1],Vt=x(l(Pt,"fill")),xr=x(l(Pt,"outline"));rt&&(pt.fill=rt),isNaN(Qt)||(pt["fill-opacity"]=Qt),Vt&&(pt["fill-opacity"]=Vt==="1"?pt["fill-opacity"]||1:0),xr&&(pt["stroke-opacity"]=xr==="1"?pt["stroke-opacity"]||1:0)}if(Kt){var rn=o(Kt,"Data"),rr=o(Kt,"SimpleData");for(lt=0;lt<rn.length;lt++)pt[rn[lt].getAttribute("name")]=x(l(rn[lt],"value"));for(lt=0;lt<rr.length;lt++)pt[rr[lt].getAttribute("name")]=x(rr[lt])}Ot&&(pt.visibility=x(Ot)),qe.coordTimes.length&&(pt.coordTimes=qe.coordTimes.length===1?qe.coordTimes[0]:qe.coordTimes);var ni={type:"Feature",geometry:qe.geoms.length===1?qe.geoms[0]:{type:"GeometryCollection",geometries:qe.geoms},properties:pt};return s(Ue,"id")&&(ni.id=s(Ue,"id")),[ni]}return ne},gpx:function(J){var ne,Ae=o(J,"trk"),Z=o(J,"rte"),X=o(J,"wpt"),oe=z(),be;for(ne=0;ne<Ae.length;ne++)be=Le(Ae[ne]),be&&oe.features.push(be);for(ne=0;ne<Z.length;ne++)be=je(Z[ne]),be&&oe.features.push(be);for(ne=0;ne<X.length;ne++)oe.features.push(xe(X[ne]));function ge(ht,le){for(var me=0;me<le;me++)ht.push(null);return ht}function De(ht,le){var me=o(ht,le),we=[],Ie=[],Me=[],tt=me.length;if(tt<2)return{};for(var Ue=0;Ue<tt;Ue++){var qe=I(me[Ue]);we.push(qe.coordinates),qe.time&&Ie.push(qe.time),(qe.heartRate||Me.length)&&(Me.length||ge(Me,Ue),Me.push(qe.heartRate||null))}return{line:we,times:Ie,heartRates:Me}}function Le(ht){for(var le=o(ht,"trkseg"),me=[],we=[],Ie=[],Me,tt=0;tt<le.length;tt++)if(Me=De(le[tt],"trkpt"),Me&&(Me.line&&me.push(Me.line),Me.times&&Me.times.length&&we.push(Me.times),Ie.length||Me.heartRates&&Me.heartRates.length)){if(!Ie.length)for(var Ue=0;Ue<tt;Ue++)Ie.push(ge([],me[Ue].length));Me.heartRates&&Me.heartRates.length?Ie.push(Me.heartRates):Ie.push(ge([],Me.line.length||0))}if(me.length!==0){var qe=Ke(ht);return C(qe,Oe(l(ht,"extensions"))),we.length&&(qe.coordTimes=me.length===1?we[0]:we),Ie.length&&(qe.heartRates=me.length===1?Ie[0]:Ie),{type:"Feature",properties:qe,geometry:{type:me.length===1?"LineString":"MultiLineString",coordinates:me.length===1?me[0]:me}}}}function je(ht){var le=De(ht,"rtept");if(le.line){var me=Ke(ht);C(me,Oe(l(ht,"extensions")));var we={type:"Feature",properties:me,geometry:{type:"LineString",coordinates:le.line}};return we}}function xe(ht){var le=Ke(ht);return C(le,w(ht,["sym"])),{type:"Feature",properties:le,geometry:{type:"Point",coordinates:I(ht).coordinates}}}function Oe(ht){var le={};if(ht){var me=l(ht,"line");if(me){var we=x(l(me,"color")),Ie=parseFloat(x(l(me,"opacity"))),Me=parseFloat(x(l(me,"width")));we&&(le.stroke=we),isNaN(Ie)||(le["stroke-opacity"]=Ie),isNaN(Me)||(le["stroke-width"]=Me*96/25.4)}}return le}function Ke(ht){var le=w(ht,["name","cmt","desc","type","time","keywords"]),me=o(ht,"link");me.length&&(le.links=[]);for(var we=0,Ie;we<me.length;we++)Ie={href:s(me[we],"href")},C(Ie,w(me[we],["text","type"])),le.links.push(Ie);return le}return oe}};return re})();var r3e=ve.createContext({});r3e.Provider;var n3e=function(){var e=Object.fromEntries(new URLSearchParams(window.location.search));return e.layers=JSON.parse(e!=null&&e.layers?e.layers:"[]"),e};n3e();er.string;er.string;var i3e={visible:!0,urlParameters:{bbox:"{bbox-epsg-3857}",format:"image/png",service:"WMS",version:"1.1.1",request:"GetMap",srs:"EPSG:3857",width:256,height:256,styles:""},attribution:"",sourceOptions:{minZoom:0,maxZoom:20},layerOptions:{minZoom:0,maxZoom:20}};an({},i3e);er.string.isRequired,er.shape({layers:er.string.isRequired,bbox:er.string,format:er.string,service:er.string,version:er.string,request:er.string,srs:er.string,width:er.number,height:er.number}),er.string,er.string,er.object,er.object,er.string,er.bool;ve.createElement(YB,null),ve.createElement(WF,null),ve.createElement(XF,null);var o3e=ve.createContext({});o3e.Provider;er.node.isRequired;cr(Gg)({padding:"4px",marginTop:"-3px",background:"none","&:hover":{background:"none"}});ve.createElement(R7,null),ve.createElement(D7,null),ve.createElement(M7,null),ve.createElement(L7,null);var oy=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$g=typeof window>"u"||"Deno"in globalThis;function Gu(){}function a3e(e,t){return typeof e=="function"?e(t):e}function mA(e){return typeof e=="number"&&e>=0&&e!==1/0}function G7(e,t){return Math.max(e+(t||0)-Date.now(),0)}function og(e,t){return typeof e=="function"?e(t):e}function Mc(e,t){return typeof e=="function"?e(t):e}function tR(e,t){const{type:r="all",exact:n,fetchStatus:o,predicate:s,queryKey:u,stale:l}=e;if(u){if(n){if(t.queryHash!==XT(u,t.options))return!1}else if(!Mv(t.queryKey,u))return!1}if(r!=="all"){const f=t.isActive();if(r==="active"&&!f||r==="inactive"&&f)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||o&&o!==t.state.fetchStatus||s&&!s(t))}function rR(e,t){const{exact:r,status:n,predicate:o,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(Lv(t.options.mutationKey)!==Lv(s))return!1}else if(!Mv(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||o&&!o(t))}function XT(e,t){return((t==null?void 0:t.queryKeyHashFn)||Lv)(e)}function Lv(e){return JSON.stringify(e,(t,r)=>yA(r)?Object.keys(r).sort().reduce((n,o)=>(n[o]=r[o],n),{}):r)}function Mv(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Mv(e[r],t[r])):!1}function KT(e,t){if(e===t)return e;const r=nR(e)&&nR(t);if(r||yA(e)&&yA(t)){const n=r?e:Object.keys(e),o=n.length,s=r?t:Object.keys(t),u=s.length,l=r?[]:{};let f=0;for(let v=0;v<u;v++){const x=r?v:s[v];(!r&&n.includes(x)||r)&&e[x]===void 0&&t[x]===void 0?(l[x]=void 0,f++):(l[x]=KT(e[x],t[x]),l[x]===e[x]&&e[x]!==void 0&&f++)}return o===u&&f===o?e:l}return t}function gA(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function nR(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function yA(e){if(!iR(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!iR(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function iR(e){return Object.prototype.toString.call(e)==="[object Object]"}function s3e(e){return new Promise(t=>{setTimeout(t,e)})}function vA(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?KT(e,t):t}function l3e(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function u3e(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var ZT=Symbol();function W7(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ZT?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ep,gf,sg,NR,c3e=(NR=class extends oy{constructor(){super();un(this,Ep);un(this,gf);un(this,sg);_r(this,sg,t=>{if(!$g&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){st(this,gf)||this.setEventListener(st(this,sg))}onUnsubscribe(){var t;this.hasListeners()||((t=st(this,gf))==null||t.call(this),_r(this,gf,void 0))}setEventListener(t){var r;_r(this,sg,t),(r=st(this,gf))==null||r.call(this),_r(this,gf,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){st(this,Ep)!==t&&(_r(this,Ep,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof st(this,Ep)=="boolean"?st(this,Ep):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ep=new WeakMap,gf=new WeakMap,sg=new WeakMap,NR),YT=new c3e,lg,yf,ug,FR,h3e=(FR=class extends oy{constructor(){super();un(this,lg,!0);un(this,yf);un(this,ug);_r(this,ug,t=>{if(!$g&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){st(this,yf)||this.setEventListener(st(this,ug))}onUnsubscribe(){var t;this.hasListeners()||((t=st(this,yf))==null||t.call(this),_r(this,yf,void 0))}setEventListener(t){var r;_r(this,ug,t),(r=st(this,yf))==null||r.call(this),_r(this,yf,t(this.setOnline.bind(this)))}setOnline(t){st(this,lg)!==t&&(_r(this,lg,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return st(this,lg)}},lg=new WeakMap,yf=new WeakMap,ug=new WeakMap,FR),ux=new h3e;function bA(){let e,t;const r=new Promise((o,s)=>{e=o,t=s});r.status="pending",r.catch(()=>{});function n(o){Object.assign(r,o),delete r.resolve,delete r.reject}return r.resolve=o=>{n({status:"fulfilled",value:o}),e(o)},r.reject=o=>{n({status:"rejected",reason:o}),t(o)},r}function d3e(e){return Math.min(1e3*2**e,3e4)}function X7(e){return(e??"online")==="online"?ux.isOnline():!0}var K7=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function m3(e){return e instanceof K7}function Z7(e){let t=!1,r=0,n=!1,o;const s=bA(),u=I=>{var z;n||(C(new K7(I)),(z=e.abort)==null||z.call(e))},l=()=>{t=!0},f=()=>{t=!1},v=()=>YT.isFocused()&&(e.networkMode==="always"||ux.isOnline())&&e.canRun(),x=()=>X7(e.networkMode)&&e.canRun(),w=I=>{var z;n||(n=!0,(z=e.onSuccess)==null||z.call(e,I),o==null||o(),s.resolve(I))},C=I=>{var z;n||(n=!0,(z=e.onError)==null||z.call(e,I),o==null||o(),s.reject(I))},P=()=>new Promise(I=>{var z;o=N=>{(n||v())&&I(N)},(z=e.onPause)==null||z.call(e)}).then(()=>{var I;o=void 0,n||(I=e.onContinue)==null||I.call(e)}),O=()=>{if(n)return;let I;const z=r===0?e.initialPromise:void 0;try{I=z??e.fn()}catch(N){I=Promise.reject(N)}Promise.resolve(I).then(w).catch(N=>{var ie;if(n)return;const j=e.retry??($g?0:3),V=e.retryDelay??d3e,W=typeof V=="function"?V(r,N):V,re=j===!0||typeof j=="number"&&r<j||typeof j=="function"&&j(r,N);if(t||!re){C(N);return}r++,(ie=e.onFail)==null||ie.call(e,r,N),s3e(W).then(()=>v()?void 0:P()).then(()=>{t?C(N):O()})})};return{promise:s,cancel:u,continue:()=>(o==null||o(),s),cancelRetry:l,continueRetry:f,canStart:x,start:()=>(x()?O():P().then(O),s)}}function f3e(){let e=[],t=0,r=l=>{l()},n=l=>{l()},o=l=>setTimeout(l,0);const s=l=>{t?e.push(l):o(()=>{r(l)})},u=()=>{const l=e;e=[],l.length&&o(()=>{n(()=>{l.forEach(f=>{r(f)})})})};return{batch:l=>{let f;t++;try{f=l()}finally{t--,t||u()}return f},batchCalls:l=>(...f)=>{s(()=>{l(...f)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{o=l}}}var Da=f3e(),Tp,$R,Y7=($R=class{constructor(){un(this,Tp)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),mA(this.gcTime)&&_r(this,Tp,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??($g?1/0:5*60*1e3))}clearGcTimeout(){st(this,Tp)&&(clearTimeout(st(this,Tp)),_r(this,Tp,void 0))}},Tp=new WeakMap,$R),cg,hg,qu,Us,Nv,Pp,kc,fd,BR,p3e=(BR=class extends Y7{constructor(t){super();un(this,kc);un(this,cg);un(this,hg);un(this,qu);un(this,Us);un(this,Nv);un(this,Pp);_r(this,Pp,!1),_r(this,Nv,t.defaultOptions),this.setOptions(t.options),this.observers=[],_r(this,qu,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,_r(this,cg,m3e(this.options)),this.state=t.state??st(this,cg),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=st(this,Us))==null?void 0:t.promise}setOptions(t){this.options={...st(this,Nv),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&st(this,qu).remove(this)}setData(t,r){const n=vA(this.state.data,t,this.options);return En(this,kc,fd).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){En(this,kc,fd).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,o;const r=(n=st(this,Us))==null?void 0:n.promise;return(o=st(this,Us))==null||o.cancel(t),r?r.then(Gu).catch(Gu):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(st(this,cg))}isActive(){return this.observers.some(t=>Mc(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ZT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!G7(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=st(this,Us))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=st(this,Us))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),st(this,qu).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(st(this,Us)&&(st(this,Pp)?st(this,Us).cancel({revert:!0}):st(this,Us).cancelRetry()),this.scheduleGc()),st(this,qu).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||En(this,kc,fd).call(this,{type:"invalidate"})}fetch(t,r){var f,v,x;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(st(this,Us))return st(this,Us).continueRetry(),st(this,Us).promise}if(t&&this.setOptions(t),!this.options.queryFn){const w=this.observers.find(C=>C.options.queryFn);w&&this.setOptions(w.options)}const n=new AbortController,o=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(_r(this,Pp,!0),n.signal)})},s=()=>{const w=W7(this.options,r),C={queryKey:this.queryKey,meta:this.meta};return o(C),_r(this,Pp,!1),this.options.persister?this.options.persister(w,C,this):w(C)},u={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};o(u),(f=this.options.behavior)==null||f.onFetch(u,this),_r(this,hg,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((v=u.fetchOptions)==null?void 0:v.meta))&&En(this,kc,fd).call(this,{type:"fetch",meta:(x=u.fetchOptions)==null?void 0:x.meta});const l=w=>{var C,P,O,I;m3(w)&&w.silent||En(this,kc,fd).call(this,{type:"error",error:w}),m3(w)||((P=(C=st(this,qu).config).onError)==null||P.call(C,w,this),(I=(O=st(this,qu).config).onSettled)==null||I.call(O,this.state.data,w,this)),this.scheduleGc()};return _r(this,Us,Z7({initialPromise:r==null?void 0:r.initialPromise,fn:u.fetchFn,abort:n.abort.bind(n),onSuccess:w=>{var C,P,O,I;if(w===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(w)}catch(z){l(z);return}(P=(C=st(this,qu).config).onSuccess)==null||P.call(C,w,this),(I=(O=st(this,qu).config).onSettled)==null||I.call(O,w,this.state.error,this),this.scheduleGc()},onError:l,onFail:(w,C)=>{En(this,kc,fd).call(this,{type:"failed",failureCount:w,error:C})},onPause:()=>{En(this,kc,fd).call(this,{type:"pause"})},onContinue:()=>{En(this,kc,fd).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),st(this,Us).start()}},cg=new WeakMap,hg=new WeakMap,qu=new WeakMap,Us=new WeakMap,Nv=new WeakMap,Pp=new WeakMap,kc=new WeakSet,fd=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...J7(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return m3(o)&&o.revert&&st(this,hg)?{...st(this,hg),fetchStatus:"idle"}:{...n,error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Da.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),st(this,qu).notify({query:this,type:"updated",action:t})})},BR);function J7(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:X7(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function m3e(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var bh,zR,g3e=(zR=class extends oy{constructor(t={}){super();un(this,bh);this.config=t,_r(this,bh,new Map)}build(t,r,n){const o=r.queryKey,s=r.queryHash??XT(o,r);let u=this.get(s);return u||(u=new p3e({cache:this,queryKey:o,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(o)}),this.add(u)),u}add(t){st(this,bh).has(t.queryHash)||(st(this,bh).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=st(this,bh).get(t.queryHash);r&&(t.destroy(),r===t&&st(this,bh).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Da.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return st(this,bh).get(t)}getAll(){return[...st(this,bh).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>tR(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>tR(t,n)):r}notify(t){Da.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Da.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Da.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},bh=new WeakMap,zR),_h,ol,kp,xh,lf,jR,y3e=(jR=class extends Y7{constructor(t){super();un(this,xh);un(this,_h);un(this,ol);un(this,kp);this.mutationId=t.mutationId,_r(this,ol,t.mutationCache),_r(this,_h,[]),this.state=t.state||v3e(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){st(this,_h).includes(t)||(st(this,_h).push(t),this.clearGcTimeout(),st(this,ol).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){_r(this,_h,st(this,_h).filter(r=>r!==t)),this.scheduleGc(),st(this,ol).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){st(this,_h).length||(this.state.status==="pending"?this.scheduleGc():st(this,ol).remove(this))}continue(){var t;return((t=st(this,kp))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,s,u,l,f,v,x,w,C,P,O,I,z,N,j,V,W,re,ie,J;_r(this,kp,Z7({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(ne,Ae)=>{En(this,xh,lf).call(this,{type:"failed",failureCount:ne,error:Ae})},onPause:()=>{En(this,xh,lf).call(this,{type:"pause"})},onContinue:()=>{En(this,xh,lf).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>st(this,ol).canRun(this)}));const r=this.state.status==="pending",n=!st(this,kp).canStart();try{if(!r){En(this,xh,lf).call(this,{type:"pending",variables:t,isPaused:n}),await((s=(o=st(this,ol).config).onMutate)==null?void 0:s.call(o,t,this));const Ae=await((l=(u=this.options).onMutate)==null?void 0:l.call(u,t));Ae!==this.state.context&&En(this,xh,lf).call(this,{type:"pending",context:Ae,variables:t,isPaused:n})}const ne=await st(this,kp).start();return await((v=(f=st(this,ol).config).onSuccess)==null?void 0:v.call(f,ne,t,this.state.context,this)),await((w=(x=this.options).onSuccess)==null?void 0:w.call(x,ne,t,this.state.context)),await((P=(C=st(this,ol).config).onSettled)==null?void 0:P.call(C,ne,null,this.state.variables,this.state.context,this)),await((I=(O=this.options).onSettled)==null?void 0:I.call(O,ne,null,t,this.state.context)),En(this,xh,lf).call(this,{type:"success",data:ne}),ne}catch(ne){try{throw await((N=(z=st(this,ol).config).onError)==null?void 0:N.call(z,ne,t,this.state.context,this)),await((V=(j=this.options).onError)==null?void 0:V.call(j,ne,t,this.state.context)),await((re=(W=st(this,ol).config).onSettled)==null?void 0:re.call(W,void 0,ne,this.state.variables,this.state.context,this)),await((J=(ie=this.options).onSettled)==null?void 0:J.call(ie,void 0,ne,t,this.state.context)),ne}finally{En(this,xh,lf).call(this,{type:"error",error:ne})}}finally{st(this,ol).runNext(this)}}},_h=new WeakMap,ol=new WeakMap,kp=new WeakMap,xh=new WeakSet,lf=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Da.batch(()=>{st(this,_h).forEach(n=>{n.onMutationUpdate(t)}),st(this,ol).notify({mutation:this,type:"updated",action:t})})},jR);function v3e(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var du,Fv,UR,b3e=(UR=class extends oy{constructor(t={}){super();un(this,du);un(this,Fv);this.config=t,_r(this,du,new Map),_r(this,Fv,Date.now())}build(t,r,n){const o=new y3e({mutationCache:this,mutationId:++$2(this,Fv)._,options:t.defaultMutationOptions(r),state:n});return this.add(o),o}add(t){const r=Ib(t),n=st(this,du).get(r)??[];n.push(t),st(this,du).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=Ib(t);if(st(this,du).has(r)){const o=(n=st(this,du).get(r))==null?void 0:n.filter(s=>s!==t);o&&(o.length===0?st(this,du).delete(r):st(this,du).set(r,o))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=st(this,du).get(Ib(t)))==null?void 0:n.find(o=>o.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=st(this,du).get(Ib(t)))==null?void 0:n.find(o=>o!==t&&o.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Da.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...st(this,du).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>rR(r,n))}findAll(t={}){return this.getAll().filter(r=>rR(t,r))}notify(t){Da.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Da.batch(()=>Promise.all(t.map(r=>r.continue().catch(Gu))))}},du=new WeakMap,Fv=new WeakMap,UR);function Ib(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function oR(e){return{onFetch:(t,r)=>{var x,w,C,P,O;const n=t.options,o=(C=(w=(x=t.fetchOptions)==null?void 0:x.meta)==null?void 0:w.fetchMore)==null?void 0:C.direction,s=((P=t.state.data)==null?void 0:P.pages)||[],u=((O=t.state.data)==null?void 0:O.pageParams)||[];let l={pages:[],pageParams:[]},f=0;const v=async()=>{let I=!1;const z=V=>{Object.defineProperty(V,"signal",{enumerable:!0,get:()=>(t.signal.aborted?I=!0:t.signal.addEventListener("abort",()=>{I=!0}),t.signal)})},N=W7(t.options,t.fetchOptions),j=async(V,W,re)=>{if(I)return Promise.reject();if(W==null&&V.pages.length)return Promise.resolve(V);const ie={queryKey:t.queryKey,pageParam:W,direction:re?"backward":"forward",meta:t.options.meta};z(ie);const J=await N(ie),{maxPages:ne}=t.options,Ae=re?u3e:l3e;return{pages:Ae(V.pages,J,ne),pageParams:Ae(V.pageParams,W,ne)}};if(o&&s.length){const V=o==="backward",W=V?_3e:aR,re={pages:s,pageParams:u},ie=W(n,re);l=await j(re,ie,V)}else{const V=e??s.length;do{const W=f===0?u[0]??n.initialPageParam:aR(n,l);if(f>0&&W==null)break;l=await j(l,W),f++}while(f<V)}return l};t.options.persister?t.fetchFn=()=>{var I,z;return(z=(I=t.options).persister)==null?void 0:z.call(I,v,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=v}}}function aR(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function _3e(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Ho,vf,bf,dg,fg,_f,pg,mg,VR,x3e=(VR=class{constructor(e={}){un(this,Ho);un(this,vf);un(this,bf);un(this,dg);un(this,fg);un(this,_f);un(this,pg);un(this,mg);_r(this,Ho,e.queryCache||new g3e),_r(this,vf,e.mutationCache||new b3e),_r(this,bf,e.defaultOptions||{}),_r(this,dg,new Map),_r(this,fg,new Map),_r(this,_f,0)}mount(){$2(this,_f)._++,st(this,_f)===1&&(_r(this,pg,YT.subscribe(async e=>{e&&(await this.resumePausedMutations(),st(this,Ho).onFocus())})),_r(this,mg,ux.subscribe(async e=>{e&&(await this.resumePausedMutations(),st(this,Ho).onOnline())})))}unmount(){var e,t;$2(this,_f)._--,st(this,_f)===0&&((e=st(this,pg))==null||e.call(this),_r(this,pg,void 0),(t=st(this,mg))==null||t.call(this),_r(this,mg,void 0))}isFetching(e){return st(this,Ho).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return st(this,vf).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=st(this,Ho).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=st(this,Ho).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(og(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return st(this,Ho).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),o=st(this,Ho).get(n.queryHash),s=o==null?void 0:o.state.data,u=a3e(t,s);if(u!==void 0)return st(this,Ho).build(this,n).setData(u,{...r,manual:!0})}setQueriesData(e,t,r){return Da.batch(()=>st(this,Ho).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=st(this,Ho).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=st(this,Ho);Da.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=st(this,Ho),n={type:"active",...e};return Da.batch(()=>(r.findAll(e).forEach(o=>{o.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=Da.batch(()=>st(this,Ho).findAll(e).map(o=>o.cancel(r)));return Promise.all(n).then(Gu).catch(Gu)}invalidateQueries(e={},t={}){return Da.batch(()=>{if(st(this,Ho).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=Da.batch(()=>st(this,Ho).findAll(e).filter(o=>!o.isDisabled()).map(o=>{let s=o.fetch(void 0,r);return r.throwOnError||(s=s.catch(Gu)),o.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Gu)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=st(this,Ho).build(this,t);return r.isStaleByTime(og(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Gu).catch(Gu)}fetchInfiniteQuery(e){return e.behavior=oR(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Gu).catch(Gu)}ensureInfiniteQueryData(e){return e.behavior=oR(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ux.isOnline()?st(this,vf).resumePausedMutations():Promise.resolve()}getQueryCache(){return st(this,Ho)}getMutationCache(){return st(this,vf)}getDefaultOptions(){return st(this,bf)}setDefaultOptions(e){_r(this,bf,e)}setQueryDefaults(e,t){st(this,dg).set(Lv(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...st(this,dg).values()];let r={};return t.forEach(n=>{Mv(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){st(this,fg).set(Lv(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...st(this,fg).values()];let r={};return t.forEach(n=>{Mv(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...st(this,bf).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=XT(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===ZT&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...st(this,bf).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){st(this,Ho).clear(),st(this,vf).clear()}},Ho=new WeakMap,vf=new WeakMap,bf=new WeakMap,dg=new WeakMap,fg=new WeakMap,_f=new WeakMap,pg=new WeakMap,mg=new WeakMap,VR),Ll,Yn,$v,al,Ip,gg,xf,wh,Bv,yg,vg,Lp,Mp,wf,bg,Ci,b1,_A,xA,wA,SA,CA,AA,EA,ez,qR,Q7=(qR=class extends oy{constructor(t,r){super();un(this,Ci);un(this,Ll);un(this,Yn);un(this,$v);un(this,al);un(this,Ip);un(this,gg);un(this,xf);un(this,wh);un(this,Bv);un(this,yg);un(this,vg);un(this,Lp);un(this,Mp);un(this,wf);un(this,bg,new Set);this.options=r,_r(this,Ll,t),_r(this,wh,null),_r(this,xf,bA()),this.options.experimental_prefetchInRender||st(this,xf).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(st(this,Yn).addObserver(this),sR(st(this,Yn),this.options)?En(this,Ci,b1).call(this):this.updateResult(),En(this,Ci,SA).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return TA(st(this,Yn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return TA(st(this,Yn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,En(this,Ci,CA).call(this),En(this,Ci,AA).call(this),st(this,Yn).removeObserver(this)}setOptions(t,r){const n=this.options,o=st(this,Yn);if(this.options=st(this,Ll).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Mc(this.options.enabled,st(this,Yn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");En(this,Ci,EA).call(this),st(this,Yn).setOptions(this.options),n._defaulted&&!gA(this.options,n)&&st(this,Ll).getQueryCache().notify({type:"observerOptionsUpdated",query:st(this,Yn),observer:this});const s=this.hasListeners();s&&lR(st(this,Yn),o,this.options,n)&&En(this,Ci,b1).call(this),this.updateResult(r),s&&(st(this,Yn)!==o||Mc(this.options.enabled,st(this,Yn))!==Mc(n.enabled,st(this,Yn))||og(this.options.staleTime,st(this,Yn))!==og(n.staleTime,st(this,Yn)))&&En(this,Ci,_A).call(this);const u=En(this,Ci,xA).call(this);s&&(st(this,Yn)!==o||Mc(this.options.enabled,st(this,Yn))!==Mc(n.enabled,st(this,Yn))||u!==st(this,wf))&&En(this,Ci,wA).call(this,u)}getOptimisticResult(t){const r=st(this,Ll).getQueryCache().build(st(this,Ll),t),n=this.createResult(r,t);return S3e(this,n)&&(_r(this,al,n),_r(this,gg,this.options),_r(this,Ip,st(this,Yn).state)),n}getCurrentResult(){return st(this,al)}trackResult(t,r){const n={};return Object.keys(t).forEach(o=>{Object.defineProperty(n,o,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(o),r==null||r(o),t[o])})}),n}trackProp(t){st(this,bg).add(t)}getCurrentQuery(){return st(this,Yn)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=st(this,Ll).defaultQueryOptions(t),n=st(this,Ll).getQueryCache().build(st(this,Ll),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return En(this,Ci,b1).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),st(this,al)))}createResult(t,r){var ne;const n=st(this,Yn),o=this.options,s=st(this,al),u=st(this,Ip),l=st(this,gg),v=t!==n?t.state:st(this,$v),{state:x}=t;let w={...x},C=!1,P;if(r._optimisticResults){const Ae=this.hasListeners(),Z=!Ae&&sR(t,r),X=Ae&&lR(t,n,r,o);(Z||X)&&(w={...w,...J7(x.data,t.options)}),r._optimisticResults==="isRestoring"&&(w.fetchStatus="idle")}let{error:O,errorUpdatedAt:I,status:z}=w;if(r.select&&w.data!==void 0)if(s&&w.data===(u==null?void 0:u.data)&&r.select===st(this,Bv))P=st(this,yg);else try{_r(this,Bv,r.select),P=r.select(w.data),P=vA(s==null?void 0:s.data,P,r),_r(this,yg,P),_r(this,wh,null)}catch(Ae){_r(this,wh,Ae)}else P=w.data;if(r.placeholderData!==void 0&&P===void 0&&z==="pending"){let Ae;if(s!=null&&s.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))Ae=s.data;else if(Ae=typeof r.placeholderData=="function"?r.placeholderData((ne=st(this,vg))==null?void 0:ne.state.data,st(this,vg)):r.placeholderData,r.select&&Ae!==void 0)try{Ae=r.select(Ae),_r(this,wh,null)}catch(Z){_r(this,wh,Z)}Ae!==void 0&&(z="success",P=vA(s==null?void 0:s.data,Ae,r),C=!0)}st(this,wh)&&(O=st(this,wh),P=st(this,yg),I=Date.now(),z="error");const N=w.fetchStatus==="fetching",j=z==="pending",V=z==="error",W=j&&N,re=P!==void 0,J={status:z,fetchStatus:w.fetchStatus,isPending:j,isSuccess:z==="success",isError:V,isInitialLoading:W,isLoading:W,data:P,dataUpdatedAt:w.dataUpdatedAt,error:O,errorUpdatedAt:I,failureCount:w.fetchFailureCount,failureReason:w.fetchFailureReason,errorUpdateCount:w.errorUpdateCount,isFetched:w.dataUpdateCount>0||w.errorUpdateCount>0,isFetchedAfterMount:w.dataUpdateCount>v.dataUpdateCount||w.errorUpdateCount>v.errorUpdateCount,isFetching:N,isRefetching:N&&!j,isLoadingError:V&&!re,isPaused:w.fetchStatus==="paused",isPlaceholderData:C,isRefetchError:V&&re,isStale:JT(t,r),refetch:this.refetch,promise:st(this,xf)};if(this.options.experimental_prefetchInRender){const Ae=oe=>{J.status==="error"?oe.reject(J.error):J.data!==void 0&&oe.resolve(J.data)},Z=()=>{const oe=_r(this,xf,J.promise=bA());Ae(oe)},X=st(this,xf);switch(X.status){case"pending":t.queryHash===n.queryHash&&Ae(X);break;case"fulfilled":(J.status==="error"||J.data!==X.value)&&Z();break;case"rejected":(J.status!=="error"||J.error!==X.reason)&&Z();break}}return J}updateResult(t){const r=st(this,al),n=this.createResult(st(this,Yn),this.options);if(_r(this,Ip,st(this,Yn).state),_r(this,gg,this.options),st(this,Ip).data!==void 0&&_r(this,vg,st(this,Yn)),gA(n,r))return;_r(this,al,n);const o={},s=()=>{if(!r)return!0;const{notifyOnChangeProps:u}=this.options,l=typeof u=="function"?u():u;if(l==="all"||!l&&!st(this,bg).size)return!0;const f=new Set(l??st(this,bg));return this.options.throwOnError&&f.add("error"),Object.keys(st(this,al)).some(v=>{const x=v;return st(this,al)[x]!==r[x]&&f.has(x)})};(t==null?void 0:t.listeners)!==!1&&s()&&(o.listeners=!0),En(this,Ci,ez).call(this,{...o,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&En(this,Ci,SA).call(this)}},Ll=new WeakMap,Yn=new WeakMap,$v=new WeakMap,al=new WeakMap,Ip=new WeakMap,gg=new WeakMap,xf=new WeakMap,wh=new WeakMap,Bv=new WeakMap,yg=new WeakMap,vg=new WeakMap,Lp=new WeakMap,Mp=new WeakMap,wf=new WeakMap,bg=new WeakMap,Ci=new WeakSet,b1=function(t){En(this,Ci,EA).call(this);let r=st(this,Yn).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Gu)),r},_A=function(){En(this,Ci,CA).call(this);const t=og(this.options.staleTime,st(this,Yn));if($g||st(this,al).isStale||!mA(t))return;const n=G7(st(this,al).dataUpdatedAt,t)+1;_r(this,Lp,setTimeout(()=>{st(this,al).isStale||this.updateResult()},n))},xA=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(st(this,Yn)):this.options.refetchInterval)??!1},wA=function(t){En(this,Ci,AA).call(this),_r(this,wf,t),!($g||Mc(this.options.enabled,st(this,Yn))===!1||!mA(st(this,wf))||st(this,wf)===0)&&_r(this,Mp,setInterval(()=>{(this.options.refetchIntervalInBackground||YT.isFocused())&&En(this,Ci,b1).call(this)},st(this,wf)))},SA=function(){En(this,Ci,_A).call(this),En(this,Ci,wA).call(this,En(this,Ci,xA).call(this))},CA=function(){st(this,Lp)&&(clearTimeout(st(this,Lp)),_r(this,Lp,void 0))},AA=function(){st(this,Mp)&&(clearInterval(st(this,Mp)),_r(this,Mp,void 0))},EA=function(){const t=st(this,Ll).getQueryCache().build(st(this,Ll),this.options);if(t===st(this,Yn))return;const r=st(this,Yn);_r(this,Yn,t),_r(this,$v,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},ez=function(t){Da.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(st(this,al))}),st(this,Ll).getQueryCache().notify({query:st(this,Yn),type:"observerResultsUpdated"})})},qR);function w3e(e,t){return Mc(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function sR(e,t){return w3e(e,t)||e.state.data!==void 0&&TA(e,t,t.refetchOnMount)}function TA(e,t,r){if(Mc(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&JT(e,t)}return!1}function lR(e,t,r,n){return(e!==t||Mc(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&JT(e,r)}function JT(e,t){return Mc(t.enabled,e)!==!1&&e.isStaleByTime(og(t.staleTime,e))}function S3e(e,t){return!gA(e.getCurrentResult(),t)}function uR(e,t){return e.filter(r=>!t.includes(r))}function C3e(e,t,r){const n=e.slice(0);return n[t]=r,n}var _g,Hu,Dp,xg,fu,Sf,zv,jv,Xa,PA,kA,a_,IA,LA,HR,A3e=(HR=class extends oy{constructor(t,r,n){super();un(this,Xa);un(this,_g);un(this,Hu);un(this,Dp);un(this,xg);un(this,fu);un(this,Sf);un(this,zv);un(this,jv);_r(this,_g,t),_r(this,xg,n),_r(this,Dp,[]),_r(this,fu,[]),_r(this,Hu,[]),this.setQueries(r)}onSubscribe(){this.listeners.size===1&&st(this,fu).forEach(t=>{t.subscribe(r=>{En(this,Xa,IA).call(this,t,r)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,st(this,fu).forEach(t=>{t.destroy()})}setQueries(t,r,n){_r(this,Dp,t),_r(this,xg,r),Da.batch(()=>{const o=st(this,fu),s=En(this,Xa,a_).call(this,st(this,Dp));s.forEach(v=>v.observer.setOptions(v.defaultedQueryOptions,n));const u=s.map(v=>v.observer),l=u.map(v=>v.getCurrentResult()),f=u.some((v,x)=>v!==o[x]);o.length===u.length&&!f||(_r(this,fu,u),_r(this,Hu,l),this.hasListeners()&&(uR(o,u).forEach(v=>{v.destroy()}),uR(u,o).forEach(v=>{v.subscribe(x=>{En(this,Xa,IA).call(this,v,x)})}),En(this,Xa,LA).call(this)))})}getCurrentResult(){return st(this,Hu)}getQueries(){return st(this,fu).map(t=>t.getCurrentQuery())}getObservers(){return st(this,fu)}getOptimisticResult(t,r){const o=En(this,Xa,a_).call(this,t).map(s=>s.observer.getOptimisticResult(s.defaultedQueryOptions));return[o,s=>En(this,Xa,kA).call(this,s??o,r),()=>En(this,Xa,PA).call(this,o,t)]}},_g=new WeakMap,Hu=new WeakMap,Dp=new WeakMap,xg=new WeakMap,fu=new WeakMap,Sf=new WeakMap,zv=new WeakMap,jv=new WeakMap,Xa=new WeakSet,PA=function(t,r){const n=En(this,Xa,a_).call(this,r);return n.map((o,s)=>{const u=t[s];return o.defaultedQueryOptions.notifyOnChangeProps?u:o.observer.trackResult(u,l=>{n.forEach(f=>{f.observer.trackProp(l)})})})},kA=function(t,r){return r?((!st(this,Sf)||st(this,Hu)!==st(this,jv)||r!==st(this,zv))&&(_r(this,zv,r),_r(this,jv,st(this,Hu)),_r(this,Sf,KT(st(this,Sf),r(t)))),st(this,Sf)):t},a_=function(t){const r=new Map(st(this,fu).map(o=>[o.options.queryHash,o])),n=[];return t.forEach(o=>{const s=st(this,_g).defaultQueryOptions(o),u=r.get(s.queryHash);if(u)n.push({defaultedQueryOptions:s,observer:u});else{const l=st(this,fu).find(f=>f.options.queryHash===s.queryHash);n.push({defaultedQueryOptions:s,observer:l??new Q7(st(this,_g),s)})}}),n.sort((o,s)=>t.findIndex(u=>u.queryHash===o.defaultedQueryOptions.queryHash)-t.findIndex(u=>u.queryHash===s.defaultedQueryOptions.queryHash))},IA=function(t,r){const n=st(this,fu).indexOf(t);n!==-1&&(_r(this,Hu,C3e(st(this,Hu),n,r)),En(this,Xa,LA).call(this))},LA=function(){var t;if(this.hasListeners()){const r=st(this,Sf),n=En(this,Xa,kA).call(this,En(this,Xa,PA).call(this,st(this,Hu),st(this,Dp)),(t=st(this,xg))==null?void 0:t.combine);r!==n&&Da.batch(()=>{this.listeners.forEach(o=>{o(st(this,Hu))})})}},HR),tz=Q.createContext(void 0),E3e=e=>{const t=Q.useContext(tz);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},T3e=({client:e,children:t})=>(Q.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),ut.jsx(tz.Provider,{value:e,children:t})),rz=Q.createContext(!1),P3e=()=>Q.useContext(rz);rz.Provider;function k3e(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var I3e=Q.createContext(k3e()),L3e=()=>Q.useContext(I3e);function M3e(e,t){return typeof e=="function"?e(...t):!!e}function D3e(){}var R3e=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},O3e=e=>{Q.useEffect(()=>{e.clearReset()},[e])},N3e=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&M3e(r,[e.error,n]),F3e=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},$3e=(e,t)=>e.isLoading&&e.isFetching&&!t,cR=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,hR=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function B3e({queries:e,...t},r){const n=E3e(),o=P3e(),s=L3e(),u=Q.useMemo(()=>e.map(O=>{const I=n.defaultQueryOptions(O);return I._optimisticResults=o?"isRestoring":"optimistic",I}),[e,n,o]);u.forEach(O=>{F3e(O),R3e(O,s)}),O3e(s);const[l]=Q.useState(()=>new A3e(n,u,t)),[f,v,x]=l.getOptimisticResult(u,t.combine);Q.useSyncExternalStore(Q.useCallback(O=>o?D3e:l.subscribe(Da.batchCalls(O)),[l,o]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),Q.useEffect(()=>{l.setQueries(u,t,{listeners:!1})},[u,t,l]);const C=f.some((O,I)=>cR(u[I],O))?f.flatMap((O,I)=>{const z=u[I];if(z){const N=new Q7(n,z);if(cR(z,O))return hR(z,N,s);$3e(O,o)&&hR(z,N,s)}return[]}):[];if(C.length>0)throw Promise.all(C);const P=f.find((O,I)=>{const z=u[I];return z&&N3e({result:O,errorResetBoundary:s,throwOnError:z.throwOnError,query:n.getQueryCache().get(z.queryHash)})});if(P!=null&&P.error)throw P.error;return v(x())}const nz=window.location.origin+"/react-map-components-apps/multi_tab/",o5=Q.createContext(void 0),dR=["park.json","restaurant.json"],z3e=({children:e})=>{const t=B3e({queries:dR.map(s=>({queryKey:["geoJson:",s],queryFn:async()=>{const u=await fetch(nz+s);if(!u.ok)throw new Error("Failed to fetch!");return u.json()}}))}),o=t.every(s=>s.isSuccess)?t.reduce((s,u,l)=>(s[dR[l]]=u.data,s),{}):{};return ut.jsx(o5.Provider,{value:o,children:e})};function j3e({setSelected:e,setSrc:t}){const r="park.json",n=Q.useContext(o5);if(n&&n[r])return ut.jsx(ut.Fragment,{children:ut.jsx(WT,{configurable:!0,type:"layer",layerId:"park",name:"Parks",layerComponent:ut.jsx(GT,{layerId:"parks",geojson:n[r],onClick:o=>{var s,u;e((u=(s=o==null?void 0:o.features)==null?void 0:s[0])==null?void 0:u.properties["@id"]),t(r)},options:{paint:{"fill-color":"#176A17","fill-outline-color":"#000","fill-opacity":.5}},labelProp:"name"})})})}const fR=e=>{navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"BROADCAST",message:e})};function U3e({setSelected:e,setSrc:t}){const r="restaurant.json",n=Q.useContext(o5);if(n)return ut.jsx(ut.Fragment,{children:ut.jsx(WT,{configurable:!0,type:"layer",layerId:"restaurant",name:"Restaurants",layerComponent:ut.jsx(GT,{geojson:n[r],layerId:"restaurants",type:"circle",onClick:o=>{e(o==null?void 0:o.features[0].properties["@id"]),t(r)},options:{paint:{"circle-color":"#ffbf00","circle-opacity":.75,"circle-stroke-color":"#000","circle-stroke-width":1,"circle-radius":5}},labelProp:"name"})})})}const iz=e=>{const t=e.variant||"outline",[r,n]=Q.useState(),[o,s]=Q.useState(),[u,l]=Q.useState("circle"),v={dark:{color:"#555555",opacity:.5},outline:{color:"#40e0d0",lineColor:"#40e0d0",lineWidth:6,opacity:1},hell:{color:"#40e0d0",opacity:1}};function x(w){const C=w;switch(w.geometry.type){case"Polygon":e.variant=="outline"?(s({"line-color":v.outline.color,"line-width":v.outline.lineWidth,"line-offset":e.offset,...e.paint}),l("line")):(s({"fill-color":v[t].color,"fill-opacity":v[t].opacity,...e.paint}),l("fill"));break;case"LineString":t!="outline"&&(s({"line-color":v[t].color,"line-opacity":v[t].opacity,...e.paint}),l("line"));break;case"Point":t=="outline"?(l("circle"),s({"circle-stroke-color":v[t].lineColor,"circle-opacity":0,"circle-stroke-width":2,"circle-radius":e.offset&&Math.abs(e.offset),...e.paint})):(s({"circle-color":v[t].color,"circle-opacity":v[t].opacity,...e.paint}),l("circle"));break}return C}return Q.useEffect(()=>{if(!e.features){n(void 0);return}const w=[];e.features.forEach(C=>w.push(x(C))),n(Zte(w))},[e.features]),ut.jsx(ut.Fragment,{children:r&&ut.jsx(GT,{mapId:e.mapId,geojson:r,layerId:"MlHighlightFeature",type:u,options:{paint:o},insertBeforeLayer:e.insertBeforeLayer})})};iz.defaultProps={mapId:void 0,offset:0,variant:"outlined"};const V3e=(e,t,r)=>{for(const n of e)if(t===n.id){if(r==="restaurant.json")return n.geometry.coordinates;{const o=n.geometry.coordinates;return q3e(o)}}throw new Error(`Feature with id ${t} not found`)},q3e=e=>{var s;if(!Array.isArray(e)||e.length===0)throw new Error("Invalid coordinates");const t=[],r=[];(s=e[0])==null||s.forEach(([u,l])=>{t.push(u),r.push(l)});const n=t.reduce((u,l)=>u+l,0)/t.length,o=r.reduce((u,l)=>u+l,0)/r.length;return[n,o]},H3e=(e,t)=>{for(const r of Object.values(e)){const n=r.features.find(o=>o.id===t);if(n)return n}return null};function G3e(){const e=HT(),[t,r]=Q.useState(),[n,o]=Q.useState(),[s,u]=Q.useState(null),l=Q.useContext(o5);return Q.useEffect(()=>{if("serviceWorker"in navigator){const f=v=>{var x,w;v.data.type==="selectedFromDataTable"&&(r((x=v.data.message)==null?void 0:x.selected),u((w=v.data.message)==null?void 0:w.src))};return navigator.serviceWorker.addEventListener("message",f),()=>{navigator.serviceWorker.removeEventListener("message",f)}}},[r]),Q.useEffect(()=>{var x;if(!e.map||!t)return;o(H3e(l,t));const f=V3e((x=l[s])==null?void 0:x.features,t,s),v=s==="park.json"?15:17;e.map.flyTo({center:f,zoom:v}),fR({type:"selectedFromLayerManager",message:{selected:t,src:s}})},[t,s,e.map,l]),Q.useEffect(()=>{if(!e.map||!e.map.getLayer("parks")||!e.map.getLayer("restaurants"))return;const f=()=>{const v=[];e.map.queryRenderedFeatures({layers:["parks","restaurants"]}).forEach(w=>{const C=w==null?void 0:w.properties["@id"];C&&!v.includes(C)&&v.push(C)}),fR({type:"showObjects",message:v})};return e.map.on("moveend",f),()=>{e.map.off("moveend",f)}},[e.map]),ut.jsx(ut.Fragment,{children:ut.jsxs(t3e,{open:!0,name:"Layers",children:[ut.jsxs(OSe,{children:[ut.jsx(j3e,{selected:t,setSelected:r,setSrc:u}),ut.jsx(U3e,{selected:t,setSelected:r,setSrc:u})]}),n&&ut.jsx(iz,{features:[n],variant:"hell",offset:1})]})})}const Dv={black:"#000",white:"#fff"},Qm={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},e0={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},t0={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},r0={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},n0={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},o1={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},W3e={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Rv(e,...t){const r=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(n=>r.searchParams.append("args[]",n)),`Minified MUI error #${e}; visit ${r} for the full message.`}const X3e="$$material";function MA(e,...t){const r=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(n=>r.searchParams.append("args[]",n)),`Minified MUI error #${e}; visit ${r} for the full message.`}function K3e(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var Z3e=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Y3e=K3e(function(e){return Z3e.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),J3e=!1;function Q3e(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function eCe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var tCe=function(){function e(r){var n=this;this._insertTag=function(o){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(o,s),n.tags.push(o)},this.isSpeedy=r.speedy===void 0?!J3e:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(eCe(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Q3e(o);try{s.insertRule(n,s.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var o;return(o=n.parentNode)==null?void 0:o.removeChild(n)}),this.tags=[],this.ctr=0},e}(),rCe=function(t,r,n){for(var o=0,s=0;o=s,s=xu(),o===38&&s===12&&(r[n]=1),!Xp(s);)hl();return qg(t,Hs)},nCe=function(t,r){var n=-1,o=44;do switch(Xp(o)){case 0:o===38&&xu()===12&&(r[n]=1),t[n]+=rCe(Hs-1,r,n);break;case 2:t[n]+=L1(o);break;case 4:if(o===44){t[++n]=xu()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=Xv(o)}while(o=hl());return t},iCe=function(t,r){return NE(nCe(OE(t),r))},pR=new WeakMap,oCe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,o=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!pR.get(n))&&!o){pR.set(t,!0);for(var s=[],u=iCe(r,s),l=n.props,f=0,v=0;f<u.length;f++)for(var x=0;x<l.length;x++,v++)t.props[v]=s[f]?u[f].replace(/&\f/g,l[x]):l[x]+" "+u[f]}}},aCe=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function oz(e,t){switch(lN(e,t)){case 5103:return qr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return qr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return qr+e+Ff+e+di+e+e;case 6828:case 4268:return qr+e+di+e+e;case 6165:return qr+e+di+"flex-"+e+e;case 5187:return qr+e+Qr(e,/(\w+).+(:[^]+)/,qr+"box-$1$2"+di+"flex-$1$2")+e;case 5443:return qr+e+di+"flex-item-"+Qr(e,/flex-|-self/,"")+e;case 4675:return qr+e+di+"flex-line-pack"+Qr(e,/align-content|flex-|-self/,"")+e;case 5548:return qr+e+di+Qr(e,"shrink","negative")+e;case 5292:return qr+e+di+Qr(e,"basis","preferred-size")+e;case 6060:return qr+"box-"+Qr(e,"-grow","")+qr+e+di+Qr(e,"grow","positive")+e;case 4554:return qr+Qr(e,/([^-])(transform)/g,"$1"+qr+"$2")+e;case 6187:return Qr(Qr(Qr(e,/(zoom-|grab)/,qr+"$1"),/(image-set)/,qr+"$1"),e,"")+e;case 5495:case 3959:return Qr(e,/(image-set\([^]*)/,qr+"$1$`$1");case 4968:return Qr(Qr(e,/(.+:)(flex-)?(.*)/,qr+"box-pack:$3"+di+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+qr+e+e;case 4095:case 3583:case 4068:case 2532:return Qr(e,/(.+)-inline(.+)/,qr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ju(e)-1-t>6)switch(_o(e,t+1)){case 109:if(_o(e,t+4)!==45)break;case 102:return Qr(e,/(.+:)(.+)-([^]+)/,"$1"+qr+"$2-$3$1"+Ff+(_o(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~uv(e,"stretch")?oz(Qr(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(_o(e,t+1)!==115)break;case 6444:switch(_o(e,Ju(e)-3-(~uv(e,"!important")&&10))){case 107:return Qr(e,":",":"+qr)+e;case 101:return Qr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+qr+(_o(e,14)===45?"inline-":"")+"box$3$1"+qr+"$2$3$1"+di+"$2box$3")+e}break;case 5936:switch(_o(e,t+11)){case 114:return qr+e+di+Qr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return qr+e+di+Qr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return qr+e+di+Qr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return qr+e+di+e+e}return e}var sCe=function(t,r,n,o){if(t.length>-1&&!t.return)switch(t.type){case kx:t.return=oz(t.value,t.length);break;case DE:return Dh([kh(t,{value:Qr(t.value,"@","@"+qr)})],o);case Px:if(t.length)return hN(t.props,function(s){switch(cN(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Dh([kh(t,{props:[Qr(s,/:(read-\w+)/,":"+Ff+"$1")]})],o);case"::placeholder":return Dh([kh(t,{props:[Qr(s,/:(plac\w+)/,":"+qr+"input-$1")]}),kh(t,{props:[Qr(s,/:(plac\w+)/,":"+Ff+"$1")]}),kh(t,{props:[Qr(s,/:(plac\w+)/,di+"input-$1")]})],o)}return""})}},lCe=[sCe],uCe=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(I){var z=I.getAttribute("data-emotion");z.indexOf(" ")!==-1&&(document.head.appendChild(I),I.setAttribute("data-s",""))})}var o=t.stylisPlugins||lCe,s={},u,l=[];u=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(I){for(var z=I.getAttribute("data-emotion").split(" "),N=1;N<z.length;N++)s[z[N]]=!0;l.push(I)});var f,v=[oCe,aCe];{var x,w=[pN,gN(function(I){x.insert(I)})],C=mN(v.concat(o,w)),P=function(z){return Dh(fN(z),C)};f=function(z,N,j,V){x=j,P(z?z+"{"+N.styles+"}":N.styles),V&&(O.inserted[N.name]=!0)}}var O={key:r,sheet:new tCe({key:r,container:u,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:f};return O.sheet.hydrate(l),O};function cCe(e){for(var t=0,r,n=0,o=e.length;o>=4;++n,o-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(o){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var hCe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function dCe(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var fCe=!1,pCe=/[A-Z]|^ms/g,mCe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,az=function(t){return t.charCodeAt(1)===45},mR=function(t){return t!=null&&typeof t!="boolean"},g3=dCe(function(e){return az(e)?e:e.replace(pCe,"-$&").toLowerCase()}),gR=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(mCe,function(n,o,s){return Eh={name:o,styles:s,next:Eh},o})}return hCe[t]!==1&&!az(t)&&typeof r=="number"&&r!==0?r+"px":r},gCe="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Ov(e,t,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var o=r;if(o.anim===1)return Eh={name:o.name,styles:o.styles,next:Eh},o.name;var s=r;if(s.styles!==void 0){var u=s.next;if(u!==void 0)for(;u!==void 0;)Eh={name:u.name,styles:u.styles,next:Eh},u=u.next;var l=s.styles+";";return l}return yCe(e,t,r)}case"function":{if(e!==void 0){var f=Eh,v=r(e);return Eh=f,Ov(e,t,v)}break}}var x=r;if(t==null)return x;var w=t[x];return w!==void 0?w:x}function yCe(e,t,r){var n="";if(Array.isArray(r))for(var o=0;o<r.length;o++)n+=Ov(e,t,r[o])+";";else for(var s in r){var u=r[s];if(typeof u!="object"){var l=u;t!=null&&t[l]!==void 0?n+=s+"{"+t[l]+"}":mR(l)&&(n+=g3(s)+":"+gR(s,l)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&fCe)throw new Error(gCe);if(Array.isArray(u)&&typeof u[0]=="string"&&(t==null||t[u[0]]===void 0))for(var f=0;f<u.length;f++)mR(u[f])&&(n+=g3(s)+":"+gR(s,u[f])+";");else{var v=Ov(e,t,u);switch(s){case"animation":case"animationName":{n+=g3(s)+":"+v+";";break}default:n+=s+"{"+v+"}"}}}}return n}var yR=/label:\s*([^\s;{]+)\s*(;|$)/g,Eh;function QT(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,o="";Eh=void 0;var s=e[0];if(s==null||s.raw===void 0)n=!1,o+=Ov(r,t,s);else{var u=s;o+=u[0]}for(var l=1;l<e.length;l++)if(o+=Ov(r,t,e[l]),n){var f=s;o+=f[l]}yR.lastIndex=0;for(var v="",x;(x=yR.exec(o))!==null;)v+="-"+x[1];var w=cCe(o)+v;return{name:w,styles:o,next:Eh}}var sz=Q.createContext(typeof HTMLElement<"u"?uCe({key:"css"}):null);sz.Provider;var vCe=function(t){return Q.forwardRef(function(r,n){var o=Q.useContext(sz);return t(r,o,n)})},bCe=Q.createContext({});function _Ce(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return QT(t)}var eP=function(){var t=_Ce.apply(void 0,arguments),r="animation-"+t.name;return{name:r,styles:"@keyframes "+r+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},xCe=!0;function wCe(e,t,r){var n="";return r.split(" ").forEach(function(o){e[o]!==void 0?t.push(e[o]+";"):o&&(n+=o+" ")}),n}var lz=function(t,r,n){var o=t.key+"-"+r.name;(n===!1||xCe===!1)&&t.registered[o]===void 0&&(t.registered[o]=r.styles)},SCe=function(t,r,n){lz(t,r,n);var o=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var s=r;do t.insert(r===s?"."+o:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}},CCe=function(t){return t()},ACe=q1.useInsertionEffect?q1.useInsertionEffect:!1,ECe=ACe||CCe,TCe=Y3e,PCe=function(t){return t!=="theme"},vR=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?TCe:PCe},bR=function(t,r,n){var o;if(r){var s=r.shouldForwardProp;o=t.__emotion_forwardProp&&s?function(u){return t.__emotion_forwardProp(u)&&s(u)}:s}return typeof o!="function"&&n&&(o=t.__emotion_forwardProp),o},kCe=!1,ICe=function(t){var r=t.cache,n=t.serialized,o=t.isStringTag;return lz(r,n,o),ECe(function(){return SCe(r,n,o)}),null},LCe=function e(t,r){var n=t.__emotion_real===t,o=n&&t.__emotion_base||t,s,u;r!==void 0&&(s=r.label,u=r.target);var l=bR(t,r,n),f=l||vR(o),v=!f("as");return function(){var x=arguments,w=n&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(s!==void 0&&w.push("label:"+s+";"),x[0]==null||x[0].raw===void 0)w.push.apply(w,x);else{w.push(x[0][0]);for(var C=x.length,P=1;P<C;P++)w.push(x[P],x[0][P])}var O=vCe(function(I,z,N){var j=v&&I.as||o,V="",W=[],re=I;if(I.theme==null){re={};for(var ie in I)re[ie]=I[ie];re.theme=Q.useContext(bCe)}typeof I.className=="string"?V=wCe(z.registered,W,I.className):I.className!=null&&(V=I.className+" ");var J=QT(w.concat(W),z.registered,re);V+=z.key+"-"+J.name,u!==void 0&&(V+=" "+u);var ne=v&&l===void 0?vR(j):f,Ae={};for(var Z in I)v&&Z==="as"||ne(Z)&&(Ae[Z]=I[Z]);return Ae.className=V,N&&(Ae.ref=N),Q.createElement(Q.Fragment,null,Q.createElement(ICe,{cache:z,serialized:J,isStringTag:typeof j=="string"}),Q.createElement(j,Ae))});return O.displayName=s!==void 0?s:"Styled("+(typeof o=="string"?o:o.displayName||o.name||"Component")+")",O.defaultProps=t.defaultProps,O.__emotion_real=O,O.__emotion_base=o,O.__emotion_styles=w,O.__emotion_forwardProp=l,Object.defineProperty(O,"toString",{value:function(){return u===void 0&&kCe?"NO_COMPONENT_SELECTOR":"."+u}}),O.withComponent=function(I,z){return e(I,lv({},r,z,{shouldForwardProp:bR(O,z,!0)})).apply(void 0,w)},O}},MCe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],DA=LCe.bind();MCe.forEach(function(e){DA[e]=DA(e)});/**
 * @mui/styled-engine v6.1.7
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function DCe(e,t){return DA(e,t)}function RCe(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const _R=[];function xR(e){return _R[0]=e,QT(_R)}function _p(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function uz(e){if(!_p(e))return e;const t={};return Object.keys(e).forEach(r=>{t[r]=uz(e[r])}),t}function zp(e,t,r={clone:!0}){const n=r.clone?{...e}:e;return _p(e)&&_p(t)&&Object.keys(t).forEach(o=>{_p(t[o])&&Object.prototype.hasOwnProperty.call(e,o)&&_p(e[o])?n[o]=zp(e[o],t[o],r):r.clone?n[o]=_p(t[o])?uz(t[o]):t[o]:n[o]=t[o]}),n}const OCe=e=>{const t=Object.keys(e).map(r=>({key:r,val:e[r]}))||[];return t.sort((r,n)=>r.val-n.val),t.reduce((r,n)=>({...r,[n.key]:n.val}),{})};function NCe(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5,...o}=e,s=OCe(t),u=Object.keys(s);function l(C){return`@media (min-width:${typeof t[C]=="number"?t[C]:C}${r})`}function f(C){return`@media (max-width:${(typeof t[C]=="number"?t[C]:C)-n/100}${r})`}function v(C,P){const O=u.indexOf(P);return`@media (min-width:${typeof t[C]=="number"?t[C]:C}${r}) and (max-width:${(O!==-1&&typeof t[u[O]]=="number"?t[u[O]]:P)-n/100}${r})`}function x(C){return u.indexOf(C)+1<u.length?v(C,u[u.indexOf(C)+1]):l(C)}function w(C){const P=u.indexOf(C);return P===0?l(u[1]):P===u.length-1?f(u[P]):v(C,u[u.indexOf(C)+1]).replace("@media","@media not all and")}return{keys:u,values:s,up:l,down:f,between:v,only:x,not:w,unit:r,...o}}function FCe(e,t){if(!e.containerQueries)return t;const r=Object.keys(t).filter(n=>n.startsWith("@container")).sort((n,o)=>{var u,l;const s=/min-width:\s*([0-9.]+)/;return+(((u=n.match(s))==null?void 0:u[1])||0)-+(((l=o.match(s))==null?void 0:l[1])||0)});return r.length?r.reduce((n,o)=>{const s=t[o];return delete n[o],n[o]=s,n},{...t}):t}function $Ce(e,t){return t==="@"||t.startsWith("@")&&(e.some(r=>t.startsWith(`@${r}`))||!!t.match(/^@\d/))}function BCe(e,t){const r=t.match(/^@([^/]+)?\/?(.+)?$/);if(!r)return null;const[,n,o]=r,s=Number.isNaN(+n)?n||0:+n;return e.containerQueries(o).up(s)}function zCe(e){const t=(s,u)=>s.replace("@media",u?`@container ${u}`:"@container");function r(s,u){s.up=(...l)=>t(e.breakpoints.up(...l),u),s.down=(...l)=>t(e.breakpoints.down(...l),u),s.between=(...l)=>t(e.breakpoints.between(...l),u),s.only=(...l)=>t(e.breakpoints.only(...l),u),s.not=(...l)=>{const f=t(e.breakpoints.not(...l),u);return f.includes("not all and")?f.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):f}}const n={},o=s=>(r(n,s),n);return r(o),{...e,containerQueries:o}}const jCe={borderRadius:4};function V1(e,t){return t?zp(e,t,{clone:!1}):e}const a5={xs:0,sm:600,md:900,lg:1200,xl:1536},wR={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${a5[e]}px)`},UCe={containerQueries:e=>({up:t=>{let r=typeof t=="number"?t:a5[t]||t;return typeof r=="number"&&(r=`${r}px`),e?`@container ${e} (min-width:${r})`:`@container (min-width:${r})`}})};function Rd(e,t,r){const n=e.theme||{};if(Array.isArray(t)){const s=n.breakpoints||wR;return t.reduce((u,l,f)=>(u[s.up(s.keys[f])]=r(t[f]),u),{})}if(typeof t=="object"){const s=n.breakpoints||wR;return Object.keys(t).reduce((u,l)=>{if($Ce(s.keys,l)){const f=BCe(n.containerQueries?n:UCe,l);f&&(u[f]=r(t[l],l))}else if(Object.keys(s.values||a5).includes(l)){const f=s.up(l);u[f]=r(t[l],l)}else{const f=l;u[f]=t[f]}return u},{})}return r(t)}function VCe(e={}){var r;return((r=e.keys)==null?void 0:r.reduce((n,o)=>{const s=e.up(o);return n[s]={},n},{}))||{}}function qCe(e,t){return e.reduce((r,n)=>{const o=r[n];return(!o||Object.keys(o).length===0)&&delete r[n],r},t)}function cz(e){if(typeof e!="string")throw new Error(MA(7));return e.charAt(0).toUpperCase()+e.slice(1)}function s5(e,t,r=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&r){const n=`vars.${t}`.split(".").reduce((o,s)=>o&&o[s]?o[s]:null,e);if(n!=null)return n}return t.split(".").reduce((n,o)=>n&&n[o]!=null?n[o]:null,e)}function cx(e,t,r,n=r){let o;return typeof e=="function"?o=e(r):Array.isArray(e)?o=e[r]||n:o=s5(e,r)||n,t&&(o=t(o,n,e)),o}function sa(e){const{prop:t,cssProperty:r=e.prop,themeKey:n,transform:o}=e,s=u=>{if(u[t]==null)return null;const l=u[t],f=u.theme,v=s5(f,n)||{};return Rd(u,l,w=>{let C=cx(v,o,w);return w===C&&typeof w=="string"&&(C=cx(v,o,`${t}${w==="default"?"":cz(w)}`,w)),r===!1?C:{[r]:C}})};return s.propTypes={},s.filterProps=[t],s}function HCe(e){const t={};return r=>(t[r]===void 0&&(t[r]=e(r)),t[r])}const GCe={m:"margin",p:"padding"},WCe={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},SR={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},XCe=HCe(e=>{if(e.length>2)if(SR[e])e=SR[e];else return[e];const[t,r]=e.split(""),n=GCe[t],o=WCe[r]||"";return Array.isArray(o)?o.map(s=>n+s):[n+o]}),tP=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],rP=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...tP,...rP];function y2(e,t,r,n){const o=s5(e,t,!0)??r;return typeof o=="number"||typeof o=="string"?s=>typeof s=="string"?s:typeof o=="string"?`calc(${s} * ${o})`:o*s:Array.isArray(o)?s=>{if(typeof s=="string")return s;const u=Math.abs(s),l=o[u];return s>=0?l:typeof l=="number"?-l:`-${l}`}:typeof o=="function"?o:()=>{}}function nP(e){return y2(e,"spacing",8)}function v2(e,t){return typeof t=="string"||t==null?t:e(t)}function KCe(e,t){return r=>e.reduce((n,o)=>(n[o]=v2(t,r),n),{})}function ZCe(e,t,r,n){if(!t.includes(r))return null;const o=XCe(r),s=KCe(o,n),u=e[r];return Rd(e,u,s)}function hz(e,t){const r=nP(e.theme);return Object.keys(e).map(n=>ZCe(e,t,n,r)).reduce(V1,{})}function Vo(e){return hz(e,tP)}Vo.propTypes={};Vo.filterProps=tP;function qo(e){return hz(e,rP)}qo.propTypes={};qo.filterProps=rP;function dz(e=8,t=nP({spacing:e})){if(e.mui)return e;const r=(...n)=>(n.length===0?[1]:n).map(s=>{const u=t(s);return typeof u=="number"?`${u}px`:u}).join(" ");return r.mui=!0,r}function l5(...e){const t=e.reduce((n,o)=>(o.filterProps.forEach(s=>{n[s]=o}),n),{}),r=n=>Object.keys(n).reduce((o,s)=>t[s]?V1(o,t[s](n)):o,{});return r.propTypes={},r.filterProps=e.reduce((n,o)=>n.concat(o.filterProps),[]),r}function tc(e){return typeof e!="number"?e:`${e}px solid`}function dc(e,t){return sa({prop:e,themeKey:"borders",transform:t})}const YCe=dc("border",tc),JCe=dc("borderTop",tc),QCe=dc("borderRight",tc),eAe=dc("borderBottom",tc),tAe=dc("borderLeft",tc),rAe=dc("borderColor"),nAe=dc("borderTopColor"),iAe=dc("borderRightColor"),oAe=dc("borderBottomColor"),aAe=dc("borderLeftColor"),sAe=dc("outline",tc),lAe=dc("outlineColor"),u5=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=y2(e.theme,"shape.borderRadius",4),r=n=>({borderRadius:v2(t,n)});return Rd(e,e.borderRadius,r)}return null};u5.propTypes={};u5.filterProps=["borderRadius"];l5(YCe,JCe,QCe,eAe,tAe,rAe,nAe,iAe,oAe,aAe,u5,sAe,lAe);const c5=e=>{if(e.gap!==void 0&&e.gap!==null){const t=y2(e.theme,"spacing",8),r=n=>({gap:v2(t,n)});return Rd(e,e.gap,r)}return null};c5.propTypes={};c5.filterProps=["gap"];const h5=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=y2(e.theme,"spacing",8),r=n=>({columnGap:v2(t,n)});return Rd(e,e.columnGap,r)}return null};h5.propTypes={};h5.filterProps=["columnGap"];const d5=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=y2(e.theme,"spacing",8),r=n=>({rowGap:v2(t,n)});return Rd(e,e.rowGap,r)}return null};d5.propTypes={};d5.filterProps=["rowGap"];const uAe=sa({prop:"gridColumn"}),cAe=sa({prop:"gridRow"}),hAe=sa({prop:"gridAutoFlow"}),dAe=sa({prop:"gridAutoColumns"}),fAe=sa({prop:"gridAutoRows"}),pAe=sa({prop:"gridTemplateColumns"}),mAe=sa({prop:"gridTemplateRows"}),gAe=sa({prop:"gridTemplateAreas"}),yAe=sa({prop:"gridArea"});l5(c5,h5,d5,uAe,cAe,hAe,dAe,fAe,pAe,mAe,gAe,yAe);function ag(e,t){return t==="grey"?t:e}const vAe=sa({prop:"color",themeKey:"palette",transform:ag}),bAe=sa({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ag}),_Ae=sa({prop:"backgroundColor",themeKey:"palette",transform:ag});l5(vAe,bAe,_Ae);function yu(e){return e<=1&&e!==0?`${e*100}%`:e}const xAe=sa({prop:"width",transform:yu}),iP=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=r=>{var o,s,u,l,f;const n=((u=(s=(o=e.theme)==null?void 0:o.breakpoints)==null?void 0:s.values)==null?void 0:u[r])||a5[r];return n?((f=(l=e.theme)==null?void 0:l.breakpoints)==null?void 0:f.unit)!=="px"?{maxWidth:`${n}${e.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:yu(r)}};return Rd(e,e.maxWidth,t)}return null};iP.filterProps=["maxWidth"];const wAe=sa({prop:"minWidth",transform:yu}),SAe=sa({prop:"height",transform:yu}),CAe=sa({prop:"maxHeight",transform:yu}),AAe=sa({prop:"minHeight",transform:yu});sa({prop:"size",cssProperty:"width",transform:yu});sa({prop:"size",cssProperty:"height",transform:yu});const EAe=sa({prop:"boxSizing"});l5(xAe,iP,wAe,SAe,CAe,AAe,EAe);const f5={border:{themeKey:"borders",transform:tc},borderTop:{themeKey:"borders",transform:tc},borderRight:{themeKey:"borders",transform:tc},borderBottom:{themeKey:"borders",transform:tc},borderLeft:{themeKey:"borders",transform:tc},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:tc},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:u5},color:{themeKey:"palette",transform:ag},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ag},backgroundColor:{themeKey:"palette",transform:ag},p:{style:qo},pt:{style:qo},pr:{style:qo},pb:{style:qo},pl:{style:qo},px:{style:qo},py:{style:qo},padding:{style:qo},paddingTop:{style:qo},paddingRight:{style:qo},paddingBottom:{style:qo},paddingLeft:{style:qo},paddingX:{style:qo},paddingY:{style:qo},paddingInline:{style:qo},paddingInlineStart:{style:qo},paddingInlineEnd:{style:qo},paddingBlock:{style:qo},paddingBlockStart:{style:qo},paddingBlockEnd:{style:qo},m:{style:Vo},mt:{style:Vo},mr:{style:Vo},mb:{style:Vo},ml:{style:Vo},mx:{style:Vo},my:{style:Vo},margin:{style:Vo},marginTop:{style:Vo},marginRight:{style:Vo},marginBottom:{style:Vo},marginLeft:{style:Vo},marginX:{style:Vo},marginY:{style:Vo},marginInline:{style:Vo},marginInlineStart:{style:Vo},marginInlineEnd:{style:Vo},marginBlock:{style:Vo},marginBlockStart:{style:Vo},marginBlockEnd:{style:Vo},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:c5},rowGap:{style:d5},columnGap:{style:h5},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:yu},maxWidth:{style:iP},minWidth:{transform:yu},height:{transform:yu},maxHeight:{transform:yu},minHeight:{transform:yu},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function TAe(...e){const t=e.reduce((n,o)=>n.concat(Object.keys(o)),[]),r=new Set(t);return e.every(n=>r.size===Object.keys(n).length)}function PAe(e,t){return typeof e=="function"?e(t):e}function kAe(){function e(r,n,o,s){const u={[r]:n,theme:o},l=s[r];if(!l)return{[r]:n};const{cssProperty:f=r,themeKey:v,transform:x,style:w}=l;if(n==null)return null;if(v==="typography"&&n==="inherit")return{[r]:n};const C=s5(o,v)||{};return w?w(u):Rd(u,n,O=>{let I=cx(C,x,O);return O===I&&typeof O=="string"&&(I=cx(C,x,`${r}${O==="default"?"":cz(O)}`,O)),f===!1?I:{[f]:I}})}function t(r){const{sx:n,theme:o={}}=r||{};if(!n)return null;const s=o.unstable_sxConfig??f5;function u(l){let f=l;if(typeof l=="function")f=l(o);else if(typeof l!="object")return l;if(!f)return null;const v=VCe(o.breakpoints),x=Object.keys(v);let w=v;return Object.keys(f).forEach(C=>{const P=PAe(f[C],o);if(P!=null)if(typeof P=="object")if(s[C])w=V1(w,e(C,P,o,s));else{const O=Rd({theme:o},P,I=>({[C]:I}));TAe(O,P)?w[C]=t({sx:P,theme:o}):w=V1(w,O)}else w=V1(w,e(C,P,o,s))}),FCe(o,qCe(x,w))}return Array.isArray(n)?n.map(u):u(n)}return t}const Bg=kAe();Bg.filterProps=["sx"];function IAe(e,t){var n;const r=this;if(r.vars){if(!((n=r.colorSchemes)!=null&&n[e])||typeof r.getColorSchemeSelector!="function")return{};let o=r.getColorSchemeSelector(e);return o==="&"?t:((o.includes("data-")||o.includes("."))&&(o=`*:where(${o.replace(/\s*&$/,"")}) &`),{[o]:t})}return r.palette.mode===e?t:{}}function fz(e={},...t){const{breakpoints:r={},palette:n={},spacing:o,shape:s={},...u}=e,l=NCe(r),f=dz(o);let v=zp({breakpoints:l,direction:"ltr",components:{},palette:{mode:"light",...n},spacing:f,shape:{...jCe,...s}},u);return v=zCe(v),v.applyStyles=IAe,v=t.reduce((x,w)=>zp(x,w),v),v.unstable_sxConfig={...f5,...u==null?void 0:u.unstable_sxConfig},v.unstable_sx=function(w){return Bg({sx:w,theme:this})},v}function pz(e){const{variants:t,...r}=e,n={variants:t,style:xR(r),isProcessed:!0};return n.style===r||t&&t.forEach(o=>{typeof o.style!="function"&&(o.style=xR(o.style))}),n}const LAe=fz();function y3(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function MAe(e){return e?(t,r)=>r[e]:null}function DAe(e,t,r){e.theme=NAe(e.theme)?r:e.theme[t]||e.theme}function s_(e,t){const r=typeof t=="function"?t(e):t;if(Array.isArray(r))return r.flatMap(n=>s_(e,n));if(Array.isArray(r==null?void 0:r.variants)){let n;if(r.isProcessed)n=r.style;else{const{variants:o,...s}=r;n=s}return mz(e,r.variants,[n])}return r!=null&&r.isProcessed?r.style:r}function mz(e,t,r=[]){var o;let n;e:for(let s=0;s<t.length;s+=1){const u=t[s];if(typeof u.props=="function"){if(n??(n={...e,...e.ownerState,ownerState:e.ownerState}),!u.props(n))continue}else for(const l in u.props)if(e[l]!==u.props[l]&&((o=e.ownerState)==null?void 0:o[l])!==u.props[l])continue e;typeof u.style=="function"?(n??(n={...e,...e.ownerState,ownerState:e.ownerState}),r.push(u.style(n))):r.push(u.style)}return r}function RAe(e={}){const{themeId:t,defaultTheme:r=LAe,rootShouldForwardProp:n=y3,slotShouldForwardProp:o=y3}=e;function s(l){DAe(l,t,r)}return(l,f={})=>{RCe(l,re=>re.filter(ie=>ie!==Bg));const{name:v,slot:x,skipVariantsResolver:w,skipSx:C,overridesResolver:P=MAe($Ae(x)),...O}=f,I=w!==void 0?w:x&&x!=="Root"&&x!=="root"||!1,z=C||!1;let N=y3;x==="Root"||x==="root"?N=n:x?N=o:FAe(l)&&(N=void 0);const j=DCe(l,{shouldForwardProp:N,label:OAe(),...O}),V=re=>{if(typeof re=="function"&&re.__emotion_real!==re)return function(J){return s_(J,re)};if(_p(re)){const ie=pz(re);return ie.variants?function(ne){return s_(ne,ie)}:ie.style}return re},W=(...re)=>{const ie=[],J=re.map(V),ne=[];if(ie.push(s),v&&P&&ne.push(function(oe){var Le,je;const ge=(je=(Le=oe.theme.components)==null?void 0:Le[v])==null?void 0:je.styleOverrides;if(!ge)return null;const De={};for(const xe in ge)De[xe]=s_(oe,ge[xe]);return P(oe,De)}),v&&!I&&ne.push(function(oe){var De,Le;const be=oe.theme,ge=(Le=(De=be==null?void 0:be.components)==null?void 0:De[v])==null?void 0:Le.variants;return ge?mz(oe,ge):null}),z||ne.push(Bg),Array.isArray(J[0])){const X=J.shift(),oe=new Array(ie.length).fill(""),be=new Array(ne.length).fill("");let ge;ge=[...oe,...X,...be],ge.raw=[...oe,...X.raw,...be],ie.unshift(ge)}const Ae=[...ie,...J,...ne],Z=j(...Ae);return l.muiName&&(Z.muiName=l.muiName),Z};return j.withConfig&&(W.withConfig=j.withConfig),W}}function OAe(e,t){return void 0}function NAe(e){for(const t in e)return!1;return!0}function FAe(e){return typeof e=="string"&&e.charCodeAt(0)>96}function $Ae(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function RA(e,t){const r={...t};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const o=n;if(o==="components"||o==="slots")r[o]={...e[o],...r[o]};else if(o==="componentsProps"||o==="slotProps"){const s=e[o],u=t[o];if(!u)r[o]=s||{};else if(!s)r[o]=u;else{r[o]={...u};for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const f=l;r[o][f]=RA(s[f],u[f])}}}else r[o]===void 0&&(r[o]=e[o])}return r}function BAe(e,t=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,r))}function oP(e,t=0,r=1){return BAe(e,t,r)}function zAe(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(t);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,o)=>o<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function Uf(e){if(e.type)return e;if(e.charAt(0)==="#")return Uf(zAe(e));const t=e.indexOf("("),r=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(r))throw new Error(MA(9,e));let n=e.substring(t+1,e.length-1),o;if(r==="color"){if(n=n.split(" "),o=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(o))throw new Error(MA(10,o))}else n=n.split(",");return n=n.map(s=>parseFloat(s)),{type:r,values:n,colorSpace:o}}const jAe=e=>{const t=Uf(e);return t.values.slice(0,3).map((r,n)=>t.type.includes("hsl")&&n!==0?`${r}%`:r).join(" ")},_1=(e,t)=>{try{return jAe(e)}catch{return e}};function p5(e){const{type:t,colorSpace:r}=e;let{values:n}=e;return t.includes("rgb")?n=n.map((o,s)=>s<3?parseInt(o,10):o):t.includes("hsl")&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),t.includes("color")?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${t}(${n})`}function gz(e){e=Uf(e);const{values:t}=e,r=t[0],n=t[1]/100,o=t[2]/100,s=n*Math.min(o,1-o),u=(v,x=(v+r/30)%12)=>o-s*Math.max(Math.min(x-3,9-x,1),-1);let l="rgb";const f=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return e.type==="hsla"&&(l+="a",f.push(t[3])),p5({type:l,values:f})}function OA(e){e=Uf(e);let t=e.type==="hsl"||e.type==="hsla"?Uf(gz(e)).values:e.values;return t=t.map(r=>(e.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function UAe(e,t){const r=OA(e),n=OA(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function E0(e,t){return e=Uf(e),t=oP(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,p5(e)}function Lb(e,t,r){try{return E0(e,t)}catch{return e}}function aP(e,t){if(e=Uf(e),t=oP(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]*=1-t;return p5(e)}function Xi(e,t,r){try{return aP(e,t)}catch{return e}}function sP(e,t){if(e=Uf(e),t=oP(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return p5(e)}function Ki(e,t,r){try{return sP(e,t)}catch{return e}}function VAe(e,t=.15){return OA(e)>.5?aP(e,t):sP(e,t)}function Mb(e,t,r){try{return VAe(e,t)}catch{return e}}const qAe=Q.createContext(void 0);function HAe(e){const{theme:t,name:r,props:n}=e;if(!t||!t.components||!t.components[r])return n;const o=t.components[r];return o.defaultProps?RA(o.defaultProps,n):!o.styleOverrides&&!o.variants?RA(o,n):n}function GAe({props:e,name:t}){const r=Q.useContext(qAe);return HAe({props:e,name:t,theme:{components:r}})}const CR={theme:void 0};function WAe(e){let t,r;return function(o){let s=t;return(s===void 0||o.theme!==r)&&(CR.theme=o.theme,s=pz(e(CR)),t=s,r=o.theme),s}}function XAe(e=""){function t(...n){if(!n.length)return"";const o=n[0];return typeof o=="string"&&!o.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${o}${t(...n.slice(1))})`:`, ${o}`}return(n,...o)=>`var(--${e?`${e}-`:""}${n}${t(...o)})`}const AR=(e,t,r,n=[])=>{let o=e;t.forEach((s,u)=>{u===t.length-1?Array.isArray(o)?o[Number(s)]=r:o&&typeof o=="object"&&(o[s]=r):o&&typeof o=="object"&&(o[s]||(o[s]=n.includes(s)?[]:{}),o=o[s])})},KAe=(e,t,r)=>{function n(o,s=[],u=[]){Object.entries(o).forEach(([l,f])=>{(!r||r&&!r([...s,l]))&&f!=null&&(typeof f=="object"&&Object.keys(f).length>0?n(f,[...s,l],Array.isArray(f)?[...u,l]:u):t([...s,l],f,u))})}n(e)},ZAe=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(n=>e.includes(n))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function v3(e,t){const{prefix:r,shouldSkipGeneratingVar:n}=t||{},o={},s={},u={};return KAe(e,(l,f,v)=>{if((typeof f=="string"||typeof f=="number")&&(!n||!n(l,f))){const x=`--${r?`${r}-`:""}${l.join("-")}`,w=ZAe(l,f);Object.assign(o,{[x]:w}),AR(s,l,`var(${x})`,v),AR(u,l,`var(${x}, ${w})`,v)}},l=>l[0]==="vars"),{css:o,vars:s,varsWithDefaults:u}}function YAe(e,t={}){const{getSelector:r=z,disableCssColorScheme:n,colorSchemeSelector:o}=t,{colorSchemes:s={},components:u,defaultColorScheme:l="light",...f}=e,{vars:v,css:x,varsWithDefaults:w}=v3(f,t);let C=w;const P={},{[l]:O,...I}=s;if(Object.entries(I||{}).forEach(([V,W])=>{const{vars:re,css:ie,varsWithDefaults:J}=v3(W,t);C=zp(C,J),P[V]={css:ie,vars:re}}),O){const{css:V,vars:W,varsWithDefaults:re}=v3(O,t);C=zp(C,re),P[l]={css:V,vars:W}}function z(V,W){var ie,J;let re=o;if(o==="class"&&(re=".%s"),o==="data"&&(re="[data-%s]"),o!=null&&o.startsWith("data-")&&!o.includes("%s")&&(re=`[${o}="%s"]`),V){if(re==="media")return e.defaultColorScheme===V?":root":{[`@media (prefers-color-scheme: ${((J=(ie=s[V])==null?void 0:ie.palette)==null?void 0:J.mode)||V})`]:{":root":W}};if(re)return e.defaultColorScheme===V?`:root, ${re.replace("%s",String(V))}`:re.replace("%s",String(V))}return":root"}return{vars:C,generateThemeVars:()=>{let V={...v};return Object.entries(P).forEach(([,{vars:W}])=>{V=zp(V,W)}),V},generateStyleSheets:()=>{var ne,Ae;const V=[],W=e.defaultColorScheme||"light";function re(Z,X){Object.keys(X).length&&V.push(typeof Z=="string"?{[Z]:{...X}}:Z)}re(r(void 0,{...x}),x);const{[W]:ie,...J}=P;if(ie){const{css:Z}=ie,X=(Ae=(ne=s[W])==null?void 0:ne.palette)==null?void 0:Ae.mode,oe=!n&&X?{colorScheme:X,...Z}:{...Z};re(r(W,{...oe}),oe)}return Object.entries(J).forEach(([Z,{css:X}])=>{var ge,De;const oe=(De=(ge=s[Z])==null?void 0:ge.palette)==null?void 0:De.mode,be=!n&&oe?{colorScheme:oe,...X}:{...X};re(r(Z,{...be}),be)}),V}}}function JAe(e){return function(r){return e==="media"?`@media (prefers-color-scheme: ${r})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${r}"] &`:e==="class"?`.${r} &`:e==="data"?`[data-${r}] &`:`${e.replace("%s",r)} &`:"&"}}function mf(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function yz(e){if(!mf(e))return e;const t={};return Object.keys(e).forEach(r=>{t[r]=yz(e[r])}),t}function jp(e,t,r={clone:!0}){const n=r.clone?{...e}:e;return mf(e)&&mf(t)&&Object.keys(t).forEach(o=>{mf(t[o])&&Object.prototype.hasOwnProperty.call(e,o)&&mf(e[o])?n[o]=jp(e[o],t[o],r):r.clone?n[o]=mf(t[o])?yz(t[o]):t[o]:n[o]=t[o]}),n}function vz(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Dv.white,default:Dv.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const QAe=vz();function bz(){return{text:{primary:Dv.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Dv.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const ER=bz();function TR(e,t,r,n){const o=n.light||n,s=n.dark||n*1.5;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:t==="light"?e.light=sP(e.main,o):t==="dark"&&(e.dark=aP(e.main,s)))}function eEe(e="light"){return e==="dark"?{main:t0[200],light:t0[50],dark:t0[400]}:{main:t0[700],light:t0[400],dark:t0[800]}}function tEe(e="light"){return e==="dark"?{main:e0[200],light:e0[50],dark:e0[400]}:{main:e0[500],light:e0[300],dark:e0[700]}}function rEe(e="light"){return e==="dark"?{main:Qm[500],light:Qm[300],dark:Qm[700]}:{main:Qm[700],light:Qm[400],dark:Qm[800]}}function nEe(e="light"){return e==="dark"?{main:r0[400],light:r0[300],dark:r0[700]}:{main:r0[700],light:r0[500],dark:r0[900]}}function iEe(e="light"){return e==="dark"?{main:n0[400],light:n0[300],dark:n0[700]}:{main:n0[800],light:n0[500],dark:n0[900]}}function oEe(e="light"){return e==="dark"?{main:o1[400],light:o1[300],dark:o1[700]}:{main:"#ed6c02",light:o1[500],dark:o1[900]}}function lP(e){const{mode:t="light",contrastThreshold:r=3,tonalOffset:n=.2,...o}=e,s=e.primary||eEe(t),u=e.secondary||tEe(t),l=e.error||rEe(t),f=e.info||nEe(t),v=e.success||iEe(t),x=e.warning||oEe(t);function w(I){return UAe(I,ER.text.primary)>=r?ER.text.primary:QAe.text.primary}const C=({color:I,name:z,mainShade:N=500,lightShade:j=300,darkShade:V=700})=>{if(I={...I},!I.main&&I[N]&&(I.main=I[N]),!I.hasOwnProperty("main"))throw new Error(Rv(11,z?` (${z})`:"",N));if(typeof I.main!="string")throw new Error(Rv(12,z?` (${z})`:"",JSON.stringify(I.main)));return TR(I,"light",j,n),TR(I,"dark",V,n),I.contrastText||(I.contrastText=w(I.main)),I};let P;return t==="light"?P=vz():t==="dark"&&(P=bz()),jp({common:{...Dv},mode:t,primary:C({color:s,name:"primary"}),secondary:C({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:C({color:l,name:"error"}),warning:C({color:x,name:"warning"}),info:C({color:f,name:"info"}),success:C({color:v,name:"success"}),grey:W3e,contrastThreshold:r,getContrastText:w,augmentColor:C,tonalOffset:n,...P},o)}function aEe(e){const t={};return Object.entries(e).forEach(n=>{const[o,s]=n;typeof s=="object"&&(t[o]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),t}const PR=e=>e,sEe=()=>{let e=PR;return{configure(t){e=t},generate(t){return e(t)},reset(){e=PR}}},lEe=sEe(),uEe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function uP(e,t,r="Mui"){const n=uEe[t];return n?`${r}-${n}`:`${lEe.generate(e)}-${t}`}function cEe(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function hEe(e){return Math.round(e*1e5)/1e5}const kR={textTransform:"uppercase"},IR='"Roboto", "Helvetica", "Arial", sans-serif';function dEe(e,t){const{fontFamily:r=IR,fontSize:n=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:u=500,fontWeightBold:l=700,htmlFontSize:f=16,allVariants:v,pxToRem:x,...w}=typeof t=="function"?t(e):t,C=n/14,P=x||(z=>`${z/f*C}rem`),O=(z,N,j,V,W)=>({fontFamily:r,fontWeight:z,fontSize:P(N),lineHeight:j,...r===IR?{letterSpacing:`${hEe(V/N)}em`}:{},...W,...v}),I={h1:O(o,96,1.167,-1.5),h2:O(o,60,1.2,-.5),h3:O(s,48,1.167,0),h4:O(s,34,1.235,.25),h5:O(s,24,1.334,0),h6:O(u,20,1.6,.15),subtitle1:O(s,16,1.75,.15),subtitle2:O(u,14,1.57,.1),body1:O(s,16,1.5,.15),body2:O(s,14,1.43,.15),button:O(u,14,1.75,.4,kR),caption:O(s,12,1.66,.4),overline:O(s,12,2.66,1,kR),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return jp({htmlFontSize:f,pxToRem:P,fontFamily:r,fontSize:n,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:u,fontWeightBold:l,...I},w,{clone:!1})}const fEe=.2,pEe=.14,mEe=.12;function vo(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${fEe})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${pEe})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${mEe})`].join(",")}const gEe=["none",vo(0,2,1,-1,0,1,1,0,0,1,3,0),vo(0,3,1,-2,0,2,2,0,0,1,5,0),vo(0,3,3,-2,0,3,4,0,0,1,8,0),vo(0,2,4,-1,0,4,5,0,0,1,10,0),vo(0,3,5,-1,0,5,8,0,0,1,14,0),vo(0,3,5,-1,0,6,10,0,0,1,18,0),vo(0,4,5,-2,0,7,10,1,0,2,16,1),vo(0,5,5,-3,0,8,10,1,0,3,14,2),vo(0,5,6,-3,0,9,12,1,0,3,16,2),vo(0,6,6,-3,0,10,14,1,0,4,18,3),vo(0,6,7,-4,0,11,15,1,0,4,20,3),vo(0,7,8,-4,0,12,17,2,0,5,22,4),vo(0,7,8,-4,0,13,19,2,0,5,24,4),vo(0,7,9,-4,0,14,21,2,0,5,26,4),vo(0,8,9,-5,0,15,22,2,0,6,28,5),vo(0,8,10,-5,0,16,24,2,0,6,30,5),vo(0,8,11,-5,0,17,26,2,0,6,32,5),vo(0,9,11,-5,0,18,28,2,0,7,34,6),vo(0,9,12,-6,0,19,29,2,0,7,36,6),vo(0,10,13,-6,0,20,31,3,0,8,38,7),vo(0,10,13,-6,0,21,33,3,0,8,40,7),vo(0,10,14,-6,0,22,35,3,0,8,42,7),vo(0,11,14,-7,0,23,36,3,0,9,44,8),vo(0,11,15,-7,0,24,38,3,0,9,46,8)],yEe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},vEe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function LR(e){return`${Math.round(e)}ms`}function bEe(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function _Ee(e){const t={...yEe,...e.easing},r={...vEe,...e.duration};return{getAutoHeightDuration:bEe,create:(o=["all"],s={})=>{const{duration:u=r.standard,easing:l=t.easeInOut,delay:f=0,...v}=s;return(Array.isArray(o)?o:[o]).map(x=>`${x} ${typeof u=="string"?u:LR(u)} ${l} ${typeof f=="string"?f:LR(f)}`).join(",")},...e,easing:t,duration:r}}const xEe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function wEe(e){return mf(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function _z(e={}){const t={...e};function r(n){const o=Object.entries(n);for(let s=0;s<o.length;s++){const[u,l]=o[s];!wEe(l)||u.startsWith("unstable_")?delete n[u]:mf(l)&&(n[u]={...l},r(n[u]))}}return r(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function NA(e={},...t){const{breakpoints:r,mixins:n={},spacing:o,palette:s={},transitions:u={},typography:l={},shape:f,...v}=e;if(e.vars)throw new Error(Rv(20));const x=lP(s),w=fz(e);let C=jp(w,{mixins:cEe(w.breakpoints,n),palette:x,shadows:gEe.slice(),typography:dEe(x,l),transitions:_Ee(u),zIndex:{...xEe}});return C=jp(C,v),C=t.reduce((P,O)=>jp(P,O),C),C.unstable_sxConfig={...f5,...v==null?void 0:v.unstable_sxConfig},C.unstable_sx=function(O){return Bg({sx:O,theme:this})},C.toRuntimeSource=_z,C}function SEe(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const CEe=[...Array(25)].map((e,t)=>{if(t===0)return"none";const r=SEe(t);return`linear-gradient(rgba(255 255 255 / ${r}), rgba(255 255 255 / ${r}))`});function xz(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function wz(e){return e==="dark"?CEe:[]}function AEe(e){const{palette:t={mode:"light"},opacity:r,overlays:n,...o}=e,s=lP(t);return{palette:s,opacity:{...xz(s.mode),...r},overlays:n||wz(s.mode),...o}}function EEe(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((t=e[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const TEe=e=>[...[...Array(25)].map((t,r)=>`--${e?`${e}-`:""}overlays-${r}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],PEe=e=>(t,r)=>{const n=e.rootSelector||":root",o=e.colorSchemeSelector;let s=o;if(o==="class"&&(s=".%s"),o==="data"&&(s="[data-%s]"),o!=null&&o.startsWith("data-")&&!o.includes("%s")&&(s=`[${o}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const u={};return TEe(e.cssVarPrefix).forEach(l=>{u[l]=r[l],delete r[l]}),s==="media"?{[n]:r,"@media (prefers-color-scheme: dark)":{[n]:u}}:s?{[s.replace("%s",t)]:u,[`${n}, ${s.replace("%s",t)}`]:r}:{[n]:{...r,...u}}}if(s&&s!=="media")return`${n}, ${s.replace("%s",String(t))}`}else if(t){if(s==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[n]:r}};if(s)return s.replace("%s",String(t))}return n};function kEe(e,t){t.forEach(r=>{e[r]||(e[r]={})})}function Ft(e,t,r){!e[t]&&r&&(e[t]=r)}function x1(e){return!e||!e.startsWith("hsl")?e:gz(e)}function dd(e,t){`${t}Channel`in e||(e[`${t}Channel`]=_1(x1(e[t]),`MUI: Can't create \`palette.${t}Channel\` because \`palette.${t}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${t}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function IEe(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const gh=e=>{try{return e()}catch{}},LEe=(e="mui")=>XAe(e);function b3(e,t,r,n){if(!t)return;t=t===!0?{}:t;const o=n==="dark"?"dark":"light";if(!r){e[n]=AEe({...t,palette:{mode:o,...t==null?void 0:t.palette}});return}const{palette:s,...u}=NA({...r,palette:{mode:o,...t==null?void 0:t.palette}});return e[n]={...t,palette:s,opacity:{...xz(o),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||wz(o)},u}function MEe(e={},...t){const{colorSchemes:r={light:!0},defaultColorScheme:n,disableCssColorScheme:o=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:u=EEe,colorSchemeSelector:l=r.light&&r.dark?"media":void 0,rootSelector:f=":root",...v}=e,x=Object.keys(r)[0],w=n||(r.light&&x!=="light"?"light":x),C=LEe(s),{[w]:P,light:O,dark:I,...z}=r,N={...z};let j=P;if((w==="dark"&&!("dark"in r)||w==="light"&&!("light"in r))&&(j=!0),!j)throw new Error(Rv(21,w));const V=b3(N,j,v,w);O&&!N.light&&b3(N,O,void 0,"light"),I&&!N.dark&&b3(N,I,void 0,"dark");let W={defaultColorScheme:w,...V,cssVarPrefix:s,colorSchemeSelector:l,rootSelector:f,getCssVar:C,colorSchemes:N,font:{...aEe(V.typography),...V.font},spacing:IEe(v.spacing)};Object.keys(W.colorSchemes).forEach(Ae=>{const Z=W.colorSchemes[Ae].palette,X=oe=>{const be=oe.split("-"),ge=be[1],De=be[2];return C(oe,Z[ge][De])};if(Z.mode==="light"&&(Ft(Z.common,"background","#fff"),Ft(Z.common,"onBackground","#000")),Z.mode==="dark"&&(Ft(Z.common,"background","#000"),Ft(Z.common,"onBackground","#fff")),kEe(Z,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),Z.mode==="light"){Ft(Z.Alert,"errorColor",Xi(Z.error.light,.6)),Ft(Z.Alert,"infoColor",Xi(Z.info.light,.6)),Ft(Z.Alert,"successColor",Xi(Z.success.light,.6)),Ft(Z.Alert,"warningColor",Xi(Z.warning.light,.6)),Ft(Z.Alert,"errorFilledBg",X("palette-error-main")),Ft(Z.Alert,"infoFilledBg",X("palette-info-main")),Ft(Z.Alert,"successFilledBg",X("palette-success-main")),Ft(Z.Alert,"warningFilledBg",X("palette-warning-main")),Ft(Z.Alert,"errorFilledColor",gh(()=>Z.getContrastText(Z.error.main))),Ft(Z.Alert,"infoFilledColor",gh(()=>Z.getContrastText(Z.info.main))),Ft(Z.Alert,"successFilledColor",gh(()=>Z.getContrastText(Z.success.main))),Ft(Z.Alert,"warningFilledColor",gh(()=>Z.getContrastText(Z.warning.main))),Ft(Z.Alert,"errorStandardBg",Ki(Z.error.light,.9)),Ft(Z.Alert,"infoStandardBg",Ki(Z.info.light,.9)),Ft(Z.Alert,"successStandardBg",Ki(Z.success.light,.9)),Ft(Z.Alert,"warningStandardBg",Ki(Z.warning.light,.9)),Ft(Z.Alert,"errorIconColor",X("palette-error-main")),Ft(Z.Alert,"infoIconColor",X("palette-info-main")),Ft(Z.Alert,"successIconColor",X("palette-success-main")),Ft(Z.Alert,"warningIconColor",X("palette-warning-main")),Ft(Z.AppBar,"defaultBg",X("palette-grey-100")),Ft(Z.Avatar,"defaultBg",X("palette-grey-400")),Ft(Z.Button,"inheritContainedBg",X("palette-grey-300")),Ft(Z.Button,"inheritContainedHoverBg",X("palette-grey-A100")),Ft(Z.Chip,"defaultBorder",X("palette-grey-400")),Ft(Z.Chip,"defaultAvatarColor",X("palette-grey-700")),Ft(Z.Chip,"defaultIconColor",X("palette-grey-700")),Ft(Z.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Ft(Z.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Ft(Z.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Ft(Z.LinearProgress,"primaryBg",Ki(Z.primary.main,.62)),Ft(Z.LinearProgress,"secondaryBg",Ki(Z.secondary.main,.62)),Ft(Z.LinearProgress,"errorBg",Ki(Z.error.main,.62)),Ft(Z.LinearProgress,"infoBg",Ki(Z.info.main,.62)),Ft(Z.LinearProgress,"successBg",Ki(Z.success.main,.62)),Ft(Z.LinearProgress,"warningBg",Ki(Z.warning.main,.62)),Ft(Z.Skeleton,"bg",`rgba(${X("palette-text-primaryChannel")} / 0.11)`),Ft(Z.Slider,"primaryTrack",Ki(Z.primary.main,.62)),Ft(Z.Slider,"secondaryTrack",Ki(Z.secondary.main,.62)),Ft(Z.Slider,"errorTrack",Ki(Z.error.main,.62)),Ft(Z.Slider,"infoTrack",Ki(Z.info.main,.62)),Ft(Z.Slider,"successTrack",Ki(Z.success.main,.62)),Ft(Z.Slider,"warningTrack",Ki(Z.warning.main,.62));const oe=Mb(Z.background.default,.8);Ft(Z.SnackbarContent,"bg",oe),Ft(Z.SnackbarContent,"color",gh(()=>Z.getContrastText(oe))),Ft(Z.SpeedDialAction,"fabHoverBg",Mb(Z.background.paper,.15)),Ft(Z.StepConnector,"border",X("palette-grey-400")),Ft(Z.StepContent,"border",X("palette-grey-400")),Ft(Z.Switch,"defaultColor",X("palette-common-white")),Ft(Z.Switch,"defaultDisabledColor",X("palette-grey-100")),Ft(Z.Switch,"primaryDisabledColor",Ki(Z.primary.main,.62)),Ft(Z.Switch,"secondaryDisabledColor",Ki(Z.secondary.main,.62)),Ft(Z.Switch,"errorDisabledColor",Ki(Z.error.main,.62)),Ft(Z.Switch,"infoDisabledColor",Ki(Z.info.main,.62)),Ft(Z.Switch,"successDisabledColor",Ki(Z.success.main,.62)),Ft(Z.Switch,"warningDisabledColor",Ki(Z.warning.main,.62)),Ft(Z.TableCell,"border",Ki(Lb(Z.divider,1),.88)),Ft(Z.Tooltip,"bg",Lb(Z.grey[700],.92))}if(Z.mode==="dark"){Ft(Z.Alert,"errorColor",Ki(Z.error.light,.6)),Ft(Z.Alert,"infoColor",Ki(Z.info.light,.6)),Ft(Z.Alert,"successColor",Ki(Z.success.light,.6)),Ft(Z.Alert,"warningColor",Ki(Z.warning.light,.6)),Ft(Z.Alert,"errorFilledBg",X("palette-error-dark")),Ft(Z.Alert,"infoFilledBg",X("palette-info-dark")),Ft(Z.Alert,"successFilledBg",X("palette-success-dark")),Ft(Z.Alert,"warningFilledBg",X("palette-warning-dark")),Ft(Z.Alert,"errorFilledColor",gh(()=>Z.getContrastText(Z.error.dark))),Ft(Z.Alert,"infoFilledColor",gh(()=>Z.getContrastText(Z.info.dark))),Ft(Z.Alert,"successFilledColor",gh(()=>Z.getContrastText(Z.success.dark))),Ft(Z.Alert,"warningFilledColor",gh(()=>Z.getContrastText(Z.warning.dark))),Ft(Z.Alert,"errorStandardBg",Xi(Z.error.light,.9)),Ft(Z.Alert,"infoStandardBg",Xi(Z.info.light,.9)),Ft(Z.Alert,"successStandardBg",Xi(Z.success.light,.9)),Ft(Z.Alert,"warningStandardBg",Xi(Z.warning.light,.9)),Ft(Z.Alert,"errorIconColor",X("palette-error-main")),Ft(Z.Alert,"infoIconColor",X("palette-info-main")),Ft(Z.Alert,"successIconColor",X("palette-success-main")),Ft(Z.Alert,"warningIconColor",X("palette-warning-main")),Ft(Z.AppBar,"defaultBg",X("palette-grey-900")),Ft(Z.AppBar,"darkBg",X("palette-background-paper")),Ft(Z.AppBar,"darkColor",X("palette-text-primary")),Ft(Z.Avatar,"defaultBg",X("palette-grey-600")),Ft(Z.Button,"inheritContainedBg",X("palette-grey-800")),Ft(Z.Button,"inheritContainedHoverBg",X("palette-grey-700")),Ft(Z.Chip,"defaultBorder",X("palette-grey-700")),Ft(Z.Chip,"defaultAvatarColor",X("palette-grey-300")),Ft(Z.Chip,"defaultIconColor",X("palette-grey-300")),Ft(Z.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Ft(Z.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Ft(Z.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Ft(Z.LinearProgress,"primaryBg",Xi(Z.primary.main,.5)),Ft(Z.LinearProgress,"secondaryBg",Xi(Z.secondary.main,.5)),Ft(Z.LinearProgress,"errorBg",Xi(Z.error.main,.5)),Ft(Z.LinearProgress,"infoBg",Xi(Z.info.main,.5)),Ft(Z.LinearProgress,"successBg",Xi(Z.success.main,.5)),Ft(Z.LinearProgress,"warningBg",Xi(Z.warning.main,.5)),Ft(Z.Skeleton,"bg",`rgba(${X("palette-text-primaryChannel")} / 0.13)`),Ft(Z.Slider,"primaryTrack",Xi(Z.primary.main,.5)),Ft(Z.Slider,"secondaryTrack",Xi(Z.secondary.main,.5)),Ft(Z.Slider,"errorTrack",Xi(Z.error.main,.5)),Ft(Z.Slider,"infoTrack",Xi(Z.info.main,.5)),Ft(Z.Slider,"successTrack",Xi(Z.success.main,.5)),Ft(Z.Slider,"warningTrack",Xi(Z.warning.main,.5));const oe=Mb(Z.background.default,.98);Ft(Z.SnackbarContent,"bg",oe),Ft(Z.SnackbarContent,"color",gh(()=>Z.getContrastText(oe))),Ft(Z.SpeedDialAction,"fabHoverBg",Mb(Z.background.paper,.15)),Ft(Z.StepConnector,"border",X("palette-grey-600")),Ft(Z.StepContent,"border",X("palette-grey-600")),Ft(Z.Switch,"defaultColor",X("palette-grey-300")),Ft(Z.Switch,"defaultDisabledColor",X("palette-grey-600")),Ft(Z.Switch,"primaryDisabledColor",Xi(Z.primary.main,.55)),Ft(Z.Switch,"secondaryDisabledColor",Xi(Z.secondary.main,.55)),Ft(Z.Switch,"errorDisabledColor",Xi(Z.error.main,.55)),Ft(Z.Switch,"infoDisabledColor",Xi(Z.info.main,.55)),Ft(Z.Switch,"successDisabledColor",Xi(Z.success.main,.55)),Ft(Z.Switch,"warningDisabledColor",Xi(Z.warning.main,.55)),Ft(Z.TableCell,"border",Xi(Lb(Z.divider,1),.68)),Ft(Z.Tooltip,"bg",Lb(Z.grey[700],.92))}dd(Z.background,"default"),dd(Z.background,"paper"),dd(Z.common,"background"),dd(Z.common,"onBackground"),dd(Z,"divider"),Object.keys(Z).forEach(oe=>{const be=Z[oe];be&&typeof be=="object"&&(be.main&&Ft(Z[oe],"mainChannel",_1(x1(be.main))),be.light&&Ft(Z[oe],"lightChannel",_1(x1(be.light))),be.dark&&Ft(Z[oe],"darkChannel",_1(x1(be.dark))),be.contrastText&&Ft(Z[oe],"contrastTextChannel",_1(x1(be.contrastText))),oe==="text"&&(dd(Z[oe],"primary"),dd(Z[oe],"secondary")),oe==="action"&&(be.active&&dd(Z[oe],"active"),be.selected&&dd(Z[oe],"selected")))})}),W=t.reduce((Ae,Z)=>jp(Ae,Z),W);const re={prefix:s,disableCssColorScheme:o,shouldSkipGeneratingVar:u,getSelector:PEe(W)},{vars:ie,generateThemeVars:J,generateStyleSheets:ne}=YAe(W,re);return W.vars=ie,Object.entries(W.colorSchemes[W.defaultColorScheme]).forEach(([Ae,Z])=>{W[Ae]=Z}),W.generateThemeVars=J,W.generateStyleSheets=ne,W.generateSpacing=function(){return dz(v.spacing,nP(this))},W.getColorSchemeSelector=JAe(l),W.spacing=W.generateSpacing(),W.shouldSkipGeneratingVar=u,W.unstable_sxConfig={...f5,...v==null?void 0:v.unstable_sxConfig},W.unstable_sx=function(Z){return Bg({sx:Z,theme:this})},W.toRuntimeSource=_z,W}function MR(e,t,r){e.colorSchemes&&r&&(e.colorSchemes[t]={...r!==!0&&r,palette:lP({...r===!0?{}:r.palette,mode:t})})}function DEe(e={},...t){const{palette:r,cssVariables:n=!1,colorSchemes:o=r?void 0:{light:!0},defaultColorScheme:s=r==null?void 0:r.mode,...u}=e,l=s||"light",f=o==null?void 0:o[l],v={...o,...r?{[l]:{...typeof f!="boolean"&&f,palette:r}}:void 0};if(n===!1){if(!("colorSchemes"in e))return NA(e,...t);let x=r;"palette"in e||v[l]&&(v[l]!==!0?x=v[l].palette:l==="dark"&&(x={mode:"dark"}));const w=NA({...e,palette:x},...t);return w.defaultColorScheme=l,w.colorSchemes=v,w.palette.mode==="light"&&(w.colorSchemes.light={...v.light!==!0&&v.light,palette:w.palette},MR(w,"dark",v.dark)),w.palette.mode==="dark"&&(w.colorSchemes.dark={...v.dark!==!0&&v.dark,palette:w.palette},MR(w,"light",v.light)),w}return!r&&!("light"in v)&&l==="light"&&(v.light=!0),MEe({...u,colorSchemes:v,defaultColorScheme:l,...typeof n!="boolean"&&n},...t)}const REe=DEe();function OEe(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Sz=e=>OEe(e)&&e!=="classes",ay=RAe({themeId:X3e,defaultTheme:REe,rootShouldForwardProp:Sz});function Dc(e){if(typeof e!="string")throw new Error(Rv(7));return e.charAt(0).toUpperCase()+e.slice(1)}function NEe(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const FEe=typeof window<"u"?Q.useLayoutEffect:Q.useEffect;function Db(e){const t=Q.useRef(e);return FEe(()=>{t.current=e}),Q.useRef((...r)=>(0,t.current)(...r)).current}function DR(...e){return Q.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(r=>{NEe(r,t)})},e)}const RR={};function Cz(e,t){const r=Q.useRef(RR);return r.current===RR&&(r.current=e(t)),r}const $Ee=[];function BEe(e){Q.useEffect(e,$Ee)}class cP{constructor(){Dy(this,"currentId",null);Dy(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Dy(this,"disposeEffect",()=>this.clear)}static create(){return new cP}start(t,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},t)}}function zEe(){const e=Cz(cP.create).current;return BEe(e.disposeEffect),e}function OR(e){try{return e.matches(":focus-visible")}catch{}return!1}function Az(e,t){const r={...t};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const o=n;if(o==="components"||o==="slots")r[o]={...e[o],...r[o]};else if(o==="componentsProps"||o==="slotProps"){const s=e[o],u=t[o];if(!u)r[o]=s||{};else if(!s)r[o]=u;else{r[o]={...u};for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const f=l;r[o][f]=Az(s[f],u[f])}}}else r[o]===void 0&&(r[o]=e[o])}return r}function Ez(e,t,r=void 0){const n={};for(const o in e){const s=e[o];let u="",l=!0;for(let f=0;f<s.length;f+=1){const v=s[f];v&&(u+=(l===!0?"":" ")+t(v),l=!1,r&&r[v]&&(u+=" "+r[v]))}n[o]=u}return n}function hP(e,t,r="Mui"){const n={};return t.forEach(o=>{n[o]=uP(e,o,r)}),n}function Tz(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=Tz(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Xu(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=Tz(e))&&(n&&(n+=" "),n+=t);return n}const jEe=WAe;function dP(e){return GAe(e)}class hx{constructor(){Dy(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new hx}static use(){const t=Cz(hx.create).current,[r,n]=Q.useState(!1);return t.shouldMount=r,t.setShouldMount=n,Q.useEffect(t.mountEffect,[r]),t}mount(){return this.mounted||(this.mounted=VEe(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...t){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.start(...t)})}stop(...t){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.stop(...t)})}pulsate(...t){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.pulsate(...t)})}}function UEe(){return hx.use()}function VEe(){let e,t;const r=new Promise((n,o)=>{e=n,t=o});return r.resolve=e,r.reject=t,r}function qEe(e){const{className:t,classes:r,pulsate:n=!1,rippleX:o,rippleY:s,rippleSize:u,in:l,onExited:f,timeout:v}=e,[x,w]=Q.useState(!1),C=Xu(t,r.ripple,r.rippleVisible,n&&r.ripplePulsate),P={width:u,height:u,top:-(u/2)+s,left:-(u/2)+o},O=Xu(r.child,x&&r.childLeaving,n&&r.childPulsate);return!l&&!x&&w(!0),Q.useEffect(()=>{if(!l&&f!=null){const I=setTimeout(f,v);return()=>{clearTimeout(I)}}},[f,l,v]),ut.jsx("span",{className:C,style:P,children:ut.jsx("span",{className:O})})}const Ku=hP("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),FA=550,HEe=80,GEe=eP`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,WEe=eP`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,XEe=eP`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,KEe=ay("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),ZEe=ay(qEe,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Ku.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${GEe};
    animation-duration: ${FA}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${Ku.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${Ku.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Ku.childLeaving} {
    opacity: 0;
    animation-name: ${WEe};
    animation-duration: ${FA}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${Ku.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${XEe};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,YEe=Q.forwardRef(function(t,r){const n=dP({props:t,name:"MuiTouchRipple"}),{center:o=!1,classes:s={},className:u,...l}=n,[f,v]=Q.useState([]),x=Q.useRef(0),w=Q.useRef(null);Q.useEffect(()=>{w.current&&(w.current(),w.current=null)},[f]);const C=Q.useRef(!1),P=zEe(),O=Q.useRef(null),I=Q.useRef(null),z=Q.useCallback(W=>{const{pulsate:re,rippleX:ie,rippleY:J,rippleSize:ne,cb:Ae}=W;v(Z=>[...Z,ut.jsx(ZEe,{classes:{ripple:Xu(s.ripple,Ku.ripple),rippleVisible:Xu(s.rippleVisible,Ku.rippleVisible),ripplePulsate:Xu(s.ripplePulsate,Ku.ripplePulsate),child:Xu(s.child,Ku.child),childLeaving:Xu(s.childLeaving,Ku.childLeaving),childPulsate:Xu(s.childPulsate,Ku.childPulsate)},timeout:FA,pulsate:re,rippleX:ie,rippleY:J,rippleSize:ne},x.current)]),x.current+=1,w.current=Ae},[s]),N=Q.useCallback((W={},re={},ie=()=>{})=>{const{pulsate:J=!1,center:ne=o||re.pulsate,fakeElement:Ae=!1}=re;if((W==null?void 0:W.type)==="mousedown"&&C.current){C.current=!1;return}(W==null?void 0:W.type)==="touchstart"&&(C.current=!0);const Z=Ae?null:I.current,X=Z?Z.getBoundingClientRect():{width:0,height:0,left:0,top:0};let oe,be,ge;if(ne||W===void 0||W.clientX===0&&W.clientY===0||!W.clientX&&!W.touches)oe=Math.round(X.width/2),be=Math.round(X.height/2);else{const{clientX:De,clientY:Le}=W.touches&&W.touches.length>0?W.touches[0]:W;oe=Math.round(De-X.left),be=Math.round(Le-X.top)}if(ne)ge=Math.sqrt((2*X.width**2+X.height**2)/3),ge%2===0&&(ge+=1);else{const De=Math.max(Math.abs((Z?Z.clientWidth:0)-oe),oe)*2+2,Le=Math.max(Math.abs((Z?Z.clientHeight:0)-be),be)*2+2;ge=Math.sqrt(De**2+Le**2)}W!=null&&W.touches?O.current===null&&(O.current=()=>{z({pulsate:J,rippleX:oe,rippleY:be,rippleSize:ge,cb:ie})},P.start(HEe,()=>{O.current&&(O.current(),O.current=null)})):z({pulsate:J,rippleX:oe,rippleY:be,rippleSize:ge,cb:ie})},[o,z,P]),j=Q.useCallback(()=>{N({},{pulsate:!0})},[N]),V=Q.useCallback((W,re)=>{if(P.clear(),(W==null?void 0:W.type)==="touchend"&&O.current){O.current(),O.current=null,P.start(0,()=>{V(W,re)});return}O.current=null,v(ie=>ie.length>0?ie.slice(1):ie),w.current=re},[P]);return Q.useImperativeHandle(r,()=>({pulsate:j,start:N,stop:V}),[j,N,V]),ut.jsx(KEe,{className:Xu(Ku.root,s.root,u),ref:I,...l,children:ut.jsx(gw,{component:null,exit:!0,children:f})})});function JEe(e){return uP("MuiButtonBase",e)}const QEe=hP("MuiButtonBase",["root","disabled","focusVisible"]),e4e=e=>{const{disabled:t,focusVisible:r,focusVisibleClassName:n,classes:o}=e,u=Ez({root:["root",t&&"disabled",r&&"focusVisible"]},JEe,o);return r&&n&&(u.root+=` ${n}`),u},t4e=ay("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${QEe.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),r4e=Q.forwardRef(function(t,r){const n=dP({props:t,name:"MuiButtonBase"}),{action:o,centerRipple:s=!1,children:u,className:l,component:f="button",disabled:v=!1,disableRipple:x=!1,disableTouchRipple:w=!1,focusRipple:C=!1,focusVisibleClassName:P,LinkComponent:O="a",onBlur:I,onClick:z,onContextMenu:N,onDragLeave:j,onFocus:V,onFocusVisible:W,onKeyDown:re,onKeyUp:ie,onMouseDown:J,onMouseLeave:ne,onMouseUp:Ae,onTouchEnd:Z,onTouchMove:X,onTouchStart:oe,tabIndex:be=0,TouchRippleProps:ge,touchRippleRef:De,type:Le,...je}=n,xe=Q.useRef(null),Oe=UEe(),Ke=DR(Oe.ref,De),[ht,le]=Q.useState(!1);v&&ht&&le(!1),Q.useImperativeHandle(o,()=>({focusVisible:()=>{le(!0),xe.current.focus()}}),[]);const me=Oe.shouldMount&&!x&&!v;Q.useEffect(()=>{ht&&C&&!x&&Oe.pulsate()},[x,C,ht,Oe]);function we(It,ir,vr=w){return Db(Pr=>(ir&&ir(Pr),vr||Oe[It](Pr),!0))}const Ie=we("start",J),Me=we("stop",N),tt=we("stop",j),Ue=we("stop",Ae),qe=we("stop",It=>{ht&&It.preventDefault(),ne&&ne(It)}),lt=we("start",oe),pt=we("stop",Z),Et=we("stop",X),St=we("stop",It=>{OR(It.target)||le(!1),I&&I(It)},!1),kt=Db(It=>{xe.current||(xe.current=It.currentTarget),OR(It.target)&&(le(!0),W&&W(It)),V&&V(It)}),ct=()=>{const It=xe.current;return f&&f!=="button"&&!(It.tagName==="A"&&It.href)},de=Db(It=>{C&&!It.repeat&&ht&&It.key===" "&&Oe.stop(It,()=>{Oe.start(It)}),It.target===It.currentTarget&&ct()&&It.key===" "&&It.preventDefault(),re&&re(It),It.target===It.currentTarget&&ct()&&It.key==="Enter"&&!v&&(It.preventDefault(),z&&z(It))}),hr=Db(It=>{C&&It.key===" "&&ht&&!It.defaultPrevented&&Oe.stop(It,()=>{Oe.pulsate(It)}),ie&&ie(It),z&&It.target===It.currentTarget&&ct()&&It.key===" "&&!It.defaultPrevented&&z(It)});let Kt=f;Kt==="button"&&(je.href||je.to)&&(Kt=O);const bt={};Kt==="button"?(bt.type=Le===void 0?"button":Le,bt.disabled=v):(!je.href&&!je.to&&(bt.role="button"),v&&(bt["aria-disabled"]=v));const Pt=DR(r,xe),Ot={...n,centerRipple:s,component:f,disabled:v,disableRipple:x,disableTouchRipple:w,focusRipple:C,tabIndex:be,focusVisible:ht},Gt=e4e(Ot);return ut.jsxs(t4e,{as:Kt,className:Xu(Gt.root,l),ownerState:Ot,onBlur:St,onClick:z,onContextMenu:Me,onFocus:kt,onKeyDown:de,onKeyUp:hr,onMouseDown:Ie,onMouseLeave:qe,onMouseUp:Ue,onDragLeave:tt,onTouchEnd:pt,onTouchMove:Et,onTouchStart:lt,ref:Pt,tabIndex:v?-1:be,type:Le,...bt,...je,children:[u,me?ut.jsx(YEe,{ref:Ke,center:s,...ge}):null]})});function n4e(e){return typeof e.main=="string"}function i4e(e,t=[]){if(!n4e(e))return!1;for(const r of t)if(!e.hasOwnProperty(r)||typeof e[r]!="string")return!1;return!0}function o4e(e=[]){return([,t])=>t&&i4e(t,e)}function a4e(e){return uP("MuiButton",e)}const i0=hP("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),s4e=Q.createContext({}),l4e=Q.createContext(void 0),u4e=e=>{const{color:t,disableElevation:r,fullWidth:n,size:o,variant:s,classes:u}=e,l={root:["root",s,`${s}${Dc(t)}`,`size${Dc(o)}`,`${s}Size${Dc(o)}`,`color${Dc(t)}`,r&&"disableElevation",n&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${Dc(o)}`],endIcon:["icon","endIcon",`iconSize${Dc(o)}`]},f=Ez(l,a4e,u);return{...u,...f}},Pz=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],c4e=ay(r4e,{shouldForwardProp:e=>Sz(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${Dc(r.color)}`],t[`size${Dc(r.size)}`],t[`${r.variant}Size${Dc(r.size)}`],r.color==="inherit"&&t.colorInherit,r.disableElevation&&t.disableElevation,r.fullWidth&&t.fullWidth]}})(jEe(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],r=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${i0.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${i0.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${i0.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${i0.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(o4e()).map(([n])=>({props:{color:n},style:{"--variant-textColor":(e.vars||e).palette[n].main,"--variant-outlinedColor":(e.vars||e).palette[n].main,"--variant-outlinedBorder":e.vars?`rgba(${e.vars.palette[n].mainChannel} / 0.5)`:E0(e.palette[n].main,.5),"--variant-containedColor":(e.vars||e).palette[n].contrastText,"--variant-containedBg":(e.vars||e).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[n].dark,"--variant-textBg":e.vars?`rgba(${e.vars.palette[n].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:E0(e.palette[n].main,e.palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[n].main,"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette[n].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:E0(e.palette[n].main,e.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:E0(e.palette.text.primary,e.palette.action.hoverOpacity),"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:E0(e.palette.text.primary,e.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${i0.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${i0.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}}]}})),h4e=ay("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.startIcon,t[`iconSize${Dc(r.size)}`]]}})({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},...Pz]}),d4e=ay("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.endIcon,t[`iconSize${Dc(r.size)}`]]}})({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},...Pz]}),f4e=Q.forwardRef(function(t,r){const n=Q.useContext(s4e),o=Q.useContext(l4e),s=Az(n,t),u=dP({props:s,name:"MuiButton"}),{children:l,color:f="primary",component:v="button",className:x,disabled:w=!1,disableElevation:C=!1,disableFocusRipple:P=!1,endIcon:O,focusVisibleClassName:I,fullWidth:z=!1,size:N="medium",startIcon:j,type:V,variant:W="text",...re}=u,ie={...u,color:f,component:v,disabled:w,disableElevation:C,disableFocusRipple:P,fullWidth:z,size:N,type:V,variant:W},J=u4e(ie),ne=j&&ut.jsx(h4e,{className:J.startIcon,ownerState:ie,children:j}),Ae=O&&ut.jsx(d4e,{className:J.endIcon,ownerState:ie,children:O}),Z=o||"";return ut.jsxs(c4e,{ownerState:ie,className:Xu(n.className,J.root,x,Z),component:v,disabled:w,focusRipple:!P,focusVisibleClassName:Xu(J.focusVisible,I),ref:r,type:V,...re,classes:J,children:[ne,l,Ae]})});function p4e(){const[e,t]=Q.useState(!1),r=()=>{if(!e){const n=`${window.location.href}table`;window.open(n,"_blank","popup"),t(!0)}};return ut.jsxs(ut.Fragment,{children:[ut.jsx(O7,{options:{style:"https://wms.wheregroup.com/tileserver/style/osm-bright.json",zoom:12.75,center:[7.1,50.73]},style:{position:"absolute",top:0,bottom:0,left:0,right:0}}),ut.jsx(G3e,{}),ut.jsx(f4e,{sx:{left:"93%"},variant:"contained",color:"primary",onClick:()=>r(),children:"show table"})]})}const m4e=new x3e;"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register(nz+"service-worker.js").then(e=>{console.log("ServiceWorker registration successful with scope: ",e.scope)}).catch(e=>{console.log("ServiceWorker registration failed: ",e)})});_3.createRoot(document.getElementById("root")).render(ut.jsx(ve.StrictMode,{children:ut.jsx(T3e,{client:m4e,children:ut.jsx(ISe,{children:ut.jsx(z3e,{children:ut.jsx(p4e,{})})})})}));export{Mi as _,Th as c,$A as g};
