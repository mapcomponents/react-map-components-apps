var nH=Object.defineProperty;var H6=e=>{throw TypeError(e)};var iH=(e,t,r)=>t in e?nH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var vv=(e,t,r)=>iH(e,typeof t!="symbol"?t+"":t,r),SC=(e,t,r)=>t.has(e)||H6("Cannot "+r);var mt=(e,t,r)=>(SC(e,t,"read from private field"),r?r.call(e):t.get(e)),hn=(e,t,r)=>t.has(e)?H6("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Mr=(e,t,r,n)=>(SC(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Pn=(e,t,r)=>(SC(e,t,"access private method"),r);var N2=(e,t,r,n)=>({set _(i){Mr(e,t,i,r)},get _(){return mt(e,t,n)}});function Z8(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function L4(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Y8(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var J8={exports:{}},yw={},Q8={exports:{}},Jn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nb=Symbol.for("react.element"),oH=Symbol.for("react.portal"),aH=Symbol.for("react.fragment"),sH=Symbol.for("react.strict_mode"),lH=Symbol.for("react.profiler"),uH=Symbol.for("react.provider"),cH=Symbol.for("react.context"),dH=Symbol.for("react.forward_ref"),hH=Symbol.for("react.suspense"),fH=Symbol.for("react.memo"),pH=Symbol.for("react.lazy"),W6=Symbol.iterator;function mH(e){return e===null||typeof e!="object"?null:(e=W6&&e[W6]||e["@@iterator"],typeof e=="function"?e:null)}var eF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tF=Object.assign,rF={};function Cy(e,t,r){this.props=e,this.context=t,this.refs=rF,this.updater=r||eF}Cy.prototype.isReactComponent={};Cy.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Cy.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function nF(){}nF.prototype=Cy.prototype;function M4(e,t,r){this.props=e,this.context=t,this.refs=rF,this.updater=r||eF}var R4=M4.prototype=new nF;R4.constructor=M4;tF(R4,Cy.prototype);R4.isPureReactComponent=!0;var G6=Array.isArray,iF=Object.prototype.hasOwnProperty,D4={current:null},oF={key:!0,ref:!0,__self:!0,__source:!0};function aF(e,t,r){var n,i={},a=null,u=null;if(t!=null)for(n in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(a=""+t.key),t)iF.call(t,n)&&!oF.hasOwnProperty(n)&&(i[n]=t[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var f=Array(s),m=0;m<s;m++)f[m]=arguments[m+2];i.children=f}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:Nb,type:e,key:a,ref:u,props:i,_owner:D4.current}}function gH(e,t){return{$$typeof:Nb,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function O4(e){return typeof e=="object"&&e!==null&&e.$$typeof===Nb}function yH(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var K6=/\/+/g;function CC(e,t){return typeof e=="object"&&e!==null&&e.key!=null?yH(""+e.key):t.toString(36)}function Rx(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case Nb:case oH:u=!0}}if(u)return u=e,i=i(u),e=n===""?"."+CC(u,0):n,G6(i)?(r="",e!=null&&(r=e.replace(K6,"$&/")+"/"),Rx(i,t,r,"",function(m){return m})):i!=null&&(O4(i)&&(i=gH(i,r+(!i.key||u&&u.key===i.key?"":(""+i.key).replace(K6,"$&/")+"/")+e)),t.push(i)),1;if(u=0,n=n===""?".":n+":",G6(e))for(var s=0;s<e.length;s++){a=e[s];var f=n+CC(a,s);u+=Rx(a,t,r,f,i)}else if(f=mH(e),typeof f=="function")for(e=f.call(e),s=0;!(a=e.next()).done;)a=a.value,f=n+CC(a,s++),u+=Rx(a,t,r,f,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function F2(e,t,r){if(e==null)return e;var n=[],i=0;return Rx(e,n,"","",function(a){return t.call(r,a,i++)}),n}function vH(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var kl={current:null},Dx={transition:null},bH={ReactCurrentDispatcher:kl,ReactCurrentBatchConfig:Dx,ReactCurrentOwner:D4};function sF(){throw Error("act(...) is not supported in production builds of React.")}Jn.Children={map:F2,forEach:function(e,t,r){F2(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return F2(e,function(){t++}),t},toArray:function(e){return F2(e,function(t){return t})||[]},only:function(e){if(!O4(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Jn.Component=Cy;Jn.Fragment=aH;Jn.Profiler=lH;Jn.PureComponent=M4;Jn.StrictMode=sH;Jn.Suspense=hH;Jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bH;Jn.act=sF;Jn.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=tF({},e.props),i=e.key,a=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,u=D4.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(f in t)iF.call(t,f)&&!oF.hasOwnProperty(f)&&(n[f]=t[f]===void 0&&s!==void 0?s[f]:t[f])}var f=arguments.length-2;if(f===1)n.children=r;else if(1<f){s=Array(f);for(var m=0;m<f;m++)s[m]=arguments[m+2];n.children=s}return{$$typeof:Nb,type:e.type,key:i,ref:a,props:n,_owner:u}};Jn.createContext=function(e){return e={$$typeof:cH,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:uH,_context:e},e.Consumer=e};Jn.createElement=aF;Jn.createFactory=function(e){var t=aF.bind(null,e);return t.type=e,t};Jn.createRef=function(){return{current:null}};Jn.forwardRef=function(e){return{$$typeof:dH,render:e}};Jn.isValidElement=O4;Jn.lazy=function(e){return{$$typeof:pH,_payload:{_status:-1,_result:e},_init:vH}};Jn.memo=function(e,t){return{$$typeof:fH,type:e,compare:t===void 0?null:t}};Jn.startTransition=function(e){var t=Dx.transition;Dx.transition={};try{e()}finally{Dx.transition=t}};Jn.unstable_act=sF;Jn.useCallback=function(e,t){return kl.current.useCallback(e,t)};Jn.useContext=function(e){return kl.current.useContext(e)};Jn.useDebugValue=function(){};Jn.useDeferredValue=function(e){return kl.current.useDeferredValue(e)};Jn.useEffect=function(e,t){return kl.current.useEffect(e,t)};Jn.useId=function(){return kl.current.useId()};Jn.useImperativeHandle=function(e,t,r){return kl.current.useImperativeHandle(e,t,r)};Jn.useInsertionEffect=function(e,t){return kl.current.useInsertionEffect(e,t)};Jn.useLayoutEffect=function(e,t){return kl.current.useLayoutEffect(e,t)};Jn.useMemo=function(e,t){return kl.current.useMemo(e,t)};Jn.useReducer=function(e,t,r){return kl.current.useReducer(e,t,r)};Jn.useRef=function(e){return kl.current.useRef(e)};Jn.useState=function(e){return kl.current.useState(e)};Jn.useSyncExternalStore=function(e,t,r){return kl.current.useSyncExternalStore(e,t,r)};Jn.useTransition=function(){return kl.current.useTransition()};Jn.version="18.3.1";Q8.exports=Jn;var V=Q8.exports;const Se=L4(V),Wh=Z8({__proto__:null,default:Se},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xH=V,_H=Symbol.for("react.element"),wH=Symbol.for("react.fragment"),SH=Object.prototype.hasOwnProperty,CH=xH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,EH={key:!0,ref:!0,__self:!0,__source:!0};function lF(e,t,r){var n,i={},a=null,u=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(u=t.ref);for(n in t)SH.call(t,n)&&!EH.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:_H,type:e,key:a,ref:u,props:i,_owner:CH.current}}yw.Fragment=wH;yw.jsx=lF;yw.jsxs=lF;J8.exports=yw;var $e=J8.exports,J3={},uF={exports:{}},qu={},cF={exports:{}},dF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_e,Ne){var Ke=_e.length;_e.push(Ne);e:for(;0<Ke;){var pt=Ke-1>>>1,ae=_e[pt];if(0<i(ae,Ne))_e[pt]=Ne,_e[Ke]=ae,Ke=pt;else break e}}function r(_e){return _e.length===0?null:_e[0]}function n(_e){if(_e.length===0)return null;var Ne=_e[0],Ke=_e.pop();if(Ke!==Ne){_e[0]=Ke;e:for(var pt=0,ae=_e.length,me=ae>>>1;pt<me;){var we=2*(pt+1)-1,Re=_e[we],Fe=we+1,rt=_e[Fe];if(0>i(Re,Ke))Fe<ae&&0>i(rt,Re)?(_e[pt]=rt,_e[Fe]=Ke,pt=Fe):(_e[pt]=Re,_e[we]=Ke,pt=we);else if(Fe<ae&&0>i(rt,Ke))_e[pt]=rt,_e[Fe]=Ke,pt=Fe;else break e}}return Ne}function i(_e,Ne){var Ke=_e.sortIndex-Ne.sortIndex;return Ke!==0?Ke:_e.id-Ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var u=Date,s=u.now();e.unstable_now=function(){return u.now()-s}}var f=[],m=[],x=1,w=null,S=3,C=!1,L=!1,k=!1,$=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(_e){for(var Ne=r(m);Ne!==null;){if(Ne.callback===null)n(m);else if(Ne.startTime<=_e)n(m),Ne.sortIndex=Ne.expirationTime,t(f,Ne);else break;Ne=r(m)}}function q(_e){if(k=!1,B(_e),!L)if(r(f)!==null)L=!0,ke(te);else{var Ne=r(m);Ne!==null&&Oe(q,Ne.startTime-_e)}}function te(_e,Ne){L=!1,k&&(k=!1,M(Q),Q=-1),C=!0;var Ke=S;try{for(B(Ne),w=r(f);w!==null&&(!(w.expirationTime>Ne)||_e&&!Z());){var pt=w.callback;if(typeof pt=="function"){w.callback=null,S=w.priorityLevel;var ae=pt(w.expirationTime<=Ne);Ne=e.unstable_now(),typeof ae=="function"?w.callback=ae:w===r(f)&&n(f),B(Ne)}else n(f);w=r(f)}if(w!==null)var me=!0;else{var we=r(m);we!==null&&Oe(q,we.startTime-Ne),me=!1}return me}finally{w=null,S=Ke,C=!1}}var K=!1,ee=null,Q=-1,ge=5,Y=-1;function Z(){return!(e.unstable_now()-Y<ge)}function re(){if(ee!==null){var _e=e.unstable_now();Y=_e;var Ne=!0;try{Ne=ee(!0,_e)}finally{Ne?ye():(K=!1,ee=null)}}else K=!1}var ye;if(typeof z=="function")ye=function(){z(re)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,Ae=fe.port2;fe.port1.onmessage=re,ye=function(){Ae.postMessage(null)}}else ye=function(){$(re,0)};function ke(_e){ee=_e,K||(K=!0,ye())}function Oe(_e,Ne){Q=$(function(){_e(e.unstable_now())},Ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_e){_e.callback=null},e.unstable_continueExecution=function(){L||C||(L=!0,ke(te))},e.unstable_forceFrameRate=function(_e){0>_e||125<_e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ge=0<_e?Math.floor(1e3/_e):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_getFirstCallbackNode=function(){return r(f)},e.unstable_next=function(_e){switch(S){case 1:case 2:case 3:var Ne=3;break;default:Ne=S}var Ke=S;S=Ne;try{return _e()}finally{S=Ke}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_e,Ne){switch(_e){case 1:case 2:case 3:case 4:case 5:break;default:_e=3}var Ke=S;S=_e;try{return Ne()}finally{S=Ke}},e.unstable_scheduleCallback=function(_e,Ne,Ke){var pt=e.unstable_now();switch(typeof Ke=="object"&&Ke!==null?(Ke=Ke.delay,Ke=typeof Ke=="number"&&0<Ke?pt+Ke:pt):Ke=pt,_e){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=Ke+ae,_e={id:x++,callback:Ne,priorityLevel:_e,startTime:Ke,expirationTime:ae,sortIndex:-1},Ke>pt?(_e.sortIndex=Ke,t(m,_e),r(f)===null&&_e===r(m)&&(k?(M(Q),Q=-1):k=!0,Oe(q,Ke-pt))):(_e.sortIndex=ae,t(f,_e),L||C||(L=!0,ke(te))),_e},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(_e){var Ne=S;return function(){var Ke=S;S=Ne;try{return _e.apply(this,arguments)}finally{S=Ke}}}})(dF);cF.exports=dF;var AH=cF.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TH=V,zu=AH;function fr(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hF=new Set,B1={};function Nm(e,t){oy(e,t),oy(e+"Capture",t)}function oy(e,t){for(B1[e]=t,e=0;e<t.length;e++)hF.add(t[e])}var Gh=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Q3=Object.prototype.hasOwnProperty,PH=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,X6={},Z6={};function kH(e){return Q3.call(Z6,e)?!0:Q3.call(X6,e)?!1:PH.test(e)?Z6[e]=!0:(X6[e]=!0,!1)}function IH(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function LH(e,t,r,n){if(t===null||typeof t>"u"||IH(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Il(e,t,r,n,i,a,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=u}var Ms={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ms[e]=new Il(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ms[t]=new Il(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ms[e]=new Il(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ms[e]=new Il(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ms[e]=new Il(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ms[e]=new Il(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ms[e]=new Il(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ms[e]=new Il(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ms[e]=new Il(e,5,!1,e.toLowerCase(),null,!1,!1)});var N4=/[\-:]([a-z])/g;function F4(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(N4,F4);Ms[t]=new Il(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(N4,F4);Ms[t]=new Il(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(N4,F4);Ms[t]=new Il(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ms[e]=new Il(e,1,!1,e.toLowerCase(),null,!1,!1)});Ms.xlinkHref=new Il("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ms[e]=new Il(e,1,!1,e.toLowerCase(),null,!0,!0)});function $4(e,t,r,n){var i=Ms.hasOwnProperty(t)?Ms[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(LH(t,r,i,n)&&(r=null),n||i===null?kH(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var of=TH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$2=Symbol.for("react.element"),u0=Symbol.for("react.portal"),c0=Symbol.for("react.fragment"),B4=Symbol.for("react.strict_mode"),eE=Symbol.for("react.profiler"),fF=Symbol.for("react.provider"),pF=Symbol.for("react.context"),z4=Symbol.for("react.forward_ref"),tE=Symbol.for("react.suspense"),rE=Symbol.for("react.suspense_list"),j4=Symbol.for("react.memo"),Rf=Symbol.for("react.lazy"),mF=Symbol.for("react.offscreen"),Y6=Symbol.iterator;function bv(e){return e===null||typeof e!="object"?null:(e=Y6&&e[Y6]||e["@@iterator"],typeof e=="function"?e:null)}var Go=Object.assign,EC;function Jv(e){if(EC===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);EC=t&&t[1]||""}return`
`+EC+e}var AC=!1;function TC(e,t){if(!e||AC)return"";AC=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var n=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){n=m}e.call(t.prototype)}else{try{throw Error()}catch(m){n=m}e()}}catch(m){if(m&&n&&typeof m.stack=="string"){for(var i=m.stack.split(`
`),a=n.stack.split(`
`),u=i.length-1,s=a.length-1;1<=u&&0<=s&&i[u]!==a[s];)s--;for(;1<=u&&0<=s;u--,s--)if(i[u]!==a[s]){if(u!==1||s!==1)do if(u--,s--,0>s||i[u]!==a[s]){var f=`
`+i[u].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=u&&0<=s);break}}}finally{AC=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Jv(e):""}function MH(e){switch(e.tag){case 5:return Jv(e.type);case 16:return Jv("Lazy");case 13:return Jv("Suspense");case 19:return Jv("SuspenseList");case 0:case 2:case 15:return e=TC(e.type,!1),e;case 11:return e=TC(e.type.render,!1),e;case 1:return e=TC(e.type,!0),e;default:return""}}function nE(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case c0:return"Fragment";case u0:return"Portal";case eE:return"Profiler";case B4:return"StrictMode";case tE:return"Suspense";case rE:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pF:return(e.displayName||"Context")+".Consumer";case fF:return(e._context.displayName||"Context")+".Provider";case z4:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case j4:return t=e.displayName||null,t!==null?t:nE(e.type)||"Memo";case Rf:t=e._payload,e=e._init;try{return nE(e(t))}catch{}}return null}function RH(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nE(t);case 8:return t===B4?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function sp(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gF(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function DH(e){var t=gF(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(u){n=""+u,a.call(this,u)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(u){n=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function B2(e){e._valueTracker||(e._valueTracker=DH(e))}function yF(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=gF(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function l_(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function iE(e,t){var r=t.checked;return Go({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function J6(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=sp(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vF(e,t){t=t.checked,t!=null&&$4(e,"checked",t,!1)}function oE(e,t){vF(e,t);var r=sp(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?aE(e,t.type,r):t.hasOwnProperty("defaultValue")&&aE(e,t.type,sp(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Q6(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function aE(e,t,r){(t!=="number"||l_(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Qv=Array.isArray;function A0(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+sp(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function sE(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(fr(91));return Go({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function eL(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(fr(92));if(Qv(r)){if(1<r.length)throw Error(fr(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:sp(r)}}function bF(e,t){var r=sp(t.value),n=sp(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function tL(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function xF(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lE(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?xF(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var z2,_F=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(z2=z2||document.createElement("div"),z2.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=z2.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function z1(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var g1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},OH=["Webkit","ms","Moz","O"];Object.keys(g1).forEach(function(e){OH.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),g1[t]=g1[e]})});function wF(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||g1.hasOwnProperty(e)&&g1[e]?(""+t).trim():t+"px"}function SF(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=wF(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var NH=Go({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uE(e,t){if(t){if(NH[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(fr(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(fr(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(fr(61))}if(t.style!=null&&typeof t.style!="object")throw Error(fr(62))}}function cE(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dE=null;function U4(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hE=null,T0=null,P0=null;function rL(e){if(e=Bb(e)){if(typeof hE!="function")throw Error(fr(280));var t=e.stateNode;t&&(t=ww(t),hE(e.stateNode,e.type,t))}}function CF(e){T0?P0?P0.push(e):P0=[e]:T0=e}function EF(){if(T0){var e=T0,t=P0;if(P0=T0=null,rL(e),t)for(e=0;e<t.length;e++)rL(t[e])}}function AF(e,t){return e(t)}function TF(){}var PC=!1;function PF(e,t,r){if(PC)return e(t,r);PC=!0;try{return AF(e,t,r)}finally{PC=!1,(T0!==null||P0!==null)&&(TF(),EF())}}function j1(e,t){var r=e.stateNode;if(r===null)return null;var n=ww(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(fr(231,t,typeof r));return r}var fE=!1;if(Gh)try{var xv={};Object.defineProperty(xv,"passive",{get:function(){fE=!0}}),window.addEventListener("test",xv,xv),window.removeEventListener("test",xv,xv)}catch{fE=!1}function FH(e,t,r,n,i,a,u,s,f){var m=Array.prototype.slice.call(arguments,3);try{t.apply(r,m)}catch(x){this.onError(x)}}var y1=!1,u_=null,c_=!1,pE=null,$H={onError:function(e){y1=!0,u_=e}};function BH(e,t,r,n,i,a,u,s,f){y1=!1,u_=null,FH.apply($H,arguments)}function zH(e,t,r,n,i,a,u,s,f){if(BH.apply(this,arguments),y1){if(y1){var m=u_;y1=!1,u_=null}else throw Error(fr(198));c_||(c_=!0,pE=m)}}function Fm(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function kF(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function nL(e){if(Fm(e)!==e)throw Error(fr(188))}function jH(e){var t=e.alternate;if(!t){if(t=Fm(e),t===null)throw Error(fr(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return nL(i),e;if(a===n)return nL(i),t;a=a.sibling}throw Error(fr(188))}if(r.return!==n.return)r=i,n=a;else{for(var u=!1,s=i.child;s;){if(s===r){u=!0,r=i,n=a;break}if(s===n){u=!0,n=i,r=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===r){u=!0,r=a,n=i;break}if(s===n){u=!0,n=a,r=i;break}s=s.sibling}if(!u)throw Error(fr(189))}}if(r.alternate!==n)throw Error(fr(190))}if(r.tag!==3)throw Error(fr(188));return r.stateNode.current===r?e:t}function IF(e){return e=jH(e),e!==null?LF(e):null}function LF(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=LF(e);if(t!==null)return t;e=e.sibling}return null}var MF=zu.unstable_scheduleCallback,iL=zu.unstable_cancelCallback,UH=zu.unstable_shouldYield,VH=zu.unstable_requestPaint,ga=zu.unstable_now,qH=zu.unstable_getCurrentPriorityLevel,V4=zu.unstable_ImmediatePriority,RF=zu.unstable_UserBlockingPriority,d_=zu.unstable_NormalPriority,HH=zu.unstable_LowPriority,DF=zu.unstable_IdlePriority,vw=null,Yd=null;function WH(e){if(Yd&&typeof Yd.onCommitFiberRoot=="function")try{Yd.onCommitFiberRoot(vw,e,void 0,(e.current.flags&128)===128)}catch{}}var rd=Math.clz32?Math.clz32:XH,GH=Math.log,KH=Math.LN2;function XH(e){return e>>>=0,e===0?32:31-(GH(e)/KH|0)|0}var j2=64,U2=4194304;function e1(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function h_(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,u=r&268435455;if(u!==0){var s=u&~i;s!==0?n=e1(s):(a&=u,a!==0&&(n=e1(a)))}else u=r&~i,u!==0?n=e1(u):a!==0&&(n=e1(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-rd(t),i=1<<r,n|=e[r],t&=~i;return n}function ZH(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YH(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var u=31-rd(a),s=1<<u,f=i[u];f===-1?(!(s&r)||s&n)&&(i[u]=ZH(s,t)):f<=t&&(e.expiredLanes|=s),a&=~s}}function mE(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function OF(){var e=j2;return j2<<=1,!(j2&4194240)&&(j2=64),e}function kC(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Fb(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rd(t),e[t]=r}function JH(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-rd(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function q4(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-rd(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Vi=0;function NF(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var FF,H4,$F,BF,zF,gE=!1,V2=[],Qf=null,ep=null,tp=null,U1=new Map,V1=new Map,Ff=[],QH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oL(e,t){switch(e){case"focusin":case"focusout":Qf=null;break;case"dragenter":case"dragleave":ep=null;break;case"mouseover":case"mouseout":tp=null;break;case"pointerover":case"pointerout":U1.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":V1.delete(t.pointerId)}}function _v(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Bb(t),t!==null&&H4(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function eW(e,t,r,n,i){switch(t){case"focusin":return Qf=_v(Qf,e,t,r,n,i),!0;case"dragenter":return ep=_v(ep,e,t,r,n,i),!0;case"mouseover":return tp=_v(tp,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return U1.set(a,_v(U1.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,V1.set(a,_v(V1.get(a)||null,e,t,r,n,i)),!0}return!1}function jF(e){var t=Jp(e.target);if(t!==null){var r=Fm(t);if(r!==null){if(t=r.tag,t===13){if(t=kF(r),t!==null){e.blockedOn=t,zF(e.priority,function(){$F(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ox(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=yE(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);dE=n,r.target.dispatchEvent(n),dE=null}else return t=Bb(r),t!==null&&H4(t),e.blockedOn=r,!1;t.shift()}return!0}function aL(e,t,r){Ox(e)&&r.delete(t)}function tW(){gE=!1,Qf!==null&&Ox(Qf)&&(Qf=null),ep!==null&&Ox(ep)&&(ep=null),tp!==null&&Ox(tp)&&(tp=null),U1.forEach(aL),V1.forEach(aL)}function wv(e,t){e.blockedOn===t&&(e.blockedOn=null,gE||(gE=!0,zu.unstable_scheduleCallback(zu.unstable_NormalPriority,tW)))}function q1(e){function t(i){return wv(i,e)}if(0<V2.length){wv(V2[0],e);for(var r=1;r<V2.length;r++){var n=V2[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Qf!==null&&wv(Qf,e),ep!==null&&wv(ep,e),tp!==null&&wv(tp,e),U1.forEach(t),V1.forEach(t),r=0;r<Ff.length;r++)n=Ff[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ff.length&&(r=Ff[0],r.blockedOn===null);)jF(r),r.blockedOn===null&&Ff.shift()}var k0=of.ReactCurrentBatchConfig,f_=!0;function rW(e,t,r,n){var i=Vi,a=k0.transition;k0.transition=null;try{Vi=1,W4(e,t,r,n)}finally{Vi=i,k0.transition=a}}function nW(e,t,r,n){var i=Vi,a=k0.transition;k0.transition=null;try{Vi=4,W4(e,t,r,n)}finally{Vi=i,k0.transition=a}}function W4(e,t,r,n){if(f_){var i=yE(e,t,r,n);if(i===null)BC(e,t,n,p_,r),oL(e,n);else if(eW(i,e,t,r,n))n.stopPropagation();else if(oL(e,n),t&4&&-1<QH.indexOf(e)){for(;i!==null;){var a=Bb(i);if(a!==null&&FF(a),a=yE(e,t,r,n),a===null&&BC(e,t,n,p_,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else BC(e,t,n,null,r)}}var p_=null;function yE(e,t,r,n){if(p_=null,e=U4(n),e=Jp(e),e!==null)if(t=Fm(e),t===null)e=null;else if(r=t.tag,r===13){if(e=kF(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return p_=e,null}function UF(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qH()){case V4:return 1;case RF:return 4;case d_:case HH:return 16;case DF:return 536870912;default:return 16}default:return 16}}var Xf=null,G4=null,Nx=null;function VF(){if(Nx)return Nx;var e,t=G4,r=t.length,n,i="value"in Xf?Xf.value:Xf.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var u=r-e;for(n=1;n<=u&&t[r-n]===i[a-n];n++);return Nx=i.slice(e,1<n?1-n:void 0)}function Fx(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function q2(){return!0}function sL(){return!1}function Hu(e){function t(r,n,i,a,u){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=u,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?q2:sL,this.isPropagationStopped=sL,this}return Go(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=q2)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=q2)},persist:function(){},isPersistent:q2}),t}var Ey={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},K4=Hu(Ey),$b=Go({},Ey,{view:0,detail:0}),iW=Hu($b),IC,LC,Sv,bw=Go({},$b,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:X4,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Sv&&(Sv&&e.type==="mousemove"?(IC=e.screenX-Sv.screenX,LC=e.screenY-Sv.screenY):LC=IC=0,Sv=e),IC)},movementY:function(e){return"movementY"in e?e.movementY:LC}}),lL=Hu(bw),oW=Go({},bw,{dataTransfer:0}),aW=Hu(oW),sW=Go({},$b,{relatedTarget:0}),MC=Hu(sW),lW=Go({},Ey,{animationName:0,elapsedTime:0,pseudoElement:0}),uW=Hu(lW),cW=Go({},Ey,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dW=Hu(cW),hW=Go({},Ey,{data:0}),uL=Hu(hW),fW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gW(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mW[e])?!!t[e]:!1}function X4(){return gW}var yW=Go({},$b,{key:function(e){if(e.key){var t=fW[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fx(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pW[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:X4,charCode:function(e){return e.type==="keypress"?Fx(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fx(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vW=Hu(yW),bW=Go({},bw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cL=Hu(bW),xW=Go({},$b,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:X4}),_W=Hu(xW),wW=Go({},Ey,{propertyName:0,elapsedTime:0,pseudoElement:0}),SW=Hu(wW),CW=Go({},bw,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),EW=Hu(CW),AW=[9,13,27,32],Z4=Gh&&"CompositionEvent"in window,v1=null;Gh&&"documentMode"in document&&(v1=document.documentMode);var TW=Gh&&"TextEvent"in window&&!v1,qF=Gh&&(!Z4||v1&&8<v1&&11>=v1),dL=" ",hL=!1;function HF(e,t){switch(e){case"keyup":return AW.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function WF(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var d0=!1;function PW(e,t){switch(e){case"compositionend":return WF(t);case"keypress":return t.which!==32?null:(hL=!0,dL);case"textInput":return e=t.data,e===dL&&hL?null:e;default:return null}}function kW(e,t){if(d0)return e==="compositionend"||!Z4&&HF(e,t)?(e=VF(),Nx=G4=Xf=null,d0=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qF&&t.locale!=="ko"?null:t.data;default:return null}}var IW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fL(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!IW[e.type]:t==="textarea"}function GF(e,t,r,n){CF(n),t=m_(t,"onChange"),0<t.length&&(r=new K4("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var b1=null,H1=null;function LW(e){i$(e,0)}function xw(e){var t=p0(e);if(yF(t))return e}function MW(e,t){if(e==="change")return t}var KF=!1;if(Gh){var RC;if(Gh){var DC="oninput"in document;if(!DC){var pL=document.createElement("div");pL.setAttribute("oninput","return;"),DC=typeof pL.oninput=="function"}RC=DC}else RC=!1;KF=RC&&(!document.documentMode||9<document.documentMode)}function mL(){b1&&(b1.detachEvent("onpropertychange",XF),H1=b1=null)}function XF(e){if(e.propertyName==="value"&&xw(H1)){var t=[];GF(t,H1,e,U4(e)),PF(LW,t)}}function RW(e,t,r){e==="focusin"?(mL(),b1=t,H1=r,b1.attachEvent("onpropertychange",XF)):e==="focusout"&&mL()}function DW(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xw(H1)}function OW(e,t){if(e==="click")return xw(t)}function NW(e,t){if(e==="input"||e==="change")return xw(t)}function FW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var od=typeof Object.is=="function"?Object.is:FW;function W1(e,t){if(od(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Q3.call(t,i)||!od(e[i],t[i]))return!1}return!0}function gL(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yL(e,t){var r=gL(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=gL(r)}}function ZF(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ZF(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function YF(){for(var e=window,t=l_();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=l_(e.document)}return t}function Y4(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $W(e){var t=YF(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ZF(r.ownerDocument.documentElement,r)){if(n!==null&&Y4(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=yL(r,a);var u=yL(r,n);i&&u&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var BW=Gh&&"documentMode"in document&&11>=document.documentMode,h0=null,vE=null,x1=null,bE=!1;function vL(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;bE||h0==null||h0!==l_(n)||(n=h0,"selectionStart"in n&&Y4(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),x1&&W1(x1,n)||(x1=n,n=m_(vE,"onSelect"),0<n.length&&(t=new K4("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=h0)))}function H2(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var f0={animationend:H2("Animation","AnimationEnd"),animationiteration:H2("Animation","AnimationIteration"),animationstart:H2("Animation","AnimationStart"),transitionend:H2("Transition","TransitionEnd")},OC={},JF={};Gh&&(JF=document.createElement("div").style,"AnimationEvent"in window||(delete f0.animationend.animation,delete f0.animationiteration.animation,delete f0.animationstart.animation),"TransitionEvent"in window||delete f0.transitionend.transition);function _w(e){if(OC[e])return OC[e];if(!f0[e])return e;var t=f0[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in JF)return OC[e]=t[r];return e}var QF=_w("animationend"),e$=_w("animationiteration"),t$=_w("animationstart"),r$=_w("transitionend"),n$=new Map,bL="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yp(e,t){n$.set(e,t),Nm(t,[e])}for(var NC=0;NC<bL.length;NC++){var FC=bL[NC],zW=FC.toLowerCase(),jW=FC[0].toUpperCase()+FC.slice(1);yp(zW,"on"+jW)}yp(QF,"onAnimationEnd");yp(e$,"onAnimationIteration");yp(t$,"onAnimationStart");yp("dblclick","onDoubleClick");yp("focusin","onFocus");yp("focusout","onBlur");yp(r$,"onTransitionEnd");oy("onMouseEnter",["mouseout","mouseover"]);oy("onMouseLeave",["mouseout","mouseover"]);oy("onPointerEnter",["pointerout","pointerover"]);oy("onPointerLeave",["pointerout","pointerover"]);Nm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Nm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Nm("onBeforeInput",["compositionend","keypress","textInput","paste"]);Nm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Nm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Nm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var t1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UW=new Set("cancel close invalid load scroll toggle".split(" ").concat(t1));function xL(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,zH(n,t,void 0,e),e.currentTarget=null}function i$(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var u=n.length-1;0<=u;u--){var s=n[u],f=s.instance,m=s.currentTarget;if(s=s.listener,f!==a&&i.isPropagationStopped())break e;xL(i,s,m),a=f}else for(u=0;u<n.length;u++){if(s=n[u],f=s.instance,m=s.currentTarget,s=s.listener,f!==a&&i.isPropagationStopped())break e;xL(i,s,m),a=f}}}if(c_)throw e=pE,c_=!1,pE=null,e}function xo(e,t){var r=t[CE];r===void 0&&(r=t[CE]=new Set);var n=e+"__bubble";r.has(n)||(o$(t,e,2,!1),r.add(n))}function $C(e,t,r){var n=0;t&&(n|=4),o$(r,e,n,t)}var W2="_reactListening"+Math.random().toString(36).slice(2);function G1(e){if(!e[W2]){e[W2]=!0,hF.forEach(function(r){r!=="selectionchange"&&(UW.has(r)||$C(r,!1,e),$C(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[W2]||(t[W2]=!0,$C("selectionchange",!1,t))}}function o$(e,t,r,n){switch(UF(t)){case 1:var i=rW;break;case 4:i=nW;break;default:i=W4}r=i.bind(null,t,r,e),i=void 0,!fE||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function BC(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var u=n.tag;if(u===3||u===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(u===4)for(u=n.return;u!==null;){var f=u.tag;if((f===3||f===4)&&(f=u.stateNode.containerInfo,f===i||f.nodeType===8&&f.parentNode===i))return;u=u.return}for(;s!==null;){if(u=Jp(s),u===null)return;if(f=u.tag,f===5||f===6){n=a=u;continue e}s=s.parentNode}}n=n.return}PF(function(){var m=a,x=U4(r),w=[];e:{var S=n$.get(e);if(S!==void 0){var C=K4,L=e;switch(e){case"keypress":if(Fx(r)===0)break e;case"keydown":case"keyup":C=vW;break;case"focusin":L="focus",C=MC;break;case"focusout":L="blur",C=MC;break;case"beforeblur":case"afterblur":C=MC;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=lL;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=aW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=_W;break;case QF:case e$:case t$:C=uW;break;case r$:C=SW;break;case"scroll":C=iW;break;case"wheel":C=EW;break;case"copy":case"cut":case"paste":C=dW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=cL}var k=(t&4)!==0,$=!k&&e==="scroll",M=k?S!==null?S+"Capture":null:S;k=[];for(var z=m,B;z!==null;){B=z;var q=B.stateNode;if(B.tag===5&&q!==null&&(B=q,M!==null&&(q=j1(z,M),q!=null&&k.push(K1(z,q,B)))),$)break;z=z.return}0<k.length&&(S=new C(S,L,null,r,x),w.push({event:S,listeners:k}))}}if(!(t&7)){e:{if(S=e==="mouseover"||e==="pointerover",C=e==="mouseout"||e==="pointerout",S&&r!==dE&&(L=r.relatedTarget||r.fromElement)&&(Jp(L)||L[Kh]))break e;if((C||S)&&(S=x.window===x?x:(S=x.ownerDocument)?S.defaultView||S.parentWindow:window,C?(L=r.relatedTarget||r.toElement,C=m,L=L?Jp(L):null,L!==null&&($=Fm(L),L!==$||L.tag!==5&&L.tag!==6)&&(L=null)):(C=null,L=m),C!==L)){if(k=lL,q="onMouseLeave",M="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(k=cL,q="onPointerLeave",M="onPointerEnter",z="pointer"),$=C==null?S:p0(C),B=L==null?S:p0(L),S=new k(q,z+"leave",C,r,x),S.target=$,S.relatedTarget=B,q=null,Jp(x)===m&&(k=new k(M,z+"enter",L,r,x),k.target=B,k.relatedTarget=$,q=k),$=q,C&&L)t:{for(k=C,M=L,z=0,B=k;B;B=mg(B))z++;for(B=0,q=M;q;q=mg(q))B++;for(;0<z-B;)k=mg(k),z--;for(;0<B-z;)M=mg(M),B--;for(;z--;){if(k===M||M!==null&&k===M.alternate)break t;k=mg(k),M=mg(M)}k=null}else k=null;C!==null&&_L(w,S,C,k,!1),L!==null&&$!==null&&_L(w,$,L,k,!0)}}e:{if(S=m?p0(m):window,C=S.nodeName&&S.nodeName.toLowerCase(),C==="select"||C==="input"&&S.type==="file")var te=MW;else if(fL(S))if(KF)te=NW;else{te=DW;var K=RW}else(C=S.nodeName)&&C.toLowerCase()==="input"&&(S.type==="checkbox"||S.type==="radio")&&(te=OW);if(te&&(te=te(e,m))){GF(w,te,r,x);break e}K&&K(e,S,m),e==="focusout"&&(K=S._wrapperState)&&K.controlled&&S.type==="number"&&aE(S,"number",S.value)}switch(K=m?p0(m):window,e){case"focusin":(fL(K)||K.contentEditable==="true")&&(h0=K,vE=m,x1=null);break;case"focusout":x1=vE=h0=null;break;case"mousedown":bE=!0;break;case"contextmenu":case"mouseup":case"dragend":bE=!1,vL(w,r,x);break;case"selectionchange":if(BW)break;case"keydown":case"keyup":vL(w,r,x)}var ee;if(Z4)e:{switch(e){case"compositionstart":var Q="onCompositionStart";break e;case"compositionend":Q="onCompositionEnd";break e;case"compositionupdate":Q="onCompositionUpdate";break e}Q=void 0}else d0?HF(e,r)&&(Q="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Q="onCompositionStart");Q&&(qF&&r.locale!=="ko"&&(d0||Q!=="onCompositionStart"?Q==="onCompositionEnd"&&d0&&(ee=VF()):(Xf=x,G4="value"in Xf?Xf.value:Xf.textContent,d0=!0)),K=m_(m,Q),0<K.length&&(Q=new uL(Q,e,null,r,x),w.push({event:Q,listeners:K}),ee?Q.data=ee:(ee=WF(r),ee!==null&&(Q.data=ee)))),(ee=TW?PW(e,r):kW(e,r))&&(m=m_(m,"onBeforeInput"),0<m.length&&(x=new uL("onBeforeInput","beforeinput",null,r,x),w.push({event:x,listeners:m}),x.data=ee))}i$(w,t)})}function K1(e,t,r){return{instance:e,listener:t,currentTarget:r}}function m_(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=j1(e,r),a!=null&&n.unshift(K1(e,a,i)),a=j1(e,t),a!=null&&n.push(K1(e,a,i))),e=e.return}return n}function mg(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _L(e,t,r,n,i){for(var a=t._reactName,u=[];r!==null&&r!==n;){var s=r,f=s.alternate,m=s.stateNode;if(f!==null&&f===n)break;s.tag===5&&m!==null&&(s=m,i?(f=j1(r,a),f!=null&&u.unshift(K1(r,f,s))):i||(f=j1(r,a),f!=null&&u.push(K1(r,f,s)))),r=r.return}u.length!==0&&e.push({event:t,listeners:u})}var VW=/\r\n?/g,qW=/\u0000|\uFFFD/g;function wL(e){return(typeof e=="string"?e:""+e).replace(VW,`
`).replace(qW,"")}function G2(e,t,r){if(t=wL(t),wL(e)!==t&&r)throw Error(fr(425))}function g_(){}var xE=null,_E=null;function wE(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var SE=typeof setTimeout=="function"?setTimeout:void 0,HW=typeof clearTimeout=="function"?clearTimeout:void 0,SL=typeof Promise=="function"?Promise:void 0,WW=typeof queueMicrotask=="function"?queueMicrotask:typeof SL<"u"?function(e){return SL.resolve(null).then(e).catch(GW)}:SE;function GW(e){setTimeout(function(){throw e})}function zC(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),q1(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);q1(t)}function rp(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function CL(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ay=Math.random().toString(36).slice(2),Kd="__reactFiber$"+Ay,X1="__reactProps$"+Ay,Kh="__reactContainer$"+Ay,CE="__reactEvents$"+Ay,KW="__reactListeners$"+Ay,XW="__reactHandles$"+Ay;function Jp(e){var t=e[Kd];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Kh]||r[Kd]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=CL(e);e!==null;){if(r=e[Kd])return r;e=CL(e)}return t}e=r,r=e.parentNode}return null}function Bb(e){return e=e[Kd]||e[Kh],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function p0(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(fr(33))}function ww(e){return e[X1]||null}var EE=[],m0=-1;function vp(e){return{current:e}}function Co(e){0>m0||(e.current=EE[m0],EE[m0]=null,m0--)}function fo(e,t){m0++,EE[m0]=e.current,e.current=t}var lp={},ll=vp(lp),ru=vp(!1),xm=lp;function ay(e,t){var r=e.type.contextTypes;if(!r)return lp;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function nu(e){return e=e.childContextTypes,e!=null}function y_(){Co(ru),Co(ll)}function EL(e,t,r){if(ll.current!==lp)throw Error(fr(168));fo(ll,t),fo(ru,r)}function a$(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(fr(108,RH(e)||"Unknown",i));return Go({},r,n)}function v_(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||lp,xm=ll.current,fo(ll,e),fo(ru,ru.current),!0}function AL(e,t,r){var n=e.stateNode;if(!n)throw Error(fr(169));r?(e=a$(e,t,xm),n.__reactInternalMemoizedMergedChildContext=e,Co(ru),Co(ll),fo(ll,e)):Co(ru),fo(ru,r)}var Nh=null,Sw=!1,jC=!1;function s$(e){Nh===null?Nh=[e]:Nh.push(e)}function ZW(e){Sw=!0,s$(e)}function bp(){if(!jC&&Nh!==null){jC=!0;var e=0,t=Vi;try{var r=Nh;for(Vi=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Nh=null,Sw=!1}catch(i){throw Nh!==null&&(Nh=Nh.slice(e+1)),MF(V4,bp),i}finally{Vi=t,jC=!1}}return null}var g0=[],y0=0,b_=null,x_=0,fc=[],pc=0,_m=null,$h=1,Bh="";function jp(e,t){g0[y0++]=x_,g0[y0++]=b_,b_=e,x_=t}function l$(e,t,r){fc[pc++]=$h,fc[pc++]=Bh,fc[pc++]=_m,_m=e;var n=$h;e=Bh;var i=32-rd(n)-1;n&=~(1<<i),r+=1;var a=32-rd(t)+i;if(30<a){var u=i-i%5;a=(n&(1<<u)-1).toString(32),n>>=u,i-=u,$h=1<<32-rd(t)+i|r<<i|n,Bh=a+e}else $h=1<<a|r<<i|n,Bh=e}function J4(e){e.return!==null&&(jp(e,1),l$(e,1,0))}function Q4(e){for(;e===b_;)b_=g0[--y0],g0[y0]=null,x_=g0[--y0],g0[y0]=null;for(;e===_m;)_m=fc[--pc],fc[pc]=null,Bh=fc[--pc],fc[pc]=null,$h=fc[--pc],fc[pc]=null}var $u=null,Nu=null,No=!1,Zc=null;function u$(e,t){var r=xc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function TL(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$u=e,Nu=rp(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$u=e,Nu=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=_m!==null?{id:$h,overflow:Bh}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=xc(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,$u=e,Nu=null,!0):!1;default:return!1}}function AE(e){return(e.mode&1)!==0&&(e.flags&128)===0}function TE(e){if(No){var t=Nu;if(t){var r=t;if(!TL(e,t)){if(AE(e))throw Error(fr(418));t=rp(r.nextSibling);var n=$u;t&&TL(e,t)?u$(n,r):(e.flags=e.flags&-4097|2,No=!1,$u=e)}}else{if(AE(e))throw Error(fr(418));e.flags=e.flags&-4097|2,No=!1,$u=e}}}function PL(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$u=e}function K2(e){if(e!==$u)return!1;if(!No)return PL(e),No=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!wE(e.type,e.memoizedProps)),t&&(t=Nu)){if(AE(e))throw c$(),Error(fr(418));for(;t;)u$(e,t),t=rp(t.nextSibling)}if(PL(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(fr(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Nu=rp(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Nu=null}}else Nu=$u?rp(e.stateNode.nextSibling):null;return!0}function c$(){for(var e=Nu;e;)e=rp(e.nextSibling)}function sy(){Nu=$u=null,No=!1}function eT(e){Zc===null?Zc=[e]:Zc.push(e)}var YW=of.ReactCurrentBatchConfig;function Cv(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(fr(309));var n=r.stateNode}if(!n)throw Error(fr(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(u){var s=i.refs;u===null?delete s[a]:s[a]=u},t._stringRef=a,t)}if(typeof e!="string")throw Error(fr(284));if(!r._owner)throw Error(fr(290,e))}return e}function X2(e,t){throw e=Object.prototype.toString.call(t),Error(fr(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function kL(e){var t=e._init;return t(e._payload)}function d$(e){function t(M,z){if(e){var B=M.deletions;B===null?(M.deletions=[z],M.flags|=16):B.push(z)}}function r(M,z){if(!e)return null;for(;z!==null;)t(M,z),z=z.sibling;return null}function n(M,z){for(M=new Map;z!==null;)z.key!==null?M.set(z.key,z):M.set(z.index,z),z=z.sibling;return M}function i(M,z){return M=ap(M,z),M.index=0,M.sibling=null,M}function a(M,z,B){return M.index=B,e?(B=M.alternate,B!==null?(B=B.index,B<z?(M.flags|=2,z):B):(M.flags|=2,z)):(M.flags|=1048576,z)}function u(M){return e&&M.alternate===null&&(M.flags|=2),M}function s(M,z,B,q){return z===null||z.tag!==6?(z=KC(B,M.mode,q),z.return=M,z):(z=i(z,B),z.return=M,z)}function f(M,z,B,q){var te=B.type;return te===c0?x(M,z,B.props.children,q,B.key):z!==null&&(z.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===Rf&&kL(te)===z.type)?(q=i(z,B.props),q.ref=Cv(M,z,B),q.return=M,q):(q=qx(B.type,B.key,B.props,null,M.mode,q),q.ref=Cv(M,z,B),q.return=M,q)}function m(M,z,B,q){return z===null||z.tag!==4||z.stateNode.containerInfo!==B.containerInfo||z.stateNode.implementation!==B.implementation?(z=XC(B,M.mode,q),z.return=M,z):(z=i(z,B.children||[]),z.return=M,z)}function x(M,z,B,q,te){return z===null||z.tag!==7?(z=fm(B,M.mode,q,te),z.return=M,z):(z=i(z,B),z.return=M,z)}function w(M,z,B){if(typeof z=="string"&&z!==""||typeof z=="number")return z=KC(""+z,M.mode,B),z.return=M,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case $2:return B=qx(z.type,z.key,z.props,null,M.mode,B),B.ref=Cv(M,null,z),B.return=M,B;case u0:return z=XC(z,M.mode,B),z.return=M,z;case Rf:var q=z._init;return w(M,q(z._payload),B)}if(Qv(z)||bv(z))return z=fm(z,M.mode,B,null),z.return=M,z;X2(M,z)}return null}function S(M,z,B,q){var te=z!==null?z.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return te!==null?null:s(M,z,""+B,q);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case $2:return B.key===te?f(M,z,B,q):null;case u0:return B.key===te?m(M,z,B,q):null;case Rf:return te=B._init,S(M,z,te(B._payload),q)}if(Qv(B)||bv(B))return te!==null?null:x(M,z,B,q,null);X2(M,B)}return null}function C(M,z,B,q,te){if(typeof q=="string"&&q!==""||typeof q=="number")return M=M.get(B)||null,s(z,M,""+q,te);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case $2:return M=M.get(q.key===null?B:q.key)||null,f(z,M,q,te);case u0:return M=M.get(q.key===null?B:q.key)||null,m(z,M,q,te);case Rf:var K=q._init;return C(M,z,B,K(q._payload),te)}if(Qv(q)||bv(q))return M=M.get(B)||null,x(z,M,q,te,null);X2(z,q)}return null}function L(M,z,B,q){for(var te=null,K=null,ee=z,Q=z=0,ge=null;ee!==null&&Q<B.length;Q++){ee.index>Q?(ge=ee,ee=null):ge=ee.sibling;var Y=S(M,ee,B[Q],q);if(Y===null){ee===null&&(ee=ge);break}e&&ee&&Y.alternate===null&&t(M,ee),z=a(Y,z,Q),K===null?te=Y:K.sibling=Y,K=Y,ee=ge}if(Q===B.length)return r(M,ee),No&&jp(M,Q),te;if(ee===null){for(;Q<B.length;Q++)ee=w(M,B[Q],q),ee!==null&&(z=a(ee,z,Q),K===null?te=ee:K.sibling=ee,K=ee);return No&&jp(M,Q),te}for(ee=n(M,ee);Q<B.length;Q++)ge=C(ee,M,Q,B[Q],q),ge!==null&&(e&&ge.alternate!==null&&ee.delete(ge.key===null?Q:ge.key),z=a(ge,z,Q),K===null?te=ge:K.sibling=ge,K=ge);return e&&ee.forEach(function(Z){return t(M,Z)}),No&&jp(M,Q),te}function k(M,z,B,q){var te=bv(B);if(typeof te!="function")throw Error(fr(150));if(B=te.call(B),B==null)throw Error(fr(151));for(var K=te=null,ee=z,Q=z=0,ge=null,Y=B.next();ee!==null&&!Y.done;Q++,Y=B.next()){ee.index>Q?(ge=ee,ee=null):ge=ee.sibling;var Z=S(M,ee,Y.value,q);if(Z===null){ee===null&&(ee=ge);break}e&&ee&&Z.alternate===null&&t(M,ee),z=a(Z,z,Q),K===null?te=Z:K.sibling=Z,K=Z,ee=ge}if(Y.done)return r(M,ee),No&&jp(M,Q),te;if(ee===null){for(;!Y.done;Q++,Y=B.next())Y=w(M,Y.value,q),Y!==null&&(z=a(Y,z,Q),K===null?te=Y:K.sibling=Y,K=Y);return No&&jp(M,Q),te}for(ee=n(M,ee);!Y.done;Q++,Y=B.next())Y=C(ee,M,Q,Y.value,q),Y!==null&&(e&&Y.alternate!==null&&ee.delete(Y.key===null?Q:Y.key),z=a(Y,z,Q),K===null?te=Y:K.sibling=Y,K=Y);return e&&ee.forEach(function(re){return t(M,re)}),No&&jp(M,Q),te}function $(M,z,B,q){if(typeof B=="object"&&B!==null&&B.type===c0&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case $2:e:{for(var te=B.key,K=z;K!==null;){if(K.key===te){if(te=B.type,te===c0){if(K.tag===7){r(M,K.sibling),z=i(K,B.props.children),z.return=M,M=z;break e}}else if(K.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===Rf&&kL(te)===K.type){r(M,K.sibling),z=i(K,B.props),z.ref=Cv(M,K,B),z.return=M,M=z;break e}r(M,K);break}else t(M,K);K=K.sibling}B.type===c0?(z=fm(B.props.children,M.mode,q,B.key),z.return=M,M=z):(q=qx(B.type,B.key,B.props,null,M.mode,q),q.ref=Cv(M,z,B),q.return=M,M=q)}return u(M);case u0:e:{for(K=B.key;z!==null;){if(z.key===K)if(z.tag===4&&z.stateNode.containerInfo===B.containerInfo&&z.stateNode.implementation===B.implementation){r(M,z.sibling),z=i(z,B.children||[]),z.return=M,M=z;break e}else{r(M,z);break}else t(M,z);z=z.sibling}z=XC(B,M.mode,q),z.return=M,M=z}return u(M);case Rf:return K=B._init,$(M,z,K(B._payload),q)}if(Qv(B))return L(M,z,B,q);if(bv(B))return k(M,z,B,q);X2(M,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,z!==null&&z.tag===6?(r(M,z.sibling),z=i(z,B),z.return=M,M=z):(r(M,z),z=KC(B,M.mode,q),z.return=M,M=z),u(M)):r(M,z)}return $}var ly=d$(!0),h$=d$(!1),__=vp(null),w_=null,v0=null,tT=null;function rT(){tT=v0=w_=null}function nT(e){var t=__.current;Co(__),e._currentValue=t}function PE(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function I0(e,t){w_=e,tT=v0=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ql=!0),e.firstContext=null)}function wc(e){var t=e._currentValue;if(tT!==e)if(e={context:e,memoizedValue:t,next:null},v0===null){if(w_===null)throw Error(fr(308));v0=e,w_.dependencies={lanes:0,firstContext:e}}else v0=v0.next=e;return t}var Qp=null;function iT(e){Qp===null?Qp=[e]:Qp.push(e)}function f$(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,iT(t)):(r.next=i.next,i.next=r),t.interleaved=r,Xh(e,n)}function Xh(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Df=!1;function oT(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function p$(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vh(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function np(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,xi&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Xh(e,r)}return i=n.interleaved,i===null?(t.next=t,iT(n)):(t.next=i.next,i.next=t),n.interleaved=t,Xh(e,r)}function $x(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,q4(e,r)}}function IL(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var u={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=u:a=a.next=u,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function S_(e,t,r,n){var i=e.updateQueue;Df=!1;var a=i.firstBaseUpdate,u=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var f=s,m=f.next;f.next=null,u===null?a=m:u.next=m,u=f;var x=e.alternate;x!==null&&(x=x.updateQueue,s=x.lastBaseUpdate,s!==u&&(s===null?x.firstBaseUpdate=m:s.next=m,x.lastBaseUpdate=f))}if(a!==null){var w=i.baseState;u=0,x=m=f=null,s=a;do{var S=s.lane,C=s.eventTime;if((n&S)===S){x!==null&&(x=x.next={eventTime:C,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var L=e,k=s;switch(S=t,C=r,k.tag){case 1:if(L=k.payload,typeof L=="function"){w=L.call(C,w,S);break e}w=L;break e;case 3:L.flags=L.flags&-65537|128;case 0:if(L=k.payload,S=typeof L=="function"?L.call(C,w,S):L,S==null)break e;w=Go({},w,S);break e;case 2:Df=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,S=i.effects,S===null?i.effects=[s]:S.push(s))}else C={eventTime:C,lane:S,tag:s.tag,payload:s.payload,callback:s.callback,next:null},x===null?(m=x=C,f=w):x=x.next=C,u|=S;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;S=s,s=S.next,S.next=null,i.lastBaseUpdate=S,i.shared.pending=null}}while(!0);if(x===null&&(f=w),i.baseState=f,i.firstBaseUpdate=m,i.lastBaseUpdate=x,t=i.shared.interleaved,t!==null){i=t;do u|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Sm|=u,e.lanes=u,e.memoizedState=w}}function LL(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(fr(191,i));i.call(n)}}}var zb={},Jd=vp(zb),Z1=vp(zb),Y1=vp(zb);function em(e){if(e===zb)throw Error(fr(174));return e}function aT(e,t){switch(fo(Y1,t),fo(Z1,e),fo(Jd,zb),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:lE(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=lE(t,e)}Co(Jd),fo(Jd,t)}function uy(){Co(Jd),Co(Z1),Co(Y1)}function m$(e){em(Y1.current);var t=em(Jd.current),r=lE(t,e.type);t!==r&&(fo(Z1,e),fo(Jd,r))}function sT(e){Z1.current===e&&(Co(Jd),Co(Z1))}var qo=vp(0);function C_(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var UC=[];function lT(){for(var e=0;e<UC.length;e++)UC[e]._workInProgressVersionPrimary=null;UC.length=0}var Bx=of.ReactCurrentDispatcher,VC=of.ReactCurrentBatchConfig,wm=0,Wo=null,Za=null,us=null,E_=!1,_1=!1,J1=0,JW=0;function Qs(){throw Error(fr(321))}function uT(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!od(e[r],t[r]))return!1;return!0}function cT(e,t,r,n,i,a){if(wm=a,Wo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bx.current=e===null||e.memoizedState===null?rG:nG,e=r(n,i),_1){a=0;do{if(_1=!1,J1=0,25<=a)throw Error(fr(301));a+=1,us=Za=null,t.updateQueue=null,Bx.current=iG,e=r(n,i)}while(_1)}if(Bx.current=A_,t=Za!==null&&Za.next!==null,wm=0,us=Za=Wo=null,E_=!1,t)throw Error(fr(300));return e}function dT(){var e=J1!==0;return J1=0,e}function $d(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return us===null?Wo.memoizedState=us=e:us=us.next=e,us}function Sc(){if(Za===null){var e=Wo.alternate;e=e!==null?e.memoizedState:null}else e=Za.next;var t=us===null?Wo.memoizedState:us.next;if(t!==null)us=t,Za=e;else{if(e===null)throw Error(fr(310));Za=e,e={memoizedState:Za.memoizedState,baseState:Za.baseState,baseQueue:Za.baseQueue,queue:Za.queue,next:null},us===null?Wo.memoizedState=us=e:us=us.next=e}return us}function Q1(e,t){return typeof t=="function"?t(e):t}function qC(e){var t=Sc(),r=t.queue;if(r===null)throw Error(fr(311));r.lastRenderedReducer=e;var n=Za,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var u=i.next;i.next=a.next,a.next=u}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=u=null,f=null,m=a;do{var x=m.lane;if((wm&x)===x)f!==null&&(f=f.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),n=m.hasEagerState?m.eagerState:e(n,m.action);else{var w={lane:x,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};f===null?(s=f=w,u=n):f=f.next=w,Wo.lanes|=x,Sm|=x}m=m.next}while(m!==null&&m!==a);f===null?u=n:f.next=s,od(n,t.memoizedState)||(Ql=!0),t.memoizedState=n,t.baseState=u,t.baseQueue=f,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,Wo.lanes|=a,Sm|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function HC(e){var t=Sc(),r=t.queue;if(r===null)throw Error(fr(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var u=i=i.next;do a=e(a,u.action),u=u.next;while(u!==i);od(a,t.memoizedState)||(Ql=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function g$(){}function y$(e,t){var r=Wo,n=Sc(),i=t(),a=!od(n.memoizedState,i);if(a&&(n.memoizedState=i,Ql=!0),n=n.queue,hT(x$.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||us!==null&&us.memoizedState.tag&1){if(r.flags|=2048,eb(9,b$.bind(null,r,n,i,t),void 0,null),ds===null)throw Error(fr(349));wm&30||v$(r,t,i)}return i}function v$(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Wo.updateQueue,t===null?(t={lastEffect:null,stores:null},Wo.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function b$(e,t,r,n){t.value=r,t.getSnapshot=n,_$(t)&&w$(e)}function x$(e,t,r){return r(function(){_$(t)&&w$(e)})}function _$(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!od(e,r)}catch{return!0}}function w$(e){var t=Xh(e,1);t!==null&&nd(t,e,1,-1)}function ML(e){var t=$d();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Q1,lastRenderedState:e},t.queue=e,e=e.dispatch=tG.bind(null,Wo,e),[t.memoizedState,e]}function eb(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Wo.updateQueue,t===null?(t={lastEffect:null,stores:null},Wo.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function S$(){return Sc().memoizedState}function zx(e,t,r,n){var i=$d();Wo.flags|=e,i.memoizedState=eb(1|t,r,void 0,n===void 0?null:n)}function Cw(e,t,r,n){var i=Sc();n=n===void 0?null:n;var a=void 0;if(Za!==null){var u=Za.memoizedState;if(a=u.destroy,n!==null&&uT(n,u.deps)){i.memoizedState=eb(t,r,a,n);return}}Wo.flags|=e,i.memoizedState=eb(1|t,r,a,n)}function RL(e,t){return zx(8390656,8,e,t)}function hT(e,t){return Cw(2048,8,e,t)}function C$(e,t){return Cw(4,2,e,t)}function E$(e,t){return Cw(4,4,e,t)}function A$(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function T$(e,t,r){return r=r!=null?r.concat([e]):null,Cw(4,4,A$.bind(null,t,e),r)}function fT(){}function P$(e,t){var r=Sc();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&uT(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function k$(e,t){var r=Sc();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&uT(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function I$(e,t,r){return wm&21?(od(r,t)||(r=OF(),Wo.lanes|=r,Sm|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ql=!0),e.memoizedState=r)}function QW(e,t){var r=Vi;Vi=r!==0&&4>r?r:4,e(!0);var n=VC.transition;VC.transition={};try{e(!1),t()}finally{Vi=r,VC.transition=n}}function L$(){return Sc().memoizedState}function eG(e,t,r){var n=op(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},M$(e))R$(t,r);else if(r=f$(e,t,r,n),r!==null){var i=Tl();nd(r,e,n,i),D$(r,t,n)}}function tG(e,t,r){var n=op(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(M$(e))R$(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var u=t.lastRenderedState,s=a(u,r);if(i.hasEagerState=!0,i.eagerState=s,od(s,u)){var f=t.interleaved;f===null?(i.next=i,iT(t)):(i.next=f.next,f.next=i),t.interleaved=i;return}}catch{}finally{}r=f$(e,t,i,n),r!==null&&(i=Tl(),nd(r,e,n,i),D$(r,t,n))}}function M$(e){var t=e.alternate;return e===Wo||t!==null&&t===Wo}function R$(e,t){_1=E_=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function D$(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,q4(e,r)}}var A_={readContext:wc,useCallback:Qs,useContext:Qs,useEffect:Qs,useImperativeHandle:Qs,useInsertionEffect:Qs,useLayoutEffect:Qs,useMemo:Qs,useReducer:Qs,useRef:Qs,useState:Qs,useDebugValue:Qs,useDeferredValue:Qs,useTransition:Qs,useMutableSource:Qs,useSyncExternalStore:Qs,useId:Qs,unstable_isNewReconciler:!1},rG={readContext:wc,useCallback:function(e,t){return $d().memoizedState=[e,t===void 0?null:t],e},useContext:wc,useEffect:RL,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,zx(4194308,4,A$.bind(null,t,e),r)},useLayoutEffect:function(e,t){return zx(4194308,4,e,t)},useInsertionEffect:function(e,t){return zx(4,2,e,t)},useMemo:function(e,t){var r=$d();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=$d();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=eG.bind(null,Wo,e),[n.memoizedState,e]},useRef:function(e){var t=$d();return e={current:e},t.memoizedState=e},useState:ML,useDebugValue:fT,useDeferredValue:function(e){return $d().memoizedState=e},useTransition:function(){var e=ML(!1),t=e[0];return e=QW.bind(null,e[1]),$d().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Wo,i=$d();if(No){if(r===void 0)throw Error(fr(407));r=r()}else{if(r=t(),ds===null)throw Error(fr(349));wm&30||v$(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,RL(x$.bind(null,n,a,e),[e]),n.flags|=2048,eb(9,b$.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=$d(),t=ds.identifierPrefix;if(No){var r=Bh,n=$h;r=(n&~(1<<32-rd(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=J1++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=JW++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},nG={readContext:wc,useCallback:P$,useContext:wc,useEffect:hT,useImperativeHandle:T$,useInsertionEffect:C$,useLayoutEffect:E$,useMemo:k$,useReducer:qC,useRef:S$,useState:function(){return qC(Q1)},useDebugValue:fT,useDeferredValue:function(e){var t=Sc();return I$(t,Za.memoizedState,e)},useTransition:function(){var e=qC(Q1)[0],t=Sc().memoizedState;return[e,t]},useMutableSource:g$,useSyncExternalStore:y$,useId:L$,unstable_isNewReconciler:!1},iG={readContext:wc,useCallback:P$,useContext:wc,useEffect:hT,useImperativeHandle:T$,useInsertionEffect:C$,useLayoutEffect:E$,useMemo:k$,useReducer:HC,useRef:S$,useState:function(){return HC(Q1)},useDebugValue:fT,useDeferredValue:function(e){var t=Sc();return Za===null?t.memoizedState=e:I$(t,Za.memoizedState,e)},useTransition:function(){var e=HC(Q1)[0],t=Sc().memoizedState;return[e,t]},useMutableSource:g$,useSyncExternalStore:y$,useId:L$,unstable_isNewReconciler:!1};function Wc(e,t){if(e&&e.defaultProps){t=Go({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function kE(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Go({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ew={isMounted:function(e){return(e=e._reactInternals)?Fm(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Tl(),i=op(e),a=Vh(n,i);a.payload=t,r!=null&&(a.callback=r),t=np(e,a,i),t!==null&&(nd(t,e,i,n),$x(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Tl(),i=op(e),a=Vh(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=np(e,a,i),t!==null&&(nd(t,e,i,n),$x(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Tl(),n=op(e),i=Vh(r,n);i.tag=2,t!=null&&(i.callback=t),t=np(e,i,n),t!==null&&(nd(t,e,n,r),$x(t,e,n))}};function DL(e,t,r,n,i,a,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,u):t.prototype&&t.prototype.isPureReactComponent?!W1(r,n)||!W1(i,a):!0}function O$(e,t,r){var n=!1,i=lp,a=t.contextType;return typeof a=="object"&&a!==null?a=wc(a):(i=nu(t)?xm:ll.current,n=t.contextTypes,a=(n=n!=null)?ay(e,i):lp),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ew,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function OL(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ew.enqueueReplaceState(t,t.state,null)}function IE(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},oT(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=wc(a):(a=nu(t)?xm:ll.current,i.context=ay(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(kE(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ew.enqueueReplaceState(i,i.state,null),S_(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function cy(e,t){try{var r="",n=t;do r+=MH(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function WC(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function LE(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var oG=typeof WeakMap=="function"?WeakMap:Map;function N$(e,t,r){r=Vh(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){P_||(P_=!0,jE=n),LE(e,t)},r}function F$(e,t,r){r=Vh(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){LE(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){LE(e,t),typeof n!="function"&&(ip===null?ip=new Set([this]):ip.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),r}function NL(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new oG;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=bG.bind(null,e,t,r),t.then(e,e))}function FL(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $L(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Vh(-1,1),t.tag=2,np(r,t,1))),r.lanes|=1),e)}var aG=of.ReactCurrentOwner,Ql=!1;function Cl(e,t,r,n){t.child=e===null?h$(t,null,r,n):ly(t,e.child,r,n)}function BL(e,t,r,n,i){r=r.render;var a=t.ref;return I0(t,i),n=cT(e,t,r,n,a,i),r=dT(),e!==null&&!Ql?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zh(e,t,i)):(No&&r&&J4(t),t.flags|=1,Cl(e,t,n,i),t.child)}function zL(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!_T(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,$$(e,t,a,n,i)):(e=qx(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var u=a.memoizedProps;if(r=r.compare,r=r!==null?r:W1,r(u,n)&&e.ref===t.ref)return Zh(e,t,i)}return t.flags|=1,e=ap(a,n),e.ref=t.ref,e.return=t,t.child=e}function $$(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(W1(a,n)&&e.ref===t.ref)if(Ql=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Ql=!0);else return t.lanes=e.lanes,Zh(e,t,i)}return ME(e,t,r,n,i)}function B$(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},fo(x0,Lu),Lu|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,fo(x0,Lu),Lu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,fo(x0,Lu),Lu|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,fo(x0,Lu),Lu|=n;return Cl(e,t,i,r),t.child}function z$(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ME(e,t,r,n,i){var a=nu(r)?xm:ll.current;return a=ay(t,a),I0(t,i),r=cT(e,t,r,n,a,i),n=dT(),e!==null&&!Ql?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zh(e,t,i)):(No&&n&&J4(t),t.flags|=1,Cl(e,t,r,i),t.child)}function jL(e,t,r,n,i){if(nu(r)){var a=!0;v_(t)}else a=!1;if(I0(t,i),t.stateNode===null)jx(e,t),O$(t,r,n),IE(t,r,n,i),n=!0;else if(e===null){var u=t.stateNode,s=t.memoizedProps;u.props=s;var f=u.context,m=r.contextType;typeof m=="object"&&m!==null?m=wc(m):(m=nu(r)?xm:ll.current,m=ay(t,m));var x=r.getDerivedStateFromProps,w=typeof x=="function"||typeof u.getSnapshotBeforeUpdate=="function";w||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(s!==n||f!==m)&&OL(t,u,n,m),Df=!1;var S=t.memoizedState;u.state=S,S_(t,n,u,i),f=t.memoizedState,s!==n||S!==f||ru.current||Df?(typeof x=="function"&&(kE(t,r,x,n),f=t.memoizedState),(s=Df||DL(t,r,s,n,S,f,m))?(w||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=f),u.props=n,u.state=f,u.context=m,n=s):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{u=t.stateNode,p$(e,t),s=t.memoizedProps,m=t.type===t.elementType?s:Wc(t.type,s),u.props=m,w=t.pendingProps,S=u.context,f=r.contextType,typeof f=="object"&&f!==null?f=wc(f):(f=nu(r)?xm:ll.current,f=ay(t,f));var C=r.getDerivedStateFromProps;(x=typeof C=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(s!==w||S!==f)&&OL(t,u,n,f),Df=!1,S=t.memoizedState,u.state=S,S_(t,n,u,i);var L=t.memoizedState;s!==w||S!==L||ru.current||Df?(typeof C=="function"&&(kE(t,r,C,n),L=t.memoizedState),(m=Df||DL(t,r,m,n,S,L,f)||!1)?(x||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(n,L,f),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(n,L,f)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||s===e.memoizedProps&&S===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&S===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=L),u.props=n,u.state=L,u.context=f,n=m):(typeof u.componentDidUpdate!="function"||s===e.memoizedProps&&S===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&S===e.memoizedState||(t.flags|=1024),n=!1)}return RE(e,t,r,n,a,i)}function RE(e,t,r,n,i,a){z$(e,t);var u=(t.flags&128)!==0;if(!n&&!u)return i&&AL(t,r,!1),Zh(e,t,a);n=t.stateNode,aG.current=t;var s=u&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&u?(t.child=ly(t,e.child,null,a),t.child=ly(t,null,s,a)):Cl(e,t,s,a),t.memoizedState=n.state,i&&AL(t,r,!0),t.child}function j$(e){var t=e.stateNode;t.pendingContext?EL(e,t.pendingContext,t.pendingContext!==t.context):t.context&&EL(e,t.context,!1),aT(e,t.containerInfo)}function UL(e,t,r,n,i){return sy(),eT(i),t.flags|=256,Cl(e,t,r,n),t.child}var DE={dehydrated:null,treeContext:null,retryLane:0};function OE(e){return{baseLanes:e,cachePool:null,transitions:null}}function U$(e,t,r){var n=t.pendingProps,i=qo.current,a=!1,u=(t.flags&128)!==0,s;if((s=u)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),fo(qo,i&1),e===null)return TE(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(u=n.children,e=n.fallback,a?(n=t.mode,a=t.child,u={mode:"hidden",children:u},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=u):a=Pw(u,n,0,null),e=fm(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=OE(r),t.memoizedState=DE,e):pT(t,u));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return sG(e,t,u,n,s,i,r);if(a){a=n.fallback,u=t.mode,i=e.child,s=i.sibling;var f={mode:"hidden",children:n.children};return!(u&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=f,t.deletions=null):(n=ap(i,f),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=ap(s,a):(a=fm(a,u,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,u=e.child.memoizedState,u=u===null?OE(r):{baseLanes:u.baseLanes|r,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=e.childLanes&~r,t.memoizedState=DE,n}return a=e.child,e=a.sibling,n=ap(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function pT(e,t){return t=Pw({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Z2(e,t,r,n){return n!==null&&eT(n),ly(t,e.child,null,r),e=pT(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sG(e,t,r,n,i,a,u){if(r)return t.flags&256?(t.flags&=-257,n=WC(Error(fr(422))),Z2(e,t,u,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Pw({mode:"visible",children:n.children},i,0,null),a=fm(a,i,u,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&ly(t,e.child,null,u),t.child.memoizedState=OE(u),t.memoizedState=DE,a);if(!(t.mode&1))return Z2(e,t,u,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(fr(419)),n=WC(a,n,void 0),Z2(e,t,u,n)}if(s=(u&e.childLanes)!==0,Ql||s){if(n=ds,n!==null){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|u)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Xh(e,i),nd(n,e,i,-1))}return xT(),n=WC(Error(fr(421))),Z2(e,t,u,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=xG.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Nu=rp(i.nextSibling),$u=t,No=!0,Zc=null,e!==null&&(fc[pc++]=$h,fc[pc++]=Bh,fc[pc++]=_m,$h=e.id,Bh=e.overflow,_m=t),t=pT(t,n.children),t.flags|=4096,t)}function VL(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),PE(e.return,t,r)}function GC(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function V$(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Cl(e,t,n.children,r),n=qo.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&VL(e,r,t);else if(e.tag===19)VL(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(fo(qo,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&C_(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),GC(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&C_(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}GC(t,!0,r,null,a);break;case"together":GC(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function jx(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zh(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Sm|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(fr(153));if(t.child!==null){for(e=t.child,r=ap(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ap(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function lG(e,t,r){switch(t.tag){case 3:j$(t),sy();break;case 5:m$(t);break;case 1:nu(t.type)&&v_(t);break;case 4:aT(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;fo(__,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(fo(qo,qo.current&1),t.flags|=128,null):r&t.child.childLanes?U$(e,t,r):(fo(qo,qo.current&1),e=Zh(e,t,r),e!==null?e.sibling:null);fo(qo,qo.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return V$(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),fo(qo,qo.current),n)break;return null;case 22:case 23:return t.lanes=0,B$(e,t,r)}return Zh(e,t,r)}var q$,NE,H$,W$;q$=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};NE=function(){};H$=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,em(Jd.current);var a=null;switch(r){case"input":i=iE(e,i),n=iE(e,n),a=[];break;case"select":i=Go({},i,{value:void 0}),n=Go({},n,{value:void 0}),a=[];break;case"textarea":i=sE(e,i),n=sE(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=g_)}uE(r,n);var u;r=null;for(m in i)if(!n.hasOwnProperty(m)&&i.hasOwnProperty(m)&&i[m]!=null)if(m==="style"){var s=i[m];for(u in s)s.hasOwnProperty(u)&&(r||(r={}),r[u]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(B1.hasOwnProperty(m)?a||(a=[]):(a=a||[]).push(m,null));for(m in n){var f=n[m];if(s=i!=null?i[m]:void 0,n.hasOwnProperty(m)&&f!==s&&(f!=null||s!=null))if(m==="style")if(s){for(u in s)!s.hasOwnProperty(u)||f&&f.hasOwnProperty(u)||(r||(r={}),r[u]="");for(u in f)f.hasOwnProperty(u)&&s[u]!==f[u]&&(r||(r={}),r[u]=f[u])}else r||(a||(a=[]),a.push(m,r)),r=f;else m==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,s=s?s.__html:void 0,f!=null&&s!==f&&(a=a||[]).push(m,f)):m==="children"?typeof f!="string"&&typeof f!="number"||(a=a||[]).push(m,""+f):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(B1.hasOwnProperty(m)?(f!=null&&m==="onScroll"&&xo("scroll",e),a||s===f||(a=[])):(a=a||[]).push(m,f))}r&&(a=a||[]).push("style",r);var m=a;(t.updateQueue=m)&&(t.flags|=4)}};W$=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ev(e,t){if(!No)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function el(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function uG(e,t,r){var n=t.pendingProps;switch(Q4(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return el(t),null;case 1:return nu(t.type)&&y_(),el(t),null;case 3:return n=t.stateNode,uy(),Co(ru),Co(ll),lT(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(K2(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Zc!==null&&(qE(Zc),Zc=null))),NE(e,t),el(t),null;case 5:sT(t);var i=em(Y1.current);if(r=t.type,e!==null&&t.stateNode!=null)H$(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(fr(166));return el(t),null}if(e=em(Jd.current),K2(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Kd]=t,n[X1]=a,e=(t.mode&1)!==0,r){case"dialog":xo("cancel",n),xo("close",n);break;case"iframe":case"object":case"embed":xo("load",n);break;case"video":case"audio":for(i=0;i<t1.length;i++)xo(t1[i],n);break;case"source":xo("error",n);break;case"img":case"image":case"link":xo("error",n),xo("load",n);break;case"details":xo("toggle",n);break;case"input":J6(n,a),xo("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},xo("invalid",n);break;case"textarea":eL(n,a),xo("invalid",n)}uE(r,a),i=null;for(var u in a)if(a.hasOwnProperty(u)){var s=a[u];u==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&G2(n.textContent,s,e),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&G2(n.textContent,s,e),i=["children",""+s]):B1.hasOwnProperty(u)&&s!=null&&u==="onScroll"&&xo("scroll",n)}switch(r){case"input":B2(n),Q6(n,a,!0);break;case"textarea":B2(n),tL(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=g_)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{u=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=xF(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=u.createElement(r,{is:n.is}):(e=u.createElement(r),r==="select"&&(u=e,n.multiple?u.multiple=!0:n.size&&(u.size=n.size))):e=u.createElementNS(e,r),e[Kd]=t,e[X1]=n,q$(e,t,!1,!1),t.stateNode=e;e:{switch(u=cE(r,n),r){case"dialog":xo("cancel",e),xo("close",e),i=n;break;case"iframe":case"object":case"embed":xo("load",e),i=n;break;case"video":case"audio":for(i=0;i<t1.length;i++)xo(t1[i],e);i=n;break;case"source":xo("error",e),i=n;break;case"img":case"image":case"link":xo("error",e),xo("load",e),i=n;break;case"details":xo("toggle",e),i=n;break;case"input":J6(e,n),i=iE(e,n),xo("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Go({},n,{value:void 0}),xo("invalid",e);break;case"textarea":eL(e,n),i=sE(e,n),xo("invalid",e);break;default:i=n}uE(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var f=s[a];a==="style"?SF(e,f):a==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&_F(e,f)):a==="children"?typeof f=="string"?(r!=="textarea"||f!=="")&&z1(e,f):typeof f=="number"&&z1(e,""+f):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(B1.hasOwnProperty(a)?f!=null&&a==="onScroll"&&xo("scroll",e):f!=null&&$4(e,a,f,u))}switch(r){case"input":B2(e),Q6(e,n,!1);break;case"textarea":B2(e),tL(e);break;case"option":n.value!=null&&e.setAttribute("value",""+sp(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?A0(e,!!n.multiple,a,!1):n.defaultValue!=null&&A0(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=g_)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return el(t),null;case 6:if(e&&t.stateNode!=null)W$(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(fr(166));if(r=em(Y1.current),em(Jd.current),K2(t)){if(n=t.stateNode,r=t.memoizedProps,n[Kd]=t,(a=n.nodeValue!==r)&&(e=$u,e!==null))switch(e.tag){case 3:G2(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&G2(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Kd]=t,t.stateNode=n}return el(t),null;case 13:if(Co(qo),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(No&&Nu!==null&&t.mode&1&&!(t.flags&128))c$(),sy(),t.flags|=98560,a=!1;else if(a=K2(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(fr(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(fr(317));a[Kd]=t}else sy(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;el(t),a=!1}else Zc!==null&&(qE(Zc),Zc=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||qo.current&1?Ja===0&&(Ja=3):xT())),t.updateQueue!==null&&(t.flags|=4),el(t),null);case 4:return uy(),NE(e,t),e===null&&G1(t.stateNode.containerInfo),el(t),null;case 10:return nT(t.type._context),el(t),null;case 17:return nu(t.type)&&y_(),el(t),null;case 19:if(Co(qo),a=t.memoizedState,a===null)return el(t),null;if(n=(t.flags&128)!==0,u=a.rendering,u===null)if(n)Ev(a,!1);else{if(Ja!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(u=C_(e),u!==null){for(t.flags|=128,Ev(a,!1),n=u.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,u=a.alternate,u===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return fo(qo,qo.current&1|2),t.child}e=e.sibling}a.tail!==null&&ga()>dy&&(t.flags|=128,n=!0,Ev(a,!1),t.lanes=4194304)}else{if(!n)if(e=C_(u),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ev(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!No)return el(t),null}else 2*ga()-a.renderingStartTime>dy&&r!==1073741824&&(t.flags|=128,n=!0,Ev(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(r=a.last,r!==null?r.sibling=u:t.child=u,a.last=u)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ga(),t.sibling=null,r=qo.current,fo(qo,n?r&1|2:r&1),t):(el(t),null);case 22:case 23:return bT(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Lu&1073741824&&(el(t),t.subtreeFlags&6&&(t.flags|=8192)):el(t),null;case 24:return null;case 25:return null}throw Error(fr(156,t.tag))}function cG(e,t){switch(Q4(t),t.tag){case 1:return nu(t.type)&&y_(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return uy(),Co(ru),Co(ll),lT(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return sT(t),null;case 13:if(Co(qo),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(fr(340));sy()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Co(qo),null;case 4:return uy(),null;case 10:return nT(t.type._context),null;case 22:case 23:return bT(),null;case 24:return null;default:return null}}var Y2=!1,al=!1,dG=typeof WeakSet=="function"?WeakSet:Set,Kr=null;function b0(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ua(e,t,n)}else r.current=null}function FE(e,t,r){try{r()}catch(n){ua(e,t,n)}}var qL=!1;function hG(e,t){if(xE=f_,e=YF(),Y4(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var u=0,s=-1,f=-1,m=0,x=0,w=e,S=null;t:for(;;){for(var C;w!==r||i!==0&&w.nodeType!==3||(s=u+i),w!==a||n!==0&&w.nodeType!==3||(f=u+n),w.nodeType===3&&(u+=w.nodeValue.length),(C=w.firstChild)!==null;)S=w,w=C;for(;;){if(w===e)break t;if(S===r&&++m===i&&(s=u),S===a&&++x===n&&(f=u),(C=w.nextSibling)!==null)break;w=S,S=w.parentNode}w=C}r=s===-1||f===-1?null:{start:s,end:f}}else r=null}r=r||{start:0,end:0}}else r=null;for(_E={focusedElem:e,selectionRange:r},f_=!1,Kr=t;Kr!==null;)if(t=Kr,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Kr=e;else for(;Kr!==null;){t=Kr;try{var L=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(L!==null){var k=L.memoizedProps,$=L.memoizedState,M=t.stateNode,z=M.getSnapshotBeforeUpdate(t.elementType===t.type?k:Wc(t.type,k),$);M.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var B=t.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fr(163))}}catch(q){ua(t,t.return,q)}if(e=t.sibling,e!==null){e.return=t.return,Kr=e;break}Kr=t.return}return L=qL,qL=!1,L}function w1(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&FE(t,r,a)}i=i.next}while(i!==n)}}function Aw(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function $E(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function G$(e){var t=e.alternate;t!==null&&(e.alternate=null,G$(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kd],delete t[X1],delete t[CE],delete t[KW],delete t[XW])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function K$(e){return e.tag===5||e.tag===3||e.tag===4}function HL(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||K$(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function BE(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=g_));else if(n!==4&&(e=e.child,e!==null))for(BE(e,t,r),e=e.sibling;e!==null;)BE(e,t,r),e=e.sibling}function zE(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(zE(e,t,r),e=e.sibling;e!==null;)zE(e,t,r),e=e.sibling}var Is=null,Kc=!1;function Af(e,t,r){for(r=r.child;r!==null;)X$(e,t,r),r=r.sibling}function X$(e,t,r){if(Yd&&typeof Yd.onCommitFiberUnmount=="function")try{Yd.onCommitFiberUnmount(vw,r)}catch{}switch(r.tag){case 5:al||b0(r,t);case 6:var n=Is,i=Kc;Is=null,Af(e,t,r),Is=n,Kc=i,Is!==null&&(Kc?(e=Is,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Is.removeChild(r.stateNode));break;case 18:Is!==null&&(Kc?(e=Is,r=r.stateNode,e.nodeType===8?zC(e.parentNode,r):e.nodeType===1&&zC(e,r),q1(e)):zC(Is,r.stateNode));break;case 4:n=Is,i=Kc,Is=r.stateNode.containerInfo,Kc=!0,Af(e,t,r),Is=n,Kc=i;break;case 0:case 11:case 14:case 15:if(!al&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,u=a.destroy;a=a.tag,u!==void 0&&(a&2||a&4)&&FE(r,t,u),i=i.next}while(i!==n)}Af(e,t,r);break;case 1:if(!al&&(b0(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){ua(r,t,s)}Af(e,t,r);break;case 21:Af(e,t,r);break;case 22:r.mode&1?(al=(n=al)||r.memoizedState!==null,Af(e,t,r),al=n):Af(e,t,r);break;default:Af(e,t,r)}}function WL(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new dG),t.forEach(function(n){var i=_G.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Uc(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,u=t,s=u;e:for(;s!==null;){switch(s.tag){case 5:Is=s.stateNode,Kc=!1;break e;case 3:Is=s.stateNode.containerInfo,Kc=!0;break e;case 4:Is=s.stateNode.containerInfo,Kc=!0;break e}s=s.return}if(Is===null)throw Error(fr(160));X$(a,u,i),Is=null,Kc=!1;var f=i.alternate;f!==null&&(f.return=null),i.return=null}catch(m){ua(i,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Z$(t,e),t=t.sibling}function Z$(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Uc(t,e),Dd(e),n&4){try{w1(3,e,e.return),Aw(3,e)}catch(k){ua(e,e.return,k)}try{w1(5,e,e.return)}catch(k){ua(e,e.return,k)}}break;case 1:Uc(t,e),Dd(e),n&512&&r!==null&&b0(r,r.return);break;case 5:if(Uc(t,e),Dd(e),n&512&&r!==null&&b0(r,r.return),e.flags&32){var i=e.stateNode;try{z1(i,"")}catch(k){ua(e,e.return,k)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,u=r!==null?r.memoizedProps:a,s=e.type,f=e.updateQueue;if(e.updateQueue=null,f!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&vF(i,a),cE(s,u);var m=cE(s,a);for(u=0;u<f.length;u+=2){var x=f[u],w=f[u+1];x==="style"?SF(i,w):x==="dangerouslySetInnerHTML"?_F(i,w):x==="children"?z1(i,w):$4(i,x,w,m)}switch(s){case"input":oE(i,a);break;case"textarea":bF(i,a);break;case"select":var S=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var C=a.value;C!=null?A0(i,!!a.multiple,C,!1):S!==!!a.multiple&&(a.defaultValue!=null?A0(i,!!a.multiple,a.defaultValue,!0):A0(i,!!a.multiple,a.multiple?[]:"",!1))}i[X1]=a}catch(k){ua(e,e.return,k)}}break;case 6:if(Uc(t,e),Dd(e),n&4){if(e.stateNode===null)throw Error(fr(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(k){ua(e,e.return,k)}}break;case 3:if(Uc(t,e),Dd(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{q1(t.containerInfo)}catch(k){ua(e,e.return,k)}break;case 4:Uc(t,e),Dd(e);break;case 13:Uc(t,e),Dd(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(yT=ga())),n&4&&WL(e);break;case 22:if(x=r!==null&&r.memoizedState!==null,e.mode&1?(al=(m=al)||x,Uc(t,e),al=m):Uc(t,e),Dd(e),n&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!x&&e.mode&1)for(Kr=e,x=e.child;x!==null;){for(w=Kr=x;Kr!==null;){switch(S=Kr,C=S.child,S.tag){case 0:case 11:case 14:case 15:w1(4,S,S.return);break;case 1:b0(S,S.return);var L=S.stateNode;if(typeof L.componentWillUnmount=="function"){n=S,r=S.return;try{t=n,L.props=t.memoizedProps,L.state=t.memoizedState,L.componentWillUnmount()}catch(k){ua(n,r,k)}}break;case 5:b0(S,S.return);break;case 22:if(S.memoizedState!==null){KL(w);continue}}C!==null?(C.return=S,Kr=C):KL(w)}x=x.sibling}e:for(x=null,w=e;;){if(w.tag===5){if(x===null){x=w;try{i=w.stateNode,m?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=w.stateNode,f=w.memoizedProps.style,u=f!=null&&f.hasOwnProperty("display")?f.display:null,s.style.display=wF("display",u))}catch(k){ua(e,e.return,k)}}}else if(w.tag===6){if(x===null)try{w.stateNode.nodeValue=m?"":w.memoizedProps}catch(k){ua(e,e.return,k)}}else if((w.tag!==22&&w.tag!==23||w.memoizedState===null||w===e)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===e)break e;for(;w.sibling===null;){if(w.return===null||w.return===e)break e;x===w&&(x=null),w=w.return}x===w&&(x=null),w.sibling.return=w.return,w=w.sibling}}break;case 19:Uc(t,e),Dd(e),n&4&&WL(e);break;case 21:break;default:Uc(t,e),Dd(e)}}function Dd(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(K$(r)){var n=r;break e}r=r.return}throw Error(fr(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(z1(i,""),n.flags&=-33);var a=HL(e);zE(e,a,i);break;case 3:case 4:var u=n.stateNode.containerInfo,s=HL(e);BE(e,s,u);break;default:throw Error(fr(161))}}catch(f){ua(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fG(e,t,r){Kr=e,Y$(e)}function Y$(e,t,r){for(var n=(e.mode&1)!==0;Kr!==null;){var i=Kr,a=i.child;if(i.tag===22&&n){var u=i.memoizedState!==null||Y2;if(!u){var s=i.alternate,f=s!==null&&s.memoizedState!==null||al;s=Y2;var m=al;if(Y2=u,(al=f)&&!m)for(Kr=i;Kr!==null;)u=Kr,f=u.child,u.tag===22&&u.memoizedState!==null?XL(i):f!==null?(f.return=u,Kr=f):XL(i);for(;a!==null;)Kr=a,Y$(a),a=a.sibling;Kr=i,Y2=s,al=m}GL(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Kr=a):GL(e)}}function GL(e){for(;Kr!==null;){var t=Kr;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:al||Aw(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!al)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Wc(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&LL(t,a,n);break;case 3:var u=t.updateQueue;if(u!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}LL(t,u,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&r.focus();break;case"img":f.src&&(r.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var x=m.memoizedState;if(x!==null){var w=x.dehydrated;w!==null&&q1(w)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fr(163))}al||t.flags&512&&$E(t)}catch(S){ua(t,t.return,S)}}if(t===e){Kr=null;break}if(r=t.sibling,r!==null){r.return=t.return,Kr=r;break}Kr=t.return}}function KL(e){for(;Kr!==null;){var t=Kr;if(t===e){Kr=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Kr=r;break}Kr=t.return}}function XL(e){for(;Kr!==null;){var t=Kr;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Aw(4,t)}catch(f){ua(t,r,f)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(f){ua(t,i,f)}}var a=t.return;try{$E(t)}catch(f){ua(t,a,f)}break;case 5:var u=t.return;try{$E(t)}catch(f){ua(t,u,f)}}}catch(f){ua(t,t.return,f)}if(t===e){Kr=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Kr=s;break}Kr=t.return}}var pG=Math.ceil,T_=of.ReactCurrentDispatcher,mT=of.ReactCurrentOwner,_c=of.ReactCurrentBatchConfig,xi=0,ds=null,Fa=null,Ls=0,Lu=0,x0=vp(0),Ja=0,tb=null,Sm=0,Tw=0,gT=0,S1=null,Yl=null,yT=0,dy=1/0,Oh=null,P_=!1,jE=null,ip=null,J2=!1,Zf=null,k_=0,C1=0,UE=null,Ux=-1,Vx=0;function Tl(){return xi&6?ga():Ux!==-1?Ux:Ux=ga()}function op(e){return e.mode&1?xi&2&&Ls!==0?Ls&-Ls:YW.transition!==null?(Vx===0&&(Vx=OF()),Vx):(e=Vi,e!==0||(e=window.event,e=e===void 0?16:UF(e.type)),e):1}function nd(e,t,r,n){if(50<C1)throw C1=0,UE=null,Error(fr(185));Fb(e,r,n),(!(xi&2)||e!==ds)&&(e===ds&&(!(xi&2)&&(Tw|=r),Ja===4&&$f(e,Ls)),iu(e,n),r===1&&xi===0&&!(t.mode&1)&&(dy=ga()+500,Sw&&bp()))}function iu(e,t){var r=e.callbackNode;YH(e,t);var n=h_(e,e===ds?Ls:0);if(n===0)r!==null&&iL(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&iL(r),t===1)e.tag===0?ZW(ZL.bind(null,e)):s$(ZL.bind(null,e)),WW(function(){!(xi&6)&&bp()}),r=null;else{switch(NF(n)){case 1:r=V4;break;case 4:r=RF;break;case 16:r=d_;break;case 536870912:r=DF;break;default:r=d_}r=oB(r,J$.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function J$(e,t){if(Ux=-1,Vx=0,xi&6)throw Error(fr(327));var r=e.callbackNode;if(L0()&&e.callbackNode!==r)return null;var n=h_(e,e===ds?Ls:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=I_(e,n);else{t=n;var i=xi;xi|=2;var a=eB();(ds!==e||Ls!==t)&&(Oh=null,dy=ga()+500,hm(e,t));do try{yG();break}catch(s){Q$(e,s)}while(!0);rT(),T_.current=a,xi=i,Fa!==null?t=0:(ds=null,Ls=0,t=Ja)}if(t!==0){if(t===2&&(i=mE(e),i!==0&&(n=i,t=VE(e,i))),t===1)throw r=tb,hm(e,0),$f(e,n),iu(e,ga()),r;if(t===6)$f(e,n);else{if(i=e.current.alternate,!(n&30)&&!mG(i)&&(t=I_(e,n),t===2&&(a=mE(e),a!==0&&(n=a,t=VE(e,a))),t===1))throw r=tb,hm(e,0),$f(e,n),iu(e,ga()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(fr(345));case 2:Up(e,Yl,Oh);break;case 3:if($f(e,n),(n&130023424)===n&&(t=yT+500-ga(),10<t)){if(h_(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Tl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=SE(Up.bind(null,e,Yl,Oh),t);break}Up(e,Yl,Oh);break;case 4:if($f(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var u=31-rd(n);a=1<<u,u=t[u],u>i&&(i=u),n&=~a}if(n=i,n=ga()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*pG(n/1960))-n,10<n){e.timeoutHandle=SE(Up.bind(null,e,Yl,Oh),n);break}Up(e,Yl,Oh);break;case 5:Up(e,Yl,Oh);break;default:throw Error(fr(329))}}}return iu(e,ga()),e.callbackNode===r?J$.bind(null,e):null}function VE(e,t){var r=S1;return e.current.memoizedState.isDehydrated&&(hm(e,t).flags|=256),e=I_(e,t),e!==2&&(t=Yl,Yl=r,t!==null&&qE(t)),e}function qE(e){Yl===null?Yl=e:Yl.push.apply(Yl,e)}function mG(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!od(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $f(e,t){for(t&=~gT,t&=~Tw,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-rd(t),n=1<<r;e[r]=-1,t&=~n}}function ZL(e){if(xi&6)throw Error(fr(327));L0();var t=h_(e,0);if(!(t&1))return iu(e,ga()),null;var r=I_(e,t);if(e.tag!==0&&r===2){var n=mE(e);n!==0&&(t=n,r=VE(e,n))}if(r===1)throw r=tb,hm(e,0),$f(e,t),iu(e,ga()),r;if(r===6)throw Error(fr(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Up(e,Yl,Oh),iu(e,ga()),null}function vT(e,t){var r=xi;xi|=1;try{return e(t)}finally{xi=r,xi===0&&(dy=ga()+500,Sw&&bp())}}function Cm(e){Zf!==null&&Zf.tag===0&&!(xi&6)&&L0();var t=xi;xi|=1;var r=_c.transition,n=Vi;try{if(_c.transition=null,Vi=1,e)return e()}finally{Vi=n,_c.transition=r,xi=t,!(xi&6)&&bp()}}function bT(){Lu=x0.current,Co(x0)}function hm(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,HW(r)),Fa!==null)for(r=Fa.return;r!==null;){var n=r;switch(Q4(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&y_();break;case 3:uy(),Co(ru),Co(ll),lT();break;case 5:sT(n);break;case 4:uy();break;case 13:Co(qo);break;case 19:Co(qo);break;case 10:nT(n.type._context);break;case 22:case 23:bT()}r=r.return}if(ds=e,Fa=e=ap(e.current,null),Ls=Lu=t,Ja=0,tb=null,gT=Tw=Sm=0,Yl=S1=null,Qp!==null){for(t=0;t<Qp.length;t++)if(r=Qp[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var u=a.next;a.next=i,n.next=u}r.pending=n}Qp=null}return e}function Q$(e,t){do{var r=Fa;try{if(rT(),Bx.current=A_,E_){for(var n=Wo.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}E_=!1}if(wm=0,us=Za=Wo=null,_1=!1,J1=0,mT.current=null,r===null||r.return===null){Ja=1,tb=t,Fa=null;break}e:{var a=e,u=r.return,s=r,f=t;if(t=Ls,s.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var m=f,x=s,w=x.tag;if(!(x.mode&1)&&(w===0||w===11||w===15)){var S=x.alternate;S?(x.updateQueue=S.updateQueue,x.memoizedState=S.memoizedState,x.lanes=S.lanes):(x.updateQueue=null,x.memoizedState=null)}var C=FL(u);if(C!==null){C.flags&=-257,$L(C,u,s,a,t),C.mode&1&&NL(a,m,t),t=C,f=m;var L=t.updateQueue;if(L===null){var k=new Set;k.add(f),t.updateQueue=k}else L.add(f);break e}else{if(!(t&1)){NL(a,m,t),xT();break e}f=Error(fr(426))}}else if(No&&s.mode&1){var $=FL(u);if($!==null){!($.flags&65536)&&($.flags|=256),$L($,u,s,a,t),eT(cy(f,s));break e}}a=f=cy(f,s),Ja!==4&&(Ja=2),S1===null?S1=[a]:S1.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var M=N$(a,f,t);IL(a,M);break e;case 1:s=f;var z=a.type,B=a.stateNode;if(!(a.flags&128)&&(typeof z.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(ip===null||!ip.has(B)))){a.flags|=65536,t&=-t,a.lanes|=t;var q=F$(a,s,t);IL(a,q);break e}}a=a.return}while(a!==null)}rB(r)}catch(te){t=te,Fa===r&&r!==null&&(Fa=r=r.return);continue}break}while(!0)}function eB(){var e=T_.current;return T_.current=A_,e===null?A_:e}function xT(){(Ja===0||Ja===3||Ja===2)&&(Ja=4),ds===null||!(Sm&268435455)&&!(Tw&268435455)||$f(ds,Ls)}function I_(e,t){var r=xi;xi|=2;var n=eB();(ds!==e||Ls!==t)&&(Oh=null,hm(e,t));do try{gG();break}catch(i){Q$(e,i)}while(!0);if(rT(),xi=r,T_.current=n,Fa!==null)throw Error(fr(261));return ds=null,Ls=0,Ja}function gG(){for(;Fa!==null;)tB(Fa)}function yG(){for(;Fa!==null&&!UH();)tB(Fa)}function tB(e){var t=iB(e.alternate,e,Lu);e.memoizedProps=e.pendingProps,t===null?rB(e):Fa=t,mT.current=null}function rB(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=cG(r,t),r!==null){r.flags&=32767,Fa=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ja=6,Fa=null;return}}else if(r=uG(r,t,Lu),r!==null){Fa=r;return}if(t=t.sibling,t!==null){Fa=t;return}Fa=t=e}while(t!==null);Ja===0&&(Ja=5)}function Up(e,t,r){var n=Vi,i=_c.transition;try{_c.transition=null,Vi=1,vG(e,t,r,n)}finally{_c.transition=i,Vi=n}return null}function vG(e,t,r,n){do L0();while(Zf!==null);if(xi&6)throw Error(fr(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(fr(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(JH(e,a),e===ds&&(Fa=ds=null,Ls=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||J2||(J2=!0,oB(d_,function(){return L0(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=_c.transition,_c.transition=null;var u=Vi;Vi=1;var s=xi;xi|=4,mT.current=null,hG(e,r),Z$(r,e),$W(_E),f_=!!xE,_E=xE=null,e.current=r,fG(r),VH(),xi=s,Vi=u,_c.transition=a}else e.current=r;if(J2&&(J2=!1,Zf=e,k_=i),a=e.pendingLanes,a===0&&(ip=null),WH(r.stateNode),iu(e,ga()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(P_)throw P_=!1,e=jE,jE=null,e;return k_&1&&e.tag!==0&&L0(),a=e.pendingLanes,a&1?e===UE?C1++:(C1=0,UE=e):C1=0,bp(),null}function L0(){if(Zf!==null){var e=NF(k_),t=_c.transition,r=Vi;try{if(_c.transition=null,Vi=16>e?16:e,Zf===null)var n=!1;else{if(e=Zf,Zf=null,k_=0,xi&6)throw Error(fr(331));var i=xi;for(xi|=4,Kr=e.current;Kr!==null;){var a=Kr,u=a.child;if(Kr.flags&16){var s=a.deletions;if(s!==null){for(var f=0;f<s.length;f++){var m=s[f];for(Kr=m;Kr!==null;){var x=Kr;switch(x.tag){case 0:case 11:case 15:w1(8,x,a)}var w=x.child;if(w!==null)w.return=x,Kr=w;else for(;Kr!==null;){x=Kr;var S=x.sibling,C=x.return;if(G$(x),x===m){Kr=null;break}if(S!==null){S.return=C,Kr=S;break}Kr=C}}}var L=a.alternate;if(L!==null){var k=L.child;if(k!==null){L.child=null;do{var $=k.sibling;k.sibling=null,k=$}while(k!==null)}}Kr=a}}if(a.subtreeFlags&2064&&u!==null)u.return=a,Kr=u;else e:for(;Kr!==null;){if(a=Kr,a.flags&2048)switch(a.tag){case 0:case 11:case 15:w1(9,a,a.return)}var M=a.sibling;if(M!==null){M.return=a.return,Kr=M;break e}Kr=a.return}}var z=e.current;for(Kr=z;Kr!==null;){u=Kr;var B=u.child;if(u.subtreeFlags&2064&&B!==null)B.return=u,Kr=B;else e:for(u=z;Kr!==null;){if(s=Kr,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Aw(9,s)}}catch(te){ua(s,s.return,te)}if(s===u){Kr=null;break e}var q=s.sibling;if(q!==null){q.return=s.return,Kr=q;break e}Kr=s.return}}if(xi=i,bp(),Yd&&typeof Yd.onPostCommitFiberRoot=="function")try{Yd.onPostCommitFiberRoot(vw,e)}catch{}n=!0}return n}finally{Vi=r,_c.transition=t}}return!1}function YL(e,t,r){t=cy(r,t),t=N$(e,t,1),e=np(e,t,1),t=Tl(),e!==null&&(Fb(e,1,t),iu(e,t))}function ua(e,t,r){if(e.tag===3)YL(e,e,r);else for(;t!==null;){if(t.tag===3){YL(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ip===null||!ip.has(n))){e=cy(r,e),e=F$(t,e,1),t=np(t,e,1),e=Tl(),t!==null&&(Fb(t,1,e),iu(t,e));break}}t=t.return}}function bG(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Tl(),e.pingedLanes|=e.suspendedLanes&r,ds===e&&(Ls&r)===r&&(Ja===4||Ja===3&&(Ls&130023424)===Ls&&500>ga()-yT?hm(e,0):gT|=r),iu(e,t)}function nB(e,t){t===0&&(e.mode&1?(t=U2,U2<<=1,!(U2&130023424)&&(U2=4194304)):t=1);var r=Tl();e=Xh(e,t),e!==null&&(Fb(e,t,r),iu(e,r))}function xG(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),nB(e,r)}function _G(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(fr(314))}n!==null&&n.delete(t),nB(e,r)}var iB;iB=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ru.current)Ql=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ql=!1,lG(e,t,r);Ql=!!(e.flags&131072)}else Ql=!1,No&&t.flags&1048576&&l$(t,x_,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;jx(e,t),e=t.pendingProps;var i=ay(t,ll.current);I0(t,r),i=cT(null,t,n,e,i,r);var a=dT();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,nu(n)?(a=!0,v_(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,oT(t),i.updater=Ew,t.stateNode=i,i._reactInternals=t,IE(t,n,e,r),t=RE(null,t,n,!0,a,r)):(t.tag=0,No&&a&&J4(t),Cl(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(jx(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=SG(n),e=Wc(n,e),i){case 0:t=ME(null,t,n,e,r);break e;case 1:t=jL(null,t,n,e,r);break e;case 11:t=BL(null,t,n,e,r);break e;case 14:t=zL(null,t,n,Wc(n.type,e),r);break e}throw Error(fr(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Wc(n,i),ME(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Wc(n,i),jL(e,t,n,i,r);case 3:e:{if(j$(t),e===null)throw Error(fr(387));n=t.pendingProps,a=t.memoizedState,i=a.element,p$(e,t),S_(t,n,null,r);var u=t.memoizedState;if(n=u.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=cy(Error(fr(423)),t),t=UL(e,t,n,r,i);break e}else if(n!==i){i=cy(Error(fr(424)),t),t=UL(e,t,n,r,i);break e}else for(Nu=rp(t.stateNode.containerInfo.firstChild),$u=t,No=!0,Zc=null,r=h$(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(sy(),n===i){t=Zh(e,t,r);break e}Cl(e,t,n,r)}t=t.child}return t;case 5:return m$(t),e===null&&TE(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,u=i.children,wE(n,i)?u=null:a!==null&&wE(n,a)&&(t.flags|=32),z$(e,t),Cl(e,t,u,r),t.child;case 6:return e===null&&TE(t),null;case 13:return U$(e,t,r);case 4:return aT(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ly(t,null,n,r):Cl(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Wc(n,i),BL(e,t,n,i,r);case 7:return Cl(e,t,t.pendingProps,r),t.child;case 8:return Cl(e,t,t.pendingProps.children,r),t.child;case 12:return Cl(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,u=i.value,fo(__,n._currentValue),n._currentValue=u,a!==null)if(od(a.value,u)){if(a.children===i.children&&!ru.current){t=Zh(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){u=a.child;for(var f=s.firstContext;f!==null;){if(f.context===n){if(a.tag===1){f=Vh(-1,r&-r),f.tag=2;var m=a.updateQueue;if(m!==null){m=m.shared;var x=m.pending;x===null?f.next=f:(f.next=x.next,x.next=f),m.pending=f}}a.lanes|=r,f=a.alternate,f!==null&&(f.lanes|=r),PE(a.return,r,t),s.lanes|=r;break}f=f.next}}else if(a.tag===10)u=a.type===t.type?null:a.child;else if(a.tag===18){if(u=a.return,u===null)throw Error(fr(341));u.lanes|=r,s=u.alternate,s!==null&&(s.lanes|=r),PE(u,r,t),u=a.sibling}else u=a.child;if(u!==null)u.return=a;else for(u=a;u!==null;){if(u===t){u=null;break}if(a=u.sibling,a!==null){a.return=u.return,u=a;break}u=u.return}a=u}Cl(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,I0(t,r),i=wc(i),n=n(i),t.flags|=1,Cl(e,t,n,r),t.child;case 14:return n=t.type,i=Wc(n,t.pendingProps),i=Wc(n.type,i),zL(e,t,n,i,r);case 15:return $$(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Wc(n,i),jx(e,t),t.tag=1,nu(n)?(e=!0,v_(t)):e=!1,I0(t,r),O$(t,n,i),IE(t,n,i,r),RE(null,t,n,!0,e,r);case 19:return V$(e,t,r);case 22:return B$(e,t,r)}throw Error(fr(156,t.tag))};function oB(e,t){return MF(e,t)}function wG(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xc(e,t,r,n){return new wG(e,t,r,n)}function _T(e){return e=e.prototype,!(!e||!e.isReactComponent)}function SG(e){if(typeof e=="function")return _T(e)?1:0;if(e!=null){if(e=e.$$typeof,e===z4)return 11;if(e===j4)return 14}return 2}function ap(e,t){var r=e.alternate;return r===null?(r=xc(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function qx(e,t,r,n,i,a){var u=2;if(n=e,typeof e=="function")_T(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case c0:return fm(r.children,i,a,t);case B4:u=8,i|=8;break;case eE:return e=xc(12,r,t,i|2),e.elementType=eE,e.lanes=a,e;case tE:return e=xc(13,r,t,i),e.elementType=tE,e.lanes=a,e;case rE:return e=xc(19,r,t,i),e.elementType=rE,e.lanes=a,e;case mF:return Pw(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fF:u=10;break e;case pF:u=9;break e;case z4:u=11;break e;case j4:u=14;break e;case Rf:u=16,n=null;break e}throw Error(fr(130,e==null?e:typeof e,""))}return t=xc(u,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function fm(e,t,r,n){return e=xc(7,e,n,t),e.lanes=r,e}function Pw(e,t,r,n){return e=xc(22,e,n,t),e.elementType=mF,e.lanes=r,e.stateNode={isHidden:!1},e}function KC(e,t,r){return e=xc(6,e,null,t),e.lanes=r,e}function XC(e,t,r){return t=xc(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function CG(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kC(0),this.expirationTimes=kC(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kC(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function wT(e,t,r,n,i,a,u,s,f){return e=new CG(e,t,r,s,f),t===1?(t=1,a===!0&&(t|=8)):t=0,a=xc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},oT(a),e}function EG(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u0,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function aB(e){if(!e)return lp;e=e._reactInternals;e:{if(Fm(e)!==e||e.tag!==1)throw Error(fr(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(nu(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(fr(171))}if(e.tag===1){var r=e.type;if(nu(r))return a$(e,r,t)}return t}function sB(e,t,r,n,i,a,u,s,f){return e=wT(r,n,!0,e,i,a,u,s,f),e.context=aB(null),r=e.current,n=Tl(),i=op(r),a=Vh(n,i),a.callback=t??null,np(r,a,i),e.current.lanes=i,Fb(e,i,n),iu(e,n),e}function kw(e,t,r,n){var i=t.current,a=Tl(),u=op(i);return r=aB(r),t.context===null?t.context=r:t.pendingContext=r,t=Vh(a,u),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=np(i,t,u),e!==null&&(nd(e,i,u,a),$x(e,i,u)),u}function L_(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function JL(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ST(e,t){JL(e,t),(e=e.alternate)&&JL(e,t)}function AG(){return null}var lB=typeof reportError=="function"?reportError:function(e){console.error(e)};function CT(e){this._internalRoot=e}Iw.prototype.render=CT.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(fr(409));kw(e,t,null,null)};Iw.prototype.unmount=CT.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cm(function(){kw(null,e,null,null)}),t[Kh]=null}};function Iw(e){this._internalRoot=e}Iw.prototype.unstable_scheduleHydration=function(e){if(e){var t=BF();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ff.length&&t!==0&&t<Ff[r].priority;r++);Ff.splice(r,0,e),r===0&&jF(e)}};function ET(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Lw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function QL(){}function TG(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var m=L_(u);a.call(m)}}var u=sB(t,n,e,0,null,!1,!1,"",QL);return e._reactRootContainer=u,e[Kh]=u.current,G1(e.nodeType===8?e.parentNode:e),Cm(),u}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var m=L_(f);s.call(m)}}var f=wT(e,0,!1,null,null,!1,!1,"",QL);return e._reactRootContainer=f,e[Kh]=f.current,G1(e.nodeType===8?e.parentNode:e),Cm(function(){kw(t,f,r,n)}),f}function Mw(e,t,r,n,i){var a=r._reactRootContainer;if(a){var u=a;if(typeof i=="function"){var s=i;i=function(){var f=L_(u);s.call(f)}}kw(t,u,e,i)}else u=TG(r,t,e,i,n);return L_(u)}FF=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=e1(t.pendingLanes);r!==0&&(q4(t,r|1),iu(t,ga()),!(xi&6)&&(dy=ga()+500,bp()))}break;case 13:Cm(function(){var n=Xh(e,1);if(n!==null){var i=Tl();nd(n,e,1,i)}}),ST(e,1)}};H4=function(e){if(e.tag===13){var t=Xh(e,134217728);if(t!==null){var r=Tl();nd(t,e,134217728,r)}ST(e,134217728)}};$F=function(e){if(e.tag===13){var t=op(e),r=Xh(e,t);if(r!==null){var n=Tl();nd(r,e,t,n)}ST(e,t)}};BF=function(){return Vi};zF=function(e,t){var r=Vi;try{return Vi=e,t()}finally{Vi=r}};hE=function(e,t,r){switch(t){case"input":if(oE(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=ww(n);if(!i)throw Error(fr(90));yF(n),oE(n,i)}}}break;case"textarea":bF(e,r);break;case"select":t=r.value,t!=null&&A0(e,!!r.multiple,t,!1)}};AF=vT;TF=Cm;var PG={usingClientEntryPoint:!1,Events:[Bb,p0,ww,CF,EF,vT]},Av={findFiberByHostInstance:Jp,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kG={bundleType:Av.bundleType,version:Av.version,rendererPackageName:Av.rendererPackageName,rendererConfig:Av.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:of.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=IF(e),e===null?null:e.stateNode},findFiberByHostInstance:Av.findFiberByHostInstance||AG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Q2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Q2.isDisabled&&Q2.supportsFiber)try{vw=Q2.inject(kG),Yd=Q2}catch{}}qu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PG;qu.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ET(t))throw Error(fr(200));return EG(e,t,null,r)};qu.createRoot=function(e,t){if(!ET(e))throw Error(fr(299));var r=!1,n="",i=lB;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=wT(e,1,!1,null,null,r,!1,n,i),e[Kh]=t.current,G1(e.nodeType===8?e.parentNode:e),new CT(t)};qu.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(fr(188)):(e=Object.keys(e).join(","),Error(fr(268,e)));return e=IF(t),e=e===null?null:e.stateNode,e};qu.flushSync=function(e){return Cm(e)};qu.hydrate=function(e,t,r){if(!Lw(t))throw Error(fr(200));return Mw(null,e,t,!0,r)};qu.hydrateRoot=function(e,t,r){if(!ET(e))throw Error(fr(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",u=lB;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(u=r.onRecoverableError)),t=sB(t,null,e,1,r??null,i,!1,a,u),e[Kh]=t.current,G1(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Iw(t)};qu.render=function(e,t,r){if(!Lw(t))throw Error(fr(200));return Mw(null,e,t,!1,r)};qu.unmountComponentAtNode=function(e){if(!Lw(e))throw Error(fr(40));return e._reactRootContainer?(Cm(function(){Mw(null,null,e,!1,function(){e._reactRootContainer=null,e[Kh]=null})}),!0):!1};qu.unstable_batchedUpdates=vT;qu.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Lw(r))throw Error(fr(200));if(e==null||e._reactInternals===void 0)throw Error(fr(38));return Mw(e,t,r,!1,n)};qu.version="18.3.1-next-f1338f8080-20240426";function uB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uB)}catch(e){console.error(e)}}uB(),uF.exports=qu;var up=uF.exports;const r1=L4(up),IG=Z8({__proto__:null,default:r1},[up]);var eM=up;J3.createRoot=eM.createRoot,J3.hydrateRoot=eM.hydrateRoot;var cB={exports:{}};/**
 * MapLibre GL JS
 * @license 3-Clause BSD. Full text of license: https://github.com/maplibre/maplibre-gl-js/blob/v4.7.1/LICENSE.txt
 */(function(e,t){(function(r,n){e.exports=n()})(Gd,function(){var r={},n={};function i(u,s,f){if(n[u]=f,u==="index"){var m="var sharedModule = {}; ("+n.shared+")(sharedModule); ("+n.worker+")(sharedModule);",x={};return n.shared(x),n.index(r,x),typeof window<"u"&&r.setWorkerUrl(window.URL.createObjectURL(new Blob([m],{type:"text/javascript"}))),r}}i("shared",["exports"],function(u){function s(c,l,h,g){return new(h||(h=Promise))(function(_,E){function T(H){try{F(g.next(H))}catch(J){E(J)}}function D(H){try{F(g.throw(H))}catch(J){E(J)}}function F(H){var J;H.done?_(H.value):(J=H.value,J instanceof h?J:new h(function(ne){ne(J)})).then(T,D)}F((g=g.apply(c,l||[])).next())})}function f(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}typeof SuppressedError=="function"&&SuppressedError;var m=x;function x(c,l){this.x=c,this.y=l}x.prototype={clone:function(){return new x(this.x,this.y)},add:function(c){return this.clone()._add(c)},sub:function(c){return this.clone()._sub(c)},multByPoint:function(c){return this.clone()._multByPoint(c)},divByPoint:function(c){return this.clone()._divByPoint(c)},mult:function(c){return this.clone()._mult(c)},div:function(c){return this.clone()._div(c)},rotate:function(c){return this.clone()._rotate(c)},rotateAround:function(c,l){return this.clone()._rotateAround(c,l)},matMult:function(c){return this.clone()._matMult(c)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(c){return this.x===c.x&&this.y===c.y},dist:function(c){return Math.sqrt(this.distSqr(c))},distSqr:function(c){var l=c.x-this.x,h=c.y-this.y;return l*l+h*h},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(c){return Math.atan2(this.y-c.y,this.x-c.x)},angleWith:function(c){return this.angleWithSep(c.x,c.y)},angleWithSep:function(c,l){return Math.atan2(this.x*l-this.y*c,this.x*c+this.y*l)},_matMult:function(c){var l=c[2]*this.x+c[3]*this.y;return this.x=c[0]*this.x+c[1]*this.y,this.y=l,this},_add:function(c){return this.x+=c.x,this.y+=c.y,this},_sub:function(c){return this.x-=c.x,this.y-=c.y,this},_mult:function(c){return this.x*=c,this.y*=c,this},_div:function(c){return this.x/=c,this.y/=c,this},_multByPoint:function(c){return this.x*=c.x,this.y*=c.y,this},_divByPoint:function(c){return this.x/=c.x,this.y/=c.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var c=this.y;return this.y=this.x,this.x=-c,this},_rotate:function(c){var l=Math.cos(c),h=Math.sin(c),g=h*this.x+l*this.y;return this.x=l*this.x-h*this.y,this.y=g,this},_rotateAround:function(c,l){var h=Math.cos(c),g=Math.sin(c),_=l.y+g*(this.x-l.x)+h*(this.y-l.y);return this.x=l.x+h*(this.x-l.x)-g*(this.y-l.y),this.y=_,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},x.convert=function(c){return c instanceof x?c:Array.isArray(c)?new x(c[0],c[1]):c};var w=f(m),S=C;function C(c,l,h,g){this.cx=3*c,this.bx=3*(h-c)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*l,this.by=3*(g-l)-this.cy,this.ay=1-this.cy-this.by,this.p1x=c,this.p1y=l,this.p2x=h,this.p2y=g}C.prototype={sampleCurveX:function(c){return((this.ax*c+this.bx)*c+this.cx)*c},sampleCurveY:function(c){return((this.ay*c+this.by)*c+this.cy)*c},sampleCurveDerivativeX:function(c){return(3*this.ax*c+2*this.bx)*c+this.cx},solveCurveX:function(c,l){if(l===void 0&&(l=1e-6),c<0)return 0;if(c>1)return 1;for(var h=c,g=0;g<8;g++){var _=this.sampleCurveX(h)-c;if(Math.abs(_)<l)return h;var E=this.sampleCurveDerivativeX(h);if(Math.abs(E)<1e-6)break;h-=_/E}var T=0,D=1;for(h=c,g=0;g<20&&(_=this.sampleCurveX(h),!(Math.abs(_-c)<l));g++)c>_?T=h:D=h,h=.5*(D-T)+T;return h},solve:function(c,l){return this.sampleCurveY(this.solveCurveX(c,l))}};var L=f(S);let k,$;function M(){return k==null&&(k=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),k}function z(){if($==null&&($=!1,M())){const l=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(l){for(let g=0;g<5*5;g++){const _=4*g;l.fillStyle=`rgb(${_},${_+1},${_+2})`,l.fillRect(g%5,Math.floor(g/5),1,1)}const h=l.getImageData(0,0,5,5).data;for(let g=0;g<5*5*4;g++)if(g%4!=3&&h[g]!==g){$=!0;break}}}return $||!1}function B(c,l,h,g){const _=new L(c,l,h,g);return E=>_.solve(E)}const q=B(.25,.1,.25,1);function te(c,l,h){return Math.min(h,Math.max(l,c))}function K(c,l,h){const g=h-l,_=((c-l)%g+g)%g+l;return _===l?h:_}function ee(c,...l){for(const h of l)for(const g in h)c[g]=h[g];return c}let Q=1;function ge(c,l,h){const g={};for(const _ in c)g[_]=l.call(this,c[_],_,c);return g}function Y(c,l,h){const g={};for(const _ in c)l.call(this,c[_],_,c)&&(g[_]=c[_]);return g}function Z(c){return Array.isArray(c)?c.map(Z):typeof c=="object"&&c?ge(c,Z):c}const re={};function ye(c){re[c]||(typeof console<"u"&&console.warn(c),re[c]=!0)}function fe(c,l,h){return(h.y-c.y)*(l.x-c.x)>(l.y-c.y)*(h.x-c.x)}function Ae(c){return typeof WorkerGlobalScope<"u"&&c!==void 0&&c instanceof WorkerGlobalScope}let ke=null;function Oe(c){return typeof ImageBitmap<"u"&&c instanceof ImageBitmap}const _e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Ne(c,l,h,g,_){return s(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const E=new VideoFrame(c,{timestamp:0});try{const T=E==null?void 0:E.format;if(!T||!T.startsWith("BGR")&&!T.startsWith("RGB"))throw new Error(`Unrecognized format ${T}`);const D=T.startsWith("BGR"),F=new Uint8ClampedArray(g*_*4);if(yield E.copyTo(F,function(H,J,ne,ue,xe){const Ee=4*Math.max(-J,0),Me=(Math.max(0,ne)-ne)*ue*4+Ee,He=4*ue,Qe=Math.max(0,J),_t=Math.max(0,ne);return{rect:{x:Qe,y:_t,width:Math.min(H.width,J+ue)-Qe,height:Math.min(H.height,ne+xe)-_t},layout:[{offset:Me,stride:He}]}}(c,l,h,g,_)),D)for(let H=0;H<F.length;H+=4){const J=F[H];F[H]=F[H+2],F[H+2]=J}return F}finally{E.close()}})}let Ke,pt;const ae="AbortError";function me(){return new Error(ae)}const we={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function Re(c){return we.REGISTERED_PROTOCOLS[c.substring(0,c.indexOf("://"))]}const Fe="global-dispatcher";class rt extends Error{constructor(l,h,g,_){super(`AJAXError: ${h} (${l}): ${g}`),this.status=l,this.statusText=h,this.url=g,this.body=_}}const Ve=()=>Ae(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,We=function(c,l){if(/:\/\//.test(c.url)&&!/^https?:|^file:/.test(c.url)){const g=Re(c.url);if(g)return g(c,l);if(Ae(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:c,targetMapId:Fe},l)}if(!(/^file:/.test(h=c.url)||/^file:/.test(Ve())&&!/^\w+:/.test(h))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return function(g,_){return s(this,void 0,void 0,function*(){const E=new Request(g.url,{method:g.method||"GET",body:g.body,credentials:g.credentials,headers:g.headers,cache:g.cache,referrer:Ve(),signal:_.signal});g.type!=="json"||E.headers.has("Accept")||E.headers.set("Accept","application/json");const T=yield fetch(E);if(!T.ok){const H=yield T.blob();throw new rt(T.status,T.statusText,g.url,H)}let D;D=g.type==="arrayBuffer"||g.type==="image"?T.arrayBuffer():g.type==="json"?T.json():T.text();const F=yield D;if(_.signal.aborted)throw me();return{data:F,cacheControl:T.headers.get("Cache-Control"),expires:T.headers.get("Expires")}})}(c,l);if(Ae(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:c,mustQueue:!0,targetMapId:Fe},l)}var h;return function(g,_){return new Promise((E,T)=>{var D;const F=new XMLHttpRequest;F.open(g.method||"GET",g.url,!0),g.type!=="arrayBuffer"&&g.type!=="image"||(F.responseType="arraybuffer");for(const H in g.headers)F.setRequestHeader(H,g.headers[H]);g.type==="json"&&(F.responseType="text",!((D=g.headers)===null||D===void 0)&&D.Accept||F.setRequestHeader("Accept","application/json")),F.withCredentials=g.credentials==="include",F.onerror=()=>{T(new Error(F.statusText))},F.onload=()=>{if(!_.signal.aborted)if((F.status>=200&&F.status<300||F.status===0)&&F.response!==null){let H=F.response;if(g.type==="json")try{H=JSON.parse(F.response)}catch(J){return void T(J)}E({data:H,cacheControl:F.getResponseHeader("Cache-Control"),expires:F.getResponseHeader("Expires")})}else{const H=new Blob([F.response],{type:F.getResponseHeader("Content-Type")});T(new rt(F.status,F.statusText,g.url,H))}},_.signal.addEventListener("abort",()=>{F.abort(),T(me())}),F.send(g.body)})}(c,l)};function nt(c){if(!c||c.indexOf("://")<=0||c.indexOf("data:image/")===0||c.indexOf("blob:")===0)return!0;const l=new URL(c),h=window.location;return l.protocol===h.protocol&&l.host===h.host}function ut(c,l,h){h[c]&&h[c].indexOf(l)!==-1||(h[c]=h[c]||[],h[c].push(l))}function bt(c,l,h){if(h&&h[c]){const g=h[c].indexOf(l);g!==-1&&h[c].splice(g,1)}}class Ct{constructor(l,h={}){ee(this,h),this.type=l}}class Et extends Ct{constructor(l,h={}){super("error",ee({error:l},h))}}class lt{on(l,h){return this._listeners=this._listeners||{},ut(l,h,this._listeners),this}off(l,h){return bt(l,h,this._listeners),bt(l,h,this._oneTimeListeners),this}once(l,h){return h?(this._oneTimeListeners=this._oneTimeListeners||{},ut(l,h,this._oneTimeListeners),this):new Promise(g=>this.once(l,g))}fire(l,h){typeof l=="string"&&(l=new Ct(l,h||{}));const g=l.type;if(this.listens(g)){l.target=this;const _=this._listeners&&this._listeners[g]?this._listeners[g].slice():[];for(const D of _)D.call(this,l);const E=this._oneTimeListeners&&this._oneTimeListeners[g]?this._oneTimeListeners[g].slice():[];for(const D of E)bt(g,D,this._oneTimeListeners),D.call(this,l);const T=this._eventedParent;T&&(ee(l,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),T.fire(l))}else l instanceof Et&&console.error(l.error);return this}listens(l){return this._listeners&&this._listeners[l]&&this._listeners[l].length>0||this._oneTimeListeners&&this._oneTimeListeners[l]&&this._oneTimeListeners[l].length>0||this._eventedParent&&this._eventedParent.listens(l)}setEventedParent(l,h){return this._eventedParent=l,this._eventedParentData=h,this}}var ce={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"enum",default:"mercator",values:{mercator:{},globe:{}}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const ur=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function qt(c,l){const h={};for(const g in c)g!=="ref"&&(h[g]=c[g]);return ur.forEach(g=>{g in l&&(h[g]=l[g])}),h}function wt(c,l){if(Array.isArray(c)){if(!Array.isArray(l)||c.length!==l.length)return!1;for(let h=0;h<c.length;h++)if(!wt(c[h],l[h]))return!1;return!0}if(typeof c=="object"&&c!==null&&l!==null){if(typeof l!="object"||Object.keys(c).length!==Object.keys(l).length)return!1;for(const h in c)if(!wt(c[h],l[h]))return!1;return!0}return c===l}function Mt(c,l){c.push(l)}function It(c,l,h){Mt(h,{command:"addSource",args:[c,l[c]]})}function Gt(c,l,h){Mt(l,{command:"removeSource",args:[c]}),h[c]=!0}function Lt(c,l,h,g){Gt(c,h,g),It(c,l,h)}function Jt(c,l,h){let g;for(g in c[h])if(Object.prototype.hasOwnProperty.call(c[h],g)&&g!=="data"&&!wt(c[h][g],l[h][g]))return!1;for(g in l[h])if(Object.prototype.hasOwnProperty.call(l[h],g)&&g!=="data"&&!wt(c[h][g],l[h][g]))return!1;return!0}function _r(c,l,h,g,_,E){c=c||{},l=l||{};for(const T in c)Object.prototype.hasOwnProperty.call(c,T)&&(wt(c[T],l[T])||h.push({command:E,args:[g,T,l[T],_]}));for(const T in l)Object.prototype.hasOwnProperty.call(l,T)&&!Object.prototype.hasOwnProperty.call(c,T)&&(wt(c[T],l[T])||h.push({command:E,args:[g,T,l[T],_]}))}function Cr(c){return c.id}function Ir(c,l){return c[l.id]=l,c}class Ze{constructor(l,h,g,_){this.message=(l?`${l}: `:"")+g,_&&(this.identifier=_),h!=null&&h.__line__&&(this.line=h.__line__)}}function gt(c,...l){for(const h of l)for(const g in h)c[g]=h[g];return c}class Ft extends Error{constructor(l,h){super(h),this.message=h,this.key=l}}class At{constructor(l,h=[]){this.parent=l,this.bindings={};for(const[g,_]of h)this.bindings[g]=_}concat(l){return new At(this,l)}get(l){if(this.bindings[l])return this.bindings[l];if(this.parent)return this.parent.get(l);throw new Error(`${l} not found in scope.`)}has(l){return!!this.bindings[l]||!!this.parent&&this.parent.has(l)}}const Ar={kind:"null"},ot={kind:"number"},kt={kind:"string"},Dt={kind:"boolean"},cr={kind:"color"},Wr={kind:"object"},nr={kind:"value"},ei={kind:"collator"},On={kind:"formatted"},hi={kind:"padding"},Vn={kind:"resolvedImage"},je={kind:"variableAnchorOffsetCollection"};function se(c,l){return{kind:"array",itemType:c,N:l}}function de(c){if(c.kind==="array"){const l=de(c.itemType);return typeof c.N=="number"?`array<${l}, ${c.N}>`:c.itemType.kind==="value"?"array":`array<${l}>`}return c.kind}const Pe=[Ar,ot,kt,Dt,cr,On,Wr,se(nr),hi,Vn,je];function ze(c,l){if(l.kind==="error")return null;if(c.kind==="array"){if(l.kind==="array"&&(l.N===0&&l.itemType.kind==="value"||!ze(c.itemType,l.itemType))&&(typeof c.N!="number"||c.N===l.N))return null}else{if(c.kind===l.kind)return null;if(c.kind==="value"){for(const h of Pe)if(!ze(h,l))return null}}return`Expected ${de(c)} but found ${de(l)} instead.`}function it(c,l){return l.some(h=>h.kind===c.kind)}function ct(c,l){return l.some(h=>h==="null"?c===null:h==="array"?Array.isArray(c):h==="object"?c&&!Array.isArray(c)&&typeof c=="object":h===typeof c)}function pe(c,l){return c.kind==="array"&&l.kind==="array"?c.itemType.kind===l.itemType.kind&&typeof c.N=="number":c.kind===l.kind}const ve=.96422,Be=.82521,Ye=4/29,et=6/29,St=3*et*et,Bt=et*et*et,Ot=Math.PI/180,Yt=180/Math.PI;function $t(c){return(c%=360)<0&&(c+=360),c}function Qt([c,l,h,g]){let _,E;const T=gr((.2225045*(c=hr(c))+.7168786*(l=hr(l))+.0606169*(h=hr(h)))/1);c===l&&l===h?_=E=T:(_=gr((.4360747*c+.3850649*l+.1430804*h)/ve),E=gr((.0139322*c+.0971045*l+.7141733*h)/Be));const D=116*T-16;return[D<0?0:D,500*(_-T),200*(T-E),g]}function hr(c){return c<=.04045?c/12.92:Math.pow((c+.055)/1.055,2.4)}function gr(c){return c>Bt?Math.pow(c,1/3):c/St+Ye}function yr([c,l,h,g]){let _=(c+16)/116,E=isNaN(l)?_:_+l/500,T=isNaN(h)?_:_-h/200;return _=1*Tr(_),E=ve*Tr(E),T=Be*Tr(T),[vr(3.1338561*E-1.6168667*_-.4906146*T),vr(-.9787684*E+1.9161415*_+.033454*T),vr(.0719453*E-.2289914*_+1.4052427*T),g]}function vr(c){return(c=c<=.00304?12.92*c:1.055*Math.pow(c,1/2.4)-.055)<0?0:c>1?1:c}function Tr(c){return c>et?c*c*c:St*(c-Ye)}function zr(c){return parseInt(c.padEnd(2,c),16)/255}function Kn(c,l){return fi(l?c/100:c,0,1)}function fi(c,l,h){return Math.min(Math.max(l,c),h)}function Hn(c){return!c.some(Number.isNaN)}const so={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class In{constructor(l,h,g,_=1,E=!0){this.r=l,this.g=h,this.b=g,this.a=_,E||(this.r*=_,this.g*=_,this.b*=_,_||this.overwriteGetter("rgb",[l,h,g,_]))}static parse(l){if(l instanceof In)return l;if(typeof l!="string")return;const h=function(g){if((g=g.toLowerCase().trim())==="transparent")return[0,0,0,0];const _=so[g];if(_){const[T,D,F]=_;return[T/255,D/255,F/255,1]}if(g.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(g)){const T=g.length<6?1:2;let D=1;return[zr(g.slice(D,D+=T)),zr(g.slice(D,D+=T)),zr(g.slice(D,D+=T)),zr(g.slice(D,D+T)||"ff")]}if(g.startsWith("rgb")){const T=g.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(T){const[D,F,H,J,ne,ue,xe,Ee,Me,He,Qe,_t]=T,ft=[J||" ",xe||" ",He].join("");if(ft==="  "||ft==="  /"||ft===",,"||ft===",,,"){const vt=[H,ue,Me].join(""),Rt=vt==="%%%"?100:vt===""?255:0;if(Rt){const rr=[fi(+F/Rt,0,1),fi(+ne/Rt,0,1),fi(+Ee/Rt,0,1),Qe?Kn(+Qe,_t):1];if(Hn(rr))return rr}}return}}const E=g.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(E){const[T,D,F,H,J,ne,ue,xe,Ee]=E,Me=[F||" ",J||" ",ue].join("");if(Me==="  "||Me==="  /"||Me===",,"||Me===",,,"){const He=[+D,fi(+H,0,100),fi(+ne,0,100),xe?Kn(+xe,Ee):1];if(Hn(He))return function([Qe,_t,ft,vt]){function Rt(rr){const Er=(rr+Qe/30)%12,tn=_t*Math.min(ft,1-ft);return ft-tn*Math.max(-1,Math.min(Er-3,9-Er,1))}return Qe=$t(Qe),_t/=100,ft/=100,[Rt(0),Rt(8),Rt(4),vt]}(He)}}}(l);return h?new In(...h,!1):void 0}get rgb(){const{r:l,g:h,b:g,a:_}=this,E=_||1/0;return this.overwriteGetter("rgb",[l/E,h/E,g/E,_])}get hcl(){return this.overwriteGetter("hcl",function(l){const[h,g,_,E]=Qt(l),T=Math.sqrt(g*g+_*_);return[Math.round(1e4*T)?$t(Math.atan2(_,g)*Yt):NaN,T,h,E]}(this.rgb))}get lab(){return this.overwriteGetter("lab",Qt(this.rgb))}overwriteGetter(l,h){return Object.defineProperty(this,l,{value:h}),h}toString(){const[l,h,g,_]=this.rgb;return`rgba(${[l,h,g].map(E=>Math.round(255*E)).join(",")},${_})`}}In.black=new In(0,0,0,1),In.white=new In(1,1,1,1),In.transparent=new In(0,0,0,0),In.red=new In(1,0,0,1);class ja{constructor(l,h,g){this.sensitivity=l?h?"variant":"case":h?"accent":"base",this.locale=g,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(l,h){return this.collator.compare(l,h)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class To{constructor(l,h,g,_,E){this.text=l,this.image=h,this.scale=g,this.fontStack=_,this.textColor=E}}class Ln{constructor(l){this.sections=l}static fromString(l){return new Ln([new To(l,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(l=>l.text.length!==0||l.image&&l.image.name.length!==0)}static factory(l){return l instanceof Ln?l:Ln.fromString(l)}toString(){return this.sections.length===0?"":this.sections.map(l=>l.text).join("")}}class eo{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof eo)return l;if(typeof l=="number")return new eo([l,l,l,l]);if(Array.isArray(l)&&!(l.length<1||l.length>4)){for(const h of l)if(typeof h!="number")return;switch(l.length){case 1:l=[l[0],l[0],l[0],l[0]];break;case 2:l=[l[0],l[1],l[0],l[1]];break;case 3:l=[l[0],l[1],l[2],l[1]]}return new eo(l)}}toString(){return JSON.stringify(this.values)}}const Mn=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class xn{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof xn)return l;if(Array.isArray(l)&&!(l.length<1)&&l.length%2==0){for(let h=0;h<l.length;h+=2){const g=l[h],_=l[h+1];if(typeof g!="string"||!Mn.has(g)||!Array.isArray(_)||_.length!==2||typeof _[0]!="number"||typeof _[1]!="number")return}return new xn(l)}}toString(){return JSON.stringify(this.values)}}class Wn{constructor(l){this.name=l.name,this.available=l.available}toString(){return this.name}static fromString(l){return l?new Wn({name:l,available:!1}):null}}function Fo(c,l,h,g){return typeof c=="number"&&c>=0&&c<=255&&typeof l=="number"&&l>=0&&l<=255&&typeof h=="number"&&h>=0&&h<=255?g===void 0||typeof g=="number"&&g>=0&&g<=1?null:`Invalid rgba value [${[c,l,h,g].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof g=="number"?[c,l,h,g]:[c,l,h]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Rn(c){if(c===null||typeof c=="string"||typeof c=="boolean"||typeof c=="number"||c instanceof In||c instanceof ja||c instanceof Ln||c instanceof eo||c instanceof xn||c instanceof Wn)return!0;if(Array.isArray(c)){for(const l of c)if(!Rn(l))return!1;return!0}if(typeof c=="object"){for(const l in c)if(!Rn(c[l]))return!1;return!0}return!1}function zn(c){if(c===null)return Ar;if(typeof c=="string")return kt;if(typeof c=="boolean")return Dt;if(typeof c=="number")return ot;if(c instanceof In)return cr;if(c instanceof ja)return ei;if(c instanceof Ln)return On;if(c instanceof eo)return hi;if(c instanceof xn)return je;if(c instanceof Wn)return Vn;if(Array.isArray(c)){const l=c.length;let h;for(const g of c){const _=zn(g);if(h){if(h===_)continue;h=nr;break}h=_}return se(h||nr,l)}return Wr}function ai(c){const l=typeof c;return c===null?"":l==="string"||l==="number"||l==="boolean"?String(c):c instanceof In||c instanceof Ln||c instanceof eo||c instanceof xn||c instanceof Wn?c.toString():JSON.stringify(c)}class Ko{constructor(l,h){this.type=l,this.value=h}static parse(l,h){if(l.length!==2)return h.error(`'literal' expression requires exactly one argument, but found ${l.length-1} instead.`);if(!Rn(l[1]))return h.error("invalid value");const g=l[1];let _=zn(g);const E=h.expectedType;return _.kind!=="array"||_.N!==0||!E||E.kind!=="array"||typeof E.N=="number"&&E.N!==0||(_=E),new Ko(_,g)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class Li{constructor(l){this.name="ExpressionEvaluationError",this.message=l}toJSON(){return this.message}}const du={string:kt,number:ot,boolean:Dt,object:Wr};class Xo{constructor(l,h){this.type=l,this.args=h}static parse(l,h){if(l.length<2)return h.error("Expected at least one argument.");let g,_=1;const E=l[0];if(E==="array"){let D,F;if(l.length>2){const H=l[1];if(typeof H!="string"||!(H in du)||H==="object")return h.error('The item type argument of "array" must be one of string, number, boolean',1);D=du[H],_++}else D=nr;if(l.length>3){if(l[2]!==null&&(typeof l[2]!="number"||l[2]<0||l[2]!==Math.floor(l[2])))return h.error('The length argument to "array" must be a positive integer literal',2);F=l[2],_++}g=se(D,F)}else{if(!du[E])throw new Error(`Types doesn't contain name = ${E}`);g=du[E]}const T=[];for(;_<l.length;_++){const D=h.parse(l[_],_,nr);if(!D)return null;T.push(D)}return new Xo(g,T)}evaluate(l){for(let h=0;h<this.args.length;h++){const g=this.args[h].evaluate(l);if(!ze(this.type,zn(g)))return g;if(h===this.args.length-1)throw new Li(`Expected value to be of type ${de(this.type)}, but found ${de(zn(g))} instead.`)}throw new Error}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}const hu={"to-boolean":Dt,"to-color":cr,"to-number":ot,"to-string":kt};class Wi{constructor(l,h){this.type=l,this.args=h}static parse(l,h){if(l.length<2)return h.error("Expected at least one argument.");const g=l[0];if(!hu[g])throw new Error(`Can't parse ${g} as it is not part of the known types`);if((g==="to-boolean"||g==="to-string")&&l.length!==2)return h.error("Expected one argument.");const _=hu[g],E=[];for(let T=1;T<l.length;T++){const D=h.parse(l[T],T,nr);if(!D)return null;E.push(D)}return new Wi(_,E)}evaluate(l){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(l);case"color":{let h,g;for(const _ of this.args){if(h=_.evaluate(l),g=null,h instanceof In)return h;if(typeof h=="string"){const E=l.parseColor(h);if(E)return E}else if(Array.isArray(h)&&(g=h.length<3||h.length>4?`Invalid rbga value ${JSON.stringify(h)}: expected an array containing either three or four numeric values.`:Fo(h[0],h[1],h[2],h[3]),!g))return new In(h[0]/255,h[1]/255,h[2]/255,h[3])}throw new Li(g||`Could not parse color from value '${typeof h=="string"?h:JSON.stringify(h)}'`)}case"padding":{let h;for(const g of this.args){h=g.evaluate(l);const _=eo.parse(h);if(_)return _}throw new Li(`Could not parse padding from value '${typeof h=="string"?h:JSON.stringify(h)}'`)}case"variableAnchorOffsetCollection":{let h;for(const g of this.args){h=g.evaluate(l);const _=xn.parse(h);if(_)return _}throw new Li(`Could not parse variableAnchorOffsetCollection from value '${typeof h=="string"?h:JSON.stringify(h)}'`)}case"number":{let h=null;for(const g of this.args){if(h=g.evaluate(l),h===null)return 0;const _=Number(h);if(!isNaN(_))return _}throw new Li(`Could not convert ${JSON.stringify(h)} to number.`)}case"formatted":return Ln.fromString(ai(this.args[0].evaluate(l)));case"resolvedImage":return Wn.fromString(ai(this.args[0].evaluate(l)));default:return ai(this.args[0].evaluate(l))}}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}const fu=["Unknown","Point","LineString","Polygon"];class $o{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?fu[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(l){let h=this._parseColorCache[l];return h||(h=this._parseColorCache[l]=In.parse(l)),h}}class ms{constructor(l,h,g=[],_,E=new At,T=[]){this.registry=l,this.path=g,this.key=g.map(D=>`[${D}]`).join(""),this.scope=E,this.errors=T,this.expectedType=_,this._isConstant=h}parse(l,h,g,_,E={}){return h?this.concat(h,g,_)._parse(l,E):this._parse(l,E)}_parse(l,h){function g(_,E,T){return T==="assert"?new Xo(E,[_]):T==="coerce"?new Wi(E,[_]):_}if(l!==null&&typeof l!="string"&&typeof l!="boolean"&&typeof l!="number"||(l=["literal",l]),Array.isArray(l)){if(l.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const _=l[0];if(typeof _!="string")return this.error(`Expression name must be a string, but found ${typeof _} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const E=this.registry[_];if(E){let T=E.parse(l,this);if(!T)return null;if(this.expectedType){const D=this.expectedType,F=T.type;if(D.kind!=="string"&&D.kind!=="number"&&D.kind!=="boolean"&&D.kind!=="object"&&D.kind!=="array"||F.kind!=="value")if(D.kind!=="color"&&D.kind!=="formatted"&&D.kind!=="resolvedImage"||F.kind!=="value"&&F.kind!=="string")if(D.kind!=="padding"||F.kind!=="value"&&F.kind!=="number"&&F.kind!=="array")if(D.kind!=="variableAnchorOffsetCollection"||F.kind!=="value"&&F.kind!=="array"){if(this.checkSubtype(D,F))return null}else T=g(T,D,h.typeAnnotation||"coerce");else T=g(T,D,h.typeAnnotation||"coerce");else T=g(T,D,h.typeAnnotation||"coerce");else T=g(T,D,h.typeAnnotation||"assert")}if(!(T instanceof Ko)&&T.type.kind!=="resolvedImage"&&this._isConstant(T)){const D=new $o;try{T=new Ko(T.type,T.evaluate(D))}catch(F){return this.error(F.message),null}}return T}return this.error(`Unknown expression "${_}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(l===void 0?"'undefined' value invalid. Use null instead.":typeof l=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof l} instead.`)}concat(l,h,g){const _=typeof l=="number"?this.path.concat(l):this.path,E=g?this.scope.concat(g):this.scope;return new ms(this.registry,this._isConstant,_,h||null,E,this.errors)}error(l,...h){const g=`${this.key}${h.map(_=>`[${_}]`).join("")}`;this.errors.push(new Ft(g,l))}checkSubtype(l,h){const g=ze(l,h);return g&&this.error(g),g}}class gs{constructor(l,h){this.type=h.type,this.bindings=[].concat(l),this.result=h}evaluate(l){return this.result.evaluate(l)}eachChild(l){for(const h of this.bindings)l(h[1]);l(this.result)}static parse(l,h){if(l.length<4)return h.error(`Expected at least 3 arguments, but found ${l.length-1} instead.`);const g=[];for(let E=1;E<l.length-1;E+=2){const T=l[E];if(typeof T!="string")return h.error(`Expected string, but found ${typeof T} instead.`,E);if(/[^a-zA-Z0-9_]/.test(T))return h.error("Variable names must contain only alphanumeric characters or '_'.",E);const D=h.parse(l[E+1],E+1);if(!D)return null;g.push([T,D])}const _=h.parse(l[l.length-1],l.length-1,h.expectedType,g);return _?new gs(g,_):null}outputDefined(){return this.result.outputDefined()}}class Nn{constructor(l,h){this.type=h.type,this.name=l,this.boundExpression=h}static parse(l,h){if(l.length!==2||typeof l[1]!="string")return h.error("'var' expression requires exactly one string literal argument.");const g=l[1];return h.scope.has(g)?new Nn(g,h.scope.get(g)):h.error(`Unknown variable "${g}". Make sure "${g}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(l){return this.boundExpression.evaluate(l)}eachChild(){}outputDefined(){return!1}}class O{constructor(l,h,g){this.type=l,this.index=h,this.input=g}static parse(l,h){if(l.length!==3)return h.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const g=h.parse(l[1],1,ot),_=h.parse(l[2],2,se(h.expectedType||nr));return g&&_?new O(_.type.itemType,g,_):null}evaluate(l){const h=this.index.evaluate(l),g=this.input.evaluate(l);if(h<0)throw new Li(`Array index out of bounds: ${h} < 0.`);if(h>=g.length)throw new Li(`Array index out of bounds: ${h} > ${g.length-1}.`);if(h!==Math.floor(h))throw new Li(`Array index must be an integer, but found ${h} instead.`);return g[h]}eachChild(l){l(this.index),l(this.input)}outputDefined(){return!1}}class X{constructor(l,h){this.type=Dt,this.needle=l,this.haystack=h}static parse(l,h){if(l.length!==3)return h.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const g=h.parse(l[1],1,nr),_=h.parse(l[2],2,nr);return g&&_?it(g.type,[Dt,kt,ot,Ar,nr])?new X(g,_):h.error(`Expected first argument to be of type boolean, string, number or null, but found ${de(g.type)} instead`):null}evaluate(l){const h=this.needle.evaluate(l),g=this.haystack.evaluate(l);if(!g)return!1;if(!ct(h,["boolean","string","number","null"]))throw new Li(`Expected first argument to be of type boolean, string, number or null, but found ${de(zn(h))} instead.`);if(!ct(g,["string","array"]))throw new Li(`Expected second argument to be of type array or string, but found ${de(zn(g))} instead.`);return g.indexOf(h)>=0}eachChild(l){l(this.needle),l(this.haystack)}outputDefined(){return!0}}class Ce{constructor(l,h,g){this.type=ot,this.needle=l,this.haystack=h,this.fromIndex=g}static parse(l,h){if(l.length<=2||l.length>=5)return h.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const g=h.parse(l[1],1,nr),_=h.parse(l[2],2,nr);if(!g||!_)return null;if(!it(g.type,[Dt,kt,ot,Ar,nr]))return h.error(`Expected first argument to be of type boolean, string, number or null, but found ${de(g.type)} instead`);if(l.length===4){const E=h.parse(l[3],3,ot);return E?new Ce(g,_,E):null}return new Ce(g,_)}evaluate(l){const h=this.needle.evaluate(l),g=this.haystack.evaluate(l);if(!ct(h,["boolean","string","number","null"]))throw new Li(`Expected first argument to be of type boolean, string, number or null, but found ${de(zn(h))} instead.`);let _;if(this.fromIndex&&(_=this.fromIndex.evaluate(l)),ct(g,["string"])){const E=g.indexOf(h,_);return E===-1?-1:[...g.slice(0,E)].length}if(ct(g,["array"]))return g.indexOf(h,_);throw new Li(`Expected second argument to be of type array or string, but found ${de(zn(g))} instead.`)}eachChild(l){l(this.needle),l(this.haystack),this.fromIndex&&l(this.fromIndex)}outputDefined(){return!1}}class Ge{constructor(l,h,g,_,E,T){this.inputType=l,this.type=h,this.input=g,this.cases=_,this.outputs=E,this.otherwise=T}static parse(l,h){if(l.length<5)return h.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if(l.length%2!=1)return h.error("Expected an even number of arguments.");let g,_;h.expectedType&&h.expectedType.kind!=="value"&&(_=h.expectedType);const E={},T=[];for(let H=2;H<l.length-1;H+=2){let J=l[H];const ne=l[H+1];Array.isArray(J)||(J=[J]);const ue=h.concat(H);if(J.length===0)return ue.error("Expected at least one branch label.");for(const Ee of J){if(typeof Ee!="number"&&typeof Ee!="string")return ue.error("Branch labels must be numbers or strings.");if(typeof Ee=="number"&&Math.abs(Ee)>Number.MAX_SAFE_INTEGER)return ue.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof Ee=="number"&&Math.floor(Ee)!==Ee)return ue.error("Numeric branch labels must be integer values.");if(g){if(ue.checkSubtype(g,zn(Ee)))return null}else g=zn(Ee);if(E[String(Ee)]!==void 0)return ue.error("Branch labels must be unique.");E[String(Ee)]=T.length}const xe=h.parse(ne,H,_);if(!xe)return null;_=_||xe.type,T.push(xe)}const D=h.parse(l[1],1,nr);if(!D)return null;const F=h.parse(l[l.length-1],l.length-1,_);return F?D.type.kind!=="value"&&h.concat(1).checkSubtype(g,D.type)?null:new Ge(g,_,D,E,T,F):null}evaluate(l){const h=this.input.evaluate(l);return(zn(h)===this.inputType&&this.outputs[this.cases[h]]||this.otherwise).evaluate(l)}eachChild(l){l(this.input),this.outputs.forEach(l),l(this.otherwise)}outputDefined(){return this.outputs.every(l=>l.outputDefined())&&this.otherwise.outputDefined()}}class st{constructor(l,h,g){this.type=l,this.branches=h,this.otherwise=g}static parse(l,h){if(l.length<4)return h.error(`Expected at least 3 arguments, but found only ${l.length-1}.`);if(l.length%2!=0)return h.error("Expected an odd number of arguments.");let g;h.expectedType&&h.expectedType.kind!=="value"&&(g=h.expectedType);const _=[];for(let T=1;T<l.length-1;T+=2){const D=h.parse(l[T],T,Dt);if(!D)return null;const F=h.parse(l[T+1],T+1,g);if(!F)return null;_.push([D,F]),g=g||F.type}const E=h.parse(l[l.length-1],l.length-1,g);if(!E)return null;if(!g)throw new Error("Can't infer output type");return new st(g,_,E)}evaluate(l){for(const[h,g]of this.branches)if(h.evaluate(l))return g.evaluate(l);return this.otherwise.evaluate(l)}eachChild(l){for(const[h,g]of this.branches)l(h),l(g);l(this.otherwise)}outputDefined(){return this.branches.every(([l,h])=>h.outputDefined())&&this.otherwise.outputDefined()}}class dt{constructor(l,h,g,_){this.type=l,this.input=h,this.beginIndex=g,this.endIndex=_}static parse(l,h){if(l.length<=2||l.length>=5)return h.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const g=h.parse(l[1],1,nr),_=h.parse(l[2],2,ot);if(!g||!_)return null;if(!it(g.type,[se(nr),kt,nr]))return h.error(`Expected first argument to be of type array or string, but found ${de(g.type)} instead`);if(l.length===4){const E=h.parse(l[3],3,ot);return E?new dt(g.type,g,_,E):null}return new dt(g.type,g,_)}evaluate(l){const h=this.input.evaluate(l),g=this.beginIndex.evaluate(l);let _;if(this.endIndex&&(_=this.endIndex.evaluate(l)),ct(h,["string"]))return[...h].slice(g,_).join("");if(ct(h,["array"]))return h.slice(g,_);throw new Li(`Expected first argument to be of type array or string, but found ${de(zn(h))} instead.`)}eachChild(l){l(this.input),l(this.beginIndex),this.endIndex&&l(this.endIndex)}outputDefined(){return!1}}function yt(c,l){const h=c.length-1;let g,_,E=0,T=h,D=0;for(;E<=T;)if(D=Math.floor((E+T)/2),g=c[D],_=c[D+1],g<=l){if(D===h||l<_)return D;E=D+1}else{if(!(g>l))throw new Li("Input is not a number.");T=D-1}return 0}class Xt{constructor(l,h,g){this.type=l,this.input=h,this.labels=[],this.outputs=[];for(const[_,E]of g)this.labels.push(_),this.outputs.push(E)}static parse(l,h){if(l.length-1<4)return h.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return h.error("Expected an even number of arguments.");const g=h.parse(l[1],1,ot);if(!g)return null;const _=[];let E=null;h.expectedType&&h.expectedType.kind!=="value"&&(E=h.expectedType);for(let T=1;T<l.length;T+=2){const D=T===1?-1/0:l[T],F=l[T+1],H=T,J=T+1;if(typeof D!="number")return h.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',H);if(_.length&&_[_.length-1][0]>=D)return h.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',H);const ne=h.parse(F,J,E);if(!ne)return null;E=E||ne.type,_.push([D,ne])}return new Xt(E,g,_)}evaluate(l){const h=this.labels,g=this.outputs;if(h.length===1)return g[0].evaluate(l);const _=this.input.evaluate(l);if(_<=h[0])return g[0].evaluate(l);const E=h.length;return _>=h[E-1]?g[E-1].evaluate(l):g[yt(h,_)].evaluate(l)}eachChild(l){l(this.input);for(const h of this.outputs)l(h)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}}function tr(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var mr=pr;function pr(c,l,h,g){this.cx=3*c,this.bx=3*(h-c)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*l,this.by=3*(g-l)-this.cy,this.ay=1-this.cy-this.by,this.p1x=c,this.p1y=l,this.p2x=h,this.p2y=g}pr.prototype={sampleCurveX:function(c){return((this.ax*c+this.bx)*c+this.cx)*c},sampleCurveY:function(c){return((this.ay*c+this.by)*c+this.cy)*c},sampleCurveDerivativeX:function(c){return(3*this.ax*c+2*this.bx)*c+this.cx},solveCurveX:function(c,l){if(l===void 0&&(l=1e-6),c<0)return 0;if(c>1)return 1;for(var h=c,g=0;g<8;g++){var _=this.sampleCurveX(h)-c;if(Math.abs(_)<l)return h;var E=this.sampleCurveDerivativeX(h);if(Math.abs(E)<1e-6)break;h-=_/E}var T=0,D=1;for(h=c,g=0;g<20&&(_=this.sampleCurveX(h),!(Math.abs(_-c)<l));g++)c>_?T=h:D=h,h=.5*(D-T)+T;return h},solve:function(c,l){return this.sampleCurveY(this.solveCurveX(c,l))}};var dr=tr(mr);function Rr(c,l,h){return c+h*(l-c)}function si(c,l,h){return c.map((g,_)=>Rr(g,l[_],h))}const Gr={number:Rr,color:function(c,l,h,g="rgb"){switch(g){case"rgb":{const[_,E,T,D]=si(c.rgb,l.rgb,h);return new In(_,E,T,D,!1)}case"hcl":{const[_,E,T,D]=c.hcl,[F,H,J,ne]=l.hcl;let ue,xe;if(isNaN(_)||isNaN(F))isNaN(_)?isNaN(F)?ue=NaN:(ue=F,T!==1&&T!==0||(xe=H)):(ue=_,J!==1&&J!==0||(xe=E));else{let _t=F-_;F>_&&_t>180?_t-=360:F<_&&_-F>180&&(_t+=360),ue=_+h*_t}const[Ee,Me,He,Qe]=function([_t,ft,vt,Rt]){return _t=isNaN(_t)?0:_t*Ot,yr([vt,Math.cos(_t)*ft,Math.sin(_t)*ft,Rt])}([ue,xe??Rr(E,H,h),Rr(T,J,h),Rr(D,ne,h)]);return new In(Ee,Me,He,Qe,!1)}case"lab":{const[_,E,T,D]=yr(si(c.lab,l.lab,h));return new In(_,E,T,D,!1)}}},array:si,padding:function(c,l,h){return new eo(si(c.values,l.values,h))},variableAnchorOffsetCollection:function(c,l,h){const g=c.values,_=l.values;if(g.length!==_.length)throw new Li(`Cannot interpolate values of different length. from: ${c.toString()}, to: ${l.toString()}`);const E=[];for(let T=0;T<g.length;T+=2){if(g[T]!==_[T])throw new Li(`Cannot interpolate values containing mismatched anchors. from[${T}]: ${g[T]}, to[${T}]: ${_[T]}`);E.push(g[T]);const[D,F]=g[T+1],[H,J]=_[T+1];E.push([Rr(D,H,h),Rr(F,J,h)])}return new xn(E)}};class Sr{constructor(l,h,g,_,E){this.type=l,this.operator=h,this.interpolation=g,this.input=_,this.labels=[],this.outputs=[];for(const[T,D]of E)this.labels.push(T),this.outputs.push(D)}static interpolationFactor(l,h,g,_){let E=0;if(l.name==="exponential")E=Ut(h,l.base,g,_);else if(l.name==="linear")E=Ut(h,1,g,_);else if(l.name==="cubic-bezier"){const T=l.controlPoints;E=new dr(T[0],T[1],T[2],T[3]).solve(Ut(h,1,g,_))}return E}static parse(l,h){let[g,_,E,...T]=l;if(!Array.isArray(_)||_.length===0)return h.error("Expected an interpolation type expression.",1);if(_[0]==="linear")_={name:"linear"};else if(_[0]==="exponential"){const H=_[1];if(typeof H!="number")return h.error("Exponential interpolation requires a numeric base.",1,1);_={name:"exponential",base:H}}else{if(_[0]!=="cubic-bezier")return h.error(`Unknown interpolation type ${String(_[0])}`,1,0);{const H=_.slice(1);if(H.length!==4||H.some(J=>typeof J!="number"||J<0||J>1))return h.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);_={name:"cubic-bezier",controlPoints:H}}}if(l.length-1<4)return h.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return h.error("Expected an even number of arguments.");if(E=h.parse(E,2,ot),!E)return null;const D=[];let F=null;g==="interpolate-hcl"||g==="interpolate-lab"?F=cr:h.expectedType&&h.expectedType.kind!=="value"&&(F=h.expectedType);for(let H=0;H<T.length;H+=2){const J=T[H],ne=T[H+1],ue=H+3,xe=H+4;if(typeof J!="number")return h.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ue);if(D.length&&D[D.length-1][0]>=J)return h.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',ue);const Ee=h.parse(ne,xe,F);if(!Ee)return null;F=F||Ee.type,D.push([J,Ee])}return pe(F,ot)||pe(F,cr)||pe(F,hi)||pe(F,je)||pe(F,se(ot))?new Sr(F,g,_,E,D):h.error(`Type ${de(F)} is not interpolatable.`)}evaluate(l){const h=this.labels,g=this.outputs;if(h.length===1)return g[0].evaluate(l);const _=this.input.evaluate(l);if(_<=h[0])return g[0].evaluate(l);const E=h.length;if(_>=h[E-1])return g[E-1].evaluate(l);const T=yt(h,_),D=Sr.interpolationFactor(this.interpolation,_,h[T],h[T+1]),F=g[T].evaluate(l),H=g[T+1].evaluate(l);switch(this.operator){case"interpolate":return Gr[this.type.kind](F,H,D);case"interpolate-hcl":return Gr.color(F,H,D,"hcl");case"interpolate-lab":return Gr.color(F,H,D,"lab")}}eachChild(l){l(this.input);for(const h of this.outputs)l(h)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}}function Ut(c,l,h,g){const _=g-h,E=c-h;return _===0?0:l===1?E/_:(Math.pow(l,E)-1)/(Math.pow(l,_)-1)}class Dr{constructor(l,h){this.type=l,this.args=h}static parse(l,h){if(l.length<2)return h.error("Expectected at least one argument.");let g=null;const _=h.expectedType;_&&_.kind!=="value"&&(g=_);const E=[];for(const D of l.slice(1)){const F=h.parse(D,1+E.length,g,void 0,{typeAnnotation:"omit"});if(!F)return null;g=g||F.type,E.push(F)}if(!g)throw new Error("No output type");const T=_&&E.some(D=>ze(_,D.type));return new Dr(T?nr:g,E)}evaluate(l){let h,g=null,_=0;for(const E of this.args)if(_++,g=E.evaluate(l),g&&g instanceof Wn&&!g.available&&(h||(h=g.name),g=null,_===this.args.length&&(g=h)),g!==null)break;return g}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}function Cn(c,l){return c==="=="||c==="!="?l.kind==="boolean"||l.kind==="string"||l.kind==="number"||l.kind==="null"||l.kind==="value":l.kind==="string"||l.kind==="number"||l.kind==="value"}function Gi(c,l,h,g){return g.compare(l,h)===0}function pi(c,l,h){const g=c!=="=="&&c!=="!=";return class dB{constructor(E,T,D){this.type=Dt,this.lhs=E,this.rhs=T,this.collator=D,this.hasUntypedArgument=E.type.kind==="value"||T.type.kind==="value"}static parse(E,T){if(E.length!==3&&E.length!==4)return T.error("Expected two or three arguments.");const D=E[0];let F=T.parse(E[1],1,nr);if(!F)return null;if(!Cn(D,F.type))return T.concat(1).error(`"${D}" comparisons are not supported for type '${de(F.type)}'.`);let H=T.parse(E[2],2,nr);if(!H)return null;if(!Cn(D,H.type))return T.concat(2).error(`"${D}" comparisons are not supported for type '${de(H.type)}'.`);if(F.type.kind!==H.type.kind&&F.type.kind!=="value"&&H.type.kind!=="value")return T.error(`Cannot compare types '${de(F.type)}' and '${de(H.type)}'.`);g&&(F.type.kind==="value"&&H.type.kind!=="value"?F=new Xo(H.type,[F]):F.type.kind!=="value"&&H.type.kind==="value"&&(H=new Xo(F.type,[H])));let J=null;if(E.length===4){if(F.type.kind!=="string"&&H.type.kind!=="string"&&F.type.kind!=="value"&&H.type.kind!=="value")return T.error("Cannot use collator to compare non-string types.");if(J=T.parse(E[3],3,ei),!J)return null}return new dB(F,H,J)}evaluate(E){const T=this.lhs.evaluate(E),D=this.rhs.evaluate(E);if(g&&this.hasUntypedArgument){const F=zn(T),H=zn(D);if(F.kind!==H.kind||F.kind!=="string"&&F.kind!=="number")throw new Li(`Expected arguments for "${c}" to be (string, string) or (number, number), but found (${F.kind}, ${H.kind}) instead.`)}if(this.collator&&!g&&this.hasUntypedArgument){const F=zn(T),H=zn(D);if(F.kind!=="string"||H.kind!=="string")return l(E,T,D)}return this.collator?h(E,T,D,this.collator.evaluate(E)):l(E,T,D)}eachChild(E){E(this.lhs),E(this.rhs),this.collator&&E(this.collator)}outputDefined(){return!0}}}const Ll=pi("==",function(c,l,h){return l===h},Gi),Ku=pi("!=",function(c,l,h){return l!==h},function(c,l,h,g){return!Gi(0,l,h,g)}),mi=pi("<",function(c,l,h){return l<h},function(c,l,h,g){return g.compare(l,h)<0}),pd=pi(">",function(c,l,h){return l>h},function(c,l,h,g){return g.compare(l,h)>0}),dh=pi("<=",function(c,l,h){return l<=h},function(c,l,h,g){return g.compare(l,h)<=0}),Ca=pi(">=",function(c,l,h){return l>=h},function(c,l,h,g){return g.compare(l,h)>=0});class Qa{constructor(l,h,g){this.type=ei,this.locale=g,this.caseSensitive=l,this.diacriticSensitive=h}static parse(l,h){if(l.length!==2)return h.error("Expected one argument.");const g=l[1];if(typeof g!="object"||Array.isArray(g))return h.error("Collator options argument must be an object.");const _=h.parse(g["case-sensitive"]!==void 0&&g["case-sensitive"],1,Dt);if(!_)return null;const E=h.parse(g["diacritic-sensitive"]!==void 0&&g["diacritic-sensitive"],1,Dt);if(!E)return null;let T=null;return g.locale&&(T=h.parse(g.locale,1,kt),!T)?null:new Qa(_,E,T)}evaluate(l){return new ja(this.caseSensitive.evaluate(l),this.diacriticSensitive.evaluate(l),this.locale?this.locale.evaluate(l):null)}eachChild(l){l(this.caseSensitive),l(this.diacriticSensitive),this.locale&&l(this.locale)}outputDefined(){return!1}}class ys{constructor(l,h,g,_,E){this.type=kt,this.number=l,this.locale=h,this.currency=g,this.minFractionDigits=_,this.maxFractionDigits=E}static parse(l,h){if(l.length!==3)return h.error("Expected two arguments.");const g=h.parse(l[1],1,ot);if(!g)return null;const _=l[2];if(typeof _!="object"||Array.isArray(_))return h.error("NumberFormat options argument must be an object.");let E=null;if(_.locale&&(E=h.parse(_.locale,1,kt),!E))return null;let T=null;if(_.currency&&(T=h.parse(_.currency,1,kt),!T))return null;let D=null;if(_["min-fraction-digits"]&&(D=h.parse(_["min-fraction-digits"],1,ot),!D))return null;let F=null;return _["max-fraction-digits"]&&(F=h.parse(_["max-fraction-digits"],1,ot),!F)?null:new ys(g,E,T,D,F)}evaluate(l){return new Intl.NumberFormat(this.locale?this.locale.evaluate(l):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(l):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(l):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(l):void 0}).format(this.number.evaluate(l))}eachChild(l){l(this.number),this.locale&&l(this.locale),this.currency&&l(this.currency),this.minFractionDigits&&l(this.minFractionDigits),this.maxFractionDigits&&l(this.maxFractionDigits)}outputDefined(){return!1}}class pu{constructor(l){this.type=On,this.sections=l}static parse(l,h){if(l.length<2)return h.error("Expected at least one argument.");const g=l[1];if(!Array.isArray(g)&&typeof g=="object")return h.error("First argument must be an image or text section.");const _=[];let E=!1;for(let T=1;T<=l.length-1;++T){const D=l[T];if(E&&typeof D=="object"&&!Array.isArray(D)){E=!1;let F=null;if(D["font-scale"]&&(F=h.parse(D["font-scale"],1,ot),!F))return null;let H=null;if(D["text-font"]&&(H=h.parse(D["text-font"],1,se(kt)),!H))return null;let J=null;if(D["text-color"]&&(J=h.parse(D["text-color"],1,cr),!J))return null;const ne=_[_.length-1];ne.scale=F,ne.font=H,ne.textColor=J}else{const F=h.parse(l[T],1,nr);if(!F)return null;const H=F.type.kind;if(H!=="string"&&H!=="value"&&H!=="null"&&H!=="resolvedImage")return h.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");E=!0,_.push({content:F,scale:null,font:null,textColor:null})}}return new pu(_)}evaluate(l){return new Ln(this.sections.map(h=>{const g=h.content.evaluate(l);return zn(g)===Vn?new To("",g,null,null,null):new To(ai(g),null,h.scale?h.scale.evaluate(l):null,h.font?h.font.evaluate(l).join(","):null,h.textColor?h.textColor.evaluate(l):null)}))}eachChild(l){for(const h of this.sections)l(h.content),h.scale&&l(h.scale),h.font&&l(h.font),h.textColor&&l(h.textColor)}outputDefined(){return!1}}class vs{constructor(l){this.type=Vn,this.input=l}static parse(l,h){if(l.length!==2)return h.error("Expected two arguments.");const g=h.parse(l[1],1,kt);return g?new vs(g):h.error("No image name provided.")}evaluate(l){const h=this.input.evaluate(l),g=Wn.fromString(h);return g&&l.availableImages&&(g.available=l.availableImages.indexOf(h)>-1),g}eachChild(l){l(this.input)}outputDefined(){return!1}}class Ml{constructor(l){this.type=ot,this.input=l}static parse(l,h){if(l.length!==2)return h.error(`Expected 1 argument, but found ${l.length-1} instead.`);const g=h.parse(l[1],1);return g?g.type.kind!=="array"&&g.type.kind!=="string"&&g.type.kind!=="value"?h.error(`Expected argument of type string or array, but found ${de(g.type)} instead.`):new Ml(g):null}evaluate(l){const h=this.input.evaluate(l);if(typeof h=="string")return[...h].length;if(Array.isArray(h))return h.length;throw new Li(`Expected value to be of type string or array, but found ${de(zn(h))} instead.`)}eachChild(l){l(this.input)}outputDefined(){return!1}}const Zo=8192;function md(c,l){const h=(180+c[0])/360,g=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+c[1]*Math.PI/360)))/360,_=Math.pow(2,l.z);return[Math.round(h*_*Zo),Math.round(g*_*Zo)]}function Xu(c,l){const h=Math.pow(2,l.z);return[(_=(c[0]/Zo+l.x)/h,360*_-180),(g=(c[1]/Zo+l.y)/h,360/Math.PI*Math.atan(Math.exp((180-360*g)*Math.PI/180))-90)];var g,_}function Fs(c,l){c[0]=Math.min(c[0],l[0]),c[1]=Math.min(c[1],l[1]),c[2]=Math.max(c[2],l[0]),c[3]=Math.max(c[3],l[1])}function es(c,l){return!(c[0]<=l[0]||c[2]>=l[2]||c[1]<=l[1]||c[3]>=l[3])}function En(c,l,h){const g=c[0]-l[0],_=c[1]-l[1],E=c[0]-h[0],T=c[1]-h[1];return g*T-E*_==0&&g*E<=0&&_*T<=0}function ts(c,l,h,g){return(_=[g[0]-h[0],g[1]-h[1]])[0]*(E=[l[0]-c[0],l[1]-c[1]])[1]-_[1]*E[0]!=0&&!(!Va(c,l,h,g)||!Va(h,g,c,l));var _,E}function hh(c,l,h){for(const g of h)for(let _=0;_<g.length-1;++_)if(ts(c,l,g[_],g[_+1]))return!0;return!1}function Ua(c,l,h=!1){let g=!1;for(const D of l)for(let F=0;F<D.length-1;F++){if(En(c,D[F],D[F+1]))return h;(E=D[F])[1]>(_=c)[1]!=(T=D[F+1])[1]>_[1]&&_[0]<(T[0]-E[0])*(_[1]-E[1])/(T[1]-E[1])+E[0]&&(g=!g)}var _,E,T;return g}function Ea(c,l){for(const h of l)if(Ua(c,h))return!0;return!1}function Rl(c,l){for(const h of c)if(!Ua(h,l))return!1;for(let h=0;h<c.length-1;++h)if(hh(c[h],c[h+1],l))return!1;return!0}function Dl(c,l){for(const h of l)if(Rl(c,h))return!0;return!1}function Va(c,l,h,g){const _=g[0]-h[0],E=g[1]-h[1],T=(c[0]-h[0])*E-_*(c[1]-h[1]),D=(l[0]-h[0])*E-_*(l[1]-h[1]);return T>0&&D<0||T<0&&D>0}function hl(c,l,h){const g=[];for(let _=0;_<c.length;_++){const E=[];for(let T=0;T<c[_].length;T++){const D=md(c[_][T],h);Fs(l,D),E.push(D)}g.push(E)}return g}function Lc(c,l,h){const g=[];for(let _=0;_<c.length;_++){const E=hl(c[_],l,h);g.push(E)}return g}function Zu(c,l,h,g){if(c[0]<h[0]||c[0]>h[2]){const _=.5*g;let E=c[0]-h[0]>_?-g:h[0]-c[0]>_?g:0;E===0&&(E=c[0]-h[2]>_?-g:h[2]-c[0]>_?g:0),c[0]+=E}Fs(l,c)}function mu(c,l,h,g){const _=Math.pow(2,g.z)*Zo,E=[g.x*Zo,g.y*Zo],T=[];for(const D of c)for(const F of D){const H=[F.x+E[0],F.y+E[1]];Zu(H,l,h,_),T.push(H)}return T}function Ol(c,l,h,g){const _=Math.pow(2,g.z)*Zo,E=[g.x*Zo,g.y*Zo],T=[];for(const F of c){const H=[];for(const J of F){const ne=[J.x+E[0],J.y+E[1]];Fs(l,ne),H.push(ne)}T.push(H)}if(l[2]-l[0]<=_/2){(D=l)[0]=D[1]=1/0,D[2]=D[3]=-1/0;for(const F of T)for(const H of F)Zu(H,l,h,_)}var D;return T}class qa{constructor(l,h){this.type=Dt,this.geojson=l,this.geometries=h}static parse(l,h){if(l.length!==2)return h.error(`'within' expression requires exactly one argument, but found ${l.length-1} instead.`);if(Rn(l[1])){const g=l[1];if(g.type==="FeatureCollection"){const _=[];for(const E of g.features){const{type:T,coordinates:D}=E.geometry;T==="Polygon"&&_.push(D),T==="MultiPolygon"&&_.push(...D)}if(_.length)return new qa(g,{type:"MultiPolygon",coordinates:_})}else if(g.type==="Feature"){const _=g.geometry.type;if(_==="Polygon"||_==="MultiPolygon")return new qa(g,g.geometry)}else if(g.type==="Polygon"||g.type==="MultiPolygon")return new qa(g,g)}return h.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(l){if(l.geometry()!=null&&l.canonicalID()!=null){if(l.geometryType()==="Point")return function(h,g){const _=[1/0,1/0,-1/0,-1/0],E=[1/0,1/0,-1/0,-1/0],T=h.canonicalID();if(g.type==="Polygon"){const D=hl(g.coordinates,E,T),F=mu(h.geometry(),_,E,T);if(!es(_,E))return!1;for(const H of F)if(!Ua(H,D))return!1}if(g.type==="MultiPolygon"){const D=Lc(g.coordinates,E,T),F=mu(h.geometry(),_,E,T);if(!es(_,E))return!1;for(const H of F)if(!Ea(H,D))return!1}return!0}(l,this.geometries);if(l.geometryType()==="LineString")return function(h,g){const _=[1/0,1/0,-1/0,-1/0],E=[1/0,1/0,-1/0,-1/0],T=h.canonicalID();if(g.type==="Polygon"){const D=hl(g.coordinates,E,T),F=Ol(h.geometry(),_,E,T);if(!es(_,E))return!1;for(const H of F)if(!Rl(H,D))return!1}if(g.type==="MultiPolygon"){const D=Lc(g.coordinates,E,T),F=Ol(h.geometry(),_,E,T);if(!es(_,E))return!1;for(const H of F)if(!Dl(H,D))return!1}return!0}(l,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let gu=class{constructor(c=[],l=(h,g)=>h<g?-1:h>g?1:0){if(this.data=c,this.length=this.data.length,this.compare=l,this.length>0)for(let h=(this.length>>1)-1;h>=0;h--)this._down(h)}push(c){this.data.push(c),this._up(this.length++)}pop(){if(this.length===0)return;const c=this.data[0],l=this.data.pop();return--this.length>0&&(this.data[0]=l,this._down(0)),c}peek(){return this.data[0]}_up(c){const{data:l,compare:h}=this,g=l[c];for(;c>0;){const _=c-1>>1,E=l[_];if(h(g,E)>=0)break;l[c]=E,c=_}l[c]=g}_down(c){const{data:l,compare:h}=this,g=this.length>>1,_=l[c];for(;c<g;){let E=1+(c<<1);const T=E+1;if(T<this.length&&h(l[T],l[E])<0&&(E=T),h(l[E],_)>=0)break;l[c]=l[E],c=E}l[c]=_}};function Mc(c,l,h,g,_){bs(c,l,h,g||c.length-1,_||Yu)}function bs(c,l,h,g,_){for(;g>h;){if(g-h>600){var E=g-h+1,T=l-h+1,D=Math.log(E),F=.5*Math.exp(2*D/3),H=.5*Math.sqrt(D*F*(E-F)/E)*(T-E/2<0?-1:1);bs(c,l,Math.max(h,Math.floor(l-T*F/E+H)),Math.min(g,Math.floor(l+(E-T)*F/E+H)),_)}var J=c[l],ne=h,ue=g;for(Nl(c,h,l),_(c[g],J)>0&&Nl(c,h,g);ne<ue;){for(Nl(c,ne,ue),ne++,ue--;_(c[ne],J)<0;)ne++;for(;_(c[ue],J)>0;)ue--}_(c[h],J)===0?Nl(c,h,ue):Nl(c,++ue,g),ue<=l&&(h=ue+1),l<=ue&&(g=ue-1)}}function Nl(c,l,h){var g=c[l];c[l]=c[h],c[h]=g}function Yu(c,l){return c<l?-1:c>l?1:0}function $s(c,l){if(c.length<=1)return[c];const h=[];let g,_;for(const E of c){const T=rs(E);T!==0&&(E.area=Math.abs(T),_===void 0&&(_=T<0),_===T<0?(g&&h.push(g),g=[E]):g.push(E))}if(g&&h.push(g),l>1)for(let E=0;E<h.length;E++)h[E].length<=l||(Mc(h[E],l,1,h[E].length-1,yu),h[E]=h[E].slice(0,l));return h}function yu(c,l){return l.area-c.area}function rs(c){let l=0;for(let h,g,_=0,E=c.length,T=E-1;_<E;T=_++)h=c[_],g=c[T],l+=(g.x-h.x)*(h.y+g.y);return l}const Fl=1/298.257223563,j=Fl*(2-Fl),be=Math.PI/180;class qe{constructor(l){const h=6378.137*be*1e3,g=Math.cos(l*be),_=1/(1-j*(1-g*g)),E=Math.sqrt(_);this.kx=h*E*g,this.ky=h*E*_*(1-j)}distance(l,h){const g=this.wrap(l[0]-h[0])*this.kx,_=(l[1]-h[1])*this.ky;return Math.sqrt(g*g+_*_)}pointOnLine(l,h){let g,_,E,T,D=1/0;for(let F=0;F<l.length-1;F++){let H=l[F][0],J=l[F][1],ne=this.wrap(l[F+1][0]-H)*this.kx,ue=(l[F+1][1]-J)*this.ky,xe=0;ne===0&&ue===0||(xe=(this.wrap(h[0]-H)*this.kx*ne+(h[1]-J)*this.ky*ue)/(ne*ne+ue*ue),xe>1?(H=l[F+1][0],J=l[F+1][1]):xe>0&&(H+=ne/this.kx*xe,J+=ue/this.ky*xe)),ne=this.wrap(h[0]-H)*this.kx,ue=(h[1]-J)*this.ky;const Ee=ne*ne+ue*ue;Ee<D&&(D=Ee,g=H,_=J,E=F,T=xe)}return{point:[g,_],index:E,t:Math.max(0,Math.min(1,T))}}wrap(l){for(;l<-180;)l+=360;for(;l>180;)l-=360;return l}}function ht(c,l){return l[0]-c[0]}function xt(c){return c[1]-c[0]+1}function Nt(c,l){return c[1]>=c[0]&&c[1]<l}function ir(c,l){if(c[0]>c[1])return[null,null];const h=xt(c);if(l){if(h===2)return[c,null];const _=Math.floor(h/2);return[[c[0],c[0]+_],[c[0]+_,c[1]]]}if(h===1)return[c,null];const g=Math.floor(h/2)-1;return[[c[0],c[0]+g],[c[0]+g+1,c[1]]]}function Pr(c,l){if(!Nt(l,c.length))return[1/0,1/0,-1/0,-1/0];const h=[1/0,1/0,-1/0,-1/0];for(let g=l[0];g<=l[1];++g)Fs(h,c[g]);return h}function Yr(c){const l=[1/0,1/0,-1/0,-1/0];for(const h of c)for(const g of h)Fs(l,g);return l}function fn(c){return c[0]!==-1/0&&c[1]!==-1/0&&c[2]!==1/0&&c[3]!==1/0}function pn(c,l,h){if(!fn(c)||!fn(l))return NaN;let g=0,_=0;return c[2]<l[0]&&(g=l[0]-c[2]),c[0]>l[2]&&(g=c[0]-l[2]),c[1]>l[3]&&(_=c[1]-l[3]),c[3]<l[1]&&(_=l[1]-c[3]),h.distance([0,0],[g,_])}function mn(c,l,h){const g=h.pointOnLine(l,c);return h.distance(c,g.point)}function Xn(c,l,h,g,_){const E=Math.min(mn(c,[h,g],_),mn(l,[h,g],_)),T=Math.min(mn(h,[c,l],_),mn(g,[c,l],_));return Math.min(E,T)}function Ai(c,l,h,g,_){if(!Nt(l,c.length)||!Nt(g,h.length))return 1/0;let E=1/0;for(let T=l[0];T<l[1];++T){const D=c[T],F=c[T+1];for(let H=g[0];H<g[1];++H){const J=h[H],ne=h[H+1];if(ts(D,F,J,ne))return 0;E=Math.min(E,Xn(D,F,J,ne,_))}}return E}function gn(c,l,h,g,_){if(!Nt(l,c.length)||!Nt(g,h.length))return NaN;let E=1/0;for(let T=l[0];T<=l[1];++T)for(let D=g[0];D<=g[1];++D)if(E=Math.min(E,_.distance(c[T],h[D])),E===0)return E;return E}function Yo(c,l,h){if(Ua(c,l,!0))return 0;let g=1/0;for(const _ of l){const E=_[0],T=_[_.length-1];if(E!==T&&(g=Math.min(g,mn(c,[T,E],h)),g===0))return g;const D=h.pointOnLine(_,c);if(g=Math.min(g,h.distance(c,D.point)),g===0)return g}return g}function qr(c,l,h,g){if(!Nt(l,c.length))return NaN;for(let E=l[0];E<=l[1];++E)if(Ua(c[E],h,!0))return 0;let _=1/0;for(let E=l[0];E<l[1];++E){const T=c[E],D=c[E+1];for(const F of h)for(let H=0,J=F.length,ne=J-1;H<J;ne=H++){const ue=F[ne],xe=F[H];if(ts(T,D,ue,xe))return 0;_=Math.min(_,Xn(T,D,ue,xe,g))}}return _}function Po(c,l){for(const h of c)for(const g of h)if(Ua(g,l,!0))return!0;return!1}function Tn(c,l,h,g=1/0){const _=Yr(c),E=Yr(l);if(g!==1/0&&pn(_,E,h)>=g)return g;if(es(_,E)){if(Po(c,l))return 0}else if(Po(l,c))return 0;let T=1/0;for(const D of c)for(let F=0,H=D.length,J=H-1;F<H;J=F++){const ne=D[J],ue=D[F];for(const xe of l)for(let Ee=0,Me=xe.length,He=Me-1;Ee<Me;He=Ee++){const Qe=xe[He],_t=xe[Ee];if(ts(ne,ue,Qe,_t))return 0;T=Math.min(T,Xn(ne,ue,Qe,_t,h))}}return T}function Fn(c,l,h,g,_,E){if(!E)return;const T=pn(Pr(g,E),_,h);T<l&&c.push([T,E,[0,0]])}function Bs(c,l,h,g,_,E,T){if(!E||!T)return;const D=pn(Pr(g,E),Pr(_,T),h);D<l&&c.push([D,E,T])}function fl(c,l,h,g,_=1/0){let E=Math.min(g.distance(c[0],h[0][0]),_);if(E===0)return E;const T=new gu([[0,[0,c.length-1],[0,0]]],ht),D=Yr(h);for(;T.length>0;){const F=T.pop();if(F[0]>=E)continue;const H=F[1],J=l?50:100;if(xt(H)<=J){if(!Nt(H,c.length))return NaN;if(l){const ne=qr(c,H,h,g);if(isNaN(ne)||ne===0)return ne;E=Math.min(E,ne)}else for(let ne=H[0];ne<=H[1];++ne){const ue=Yo(c[ne],h,g);if(E=Math.min(E,ue),E===0)return 0}}else{const ne=ir(H,l);Fn(T,E,g,c,D,ne[0]),Fn(T,E,g,c,D,ne[1])}}return E}function zs(c,l,h,g,_,E=1/0){let T=Math.min(E,_.distance(c[0],h[0]));if(T===0)return T;const D=new gu([[0,[0,c.length-1],[0,h.length-1]]],ht);for(;D.length>0;){const F=D.pop();if(F[0]>=T)continue;const H=F[1],J=F[2],ne=l?50:100,ue=g?50:100;if(xt(H)<=ne&&xt(J)<=ue){if(!Nt(H,c.length)&&Nt(J,h.length))return NaN;let xe;if(l&&g)xe=Ai(c,H,h,J,_),T=Math.min(T,xe);else if(l&&!g){const Ee=c.slice(H[0],H[1]+1);for(let Me=J[0];Me<=J[1];++Me)if(xe=mn(h[Me],Ee,_),T=Math.min(T,xe),T===0)return T}else if(!l&&g){const Ee=h.slice(J[0],J[1]+1);for(let Me=H[0];Me<=H[1];++Me)if(xe=mn(c[Me],Ee,_),T=Math.min(T,xe),T===0)return T}else xe=gn(c,H,h,J,_),T=Math.min(T,xe)}else{const xe=ir(H,l),Ee=ir(J,g);Bs(D,T,_,c,h,xe[0],Ee[0]),Bs(D,T,_,c,h,xe[0],Ee[1]),Bs(D,T,_,c,h,xe[1],Ee[0]),Bs(D,T,_,c,h,xe[1],Ee[1])}}return T}function pl(c){return c.type==="MultiPolygon"?c.coordinates.map(l=>({type:"Polygon",coordinates:l})):c.type==="MultiLineString"?c.coordinates.map(l=>({type:"LineString",coordinates:l})):c.type==="MultiPoint"?c.coordinates.map(l=>({type:"Point",coordinates:l})):[c]}class Aa{constructor(l,h){this.type=ot,this.geojson=l,this.geometries=h}static parse(l,h){if(l.length!==2)return h.error(`'distance' expression requires exactly one argument, but found ${l.length-1} instead.`);if(Rn(l[1])){const g=l[1];if(g.type==="FeatureCollection")return new Aa(g,g.features.map(_=>pl(_.geometry)).flat());if(g.type==="Feature")return new Aa(g,pl(g.geometry));if("type"in g&&"coordinates"in g)return new Aa(g,pl(g))}return h.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(l){if(l.geometry()!=null&&l.canonicalID()!=null){if(l.geometryType()==="Point")return function(h,g){const _=h.geometry(),E=_.flat().map(F=>Xu([F.x,F.y],h.canonical));if(_.length===0)return NaN;const T=new qe(E[0][1]);let D=1/0;for(const F of g){switch(F.type){case"Point":D=Math.min(D,zs(E,!1,[F.coordinates],!1,T,D));break;case"LineString":D=Math.min(D,zs(E,!1,F.coordinates,!0,T,D));break;case"Polygon":D=Math.min(D,fl(E,!1,F.coordinates,T,D))}if(D===0)return D}return D}(l,this.geometries);if(l.geometryType()==="LineString")return function(h,g){const _=h.geometry(),E=_.flat().map(F=>Xu([F.x,F.y],h.canonical));if(_.length===0)return NaN;const T=new qe(E[0][1]);let D=1/0;for(const F of g){switch(F.type){case"Point":D=Math.min(D,zs(E,!0,[F.coordinates],!1,T,D));break;case"LineString":D=Math.min(D,zs(E,!0,F.coordinates,!0,T,D));break;case"Polygon":D=Math.min(D,fl(E,!0,F.coordinates,T,D))}if(D===0)return D}return D}(l,this.geometries);if(l.geometryType()==="Polygon")return function(h,g){const _=h.geometry();if(_.length===0||_[0].length===0)return NaN;const E=$s(_,0).map(F=>F.map(H=>H.map(J=>Xu([J.x,J.y],h.canonical)))),T=new qe(E[0][0][0][1]);let D=1/0;for(const F of g)for(const H of E){switch(F.type){case"Point":D=Math.min(D,fl([F.coordinates],!1,H,T,D));break;case"LineString":D=Math.min(D,fl(F.coordinates,!0,H,T,D));break;case"Polygon":D=Math.min(D,Tn(H,F.coordinates,T,D))}if(D===0)return D}return D}(l,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}const da={"==":Ll,"!=":Ku,">":pd,"<":mi,">=":Ca,"<=":dh,array:Xo,at:O,boolean:Xo,case:st,coalesce:Dr,collator:Qa,format:pu,image:vs,in:X,"index-of":Ce,interpolate:Sr,"interpolate-hcl":Sr,"interpolate-lab":Sr,length:Ml,let:gs,literal:Ko,match:Ge,number:Xo,"number-format":ys,object:Xo,slice:dt,step:Xt,string:Xo,"to-boolean":Wi,"to-color":Wi,"to-number":Wi,"to-string":Wi,var:Nn,within:qa,distance:Aa};class Bo{constructor(l,h,g,_){this.name=l,this.type=h,this._evaluate=g,this.args=_}evaluate(l){return this._evaluate(l,this.args)}eachChild(l){this.args.forEach(l)}outputDefined(){return!1}static parse(l,h){const g=l[0],_=Bo.definitions[g];if(!_)return h.error(`Unknown expression "${g}". If you wanted a literal array, use ["literal", [...]].`,0);const E=Array.isArray(_)?_[0]:_.type,T=Array.isArray(_)?[[_[1],_[2]]]:_.overloads,D=T.filter(([H])=>!Array.isArray(H)||H.length===l.length-1);let F=null;for(const[H,J]of D){F=new ms(h.registry,ml,h.path,null,h.scope);const ne=[];let ue=!1;for(let xe=1;xe<l.length;xe++){const Ee=l[xe],Me=Array.isArray(H)?H[xe-1]:H.type,He=F.parse(Ee,1+ne.length,Me);if(!He){ue=!0;break}ne.push(He)}if(!ue)if(Array.isArray(H)&&H.length!==ne.length)F.error(`Expected ${H.length} arguments, but found ${ne.length} instead.`);else{for(let xe=0;xe<ne.length;xe++){const Ee=Array.isArray(H)?H[xe]:H.type,Me=ne[xe];F.concat(xe+1).checkSubtype(Ee,Me.type)}if(F.errors.length===0)return new Bo(g,E,J,ne)}}if(D.length===1)h.errors.push(...F.errors);else{const H=(D.length?D:T).map(([ne])=>{return ue=ne,Array.isArray(ue)?`(${ue.map(de).join(", ")})`:`(${de(ue.type)}...)`;var ue}).join(" | "),J=[];for(let ne=1;ne<l.length;ne++){const ue=h.parse(l[ne],1+J.length);if(!ue)return null;J.push(de(ue.type))}h.error(`Expected arguments of type ${H}, but found (${J.join(", ")}) instead.`)}return null}static register(l,h){Bo.definitions=h;for(const g in h)l[g]=Bo}}function Oi(c,[l,h,g,_]){l=l.evaluate(c),h=h.evaluate(c),g=g.evaluate(c);const E=_?_.evaluate(c):1,T=Fo(l,h,g,E);if(T)throw new Li(T);return new In(l/255,h/255,g/255,E,!1)}function $l(c,l){return c in l}function Ta(c,l){const h=l[c];return h===void 0?null:h}function Ha(c){return{type:c}}function ml(c){if(c instanceof Nn)return ml(c.boundExpression);if(c instanceof Bo&&c.name==="error"||c instanceof Qa||c instanceof qa||c instanceof Aa)return!1;const l=c instanceof Wi||c instanceof Xo;let h=!0;return c.eachChild(g=>{h=l?h&&ml(g):h&&g instanceof Ko}),!!h&&to(c)&&Us(c,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function to(c){if(c instanceof Bo&&(c.name==="get"&&c.args.length===1||c.name==="feature-state"||c.name==="has"&&c.args.length===1||c.name==="properties"||c.name==="geometry-type"||c.name==="id"||/^filter-/.test(c.name))||c instanceof qa||c instanceof Aa)return!1;let l=!0;return c.eachChild(h=>{l&&!to(h)&&(l=!1)}),l}function js(c){if(c instanceof Bo&&c.name==="feature-state")return!1;let l=!0;return c.eachChild(h=>{l&&!js(h)&&(l=!1)}),l}function Us(c,l){if(c instanceof Bo&&l.indexOf(c.name)>=0)return!1;let h=!0;return c.eachChild(g=>{h&&!Us(g,l)&&(h=!1)}),h}function Bl(c){return{result:"success",value:c}}function zo(c){return{result:"error",value:c}}function Pa(c){return c["property-type"]==="data-driven"||c["property-type"]==="cross-faded-data-driven"}function Rc(c){return!!c.expression&&c.expression.parameters.indexOf("zoom")>-1}function Dc(c){return!!c.expression&&c.expression.interpolated}function at(c){return c instanceof Number?"number":c instanceof String?"string":c instanceof Boolean?"boolean":Array.isArray(c)?"array":c===null?"null":typeof c}function Tt(c){return typeof c=="object"&&c!==null&&!Array.isArray(c)}function lr(c){return c}function $r(c,l){const h=l.type==="color",g=c.stops&&typeof c.stops[0][0]=="object",_=g||!(g||c.property!==void 0),E=c.type||(Dc(l)?"exponential":"interval");if(h||l.type==="padding"){const J=h?In.parse:eo.parse;(c=gt({},c)).stops&&(c.stops=c.stops.map(ne=>[ne[0],J(ne[1])])),c.default=J(c.default?c.default:l.default)}if(c.colorSpace&&(T=c.colorSpace)!=="rgb"&&T!=="hcl"&&T!=="lab")throw new Error(`Unknown color space: "${c.colorSpace}"`);var T;let D,F,H;if(E==="exponential")D=Zn;else if(E==="interval")D=ti;else if(E==="categorical"){D=bn,F=Object.create(null);for(const J of c.stops)F[J[0]]=J[1];H=typeof c.stops[0][0]}else{if(E!=="identity")throw new Error(`Unknown function type "${E}"`);D=jo}if(g){const J={},ne=[];for(let Ee=0;Ee<c.stops.length;Ee++){const Me=c.stops[Ee],He=Me[0].zoom;J[He]===void 0&&(J[He]={zoom:He,type:c.type,property:c.property,default:c.default,stops:[]},ne.push(He)),J[He].stops.push([Me[0].value,Me[1]])}const ue=[];for(const Ee of ne)ue.push([J[Ee].zoom,$r(J[Ee],l)]);const xe={name:"linear"};return{kind:"composite",interpolationType:xe,interpolationFactor:Sr.interpolationFactor.bind(void 0,xe),zoomStops:ue.map(Ee=>Ee[0]),evaluate:({zoom:Ee},Me)=>Zn({stops:ue,base:c.base},l,Ee).evaluate(Ee,Me)}}if(_){const J=E==="exponential"?{name:"exponential",base:c.base!==void 0?c.base:1}:null;return{kind:"camera",interpolationType:J,interpolationFactor:Sr.interpolationFactor.bind(void 0,J),zoomStops:c.stops.map(ne=>ne[0]),evaluate:({zoom:ne})=>D(c,l,ne,F,H)}}return{kind:"source",evaluate(J,ne){const ue=ne&&ne.properties?ne.properties[c.property]:void 0;return ue===void 0?Dn(c.default,l.default):D(c,l,ue,F,H)}}}function Dn(c,l,h){return c!==void 0?c:l!==void 0?l:h!==void 0?h:void 0}function bn(c,l,h,g,_){return Dn(typeof h===_?g[h]:void 0,c.default,l.default)}function ti(c,l,h){if(at(h)!=="number")return Dn(c.default,l.default);const g=c.stops.length;if(g===1||h<=c.stops[0][0])return c.stops[0][1];if(h>=c.stops[g-1][0])return c.stops[g-1][1];const _=yt(c.stops.map(E=>E[0]),h);return c.stops[_][1]}function Zn(c,l,h){const g=c.base!==void 0?c.base:1;if(at(h)!=="number")return Dn(c.default,l.default);const _=c.stops.length;if(_===1||h<=c.stops[0][0])return c.stops[0][1];if(h>=c.stops[_-1][0])return c.stops[_-1][1];const E=yt(c.stops.map(J=>J[0]),h),T=function(J,ne,ue,xe){const Ee=xe-ue,Me=J-ue;return Ee===0?0:ne===1?Me/Ee:(Math.pow(ne,Me)-1)/(Math.pow(ne,Ee)-1)}(h,g,c.stops[E][0],c.stops[E+1][0]),D=c.stops[E][1],F=c.stops[E+1][1],H=Gr[l.type]||lr;return typeof D.evaluate=="function"?{evaluate(...J){const ne=D.evaluate.apply(void 0,J),ue=F.evaluate.apply(void 0,J);if(ne!==void 0&&ue!==void 0)return H(ne,ue,T,c.colorSpace)}}:H(D,F,T,c.colorSpace)}function jo(c,l,h){switch(l.type){case"color":h=In.parse(h);break;case"formatted":h=Ln.fromString(h.toString());break;case"resolvedImage":h=Wn.fromString(h.toString());break;case"padding":h=eo.parse(h);break;default:at(h)===l.type||l.type==="enum"&&l.values[h]||(h=void 0)}return Dn(h,c.default,l.default)}Bo.register(da,{error:[{kind:"error"},[kt],(c,[l])=>{throw new Li(l.evaluate(c))}],typeof:[kt,[nr],(c,[l])=>de(zn(l.evaluate(c)))],"to-rgba":[se(ot,4),[cr],(c,[l])=>{const[h,g,_,E]=l.evaluate(c).rgb;return[255*h,255*g,255*_,E]}],rgb:[cr,[ot,ot,ot],Oi],rgba:[cr,[ot,ot,ot,ot],Oi],has:{type:Dt,overloads:[[[kt],(c,[l])=>$l(l.evaluate(c),c.properties())],[[kt,Wr],(c,[l,h])=>$l(l.evaluate(c),h.evaluate(c))]]},get:{type:nr,overloads:[[[kt],(c,[l])=>Ta(l.evaluate(c),c.properties())],[[kt,Wr],(c,[l,h])=>Ta(l.evaluate(c),h.evaluate(c))]]},"feature-state":[nr,[kt],(c,[l])=>Ta(l.evaluate(c),c.featureState||{})],properties:[Wr,[],c=>c.properties()],"geometry-type":[kt,[],c=>c.geometryType()],id:[nr,[],c=>c.id()],zoom:[ot,[],c=>c.globals.zoom],"heatmap-density":[ot,[],c=>c.globals.heatmapDensity||0],"line-progress":[ot,[],c=>c.globals.lineProgress||0],accumulated:[nr,[],c=>c.globals.accumulated===void 0?null:c.globals.accumulated],"+":[ot,Ha(ot),(c,l)=>{let h=0;for(const g of l)h+=g.evaluate(c);return h}],"*":[ot,Ha(ot),(c,l)=>{let h=1;for(const g of l)h*=g.evaluate(c);return h}],"-":{type:ot,overloads:[[[ot,ot],(c,[l,h])=>l.evaluate(c)-h.evaluate(c)],[[ot],(c,[l])=>-l.evaluate(c)]]},"/":[ot,[ot,ot],(c,[l,h])=>l.evaluate(c)/h.evaluate(c)],"%":[ot,[ot,ot],(c,[l,h])=>l.evaluate(c)%h.evaluate(c)],ln2:[ot,[],()=>Math.LN2],pi:[ot,[],()=>Math.PI],e:[ot,[],()=>Math.E],"^":[ot,[ot,ot],(c,[l,h])=>Math.pow(l.evaluate(c),h.evaluate(c))],sqrt:[ot,[ot],(c,[l])=>Math.sqrt(l.evaluate(c))],log10:[ot,[ot],(c,[l])=>Math.log(l.evaluate(c))/Math.LN10],ln:[ot,[ot],(c,[l])=>Math.log(l.evaluate(c))],log2:[ot,[ot],(c,[l])=>Math.log(l.evaluate(c))/Math.LN2],sin:[ot,[ot],(c,[l])=>Math.sin(l.evaluate(c))],cos:[ot,[ot],(c,[l])=>Math.cos(l.evaluate(c))],tan:[ot,[ot],(c,[l])=>Math.tan(l.evaluate(c))],asin:[ot,[ot],(c,[l])=>Math.asin(l.evaluate(c))],acos:[ot,[ot],(c,[l])=>Math.acos(l.evaluate(c))],atan:[ot,[ot],(c,[l])=>Math.atan(l.evaluate(c))],min:[ot,Ha(ot),(c,l)=>Math.min(...l.map(h=>h.evaluate(c)))],max:[ot,Ha(ot),(c,l)=>Math.max(...l.map(h=>h.evaluate(c)))],abs:[ot,[ot],(c,[l])=>Math.abs(l.evaluate(c))],round:[ot,[ot],(c,[l])=>{const h=l.evaluate(c);return h<0?-Math.round(-h):Math.round(h)}],floor:[ot,[ot],(c,[l])=>Math.floor(l.evaluate(c))],ceil:[ot,[ot],(c,[l])=>Math.ceil(l.evaluate(c))],"filter-==":[Dt,[kt,nr],(c,[l,h])=>c.properties()[l.value]===h.value],"filter-id-==":[Dt,[nr],(c,[l])=>c.id()===l.value],"filter-type-==":[Dt,[kt],(c,[l])=>c.geometryType()===l.value],"filter-<":[Dt,[kt,nr],(c,[l,h])=>{const g=c.properties()[l.value],_=h.value;return typeof g==typeof _&&g<_}],"filter-id-<":[Dt,[nr],(c,[l])=>{const h=c.id(),g=l.value;return typeof h==typeof g&&h<g}],"filter->":[Dt,[kt,nr],(c,[l,h])=>{const g=c.properties()[l.value],_=h.value;return typeof g==typeof _&&g>_}],"filter-id->":[Dt,[nr],(c,[l])=>{const h=c.id(),g=l.value;return typeof h==typeof g&&h>g}],"filter-<=":[Dt,[kt,nr],(c,[l,h])=>{const g=c.properties()[l.value],_=h.value;return typeof g==typeof _&&g<=_}],"filter-id-<=":[Dt,[nr],(c,[l])=>{const h=c.id(),g=l.value;return typeof h==typeof g&&h<=g}],"filter->=":[Dt,[kt,nr],(c,[l,h])=>{const g=c.properties()[l.value],_=h.value;return typeof g==typeof _&&g>=_}],"filter-id->=":[Dt,[nr],(c,[l])=>{const h=c.id(),g=l.value;return typeof h==typeof g&&h>=g}],"filter-has":[Dt,[nr],(c,[l])=>l.value in c.properties()],"filter-has-id":[Dt,[],c=>c.id()!==null&&c.id()!==void 0],"filter-type-in":[Dt,[se(kt)],(c,[l])=>l.value.indexOf(c.geometryType())>=0],"filter-id-in":[Dt,[se(nr)],(c,[l])=>l.value.indexOf(c.id())>=0],"filter-in-small":[Dt,[kt,se(nr)],(c,[l,h])=>h.value.indexOf(c.properties()[l.value])>=0],"filter-in-large":[Dt,[kt,se(nr)],(c,[l,h])=>function(g,_,E,T){for(;E<=T;){const D=E+T>>1;if(_[D]===g)return!0;_[D]>g?T=D-1:E=D+1}return!1}(c.properties()[l.value],h.value,0,h.value.length-1)],all:{type:Dt,overloads:[[[Dt,Dt],(c,[l,h])=>l.evaluate(c)&&h.evaluate(c)],[Ha(Dt),(c,l)=>{for(const h of l)if(!h.evaluate(c))return!1;return!0}]]},any:{type:Dt,overloads:[[[Dt,Dt],(c,[l,h])=>l.evaluate(c)||h.evaluate(c)],[Ha(Dt),(c,l)=>{for(const h of l)if(h.evaluate(c))return!0;return!1}]]},"!":[Dt,[Dt],(c,[l])=>!l.evaluate(c)],"is-supported-script":[Dt,[kt],(c,[l])=>{const h=c.globals&&c.globals.isSupportedScript;return!h||h(l.evaluate(c))}],upcase:[kt,[kt],(c,[l])=>l.evaluate(c).toUpperCase()],downcase:[kt,[kt],(c,[l])=>l.evaluate(c).toLowerCase()],concat:[kt,Ha(nr),(c,l)=>l.map(h=>ai(h.evaluate(c))).join("")],"resolved-locale":[kt,[ei],(c,[l])=>l.evaluate(c).resolvedLocale()]});class _i{constructor(l,h){var g;this.expression=l,this._warningHistory={},this._evaluator=new $o,this._defaultValue=h?(g=h).type==="color"&&Tt(g.default)?new In(0,0,0,0):g.type==="color"?In.parse(g.default)||null:g.type==="padding"?eo.parse(g.default)||null:g.type==="variableAnchorOffsetCollection"?xn.parse(g.default)||null:g.default===void 0?null:g.default:null,this._enumValues=h&&h.type==="enum"?h.values:null}evaluateWithoutErrorHandling(l,h,g,_,E,T){return this._evaluator.globals=l,this._evaluator.feature=h,this._evaluator.featureState=g,this._evaluator.canonical=_,this._evaluator.availableImages=E||null,this._evaluator.formattedSection=T,this.expression.evaluate(this._evaluator)}evaluate(l,h,g,_,E,T){this._evaluator.globals=l,this._evaluator.feature=h||null,this._evaluator.featureState=g||null,this._evaluator.canonical=_,this._evaluator.availableImages=E||null,this._evaluator.formattedSection=T||null;try{const D=this.expression.evaluate(this._evaluator);if(D==null||typeof D=="number"&&D!=D)return this._defaultValue;if(this._enumValues&&!(D in this._enumValues))throw new Li(`Expected value to be one of ${Object.keys(this._enumValues).map(F=>JSON.stringify(F)).join(", ")}, but found ${JSON.stringify(D)} instead.`);return D}catch(D){return this._warningHistory[D.message]||(this._warningHistory[D.message]=!0,typeof console<"u"&&console.warn(D.message)),this._defaultValue}}}function li(c){return Array.isArray(c)&&c.length>0&&typeof c[0]=="string"&&c[0]in da}function Ti(c,l){const h=new ms(da,ml,[],l?function(_){const E={color:cr,string:kt,number:ot,enum:kt,boolean:Dt,formatted:On,padding:hi,resolvedImage:Vn,variableAnchorOffsetCollection:je};return _.type==="array"?se(E[_.value]||nr,_.length):E[_.type]}(l):void 0),g=h.parse(c,void 0,void 0,void 0,l&&l.type==="string"?{typeAnnotation:"coerce"}:void 0);return g?Bl(new _i(g,l)):zo(h.errors)}class Ki{constructor(l,h){this.kind=l,this._styleExpression=h,this.isStateDependent=l!=="constant"&&!js(h.expression)}evaluateWithoutErrorHandling(l,h,g,_,E,T){return this._styleExpression.evaluateWithoutErrorHandling(l,h,g,_,E,T)}evaluate(l,h,g,_,E,T){return this._styleExpression.evaluate(l,h,g,_,E,T)}}class wi{constructor(l,h,g,_){this.kind=l,this.zoomStops=g,this._styleExpression=h,this.isStateDependent=l!=="camera"&&!js(h.expression),this.interpolationType=_}evaluateWithoutErrorHandling(l,h,g,_,E,T){return this._styleExpression.evaluateWithoutErrorHandling(l,h,g,_,E,T)}evaluate(l,h,g,_,E,T){return this._styleExpression.evaluate(l,h,g,_,E,T)}interpolationFactor(l,h,g){return this.interpolationType?Sr.interpolationFactor(this.interpolationType,l,h,g):0}}function Jo(c,l){const h=Ti(c,l);if(h.result==="error")return h;const g=h.value.expression,_=to(g);if(!_&&!Pa(l))return zo([new Ft("","data expressions not supported")]);const E=Us(g,["zoom"]);if(!E&&!Rc(l))return zo([new Ft("","zoom expressions not supported")]);const T=ha(g);return T||E?T instanceof Ft?zo([T]):T instanceof Sr&&!Dc(l)?zo([new Ft("",'"interpolate" expressions cannot be used with this property')]):Bl(T?new wi(_?"camera":"composite",h.value,T.labels,T instanceof Sr?T.interpolation:void 0):new Ki(_?"constant":"source",h.value)):zo([new Ft("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Uo{constructor(l,h){this._parameters=l,this._specification=h,gt(this,$r(this._parameters,this._specification))}static deserialize(l){return new Uo(l._parameters,l._specification)}static serialize(l){return{_parameters:l._parameters,_specification:l._specification}}}function ha(c){let l=null;if(c instanceof gs)l=ha(c.result);else if(c instanceof Dr){for(const h of c.args)if(l=ha(h),l)break}else(c instanceof Xt||c instanceof Sr)&&c.input instanceof Bo&&c.input.name==="zoom"&&(l=c);return l instanceof Ft||c.eachChild(h=>{const g=ha(h);g instanceof Ft?l=g:!l&&g?l=new Ft("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):l&&g&&l!==g&&(l=new Ft("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),l}function Wa(c){if(c===!0||c===!1)return!0;if(!Array.isArray(c)||c.length===0)return!1;switch(c[0]){case"has":return c.length>=2&&c[1]!=="$id"&&c[1]!=="$type";case"in":return c.length>=3&&(typeof c[1]!="string"||Array.isArray(c[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return c.length!==3||Array.isArray(c[1])||Array.isArray(c[2]);case"any":case"all":for(const l of c.slice(1))if(!Wa(l)&&typeof l!="boolean")return!1;return!0;default:return!0}}const mo={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function ns(c){if(c==null)return{filter:()=>!0,needGeometry:!1};Wa(c)||(c=ln(c));const l=Ti(c,mo);if(l.result==="error")throw new Error(l.value.map(h=>`${h.key}: ${h.message}`).join(", "));return{filter:(h,g,_)=>l.value.evaluate(h,g,{},_),needGeometry:gi(c)}}function Si(c,l){return c<l?-1:c>l?1:0}function gi(c){if(!Array.isArray(c))return!1;if(c[0]==="within"||c[0]==="distance")return!0;for(let l=1;l<c.length;l++)if(gi(c[l]))return!0;return!1}function ln(c){if(!c)return!0;const l=c[0];return c.length<=1?l!=="any":l==="=="?cn(c[1],c[2],"=="):l==="!="?Ni(cn(c[1],c[2],"==")):l==="<"||l===">"||l==="<="||l===">="?cn(c[1],c[2],l):l==="any"?(h=c.slice(1),["any"].concat(h.map(ln))):l==="all"?["all"].concat(c.slice(1).map(ln)):l==="none"?["all"].concat(c.slice(1).map(ln).map(Ni)):l==="in"?Qo(c[1],c.slice(2)):l==="!in"?Ni(Qo(c[1],c.slice(2))):l==="has"?go(c[1]):l!=="!has"||Ni(go(c[1]));var h}function cn(c,l,h){switch(c){case"$type":return[`filter-type-${h}`,l];case"$id":return[`filter-id-${h}`,l];default:return[`filter-${h}`,c,l]}}function Qo(c,l){if(l.length===0)return!1;switch(c){case"$type":return["filter-type-in",["literal",l]];case"$id":return["filter-id-in",["literal",l]];default:return l.length>200&&!l.some(h=>typeof h!=typeof l[0])?["filter-in-large",c,["literal",l.sort(Si)]]:["filter-in-small",c,["literal",l]]}}function go(c){switch(c){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",c]}}function Ni(c){return["!",c]}function ro(c){const l=typeof c;if(l==="number"||l==="boolean"||l==="string"||c==null)return JSON.stringify(c);if(Array.isArray(c)){let _="[";for(const E of c)_+=`${ro(E)},`;return`${_}]`}const h=Object.keys(c).sort();let g="{";for(let _=0;_<h.length;_++)g+=`${JSON.stringify(h[_])}:${ro(c[h[_]])},`;return`${g}}`}function xs(c){let l="";for(const h of ur)l+=`/${ro(c[h])}`;return l}function Vs(c){const l=c.value;return l?[new Ze(c.key,l,"constants have been deprecated as of v8")]:[]}function yi(c){return c instanceof Number||c instanceof String||c instanceof Boolean?c.valueOf():c}function fa(c){if(Array.isArray(c))return c.map(fa);if(c instanceof Object&&!(c instanceof Number||c instanceof String||c instanceof Boolean)){const l={};for(const h in c)l[h]=fa(c[h]);return l}return yi(c)}function yo(c){const l=c.key,h=c.value,g=c.valueSpec||{},_=c.objectElementValidators||{},E=c.style,T=c.styleSpec,D=c.validateSpec;let F=[];const H=at(h);if(H!=="object")return[new Ze(l,h,`object expected, ${H} found`)];for(const J in h){const ne=J.split(".")[0],ue=g[ne]||g["*"];let xe;if(_[ne])xe=_[ne];else if(g[ne])xe=D;else if(_["*"])xe=_["*"];else{if(!g["*"]){F.push(new Ze(l,h[J],`unknown property "${J}"`));continue}xe=D}F=F.concat(xe({key:(l&&`${l}.`)+J,value:h[J],valueSpec:ue,style:E,styleSpec:T,object:h,objectKey:J,validateSpec:D},h))}for(const J in g)_[J]||g[J].required&&g[J].default===void 0&&h[J]===void 0&&F.push(new Ze(l,h,`missing required property "${J}"`));return F}function is(c){const l=c.value,h=c.valueSpec,g=c.style,_=c.styleSpec,E=c.key,T=c.arrayElementValidator||c.validateSpec;if(at(l)!=="array")return[new Ze(E,l,`array expected, ${at(l)} found`)];if(h.length&&l.length!==h.length)return[new Ze(E,l,`array length ${h.length} expected, length ${l.length} found`)];if(h["min-length"]&&l.length<h["min-length"])return[new Ze(E,l,`array length at least ${h["min-length"]} expected, length ${l.length} found`)];let D={type:h.value,values:h.values};_.$version<7&&(D.function=h.function),at(h.value)==="object"&&(D=h.value);let F=[];for(let H=0;H<l.length;H++)F=F.concat(T({array:l,arrayIndex:H,value:l[H],valueSpec:D,validateSpec:c.validateSpec,style:g,styleSpec:_,key:`${E}[${H}]`}));return F}function Ju(c){const l=c.key,h=c.value,g=c.valueSpec;let _=at(h);return _==="number"&&h!=h&&(_="NaN"),_!=="number"?[new Ze(l,h,`number expected, ${_} found`)]:"minimum"in g&&h<g.minimum?[new Ze(l,h,`${h} is less than the minimum value ${g.minimum}`)]:"maximum"in g&&h>g.maximum?[new Ze(l,h,`${h} is greater than the maximum value ${g.maximum}`)]:[]}function qs(c){const l=c.valueSpec,h=yi(c.value.type);let g,_,E,T={};const D=h!=="categorical"&&c.value.property===void 0,F=!D,H=at(c.value.stops)==="array"&&at(c.value.stops[0])==="array"&&at(c.value.stops[0][0])==="object",J=yo({key:c.key,value:c.value,valueSpec:c.styleSpec.function,validateSpec:c.validateSpec,style:c.style,styleSpec:c.styleSpec,objectElementValidators:{stops:function(xe){if(h==="identity")return[new Ze(xe.key,xe.value,'identity function may not have a "stops" property')];let Ee=[];const Me=xe.value;return Ee=Ee.concat(is({key:xe.key,value:Me,valueSpec:xe.valueSpec,validateSpec:xe.validateSpec,style:xe.style,styleSpec:xe.styleSpec,arrayElementValidator:ne})),at(Me)==="array"&&Me.length===0&&Ee.push(new Ze(xe.key,Me,"array must have at least one stop")),Ee},default:function(xe){return xe.validateSpec({key:xe.key,value:xe.value,valueSpec:l,validateSpec:xe.validateSpec,style:xe.style,styleSpec:xe.styleSpec})}}});return h==="identity"&&D&&J.push(new Ze(c.key,c.value,'missing required property "property"')),h==="identity"||c.value.stops||J.push(new Ze(c.key,c.value,'missing required property "stops"')),h==="exponential"&&c.valueSpec.expression&&!Dc(c.valueSpec)&&J.push(new Ze(c.key,c.value,"exponential functions not supported")),c.styleSpec.$version>=8&&(F&&!Pa(c.valueSpec)?J.push(new Ze(c.key,c.value,"property functions not supported")):D&&!Rc(c.valueSpec)&&J.push(new Ze(c.key,c.value,"zoom functions not supported"))),h!=="categorical"&&!H||c.value.property!==void 0||J.push(new Ze(c.key,c.value,'"property" property is required')),J;function ne(xe){let Ee=[];const Me=xe.value,He=xe.key;if(at(Me)!=="array")return[new Ze(He,Me,`array expected, ${at(Me)} found`)];if(Me.length!==2)return[new Ze(He,Me,`array length 2 expected, length ${Me.length} found`)];if(H){if(at(Me[0])!=="object")return[new Ze(He,Me,`object expected, ${at(Me[0])} found`)];if(Me[0].zoom===void 0)return[new Ze(He,Me,"object stop key must have zoom")];if(Me[0].value===void 0)return[new Ze(He,Me,"object stop key must have value")];if(E&&E>yi(Me[0].zoom))return[new Ze(He,Me[0].zoom,"stop zoom values must appear in ascending order")];yi(Me[0].zoom)!==E&&(E=yi(Me[0].zoom),_=void 0,T={}),Ee=Ee.concat(yo({key:`${He}[0]`,value:Me[0],valueSpec:{zoom:{}},validateSpec:xe.validateSpec,style:xe.style,styleSpec:xe.styleSpec,objectElementValidators:{zoom:Ju,value:ue}}))}else Ee=Ee.concat(ue({key:`${He}[0]`,value:Me[0],valueSpec:{},validateSpec:xe.validateSpec,style:xe.style,styleSpec:xe.styleSpec},Me));return li(fa(Me[1]))?Ee.concat([new Ze(`${He}[1]`,Me[1],"expressions are not allowed in function stops.")]):Ee.concat(xe.validateSpec({key:`${He}[1]`,value:Me[1],valueSpec:l,validateSpec:xe.validateSpec,style:xe.style,styleSpec:xe.styleSpec}))}function ue(xe,Ee){const Me=at(xe.value),He=yi(xe.value),Qe=xe.value!==null?xe.value:Ee;if(g){if(Me!==g)return[new Ze(xe.key,Qe,`${Me} stop domain type must match previous stop domain type ${g}`)]}else g=Me;if(Me!=="number"&&Me!=="string"&&Me!=="boolean")return[new Ze(xe.key,Qe,"stop domain value must be a number, string, or boolean")];if(Me!=="number"&&h!=="categorical"){let _t=`number expected, ${Me} found`;return Pa(l)&&h===void 0&&(_t+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ze(xe.key,Qe,_t)]}return h!=="categorical"||Me!=="number"||isFinite(He)&&Math.floor(He)===He?h!=="categorical"&&Me==="number"&&_!==void 0&&He<_?[new Ze(xe.key,Qe,"stop domain values must appear in ascending order")]:(_=He,h==="categorical"&&He in T?[new Ze(xe.key,Qe,"stop domain values must be unique")]:(T[He]=!0,[])):[new Ze(xe.key,Qe,`integer expected, found ${He}`)]}}function lo(c){const l=(c.expressionContext==="property"?Jo:Ti)(fa(c.value),c.valueSpec);if(l.result==="error")return l.value.map(g=>new Ze(`${c.key}${g.key}`,c.value,g.message));const h=l.value.expression||l.value._styleExpression.expression;if(c.expressionContext==="property"&&c.propertyKey==="text-font"&&!h.outputDefined())return[new Ze(c.key,c.value,`Invalid data expression for "${c.propertyKey}". Output values must be contained as literals within the expression.`)];if(c.expressionContext==="property"&&c.propertyType==="layout"&&!js(h))return[new Ze(c.key,c.value,'"feature-state" data expressions are not supported with layout properties.')];if(c.expressionContext==="filter"&&!js(h))return[new Ze(c.key,c.value,'"feature-state" data expressions are not supported with filters.')];if(c.expressionContext&&c.expressionContext.indexOf("cluster")===0){if(!Us(h,["zoom","feature-state"]))return[new Ze(c.key,c.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(c.expressionContext==="cluster-initial"&&!to(h))return[new Ze(c.key,c.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Fi(c){const l=c.key,h=c.value,g=c.valueSpec,_=[];return Array.isArray(g.values)?g.values.indexOf(yi(h))===-1&&_.push(new Ze(l,h,`expected one of [${g.values.join(", ")}], ${JSON.stringify(h)} found`)):Object.keys(g.values).indexOf(yi(h))===-1&&_.push(new Ze(l,h,`expected one of [${Object.keys(g.values).join(", ")}], ${JSON.stringify(h)} found`)),_}function gl(c){return Wa(fa(c.value))?lo(gt({},c,{expressionContext:"filter",valueSpec:{value:"boolean"}})):zl(c)}function zl(c){const l=c.value,h=c.key;if(at(l)!=="array")return[new Ze(h,l,`array expected, ${at(l)} found`)];const g=c.styleSpec;let _,E=[];if(l.length<1)return[new Ze(h,l,"filter array must have at least 1 element")];switch(E=E.concat(Fi({key:`${h}[0]`,value:l[0],valueSpec:g.filter_operator,style:c.style,styleSpec:c.styleSpec})),yi(l[0])){case"<":case"<=":case">":case">=":l.length>=2&&yi(l[1])==="$type"&&E.push(new Ze(h,l,`"$type" cannot be use with operator "${l[0]}"`));case"==":case"!=":l.length!==3&&E.push(new Ze(h,l,`filter array for operator "${l[0]}" must have 3 elements`));case"in":case"!in":l.length>=2&&(_=at(l[1]),_!=="string"&&E.push(new Ze(`${h}[1]`,l[1],`string expected, ${_} found`)));for(let T=2;T<l.length;T++)_=at(l[T]),yi(l[1])==="$type"?E=E.concat(Fi({key:`${h}[${T}]`,value:l[T],valueSpec:g.geometry_type,style:c.style,styleSpec:c.styleSpec})):_!=="string"&&_!=="number"&&_!=="boolean"&&E.push(new Ze(`${h}[${T}]`,l[T],`string, number, or boolean expected, ${_} found`));break;case"any":case"all":case"none":for(let T=1;T<l.length;T++)E=E.concat(zl({key:`${h}[${T}]`,value:l[T],style:c.style,styleSpec:c.styleSpec}));break;case"has":case"!has":_=at(l[1]),l.length!==2?E.push(new Ze(h,l,`filter array for "${l[0]}" operator must have 2 elements`)):_!=="string"&&E.push(new Ze(`${h}[1]`,l[1],`string expected, ${_} found`))}return E}function vu(c,l){const h=c.key,g=c.validateSpec,_=c.style,E=c.styleSpec,T=c.value,D=c.objectKey,F=E[`${l}_${c.layerType}`];if(!F)return[];const H=D.match(/^(.*)-transition$/);if(l==="paint"&&H&&F[H[1]]&&F[H[1]].transition)return g({key:h,value:T,valueSpec:E.transition,style:_,styleSpec:E});const J=c.valueSpec||F[D];if(!J)return[new Ze(h,T,`unknown property "${D}"`)];let ne;if(at(T)==="string"&&Pa(J)&&!J.tokens&&(ne=/^{([^}]+)}$/.exec(T)))return[new Ze(h,T,`"${D}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(ne[1])} }\`.`)];const ue=[];return c.layerType==="symbol"&&(D==="text-field"&&_&&!_.glyphs&&ue.push(new Ze(h,T,'use of "text-field" requires a style "glyphs" property')),D==="text-font"&&Tt(fa(T))&&yi(T.type)==="identity"&&ue.push(new Ze(h,T,'"text-font" does not support identity functions'))),ue.concat(g({key:c.key,value:T,valueSpec:J,style:_,styleSpec:E,expressionContext:"property",propertyType:l,propertyKey:D}))}function Hs(c){return vu(c,"paint")}function gd(c){return vu(c,"layout")}function fh(c){let l=[];const h=c.value,g=c.key,_=c.style,E=c.styleSpec;h.type||h.ref||l.push(new Ze(g,h,'either "type" or "ref" is required'));let T=yi(h.type);const D=yi(h.ref);if(h.id){const F=yi(h.id);for(let H=0;H<c.arrayIndex;H++){const J=_.layers[H];yi(J.id)===F&&l.push(new Ze(g,h.id,`duplicate layer id "${h.id}", previously used at line ${J.id.__line__}`))}}if("ref"in h){let F;["type","source","source-layer","filter","layout"].forEach(H=>{H in h&&l.push(new Ze(g,h[H],`"${H}" is prohibited for ref layers`))}),_.layers.forEach(H=>{yi(H.id)===D&&(F=H)}),F?F.ref?l.push(new Ze(g,h.ref,"ref cannot reference another ref layer")):T=yi(F.type):l.push(new Ze(g,h.ref,`ref layer "${D}" not found`))}else if(T!=="background")if(h.source){const F=_.sources&&_.sources[h.source],H=F&&yi(F.type);F?H==="vector"&&T==="raster"?l.push(new Ze(g,h.source,`layer "${h.id}" requires a raster source`)):H!=="raster-dem"&&T==="hillshade"?l.push(new Ze(g,h.source,`layer "${h.id}" requires a raster-dem source`)):H==="raster"&&T!=="raster"?l.push(new Ze(g,h.source,`layer "${h.id}" requires a vector source`)):H!=="vector"||h["source-layer"]?H==="raster-dem"&&T!=="hillshade"?l.push(new Ze(g,h.source,"raster-dem source can only be used with layer type 'hillshade'.")):T!=="line"||!h.paint||!h.paint["line-gradient"]||H==="geojson"&&F.lineMetrics||l.push(new Ze(g,h,`layer "${h.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):l.push(new Ze(g,h,`layer "${h.id}" must specify a "source-layer"`)):l.push(new Ze(g,h.source,`source "${h.source}" not found`))}else l.push(new Ze(g,h,'missing required property "source"'));return l=l.concat(yo({key:g,value:h,valueSpec:E.layer,style:c.style,styleSpec:c.styleSpec,validateSpec:c.validateSpec,objectElementValidators:{"*":()=>[],type:()=>c.validateSpec({key:`${g}.type`,value:h.type,valueSpec:E.layer.type,style:c.style,styleSpec:c.styleSpec,validateSpec:c.validateSpec,object:h,objectKey:"type"}),filter:gl,layout:F=>yo({layer:h,key:F.key,value:F.value,style:F.style,styleSpec:F.styleSpec,validateSpec:F.validateSpec,objectElementValidators:{"*":H=>gd(gt({layerType:T},H))}}),paint:F=>yo({layer:h,key:F.key,value:F.value,style:F.style,styleSpec:F.styleSpec,validateSpec:F.validateSpec,objectElementValidators:{"*":H=>Hs(gt({layerType:T},H))}})}})),l}function Qu(c){const l=c.value,h=c.key,g=at(l);return g!=="string"?[new Ze(h,l,`string expected, ${g} found`)]:[]}const yd={promoteId:function({key:c,value:l}){if(at(l)==="string")return Qu({key:c,value:l});{const h=[];for(const g in l)h.push(...Qu({key:`${c}.${g}`,value:l[g]}));return h}}};function Oc(c){const l=c.value,h=c.key,g=c.styleSpec,_=c.style,E=c.validateSpec;if(!l.type)return[new Ze(h,l,'"type" is required')];const T=yi(l.type);let D;switch(T){case"vector":case"raster":return D=yo({key:h,value:l,valueSpec:g[`source_${T.replace("-","_")}`],style:c.style,styleSpec:g,objectElementValidators:yd,validateSpec:E}),D;case"raster-dem":return D=function(F){var H;const J=(H=F.sourceName)!==null&&H!==void 0?H:"",ne=F.value,ue=F.styleSpec,xe=ue.source_raster_dem,Ee=F.style;let Me=[];const He=at(ne);if(ne===void 0)return Me;if(He!=="object")return Me.push(new Ze("source_raster_dem",ne,`object expected, ${He} found`)),Me;const Qe=yi(ne.encoding)==="custom",_t=["redFactor","greenFactor","blueFactor","baseShift"],ft=F.value.encoding?`"${F.value.encoding}"`:"Default";for(const vt in ne)!Qe&&_t.includes(vt)?Me.push(new Ze(vt,ne[vt],`In "${J}": "${vt}" is only valid when "encoding" is set to "custom". ${ft} encoding found`)):xe[vt]?Me=Me.concat(F.validateSpec({key:vt,value:ne[vt],valueSpec:xe[vt],validateSpec:F.validateSpec,style:Ee,styleSpec:ue})):Me.push(new Ze(vt,ne[vt],`unknown property "${vt}"`));return Me}({sourceName:h,value:l,style:c.style,styleSpec:g,validateSpec:E}),D;case"geojson":if(D=yo({key:h,value:l,valueSpec:g.source_geojson,style:_,styleSpec:g,validateSpec:E,objectElementValidators:yd}),l.cluster)for(const F in l.clusterProperties){const[H,J]=l.clusterProperties[F],ne=typeof H=="string"?[H,["accumulated"],["get",F]]:H;D.push(...lo({key:`${h}.${F}.map`,value:J,validateSpec:E,expressionContext:"cluster-map"})),D.push(...lo({key:`${h}.${F}.reduce`,value:ne,validateSpec:E,expressionContext:"cluster-reduce"}))}return D;case"video":return yo({key:h,value:l,valueSpec:g.source_video,style:_,validateSpec:E,styleSpec:g});case"image":return yo({key:h,value:l,valueSpec:g.source_image,style:_,validateSpec:E,styleSpec:g});case"canvas":return[new Ze(h,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Fi({key:`${h}.type`,value:l.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:_,validateSpec:E,styleSpec:g})}}function vd(c){const l=c.value,h=c.styleSpec,g=h.light,_=c.style;let E=[];const T=at(l);if(l===void 0)return E;if(T!=="object")return E=E.concat([new Ze("light",l,`object expected, ${T} found`)]),E;for(const D in l){const F=D.match(/^(.*)-transition$/);E=E.concat(F&&g[F[1]]&&g[F[1]].transition?c.validateSpec({key:D,value:l[D],valueSpec:h.transition,validateSpec:c.validateSpec,style:_,styleSpec:h}):g[D]?c.validateSpec({key:D,value:l[D],valueSpec:g[D],validateSpec:c.validateSpec,style:_,styleSpec:h}):[new Ze(D,l[D],`unknown property "${D}"`)])}return E}function ph(c){const l=c.value,h=c.styleSpec,g=h.sky,_=c.style,E=at(l);if(l===void 0)return[];if(E!=="object")return[new Ze("sky",l,`object expected, ${E} found`)];let T=[];for(const D in l)T=T.concat(g[D]?c.validateSpec({key:D,value:l[D],valueSpec:g[D],style:_,styleSpec:h}):[new Ze(D,l[D],`unknown property "${D}"`)]);return T}function wp(c){const l=c.value,h=c.styleSpec,g=h.terrain,_=c.style;let E=[];const T=at(l);if(l===void 0)return E;if(T!=="object")return E=E.concat([new Ze("terrain",l,`object expected, ${T} found`)]),E;for(const D in l)E=E.concat(g[D]?c.validateSpec({key:D,value:l[D],valueSpec:g[D],validateSpec:c.validateSpec,style:_,styleSpec:h}):[new Ze(D,l[D],`unknown property "${D}"`)]);return E}function Sp(c){let l=[];const h=c.value,g=c.key;if(Array.isArray(h)){const _=[],E=[];for(const T in h)h[T].id&&_.includes(h[T].id)&&l.push(new Ze(g,h,`all the sprites' ids must be unique, but ${h[T].id} is duplicated`)),_.push(h[T].id),h[T].url&&E.includes(h[T].url)&&l.push(new Ze(g,h,`all the sprites' URLs must be unique, but ${h[T].url} is duplicated`)),E.push(h[T].url),l=l.concat(yo({key:`${g}[${T}]`,value:h[T],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:c.validateSpec}));return l}return Qu({key:g,value:h})}const mh={"*":()=>[],array:is,boolean:function(c){const l=c.value,h=c.key,g=at(l);return g!=="boolean"?[new Ze(h,l,`boolean expected, ${g} found`)]:[]},number:Ju,color:function(c){const l=c.key,h=c.value,g=at(h);return g!=="string"?[new Ze(l,h,`color expected, ${g} found`)]:In.parse(String(h))?[]:[new Ze(l,h,`color expected, "${h}" found`)]},constants:Vs,enum:Fi,filter:gl,function:qs,layer:fh,object:yo,source:Oc,light:vd,sky:ph,terrain:wp,projection:function(c){const l=c.value,h=c.styleSpec,g=h.projection,_=c.style,E=at(l);if(l===void 0)return[];if(E!=="object")return[new Ze("projection",l,`object expected, ${E} found`)];let T=[];for(const D in l)T=T.concat(g[D]?c.validateSpec({key:D,value:l[D],valueSpec:g[D],style:_,styleSpec:h}):[new Ze(D,l[D],`unknown property "${D}"`)]);return T},string:Qu,formatted:function(c){return Qu(c).length===0?[]:lo(c)},resolvedImage:function(c){return Qu(c).length===0?[]:lo(c)},padding:function(c){const l=c.key,h=c.value;if(at(h)==="array"){if(h.length<1||h.length>4)return[new Ze(l,h,`padding requires 1 to 4 values; ${h.length} values found`)];const g={type:"number"};let _=[];for(let E=0;E<h.length;E++)_=_.concat(c.validateSpec({key:`${l}[${E}]`,value:h[E],validateSpec:c.validateSpec,valueSpec:g}));return _}return Ju({key:l,value:h,valueSpec:{}})},variableAnchorOffsetCollection:function(c){const l=c.key,h=c.value,g=at(h),_=c.styleSpec;if(g!=="array"||h.length<1||h.length%2!=0)return[new Ze(l,h,"variableAnchorOffsetCollection requires a non-empty array of even length")];let E=[];for(let T=0;T<h.length;T+=2)E=E.concat(Fi({key:`${l}[${T}]`,value:h[T],valueSpec:_.layout_symbol["text-anchor"]})),E=E.concat(is({key:`${l}[${T+1}]`,value:h[T+1],valueSpec:{length:2,value:"number"},validateSpec:c.validateSpec,style:c.style,styleSpec:_}));return E},sprite:Sp};function bd(c){const l=c.value,h=c.valueSpec,g=c.styleSpec;return c.validateSpec=bd,h.expression&&Tt(yi(l))?qs(c):h.expression&&li(fa(l))?lo(c):h.type&&mh[h.type]?mh[h.type](c):yo(gt({},c,{valueSpec:h.type?g[h.type]:h}))}function Gm(c){const l=c.value,h=c.key,g=Qu(c);return g.length||(l.indexOf("{fontstack}")===-1&&g.push(new Ze(h,l,'"glyphs" url must include a "{fontstack}" token')),l.indexOf("{range}")===-1&&g.push(new Ze(h,l,'"glyphs" url must include a "{range}" token'))),g}function Ws(c,l=ce){let h=[];return h=h.concat(bd({key:"",value:c,valueSpec:l.$root,styleSpec:l,style:c,validateSpec:bd,objectElementValidators:{glyphs:Gm,"*":()=>[]}})),c.constants&&(h=h.concat(Vs({key:"constants",value:c.constants,style:c,styleSpec:l,validateSpec:bd}))),Cp(h)}function jl(c){return function(l){return c({...l,validateSpec:bd})}}function Cp(c){return[].concat(c).sort((l,h)=>l.line-h.line)}function _s(c){return function(...l){return Cp(c.apply(this,l))}}Ws.source=_s(jl(Oc)),Ws.sprite=_s(jl(Sp)),Ws.glyphs=_s(jl(Gm)),Ws.light=_s(jl(vd)),Ws.sky=_s(jl(ph)),Ws.terrain=_s(jl(wp)),Ws.layer=_s(jl(fh)),Ws.filter=_s(jl(gl)),Ws.paintProperty=_s(jl(Hs)),Ws.layoutProperty=_s(jl(gd));const bu=Ws,gh=bu.light,Wy=bu.sky,Km=bu.paintProperty,Ep=bu.layoutProperty;function Ap(c,l){let h=!1;if(l&&l.length)for(const g of l)c.fire(new Et(new Error(g.message))),h=!0;return h}class xd{constructor(l,h,g){const _=this.cells=[];if(l instanceof ArrayBuffer){this.arrayBuffer=l;const T=new Int32Array(this.arrayBuffer);l=T[0],this.d=(h=T[1])+2*(g=T[2]);for(let F=0;F<this.d*this.d;F++){const H=T[3+F],J=T[3+F+1];_.push(H===J?null:T.subarray(H,J))}const D=T[3+_.length+1];this.keys=T.subarray(T[3+_.length],D),this.bboxes=T.subarray(D),this.insert=this._insertReadonly}else{this.d=h+2*g;for(let T=0;T<this.d*this.d;T++)_.push([]);this.keys=[],this.bboxes=[]}this.n=h,this.extent=l,this.padding=g,this.scale=h/l,this.uid=0;const E=g/h*l;this.min=-E,this.max=l+E}insert(l,h,g,_,E){this._forEachCell(h,g,_,E,this._insertCell,this.uid++,void 0,void 0),this.keys.push(l),this.bboxes.push(h),this.bboxes.push(g),this.bboxes.push(_),this.bboxes.push(E)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(l,h,g,_,E,T){this.cells[E].push(T)}query(l,h,g,_,E){const T=this.min,D=this.max;if(l<=T&&h<=T&&D<=g&&D<=_&&!E)return Array.prototype.slice.call(this.keys);{const F=[];return this._forEachCell(l,h,g,_,this._queryCell,F,{},E),F}}_queryCell(l,h,g,_,E,T,D,F){const H=this.cells[E];if(H!==null){const J=this.keys,ne=this.bboxes;for(let ue=0;ue<H.length;ue++){const xe=H[ue];if(D[xe]===void 0){const Ee=4*xe;(F?F(ne[Ee+0],ne[Ee+1],ne[Ee+2],ne[Ee+3]):l<=ne[Ee+2]&&h<=ne[Ee+3]&&g>=ne[Ee+0]&&_>=ne[Ee+1])?(D[xe]=!0,T.push(J[xe])):D[xe]=!1}}}}_forEachCell(l,h,g,_,E,T,D,F){const H=this._convertToCellCoord(l),J=this._convertToCellCoord(h),ne=this._convertToCellCoord(g),ue=this._convertToCellCoord(_);for(let xe=H;xe<=ne;xe++)for(let Ee=J;Ee<=ue;Ee++){const Me=this.d*Ee+xe;if((!F||F(this._convertFromCellCoord(xe),this._convertFromCellCoord(Ee),this._convertFromCellCoord(xe+1),this._convertFromCellCoord(Ee+1)))&&E.call(this,l,h,g,_,Me,T,D,F))return}}_convertFromCellCoord(l){return(l-this.padding)/this.scale}_convertToCellCoord(l){return Math.max(0,Math.min(this.d-1,Math.floor(l*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const l=this.cells,h=3+this.cells.length+1+1;let g=0;for(let T=0;T<this.cells.length;T++)g+=this.cells[T].length;const _=new Int32Array(h+g+this.keys.length+this.bboxes.length);_[0]=this.extent,_[1]=this.n,_[2]=this.padding;let E=h;for(let T=0;T<l.length;T++){const D=l[T];_[3+T]=E,_.set(D,E),E+=D.length}return _[3+l.length]=E,_.set(this.keys,E),E+=this.keys.length,_[3+l.length+1]=E,_.set(this.bboxes,E),E+=this.bboxes.length,_.buffer}static serialize(l,h){const g=l.toArrayBuffer();return h&&h.push(g),{buffer:g}}static deserialize(l){return new xd(l.buffer)}}const Gs={};function kr(c,l,h={}){if(Gs[c])throw new Error(`${c} is already registered.`);Object.defineProperty(l,"_classRegistryKey",{value:c,writeable:!1}),Gs[c]={klass:l,omit:h.omit||[],shallow:h.shallow||[]}}kr("Object",Object),kr("TransferableGridIndex",xd),kr("Color",In),kr("Error",Error),kr("AJAXError",rt),kr("ResolvedImage",Wn),kr("StylePropertyFunction",Uo),kr("StyleExpression",_i,{omit:["_evaluator"]}),kr("ZoomDependentExpression",wi),kr("ZoomConstantExpression",Ki),kr("CompoundExpression",Bo,{omit:["_evaluate"]});for(const c in da)da[c]._classRegistryKey||kr(`Expression_${c}`,da[c]);function yl(c){return c&&typeof ArrayBuffer<"u"&&(c instanceof ArrayBuffer||c.constructor&&c.constructor.name==="ArrayBuffer")}function ws(c){return c.$name||c.constructor._classRegistryKey}function Ul(c){return!function(l){if(l===null||typeof l!="object")return!1;const h=ws(l);return!(!h||h==="Object")}(c)&&(c==null||typeof c=="boolean"||typeof c=="number"||typeof c=="string"||c instanceof Boolean||c instanceof Number||c instanceof String||c instanceof Date||c instanceof RegExp||c instanceof Blob||c instanceof Error||yl(c)||Oe(c)||ArrayBuffer.isView(c)||c instanceof ImageData)}function _d(c,l){if(Ul(c))return(yl(c)||Oe(c))&&l&&l.push(c),ArrayBuffer.isView(c)&&l&&l.push(c.buffer),c instanceof ImageData&&l&&l.push(c.data.buffer),c;if(Array.isArray(c)){const E=[];for(const T of c)E.push(_d(T,l));return E}if(typeof c!="object")throw new Error("can't serialize object of type "+typeof c);const h=ws(c);if(!h)throw new Error(`can't serialize object of unregistered class ${c.constructor.name}`);if(!Gs[h])throw new Error(`${h} is not registered.`);const{klass:g}=Gs[h],_=g.serialize?g.serialize(c,l):{};if(g.serialize){if(l&&_===l[l.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const E in c){if(!c.hasOwnProperty(E)||Gs[h].omit.indexOf(E)>=0)continue;const T=c[E];_[E]=Gs[h].shallow.indexOf(E)>=0?T:_d(T,l)}c instanceof Error&&(_.message=c.message)}if(_.$name)throw new Error("$name property is reserved for worker serialization logic.");return h!=="Object"&&(_.$name=h),_}function Nc(c){if(Ul(c))return c;if(Array.isArray(c))return c.map(Nc);if(typeof c!="object")throw new Error("can't deserialize object of type "+typeof c);const l=ws(c)||"Object";if(!Gs[l])throw new Error(`can't deserialize unregistered class ${l}`);const{klass:h}=Gs[l];if(!h)throw new Error(`can't deserialize unregistered class ${l}`);if(h.deserialize)return h.deserialize(c);const g=Object.create(h.prototype);for(const _ of Object.keys(c)){if(_==="$name")continue;const E=c[_];g[_]=Gs[l].shallow.indexOf(_)>=0?E:Nc(E)}return g}class Vl{constructor(){this.first=!0}update(l,h){const g=Math.floor(l);return this.first?(this.first=!1,this.lastIntegerZoom=g,this.lastIntegerZoomTime=0,this.lastZoom=l,this.lastFloorZoom=g,!0):(this.lastFloorZoom>g?(this.lastIntegerZoom=g+1,this.lastIntegerZoomTime=h):this.lastFloorZoom<g&&(this.lastIntegerZoom=g,this.lastIntegerZoomTime=h),l!==this.lastZoom&&(this.lastZoom=l,this.lastFloorZoom=g,!0))}}const vn={"Latin-1 Supplement":c=>c>=128&&c<=255,"Hangul Jamo":c=>c>=4352&&c<=4607,Khmer:c=>c>=6016&&c<=6143,"General Punctuation":c=>c>=8192&&c<=8303,"Letterlike Symbols":c=>c>=8448&&c<=8527,"Number Forms":c=>c>=8528&&c<=8591,"Miscellaneous Technical":c=>c>=8960&&c<=9215,"Control Pictures":c=>c>=9216&&c<=9279,"Optical Character Recognition":c=>c>=9280&&c<=9311,"Enclosed Alphanumerics":c=>c>=9312&&c<=9471,"Geometric Shapes":c=>c>=9632&&c<=9727,"Miscellaneous Symbols":c=>c>=9728&&c<=9983,"Miscellaneous Symbols and Arrows":c=>c>=11008&&c<=11263,"Ideographic Description Characters":c=>c>=12272&&c<=12287,"CJK Symbols and Punctuation":c=>c>=12288&&c<=12351,Katakana:c=>c>=12448&&c<=12543,Kanbun:c=>c>=12688&&c<=12703,"CJK Strokes":c=>c>=12736&&c<=12783,"Enclosed CJK Letters and Months":c=>c>=12800&&c<=13055,"CJK Compatibility":c=>c>=13056&&c<=13311,"Yijing Hexagram Symbols":c=>c>=19904&&c<=19967,"Private Use Area":c=>c>=57344&&c<=63743,"Vertical Forms":c=>c>=65040&&c<=65055,"CJK Compatibility Forms":c=>c>=65072&&c<=65103,"Small Form Variants":c=>c>=65104&&c<=65135,"Halfwidth and Fullwidth Forms":c=>c>=65280&&c<=65519};function Tp(c){for(const l of c)if(kp(l.charCodeAt(0)))return!0;return!1}function Gy(c){for(const l of c)if(!Fc(l.charCodeAt(0)))return!1;return!0}function pf(c){const l=c.map(h=>{try{return new RegExp(`\\p{sc=${h}}`,"u").source}catch{return null}}).filter(h=>h);return new RegExp(l.join("|"),"u")}const Xm=pf(["Arab","Dupl","Mong","Ougr","Syrc"]);function Fc(c){return!Xm.test(String.fromCodePoint(c))}const Pp=pf(["Bopo","Hani","Hira","Kana","Kits","Nshu","Tang","Yiii"]);function kp(c){return!(c!==746&&c!==747&&(c<4352||!(vn["CJK Compatibility Forms"](c)&&!(c>=65097&&c<=65103)||vn["CJK Compatibility"](c)||vn["CJK Strokes"](c)||!(!vn["CJK Symbols and Punctuation"](c)||c>=12296&&c<=12305||c>=12308&&c<=12319||c===12336)||vn["Enclosed CJK Letters and Months"](c)||vn["Ideographic Description Characters"](c)||vn.Kanbun(c)||vn.Katakana(c)&&c!==12540||!(!vn["Halfwidth and Fullwidth Forms"](c)||c===65288||c===65289||c===65293||c>=65306&&c<=65310||c===65339||c===65341||c===65343||c>=65371&&c<=65503||c===65507||c>=65512&&c<=65519)||!(!vn["Small Form Variants"](c)||c>=65112&&c<=65118||c>=65123&&c<=65126)||vn["Vertical Forms"](c)||vn["Yijing Hexagram Symbols"](c)||new RegExp("\\p{sc=Cans}","u").test(String.fromCodePoint(c))||new RegExp("\\p{sc=Hang}","u").test(String.fromCodePoint(c))||Pp.test(String.fromCodePoint(c)))))}function yh(c){return!(kp(c)||function(l){return!!(vn["Latin-1 Supplement"](l)&&(l===167||l===169||l===174||l===177||l===188||l===189||l===190||l===215||l===247)||vn["General Punctuation"](l)&&(l===8214||l===8224||l===8225||l===8240||l===8241||l===8251||l===8252||l===8258||l===8263||l===8264||l===8265||l===8273)||vn["Letterlike Symbols"](l)||vn["Number Forms"](l)||vn["Miscellaneous Technical"](l)&&(l>=8960&&l<=8967||l>=8972&&l<=8991||l>=8996&&l<=9e3||l===9003||l>=9085&&l<=9114||l>=9150&&l<=9165||l===9167||l>=9169&&l<=9179||l>=9186&&l<=9215)||vn["Control Pictures"](l)&&l!==9251||vn["Optical Character Recognition"](l)||vn["Enclosed Alphanumerics"](l)||vn["Geometric Shapes"](l)||vn["Miscellaneous Symbols"](l)&&!(l>=9754&&l<=9759)||vn["Miscellaneous Symbols and Arrows"](l)&&(l>=11026&&l<=11055||l>=11088&&l<=11097||l>=11192&&l<=11243)||vn["CJK Symbols and Punctuation"](l)||vn.Katakana(l)||vn["Private Use Area"](l)||vn["CJK Compatibility Forms"](l)||vn["Small Form Variants"](l)||vn["Halfwidth and Fullwidth Forms"](l)||l===8734||l===8756||l===8757||l>=9984&&l<=10087||l>=10102&&l<=10131||l===65532||l===65533)}(c))}const mf=pf(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function $c(c){return mf.test(String.fromCodePoint(c))}function Ip(c,l){return!(!l&&$c(c)||c>=2304&&c<=3583||c>=3840&&c<=4255||vn.Khmer(c))}function Zm(c){for(const l of c)if($c(l.charCodeAt(0)))return!0;return!1}const Ss=new class{constructor(){this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null}setState(c){this.pluginStatus=c.pluginStatus,this.pluginURL=c.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(c){this.applyArabicShaping=c.applyArabicShaping,this.processBidirectionalText=c.processBidirectionalText,this.processStyledBidirectionalText=c.processStyledBidirectionalText}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getPluginURL(){return this.pluginURL}getRTLTextPluginStatus(){return this.pluginStatus}};class Pi{constructor(l,h){this.zoom=l,h?(this.now=h.now,this.fadeDuration=h.fadeDuration,this.zoomHistory=h.zoomHistory,this.transition=h.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Vl,this.transition={})}isSupportedScript(l){return function(h,g){for(const _ of h)if(!Ip(_.charCodeAt(0),g))return!1;return!0}(l,Ss.getRTLTextPluginStatus()==="loaded")}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const l=this.zoom,h=l-Math.floor(l),g=this.crossFadingFactor();return l>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:h+(1-h)*g}:{fromScale:.5,toScale:1,t:1-(1-g)*h}}}class wd{constructor(l,h){this.property=l,this.value=h,this.expression=function(g,_){if(Tt(g))return new Uo(g,_);if(li(g)){const E=Jo(g,_);if(E.result==="error")throw new Error(E.value.map(T=>`${T.key}: ${T.message}`).join(", "));return E.value}{let E=g;return _.type==="color"&&typeof g=="string"?E=In.parse(g):_.type!=="padding"||typeof g!="number"&&!Array.isArray(g)?_.type==="variableAnchorOffsetCollection"&&Array.isArray(g)&&(E=xn.parse(g)):E=eo.parse(g),{kind:"constant",evaluate:()=>E}}}(h===void 0?l.specification.default:h,l.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(l,h,g){return this.property.possiblyEvaluate(this,l,h,g)}}class gf{constructor(l){this.property=l,this.value=new wd(l,void 0)}transitioned(l,h){return new Ym(this.property,this.value,h,ee({},l.transition,this.transition),l.now)}untransitioned(){return new Ym(this.property,this.value,null,{},0)}}class yf{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitionablePropertyValues)}getValue(l){return Z(this._values[l].value.value)}setValue(l,h){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new gf(this._values[l].property)),this._values[l].value=new wd(this._values[l].property,h===null?void 0:Z(h))}getTransition(l){return Z(this._values[l].transition)}setTransition(l,h){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new gf(this._values[l].property)),this._values[l].transition=Z(h)||void 0}serialize(){const l={};for(const h of Object.keys(this._values)){const g=this.getValue(h);g!==void 0&&(l[h]=g);const _=this.getTransition(h);_!==void 0&&(l[`${h}-transition`]=_)}return l}transitioned(l,h){const g=new vh(this._properties);for(const _ of Object.keys(this._values))g._values[_]=this._values[_].transitioned(l,h._values[_]);return g}untransitioned(){const l=new vh(this._properties);for(const h of Object.keys(this._values))l._values[h]=this._values[h].untransitioned();return l}}class Ym{constructor(l,h,g,_,E){this.property=l,this.value=h,this.begin=E+_.delay||0,this.end=this.begin+_.duration||0,l.specification.transition&&(_.delay||_.duration)&&(this.prior=g)}possiblyEvaluate(l,h,g){const _=l.now||0,E=this.value.possiblyEvaluate(l,h,g),T=this.prior;if(T){if(_>this.end)return this.prior=null,E;if(this.value.isDataDriven())return this.prior=null,E;if(_<this.begin)return T.possiblyEvaluate(l,h,g);{const D=(_-this.begin)/(this.end-this.begin);return this.property.interpolate(T.possiblyEvaluate(l,h,g),E,function(F){if(F<=0)return 0;if(F>=1)return 1;const H=F*F,J=H*F;return 4*(F<.5?J:3*(F-H)+J-.75)}(D))}}return E}}class vh{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitioningPropertyValues)}possiblyEvaluate(l,h,g){const _=new ec(this._properties);for(const E of Object.keys(this._values))_._values[E]=this._values[E].possiblyEvaluate(l,h,g);return _}hasTransition(){for(const l of Object.keys(this._values))if(this._values[l].prior)return!0;return!1}}class bh{constructor(l){this._properties=l,this._values=Object.create(l.defaultPropertyValues)}hasValue(l){return this._values[l].value!==void 0}getValue(l){return Z(this._values[l].value)}setValue(l,h){this._values[l]=new wd(this._values[l].property,h===null?void 0:Z(h))}serialize(){const l={};for(const h of Object.keys(this._values)){const g=this.getValue(h);g!==void 0&&(l[h]=g)}return l}possiblyEvaluate(l,h,g){const _=new ec(this._properties);for(const E of Object.keys(this._values))_._values[E]=this._values[E].possiblyEvaluate(l,h,g);return _}}class vl{constructor(l,h,g){this.property=l,this.value=h,this.parameters=g}isConstant(){return this.value.kind==="constant"}constantOr(l){return this.value.kind==="constant"?this.value.value:l}evaluate(l,h,g,_){return this.property.evaluate(this.value,this.parameters,l,h,g,_)}}class ec{constructor(l){this._properties=l,this._values=Object.create(l.defaultPossiblyEvaluatedValues)}get(l){return this._values[l]}}class Fr{constructor(l){this.specification=l}possiblyEvaluate(l,h){if(l.isDataDriven())throw new Error("Value should not be data driven");return l.expression.evaluate(h)}interpolate(l,h,g){const _=Gr[this.specification.type];return _?_(l,h,g):l}}class Qr{constructor(l,h){this.specification=l,this.overrides=h}possiblyEvaluate(l,h,g,_){return new vl(this,l.expression.kind==="constant"||l.expression.kind==="camera"?{kind:"constant",value:l.expression.evaluate(h,null,{},g,_)}:l.expression,h)}interpolate(l,h,g){if(l.value.kind!=="constant"||h.value.kind!=="constant")return l;if(l.value.value===void 0||h.value.value===void 0)return new vl(this,{kind:"constant",value:void 0},l.parameters);const _=Gr[this.specification.type];if(_){const E=_(l.value.value,h.value.value,g);return new vl(this,{kind:"constant",value:E},l.parameters)}return l}evaluate(l,h,g,_,E,T){return l.kind==="constant"?l.value:l.evaluate(h,g,_,E,T)}}class xh extends Qr{possiblyEvaluate(l,h,g,_){if(l.value===void 0)return new vl(this,{kind:"constant",value:void 0},h);if(l.expression.kind==="constant"){const E=l.expression.evaluate(h,null,{},g,_),T=l.property.specification.type==="resolvedImage"&&typeof E!="string"?E.name:E,D=this._calculate(T,T,T,h);return new vl(this,{kind:"constant",value:D},h)}if(l.expression.kind==="camera"){const E=this._calculate(l.expression.evaluate({zoom:h.zoom-1}),l.expression.evaluate({zoom:h.zoom}),l.expression.evaluate({zoom:h.zoom+1}),h);return new vl(this,{kind:"constant",value:E},h)}return new vl(this,l.expression,h)}evaluate(l,h,g,_,E,T){if(l.kind==="source"){const D=l.evaluate(h,g,_,E,T);return this._calculate(D,D,D,h)}return l.kind==="composite"?this._calculate(l.evaluate({zoom:Math.floor(h.zoom)-1},g,_),l.evaluate({zoom:Math.floor(h.zoom)},g,_),l.evaluate({zoom:Math.floor(h.zoom)+1},g,_),h):l.value}_calculate(l,h,g,_){return _.zoom>_.zoomHistory.lastIntegerZoom?{from:l,to:h}:{from:g,to:h}}interpolate(l){return l}}class A{constructor(l){this.specification=l}possiblyEvaluate(l,h,g,_){if(l.value!==void 0){if(l.expression.kind==="constant"){const E=l.expression.evaluate(h,null,{},g,_);return this._calculate(E,E,E,h)}return this._calculate(l.expression.evaluate(new Pi(Math.floor(h.zoom-1),h)),l.expression.evaluate(new Pi(Math.floor(h.zoom),h)),l.expression.evaluate(new Pi(Math.floor(h.zoom+1),h)),h)}}_calculate(l,h,g,_){return _.zoom>_.zoomHistory.lastIntegerZoom?{from:l,to:h}:{from:g,to:h}}interpolate(l){return l}}class R{constructor(l){this.specification=l}possiblyEvaluate(l,h,g,_){return!!l.expression.evaluate(h,null,{},g,_)}interpolate(){return!1}}class y{constructor(l){this.properties=l,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const h in l){const g=l[h];g.specification.overridable&&this.overridableProperties.push(h);const _=this.defaultPropertyValues[h]=new wd(g,void 0),E=this.defaultTransitionablePropertyValues[h]=new gf(g);this.defaultTransitioningPropertyValues[h]=E.untransitioned(),this.defaultPossiblyEvaluatedValues[h]=_.possiblyEvaluate({})}}}kr("DataDrivenProperty",Qr),kr("DataConstantProperty",Fr),kr("CrossFadedDataDrivenProperty",xh),kr("CrossFadedProperty",A),kr("ColorRampProperty",R);const o="-transition";class d extends lt{constructor(l,h){if(super(),this.id=l.id,this.type=l.type,this._featureFilter={filter:()=>!0,needGeometry:!1},l.type!=="custom"&&(this.metadata=l.metadata,this.minzoom=l.minzoom,this.maxzoom=l.maxzoom,l.type!=="background"&&(this.source=l.source,this.sourceLayer=l["source-layer"],this.filter=l.filter),h.layout&&(this._unevaluatedLayout=new bh(h.layout)),h.paint)){this._transitionablePaint=new yf(h.paint);for(const g in l.paint)this.setPaintProperty(g,l.paint[g],{validate:!1});for(const g in l.layout)this.setLayoutProperty(g,l.layout[g],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new ec(h.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(l){return l==="visibility"?this.visibility:this._unevaluatedLayout.getValue(l)}setLayoutProperty(l,h,g={}){h!=null&&this._validate(Ep,`layers.${this.id}.layout.${l}`,l,h,g)||(l!=="visibility"?this._unevaluatedLayout.setValue(l,h):this.visibility=h)}getPaintProperty(l){return l.endsWith(o)?this._transitionablePaint.getTransition(l.slice(0,-11)):this._transitionablePaint.getValue(l)}setPaintProperty(l,h,g={}){if(h!=null&&this._validate(Km,`layers.${this.id}.paint.${l}`,l,h,g))return!1;if(l.endsWith(o))return this._transitionablePaint.setTransition(l.slice(0,-11),h||void 0),!1;{const _=this._transitionablePaint._values[l],E=_.property.specification["property-type"]==="cross-faded-data-driven",T=_.value.isDataDriven(),D=_.value;this._transitionablePaint.setValue(l,h),this._handleSpecialPaintPropertyUpdate(l);const F=this._transitionablePaint._values[l].value;return F.isDataDriven()||T||E||this._handleOverridablePaintPropertyUpdate(l,D,F)}}_handleSpecialPaintPropertyUpdate(l){}_handleOverridablePaintPropertyUpdate(l,h,g){return!1}isHidden(l){return!!(this.minzoom&&l<this.minzoom)||!!(this.maxzoom&&l>=this.maxzoom)||this.visibility==="none"}updateTransitions(l){this._transitioningPaint=this._transitionablePaint.transitioned(l,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(l,h){l.getCrossfadeParameters&&(this._crossfadeParameters=l.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(l,void 0,h)),this.paint=this._transitioningPaint.possiblyEvaluate(l,void 0,h)}serialize(){const l={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(l.layout=l.layout||{},l.layout.visibility=this.visibility),Y(l,(h,g)=>!(h===void 0||g==="layout"&&!Object.keys(h).length||g==="paint"&&!Object.keys(h).length))}_validate(l,h,g,_,E={}){return(!E||E.validate!==!1)&&Ap(this,l.call(bu,{key:h,layerType:this.type,objectKey:g,value:_,styleSpec:ce,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const l in this.paint._values){const h=this.paint.get(l);if(h instanceof vl&&Pa(h.property.specification)&&(h.value.kind==="source"||h.value.kind==="composite")&&h.value.isStateDependent)return!0}return!1}}const p={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class v{constructor(l,h){this._structArray=l,this._pos1=h*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class b{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(l,h){return l._trim(),h&&(l.isTransferred=!0,h.push(l.arrayBuffer)),{length:l.length,arrayBuffer:l.arrayBuffer}}static deserialize(l){const h=Object.create(this.prototype);return h.arrayBuffer=l.arrayBuffer,h.length=l.length,h.capacity=l.arrayBuffer.byteLength/h.bytesPerElement,h._refreshViews(),h}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(l){this.reserve(l),this.length=l}reserve(l){if(l>this.capacity){this.capacity=Math.max(l,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const h=this.uint8;this._refreshViews(),h&&this.uint8.set(h)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function P(c,l=1){let h=0,g=0;return{members:c.map(_=>{const E=p[_.type].BYTES_PER_ELEMENT,T=h=I(h,Math.max(l,E)),D=_.components||1;return g=Math.max(g,E),h+=E*D,{name:_.name,type:_.type,components:D,offset:T}}),size:I(h,Math.max(g,l)),alignment:l}}function I(c,l){return Math.ceil(c/l)*l}class N extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h){const g=this.length;return this.resize(g+1),this.emplace(g,l,h)}emplace(l,h,g){const _=2*l;return this.int16[_+0]=h,this.int16[_+1]=g,l}}N.prototype.bytesPerElement=4,kr("StructArrayLayout2i4",N);class U extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h,g){const _=this.length;return this.resize(_+1),this.emplace(_,l,h,g)}emplace(l,h,g,_){const E=3*l;return this.int16[E+0]=h,this.int16[E+1]=g,this.int16[E+2]=_,l}}U.prototype.bytesPerElement=6,kr("StructArrayLayout3i6",U);class G extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h,g,_){const E=this.length;return this.resize(E+1),this.emplace(E,l,h,g,_)}emplace(l,h,g,_,E){const T=4*l;return this.int16[T+0]=h,this.int16[T+1]=g,this.int16[T+2]=_,this.int16[T+3]=E,l}}G.prototype.bytesPerElement=8,kr("StructArrayLayout4i8",G);class W extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h,g,_,E,T){const D=this.length;return this.resize(D+1),this.emplace(D,l,h,g,_,E,T)}emplace(l,h,g,_,E,T,D){const F=6*l;return this.int16[F+0]=h,this.int16[F+1]=g,this.int16[F+2]=_,this.int16[F+3]=E,this.int16[F+4]=T,this.int16[F+5]=D,l}}W.prototype.bytesPerElement=12,kr("StructArrayLayout2i4i12",W);class oe extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h,g,_,E,T){const D=this.length;return this.resize(D+1),this.emplace(D,l,h,g,_,E,T)}emplace(l,h,g,_,E,T,D){const F=4*l,H=8*l;return this.int16[F+0]=h,this.int16[F+1]=g,this.uint8[H+4]=_,this.uint8[H+5]=E,this.uint8[H+6]=T,this.uint8[H+7]=D,l}}oe.prototype.bytesPerElement=8,kr("StructArrayLayout2i4ub8",oe);class le extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,h){const g=this.length;return this.resize(g+1),this.emplace(g,l,h)}emplace(l,h,g){const _=2*l;return this.float32[_+0]=h,this.float32[_+1]=g,l}}le.prototype.bytesPerElement=8,kr("StructArrayLayout2f8",le);class ie extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,h,g,_,E,T,D,F,H,J){const ne=this.length;return this.resize(ne+1),this.emplace(ne,l,h,g,_,E,T,D,F,H,J)}emplace(l,h,g,_,E,T,D,F,H,J,ne){const ue=10*l;return this.uint16[ue+0]=h,this.uint16[ue+1]=g,this.uint16[ue+2]=_,this.uint16[ue+3]=E,this.uint16[ue+4]=T,this.uint16[ue+5]=D,this.uint16[ue+6]=F,this.uint16[ue+7]=H,this.uint16[ue+8]=J,this.uint16[ue+9]=ne,l}}ie.prototype.bytesPerElement=20,kr("StructArrayLayout10ui20",ie);class he extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,h,g,_,E,T,D,F,H,J,ne,ue){const xe=this.length;return this.resize(xe+1),this.emplace(xe,l,h,g,_,E,T,D,F,H,J,ne,ue)}emplace(l,h,g,_,E,T,D,F,H,J,ne,ue,xe){const Ee=12*l;return this.int16[Ee+0]=h,this.int16[Ee+1]=g,this.int16[Ee+2]=_,this.int16[Ee+3]=E,this.uint16[Ee+4]=T,this.uint16[Ee+5]=D,this.uint16[Ee+6]=F,this.uint16[Ee+7]=H,this.int16[Ee+8]=J,this.int16[Ee+9]=ne,this.int16[Ee+10]=ue,this.int16[Ee+11]=xe,l}}he.prototype.bytesPerElement=24,kr("StructArrayLayout4i4ui4i24",he);class Te extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,h,g){const _=this.length;return this.resize(_+1),this.emplace(_,l,h,g)}emplace(l,h,g,_){const E=3*l;return this.float32[E+0]=h,this.float32[E+1]=g,this.float32[E+2]=_,l}}Te.prototype.bytesPerElement=12,kr("StructArrayLayout3f12",Te);class Ie extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(l){const h=this.length;return this.resize(h+1),this.emplace(h,l)}emplace(l,h){return this.uint32[1*l+0]=h,l}}Ie.prototype.bytesPerElement=4,kr("StructArrayLayout1ul4",Ie);class De extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,h,g,_,E,T,D,F,H){const J=this.length;return this.resize(J+1),this.emplace(J,l,h,g,_,E,T,D,F,H)}emplace(l,h,g,_,E,T,D,F,H,J){const ne=10*l,ue=5*l;return this.int16[ne+0]=h,this.int16[ne+1]=g,this.int16[ne+2]=_,this.int16[ne+3]=E,this.int16[ne+4]=T,this.int16[ne+5]=D,this.uint32[ue+3]=F,this.uint16[ne+8]=H,this.uint16[ne+9]=J,l}}De.prototype.bytesPerElement=20,kr("StructArrayLayout6i1ul2ui20",De);class Le extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h,g,_,E,T){const D=this.length;return this.resize(D+1),this.emplace(D,l,h,g,_,E,T)}emplace(l,h,g,_,E,T,D){const F=6*l;return this.int16[F+0]=h,this.int16[F+1]=g,this.int16[F+2]=_,this.int16[F+3]=E,this.int16[F+4]=T,this.int16[F+5]=D,l}}Le.prototype.bytesPerElement=12,kr("StructArrayLayout2i2i2i12",Le);class Ue extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h,g,_,E){const T=this.length;return this.resize(T+1),this.emplace(T,l,h,g,_,E)}emplace(l,h,g,_,E,T){const D=4*l,F=8*l;return this.float32[D+0]=h,this.float32[D+1]=g,this.float32[D+2]=_,this.int16[F+6]=E,this.int16[F+7]=T,l}}Ue.prototype.bytesPerElement=16,kr("StructArrayLayout2f1f2i16",Ue);class tt extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h,g,_,E,T){const D=this.length;return this.resize(D+1),this.emplace(D,l,h,g,_,E,T)}emplace(l,h,g,_,E,T,D){const F=16*l,H=4*l,J=8*l;return this.uint8[F+0]=h,this.uint8[F+1]=g,this.float32[H+1]=_,this.float32[H+2]=E,this.int16[J+6]=T,this.int16[J+7]=D,l}}tt.prototype.bytesPerElement=16,kr("StructArrayLayout2ub2f2i16",tt);class Je extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,h,g){const _=this.length;return this.resize(_+1),this.emplace(_,l,h,g)}emplace(l,h,g,_){const E=3*l;return this.uint16[E+0]=h,this.uint16[E+1]=g,this.uint16[E+2]=_,l}}Je.prototype.bytesPerElement=6,kr("StructArrayLayout3ui6",Je);class Pt extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,h,g,_,E,T,D,F,H,J,ne,ue,xe,Ee,Me,He,Qe){const _t=this.length;return this.resize(_t+1),this.emplace(_t,l,h,g,_,E,T,D,F,H,J,ne,ue,xe,Ee,Me,He,Qe)}emplace(l,h,g,_,E,T,D,F,H,J,ne,ue,xe,Ee,Me,He,Qe,_t){const ft=24*l,vt=12*l,Rt=48*l;return this.int16[ft+0]=h,this.int16[ft+1]=g,this.uint16[ft+2]=_,this.uint16[ft+3]=E,this.uint32[vt+2]=T,this.uint32[vt+3]=D,this.uint32[vt+4]=F,this.uint16[ft+10]=H,this.uint16[ft+11]=J,this.uint16[ft+12]=ne,this.float32[vt+7]=ue,this.float32[vt+8]=xe,this.uint8[Rt+36]=Ee,this.uint8[Rt+37]=Me,this.uint8[Rt+38]=He,this.uint32[vt+10]=Qe,this.int16[ft+22]=_t,l}}Pt.prototype.bytesPerElement=48,kr("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Pt);class zt extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,h,g,_,E,T,D,F,H,J,ne,ue,xe,Ee,Me,He,Qe,_t,ft,vt,Rt,rr,Er,tn,wr,br,Ur,Or){const Lr=this.length;return this.resize(Lr+1),this.emplace(Lr,l,h,g,_,E,T,D,F,H,J,ne,ue,xe,Ee,Me,He,Qe,_t,ft,vt,Rt,rr,Er,tn,wr,br,Ur,Or)}emplace(l,h,g,_,E,T,D,F,H,J,ne,ue,xe,Ee,Me,He,Qe,_t,ft,vt,Rt,rr,Er,tn,wr,br,Ur,Or,Lr){const jt=32*l,Hr=16*l;return this.int16[jt+0]=h,this.int16[jt+1]=g,this.int16[jt+2]=_,this.int16[jt+3]=E,this.int16[jt+4]=T,this.int16[jt+5]=D,this.int16[jt+6]=F,this.int16[jt+7]=H,this.uint16[jt+8]=J,this.uint16[jt+9]=ne,this.uint16[jt+10]=ue,this.uint16[jt+11]=xe,this.uint16[jt+12]=Ee,this.uint16[jt+13]=Me,this.uint16[jt+14]=He,this.uint16[jt+15]=Qe,this.uint16[jt+16]=_t,this.uint16[jt+17]=ft,this.uint16[jt+18]=vt,this.uint16[jt+19]=Rt,this.uint16[jt+20]=rr,this.uint16[jt+21]=Er,this.uint16[jt+22]=tn,this.uint32[Hr+12]=wr,this.float32[Hr+13]=br,this.float32[Hr+14]=Ur,this.uint16[jt+30]=Or,this.uint16[jt+31]=Lr,l}}zt.prototype.bytesPerElement=64,kr("StructArrayLayout8i15ui1ul2f2ui64",zt);class Ht extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l){const h=this.length;return this.resize(h+1),this.emplace(h,l)}emplace(l,h){return this.float32[1*l+0]=h,l}}Ht.prototype.bytesPerElement=4,kr("StructArrayLayout1f4",Ht);class Zt extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,h,g){const _=this.length;return this.resize(_+1),this.emplace(_,l,h,g)}emplace(l,h,g,_){const E=3*l;return this.uint16[6*l+0]=h,this.float32[E+1]=g,this.float32[E+2]=_,l}}Zt.prototype.bytesPerElement=12,kr("StructArrayLayout1ui2f12",Zt);class Kt extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,h,g){const _=this.length;return this.resize(_+1),this.emplace(_,l,h,g)}emplace(l,h,g,_){const E=4*l;return this.uint32[2*l+0]=h,this.uint16[E+2]=g,this.uint16[E+3]=_,l}}Kt.prototype.bytesPerElement=8,kr("StructArrayLayout1ul2ui8",Kt);class Wt extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,h){const g=this.length;return this.resize(g+1),this.emplace(g,l,h)}emplace(l,h,g){const _=2*l;return this.uint16[_+0]=h,this.uint16[_+1]=g,l}}Wt.prototype.bytesPerElement=4,kr("StructArrayLayout2ui4",Wt);class er extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l){const h=this.length;return this.resize(h+1),this.emplace(h,l)}emplace(l,h){return this.uint16[1*l+0]=h,l}}er.prototype.bytesPerElement=2,kr("StructArrayLayout1ui2",er);class Nr extends b{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,h,g,_){const E=this.length;return this.resize(E+1),this.emplace(E,l,h,g,_)}emplace(l,h,g,_,E){const T=4*l;return this.float32[T+0]=h,this.float32[T+1]=g,this.float32[T+2]=_,this.float32[T+3]=E,l}}Nr.prototype.bytesPerElement=16,kr("StructArrayLayout4f16",Nr);class or extends v{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new w(this.anchorPointX,this.anchorPointY)}}or.prototype.size=20;class ar extends De{get(l){return new or(this,l)}}kr("CollisionBoxArray",ar);class jr extends v{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(l){this._structArray.uint8[this._pos1+37]=l}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(l){this._structArray.uint8[this._pos1+38]=l}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(l){this._structArray.uint32[this._pos4+10]=l}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}jr.prototype.size=48;class on extends Pt{get(l){return new jr(this,l)}}kr("PlacedSymbolArray",on);class en extends v{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(l){this._structArray.uint32[this._pos4+12]=l}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}en.prototype.size=64;class dn extends zt{get(l){return new en(this,l)}}kr("SymbolInstanceArray",dn);class An extends Ht{getoffsetX(l){return this.float32[1*l+0]}}kr("GlyphOffsetArray",An);class ri extends U{getx(l){return this.int16[3*l+0]}gety(l){return this.int16[3*l+1]}gettileUnitDistanceFromAnchor(l){return this.int16[3*l+2]}}kr("SymbolLineVertexArray",ri);class $i extends v{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}$i.prototype.size=12;class jn extends Zt{get(l){return new $i(this,l)}}kr("TextAnchorOffsetArray",jn);class no extends v{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}no.prototype.size=8;class ni extends Kt{get(l){return new no(this,l)}}kr("FeatureIndexArray",ni);class Xi extends N{}class vo extends N{}class Ga extends N{}class Cs extends W{}class Bi extends oe{}class tc extends le{}class Es extends ie{}class _h extends he{}class Sd extends Te{}class ka extends Ie{}class Ka extends Le{}class ea extends tt{}class Ia extends Je{}class uo extends Wt{}const pa=P([{name:"a_pos",components:2,type:"Int16"}],4),{members:La}=pa;class Bn{constructor(l=[]){this.segments=l}prepareSegment(l,h,g,_){let E=this.segments[this.segments.length-1];return l>Bn.MAX_VERTEX_ARRAY_LENGTH&&ye(`Max vertices per segment is ${Bn.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${l}`),(!E||E.vertexLength+l>Bn.MAX_VERTEX_ARRAY_LENGTH||E.sortKey!==_)&&(E={vertexOffset:h.length,primitiveOffset:g.length,vertexLength:0,primitiveLength:0},_!==void 0&&(E.sortKey=_),this.segments.push(E)),E}get(){return this.segments}destroy(){for(const l of this.segments)for(const h in l.vaos)l.vaos[h].destroy()}static simpleSegment(l,h,g,_){return new Bn([{vertexOffset:l,primitiveOffset:h,vertexLength:g,primitiveLength:_,vaos:{},sortKey:0}])}}function ql(c,l){return 256*(c=te(Math.floor(c),0,255))+te(Math.floor(l),0,255)}Bn.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,kr("SegmentVector",Bn);const rc=P([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var xu={exports:{}},Cd={exports:{}};Cd.exports=function(c,l){var h,g,_,E,T,D,F,H;for(g=c.length-(h=3&c.length),_=l,T=3432918353,D=461845907,H=0;H<g;)F=255&c.charCodeAt(H)|(255&c.charCodeAt(++H))<<8|(255&c.charCodeAt(++H))<<16|(255&c.charCodeAt(++H))<<24,++H,_=27492+(65535&(E=5*(65535&(_=(_^=F=(65535&(F=(F=(65535&F)*T+(((F>>>16)*T&65535)<<16)&4294967295)<<15|F>>>17))*D+(((F>>>16)*D&65535)<<16)&4294967295)<<13|_>>>19))+((5*(_>>>16)&65535)<<16)&4294967295))+((58964+(E>>>16)&65535)<<16);switch(F=0,h){case 3:F^=(255&c.charCodeAt(H+2))<<16;case 2:F^=(255&c.charCodeAt(H+1))<<8;case 1:_^=F=(65535&(F=(F=(65535&(F^=255&c.charCodeAt(H)))*T+(((F>>>16)*T&65535)<<16)&4294967295)<<15|F>>>17))*D+(((F>>>16)*D&65535)<<16)&4294967295}return _^=c.length,_=2246822507*(65535&(_^=_>>>16))+((2246822507*(_>>>16)&65535)<<16)&4294967295,_=3266489909*(65535&(_^=_>>>13))+((3266489909*(_>>>16)&65535)<<16)&4294967295,(_^=_>>>16)>>>0};var Ky=Cd.exports,Jm={exports:{}};Jm.exports=function(c,l){for(var h,g=c.length,_=l^g,E=0;g>=4;)h=1540483477*(65535&(h=255&c.charCodeAt(E)|(255&c.charCodeAt(++E))<<8|(255&c.charCodeAt(++E))<<16|(255&c.charCodeAt(++E))<<24))+((1540483477*(h>>>16)&65535)<<16),_=1540483477*(65535&_)+((1540483477*(_>>>16)&65535)<<16)^(h=1540483477*(65535&(h^=h>>>24))+((1540483477*(h>>>16)&65535)<<16)),g-=4,++E;switch(g){case 3:_^=(255&c.charCodeAt(E+2))<<16;case 2:_^=(255&c.charCodeAt(E+1))<<8;case 1:_=1540483477*(65535&(_^=255&c.charCodeAt(E)))+((1540483477*(_>>>16)&65535)<<16)}return _=1540483477*(65535&(_^=_>>>13))+((1540483477*(_>>>16)&65535)<<16),(_^=_>>>15)>>>0};var Hl=Ky,_u=Jm.exports;xu.exports=Hl,xu.exports.murmur3=Hl,xu.exports.murmur2=_u;var vf=f(xu.exports);class wh{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(l,h,g,_){this.ids.push(bf(l)),this.positions.push(h,g,_)}getPositions(l){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const h=bf(l);let g=0,_=this.ids.length-1;for(;g<_;){const T=g+_>>1;this.ids[T]>=h?_=T:g=T+1}const E=[];for(;this.ids[g]===h;)E.push({index:this.positions[3*g],start:this.positions[3*g+1],end:this.positions[3*g+2]}),g++;return E}static serialize(l,h){const g=new Float64Array(l.ids),_=new Uint32Array(l.positions);return Sh(g,_,0,g.length-1),h&&h.push(g.buffer,_.buffer),{ids:g,positions:_}}static deserialize(l){const h=new wh;return h.ids=l.ids,h.positions=l.positions,h.indexed=!0,h}}function bf(c){const l=+c;return!isNaN(l)&&l<=Number.MAX_SAFE_INTEGER?l:vf(String(c))}function Sh(c,l,h,g){for(;h<g;){const _=c[h+g>>1];let E=h-1,T=g+1;for(;;){do E++;while(c[E]<_);do T--;while(c[T]>_);if(E>=T)break;wu(c,E,T),wu(l,3*E,3*T),wu(l,3*E+1,3*T+1),wu(l,3*E+2,3*T+2)}T-h<g-T?(Sh(c,l,h,T),h=T+1):(Sh(c,l,T+1,g),g=T)}}function wu(c,l,h){const g=c[l];c[l]=c[h],c[h]=g}kr("FeaturePositionMap",wh);class Ed{constructor(l,h){this.gl=l.gl,this.location=h}}class Lp extends Ed{constructor(l,h){super(l,h),this.current=0}set(l){this.current!==l&&(this.current=l,this.gl.uniform1f(this.location,l))}}class Mp extends Ed{constructor(l,h){super(l,h),this.current=[0,0,0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]&&l[3]===this.current[3]||(this.current=l,this.gl.uniform4f(this.location,l[0],l[1],l[2],l[3]))}}class Qm extends Ed{constructor(l,h){super(l,h),this.current=In.transparent}set(l){l.r===this.current.r&&l.g===this.current.g&&l.b===this.current.b&&l.a===this.current.a||(this.current=l,this.gl.uniform4f(this.location,l.r,l.g,l.b,l.a))}}const Rp=new Float32Array(16);function eg(c){return[ql(255*c.r,255*c.g),ql(255*c.b,255*c.a)]}class Dp{constructor(l,h,g){this.value=l,this.uniformNames=h.map(_=>`u_${_}`),this.type=g}setUniform(l,h,g){l.set(g.constantOr(this.value))}getBinding(l,h,g){return this.type==="color"?new Qm(l,h):new Lp(l,h)}}class Bc{constructor(l,h){this.uniformNames=h.map(g=>`u_${g}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(l,h){this.pixelRatioFrom=h.pixelRatio,this.pixelRatioTo=l.pixelRatio,this.patternFrom=h.tlbr,this.patternTo=l.tlbr}setUniform(l,h,g,_){const E=_==="u_pattern_to"?this.patternTo:_==="u_pattern_from"?this.patternFrom:_==="u_pixel_ratio_to"?this.pixelRatioTo:_==="u_pixel_ratio_from"?this.pixelRatioFrom:null;E&&l.set(E)}getBinding(l,h,g){return g.substr(0,9)==="u_pattern"?new Mp(l,h):new Lp(l,h)}}class nc{constructor(l,h,g,_){this.expression=l,this.type=g,this.maxValue=0,this.paintVertexAttributes=h.map(E=>({name:`a_${E}`,type:"Float32",components:g==="color"?2:1,offset:0})),this.paintVertexArray=new _}populatePaintArray(l,h,g,_,E){const T=this.paintVertexArray.length,D=this.expression.evaluate(new Pi(0),h,{},_,[],E);this.paintVertexArray.resize(l),this._setPaintValue(T,l,D)}updatePaintArray(l,h,g,_){const E=this.expression.evaluate({zoom:0},g,_);this._setPaintValue(l,h,E)}_setPaintValue(l,h,g){if(this.type==="color"){const _=eg(g);for(let E=l;E<h;E++)this.paintVertexArray.emplace(E,_[0],_[1])}else{for(let _=l;_<h;_++)this.paintVertexArray.emplace(_,g);this.maxValue=Math.max(this.maxValue,Math.abs(g))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class bl{constructor(l,h,g,_,E,T){this.expression=l,this.uniformNames=h.map(D=>`u_${D}_t`),this.type=g,this.useIntegerZoom=_,this.zoom=E,this.maxValue=0,this.paintVertexAttributes=h.map(D=>({name:`a_${D}`,type:"Float32",components:g==="color"?4:2,offset:0})),this.paintVertexArray=new T}populatePaintArray(l,h,g,_,E){const T=this.expression.evaluate(new Pi(this.zoom),h,{},_,[],E),D=this.expression.evaluate(new Pi(this.zoom+1),h,{},_,[],E),F=this.paintVertexArray.length;this.paintVertexArray.resize(l),this._setPaintValue(F,l,T,D)}updatePaintArray(l,h,g,_){const E=this.expression.evaluate({zoom:this.zoom},g,_),T=this.expression.evaluate({zoom:this.zoom+1},g,_);this._setPaintValue(l,h,E,T)}_setPaintValue(l,h,g,_){if(this.type==="color"){const E=eg(g),T=eg(_);for(let D=l;D<h;D++)this.paintVertexArray.emplace(D,E[0],E[1],T[0],T[1])}else{for(let E=l;E<h;E++)this.paintVertexArray.emplace(E,g,_);this.maxValue=Math.max(this.maxValue,Math.abs(g),Math.abs(_))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(l,h){const g=this.useIntegerZoom?Math.floor(h.zoom):h.zoom,_=te(this.expression.interpolationFactor(g,this.zoom,this.zoom+1),0,1);l.set(_)}getBinding(l,h,g){return new Lp(l,h)}}class As{constructor(l,h,g,_,E,T){this.expression=l,this.type=h,this.useIntegerZoom=g,this.zoom=_,this.layerId=T,this.zoomInPaintVertexArray=new E,this.zoomOutPaintVertexArray=new E}populatePaintArray(l,h,g){const _=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(l),this.zoomOutPaintVertexArray.resize(l),this._setPaintValues(_,l,h.patterns&&h.patterns[this.layerId],g)}updatePaintArray(l,h,g,_,E){this._setPaintValues(l,h,g.patterns&&g.patterns[this.layerId],E)}_setPaintValues(l,h,g,_){if(!_||!g)return;const{min:E,mid:T,max:D}=g,F=_[E],H=_[T],J=_[D];if(F&&H&&J)for(let ne=l;ne<h;ne++)this.zoomInPaintVertexArray.emplace(ne,H.tl[0],H.tl[1],H.br[0],H.br[1],F.tl[0],F.tl[1],F.br[0],F.br[1],H.pixelRatio,F.pixelRatio),this.zoomOutPaintVertexArray.emplace(ne,H.tl[0],H.tl[1],H.br[0],H.br[1],J.tl[0],J.tl[1],J.br[0],J.br[1],H.pixelRatio,J.pixelRatio)}upload(l){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=l.createVertexBuffer(this.zoomInPaintVertexArray,rc.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=l.createVertexBuffer(this.zoomOutPaintVertexArray,rc.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Xy{constructor(l,h,g){this.binders={},this._buffers=[];const _=[];for(const E in l.paint._values){if(!g(E))continue;const T=l.paint.get(E);if(!(T instanceof vl&&Pa(T.property.specification)))continue;const D=BS(E,l.type),F=T.value,H=T.property.specification.type,J=T.property.useIntegerZoom,ne=T.property.specification["property-type"],ue=ne==="cross-faded"||ne==="cross-faded-data-driven";if(F.kind==="constant")this.binders[E]=ue?new Bc(F.value,D):new Dp(F.value,D,H),_.push(`/u_${E}`);else if(F.kind==="source"||ue){const xe=Zy(E,H,"source");this.binders[E]=ue?new As(F,H,J,h,xe,l.id):new nc(F,D,H,xe),_.push(`/a_${E}`)}else{const xe=Zy(E,H,"composite");this.binders[E]=new bl(F,D,H,J,h,xe),_.push(`/z_${E}`)}}this.cacheKey=_.sort().join("")}getMaxValue(l){const h=this.binders[l];return h instanceof nc||h instanceof bl?h.maxValue:0}populatePaintArrays(l,h,g,_,E){for(const T in this.binders){const D=this.binders[T];(D instanceof nc||D instanceof bl||D instanceof As)&&D.populatePaintArray(l,h,g,_,E)}}setConstantPatternPositions(l,h){for(const g in this.binders){const _=this.binders[g];_ instanceof Bc&&_.setConstantPatternPositions(l,h)}}updatePaintArrays(l,h,g,_,E){let T=!1;for(const D in l){const F=h.getPositions(D);for(const H of F){const J=g.feature(H.index);for(const ne in this.binders){const ue=this.binders[ne];if((ue instanceof nc||ue instanceof bl||ue instanceof As)&&ue.expression.isStateDependent===!0){const xe=_.paint.get(ne);ue.expression=xe.value,ue.updatePaintArray(H.start,H.end,J,l[D],E),T=!0}}}}return T}defines(){const l=[];for(const h in this.binders){const g=this.binders[h];(g instanceof Dp||g instanceof Bc)&&l.push(...g.uniformNames.map(_=>`#define HAS_UNIFORM_${_}`))}return l}getBinderAttributes(){const l=[];for(const h in this.binders){const g=this.binders[h];if(g instanceof nc||g instanceof bl)for(let _=0;_<g.paintVertexAttributes.length;_++)l.push(g.paintVertexAttributes[_].name);else if(g instanceof As)for(let _=0;_<rc.members.length;_++)l.push(rc.members[_].name)}return l}getBinderUniforms(){const l=[];for(const h in this.binders){const g=this.binders[h];if(g instanceof Dp||g instanceof Bc||g instanceof bl)for(const _ of g.uniformNames)l.push(_)}return l}getPaintVertexBuffers(){return this._buffers}getUniforms(l,h){const g=[];for(const _ in this.binders){const E=this.binders[_];if(E instanceof Dp||E instanceof Bc||E instanceof bl){for(const T of E.uniformNames)if(h[T]){const D=E.getBinding(l,h[T],T);g.push({name:T,property:_,binding:D})}}}return g}setUniforms(l,h,g,_){for(const{name:E,property:T,binding:D}of h)this.binders[T].setUniform(D,_,g.get(T),E)}updatePaintBuffers(l){this._buffers=[];for(const h in this.binders){const g=this.binders[h];if(l&&g instanceof As){const _=l.fromScale===2?g.zoomInPaintVertexBuffer:g.zoomOutPaintVertexBuffer;_&&this._buffers.push(_)}else(g instanceof nc||g instanceof bl)&&g.paintVertexBuffer&&this._buffers.push(g.paintVertexBuffer)}}upload(l){for(const h in this.binders){const g=this.binders[h];(g instanceof nc||g instanceof bl||g instanceof As)&&g.upload(l)}this.updatePaintBuffers()}destroy(){for(const l in this.binders){const h=this.binders[l];(h instanceof nc||h instanceof bl||h instanceof As)&&h.destroy()}}}class Ad{constructor(l,h,g=()=>!0){this.programConfigurations={};for(const _ of l)this.programConfigurations[_.id]=new Xy(_,h,g);this.needsUpload=!1,this._featureMap=new wh,this._bufferOffset=0}populatePaintArrays(l,h,g,_,E,T){for(const D in this.programConfigurations)this.programConfigurations[D].populatePaintArrays(l,h,_,E,T);h.id!==void 0&&this._featureMap.add(h.id,g,this._bufferOffset,l),this._bufferOffset=l,this.needsUpload=!0}updatePaintArrays(l,h,g,_){for(const E of g)this.needsUpload=this.programConfigurations[E.id].updatePaintArrays(l,this._featureMap,h,E,_)||this.needsUpload}get(l){return this.programConfigurations[l]}upload(l){if(this.needsUpload){for(const h in this.programConfigurations)this.programConfigurations[h].upload(l);this.needsUpload=!1}}destroy(){for(const l in this.programConfigurations)this.programConfigurations[l].destroy()}}function BS(c,l){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[c]||[c.replace(`${l}-`,"").replace(/-/g,"_")]}function Zy(c,l,h){const g={color:{source:le,composite:Nr},number:{source:Ht,composite:le}},_=function(E){return{"line-pattern":{source:Es,composite:Es},"fill-pattern":{source:Es,composite:Es},"fill-extrusion-pattern":{source:Es,composite:Es}}[E]}(c);return _&&_[h]||g[l][h]}kr("ConstantBinder",Dp),kr("CrossFadedConstantBinder",Bc),kr("SourceExpressionBinder",nc),kr("CrossFadedCompositeBinder",As),kr("CompositeExpressionBinder",bl),kr("ProgramConfiguration",Xy,{omit:["_buffers"]}),kr("ProgramConfigurationSet",Ad);const zi=8192,Yy=Math.pow(2,14)-1,Jy=-Yy-1;function Ch(c){const l=zi/c.extent,h=c.loadGeometry();for(let g=0;g<h.length;g++){const _=h[g];for(let E=0;E<_.length;E++){const T=_[E],D=Math.round(T.x*l),F=Math.round(T.y*l);T.x=te(D,Jy,Yy),T.y=te(F,Jy,Yy),(D<T.x||D>T.x+1||F<T.y||F>T.y+1)&&ye("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return h}function Td(c,l){return{type:c.type,id:c.id,properties:c.properties,geometry:l?Ch(c):[]}}function tg(c,l,h,g,_){c.emplaceBack(2*l+(g+1)/2,2*h+(_+1)/2)}class Eh{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(h=>h.id),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new vo,this.indexArray=new Ia,this.segments=new Bn,this.programConfigurations=new Ad(l.layers,l.zoom),this.stateDependentLayerIds=this.layers.filter(h=>h.isStateDependent()).map(h=>h.id)}populate(l,h,g){const _=this.layers[0],E=[];let T=null,D=!1;_.type==="circle"&&(T=_.layout.get("circle-sort-key"),D=!T.isConstant());for(const{feature:F,id:H,index:J,sourceLayerIndex:ne}of l){const ue=this.layers[0]._featureFilter.needGeometry,xe=Td(F,ue);if(!this.layers[0]._featureFilter.filter(new Pi(this.zoom),xe,g))continue;const Ee=D?T.evaluate(xe,{},g):void 0,Me={id:H,properties:F.properties,type:F.type,sourceLayerIndex:ne,index:J,geometry:ue?xe.geometry:Ch(F),patterns:{},sortKey:Ee};E.push(Me)}D&&E.sort((F,H)=>F.sortKey-H.sortKey);for(const F of E){const{geometry:H,index:J,sourceLayerIndex:ne}=F,ue=l[J].feature;this.addFeature(F,H,J,g),h.featureIndex.insert(ue,H,J,ne,this.index)}}update(l,h,g){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,h,this.stateDependentLayers,g)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,La),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(l,h,g,_){for(const E of h)for(const T of E){const D=T.x,F=T.y;if(D<0||D>=zi||F<0||F>=zi)continue;const H=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,l.sortKey),J=H.vertexLength;tg(this.layoutVertexArray,D,F,-1,-1),tg(this.layoutVertexArray,D,F,1,-1),tg(this.layoutVertexArray,D,F,1,1),tg(this.layoutVertexArray,D,F,-1,1),this.indexArray.emplaceBack(J,J+1,J+2),this.indexArray.emplaceBack(J,J+3,J+2),H.vertexLength+=4,H.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,g,{},_)}}function rg(c,l){for(let h=0;h<c.length;h++)if(kd(l,c[h]))return!0;for(let h=0;h<l.length;h++)if(kd(c,l[h]))return!0;return!!oc(c,l)}function ng(c,l,h){return!!kd(c,l)||!!Op(l,c,h)}function ic(c,l){if(c.length===1)return y2(l,c[0]);for(let h=0;h<l.length;h++){const g=l[h];for(let _=0;_<g.length;_++)if(kd(c,g[_]))return!0}for(let h=0;h<c.length;h++)if(y2(l,c[h]))return!0;for(let h=0;h<l.length;h++)if(oc(c,l[h]))return!0;return!1}function Pd(c,l,h){if(c.length>1){if(oc(c,l))return!0;for(let g=0;g<l.length;g++)if(Op(l[g],c,h))return!0}for(let g=0;g<c.length;g++)if(Op(c[g],l,h))return!0;return!1}function oc(c,l){if(c.length===0||l.length===0)return!1;for(let h=0;h<c.length-1;h++){const g=c[h],_=c[h+1];for(let E=0;E<l.length-1;E++)if(ig(g,_,l[E],l[E+1]))return!0}return!1}function ig(c,l,h,g){return fe(c,h,g)!==fe(l,h,g)&&fe(c,l,h)!==fe(c,l,g)}function Op(c,l,h){const g=h*h;if(l.length===1)return c.distSqr(l[0])<g;for(let _=1;_<l.length;_++)if(Qy(c,l[_-1],l[_])<g)return!0;return!1}function Qy(c,l,h){const g=l.distSqr(h);if(g===0)return c.distSqr(l);const _=((c.x-l.x)*(h.x-l.x)+(c.y-l.y)*(h.y-l.y))/g;return c.distSqr(_<0?l:_>1?h:h.sub(l)._mult(_)._add(l))}function y2(c,l){let h,g,_,E=!1;for(let T=0;T<c.length;T++){h=c[T];for(let D=0,F=h.length-1;D<h.length;F=D++)g=h[D],_=h[F],g.y>l.y!=_.y>l.y&&l.x<(_.x-g.x)*(l.y-g.y)/(_.y-g.y)+g.x&&(E=!E)}return E}function kd(c,l){let h=!1;for(let g=0,_=c.length-1;g<c.length;_=g++){const E=c[g],T=c[_];E.y>l.y!=T.y>l.y&&l.x<(T.x-E.x)*(l.y-E.y)/(T.y-E.y)+E.x&&(h=!h)}return h}function ev(c,l,h){const g=h[0],_=h[2];if(c.x<g.x&&l.x<g.x||c.x>_.x&&l.x>_.x||c.y<g.y&&l.y<g.y||c.y>_.y&&l.y>_.y)return!1;const E=fe(c,l,h[0]);return E!==fe(c,l,h[1])||E!==fe(c,l,h[2])||E!==fe(c,l,h[3])}function tv(c,l,h){const g=l.paint.get(c).value;return g.kind==="constant"?g.value:h.programConfigurations.get(l.id).getMaxValue(c)}function v2(c){return Math.sqrt(c[0]*c[0]+c[1]*c[1])}function b2(c,l,h,g,_){if(!l[0]&&!l[1])return c;const E=w.convert(l)._mult(_);h==="viewport"&&E._rotate(-g);const T=[];for(let D=0;D<c.length;D++)T.push(c[D].sub(E));return T}let yI,vI;kr("CircleBucket",Eh,{omit:["layers"]});var yV={get paint(){return vI=vI||new y({"circle-radius":new Qr(ce.paint_circle["circle-radius"]),"circle-color":new Qr(ce.paint_circle["circle-color"]),"circle-blur":new Qr(ce.paint_circle["circle-blur"]),"circle-opacity":new Qr(ce.paint_circle["circle-opacity"]),"circle-translate":new Fr(ce.paint_circle["circle-translate"]),"circle-translate-anchor":new Fr(ce.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Fr(ce.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Fr(ce.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Qr(ce.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Qr(ce.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Qr(ce.paint_circle["circle-stroke-opacity"])})},get layout(){return yI=yI||new y({"circle-sort-key":new Qr(ce.layout_circle["circle-sort-key"])})}},Ks=1e-6,og=typeof Float32Array<"u"?Float32Array:Array;function zS(c){return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}function bI(c,l,h){var g=l[0],_=l[1],E=l[2],T=l[3],D=l[4],F=l[5],H=l[6],J=l[7],ne=l[8],ue=l[9],xe=l[10],Ee=l[11],Me=l[12],He=l[13],Qe=l[14],_t=l[15],ft=h[0],vt=h[1],Rt=h[2],rr=h[3];return c[0]=ft*g+vt*D+Rt*ne+rr*Me,c[1]=ft*_+vt*F+Rt*ue+rr*He,c[2]=ft*E+vt*H+Rt*xe+rr*Qe,c[3]=ft*T+vt*J+Rt*Ee+rr*_t,c[4]=(ft=h[4])*g+(vt=h[5])*D+(Rt=h[6])*ne+(rr=h[7])*Me,c[5]=ft*_+vt*F+Rt*ue+rr*He,c[6]=ft*E+vt*H+Rt*xe+rr*Qe,c[7]=ft*T+vt*J+Rt*Ee+rr*_t,c[8]=(ft=h[8])*g+(vt=h[9])*D+(Rt=h[10])*ne+(rr=h[11])*Me,c[9]=ft*_+vt*F+Rt*ue+rr*He,c[10]=ft*E+vt*H+Rt*xe+rr*Qe,c[11]=ft*T+vt*J+Rt*Ee+rr*_t,c[12]=(ft=h[12])*g+(vt=h[13])*D+(Rt=h[14])*ne+(rr=h[15])*Me,c[13]=ft*_+vt*F+Rt*ue+rr*He,c[14]=ft*E+vt*H+Rt*xe+rr*Qe,c[15]=ft*T+vt*J+Rt*Ee+rr*_t,c}Math.hypot||(Math.hypot=function(){for(var c=0,l=arguments.length;l--;)c+=arguments[l]*arguments[l];return Math.sqrt(c)});var rv,vV=bI;function x2(c,l,h){var g=l[0],_=l[1],E=l[2],T=l[3];return c[0]=h[0]*g+h[4]*_+h[8]*E+h[12]*T,c[1]=h[1]*g+h[5]*_+h[9]*E+h[13]*T,c[2]=h[2]*g+h[6]*_+h[10]*E+h[14]*T,c[3]=h[3]*g+h[7]*_+h[11]*E+h[15]*T,c}rv=new og(4),og!=Float32Array&&(rv[0]=0,rv[1]=0,rv[2]=0,rv[3]=0);class bV extends d{constructor(l){super(l,yV)}createBucket(l){return new Eh(l)}queryRadius(l){const h=l;return tv("circle-radius",this,h)+tv("circle-stroke-width",this,h)+v2(this.paint.get("circle-translate"))}queryIntersectsFeature(l,h,g,_,E,T,D,F){const H=b2(l,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),T.angle,D),J=this.paint.get("circle-radius").evaluate(h,g)+this.paint.get("circle-stroke-width").evaluate(h,g),ne=this.paint.get("circle-pitch-alignment")==="map",ue=ne?H:function(Ee,Me){return Ee.map(He=>xI(He,Me))}(H,F),xe=ne?J*D:J;for(const Ee of _)for(const Me of Ee){const He=ne?Me:xI(Me,F);let Qe=xe;const _t=x2([],[Me.x,Me.y,0,1],F);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Qe*=_t[3]/T.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Qe*=T.cameraToCenterDistance/_t[3]),ng(ue,He,Qe))return!0}return!1}}function xI(c,l){const h=x2([],[c.x,c.y,0,1],l);return new w(h[0]/h[3],h[1]/h[3])}class _I extends Eh{}let wI;kr("HeatmapBucket",_I,{omit:["layers"]});var xV={get paint(){return wI=wI||new y({"heatmap-radius":new Qr(ce.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Qr(ce.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Fr(ce.paint_heatmap["heatmap-intensity"]),"heatmap-color":new R(ce.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Fr(ce.paint_heatmap["heatmap-opacity"])})}};function jS(c,{width:l,height:h},g,_){if(_){if(_ instanceof Uint8ClampedArray)_=new Uint8Array(_.buffer);else if(_.length!==l*h*g)throw new RangeError(`mismatched image size. expected: ${_.length} but got: ${l*h*g}`)}else _=new Uint8Array(l*h*g);return c.width=l,c.height=h,c.data=_,c}function SI(c,{width:l,height:h},g){if(l===c.width&&h===c.height)return;const _=jS({},{width:l,height:h},g);US(c,_,{x:0,y:0},{x:0,y:0},{width:Math.min(c.width,l),height:Math.min(c.height,h)},g),c.width=l,c.height=h,c.data=_.data}function US(c,l,h,g,_,E){if(_.width===0||_.height===0)return l;if(_.width>c.width||_.height>c.height||h.x>c.width-_.width||h.y>c.height-_.height)throw new RangeError("out of range source coordinates for image copy");if(_.width>l.width||_.height>l.height||g.x>l.width-_.width||g.y>l.height-_.height)throw new RangeError("out of range destination coordinates for image copy");const T=c.data,D=l.data;if(T===D)throw new Error("srcData equals dstData, so image is already copied");for(let F=0;F<_.height;F++){const H=((h.y+F)*c.width+h.x)*E,J=((g.y+F)*l.width+g.x)*E;for(let ne=0;ne<_.width*E;ne++)D[J+ne]=T[H+ne]}return l}class nv{constructor(l,h){jS(this,l,1,h)}resize(l){SI(this,l,1)}clone(){return new nv({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,h,g,_,E){US(l,h,g,_,E,1)}}class Su{constructor(l,h){jS(this,l,4,h)}resize(l){SI(this,l,4)}replace(l,h){h?this.data.set(l):this.data=l instanceof Uint8ClampedArray?new Uint8Array(l.buffer):l}clone(){return new Su({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,h,g,_,E){US(l,h,g,_,E,4)}}function CI(c){const l={},h=c.resolution||256,g=c.clips?c.clips.length:1,_=c.image||new Su({width:h,height:g});if(Math.log(h)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${h}`);const E=(T,D,F)=>{l[c.evaluationKey]=F;const H=c.expression.evaluate(l);_.data[T+D+0]=Math.floor(255*H.r/H.a),_.data[T+D+1]=Math.floor(255*H.g/H.a),_.data[T+D+2]=Math.floor(255*H.b/H.a),_.data[T+D+3]=Math.floor(255*H.a)};if(c.clips)for(let T=0,D=0;T<g;++T,D+=4*h)for(let F=0,H=0;F<h;F++,H+=4){const J=F/(h-1),{start:ne,end:ue}=c.clips[T];E(D,H,ne*(1-J)+ue*J)}else for(let T=0,D=0;T<h;T++,D+=4)E(0,D,T/(h-1));return _}kr("AlphaImage",nv),kr("RGBAImage",Su);const VS="big-fb";class _V extends d{createBucket(l){return new _I(l)}constructor(l){super(l,xV),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(l){l==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=CI({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(VS)&&this.heatmapFbos.delete(VS)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let EI;var wV={get paint(){return EI=EI||new y({"hillshade-illumination-direction":new Fr(ce.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Fr(ce.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Fr(ce.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Fr(ce.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Fr(ce.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Fr(ce.paint_hillshade["hillshade-accent-color"])})}};class SV extends d{constructor(l){super(l,wV)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const CV=P([{name:"a_pos",components:2,type:"Int16"}],4),{members:EV}=CV;function AI(c,l,h=2){const g=l&&l.length,_=g?l[0]*h:c.length;let E=TI(c,0,_,h,!0);const T=[];if(!E||E.next===E.prev)return T;let D,F,H;if(g&&(E=function(J,ne,ue,xe){const Ee=[];for(let Me=0,He=ne.length;Me<He;Me++){const Qe=TI(J,ne[Me]*xe,Me<He-1?ne[Me+1]*xe:J.length,xe,!1);Qe===Qe.next&&(Qe.steiner=!0),Ee.push(RV(Qe))}Ee.sort(IV);for(let Me=0;Me<Ee.length;Me++)ue=LV(Ee[Me],ue);return ue}(c,l,E,h)),c.length>80*h){D=1/0,F=1/0;let J=-1/0,ne=-1/0;for(let ue=h;ue<_;ue+=h){const xe=c[ue],Ee=c[ue+1];xe<D&&(D=xe),Ee<F&&(F=Ee),xe>J&&(J=xe),Ee>ne&&(ne=Ee)}H=Math.max(J-D,ne-F),H=H!==0?32767/H:0}return iv(E,T,h,D,F,H,0),T}function TI(c,l,h,g,_){let E;if(_===function(T,D,F,H){let J=0;for(let ne=D,ue=F-H;ne<F;ne+=H)J+=(T[ue]-T[ne])*(T[ne+1]+T[ue+1]),ue=ne;return J}(c,l,h,g)>0)for(let T=l;T<h;T+=g)E=II(T/g|0,c[T],c[T+1],E);else for(let T=h-g;T>=l;T-=g)E=II(T/g|0,c[T],c[T+1],E);return E&&_2(E,E.next)&&(av(E),E=E.next),E}function Np(c,l){if(!c)return c;l||(l=c);let h,g=c;do if(h=!1,g.steiner||!_2(g,g.next)&&Vo(g.prev,g,g.next)!==0)g=g.next;else{if(av(g),g=l=g.prev,g===g.next)break;h=!0}while(h||g!==l);return l}function iv(c,l,h,g,_,E,T){if(!c)return;!T&&E&&function(F,H,J,ne){let ue=F;do ue.z===0&&(ue.z=qS(ue.x,ue.y,H,J,ne)),ue.prevZ=ue.prev,ue.nextZ=ue.next,ue=ue.next;while(ue!==F);ue.prevZ.nextZ=null,ue.prevZ=null,function(xe){let Ee,Me=1;do{let He,Qe=xe;xe=null;let _t=null;for(Ee=0;Qe;){Ee++;let ft=Qe,vt=0;for(let rr=0;rr<Me&&(vt++,ft=ft.nextZ,ft);rr++);let Rt=Me;for(;vt>0||Rt>0&&ft;)vt!==0&&(Rt===0||!ft||Qe.z<=ft.z)?(He=Qe,Qe=Qe.nextZ,vt--):(He=ft,ft=ft.nextZ,Rt--),_t?_t.nextZ=He:xe=He,He.prevZ=_t,_t=He;Qe=ft}_t.nextZ=null,Me*=2}while(Ee>1)}(ue)}(c,g,_,E);let D=c;for(;c.prev!==c.next;){const F=c.prev,H=c.next;if(E?TV(c,g,_,E):AV(c))l.push(F.i,c.i,H.i),av(c),c=H.next,D=H.next;else if((c=H)===D){T?T===1?iv(c=PV(Np(c),l),l,h,g,_,E,2):T===2&&kV(c,l,h,g,_,E):iv(Np(c),l,h,g,_,E,1);break}}}function AV(c){const l=c.prev,h=c,g=c.next;if(Vo(l,h,g)>=0)return!1;const _=l.x,E=h.x,T=g.x,D=l.y,F=h.y,H=g.y,J=_<E?_<T?_:T:E<T?E:T,ne=D<F?D<H?D:H:F<H?F:H,ue=_>E?_>T?_:T:E>T?E:T,xe=D>F?D>H?D:H:F>H?F:H;let Ee=g.next;for(;Ee!==l;){if(Ee.x>=J&&Ee.x<=ue&&Ee.y>=ne&&Ee.y<=xe&&ag(_,D,E,F,T,H,Ee.x,Ee.y)&&Vo(Ee.prev,Ee,Ee.next)>=0)return!1;Ee=Ee.next}return!0}function TV(c,l,h,g){const _=c.prev,E=c,T=c.next;if(Vo(_,E,T)>=0)return!1;const D=_.x,F=E.x,H=T.x,J=_.y,ne=E.y,ue=T.y,xe=D<F?D<H?D:H:F<H?F:H,Ee=J<ne?J<ue?J:ue:ne<ue?ne:ue,Me=D>F?D>H?D:H:F>H?F:H,He=J>ne?J>ue?J:ue:ne>ue?ne:ue,Qe=qS(xe,Ee,l,h,g),_t=qS(Me,He,l,h,g);let ft=c.prevZ,vt=c.nextZ;for(;ft&&ft.z>=Qe&&vt&&vt.z<=_t;){if(ft.x>=xe&&ft.x<=Me&&ft.y>=Ee&&ft.y<=He&&ft!==_&&ft!==T&&ag(D,J,F,ne,H,ue,ft.x,ft.y)&&Vo(ft.prev,ft,ft.next)>=0||(ft=ft.prevZ,vt.x>=xe&&vt.x<=Me&&vt.y>=Ee&&vt.y<=He&&vt!==_&&vt!==T&&ag(D,J,F,ne,H,ue,vt.x,vt.y)&&Vo(vt.prev,vt,vt.next)>=0))return!1;vt=vt.nextZ}for(;ft&&ft.z>=Qe;){if(ft.x>=xe&&ft.x<=Me&&ft.y>=Ee&&ft.y<=He&&ft!==_&&ft!==T&&ag(D,J,F,ne,H,ue,ft.x,ft.y)&&Vo(ft.prev,ft,ft.next)>=0)return!1;ft=ft.prevZ}for(;vt&&vt.z<=_t;){if(vt.x>=xe&&vt.x<=Me&&vt.y>=Ee&&vt.y<=He&&vt!==_&&vt!==T&&ag(D,J,F,ne,H,ue,vt.x,vt.y)&&Vo(vt.prev,vt,vt.next)>=0)return!1;vt=vt.nextZ}return!0}function PV(c,l){let h=c;do{const g=h.prev,_=h.next.next;!_2(g,_)&&PI(g,h,h.next,_)&&ov(g,_)&&ov(_,g)&&(l.push(g.i,h.i,_.i),av(h),av(h.next),h=c=_),h=h.next}while(h!==c);return Np(h)}function kV(c,l,h,g,_,E){let T=c;do{let D=T.next.next;for(;D!==T.prev;){if(T.i!==D.i&&DV(T,D)){let F=kI(T,D);return T=Np(T,T.next),F=Np(F,F.next),iv(T,l,h,g,_,E,0),void iv(F,l,h,g,_,E,0)}D=D.next}T=T.next}while(T!==c)}function IV(c,l){return c.x-l.x}function LV(c,l){const h=function(_,E){let T=E;const D=_.x,F=_.y;let H,J=-1/0;do{if(F<=T.y&&F>=T.next.y&&T.next.y!==T.y){const Me=T.x+(F-T.y)*(T.next.x-T.x)/(T.next.y-T.y);if(Me<=D&&Me>J&&(J=Me,H=T.x<T.next.x?T:T.next,Me===D))return H}T=T.next}while(T!==E);if(!H)return null;const ne=H,ue=H.x,xe=H.y;let Ee=1/0;T=H;do{if(D>=T.x&&T.x>=ue&&D!==T.x&&ag(F<xe?D:J,F,ue,xe,F<xe?J:D,F,T.x,T.y)){const Me=Math.abs(F-T.y)/(D-T.x);ov(T,_)&&(Me<Ee||Me===Ee&&(T.x>H.x||T.x===H.x&&MV(H,T)))&&(H=T,Ee=Me)}T=T.next}while(T!==ne);return H}(c,l);if(!h)return l;const g=kI(h,c);return Np(g,g.next),Np(h,h.next)}function MV(c,l){return Vo(c.prev,c,l.prev)<0&&Vo(l.next,c,c.next)<0}function qS(c,l,h,g,_){return(c=1431655765&((c=858993459&((c=252645135&((c=16711935&((c=(c-h)*_|0)|c<<8))|c<<4))|c<<2))|c<<1))|(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=(l-g)*_|0)|l<<8))|l<<4))|l<<2))|l<<1))<<1}function RV(c){let l=c,h=c;do(l.x<h.x||l.x===h.x&&l.y<h.y)&&(h=l),l=l.next;while(l!==c);return h}function ag(c,l,h,g,_,E,T,D){return(_-T)*(l-D)>=(c-T)*(E-D)&&(c-T)*(g-D)>=(h-T)*(l-D)&&(h-T)*(E-D)>=(_-T)*(g-D)}function DV(c,l){return c.next.i!==l.i&&c.prev.i!==l.i&&!function(h,g){let _=h;do{if(_.i!==h.i&&_.next.i!==h.i&&_.i!==g.i&&_.next.i!==g.i&&PI(_,_.next,h,g))return!0;_=_.next}while(_!==h);return!1}(c,l)&&(ov(c,l)&&ov(l,c)&&function(h,g){let _=h,E=!1;const T=(h.x+g.x)/2,D=(h.y+g.y)/2;do _.y>D!=_.next.y>D&&_.next.y!==_.y&&T<(_.next.x-_.x)*(D-_.y)/(_.next.y-_.y)+_.x&&(E=!E),_=_.next;while(_!==h);return E}(c,l)&&(Vo(c.prev,c,l.prev)||Vo(c,l.prev,l))||_2(c,l)&&Vo(c.prev,c,c.next)>0&&Vo(l.prev,l,l.next)>0)}function Vo(c,l,h){return(l.y-c.y)*(h.x-l.x)-(l.x-c.x)*(h.y-l.y)}function _2(c,l){return c.x===l.x&&c.y===l.y}function PI(c,l,h,g){const _=S2(Vo(c,l,h)),E=S2(Vo(c,l,g)),T=S2(Vo(h,g,c)),D=S2(Vo(h,g,l));return _!==E&&T!==D||!(_!==0||!w2(c,h,l))||!(E!==0||!w2(c,g,l))||!(T!==0||!w2(h,c,g))||!(D!==0||!w2(h,l,g))}function w2(c,l,h){return l.x<=Math.max(c.x,h.x)&&l.x>=Math.min(c.x,h.x)&&l.y<=Math.max(c.y,h.y)&&l.y>=Math.min(c.y,h.y)}function S2(c){return c>0?1:c<0?-1:0}function ov(c,l){return Vo(c.prev,c,c.next)<0?Vo(c,l,c.next)>=0&&Vo(c,c.prev,l)>=0:Vo(c,l,c.prev)<0||Vo(c,c.next,l)<0}function kI(c,l){const h=HS(c.i,c.x,c.y),g=HS(l.i,l.x,l.y),_=c.next,E=l.prev;return c.next=l,l.prev=c,h.next=_,_.prev=h,g.next=h,h.prev=g,E.next=g,g.prev=E,g}function II(c,l,h,g){const _=HS(c,l,h);return g?(_.next=g.next,_.prev=g,g.next.prev=_,g.next=_):(_.prev=_,_.next=_),_}function av(c){c.next.prev=c.prev,c.prev.next=c.next,c.prevZ&&(c.prevZ.nextZ=c.nextZ),c.nextZ&&(c.nextZ.prevZ=c.prevZ)}function HS(c,l,h){return{i:c,x:l,y:h,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function WS(c,l,h){const g=h.patternDependencies;let _=!1;for(const E of l){const T=E.paint.get(`${c}-pattern`);T.isConstant()||(_=!0);const D=T.constantOr(null);D&&(_=!0,g[D.to]=!0,g[D.from]=!0)}return _}function GS(c,l,h,g,_){const E=_.patternDependencies;for(const T of l){const D=T.paint.get(`${c}-pattern`).value;if(D.kind!=="constant"){let F=D.evaluate({zoom:g-1},h,{},_.availableImages),H=D.evaluate({zoom:g},h,{},_.availableImages),J=D.evaluate({zoom:g+1},h,{},_.availableImages);F=F&&F.name?F.name:F,H=H&&H.name?H.name:H,J=J&&J.name?J.name:J,E[F]=!0,E[H]=!0,E[J]=!0,h.patterns[T.id]={min:F,mid:H,max:J}}}return h}class KS{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(h=>h.id),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ga,this.indexArray=new Ia,this.indexArray2=new uo,this.programConfigurations=new Ad(l.layers,l.zoom),this.segments=new Bn,this.segments2=new Bn,this.stateDependentLayerIds=this.layers.filter(h=>h.isStateDependent()).map(h=>h.id)}populate(l,h,g){this.hasPattern=WS("fill",this.layers,h);const _=this.layers[0].layout.get("fill-sort-key"),E=!_.isConstant(),T=[];for(const{feature:D,id:F,index:H,sourceLayerIndex:J}of l){const ne=this.layers[0]._featureFilter.needGeometry,ue=Td(D,ne);if(!this.layers[0]._featureFilter.filter(new Pi(this.zoom),ue,g))continue;const xe=E?_.evaluate(ue,{},g,h.availableImages):void 0,Ee={id:F,properties:D.properties,type:D.type,sourceLayerIndex:J,index:H,geometry:ne?ue.geometry:Ch(D),patterns:{},sortKey:xe};T.push(Ee)}E&&T.sort((D,F)=>D.sortKey-F.sortKey);for(const D of T){const{geometry:F,index:H,sourceLayerIndex:J}=D;if(this.hasPattern){const ne=GS("fill",this.layers,D,this.zoom,h);this.patternFeatures.push(ne)}else this.addFeature(D,F,H,g,{});h.featureIndex.insert(l[H].feature,F,H,J,this.index)}}update(l,h,g){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,h,this.stateDependentLayers,g)}addFeatures(l,h,g){for(const _ of this.patternFeatures)this.addFeature(_,_.geometry,_.index,h,g)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,EV),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.indexBuffer2=l.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(l,h,g,_,E){for(const T of $s(h,500)){let D=0;for(const xe of T)D+=xe.length;const F=this.segments.prepareSegment(D,this.layoutVertexArray,this.indexArray),H=F.vertexLength,J=[],ne=[];for(const xe of T){if(xe.length===0)continue;xe!==T[0]&&ne.push(J.length/2);const Ee=this.segments2.prepareSegment(xe.length,this.layoutVertexArray,this.indexArray2),Me=Ee.vertexLength;this.layoutVertexArray.emplaceBack(xe[0].x,xe[0].y),this.indexArray2.emplaceBack(Me+xe.length-1,Me),J.push(xe[0].x),J.push(xe[0].y);for(let He=1;He<xe.length;He++)this.layoutVertexArray.emplaceBack(xe[He].x,xe[He].y),this.indexArray2.emplaceBack(Me+He-1,Me+He),J.push(xe[He].x),J.push(xe[He].y);Ee.vertexLength+=xe.length,Ee.primitiveLength+=xe.length}const ue=AI(J,ne);for(let xe=0;xe<ue.length;xe+=3)this.indexArray.emplaceBack(H+ue[xe],H+ue[xe+1],H+ue[xe+2]);F.vertexLength+=D,F.primitiveLength+=ue.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,g,E,_)}}let LI,MI;kr("FillBucket",KS,{omit:["layers","patternFeatures"]});var OV={get paint(){return MI=MI||new y({"fill-antialias":new Fr(ce.paint_fill["fill-antialias"]),"fill-opacity":new Qr(ce.paint_fill["fill-opacity"]),"fill-color":new Qr(ce.paint_fill["fill-color"]),"fill-outline-color":new Qr(ce.paint_fill["fill-outline-color"]),"fill-translate":new Fr(ce.paint_fill["fill-translate"]),"fill-translate-anchor":new Fr(ce.paint_fill["fill-translate-anchor"]),"fill-pattern":new xh(ce.paint_fill["fill-pattern"])})},get layout(){return LI=LI||new y({"fill-sort-key":new Qr(ce.layout_fill["fill-sort-key"])})}};class NV extends d{constructor(l){super(l,OV)}recalculate(l,h){super.recalculate(l,h);const g=this.paint._values["fill-outline-color"];g.value.kind==="constant"&&g.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(l){return new KS(l)}queryRadius(){return v2(this.paint.get("fill-translate"))}queryIntersectsFeature(l,h,g,_,E,T,D){return ic(b2(l,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),T.angle,D),_)}isTileClipped(){return!0}}const FV=P([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),$V=P([{name:"a_centroid",components:2,type:"Int16"}],4),{members:BV}=FV;var xf={},zV=m,RI=sg;function sg(c,l,h,g,_){this.properties={},this.extent=h,this.type=0,this._pbf=c,this._geometry=-1,this._keys=g,this._values=_,c.readFields(jV,this,l)}function jV(c,l,h){c==1?l.id=h.readVarint():c==2?function(g,_){for(var E=g.readVarint()+g.pos;g.pos<E;){var T=_._keys[g.readVarint()],D=_._values[g.readVarint()];_.properties[T]=D}}(h,l):c==3?l.type=h.readVarint():c==4&&(l._geometry=h.pos)}function UV(c){for(var l,h,g=0,_=0,E=c.length,T=E-1;_<E;T=_++)g+=((h=c[T]).x-(l=c[_]).x)*(l.y+h.y);return g}sg.types=["Unknown","Point","LineString","Polygon"],sg.prototype.loadGeometry=function(){var c=this._pbf;c.pos=this._geometry;for(var l,h=c.readVarint()+c.pos,g=1,_=0,E=0,T=0,D=[];c.pos<h;){if(_<=0){var F=c.readVarint();g=7&F,_=F>>3}if(_--,g===1||g===2)E+=c.readSVarint(),T+=c.readSVarint(),g===1&&(l&&D.push(l),l=[]),l.push(new zV(E,T));else{if(g!==7)throw new Error("unknown command "+g);l&&l.push(l[0].clone())}}return l&&D.push(l),D},sg.prototype.bbox=function(){var c=this._pbf;c.pos=this._geometry;for(var l=c.readVarint()+c.pos,h=1,g=0,_=0,E=0,T=1/0,D=-1/0,F=1/0,H=-1/0;c.pos<l;){if(g<=0){var J=c.readVarint();h=7&J,g=J>>3}if(g--,h===1||h===2)(_+=c.readSVarint())<T&&(T=_),_>D&&(D=_),(E+=c.readSVarint())<F&&(F=E),E>H&&(H=E);else if(h!==7)throw new Error("unknown command "+h)}return[T,F,D,H]},sg.prototype.toGeoJSON=function(c,l,h){var g,_,E=this.extent*Math.pow(2,h),T=this.extent*c,D=this.extent*l,F=this.loadGeometry(),H=sg.types[this.type];function J(xe){for(var Ee=0;Ee<xe.length;Ee++){var Me=xe[Ee];xe[Ee]=[360*(Me.x+T)/E-180,360/Math.PI*Math.atan(Math.exp((180-360*(Me.y+D)/E)*Math.PI/180))-90]}}switch(this.type){case 1:var ne=[];for(g=0;g<F.length;g++)ne[g]=F[g][0];J(F=ne);break;case 2:for(g=0;g<F.length;g++)J(F[g]);break;case 3:for(F=function(xe){var Ee=xe.length;if(Ee<=1)return[xe];for(var Me,He,Qe=[],_t=0;_t<Ee;_t++){var ft=UV(xe[_t]);ft!==0&&(He===void 0&&(He=ft<0),He===ft<0?(Me&&Qe.push(Me),Me=[xe[_t]]):Me.push(xe[_t]))}return Me&&Qe.push(Me),Qe}(F),g=0;g<F.length;g++)for(_=0;_<F[g].length;_++)J(F[g][_])}F.length===1?F=F[0]:H="Multi"+H;var ue={type:"Feature",geometry:{type:H,coordinates:F},properties:this.properties};return"id"in this&&(ue.id=this.id),ue};var VV=RI,DI=OI;function OI(c,l){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=c,this._keys=[],this._values=[],this._features=[],c.readFields(qV,this,l),this.length=this._features.length}function qV(c,l,h){c===15?l.version=h.readVarint():c===1?l.name=h.readString():c===5?l.extent=h.readVarint():c===2?l._features.push(h.pos):c===3?l._keys.push(h.readString()):c===4&&l._values.push(function(g){for(var _=null,E=g.readVarint()+g.pos;g.pos<E;){var T=g.readVarint()>>3;_=T===1?g.readString():T===2?g.readFloat():T===3?g.readDouble():T===4?g.readVarint64():T===5?g.readVarint():T===6?g.readSVarint():T===7?g.readBoolean():null}return _}(h))}OI.prototype.feature=function(c){if(c<0||c>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[c];var l=this._pbf.readVarint()+this._pbf.pos;return new VV(this._pbf,l,this.extent,this._keys,this._values)};var HV=DI;function WV(c,l,h){if(c===3){var g=new HV(h,h.readVarint()+h.pos);g.length&&(l[g.name]=g)}}xf.VectorTile=function(c,l){this.layers=c.readFields(WV,{},l)},xf.VectorTileFeature=RI,xf.VectorTileLayer=DI;const GV=xf.VectorTileFeature.types,XS=Math.pow(2,13);function sv(c,l,h,g,_,E,T,D){c.emplaceBack(l,h,2*Math.floor(g*XS)+T,_*XS*2,E*XS*2,Math.round(D))}class ZS{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(h=>h.id),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new Cs,this.centroidVertexArray=new Xi,this.indexArray=new Ia,this.programConfigurations=new Ad(l.layers,l.zoom),this.segments=new Bn,this.stateDependentLayerIds=this.layers.filter(h=>h.isStateDependent()).map(h=>h.id)}populate(l,h,g){this.features=[],this.hasPattern=WS("fill-extrusion",this.layers,h);for(const{feature:_,id:E,index:T,sourceLayerIndex:D}of l){const F=this.layers[0]._featureFilter.needGeometry,H=Td(_,F);if(!this.layers[0]._featureFilter.filter(new Pi(this.zoom),H,g))continue;const J={id:E,sourceLayerIndex:D,index:T,geometry:F?H.geometry:Ch(_),properties:_.properties,type:_.type,patterns:{}};this.hasPattern?this.features.push(GS("fill-extrusion",this.layers,J,this.zoom,h)):this.addFeature(J,J.geometry,T,g,{}),h.featureIndex.insert(_,J.geometry,T,D,this.index,!0)}}addFeatures(l,h,g){for(const _ of this.features){const{geometry:E}=_;this.addFeature(_,E,_.index,h,g)}}update(l,h,g){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,h,this.stateDependentLayers,g)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,BV),this.centroidVertexBuffer=l.createVertexBuffer(this.centroidVertexArray,$V.members,!0),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(l,h,g,_,E){for(const T of $s(h,500)){const D={x:0,y:0,vertexCount:0};let F=0;for(const Ee of T)F+=Ee.length;let H=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const Ee of T){if(Ee.length===0||XV(Ee))continue;let Me=0;for(let He=0;He<Ee.length;He++){const Qe=Ee[He];if(He>=1){const _t=Ee[He-1];if(!KV(Qe,_t)){H.vertexLength+4>Bn.MAX_VERTEX_ARRAY_LENGTH&&(H=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const ft=Qe.sub(_t)._perp()._unit(),vt=_t.dist(Qe);Me+vt>32768&&(Me=0),sv(this.layoutVertexArray,Qe.x,Qe.y,ft.x,ft.y,0,0,Me),sv(this.layoutVertexArray,Qe.x,Qe.y,ft.x,ft.y,0,1,Me),D.x+=2*Qe.x,D.y+=2*Qe.y,D.vertexCount+=2,Me+=vt,sv(this.layoutVertexArray,_t.x,_t.y,ft.x,ft.y,0,0,Me),sv(this.layoutVertexArray,_t.x,_t.y,ft.x,ft.y,0,1,Me),D.x+=2*_t.x,D.y+=2*_t.y,D.vertexCount+=2;const Rt=H.vertexLength;this.indexArray.emplaceBack(Rt,Rt+2,Rt+1),this.indexArray.emplaceBack(Rt+1,Rt+2,Rt+3),H.vertexLength+=4,H.primitiveLength+=2}}}}if(H.vertexLength+F>Bn.MAX_VERTEX_ARRAY_LENGTH&&(H=this.segments.prepareSegment(F,this.layoutVertexArray,this.indexArray)),GV[l.type]!=="Polygon")continue;const J=[],ne=[],ue=H.vertexLength;for(const Ee of T)if(Ee.length!==0){Ee!==T[0]&&ne.push(J.length/2);for(let Me=0;Me<Ee.length;Me++){const He=Ee[Me];sv(this.layoutVertexArray,He.x,He.y,0,0,1,1,0),D.x+=He.x,D.y+=He.y,D.vertexCount+=1,J.push(He.x),J.push(He.y)}}const xe=AI(J,ne);for(let Ee=0;Ee<xe.length;Ee+=3)this.indexArray.emplaceBack(ue+xe[Ee],ue+xe[Ee+2],ue+xe[Ee+1]);H.primitiveLength+=xe.length/3,H.vertexLength+=F;for(let Ee=0;Ee<D.vertexCount;Ee++){const Me=Math.floor(D.x/D.vertexCount),He=Math.floor(D.y/D.vertexCount);this.centroidVertexArray.emplaceBack(Me,He)}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,g,E,_)}}function KV(c,l){return c.x===l.x&&(c.x<0||c.x>zi)||c.y===l.y&&(c.y<0||c.y>zi)}function XV(c){return c.every(l=>l.x<0)||c.every(l=>l.x>zi)||c.every(l=>l.y<0)||c.every(l=>l.y>zi)}let NI;kr("FillExtrusionBucket",ZS,{omit:["layers","features"]});var ZV={get paint(){return NI=NI||new y({"fill-extrusion-opacity":new Fr(ce["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Qr(ce["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Fr(ce["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Fr(ce["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new xh(ce["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Qr(ce["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Qr(ce["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Fr(ce["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class YV extends d{constructor(l){super(l,ZV)}createBucket(l){return new ZS(l)}queryRadius(){return v2(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(l,h,g,_,E,T,D,F){const H=b2(l,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),T.angle,D),J=this.paint.get("fill-extrusion-height").evaluate(h,g),ne=this.paint.get("fill-extrusion-base").evaluate(h,g),ue=function(Ee,Me,He,Qe){const _t=[];for(const ft of Ee){const vt=[ft.x,ft.y,0,1];x2(vt,vt,Me),_t.push(new w(vt[0]/vt[3],vt[1]/vt[3]))}return _t}(H,F),xe=function(Ee,Me,He,Qe){const _t=[],ft=[],vt=Qe[8]*Me,Rt=Qe[9]*Me,rr=Qe[10]*Me,Er=Qe[11]*Me,tn=Qe[8]*He,wr=Qe[9]*He,br=Qe[10]*He,Ur=Qe[11]*He;for(const Or of Ee){const Lr=[],jt=[];for(const Hr of Or){const Br=Hr.x,yn=Hr.y,Mi=Qe[0]*Br+Qe[4]*yn+Qe[12],Ii=Qe[1]*Br+Qe[5]*yn+Qe[13],Ma=Qe[2]*Br+Qe[6]*yn+Qe[14],ac=Qe[3]*Br+Qe[7]*yn+Qe[15],as=Ma+rr,Ra=ac+Er,Xs=Mi+tn,Zs=Ii+wr,Ys=Ma+br,ko=ac+Ur,Da=new w((Mi+vt)/Ra,(Ii+Rt)/Ra);Da.z=as/Ra,Lr.push(Da);const Ts=new w(Xs/ko,Zs/ko);Ts.z=Ys/ko,jt.push(Ts)}_t.push(Lr),ft.push(jt)}return[_t,ft]}(_,ne,J,F);return function(Ee,Me,He){let Qe=1/0;ic(He,Me)&&(Qe=FI(He,Me[0]));for(let _t=0;_t<Me.length;_t++){const ft=Me[_t],vt=Ee[_t];for(let Rt=0;Rt<ft.length-1;Rt++){const rr=ft[Rt],Er=[rr,ft[Rt+1],vt[Rt+1],vt[Rt],rr];rg(He,Er)&&(Qe=Math.min(Qe,FI(He,Er)))}}return Qe!==1/0&&Qe}(xe[0],xe[1],ue)}}function lv(c,l){return c.x*l.x+c.y*l.y}function FI(c,l){if(c.length===1){let h=0;const g=l[h++];let _;for(;!_||g.equals(_);)if(_=l[h++],!_)return 1/0;for(;h<l.length;h++){const E=l[h],T=c[0],D=_.sub(g),F=E.sub(g),H=T.sub(g),J=lv(D,D),ne=lv(D,F),ue=lv(F,F),xe=lv(H,D),Ee=lv(H,F),Me=J*ue-ne*ne,He=(ue*xe-ne*Ee)/Me,Qe=(J*Ee-ne*xe)/Me,_t=g.z*(1-He-Qe)+_.z*He+E.z*Qe;if(isFinite(_t))return _t}return 1/0}{let h=1/0;for(const g of l)h=Math.min(h,g.z);return h}}const JV=P([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:QV}=JV,eq=P([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:tq}=eq,rq=xf.VectorTileFeature.types,nq=Math.cos(Math.PI/180*37.5),$I=Math.pow(2,14)/.5;class YS{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(h=>h.id),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(h=>{this.gradients[h.id]={}}),this.layoutVertexArray=new Bi,this.layoutVertexArray2=new tc,this.indexArray=new Ia,this.programConfigurations=new Ad(l.layers,l.zoom),this.segments=new Bn,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(h=>h.isStateDependent()).map(h=>h.id)}populate(l,h,g){this.hasPattern=WS("line",this.layers,h);const _=this.layers[0].layout.get("line-sort-key"),E=!_.isConstant(),T=[];for(const{feature:D,id:F,index:H,sourceLayerIndex:J}of l){const ne=this.layers[0]._featureFilter.needGeometry,ue=Td(D,ne);if(!this.layers[0]._featureFilter.filter(new Pi(this.zoom),ue,g))continue;const xe=E?_.evaluate(ue,{},g):void 0,Ee={id:F,properties:D.properties,type:D.type,sourceLayerIndex:J,index:H,geometry:ne?ue.geometry:Ch(D),patterns:{},sortKey:xe};T.push(Ee)}E&&T.sort((D,F)=>D.sortKey-F.sortKey);for(const D of T){const{geometry:F,index:H,sourceLayerIndex:J}=D;if(this.hasPattern){const ne=GS("line",this.layers,D,this.zoom,h);this.patternFeatures.push(ne)}else this.addFeature(D,F,H,g,{});h.featureIndex.insert(l[H].feature,F,H,J,this.index)}}update(l,h,g){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,h,this.stateDependentLayers,g)}addFeatures(l,h,g){for(const _ of this.patternFeatures)this.addFeature(_,_.geometry,_.index,h,g)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=l.createVertexBuffer(this.layoutVertexArray2,tq)),this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,QV),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(l){if(l.properties&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_end"))return{start:+l.properties.mapbox_clip_start,end:+l.properties.mapbox_clip_end}}addFeature(l,h,g,_,E){const T=this.layers[0].layout,D=T.get("line-join").evaluate(l,{}),F=T.get("line-cap"),H=T.get("line-miter-limit"),J=T.get("line-round-limit");this.lineClips=this.lineFeatureClips(l);for(const ne of h)this.addLine(ne,l,D,F,H,J);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,g,E,_)}addLine(l,h,g,_,E,T){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Qe=0;Qe<l.length-1;Qe++)this.totalDistance+=l[Qe].dist(l[Qe+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const D=rq[h.type]==="Polygon";let F=l.length;for(;F>=2&&l[F-1].equals(l[F-2]);)F--;let H=0;for(;H<F-1&&l[H].equals(l[H+1]);)H++;if(F<(D?3:2))return;g==="bevel"&&(E=1.05);const J=this.overscaling<=16?15*zi/(512*this.overscaling):0,ne=this.segments.prepareSegment(10*F,this.layoutVertexArray,this.indexArray);let ue,xe,Ee,Me,He;this.e1=this.e2=-1,D&&(ue=l[F-2],He=l[H].sub(ue)._unit()._perp());for(let Qe=H;Qe<F;Qe++){if(Ee=Qe===F-1?D?l[H+1]:void 0:l[Qe+1],Ee&&l[Qe].equals(Ee))continue;He&&(Me=He),ue&&(xe=ue),ue=l[Qe],He=Ee?Ee.sub(ue)._unit()._perp():Me,Me=Me||He;let _t=Me.add(He);_t.x===0&&_t.y===0||_t._unit();const ft=Me.x*He.x+Me.y*He.y,vt=_t.x*He.x+_t.y*He.y,Rt=vt!==0?1/vt:1/0,rr=2*Math.sqrt(2-2*vt),Er=vt<nq&&xe&&Ee,tn=Me.x*He.y-Me.y*He.x>0;if(Er&&Qe>H){const Ur=ue.dist(xe);if(Ur>2*J){const Or=ue.sub(ue.sub(xe)._mult(J/Ur)._round());this.updateDistance(xe,Or),this.addCurrentVertex(Or,Me,0,0,ne),xe=Or}}const wr=xe&&Ee;let br=wr?g:D?"butt":_;if(wr&&br==="round"&&(Rt<T?br="miter":Rt<=2&&(br="fakeround")),br==="miter"&&Rt>E&&(br="bevel"),br==="bevel"&&(Rt>2&&(br="flipbevel"),Rt<E&&(br="miter")),xe&&this.updateDistance(xe,ue),br==="miter")_t._mult(Rt),this.addCurrentVertex(ue,_t,0,0,ne);else if(br==="flipbevel"){if(Rt>100)_t=He.mult(-1);else{const Ur=Rt*Me.add(He).mag()/Me.sub(He).mag();_t._perp()._mult(Ur*(tn?-1:1))}this.addCurrentVertex(ue,_t,0,0,ne),this.addCurrentVertex(ue,_t.mult(-1),0,0,ne)}else if(br==="bevel"||br==="fakeround"){const Ur=-Math.sqrt(Rt*Rt-1),Or=tn?Ur:0,Lr=tn?0:Ur;if(xe&&this.addCurrentVertex(ue,Me,Or,Lr,ne),br==="fakeround"){const jt=Math.round(180*rr/Math.PI/20);for(let Hr=1;Hr<jt;Hr++){let Br=Hr/jt;if(Br!==.5){const Mi=Br-.5;Br+=Br*Mi*(Br-1)*((1.0904+ft*(ft*(3.55645-1.43519*ft)-3.2452))*Mi*Mi+(.848013+ft*(.215638*ft-1.06021)))}const yn=He.sub(Me)._mult(Br)._add(Me)._unit()._mult(tn?-1:1);this.addHalfVertex(ue,yn.x,yn.y,!1,tn,0,ne)}}Ee&&this.addCurrentVertex(ue,He,-Or,-Lr,ne)}else if(br==="butt")this.addCurrentVertex(ue,_t,0,0,ne);else if(br==="square"){const Ur=xe?1:-1;this.addCurrentVertex(ue,_t,Ur,Ur,ne)}else br==="round"&&(xe&&(this.addCurrentVertex(ue,Me,0,0,ne),this.addCurrentVertex(ue,Me,1,1,ne,!0)),Ee&&(this.addCurrentVertex(ue,He,-1,-1,ne,!0),this.addCurrentVertex(ue,He,0,0,ne)));if(Er&&Qe<F-1){const Ur=ue.dist(Ee);if(Ur>2*J){const Or=ue.add(Ee.sub(ue)._mult(J/Ur)._round());this.updateDistance(ue,Or),this.addCurrentVertex(Or,He,0,0,ne),ue=Or}}}}addCurrentVertex(l,h,g,_,E,T=!1){const D=h.y*_-h.x,F=-h.y-h.x*_;this.addHalfVertex(l,h.x+h.y*g,h.y-h.x*g,T,!1,g,E),this.addHalfVertex(l,D,F,T,!0,-_,E),this.distance>$I/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(l,h,g,_,E,T))}addHalfVertex({x:l,y:h},g,_,E,T,D,F){const H=.5*(this.lineClips?this.scaledDistance*($I-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((l<<1)+(E?1:0),(h<<1)+(T?1:0),Math.round(63*g)+128,Math.round(63*_)+128,1+(D===0?0:D<0?-1:1)|(63&H)<<2,H>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const J=F.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,J),F.primitiveLength++),T?this.e2=J:this.e1=J}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(l,h){this.distance+=l.dist(h),this.updateScaledDistance()}}let BI,zI;kr("LineBucket",YS,{omit:["layers","patternFeatures"]});var jI={get paint(){return zI=zI||new y({"line-opacity":new Qr(ce.paint_line["line-opacity"]),"line-color":new Qr(ce.paint_line["line-color"]),"line-translate":new Fr(ce.paint_line["line-translate"]),"line-translate-anchor":new Fr(ce.paint_line["line-translate-anchor"]),"line-width":new Qr(ce.paint_line["line-width"]),"line-gap-width":new Qr(ce.paint_line["line-gap-width"]),"line-offset":new Qr(ce.paint_line["line-offset"]),"line-blur":new Qr(ce.paint_line["line-blur"]),"line-dasharray":new A(ce.paint_line["line-dasharray"]),"line-pattern":new xh(ce.paint_line["line-pattern"]),"line-gradient":new R(ce.paint_line["line-gradient"])})},get layout(){return BI=BI||new y({"line-cap":new Fr(ce.layout_line["line-cap"]),"line-join":new Qr(ce.layout_line["line-join"]),"line-miter-limit":new Fr(ce.layout_line["line-miter-limit"]),"line-round-limit":new Fr(ce.layout_line["line-round-limit"]),"line-sort-key":new Qr(ce.layout_line["line-sort-key"])})}};class iq extends Qr{possiblyEvaluate(l,h){return h=new Pi(Math.floor(h.zoom),{now:h.now,fadeDuration:h.fadeDuration,zoomHistory:h.zoomHistory,transition:h.transition}),super.possiblyEvaluate(l,h)}evaluate(l,h,g,_){return h=ee({},h,{zoom:Math.floor(h.zoom)}),super.evaluate(l,h,g,_)}}let C2;class oq extends d{constructor(l){super(l,jI),this.gradientVersion=0,C2||(C2=new iq(jI.paint.properties["line-width"].specification),C2.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(l){if(l==="line-gradient"){const h=this.gradientExpression();this.stepInterpolant=!!function(g){return g._styleExpression!==void 0}(h)&&h._styleExpression.expression instanceof Xt,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(l,h){super.recalculate(l,h),this.paint._values["line-floorwidth"]=C2.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,l)}createBucket(l){return new YS(l)}queryRadius(l){const h=l,g=UI(tv("line-width",this,h),tv("line-gap-width",this,h)),_=tv("line-offset",this,h);return g/2+Math.abs(_)+v2(this.paint.get("line-translate"))}queryIntersectsFeature(l,h,g,_,E,T,D){const F=b2(l,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),T.angle,D),H=D/2*UI(this.paint.get("line-width").evaluate(h,g),this.paint.get("line-gap-width").evaluate(h,g)),J=this.paint.get("line-offset").evaluate(h,g);return J&&(_=function(ne,ue){const xe=[];for(let Ee=0;Ee<ne.length;Ee++){const Me=ne[Ee],He=[];for(let Qe=0;Qe<Me.length;Qe++){const _t=Me[Qe-1],ft=Me[Qe],vt=Me[Qe+1],Rt=Qe===0?new w(0,0):ft.sub(_t)._unit()._perp(),rr=Qe===Me.length-1?new w(0,0):vt.sub(ft)._unit()._perp(),Er=Rt._add(rr)._unit(),tn=Er.x*rr.x+Er.y*rr.y;tn!==0&&Er._mult(1/tn),He.push(Er._mult(ue)._add(ft))}xe.push(He)}return xe}(_,J*D)),function(ne,ue,xe){for(let Ee=0;Ee<ue.length;Ee++){const Me=ue[Ee];if(ne.length>=3){for(let He=0;He<Me.length;He++)if(kd(ne,Me[He]))return!0}if(Pd(ne,Me,xe))return!0}return!1}(F,_,H)}isTileClipped(){return!0}}function UI(c,l){return l>0?l+2*c:c}const aq=P([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),sq=P([{name:"a_projected_pos",components:3,type:"Float32"}],4);P([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const lq=P([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);P([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const VI=P([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),uq=P([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function cq(c,l,h){return c.sections.forEach(g=>{g.text=function(_,E,T){const D=E.layout.get("text-transform").evaluate(T,{});return D==="uppercase"?_=_.toLocaleUpperCase():D==="lowercase"&&(_=_.toLocaleLowerCase()),Ss.applyArabicShaping&&(_=Ss.applyArabicShaping(_)),_}(g.text,l,h)}),c}P([{name:"triangle",components:3,type:"Uint16"}]),P([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),P([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),P([{type:"Float32",name:"offsetX"}]),P([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),P([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const uv={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};var ma=24,qI=ki,HI=function(c,l,h,g,_){var E,T,D=8*_-g-1,F=(1<<D)-1,H=F>>1,J=-7,ne=_-1,ue=-1,xe=c[l+ne];for(ne+=ue,E=xe&(1<<-J)-1,xe>>=-J,J+=D;J>0;E=256*E+c[l+ne],ne+=ue,J-=8);for(T=E&(1<<-J)-1,E>>=-J,J+=g;J>0;T=256*T+c[l+ne],ne+=ue,J-=8);if(E===0)E=1-H;else{if(E===F)return T?NaN:1/0*(xe?-1:1);T+=Math.pow(2,g),E-=H}return(xe?-1:1)*T*Math.pow(2,E-g)},WI=function(c,l,h,g,_,E){var T,D,F,H=8*E-_-1,J=(1<<H)-1,ne=J>>1,ue=_===23?Math.pow(2,-24)-Math.pow(2,-77):0,xe=0,Ee=1,Me=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(D=isNaN(l)?1:0,T=J):(T=Math.floor(Math.log(l)/Math.LN2),l*(F=Math.pow(2,-T))<1&&(T--,F*=2),(l+=T+ne>=1?ue/F:ue*Math.pow(2,1-ne))*F>=2&&(T++,F/=2),T+ne>=J?(D=0,T=J):T+ne>=1?(D=(l*F-1)*Math.pow(2,_),T+=ne):(D=l*Math.pow(2,ne-1)*Math.pow(2,_),T=0));_>=8;c[h+xe]=255&D,xe+=Ee,D/=256,_-=8);for(T=T<<_|D,H+=_;H>0;c[h+xe]=255&T,xe+=Ee,T/=256,H-=8);c[h+xe-Ee]|=128*Me};function ki(c){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(c)?c:new Uint8Array(c||0),this.pos=0,this.type=0,this.length=this.buf.length}ki.Varint=0,ki.Fixed64=1,ki.Bytes=2,ki.Fixed32=5;var JS=4294967296,GI=1/JS,KI=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");function Ah(c){return c.type===ki.Bytes?c.readVarint()+c.pos:c.pos+1}function lg(c,l,h){return h?4294967296*l+(c>>>0):4294967296*(l>>>0)+(c>>>0)}function XI(c,l,h){var g=l<=16383?1:l<=2097151?2:l<=268435455?3:Math.floor(Math.log(l)/(7*Math.LN2));h.realloc(g);for(var _=h.pos-1;_>=c;_--)h.buf[_+g]=h.buf[_]}function dq(c,l){for(var h=0;h<c.length;h++)l.writeVarint(c[h])}function hq(c,l){for(var h=0;h<c.length;h++)l.writeSVarint(c[h])}function fq(c,l){for(var h=0;h<c.length;h++)l.writeFloat(c[h])}function pq(c,l){for(var h=0;h<c.length;h++)l.writeDouble(c[h])}function mq(c,l){for(var h=0;h<c.length;h++)l.writeBoolean(c[h])}function gq(c,l){for(var h=0;h<c.length;h++)l.writeFixed32(c[h])}function yq(c,l){for(var h=0;h<c.length;h++)l.writeSFixed32(c[h])}function vq(c,l){for(var h=0;h<c.length;h++)l.writeFixed64(c[h])}function bq(c,l){for(var h=0;h<c.length;h++)l.writeSFixed64(c[h])}function E2(c,l){return(c[l]|c[l+1]<<8|c[l+2]<<16)+16777216*c[l+3]}function ug(c,l,h){c[h]=l,c[h+1]=l>>>8,c[h+2]=l>>>16,c[h+3]=l>>>24}function ZI(c,l){return(c[l]|c[l+1]<<8|c[l+2]<<16)+(c[l+3]<<24)}ki.prototype={destroy:function(){this.buf=null},readFields:function(c,l,h){for(h=h||this.length;this.pos<h;){var g=this.readVarint(),_=g>>3,E=this.pos;this.type=7&g,c(_,l,this),this.pos===E&&this.skip(g)}return l},readMessage:function(c,l){return this.readFields(c,l,this.readVarint()+this.pos)},readFixed32:function(){var c=E2(this.buf,this.pos);return this.pos+=4,c},readSFixed32:function(){var c=ZI(this.buf,this.pos);return this.pos+=4,c},readFixed64:function(){var c=E2(this.buf,this.pos)+E2(this.buf,this.pos+4)*JS;return this.pos+=8,c},readSFixed64:function(){var c=E2(this.buf,this.pos)+ZI(this.buf,this.pos+4)*JS;return this.pos+=8,c},readFloat:function(){var c=HI(this.buf,this.pos,!0,23,4);return this.pos+=4,c},readDouble:function(){var c=HI(this.buf,this.pos,!0,52,8);return this.pos+=8,c},readVarint:function(c){var l,h,g=this.buf;return l=127&(h=g[this.pos++]),h<128?l:(l|=(127&(h=g[this.pos++]))<<7,h<128?l:(l|=(127&(h=g[this.pos++]))<<14,h<128?l:(l|=(127&(h=g[this.pos++]))<<21,h<128?l:function(_,E,T){var D,F,H=T.buf;if(D=(112&(F=H[T.pos++]))>>4,F<128||(D|=(127&(F=H[T.pos++]))<<3,F<128)||(D|=(127&(F=H[T.pos++]))<<10,F<128)||(D|=(127&(F=H[T.pos++]))<<17,F<128)||(D|=(127&(F=H[T.pos++]))<<24,F<128)||(D|=(1&(F=H[T.pos++]))<<31,F<128))return lg(_,D,E);throw new Error("Expected varint not more than 10 bytes")}(l|=(15&(h=g[this.pos]))<<28,c,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var c=this.readVarint();return c%2==1?(c+1)/-2:c/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var c=this.readVarint()+this.pos,l=this.pos;return this.pos=c,c-l>=12&&KI?function(h,g,_){return KI.decode(h.subarray(g,_))}(this.buf,l,c):function(h,g,_){for(var E="",T=g;T<_;){var D,F,H,J=h[T],ne=null,ue=J>239?4:J>223?3:J>191?2:1;if(T+ue>_)break;ue===1?J<128&&(ne=J):ue===2?(192&(D=h[T+1]))==128&&(ne=(31&J)<<6|63&D)<=127&&(ne=null):ue===3?(F=h[T+2],(192&(D=h[T+1]))==128&&(192&F)==128&&((ne=(15&J)<<12|(63&D)<<6|63&F)<=2047||ne>=55296&&ne<=57343)&&(ne=null)):ue===4&&(F=h[T+2],H=h[T+3],(192&(D=h[T+1]))==128&&(192&F)==128&&(192&H)==128&&((ne=(15&J)<<18|(63&D)<<12|(63&F)<<6|63&H)<=65535||ne>=1114112)&&(ne=null)),ne===null?(ne=65533,ue=1):ne>65535&&(ne-=65536,E+=String.fromCharCode(ne>>>10&1023|55296),ne=56320|1023&ne),E+=String.fromCharCode(ne),T+=ue}return E}(this.buf,l,c)},readBytes:function(){var c=this.readVarint()+this.pos,l=this.buf.subarray(this.pos,c);return this.pos=c,l},readPackedVarint:function(c,l){if(this.type!==ki.Bytes)return c.push(this.readVarint(l));var h=Ah(this);for(c=c||[];this.pos<h;)c.push(this.readVarint(l));return c},readPackedSVarint:function(c){if(this.type!==ki.Bytes)return c.push(this.readSVarint());var l=Ah(this);for(c=c||[];this.pos<l;)c.push(this.readSVarint());return c},readPackedBoolean:function(c){if(this.type!==ki.Bytes)return c.push(this.readBoolean());var l=Ah(this);for(c=c||[];this.pos<l;)c.push(this.readBoolean());return c},readPackedFloat:function(c){if(this.type!==ki.Bytes)return c.push(this.readFloat());var l=Ah(this);for(c=c||[];this.pos<l;)c.push(this.readFloat());return c},readPackedDouble:function(c){if(this.type!==ki.Bytes)return c.push(this.readDouble());var l=Ah(this);for(c=c||[];this.pos<l;)c.push(this.readDouble());return c},readPackedFixed32:function(c){if(this.type!==ki.Bytes)return c.push(this.readFixed32());var l=Ah(this);for(c=c||[];this.pos<l;)c.push(this.readFixed32());return c},readPackedSFixed32:function(c){if(this.type!==ki.Bytes)return c.push(this.readSFixed32());var l=Ah(this);for(c=c||[];this.pos<l;)c.push(this.readSFixed32());return c},readPackedFixed64:function(c){if(this.type!==ki.Bytes)return c.push(this.readFixed64());var l=Ah(this);for(c=c||[];this.pos<l;)c.push(this.readFixed64());return c},readPackedSFixed64:function(c){if(this.type!==ki.Bytes)return c.push(this.readSFixed64());var l=Ah(this);for(c=c||[];this.pos<l;)c.push(this.readSFixed64());return c},skip:function(c){var l=7&c;if(l===ki.Varint)for(;this.buf[this.pos++]>127;);else if(l===ki.Bytes)this.pos=this.readVarint()+this.pos;else if(l===ki.Fixed32)this.pos+=4;else{if(l!==ki.Fixed64)throw new Error("Unimplemented type: "+l);this.pos+=8}},writeTag:function(c,l){this.writeVarint(c<<3|l)},realloc:function(c){for(var l=this.length||16;l<this.pos+c;)l*=2;if(l!==this.length){var h=new Uint8Array(l);h.set(this.buf),this.buf=h,this.length=l}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(c){this.realloc(4),ug(this.buf,c,this.pos),this.pos+=4},writeSFixed32:function(c){this.realloc(4),ug(this.buf,c,this.pos),this.pos+=4},writeFixed64:function(c){this.realloc(8),ug(this.buf,-1&c,this.pos),ug(this.buf,Math.floor(c*GI),this.pos+4),this.pos+=8},writeSFixed64:function(c){this.realloc(8),ug(this.buf,-1&c,this.pos),ug(this.buf,Math.floor(c*GI),this.pos+4),this.pos+=8},writeVarint:function(c){(c=+c||0)>268435455||c<0?function(l,h){var g,_;if(l>=0?(g=l%4294967296|0,_=l/4294967296|0):(_=~(-l/4294967296),4294967295^(g=~(-l%4294967296))?g=g+1|0:(g=0,_=_+1|0)),l>=18446744073709552e3||l<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");h.realloc(10),function(E,T,D){D.buf[D.pos++]=127&E|128,E>>>=7,D.buf[D.pos++]=127&E|128,E>>>=7,D.buf[D.pos++]=127&E|128,E>>>=7,D.buf[D.pos++]=127&E|128,D.buf[D.pos]=127&(E>>>=7)}(g,0,h),function(E,T){var D=(7&E)<<4;T.buf[T.pos++]|=D|((E>>>=3)?128:0),E&&(T.buf[T.pos++]=127&E|((E>>>=7)?128:0),E&&(T.buf[T.pos++]=127&E|((E>>>=7)?128:0),E&&(T.buf[T.pos++]=127&E|((E>>>=7)?128:0),E&&(T.buf[T.pos++]=127&E|((E>>>=7)?128:0),E&&(T.buf[T.pos++]=127&E)))))}(_,h)}(c,this):(this.realloc(4),this.buf[this.pos++]=127&c|(c>127?128:0),c<=127||(this.buf[this.pos++]=127&(c>>>=7)|(c>127?128:0),c<=127||(this.buf[this.pos++]=127&(c>>>=7)|(c>127?128:0),c<=127||(this.buf[this.pos++]=c>>>7&127))))},writeSVarint:function(c){this.writeVarint(c<0?2*-c-1:2*c)},writeBoolean:function(c){this.writeVarint(!!c)},writeString:function(c){c=String(c),this.realloc(4*c.length),this.pos++;var l=this.pos;this.pos=function(g,_,E){for(var T,D,F=0;F<_.length;F++){if((T=_.charCodeAt(F))>55295&&T<57344){if(!D){T>56319||F+1===_.length?(g[E++]=239,g[E++]=191,g[E++]=189):D=T;continue}if(T<56320){g[E++]=239,g[E++]=191,g[E++]=189,D=T;continue}T=D-55296<<10|T-56320|65536,D=null}else D&&(g[E++]=239,g[E++]=191,g[E++]=189,D=null);T<128?g[E++]=T:(T<2048?g[E++]=T>>6|192:(T<65536?g[E++]=T>>12|224:(g[E++]=T>>18|240,g[E++]=T>>12&63|128),g[E++]=T>>6&63|128),g[E++]=63&T|128)}return E}(this.buf,c,this.pos);var h=this.pos-l;h>=128&&XI(l,h,this),this.pos=l-1,this.writeVarint(h),this.pos+=h},writeFloat:function(c){this.realloc(4),WI(this.buf,c,this.pos,!0,23,4),this.pos+=4},writeDouble:function(c){this.realloc(8),WI(this.buf,c,this.pos,!0,52,8),this.pos+=8},writeBytes:function(c){var l=c.length;this.writeVarint(l),this.realloc(l);for(var h=0;h<l;h++)this.buf[this.pos++]=c[h]},writeRawMessage:function(c,l){this.pos++;var h=this.pos;c(l,this);var g=this.pos-h;g>=128&&XI(h,g,this),this.pos=h-1,this.writeVarint(g),this.pos+=g},writeMessage:function(c,l,h){this.writeTag(c,ki.Bytes),this.writeRawMessage(l,h)},writePackedVarint:function(c,l){l.length&&this.writeMessage(c,dq,l)},writePackedSVarint:function(c,l){l.length&&this.writeMessage(c,hq,l)},writePackedBoolean:function(c,l){l.length&&this.writeMessage(c,mq,l)},writePackedFloat:function(c,l){l.length&&this.writeMessage(c,fq,l)},writePackedDouble:function(c,l){l.length&&this.writeMessage(c,pq,l)},writePackedFixed32:function(c,l){l.length&&this.writeMessage(c,gq,l)},writePackedSFixed32:function(c,l){l.length&&this.writeMessage(c,yq,l)},writePackedFixed64:function(c,l){l.length&&this.writeMessage(c,vq,l)},writePackedSFixed64:function(c,l){l.length&&this.writeMessage(c,bq,l)},writeBytesField:function(c,l){this.writeTag(c,ki.Bytes),this.writeBytes(l)},writeFixed32Field:function(c,l){this.writeTag(c,ki.Fixed32),this.writeFixed32(l)},writeSFixed32Field:function(c,l){this.writeTag(c,ki.Fixed32),this.writeSFixed32(l)},writeFixed64Field:function(c,l){this.writeTag(c,ki.Fixed64),this.writeFixed64(l)},writeSFixed64Field:function(c,l){this.writeTag(c,ki.Fixed64),this.writeSFixed64(l)},writeVarintField:function(c,l){this.writeTag(c,ki.Varint),this.writeVarint(l)},writeSVarintField:function(c,l){this.writeTag(c,ki.Varint),this.writeSVarint(l)},writeStringField:function(c,l){this.writeTag(c,ki.Bytes),this.writeString(l)},writeFloatField:function(c,l){this.writeTag(c,ki.Fixed32),this.writeFloat(l)},writeDoubleField:function(c,l){this.writeTag(c,ki.Fixed64),this.writeDouble(l)},writeBooleanField:function(c,l){this.writeVarintField(c,!!l)}};var QS=f(qI);const eC=3;function xq(c,l,h){c===1&&h.readMessage(_q,l)}function _q(c,l,h){if(c===3){const{id:g,bitmap:_,width:E,height:T,left:D,top:F,advance:H}=h.readMessage(wq,{});l.push({id:g,bitmap:new nv({width:E+2*eC,height:T+2*eC},_),metrics:{width:E,height:T,left:D,top:F,advance:H}})}}function wq(c,l,h){c===1?l.id=h.readVarint():c===2?l.bitmap=h.readBytes():c===3?l.width=h.readVarint():c===4?l.height=h.readVarint():c===5?l.left=h.readSVarint():c===6?l.top=h.readSVarint():c===7&&(l.advance=h.readVarint())}const YI=eC;function JI(c){let l=0,h=0;for(const T of c)l+=T.w*T.h,h=Math.max(h,T.w);c.sort((T,D)=>D.h-T.h);const g=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(l/.95)),h),h:1/0}];let _=0,E=0;for(const T of c)for(let D=g.length-1;D>=0;D--){const F=g[D];if(!(T.w>F.w||T.h>F.h)){if(T.x=F.x,T.y=F.y,E=Math.max(E,T.y+T.h),_=Math.max(_,T.x+T.w),T.w===F.w&&T.h===F.h){const H=g.pop();D<g.length&&(g[D]=H)}else T.h===F.h?(F.x+=T.w,F.w-=T.w):T.w===F.w?(F.y+=T.h,F.h-=T.h):(g.push({x:F.x+T.w,y:F.y,w:F.w-T.w,h:T.h}),F.y+=T.h,F.h-=T.h);break}}return{w:_,h:E,fill:l/(_*E)||0}}const xl=1;class tC{constructor(l,{pixelRatio:h,version:g,stretchX:_,stretchY:E,content:T,textFitWidth:D,textFitHeight:F}){this.paddedRect=l,this.pixelRatio=h,this.stretchX=_,this.stretchY=E,this.content=T,this.version=g,this.textFitWidth=D,this.textFitHeight=F}get tl(){return[this.paddedRect.x+xl,this.paddedRect.y+xl]}get br(){return[this.paddedRect.x+this.paddedRect.w-xl,this.paddedRect.y+this.paddedRect.h-xl]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*xl)/this.pixelRatio,(this.paddedRect.h-2*xl)/this.pixelRatio]}}class QI{constructor(l,h){const g={},_={};this.haveRenderCallbacks=[];const E=[];this.addImages(l,g,E),this.addImages(h,_,E);const{w:T,h:D}=JI(E),F=new Su({width:T||1,height:D||1});for(const H in l){const J=l[H],ne=g[H].paddedRect;Su.copy(J.data,F,{x:0,y:0},{x:ne.x+xl,y:ne.y+xl},J.data)}for(const H in h){const J=h[H],ne=_[H].paddedRect,ue=ne.x+xl,xe=ne.y+xl,Ee=J.data.width,Me=J.data.height;Su.copy(J.data,F,{x:0,y:0},{x:ue,y:xe},J.data),Su.copy(J.data,F,{x:0,y:Me-1},{x:ue,y:xe-1},{width:Ee,height:1}),Su.copy(J.data,F,{x:0,y:0},{x:ue,y:xe+Me},{width:Ee,height:1}),Su.copy(J.data,F,{x:Ee-1,y:0},{x:ue-1,y:xe},{width:1,height:Me}),Su.copy(J.data,F,{x:0,y:0},{x:ue+Ee,y:xe},{width:1,height:Me})}this.image=F,this.iconPositions=g,this.patternPositions=_}addImages(l,h,g){for(const _ in l){const E=l[_],T={x:0,y:0,w:E.data.width+2*xl,h:E.data.height+2*xl};g.push(T),h[_]=new tC(T,E),E.hasRenderCallback&&this.haveRenderCallbacks.push(_)}}patchUpdatedImages(l,h){l.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const g in l.updatedImages)this.patchUpdatedImage(this.iconPositions[g],l.getImage(g),h),this.patchUpdatedImage(this.patternPositions[g],l.getImage(g),h)}patchUpdatedImage(l,h,g){if(!l||!h||l.version===h.version)return;l.version=h.version;const[_,E]=l.tl;g.update(h.data,void 0,{x:_,y:E})}}var _f;kr("ImagePosition",tC),kr("ImageAtlas",QI),u.ah=void 0,(_f=u.ah||(u.ah={}))[_f.none=0]="none",_f[_f.horizontal=1]="horizontal",_f[_f.vertical=2]="vertical",_f[_f.horizontalOnly=3]="horizontalOnly";const cv=-17;class dv{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(l,h){const g=new dv;return g.scale=l||1,g.fontStack=h,g}static forImage(l){const h=new dv;return h.imageName=l,h}}class cg{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(l,h){const g=new cg;for(let _=0;_<l.sections.length;_++){const E=l.sections[_];E.image?g.addImageSection(E):g.addTextSection(E,h)}return g}length(){return this.text.length}getSection(l){return this.sections[this.sectionIndex[l]]}getSectionIndex(l){return this.sectionIndex[l]}getCharCode(l){return this.text.charCodeAt(l)}verticalizePunctuation(){this.text=function(l){let h="";for(let g=0;g<l.length;g++){const _=l.charCodeAt(g+1)||null,E=l.charCodeAt(g-1)||null;h+=_&&yh(_)&&!uv[l[g+1]]||E&&yh(E)&&!uv[l[g-1]]||!uv[l[g]]?l[g]:uv[l[g]]}return h}(this.text)}trim(){let l=0;for(let g=0;g<this.text.length&&T2[this.text.charCodeAt(g)];g++)l++;let h=this.text.length;for(let g=this.text.length-1;g>=0&&g>=l&&T2[this.text.charCodeAt(g)];g--)h--;this.text=this.text.substring(l,h),this.sectionIndex=this.sectionIndex.slice(l,h)}substring(l,h){const g=new cg;return g.text=this.text.substring(l,h),g.sectionIndex=this.sectionIndex.slice(l,h),g.sections=this.sections,g}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((l,h)=>Math.max(l,this.sections[h].scale),0)}addTextSection(l,h){this.text+=l.text,this.sections.push(dv.forText(l.scale,l.fontStack||h));const g=this.sections.length-1;for(let _=0;_<l.text.length;++_)this.sectionIndex.push(g)}addImageSection(l){const h=l.image?l.image.name:"";if(h.length===0)return void ye("Can't add FormattedSection with an empty image.");const g=this.getNextImageSectionCharCode();g?(this.text+=String.fromCharCode(g),this.sections.push(dv.forImage(h)),this.sectionIndex.push(this.sections.length-1)):ye("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function A2(c,l,h,g,_,E,T,D,F,H,J,ne,ue,xe,Ee){const Me=cg.fromFeature(c,_);let He;ne===u.ah.vertical&&Me.verticalizePunctuation();const{processBidirectionalText:Qe,processStyledBidirectionalText:_t}=Ss;if(Qe&&Me.sections.length===1){He=[];const Rt=Qe(Me.toString(),rC(Me,H,E,l,g,xe));for(const rr of Rt){const Er=new cg;Er.text=rr,Er.sections=Me.sections;for(let tn=0;tn<rr.length;tn++)Er.sectionIndex.push(0);He.push(Er)}}else if(_t){He=[];const Rt=_t(Me.text,Me.sectionIndex,rC(Me,H,E,l,g,xe));for(const rr of Rt){const Er=new cg;Er.text=rr[0],Er.sectionIndex=rr[1],Er.sections=Me.sections,He.push(Er)}}else He=function(Rt,rr){const Er=[],tn=Rt.text;let wr=0;for(const br of rr)Er.push(Rt.substring(wr,br)),wr=br;return wr<tn.length&&Er.push(Rt.substring(wr,tn.length)),Er}(Me,rC(Me,H,E,l,g,xe));const ft=[],vt={positionedLines:ft,text:Me.toString(),top:J[1],bottom:J[1],left:J[0],right:J[0],writingMode:ne,iconsInText:!1,verticalizable:!1};return function(Rt,rr,Er,tn,wr,br,Ur,Or,Lr,jt,Hr,Br){let yn=0,Mi=cv,Ii=0,Ma=0;const ac=Or==="right"?1:Or==="left"?0:.5;let as=0;for(const ko of wr){ko.trim();const Da=ko.getMaxScale(),Ts=(Da-1)*ma,ss={positionedGlyphs:[],lineOffset:0};Rt.positionedLines[as]=ss;const Js=ss.positionedGlyphs;let ls=0;if(!ko.length()){Mi+=br,++as;continue}for(let _l=0;_l<ko.length();_l++){const ii=ko.getSection(_l),ji=ko.getSectionIndex(_l),Zi=ko.getCharCode(_l);let Wl=0,bo=null,pg=null,Ld=null,Md=ma;const sc=!(Lr===u.ah.horizontal||!Hr&&!kp(Zi)||Hr&&(T2[Zi]||(Ra=Zi,new RegExp("\\p{sc=Arab}","u").test(String.fromCodePoint(Ra)))));if(ii.imageName){const Au=tn[ii.imageName];if(!Au)continue;Ld=ii.imageName,Rt.iconsInText=Rt.iconsInText||!0,pg=Au.paddedRect;const Xa=Au.displaySize;ii.scale=ii.scale*ma/Br,bo={width:Xa[0],height:Xa[1],left:xl,top:-YI,advance:sc?Xa[1]:Xa[0]},Wl=Ts+(ma-Xa[1]*ii.scale),Md=bo.advance;const Th=sc?Xa[0]*ii.scale-ma*Da:Xa[1]*ii.scale-ma*Da;Th>0&&Th>ls&&(ls=Th)}else{const Au=Er[ii.fontStack],Xa=Au&&Au[Zi];if(Xa&&Xa.rect)pg=Xa.rect,bo=Xa.metrics;else{const Th=rr[ii.fontStack],yv=Th&&Th[Zi];if(!yv)continue;bo=yv.metrics}Wl=(Da-ii.scale)*ma}sc?(Rt.verticalizable=!0,Js.push({glyph:Zi,imageName:Ld,x:yn,y:Mi+Wl,vertical:sc,scale:ii.scale,fontStack:ii.fontStack,sectionIndex:ji,metrics:bo,rect:pg}),yn+=Md*ii.scale+jt):(Js.push({glyph:Zi,imageName:Ld,x:yn,y:Mi+Wl,vertical:sc,scale:ii.scale,fontStack:ii.fontStack,sectionIndex:ji,metrics:bo,rect:pg}),yn+=bo.advance*ii.scale+jt)}Js.length!==0&&(Ii=Math.max(yn-jt,Ii),Aq(Js,0,Js.length-1,ac,ls)),yn=0;const Eu=br*Da+ls;ss.lineOffset=Math.max(ls,Ts),Mi+=Eu,Ma=Math.max(Eu,Ma),++as}var Ra;const Xs=Mi-cv,{horizontalAlign:Zs,verticalAlign:Ys}=nC(Ur);(function(ko,Da,Ts,ss,Js,ls,Eu,_l,ii){const ji=(Da-Ts)*Js;let Zi=0;Zi=ls!==Eu?-_l*ss-cv:(-ss*ii+.5)*Eu;for(const Wl of ko)for(const bo of Wl.positionedGlyphs)bo.x+=ji,bo.y+=Zi})(Rt.positionedLines,ac,Zs,Ys,Ii,Ma,br,Xs,wr.length),Rt.top+=-Ys*Xs,Rt.bottom=Rt.top+Xs,Rt.left+=-Zs*Ii,Rt.right=Rt.left+Ii}(vt,l,h,g,He,T,D,F,ne,H,ue,Ee),!function(Rt){for(const rr of Rt)if(rr.positionedGlyphs.length!==0)return!1;return!0}(ft)&&vt}const T2={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Sq={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},Cq={40:!0};function e6(c,l,h,g,_,E){if(l.imageName){const T=g[l.imageName];return T?T.displaySize[0]*l.scale*ma/E+_:0}{const T=h[l.fontStack],D=T&&T[c];return D?D.metrics.advance*l.scale+_:0}}function t6(c,l,h,g){const _=Math.pow(c-l,2);return g?c<l?_/2:2*_:_+Math.abs(h)*h}function Eq(c,l,h){let g=0;return c===10&&(g-=1e4),h&&(g+=150),c!==40&&c!==65288||(g+=50),l!==41&&l!==65289||(g+=50),g}function r6(c,l,h,g,_,E){let T=null,D=t6(l,h,_,E);for(const F of g){const H=t6(l-F.x,h,_,E)+F.badness;H<=D&&(T=F,D=H)}return{index:c,x:l,priorBreak:T,badness:D}}function n6(c){return c?n6(c.priorBreak).concat(c.index):[]}function rC(c,l,h,g,_,E){if(!c)return[];const T=[],D=function(ne,ue,xe,Ee,Me,He){let Qe=0;for(let _t=0;_t<ne.length();_t++){const ft=ne.getSection(_t);Qe+=e6(ne.getCharCode(_t),ft,Ee,Me,ue,He)}return Qe/Math.max(1,Math.ceil(Qe/xe))}(c,l,h,g,_,E),F=c.text.indexOf("​")>=0;let H=0;for(let ne=0;ne<c.length();ne++){const ue=c.getSection(ne),xe=c.getCharCode(ne);if(T2[xe]||(H+=e6(xe,ue,g,_,l,E)),ne<c.length()-1){const Ee=!((J=xe)<11904)&&(!!vn["CJK Compatibility Forms"](J)||!!vn["CJK Compatibility"](J)||!!vn["CJK Strokes"](J)||!!vn["CJK Symbols and Punctuation"](J)||!!vn["Enclosed CJK Letters and Months"](J)||!!vn["Halfwidth and Fullwidth Forms"](J)||!!vn["Ideographic Description Characters"](J)||!!vn["Vertical Forms"](J)||Pp.test(String.fromCodePoint(J)));(Sq[xe]||Ee||ue.imageName||ne!==c.length()-2&&Cq[c.getCharCode(ne+1)])&&T.push(r6(ne+1,H,D,T,Eq(xe,c.getCharCode(ne+1),Ee&&F),!1))}}var J;return n6(r6(c.length(),H,D,T,0,!0))}function nC(c){let l=.5,h=.5;switch(c){case"right":case"top-right":case"bottom-right":l=1;break;case"left":case"top-left":case"bottom-left":l=0}switch(c){case"bottom":case"bottom-right":case"bottom-left":h=1;break;case"top":case"top-right":case"top-left":h=0}return{horizontalAlign:l,verticalAlign:h}}function Aq(c,l,h,g,_){if(!g&&!_)return;const E=c[h],T=(c[h].x+E.metrics.advance*E.scale)*g;for(let D=l;D<=h;D++)c[D].x-=T,c[D].y+=_}function Tq(c,l,h){const{horizontalAlign:g,verticalAlign:_}=nC(h),E=l[0]-c.displaySize[0]*g,T=l[1]-c.displaySize[1]*_;return{image:c,top:T,bottom:T+c.displaySize[1],left:E,right:E+c.displaySize[0]}}function i6(c){var l,h;let g=c.left,_=c.top,E=c.right-g,T=c.bottom-_;const D=(l=c.image.textFitWidth)!==null&&l!==void 0?l:"stretchOrShrink",F=(h=c.image.textFitHeight)!==null&&h!==void 0?h:"stretchOrShrink",H=(c.image.content[2]-c.image.content[0])/(c.image.content[3]-c.image.content[1]);if(F==="proportional"){if(D==="stretchOnly"&&E/T<H||D==="proportional"){const J=Math.ceil(T*H);g*=J/E,E=J}}else if(D==="proportional"&&F==="stretchOnly"&&H!==0&&E/T>H){const J=Math.ceil(E/H);_*=J/T,T=J}return{x1:g,y1:_,x2:g+E,y2:_+T}}function o6(c,l,h,g,_,E){const T=c.image;let D;if(T.content){const He=T.content,Qe=T.pixelRatio||1;D=[He[0]/Qe,He[1]/Qe,T.displaySize[0]-He[2]/Qe,T.displaySize[1]-He[3]/Qe]}const F=l.left*E,H=l.right*E;let J,ne,ue,xe;h==="width"||h==="both"?(xe=_[0]+F-g[3],ne=_[0]+H+g[1]):(xe=_[0]+(F+H-T.displaySize[0])/2,ne=xe+T.displaySize[0]);const Ee=l.top*E,Me=l.bottom*E;return h==="height"||h==="both"?(J=_[1]+Ee-g[0],ue=_[1]+Me+g[2]):(J=_[1]+(Ee+Me-T.displaySize[1])/2,ue=J+T.displaySize[1]),{image:T,top:J,right:ne,bottom:ue,left:xe,collisionPadding:D}}const hv=255,Id=128,wf=hv*Id;function a6(c,l){const{expression:h}=l;if(h.kind==="constant")return{kind:"constant",layoutSize:h.evaluate(new Pi(c+1))};if(h.kind==="source")return{kind:"source"};{const{zoomStops:g,interpolationType:_}=h;let E=0;for(;E<g.length&&g[E]<=c;)E++;E=Math.max(0,E-1);let T=E;for(;T<g.length&&g[T]<c+1;)T++;T=Math.min(g.length-1,T);const D=g[E],F=g[T];return h.kind==="composite"?{kind:"composite",minZoom:D,maxZoom:F,interpolationType:_}:{kind:"camera",minZoom:D,maxZoom:F,minSize:h.evaluate(new Pi(D)),maxSize:h.evaluate(new Pi(F)),interpolationType:_}}}function iC(c,l,h){let g="never";const _=c.get(l);return _?g=_:c.get(h)&&(g="always"),g}const Pq=xf.VectorTileFeature.types,kq=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function P2(c,l,h,g,_,E,T,D,F,H,J,ne,ue){const xe=D?Math.min(wf,Math.round(D[0])):0,Ee=D?Math.min(wf,Math.round(D[1])):0;c.emplaceBack(l,h,Math.round(32*g),Math.round(32*_),E,T,(xe<<1)+(F?1:0),Ee,16*H,16*J,256*ne,256*ue)}function oC(c,l,h){c.emplaceBack(l.x,l.y,h),c.emplaceBack(l.x,l.y,h),c.emplaceBack(l.x,l.y,h),c.emplaceBack(l.x,l.y,h)}function Iq(c){for(const l of c.sections)if(Zm(l.text))return!0;return!1}class aC{constructor(l){this.layoutVertexArray=new _h,this.indexArray=new Ia,this.programConfigurations=l,this.segments=new Bn,this.dynamicLayoutVertexArray=new Sd,this.opacityVertexArray=new ka,this.hasVisibleVertices=!1,this.placedSymbolArray=new on}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(l,h,g,_){this.isEmpty()||(g&&(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,aq.members),this.indexBuffer=l.createIndexBuffer(this.indexArray,h),this.dynamicLayoutVertexBuffer=l.createVertexBuffer(this.dynamicLayoutVertexArray,sq.members,!0),this.opacityVertexBuffer=l.createVertexBuffer(this.opacityVertexArray,kq,!0),this.opacityVertexBuffer.itemSize=1),(g||_)&&this.programConfigurations.upload(l))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}kr("SymbolBuffers",aC);class sC{constructor(l,h,g){this.layoutVertexArray=new l,this.layoutAttributes=h,this.indexArray=new g,this.segments=new Bn,this.collisionVertexArray=new ea}upload(l){this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=l.createVertexBuffer(this.collisionVertexArray,lq.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}kr("CollisionBuffers",sC);class dg{constructor(l){this.collisionBoxArray=l.collisionBoxArray,this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(T=>T.id),this.index=l.index,this.pixelRatio=l.pixelRatio,this.sourceLayerIndex=l.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=zS([]),this.placementViewportMatrix=zS([]);const h=this.layers[0]._unevaluatedLayout._values;this.textSizeData=a6(this.zoom,h["text-size"]),this.iconSizeData=a6(this.zoom,h["icon-size"]);const g=this.layers[0].layout,_=g.get("symbol-sort-key"),E=g.get("symbol-z-order");this.canOverlap=iC(g,"text-overlap","text-allow-overlap")!=="never"||iC(g,"icon-overlap","icon-allow-overlap")!=="never"||g.get("text-ignore-placement")||g.get("icon-ignore-placement"),this.sortFeaturesByKey=E!=="viewport-y"&&!_.isConstant(),this.sortFeaturesByY=(E==="viewport-y"||E==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,g.get("symbol-placement")==="point"&&(this.writingModes=g.get("text-writing-mode").map(T=>u.ah[T])),this.stateDependentLayerIds=this.layers.filter(T=>T.isStateDependent()).map(T=>T.id),this.sourceID=l.sourceID}createArrays(){this.text=new aC(new Ad(this.layers,this.zoom,l=>/^text/.test(l))),this.icon=new aC(new Ad(this.layers,this.zoom,l=>/^icon/.test(l))),this.glyphOffsetArray=new An,this.lineVertexArray=new ri,this.symbolInstances=new dn,this.textAnchorOffsets=new jn}calculateGlyphDependencies(l,h,g,_,E){for(let T=0;T<l.length;T++)if(h[l.charCodeAt(T)]=!0,(g||_)&&E){const D=uv[l.charAt(T)];D&&(h[D.charCodeAt(0)]=!0)}}populate(l,h,g){const _=this.layers[0],E=_.layout,T=E.get("text-font"),D=E.get("text-field"),F=E.get("icon-image"),H=(D.value.kind!=="constant"||D.value.value instanceof Ln&&!D.value.value.isEmpty()||D.value.value.toString().length>0)&&(T.value.kind!=="constant"||T.value.value.length>0),J=F.value.kind!=="constant"||!!F.value.value||Object.keys(F.parameters).length>0,ne=E.get("symbol-sort-key");if(this.features=[],!H&&!J)return;const ue=h.iconDependencies,xe=h.glyphDependencies,Ee=h.availableImages,Me=new Pi(this.zoom);for(const{feature:He,id:Qe,index:_t,sourceLayerIndex:ft}of l){const vt=_._featureFilter.needGeometry,Rt=Td(He,vt);if(!_._featureFilter.filter(Me,Rt,g))continue;let rr,Er;if(vt||(Rt.geometry=Ch(He)),H){const wr=_.getValueAndResolveTokens("text-field",Rt,g,Ee),br=Ln.factory(wr),Ur=this.hasRTLText=this.hasRTLText||Iq(br);(!Ur||Ss.getRTLTextPluginStatus()==="unavailable"||Ur&&Ss.isParsed())&&(rr=cq(br,_,Rt))}if(J){const wr=_.getValueAndResolveTokens("icon-image",Rt,g,Ee);Er=wr instanceof Wn?wr:Wn.fromString(wr)}if(!rr&&!Er)continue;const tn=this.sortFeaturesByKey?ne.evaluate(Rt,{},g):void 0;if(this.features.push({id:Qe,text:rr,icon:Er,index:_t,sourceLayerIndex:ft,geometry:Rt.geometry,properties:He.properties,type:Pq[He.type],sortKey:tn}),Er&&(ue[Er.name]=!0),rr){const wr=T.evaluate(Rt,{},g).join(","),br=E.get("text-rotation-alignment")!=="viewport"&&E.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(u.ah.vertical)>=0;for(const Ur of rr.sections)if(Ur.image)ue[Ur.image.name]=!0;else{const Or=Tp(rr.toString()),Lr=Ur.fontStack||wr,jt=xe[Lr]=xe[Lr]||{};this.calculateGlyphDependencies(Ur.text,jt,br,this.allowVerticalPlacement,Or)}}}E.get("symbol-placement")==="line"&&(this.features=function(He){const Qe={},_t={},ft=[];let vt=0;function Rt(wr){ft.push(He[wr]),vt++}function rr(wr,br,Ur){const Or=_t[wr];return delete _t[wr],_t[br]=Or,ft[Or].geometry[0].pop(),ft[Or].geometry[0]=ft[Or].geometry[0].concat(Ur[0]),Or}function Er(wr,br,Ur){const Or=Qe[br];return delete Qe[br],Qe[wr]=Or,ft[Or].geometry[0].shift(),ft[Or].geometry[0]=Ur[0].concat(ft[Or].geometry[0]),Or}function tn(wr,br,Ur){const Or=Ur?br[0][br[0].length-1]:br[0][0];return`${wr}:${Or.x}:${Or.y}`}for(let wr=0;wr<He.length;wr++){const br=He[wr],Ur=br.geometry,Or=br.text?br.text.toString():null;if(!Or){Rt(wr);continue}const Lr=tn(Or,Ur),jt=tn(Or,Ur,!0);if(Lr in _t&&jt in Qe&&_t[Lr]!==Qe[jt]){const Hr=Er(Lr,jt,Ur),Br=rr(Lr,jt,ft[Hr].geometry);delete Qe[Lr],delete _t[jt],_t[tn(Or,ft[Br].geometry,!0)]=Br,ft[Hr].geometry=null}else Lr in _t?rr(Lr,jt,Ur):jt in Qe?Er(Lr,jt,Ur):(Rt(wr),Qe[Lr]=vt-1,_t[jt]=vt-1)}return ft.filter(wr=>wr.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((He,Qe)=>He.sortKey-Qe.sortKey)}update(l,h,g){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(l,h,this.layers,g),this.icon.programConfigurations.updatePaintArrays(l,h,this.layers,g))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(l){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(l),this.iconCollisionBox.upload(l)),this.text.upload(l,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(l,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(l,h){const g=this.lineVertexArray.length;if(l.segment!==void 0){let _=l.dist(h[l.segment+1]),E=l.dist(h[l.segment]);const T={};for(let D=l.segment+1;D<h.length;D++)T[D]={x:h[D].x,y:h[D].y,tileUnitDistanceFromAnchor:_},D<h.length-1&&(_+=h[D+1].dist(h[D]));for(let D=l.segment||0;D>=0;D--)T[D]={x:h[D].x,y:h[D].y,tileUnitDistanceFromAnchor:E},D>0&&(E+=h[D-1].dist(h[D]));for(let D=0;D<h.length;D++){const F=T[D];this.lineVertexArray.emplaceBack(F.x,F.y,F.tileUnitDistanceFromAnchor)}}return{lineStartIndex:g,lineLength:this.lineVertexArray.length-g}}addSymbols(l,h,g,_,E,T,D,F,H,J,ne,ue){const xe=l.indexArray,Ee=l.layoutVertexArray,Me=l.segments.prepareSegment(4*h.length,Ee,xe,this.canOverlap?T.sortKey:void 0),He=this.glyphOffsetArray.length,Qe=Me.vertexLength,_t=this.allowVerticalPlacement&&D===u.ah.vertical?Math.PI/2:0,ft=T.text&&T.text.sections;for(let vt=0;vt<h.length;vt++){const{tl:Rt,tr:rr,bl:Er,br:tn,tex:wr,pixelOffsetTL:br,pixelOffsetBR:Ur,minFontScaleX:Or,minFontScaleY:Lr,glyphOffset:jt,isSDF:Hr,sectionIndex:Br}=h[vt],yn=Me.vertexLength,Mi=jt[1];P2(Ee,F.x,F.y,Rt.x,Mi+Rt.y,wr.x,wr.y,g,Hr,br.x,br.y,Or,Lr),P2(Ee,F.x,F.y,rr.x,Mi+rr.y,wr.x+wr.w,wr.y,g,Hr,Ur.x,br.y,Or,Lr),P2(Ee,F.x,F.y,Er.x,Mi+Er.y,wr.x,wr.y+wr.h,g,Hr,br.x,Ur.y,Or,Lr),P2(Ee,F.x,F.y,tn.x,Mi+tn.y,wr.x+wr.w,wr.y+wr.h,g,Hr,Ur.x,Ur.y,Or,Lr),oC(l.dynamicLayoutVertexArray,F,_t),xe.emplaceBack(yn,yn+1,yn+2),xe.emplaceBack(yn+1,yn+2,yn+3),Me.vertexLength+=4,Me.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(jt[0]),vt!==h.length-1&&Br===h[vt+1].sectionIndex||l.programConfigurations.populatePaintArrays(Ee.length,T,T.index,{},ue,ft&&ft[Br])}l.placedSymbolArray.emplaceBack(F.x,F.y,He,this.glyphOffsetArray.length-He,Qe,H,J,F.segment,g?g[0]:0,g?g[1]:0,_[0],_[1],D,0,!1,0,ne)}_addCollisionDebugVertex(l,h,g,_,E,T){return h.emplaceBack(0,0),l.emplaceBack(g.x,g.y,_,E,Math.round(T.x),Math.round(T.y))}addCollisionDebugVertices(l,h,g,_,E,T,D){const F=E.segments.prepareSegment(4,E.layoutVertexArray,E.indexArray),H=F.vertexLength,J=E.layoutVertexArray,ne=E.collisionVertexArray,ue=D.anchorX,xe=D.anchorY;this._addCollisionDebugVertex(J,ne,T,ue,xe,new w(l,h)),this._addCollisionDebugVertex(J,ne,T,ue,xe,new w(g,h)),this._addCollisionDebugVertex(J,ne,T,ue,xe,new w(g,_)),this._addCollisionDebugVertex(J,ne,T,ue,xe,new w(l,_)),F.vertexLength+=4;const Ee=E.indexArray;Ee.emplaceBack(H,H+1),Ee.emplaceBack(H+1,H+2),Ee.emplaceBack(H+2,H+3),Ee.emplaceBack(H+3,H),F.primitiveLength+=4}addDebugCollisionBoxes(l,h,g,_){for(let E=l;E<h;E++){const T=this.collisionBoxArray.get(E);this.addCollisionDebugVertices(T.x1,T.y1,T.x2,T.y2,_?this.textCollisionBox:this.iconCollisionBox,T.anchorPoint,g)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new sC(Ka,VI.members,uo),this.iconCollisionBox=new sC(Ka,VI.members,uo);for(let l=0;l<this.symbolInstances.length;l++){const h=this.symbolInstances.get(l);this.addDebugCollisionBoxes(h.textBoxStartIndex,h.textBoxEndIndex,h,!0),this.addDebugCollisionBoxes(h.verticalTextBoxStartIndex,h.verticalTextBoxEndIndex,h,!0),this.addDebugCollisionBoxes(h.iconBoxStartIndex,h.iconBoxEndIndex,h,!1),this.addDebugCollisionBoxes(h.verticalIconBoxStartIndex,h.verticalIconBoxEndIndex,h,!1)}}_deserializeCollisionBoxesForSymbol(l,h,g,_,E,T,D,F,H){const J={};for(let ne=h;ne<g;ne++){const ue=l.get(ne);J.textBox={x1:ue.x1,y1:ue.y1,x2:ue.x2,y2:ue.y2,anchorPointX:ue.anchorPointX,anchorPointY:ue.anchorPointY},J.textFeatureIndex=ue.featureIndex;break}for(let ne=_;ne<E;ne++){const ue=l.get(ne);J.verticalTextBox={x1:ue.x1,y1:ue.y1,x2:ue.x2,y2:ue.y2,anchorPointX:ue.anchorPointX,anchorPointY:ue.anchorPointY},J.verticalTextFeatureIndex=ue.featureIndex;break}for(let ne=T;ne<D;ne++){const ue=l.get(ne);J.iconBox={x1:ue.x1,y1:ue.y1,x2:ue.x2,y2:ue.y2,anchorPointX:ue.anchorPointX,anchorPointY:ue.anchorPointY},J.iconFeatureIndex=ue.featureIndex;break}for(let ne=F;ne<H;ne++){const ue=l.get(ne);J.verticalIconBox={x1:ue.x1,y1:ue.y1,x2:ue.x2,y2:ue.y2,anchorPointX:ue.anchorPointX,anchorPointY:ue.anchorPointY},J.verticalIconFeatureIndex=ue.featureIndex;break}return J}deserializeCollisionBoxes(l){this.collisionArrays=[];for(let h=0;h<this.symbolInstances.length;h++){const g=this.symbolInstances.get(h);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(l,g.textBoxStartIndex,g.textBoxEndIndex,g.verticalTextBoxStartIndex,g.verticalTextBoxEndIndex,g.iconBoxStartIndex,g.iconBoxEndIndex,g.verticalIconBoxStartIndex,g.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(l,h){const g=l.placedSymbolArray.get(h),_=g.vertexStartIndex+4*g.numGlyphs;for(let E=g.vertexStartIndex;E<_;E+=4)l.indexArray.emplaceBack(E,E+1,E+2),l.indexArray.emplaceBack(E+1,E+2,E+3)}getSortedSymbolIndexes(l){if(this.sortedAngle===l&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const h=Math.sin(l),g=Math.cos(l),_=[],E=[],T=[];for(let D=0;D<this.symbolInstances.length;++D){T.push(D);const F=this.symbolInstances.get(D);_.push(0|Math.round(h*F.anchorX+g*F.anchorY)),E.push(F.featureIndex)}return T.sort((D,F)=>_[D]-_[F]||E[F]-E[D]),T}addToSortKeyRanges(l,h){const g=this.sortKeyRanges[this.sortKeyRanges.length-1];g&&g.sortKey===h?g.symbolInstanceEnd=l+1:this.sortKeyRanges.push({sortKey:h,symbolInstanceStart:l,symbolInstanceEnd:l+1})}sortFeatures(l){if(this.sortFeaturesByY&&this.sortedAngle!==l&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(l),this.sortedAngle=l,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const h of this.symbolInstanceIndexes){const g=this.symbolInstances.get(h);this.featureSortOrder.push(g.featureIndex),[g.rightJustifiedTextSymbolIndex,g.centerJustifiedTextSymbolIndex,g.leftJustifiedTextSymbolIndex].forEach((_,E,T)=>{_>=0&&T.indexOf(_)===E&&this.addIndicesForPlacedSymbol(this.text,_)}),g.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,g.verticalPlacedTextSymbolIndex),g.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,g.placedIconSymbolIndex),g.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,g.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let s6,l6;kr("SymbolBucket",dg,{omit:["layers","collisionBoxArray","features","compareText"]}),dg.MAX_GLYPHS=65535,dg.addDynamicAttributes=oC;var lC={get paint(){return l6=l6||new y({"icon-opacity":new Qr(ce.paint_symbol["icon-opacity"]),"icon-color":new Qr(ce.paint_symbol["icon-color"]),"icon-halo-color":new Qr(ce.paint_symbol["icon-halo-color"]),"icon-halo-width":new Qr(ce.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Qr(ce.paint_symbol["icon-halo-blur"]),"icon-translate":new Fr(ce.paint_symbol["icon-translate"]),"icon-translate-anchor":new Fr(ce.paint_symbol["icon-translate-anchor"]),"text-opacity":new Qr(ce.paint_symbol["text-opacity"]),"text-color":new Qr(ce.paint_symbol["text-color"],{runtimeType:cr,getOverride:c=>c.textColor,hasOverride:c=>!!c.textColor}),"text-halo-color":new Qr(ce.paint_symbol["text-halo-color"]),"text-halo-width":new Qr(ce.paint_symbol["text-halo-width"]),"text-halo-blur":new Qr(ce.paint_symbol["text-halo-blur"]),"text-translate":new Fr(ce.paint_symbol["text-translate"]),"text-translate-anchor":new Fr(ce.paint_symbol["text-translate-anchor"])})},get layout(){return s6=s6||new y({"symbol-placement":new Fr(ce.layout_symbol["symbol-placement"]),"symbol-spacing":new Fr(ce.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Fr(ce.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Qr(ce.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Fr(ce.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Fr(ce.layout_symbol["icon-allow-overlap"]),"icon-overlap":new Fr(ce.layout_symbol["icon-overlap"]),"icon-ignore-placement":new Fr(ce.layout_symbol["icon-ignore-placement"]),"icon-optional":new Fr(ce.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Fr(ce.layout_symbol["icon-rotation-alignment"]),"icon-size":new Qr(ce.layout_symbol["icon-size"]),"icon-text-fit":new Fr(ce.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Fr(ce.layout_symbol["icon-text-fit-padding"]),"icon-image":new Qr(ce.layout_symbol["icon-image"]),"icon-rotate":new Qr(ce.layout_symbol["icon-rotate"]),"icon-padding":new Qr(ce.layout_symbol["icon-padding"]),"icon-keep-upright":new Fr(ce.layout_symbol["icon-keep-upright"]),"icon-offset":new Qr(ce.layout_symbol["icon-offset"]),"icon-anchor":new Qr(ce.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Fr(ce.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Fr(ce.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Fr(ce.layout_symbol["text-rotation-alignment"]),"text-field":new Qr(ce.layout_symbol["text-field"]),"text-font":new Qr(ce.layout_symbol["text-font"]),"text-size":new Qr(ce.layout_symbol["text-size"]),"text-max-width":new Qr(ce.layout_symbol["text-max-width"]),"text-line-height":new Fr(ce.layout_symbol["text-line-height"]),"text-letter-spacing":new Qr(ce.layout_symbol["text-letter-spacing"]),"text-justify":new Qr(ce.layout_symbol["text-justify"]),"text-radial-offset":new Qr(ce.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Fr(ce.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new Qr(ce.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new Qr(ce.layout_symbol["text-anchor"]),"text-max-angle":new Fr(ce.layout_symbol["text-max-angle"]),"text-writing-mode":new Fr(ce.layout_symbol["text-writing-mode"]),"text-rotate":new Qr(ce.layout_symbol["text-rotate"]),"text-padding":new Fr(ce.layout_symbol["text-padding"]),"text-keep-upright":new Fr(ce.layout_symbol["text-keep-upright"]),"text-transform":new Qr(ce.layout_symbol["text-transform"]),"text-offset":new Qr(ce.layout_symbol["text-offset"]),"text-allow-overlap":new Fr(ce.layout_symbol["text-allow-overlap"]),"text-overlap":new Fr(ce.layout_symbol["text-overlap"]),"text-ignore-placement":new Fr(ce.layout_symbol["text-ignore-placement"]),"text-optional":new Fr(ce.layout_symbol["text-optional"])})}};class u6{constructor(l){if(l.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=l.property.overrides?l.property.overrides.runtimeType:Ar,this.defaultValue=l}evaluate(l){if(l.formattedSection){const h=this.defaultValue.property.overrides;if(h&&h.hasOverride(l.formattedSection))return h.getOverride(l.formattedSection)}return l.feature&&l.featureState?this.defaultValue.evaluate(l.feature,l.featureState):this.defaultValue.property.specification.default}eachChild(l){this.defaultValue.isConstant()||l(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}kr("FormatSectionOverride",u6,{omit:["defaultValue"]});class k2 extends d{constructor(l){super(l,lC)}recalculate(l,h){if(super.recalculate(l,h),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const g=this.layout.get("text-writing-mode");if(g){const _=[];for(const E of g)_.indexOf(E)<0&&_.push(E);this.layout._values["text-writing-mode"]=_}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(l,h,g,_){const E=this.layout.get(l).evaluate(h,{},g,_),T=this._unevaluatedLayout._values[l];return T.isDataDriven()||li(T.value)||!E?E:function(D,F){return F.replace(/{([^{}]+)}/g,(H,J)=>D&&J in D?String(D[J]):"")}(h.properties,E)}createBucket(l){return new dg(l)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const l of lC.paint.overridableProperties){if(!k2.hasPaintOverride(this.layout,l))continue;const h=this.paint.get(l),g=new u6(h),_=new _i(g,h.property.specification);let E=null;E=h.value.kind==="constant"||h.value.kind==="source"?new Ki("source",_):new wi("composite",_,h.value.zoomStops),this.paint._values[l]=new vl(h.property,E,h.parameters)}}_handleOverridablePaintPropertyUpdate(l,h,g){return!(!this.layout||h.isDataDriven()||g.isDataDriven())&&k2.hasPaintOverride(this.layout,l)}static hasPaintOverride(l,h){const g=l.get("text-field"),_=lC.paint.properties[h];let E=!1;const T=D=>{for(const F of D)if(_.overrides&&_.overrides.hasOverride(F))return void(E=!0)};if(g.value.kind==="constant"&&g.value.value instanceof Ln)T(g.value.value.sections);else if(g.value.kind==="source"){const D=H=>{E||(H instanceof Ko&&zn(H.value)===On?T(H.value.sections):H instanceof pu?T(H.sections):H.eachChild(D))},F=g.value;F._styleExpression&&D(F._styleExpression.expression)}return E}}let c6;var Lq={get paint(){return c6=c6||new y({"background-color":new Fr(ce.paint_background["background-color"]),"background-pattern":new A(ce.paint_background["background-pattern"]),"background-opacity":new Fr(ce.paint_background["background-opacity"])})}};class Mq extends d{constructor(l){super(l,Lq)}}let d6;var Rq={get paint(){return d6=d6||new y({"raster-opacity":new Fr(ce.paint_raster["raster-opacity"]),"raster-hue-rotate":new Fr(ce.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Fr(ce.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Fr(ce.paint_raster["raster-brightness-max"]),"raster-saturation":new Fr(ce.paint_raster["raster-saturation"]),"raster-contrast":new Fr(ce.paint_raster["raster-contrast"]),"raster-resampling":new Fr(ce.paint_raster["raster-resampling"]),"raster-fade-duration":new Fr(ce.paint_raster["raster-fade-duration"])})}};class Dq extends d{constructor(l){super(l,Rq)}}class Oq extends d{constructor(l){super(l,{}),this.onAdd=h=>{this.implementation.onAdd&&this.implementation.onAdd(h,h.painter.context.gl)},this.onRemove=h=>{this.implementation.onRemove&&this.implementation.onRemove(h,h.painter.context.gl)},this.implementation=l}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class Nq{constructor(l){this._methodToThrottle=l,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._methodToThrottle()},0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}const uC=63710088e-1;class Sf{constructor(l,h){if(isNaN(l)||isNaN(h))throw new Error(`Invalid LngLat object: (${l}, ${h})`);if(this.lng=+l,this.lat=+h,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Sf(K(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(l){const h=Math.PI/180,g=this.lat*h,_=l.lat*h,E=Math.sin(g)*Math.sin(_)+Math.cos(g)*Math.cos(_)*Math.cos((l.lng-this.lng)*h);return uC*Math.acos(Math.min(E,1))}static convert(l){if(l instanceof Sf)return l;if(Array.isArray(l)&&(l.length===2||l.length===3))return new Sf(Number(l[0]),Number(l[1]));if(!Array.isArray(l)&&typeof l=="object"&&l!==null)return new Sf(Number("lng"in l?l.lng:l.lon),Number(l.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const h6=2*Math.PI*uC;function f6(c){return h6*Math.cos(c*Math.PI/180)}function p6(c){return(180+c)/360}function m6(c){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+c*Math.PI/360)))/360}function g6(c,l){return c/f6(l)}function cC(c){return 360/Math.PI*Math.atan(Math.exp((180-360*c)*Math.PI/180))-90}class fv{constructor(l,h,g=0){this.x=+l,this.y=+h,this.z=+g}static fromLngLat(l,h=0){const g=Sf.convert(l);return new fv(p6(g.lng),m6(g.lat),g6(h,g.lat))}toLngLat(){return new Sf(360*this.x-180,cC(this.y))}toAltitude(){return this.z*f6(cC(this.y))}meterInMercatorCoordinateUnits(){return 1/h6*(l=cC(this.y),1/Math.cos(l*Math.PI/180));var l}}function y6(c,l,h){var g=2*Math.PI*6378137/256/Math.pow(2,h);return[c*g-2*Math.PI*6378137/2,l*g-2*Math.PI*6378137/2]}class dC{constructor(l,h,g){if(!function(_,E,T){return!(_<0||_>25||T<0||T>=Math.pow(2,_)||E<0||E>=Math.pow(2,_))}(l,h,g))throw new Error(`x=${h}, y=${g}, z=${l} outside of bounds. 0<=x<${Math.pow(2,l)}, 0<=y<${Math.pow(2,l)} 0<=z<=25 `);this.z=l,this.x=h,this.y=g,this.key=pv(0,l,l,h,g)}equals(l){return this.z===l.z&&this.x===l.x&&this.y===l.y}url(l,h,g){const _=(T=this.y,D=this.z,F=y6(256*(E=this.x),256*(T=Math.pow(2,D)-T-1),D),H=y6(256*(E+1),256*(T+1),D),F[0]+","+F[1]+","+H[0]+","+H[1]);var E,T,D,F,H;const J=function(ne,ue,xe){let Ee,Me="";for(let He=ne;He>0;He--)Ee=1<<He-1,Me+=(ue&Ee?1:0)+(xe&Ee?2:0);return Me}(this.z,this.x,this.y);return l[(this.x+this.y)%l.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(g==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,h>1?"@2x":"").replace(/{quadkey}/g,J).replace(/{bbox-epsg-3857}/g,_)}isChildOf(l){const h=this.z-l.z;return h>0&&l.x===this.x>>h&&l.y===this.y>>h}getTilePoint(l){const h=Math.pow(2,this.z);return new w((l.x*h-this.x)*zi,(l.y*h-this.y)*zi)}toString(){return`${this.z}/${this.x}/${this.y}`}}class v6{constructor(l,h){this.wrap=l,this.canonical=h,this.key=pv(l,h.z,h.z,h.x,h.y)}}class Cu{constructor(l,h,g,_,E){if(l<g)throw new Error(`overscaledZ should be >= z; overscaledZ = ${l}; z = ${g}`);this.overscaledZ=l,this.wrap=h,this.canonical=new dC(g,+_,+E),this.key=pv(h,l,g,_,E)}clone(){return new Cu(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(l){return this.overscaledZ===l.overscaledZ&&this.wrap===l.wrap&&this.canonical.equals(l.canonical)}scaledTo(l){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const h=this.canonical.z-l;return l>this.canonical.z?new Cu(l,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Cu(l,this.wrap,l,this.canonical.x>>h,this.canonical.y>>h)}calculateScaledKey(l,h){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const g=this.canonical.z-l;return l>this.canonical.z?pv(this.wrap*+h,l,this.canonical.z,this.canonical.x,this.canonical.y):pv(this.wrap*+h,l,l,this.canonical.x>>g,this.canonical.y>>g)}isChildOf(l){if(l.wrap!==this.wrap)return!1;const h=this.canonical.z-l.canonical.z;return l.overscaledZ===0||l.overscaledZ<this.overscaledZ&&l.canonical.x===this.canonical.x>>h&&l.canonical.y===this.canonical.y>>h}children(l){if(this.overscaledZ>=l)return[new Cu(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const h=this.canonical.z+1,g=2*this.canonical.x,_=2*this.canonical.y;return[new Cu(h,this.wrap,h,g,_),new Cu(h,this.wrap,h,g+1,_),new Cu(h,this.wrap,h,g,_+1),new Cu(h,this.wrap,h,g+1,_+1)]}isLessThan(l){return this.wrap<l.wrap||!(this.wrap>l.wrap)&&(this.overscaledZ<l.overscaledZ||!(this.overscaledZ>l.overscaledZ)&&(this.canonical.x<l.canonical.x||!(this.canonical.x>l.canonical.x)&&this.canonical.y<l.canonical.y))}wrapped(){return new Cu(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(l){return new Cu(this.overscaledZ,l,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new v6(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(l){return this.canonical.getTilePoint(new fv(l.x-this.wrap,l.y))}}function pv(c,l,h,g,_){(c*=2)<0&&(c=-1*c-1);const E=1<<h;return(E*E*c+E*_+g).toString(36)+h.toString(36)+l.toString(36)}kr("CanonicalTileID",dC),kr("OverscaledTileID",Cu,{omit:["posMatrix"]});class b6{constructor(l,h,g,_=1,E=1,T=1,D=0){if(this.uid=l,h.height!==h.width)throw new RangeError("DEM tiles must be square");if(g&&!["mapbox","terrarium","custom"].includes(g))return void ye(`"${g}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=h.height;const F=this.dim=h.height-2;switch(this.data=new Uint32Array(h.data.buffer),g){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=_,this.greenFactor=E,this.blueFactor=T,this.baseShift=D;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let H=0;H<F;H++)this.data[this._idx(-1,H)]=this.data[this._idx(0,H)],this.data[this._idx(F,H)]=this.data[this._idx(F-1,H)],this.data[this._idx(H,-1)]=this.data[this._idx(H,0)],this.data[this._idx(H,F)]=this.data[this._idx(H,F-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(F,-1)]=this.data[this._idx(F-1,0)],this.data[this._idx(-1,F)]=this.data[this._idx(0,F-1)],this.data[this._idx(F,F)]=this.data[this._idx(F-1,F-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let H=0;H<F;H++)for(let J=0;J<F;J++){const ne=this.get(H,J);ne>this.max&&(this.max=ne),ne<this.min&&(this.min=ne)}}get(l,h){const g=new Uint8Array(this.data.buffer),_=4*this._idx(l,h);return this.unpack(g[_],g[_+1],g[_+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(l,h){if(l<-1||l>=this.dim+1||h<-1||h>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(h+1)*this.stride+(l+1)}unpack(l,h,g){return l*this.redFactor+h*this.greenFactor+g*this.blueFactor-this.baseShift}getPixels(){return new Su({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(l,h,g){if(this.dim!==l.dim)throw new Error("dem dimension mismatch");let _=h*this.dim,E=h*this.dim+this.dim,T=g*this.dim,D=g*this.dim+this.dim;switch(h){case-1:_=E-1;break;case 1:E=_+1}switch(g){case-1:T=D-1;break;case 1:D=T+1}const F=-h*this.dim,H=-g*this.dim;for(let J=T;J<D;J++)for(let ne=_;ne<E;ne++)this.data[this._idx(ne,J)]=l.data[this._idx(ne+F,J+H)]}}kr("DEMData",b6);class x6{constructor(l){this._stringToNumber={},this._numberToString=[];for(let h=0;h<l.length;h++){const g=l[h];this._stringToNumber[g]=h,this._numberToString[h]=g}}encode(l){return this._stringToNumber[l]}decode(l){if(l>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${l} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[l]}}class _6{constructor(l,h,g,_,E){this.type="Feature",this._vectorTileFeature=l,l._z=h,l._x=g,l._y=_,this.properties=l.properties,this.id=E}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(l){this._geometry=l}toJSON(){const l={geometry:this.geometry};for(const h in this)h!=="_geometry"&&h!=="_vectorTileFeature"&&(l[h]=this[h]);return l}}class w6{constructor(l,h){this.tileID=l,this.x=l.canonical.x,this.y=l.canonical.y,this.z=l.canonical.z,this.grid=new xd(zi,16,0),this.grid3D=new xd(zi,16,0),this.featureIndexArray=new ni,this.promoteId=h}insert(l,h,g,_,E,T){const D=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(g,_,E);const F=T?this.grid3D:this.grid;for(let H=0;H<h.length;H++){const J=h[H],ne=[1/0,1/0,-1/0,-1/0];for(let ue=0;ue<J.length;ue++){const xe=J[ue];ne[0]=Math.min(ne[0],xe.x),ne[1]=Math.min(ne[1],xe.y),ne[2]=Math.max(ne[2],xe.x),ne[3]=Math.max(ne[3],xe.y)}ne[0]<zi&&ne[1]<zi&&ne[2]>=0&&ne[3]>=0&&F.insert(D,ne[0],ne[1],ne[2],ne[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new xf.VectorTile(new QS(this.rawTileData)).layers,this.sourceLayerCoder=new x6(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(l,h,g,_){this.loadVTLayers();const E=l.params||{},T=zi/l.tileSize/l.scale,D=ns(E.filter),F=l.queryGeometry,H=l.queryPadding*T,J=C6(F),ne=this.grid.query(J.minX-H,J.minY-H,J.maxX+H,J.maxY+H),ue=C6(l.cameraQueryGeometry),xe=this.grid3D.query(ue.minX-H,ue.minY-H,ue.maxX+H,ue.maxY+H,(He,Qe,_t,ft)=>function(vt,Rt,rr,Er,tn){for(const br of vt)if(Rt<=br.x&&rr<=br.y&&Er>=br.x&&tn>=br.y)return!0;const wr=[new w(Rt,rr),new w(Rt,tn),new w(Er,tn),new w(Er,rr)];if(vt.length>2){for(const br of wr)if(kd(vt,br))return!0}for(let br=0;br<vt.length-1;br++)if(ev(vt[br],vt[br+1],wr))return!0;return!1}(l.cameraQueryGeometry,He-H,Qe-H,_t+H,ft+H));for(const He of xe)ne.push(He);ne.sort(Fq);const Ee={};let Me;for(let He=0;He<ne.length;He++){const Qe=ne[He];if(Qe===Me)continue;Me=Qe;const _t=this.featureIndexArray.get(Qe);let ft=null;this.loadMatchingFeature(Ee,_t.bucketIndex,_t.sourceLayerIndex,_t.featureIndex,D,E.layers,E.availableImages,h,g,_,(vt,Rt,rr)=>(ft||(ft=Ch(vt)),Rt.queryIntersectsFeature(F,vt,rr,ft,this.z,l.transform,T,l.pixelPosMatrix)))}return Ee}loadMatchingFeature(l,h,g,_,E,T,D,F,H,J,ne){const ue=this.bucketLayerIDs[h];if(T&&!function(He,Qe){for(let _t=0;_t<He.length;_t++)if(Qe.indexOf(He[_t])>=0)return!0;return!1}(T,ue))return;const xe=this.sourceLayerCoder.decode(g),Ee=this.vtLayers[xe].feature(_);if(E.needGeometry){const He=Td(Ee,!0);if(!E.filter(new Pi(this.tileID.overscaledZ),He,this.tileID.canonical))return}else if(!E.filter(new Pi(this.tileID.overscaledZ),Ee))return;const Me=this.getId(Ee,xe);for(let He=0;He<ue.length;He++){const Qe=ue[He];if(T&&T.indexOf(Qe)<0)continue;const _t=F[Qe];if(!_t)continue;let ft={};Me&&J&&(ft=J.getState(_t.sourceLayer||"_geojsonTileLayer",Me));const vt=ee({},H[Qe]);vt.paint=S6(vt.paint,_t.paint,Ee,ft,D),vt.layout=S6(vt.layout,_t.layout,Ee,ft,D);const Rt=!ne||ne(Ee,_t,ft);if(!Rt)continue;const rr=new _6(Ee,this.z,this.x,this.y,Me);rr.layer=vt;let Er=l[Qe];Er===void 0&&(Er=l[Qe]=[]),Er.push({featureIndex:_,feature:rr,intersectionZ:Rt})}}lookupSymbolFeatures(l,h,g,_,E,T,D,F){const H={};this.loadVTLayers();const J=ns(E);for(const ne of l)this.loadMatchingFeature(H,g,_,ne,J,T,D,F,h);return H}hasLayer(l){for(const h of this.bucketLayerIDs)for(const g of h)if(l===g)return!0;return!1}getId(l,h){let g=l.id;return this.promoteId&&(g=l.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[h]],typeof g=="boolean"&&(g=Number(g))),g}}function S6(c,l,h,g,_){return ge(c,(E,T)=>{const D=l instanceof ec?l.get(T):null;return D&&D.evaluate?D.evaluate(h,g,_):D})}function C6(c){let l=1/0,h=1/0,g=-1/0,_=-1/0;for(const E of c)l=Math.min(l,E.x),h=Math.min(h,E.y),g=Math.max(g,E.x),_=Math.max(_,E.y);return{minX:l,minY:h,maxX:g,maxY:_}}function Fq(c,l){return l-c}function E6(c,l,h,g,_){const E=[];for(let T=0;T<c.length;T++){const D=c[T];let F;for(let H=0;H<D.length-1;H++){let J=D[H],ne=D[H+1];J.x<l&&ne.x<l||(J.x<l?J=new w(l,J.y+(l-J.x)/(ne.x-J.x)*(ne.y-J.y))._round():ne.x<l&&(ne=new w(l,J.y+(l-J.x)/(ne.x-J.x)*(ne.y-J.y))._round()),J.y<h&&ne.y<h||(J.y<h?J=new w(J.x+(h-J.y)/(ne.y-J.y)*(ne.x-J.x),h)._round():ne.y<h&&(ne=new w(J.x+(h-J.y)/(ne.y-J.y)*(ne.x-J.x),h)._round()),J.x>=g&&ne.x>=g||(J.x>=g?J=new w(g,J.y+(g-J.x)/(ne.x-J.x)*(ne.y-J.y))._round():ne.x>=g&&(ne=new w(g,J.y+(g-J.x)/(ne.x-J.x)*(ne.y-J.y))._round()),J.y>=_&&ne.y>=_||(J.y>=_?J=new w(J.x+(_-J.y)/(ne.y-J.y)*(ne.x-J.x),_)._round():ne.y>=_&&(ne=new w(J.x+(_-J.y)/(ne.y-J.y)*(ne.x-J.x),_)._round()),F&&J.equals(F[F.length-1])||(F=[J],E.push(F)),F.push(ne)))))}}return E}kr("FeatureIndex",w6,{omit:["rawTileData","sourceLayerCoder"]});class Cf extends w{constructor(l,h,g,_){super(l,h),this.angle=g,_!==void 0&&(this.segment=_)}clone(){return new Cf(this.x,this.y,this.angle,this.segment)}}function A6(c,l,h,g,_){if(l.segment===void 0||h===0)return!0;let E=l,T=l.segment+1,D=0;for(;D>-h/2;){if(T--,T<0)return!1;D-=c[T].dist(E),E=c[T]}D+=c[T].dist(c[T+1]),T++;const F=[];let H=0;for(;D<h/2;){const J=c[T],ne=c[T+1];if(!ne)return!1;let ue=c[T-1].angleTo(J)-J.angleTo(ne);for(ue=Math.abs((ue+3*Math.PI)%(2*Math.PI)-Math.PI),F.push({distance:D,angleDelta:ue}),H+=ue;D-F[0].distance>g;)H-=F.shift().angleDelta;if(H>_)return!1;T++,D+=J.dist(ne)}return!0}function T6(c){let l=0;for(let h=0;h<c.length-1;h++)l+=c[h].dist(c[h+1]);return l}function P6(c,l,h){return c?.6*l*h:0}function k6(c,l){return Math.max(c?c.right-c.left:0,l?l.right-l.left:0)}function $q(c,l,h,g,_,E){const T=P6(h,_,E),D=k6(h,g)*E;let F=0;const H=T6(c)/2;for(let J=0;J<c.length-1;J++){const ne=c[J],ue=c[J+1],xe=ne.dist(ue);if(F+xe>H){const Ee=(H-F)/xe,Me=Gr.number(ne.x,ue.x,Ee),He=Gr.number(ne.y,ue.y,Ee),Qe=new Cf(Me,He,ue.angleTo(ne),J);return Qe._round(),!T||A6(c,Qe,D,T,l)?Qe:void 0}F+=xe}}function Bq(c,l,h,g,_,E,T,D,F){const H=P6(g,E,T),J=k6(g,_),ne=J*T,ue=c[0].x===0||c[0].x===F||c[0].y===0||c[0].y===F;return l-ne<l/4&&(l=ne+l/4),I6(c,ue?l/2*D%l:(J/2+2*E)*T*D%l,l,H,h,ne,ue,!1,F)}function I6(c,l,h,g,_,E,T,D,F){const H=E/2,J=T6(c);let ne=0,ue=l-h,xe=[];for(let Ee=0;Ee<c.length-1;Ee++){const Me=c[Ee],He=c[Ee+1],Qe=Me.dist(He),_t=He.angleTo(Me);for(;ue+h<ne+Qe;){ue+=h;const ft=(ue-ne)/Qe,vt=Gr.number(Me.x,He.x,ft),Rt=Gr.number(Me.y,He.y,ft);if(vt>=0&&vt<F&&Rt>=0&&Rt<F&&ue-H>=0&&ue+H<=J){const rr=new Cf(vt,Rt,_t,Ee);rr._round(),g&&!A6(c,rr,E,g,_)||xe.push(rr)}}ne+=Qe}return D||xe.length||T||(xe=I6(c,ne/2,h,g,_,E,T,!0,F)),xe}kr("Anchor",Cf);const hg=xl;function L6(c,l,h,g){const _=[],E=c.image,T=E.pixelRatio,D=E.paddedRect.w-2*hg,F=E.paddedRect.h-2*hg;let H={x1:c.left,y1:c.top,x2:c.right,y2:c.bottom};const J=E.stretchX||[[0,D]],ne=E.stretchY||[[0,F]],ue=(jt,Hr)=>jt+Hr[1]-Hr[0],xe=J.reduce(ue,0),Ee=ne.reduce(ue,0),Me=D-xe,He=F-Ee;let Qe=0,_t=xe,ft=0,vt=Ee,Rt=0,rr=Me,Er=0,tn=He;if(E.content&&g){const jt=E.content,Hr=jt[2]-jt[0],Br=jt[3]-jt[1];(E.textFitWidth||E.textFitHeight)&&(H=i6(c)),Qe=I2(J,0,jt[0]),ft=I2(ne,0,jt[1]),_t=I2(J,jt[0],jt[2]),vt=I2(ne,jt[1],jt[3]),Rt=jt[0]-Qe,Er=jt[1]-ft,rr=Hr-_t,tn=Br-vt}const wr=H.x1,br=H.y1,Ur=H.x2-wr,Or=H.y2-br,Lr=(jt,Hr,Br,yn)=>{const Mi=L2(jt.stretch-Qe,_t,Ur,wr),Ii=M2(jt.fixed-Rt,rr,jt.stretch,xe),Ma=L2(Hr.stretch-ft,vt,Or,br),ac=M2(Hr.fixed-Er,tn,Hr.stretch,Ee),as=L2(Br.stretch-Qe,_t,Ur,wr),Ra=M2(Br.fixed-Rt,rr,Br.stretch,xe),Xs=L2(yn.stretch-ft,vt,Or,br),Zs=M2(yn.fixed-Er,tn,yn.stretch,Ee),Ys=new w(Mi,Ma),ko=new w(as,Ma),Da=new w(as,Xs),Ts=new w(Mi,Xs),ss=new w(Ii/T,ac/T),Js=new w(Ra/T,Zs/T),ls=l*Math.PI/180;if(ls){const ii=Math.sin(ls),ji=Math.cos(ls),Zi=[ji,-ii,ii,ji];Ys._matMult(Zi),ko._matMult(Zi),Ts._matMult(Zi),Da._matMult(Zi)}const Eu=jt.stretch+jt.fixed,_l=Hr.stretch+Hr.fixed;return{tl:Ys,tr:ko,bl:Ts,br:Da,tex:{x:E.paddedRect.x+hg+Eu,y:E.paddedRect.y+hg+_l,w:Br.stretch+Br.fixed-Eu,h:yn.stretch+yn.fixed-_l},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:ss,pixelOffsetBR:Js,minFontScaleX:rr/T/Ur,minFontScaleY:tn/T/Or,isSDF:h}};if(g&&(E.stretchX||E.stretchY)){const jt=M6(J,Me,xe),Hr=M6(ne,He,Ee);for(let Br=0;Br<jt.length-1;Br++){const yn=jt[Br],Mi=jt[Br+1];for(let Ii=0;Ii<Hr.length-1;Ii++)_.push(Lr(yn,Hr[Ii],Mi,Hr[Ii+1]))}}else _.push(Lr({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:D+1},{fixed:0,stretch:F+1}));return _}function I2(c,l,h){let g=0;for(const _ of c)g+=Math.max(l,Math.min(h,_[1]))-Math.max(l,Math.min(h,_[0]));return g}function M6(c,l,h){const g=[{fixed:-hg,stretch:0}];for(const[_,E]of c){const T=g[g.length-1];g.push({fixed:_-T.stretch,stretch:T.stretch}),g.push({fixed:_-T.stretch,stretch:T.stretch+(E-_)})}return g.push({fixed:l+hg,stretch:h}),g}function L2(c,l,h,g){return c/l*h+g}function M2(c,l,h,g){return c-l*h/g}class R2{constructor(l,h,g,_,E,T,D,F,H,J){var ne;if(this.boxStartIndex=l.length,H){let ue=T.top,xe=T.bottom;const Ee=T.collisionPadding;Ee&&(ue-=Ee[1],xe+=Ee[3]);let Me=xe-ue;Me>0&&(Me=Math.max(10,Me),this.circleDiameter=Me)}else{const ue=!((ne=T.image)===null||ne===void 0)&&ne.content&&(T.image.textFitWidth||T.image.textFitHeight)?i6(T):{x1:T.left,y1:T.top,x2:T.right,y2:T.bottom};ue.y1=ue.y1*D-F[0],ue.y2=ue.y2*D+F[2],ue.x1=ue.x1*D-F[3],ue.x2=ue.x2*D+F[1];const xe=T.collisionPadding;if(xe&&(ue.x1-=xe[0]*D,ue.y1-=xe[1]*D,ue.x2+=xe[2]*D,ue.y2+=xe[3]*D),J){const Ee=new w(ue.x1,ue.y1),Me=new w(ue.x2,ue.y1),He=new w(ue.x1,ue.y2),Qe=new w(ue.x2,ue.y2),_t=J*Math.PI/180;Ee._rotate(_t),Me._rotate(_t),He._rotate(_t),Qe._rotate(_t),ue.x1=Math.min(Ee.x,Me.x,He.x,Qe.x),ue.x2=Math.max(Ee.x,Me.x,He.x,Qe.x),ue.y1=Math.min(Ee.y,Me.y,He.y,Qe.y),ue.y2=Math.max(Ee.y,Me.y,He.y,Qe.y)}l.emplaceBack(h.x,h.y,ue.x1,ue.y1,ue.x2,ue.y2,g,_,E)}this.boxEndIndex=l.length}}class zq{constructor(l=[],h=(g,_)=>g<_?-1:g>_?1:0){if(this.data=l,this.length=this.data.length,this.compare=h,this.length>0)for(let g=(this.length>>1)-1;g>=0;g--)this._down(g)}push(l){this.data.push(l),this._up(this.length++)}pop(){if(this.length===0)return;const l=this.data[0],h=this.data.pop();return--this.length>0&&(this.data[0]=h,this._down(0)),l}peek(){return this.data[0]}_up(l){const{data:h,compare:g}=this,_=h[l];for(;l>0;){const E=l-1>>1,T=h[E];if(g(_,T)>=0)break;h[l]=T,l=E}h[l]=_}_down(l){const{data:h,compare:g}=this,_=this.length>>1,E=h[l];for(;l<_;){let T=1+(l<<1);const D=T+1;if(D<this.length&&g(h[D],h[T])<0&&(T=D),g(h[T],E)>=0)break;h[l]=h[T],l=T}h[l]=E}}function jq(c,l=1,h=!1){let g=1/0,_=1/0,E=-1/0,T=-1/0;const D=c[0];for(let xe=0;xe<D.length;xe++){const Ee=D[xe];(!xe||Ee.x<g)&&(g=Ee.x),(!xe||Ee.y<_)&&(_=Ee.y),(!xe||Ee.x>E)&&(E=Ee.x),(!xe||Ee.y>T)&&(T=Ee.y)}const F=Math.min(E-g,T-_);let H=F/2;const J=new zq([],Uq);if(F===0)return new w(g,_);for(let xe=g;xe<E;xe+=F)for(let Ee=_;Ee<T;Ee+=F)J.push(new fg(xe+H,Ee+H,H,c));let ne=function(xe){let Ee=0,Me=0,He=0;const Qe=xe[0];for(let _t=0,ft=Qe.length,vt=ft-1;_t<ft;vt=_t++){const Rt=Qe[_t],rr=Qe[vt],Er=Rt.x*rr.y-rr.x*Rt.y;Me+=(Rt.x+rr.x)*Er,He+=(Rt.y+rr.y)*Er,Ee+=3*Er}return new fg(Me/Ee,He/Ee,0,xe)}(c),ue=J.length;for(;J.length;){const xe=J.pop();(xe.d>ne.d||!ne.d)&&(ne=xe,h&&console.log("found best %d after %d probes",Math.round(1e4*xe.d)/1e4,ue)),xe.max-ne.d<=l||(H=xe.h/2,J.push(new fg(xe.p.x-H,xe.p.y-H,H,c)),J.push(new fg(xe.p.x+H,xe.p.y-H,H,c)),J.push(new fg(xe.p.x-H,xe.p.y+H,H,c)),J.push(new fg(xe.p.x+H,xe.p.y+H,H,c)),ue+=4)}return h&&(console.log(`num probes: ${ue}`),console.log(`best distance: ${ne.d}`)),ne.p}function Uq(c,l){return l.max-c.max}function fg(c,l,h,g){this.p=new w(c,l),this.h=h,this.d=function(_,E){let T=!1,D=1/0;for(let F=0;F<E.length;F++){const H=E[F];for(let J=0,ne=H.length,ue=ne-1;J<ne;ue=J++){const xe=H[J],Ee=H[ue];xe.y>_.y!=Ee.y>_.y&&_.x<(Ee.x-xe.x)*(_.y-xe.y)/(Ee.y-xe.y)+xe.x&&(T=!T),D=Math.min(D,Qy(_,xe,Ee))}}return(T?1:-1)*Math.sqrt(D)}(this.p,g),this.max=this.d+this.h*Math.SQRT2}var os;u.aq=void 0,(os=u.aq||(u.aq={}))[os.center=1]="center",os[os.left=2]="left",os[os.right=3]="right",os[os.top=4]="top",os[os.bottom=5]="bottom",os[os["top-left"]=6]="top-left",os[os["top-right"]=7]="top-right",os[os["bottom-left"]=8]="bottom-left",os[os["bottom-right"]=9]="bottom-right";const Ef=7,hC=Number.POSITIVE_INFINITY;function R6(c,l){return l[1]!==hC?function(h,g,_){let E=0,T=0;switch(g=Math.abs(g),_=Math.abs(_),h){case"top-right":case"top-left":case"top":T=_-Ef;break;case"bottom-right":case"bottom-left":case"bottom":T=-_+Ef}switch(h){case"top-right":case"bottom-right":case"right":E=-g;break;case"top-left":case"bottom-left":case"left":E=g}return[E,T]}(c,l[0],l[1]):function(h,g){let _=0,E=0;g<0&&(g=0);const T=g/Math.SQRT2;switch(h){case"top-right":case"top-left":E=T-Ef;break;case"bottom-right":case"bottom-left":E=-T+Ef;break;case"bottom":E=-g+Ef;break;case"top":E=g-Ef}switch(h){case"top-right":case"bottom-right":_=-T;break;case"top-left":case"bottom-left":_=T;break;case"left":_=g;break;case"right":_=-g}return[_,E]}(c,l[0])}function D6(c,l,h){var g;const _=c.layout,E=(g=_.get("text-variable-anchor-offset"))===null||g===void 0?void 0:g.evaluate(l,{},h);if(E){const D=E.values,F=[];for(let H=0;H<D.length;H+=2){const J=F[H]=D[H],ne=D[H+1].map(ue=>ue*ma);J.startsWith("top")?ne[1]-=Ef:J.startsWith("bottom")&&(ne[1]+=Ef),F[H+1]=ne}return new xn(F)}const T=_.get("text-variable-anchor");if(T){let D;D=c._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[_.get("text-radial-offset").evaluate(l,{},h)*ma,hC]:_.get("text-offset").evaluate(l,{},h).map(H=>H*ma);const F=[];for(const H of T)F.push(H,R6(H,D));return new xn(F)}return null}function fC(c){switch(c){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Vq(c,l,h,g,_,E,T,D,F,H,J){let ne=E.textMaxSize.evaluate(l,{});ne===void 0&&(ne=T);const ue=c.layers[0].layout,xe=ue.get("icon-offset").evaluate(l,{},J),Ee=N6(h.horizontal),Me=T/24,He=c.tilePixelRatio*Me,Qe=c.tilePixelRatio*ne/24,_t=c.tilePixelRatio*D,ft=c.tilePixelRatio*ue.get("symbol-spacing"),vt=ue.get("text-padding")*c.tilePixelRatio,Rt=function(jt,Hr,Br,yn=1){const Mi=jt.get("icon-padding").evaluate(Hr,{},Br),Ii=Mi&&Mi.values;return[Ii[0]*yn,Ii[1]*yn,Ii[2]*yn,Ii[3]*yn]}(ue,l,J,c.tilePixelRatio),rr=ue.get("text-max-angle")/180*Math.PI,Er=ue.get("text-rotation-alignment")!=="viewport"&&ue.get("symbol-placement")!=="point",tn=ue.get("icon-rotation-alignment")==="map"&&ue.get("symbol-placement")!=="point",wr=ue.get("symbol-placement"),br=ft/2,Ur=ue.get("icon-text-fit");let Or;g&&Ur!=="none"&&(c.allowVerticalPlacement&&h.vertical&&(Or=o6(g,h.vertical,Ur,ue.get("icon-text-fit-padding"),xe,Me)),Ee&&(g=o6(g,Ee,Ur,ue.get("icon-text-fit-padding"),xe,Me)));const Lr=(jt,Hr)=>{Hr.x<0||Hr.x>=zi||Hr.y<0||Hr.y>=zi||function(Br,yn,Mi,Ii,Ma,ac,as,Ra,Xs,Zs,Ys,ko,Da,Ts,ss,Js,ls,Eu,_l,ii,ji,Zi,Wl,bo,pg){const Ld=Br.addToLineVertexArray(yn,Mi);let Md,sc,Au,Xa,Th=0,yv=0,z6=0,j6=0,_C=-1,wC=-1;const Ph={};let U6=vf("");if(Br.allowVerticalPlacement&&Ii.vertical){const Ps=Ra.layout.get("text-rotate").evaluate(ji,{},bo)+90;Au=new R2(Xs,yn,Zs,Ys,ko,Ii.vertical,Da,Ts,ss,Ps),as&&(Xa=new R2(Xs,yn,Zs,Ys,ko,as,ls,Eu,ss,Ps))}if(Ma){const Ps=Ra.layout.get("icon-rotate").evaluate(ji,{}),Tu=Ra.layout.get("icon-text-fit")!=="none",Fp=L6(Ma,Ps,Wl,Tu),jc=as?L6(as,Ps,Wl,Tu):void 0;sc=new R2(Xs,yn,Zs,Ys,ko,Ma,ls,Eu,!1,Ps),Th=4*Fp.length;const $p=Br.iconSizeData;let Rd=null;$p.kind==="source"?(Rd=[Id*Ra.layout.get("icon-size").evaluate(ji,{})],Rd[0]>wf&&ye(`${Br.layerIds[0]}: Value for "icon-size" is >= ${hv}. Reduce your "icon-size".`)):$p.kind==="composite"&&(Rd=[Id*Zi.compositeIconSizes[0].evaluate(ji,{},bo),Id*Zi.compositeIconSizes[1].evaluate(ji,{},bo)],(Rd[0]>wf||Rd[1]>wf)&&ye(`${Br.layerIds[0]}: Value for "icon-size" is >= ${hv}. Reduce your "icon-size".`)),Br.addSymbols(Br.icon,Fp,Rd,ii,_l,ji,u.ah.none,yn,Ld.lineStartIndex,Ld.lineLength,-1,bo),_C=Br.icon.placedSymbolArray.length-1,jc&&(yv=4*jc.length,Br.addSymbols(Br.icon,jc,Rd,ii,_l,ji,u.ah.vertical,yn,Ld.lineStartIndex,Ld.lineLength,-1,bo),wC=Br.icon.placedSymbolArray.length-1)}const V6=Object.keys(Ii.horizontal);for(const Ps of V6){const Tu=Ii.horizontal[Ps];if(!Md){U6=vf(Tu.text);const jc=Ra.layout.get("text-rotate").evaluate(ji,{},bo);Md=new R2(Xs,yn,Zs,Ys,ko,Tu,Da,Ts,ss,jc)}const Fp=Tu.positionedLines.length===1;if(z6+=O6(Br,yn,Tu,ac,Ra,ss,ji,Js,Ld,Ii.vertical?u.ah.horizontal:u.ah.horizontalOnly,Fp?V6:[Ps],Ph,_C,Zi,bo),Fp)break}Ii.vertical&&(j6+=O6(Br,yn,Ii.vertical,ac,Ra,ss,ji,Js,Ld,u.ah.vertical,["vertical"],Ph,wC,Zi,bo));const Wq=Md?Md.boxStartIndex:Br.collisionBoxArray.length,Gq=Md?Md.boxEndIndex:Br.collisionBoxArray.length,Kq=Au?Au.boxStartIndex:Br.collisionBoxArray.length,Xq=Au?Au.boxEndIndex:Br.collisionBoxArray.length,Zq=sc?sc.boxStartIndex:Br.collisionBoxArray.length,Yq=sc?sc.boxEndIndex:Br.collisionBoxArray.length,Jq=Xa?Xa.boxStartIndex:Br.collisionBoxArray.length,Qq=Xa?Xa.boxEndIndex:Br.collisionBoxArray.length;let zc=-1;const O2=(Ps,Tu)=>Ps&&Ps.circleDiameter?Math.max(Ps.circleDiameter,Tu):Tu;zc=O2(Md,zc),zc=O2(Au,zc),zc=O2(sc,zc),zc=O2(Xa,zc);const q6=zc>-1?1:0;q6&&(zc*=pg/ma),Br.glyphOffsetArray.length>=dg.MAX_GLYPHS&&ye("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),ji.sortKey!==void 0&&Br.addToSortKeyRanges(Br.symbolInstances.length,ji.sortKey);const eH=D6(Ra,ji,bo),[tH,rH]=function(Ps,Tu){const Fp=Ps.length,jc=Tu==null?void 0:Tu.values;if((jc==null?void 0:jc.length)>0)for(let $p=0;$p<jc.length;$p+=2){const Rd=jc[$p+1];Ps.emplaceBack(u.aq[jc[$p]],Rd[0],Rd[1])}return[Fp,Ps.length]}(Br.textAnchorOffsets,eH);Br.symbolInstances.emplaceBack(yn.x,yn.y,Ph.right>=0?Ph.right:-1,Ph.center>=0?Ph.center:-1,Ph.left>=0?Ph.left:-1,Ph.vertical||-1,_C,wC,U6,Wq,Gq,Kq,Xq,Zq,Yq,Jq,Qq,Zs,z6,j6,Th,yv,q6,0,Da,zc,tH,rH)}(c,Hr,jt,h,g,_,Or,c.layers[0],c.collisionBoxArray,l.index,l.sourceLayerIndex,c.index,He,[vt,vt,vt,vt],Er,F,_t,Rt,tn,xe,l,E,H,J,T)};if(wr==="line")for(const jt of E6(l.geometry,0,0,zi,zi)){const Hr=Bq(jt,ft,rr,h.vertical||Ee,g,24,Qe,c.overscaling,zi);for(const Br of Hr)Ee&&qq(c,Ee.text,br,Br)||Lr(jt,Br)}else if(wr==="line-center"){for(const jt of l.geometry)if(jt.length>1){const Hr=$q(jt,rr,h.vertical||Ee,g,24,Qe);Hr&&Lr(jt,Hr)}}else if(l.type==="Polygon")for(const jt of $s(l.geometry,0)){const Hr=jq(jt,16);Lr(jt[0],new Cf(Hr.x,Hr.y,0))}else if(l.type==="LineString")for(const jt of l.geometry)Lr(jt,new Cf(jt[0].x,jt[0].y,0));else if(l.type==="Point")for(const jt of l.geometry)for(const Hr of jt)Lr([Hr],new Cf(Hr.x,Hr.y,0))}function O6(c,l,h,g,_,E,T,D,F,H,J,ne,ue,xe,Ee){const Me=function(_t,ft,vt,Rt,rr,Er,tn,wr){const br=Rt.layout.get("text-rotate").evaluate(Er,{})*Math.PI/180,Ur=[];for(const Or of ft.positionedLines)for(const Lr of Or.positionedGlyphs){if(!Lr.rect)continue;const jt=Lr.rect||{};let Hr=YI+1,Br=!0,yn=1,Mi=0;const Ii=(rr||wr)&&Lr.vertical,Ma=Lr.metrics.advance*Lr.scale/2;if(wr&&ft.verticalizable&&(Mi=Or.lineOffset/2-(Lr.imageName?-(ma-Lr.metrics.width*Lr.scale)/2:(Lr.scale-1)*ma)),Lr.imageName){const ii=tn[Lr.imageName];Br=ii.sdf,yn=ii.pixelRatio,Hr=xl/yn}const ac=rr?[Lr.x+Ma,Lr.y]:[0,0];let as=rr?[0,0]:[Lr.x+Ma+vt[0],Lr.y+vt[1]-Mi],Ra=[0,0];Ii&&(Ra=as,as=[0,0]);const Xs=Lr.metrics.isDoubleResolution?2:1,Zs=(Lr.metrics.left-Hr)*Lr.scale-Ma+as[0],Ys=(-Lr.metrics.top-Hr)*Lr.scale+as[1],ko=Zs+jt.w/Xs*Lr.scale/yn,Da=Ys+jt.h/Xs*Lr.scale/yn,Ts=new w(Zs,Ys),ss=new w(ko,Ys),Js=new w(Zs,Da),ls=new w(ko,Da);if(Ii){const ii=new w(-Ma,Ma-cv),ji=-Math.PI/2,Zi=ma/2-Ma,Wl=new w(5-cv-Zi,-(Lr.imageName?Zi:0)),bo=new w(...Ra);Ts._rotateAround(ji,ii)._add(Wl)._add(bo),ss._rotateAround(ji,ii)._add(Wl)._add(bo),Js._rotateAround(ji,ii)._add(Wl)._add(bo),ls._rotateAround(ji,ii)._add(Wl)._add(bo)}if(br){const ii=Math.sin(br),ji=Math.cos(br),Zi=[ji,-ii,ii,ji];Ts._matMult(Zi),ss._matMult(Zi),Js._matMult(Zi),ls._matMult(Zi)}const Eu=new w(0,0),_l=new w(0,0);Ur.push({tl:Ts,tr:ss,bl:Js,br:ls,tex:jt,writingMode:ft.writingMode,glyphOffset:ac,sectionIndex:Lr.sectionIndex,isSDF:Br,pixelOffsetTL:Eu,pixelOffsetBR:_l,minFontScaleX:0,minFontScaleY:0})}return Ur}(0,h,D,_,E,T,g,c.allowVerticalPlacement),He=c.textSizeData;let Qe=null;He.kind==="source"?(Qe=[Id*_.layout.get("text-size").evaluate(T,{})],Qe[0]>wf&&ye(`${c.layerIds[0]}: Value for "text-size" is >= ${hv}. Reduce your "text-size".`)):He.kind==="composite"&&(Qe=[Id*xe.compositeTextSizes[0].evaluate(T,{},Ee),Id*xe.compositeTextSizes[1].evaluate(T,{},Ee)],(Qe[0]>wf||Qe[1]>wf)&&ye(`${c.layerIds[0]}: Value for "text-size" is >= ${hv}. Reduce your "text-size".`)),c.addSymbols(c.text,Me,Qe,D,E,T,H,l,F.lineStartIndex,F.lineLength,ue,Ee);for(const _t of J)ne[_t]=c.text.placedSymbolArray.length-1;return 4*Me.length}function N6(c){for(const l in c)return c[l];return null}function qq(c,l,h,g){const _=c.compareText;if(l in _){const E=_[l];for(let T=E.length-1;T>=0;T--)if(g.dist(E[T])<h)return!0}else _[l]=[];return _[l].push(g),!1}const F6=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class pC{static from(l){if(!(l instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[h,g]=new Uint8Array(l,0,2);if(h!==219)throw new Error("Data does not appear to be in a KDBush format.");const _=g>>4;if(_!==1)throw new Error(`Got v${_} data when expected v1.`);const E=F6[15&g];if(!E)throw new Error("Unrecognized array type.");const[T]=new Uint16Array(l,2,1),[D]=new Uint32Array(l,4,1);return new pC(D,T,E,l)}constructor(l,h=64,g=Float64Array,_){if(isNaN(l)||l<0)throw new Error(`Unpexpected numItems value: ${l}.`);this.numItems=+l,this.nodeSize=Math.min(Math.max(+h,2),65535),this.ArrayType=g,this.IndexArrayType=l<65536?Uint16Array:Uint32Array;const E=F6.indexOf(this.ArrayType),T=2*l*this.ArrayType.BYTES_PER_ELEMENT,D=l*this.IndexArrayType.BYTES_PER_ELEMENT,F=(8-D%8)%8;if(E<0)throw new Error(`Unexpected typed array class: ${g}.`);_&&_ instanceof ArrayBuffer?(this.data=_,this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+D+F,2*l),this._pos=2*l,this._finished=!0):(this.data=new ArrayBuffer(8+T+D+F),this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+D+F,2*l),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+E]),new Uint16Array(this.data,2,1)[0]=h,new Uint32Array(this.data,4,1)[0]=l)}add(l,h){const g=this._pos>>1;return this.ids[g]=g,this.coords[this._pos++]=l,this.coords[this._pos++]=h,g}finish(){const l=this._pos>>1;if(l!==this.numItems)throw new Error(`Added ${l} items when expected ${this.numItems}.`);return mC(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(l,h,g,_){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:E,coords:T,nodeSize:D}=this,F=[0,E.length-1,0],H=[];for(;F.length;){const J=F.pop()||0,ne=F.pop()||0,ue=F.pop()||0;if(ne-ue<=D){for(let He=ue;He<=ne;He++){const Qe=T[2*He],_t=T[2*He+1];Qe>=l&&Qe<=g&&_t>=h&&_t<=_&&H.push(E[He])}continue}const xe=ue+ne>>1,Ee=T[2*xe],Me=T[2*xe+1];Ee>=l&&Ee<=g&&Me>=h&&Me<=_&&H.push(E[xe]),(J===0?l<=Ee:h<=Me)&&(F.push(ue),F.push(xe-1),F.push(1-J)),(J===0?g>=Ee:_>=Me)&&(F.push(xe+1),F.push(ne),F.push(1-J))}return H}within(l,h,g){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:_,coords:E,nodeSize:T}=this,D=[0,_.length-1,0],F=[],H=g*g;for(;D.length;){const J=D.pop()||0,ne=D.pop()||0,ue=D.pop()||0;if(ne-ue<=T){for(let He=ue;He<=ne;He++)B6(E[2*He],E[2*He+1],l,h)<=H&&F.push(_[He]);continue}const xe=ue+ne>>1,Ee=E[2*xe],Me=E[2*xe+1];B6(Ee,Me,l,h)<=H&&F.push(_[xe]),(J===0?l-g<=Ee:h-g<=Me)&&(D.push(ue),D.push(xe-1),D.push(1-J)),(J===0?l+g>=Ee:h+g>=Me)&&(D.push(xe+1),D.push(ne),D.push(1-J))}return F}}function mC(c,l,h,g,_,E){if(_-g<=h)return;const T=g+_>>1;$6(c,l,T,g,_,E),mC(c,l,h,g,T-1,1-E),mC(c,l,h,T+1,_,1-E)}function $6(c,l,h,g,_,E){for(;_>g;){if(_-g>600){const H=_-g+1,J=h-g+1,ne=Math.log(H),ue=.5*Math.exp(2*ne/3),xe=.5*Math.sqrt(ne*ue*(H-ue)/H)*(J-H/2<0?-1:1);$6(c,l,h,Math.max(g,Math.floor(h-J*ue/H+xe)),Math.min(_,Math.floor(h+(H-J)*ue/H+xe)),E)}const T=l[2*h+E];let D=g,F=_;for(mv(c,l,g,h),l[2*_+E]>T&&mv(c,l,g,_);D<F;){for(mv(c,l,D,F),D++,F--;l[2*D+E]<T;)D++;for(;l[2*F+E]>T;)F--}l[2*g+E]===T?mv(c,l,g,F):(F++,mv(c,l,F,_)),F<=h&&(g=F+1),h<=F&&(_=F-1)}}function mv(c,l,h,g){gC(c,h,g),gC(l,2*h,2*g),gC(l,2*h+1,2*g+1)}function gC(c,l,h){const g=c[l];c[l]=c[h],c[h]=g}function B6(c,l,h,g){const _=c-h,E=l-g;return _*_+E*E}var yC;u.bg=void 0,(yC=u.bg||(u.bg={})).create="create",yC.load="load",yC.fullLoad="fullLoad";let D2=null,gv=[];const vC=1e3/60,bC="loadTime",xC="fullLoadTime",Hq={mark(c){performance.mark(c)},frame(c){const l=c;D2!=null&&gv.push(l-D2),D2=l},clearMetrics(){D2=null,gv=[],performance.clearMeasures(bC),performance.clearMeasures(xC);for(const c in u.bg)performance.clearMarks(u.bg[c])},getPerformanceMetrics(){performance.measure(bC,u.bg.create,u.bg.load),performance.measure(xC,u.bg.create,u.bg.fullLoad);const c=performance.getEntriesByName(bC)[0].duration,l=performance.getEntriesByName(xC)[0].duration,h=gv.length,g=1/(gv.reduce((E,T)=>E+T,0)/h/1e3),_=gv.filter(E=>E>vC).reduce((E,T)=>E+(T-vC)/vC,0);return{loadTime:c,fullLoadTime:l,fps:g,percentDroppedFrames:_/(h+_)*100,totalFrames:h}}};u.$=class extends G{},u.A=og,u.B=Wy,u.C=function(c){if(ke==null){const l=c.navigator?c.navigator.userAgent:null;ke=!!c.safari||!(!l||!(/\b(iPad|iPhone|iPod)\b/.test(l)||l.match("Safari")&&!l.match("Chrome")))}return ke},u.D=Fr,u.E=lt,u.F=class{constructor(c,l){this.target=c,this.mapId=l,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new Nq(()=>this.process()),this.subscription=function(h,g,_,E){return h.addEventListener(g,_,!1),{unsubscribe:()=>{h.removeEventListener(g,_,!1)}}}(this.target,"message",h=>this.receive(h)),this.globalScope=Ae(self)?c:window}registerMessageHandler(c,l){this.messageHandlers[c]=l}sendAsync(c,l){return new Promise((h,g)=>{const _=Math.round(1e18*Math.random()).toString(36).substring(0,10);this.resolveRejects[_]={resolve:h,reject:g},l&&l.signal.addEventListener("abort",()=>{delete this.resolveRejects[_];const D={id:_,type:"<cancel>",origin:location.origin,targetMapId:c.targetMapId,sourceMapId:this.mapId};this.target.postMessage(D)},{once:!0});const E=[],T=Object.assign(Object.assign({},c),{id:_,sourceMapId:this.mapId,origin:location.origin,data:_d(c.data,E)});this.target.postMessage(T,{transfer:E})})}receive(c){const l=c.data,h=l.id;if(!(l.origin!=="file://"&&location.origin!=="file://"&&l.origin!=="resource://android"&&location.origin!=="resource://android"&&l.origin!==location.origin||l.targetMapId&&this.mapId!==l.targetMapId)){if(l.type==="<cancel>"){delete this.tasks[h];const g=this.abortControllers[h];return delete this.abortControllers[h],void(g&&g.abort())}if(Ae(self)||l.mustQueue)return this.tasks[h]=l,this.taskQueue.push(h),void this.invoker.trigger();this.processTask(h,l)}}process(){if(this.taskQueue.length===0)return;const c=this.taskQueue.shift(),l=this.tasks[c];delete this.tasks[c],this.taskQueue.length>0&&this.invoker.trigger(),l&&this.processTask(c,l)}processTask(c,l){return s(this,void 0,void 0,function*(){if(l.type==="<response>"){const _=this.resolveRejects[c];return delete this.resolveRejects[c],_?void(l.error?_.reject(Nc(l.error)):_.resolve(Nc(l.data))):void 0}if(!this.messageHandlers[l.type])return void this.completeTask(c,new Error(`Could not find a registered handler for ${l.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));const h=Nc(l.data),g=new AbortController;this.abortControllers[c]=g;try{const _=yield this.messageHandlers[l.type](l.sourceMapId,h,g);this.completeTask(c,null,_)}catch(_){this.completeTask(c,_)}})}completeTask(c,l,h){const g=[];delete this.abortControllers[c];const _={id:c,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:l?_d(l):null,data:_d(h,g)};this.target.postMessage(_,{transfer:g})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},u.G=Fe,u.H=function(){var c=new og(16);return og!=Float32Array&&(c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[11]=0,c[12]=0,c[13]=0,c[14]=0),c[0]=1,c[5]=1,c[10]=1,c[15]=1,c},u.I=tC,u.J=function(c,l,h){var g,_,E,T,D,F,H,J,ne,ue,xe,Ee,Me=h[0],He=h[1],Qe=h[2];return l===c?(c[12]=l[0]*Me+l[4]*He+l[8]*Qe+l[12],c[13]=l[1]*Me+l[5]*He+l[9]*Qe+l[13],c[14]=l[2]*Me+l[6]*He+l[10]*Qe+l[14],c[15]=l[3]*Me+l[7]*He+l[11]*Qe+l[15]):(_=l[1],E=l[2],T=l[3],D=l[4],F=l[5],H=l[6],J=l[7],ne=l[8],ue=l[9],xe=l[10],Ee=l[11],c[0]=g=l[0],c[1]=_,c[2]=E,c[3]=T,c[4]=D,c[5]=F,c[6]=H,c[7]=J,c[8]=ne,c[9]=ue,c[10]=xe,c[11]=Ee,c[12]=g*Me+D*He+ne*Qe+l[12],c[13]=_*Me+F*He+ue*Qe+l[13],c[14]=E*Me+H*He+xe*Qe+l[14],c[15]=T*Me+J*He+Ee*Qe+l[15]),c},u.K=function(c,l,h){var g=h[0],_=h[1],E=h[2];return c[0]=l[0]*g,c[1]=l[1]*g,c[2]=l[2]*g,c[3]=l[3]*g,c[4]=l[4]*_,c[5]=l[5]*_,c[6]=l[6]*_,c[7]=l[7]*_,c[8]=l[8]*E,c[9]=l[9]*E,c[10]=l[10]*E,c[11]=l[11]*E,c[12]=l[12],c[13]=l[13],c[14]=l[14],c[15]=l[15],c},u.L=bI,u.M=function(c,l){const h={};for(let g=0;g<l.length;g++){const _=l[g];_ in c&&(h[_]=c[_])}return h},u.N=Sf,u.O=p6,u.P=w,u.Q=m6,u.R=Su,u.S=Cu,u.T=yf,u.U=M,u.V=z,u.W=Ne,u.X=zi,u.Y=P,u.Z=fv,u._=s,u.a=we,u.a$=function(c,l){var h=c[0],g=c[1],_=c[2],E=c[3],T=c[4],D=c[5],F=c[6],H=c[7],J=c[8],ne=c[9],ue=c[10],xe=c[11],Ee=c[12],Me=c[13],He=c[14],Qe=c[15],_t=l[0],ft=l[1],vt=l[2],Rt=l[3],rr=l[4],Er=l[5],tn=l[6],wr=l[7],br=l[8],Ur=l[9],Or=l[10],Lr=l[11],jt=l[12],Hr=l[13],Br=l[14],yn=l[15];return Math.abs(h-_t)<=Ks*Math.max(1,Math.abs(h),Math.abs(_t))&&Math.abs(g-ft)<=Ks*Math.max(1,Math.abs(g),Math.abs(ft))&&Math.abs(_-vt)<=Ks*Math.max(1,Math.abs(_),Math.abs(vt))&&Math.abs(E-Rt)<=Ks*Math.max(1,Math.abs(E),Math.abs(Rt))&&Math.abs(T-rr)<=Ks*Math.max(1,Math.abs(T),Math.abs(rr))&&Math.abs(D-Er)<=Ks*Math.max(1,Math.abs(D),Math.abs(Er))&&Math.abs(F-tn)<=Ks*Math.max(1,Math.abs(F),Math.abs(tn))&&Math.abs(H-wr)<=Ks*Math.max(1,Math.abs(H),Math.abs(wr))&&Math.abs(J-br)<=Ks*Math.max(1,Math.abs(J),Math.abs(br))&&Math.abs(ne-Ur)<=Ks*Math.max(1,Math.abs(ne),Math.abs(Ur))&&Math.abs(ue-Or)<=Ks*Math.max(1,Math.abs(ue),Math.abs(Or))&&Math.abs(xe-Lr)<=Ks*Math.max(1,Math.abs(xe),Math.abs(Lr))&&Math.abs(Ee-jt)<=Ks*Math.max(1,Math.abs(Ee),Math.abs(jt))&&Math.abs(Me-Hr)<=Ks*Math.max(1,Math.abs(Me),Math.abs(Hr))&&Math.abs(He-Br)<=Ks*Math.max(1,Math.abs(He),Math.abs(Br))&&Math.abs(Qe-yn)<=Ks*Math.max(1,Math.abs(Qe),Math.abs(yn))},u.a0=Bn,u.a1=dC,u.a2=Ze,u.a3=c=>{const l=window.document.createElement("video");return l.muted=!0,new Promise(h=>{l.onloadstart=()=>{h(l)};for(const g of c){const _=window.document.createElement("source");nt(g)||(l.crossOrigin="Anonymous"),_.src=g,l.appendChild(_)}})},u.a4=function(){return Q++},u.a5=ar,u.a6=dg,u.a7=ns,u.a8=Td,u.a9=_6,u.aA=function(c){if(c.type==="custom")return new Oq(c);switch(c.type){case"background":return new Mq(c);case"circle":return new bV(c);case"fill":return new NV(c);case"fill-extrusion":return new YV(c);case"heatmap":return new _V(c);case"hillshade":return new SV(c);case"line":return new oq(c);case"raster":return new Dq(c);case"symbol":return new k2(c)}},u.aB=Z,u.aC=function(c,l){if(!c)return[{command:"setStyle",args:[l]}];let h=[];try{if(!wt(c.version,l.version))return[{command:"setStyle",args:[l]}];wt(c.center,l.center)||h.push({command:"setCenter",args:[l.center]}),wt(c.zoom,l.zoom)||h.push({command:"setZoom",args:[l.zoom]}),wt(c.bearing,l.bearing)||h.push({command:"setBearing",args:[l.bearing]}),wt(c.pitch,l.pitch)||h.push({command:"setPitch",args:[l.pitch]}),wt(c.sprite,l.sprite)||h.push({command:"setSprite",args:[l.sprite]}),wt(c.glyphs,l.glyphs)||h.push({command:"setGlyphs",args:[l.glyphs]}),wt(c.transition,l.transition)||h.push({command:"setTransition",args:[l.transition]}),wt(c.light,l.light)||h.push({command:"setLight",args:[l.light]}),wt(c.terrain,l.terrain)||h.push({command:"setTerrain",args:[l.terrain]}),wt(c.sky,l.sky)||h.push({command:"setSky",args:[l.sky]}),wt(c.projection,l.projection)||h.push({command:"setProjection",args:[l.projection]});const g={},_=[];(function(T,D,F,H){let J;for(J in D=D||{},T=T||{})Object.prototype.hasOwnProperty.call(T,J)&&(Object.prototype.hasOwnProperty.call(D,J)||Gt(J,F,H));for(J in D)Object.prototype.hasOwnProperty.call(D,J)&&(Object.prototype.hasOwnProperty.call(T,J)?wt(T[J],D[J])||(T[J].type==="geojson"&&D[J].type==="geojson"&&Jt(T,D,J)?Mt(F,{command:"setGeoJSONSourceData",args:[J,D[J].data]}):Lt(J,D,F,H)):It(J,D,F))})(c.sources,l.sources,_,g);const E=[];c.layers&&c.layers.forEach(T=>{"source"in T&&g[T.source]?h.push({command:"removeLayer",args:[T.id]}):E.push(T)}),h=h.concat(_),function(T,D,F){D=D||[];const H=(T=T||[]).map(Cr),J=D.map(Cr),ne=T.reduce(Ir,{}),ue=D.reduce(Ir,{}),xe=H.slice(),Ee=Object.create(null);let Me,He,Qe,_t,ft;for(let vt=0,Rt=0;vt<H.length;vt++)Me=H[vt],Object.prototype.hasOwnProperty.call(ue,Me)?Rt++:(Mt(F,{command:"removeLayer",args:[Me]}),xe.splice(xe.indexOf(Me,Rt),1));for(let vt=0,Rt=0;vt<J.length;vt++)Me=J[J.length-1-vt],xe[xe.length-1-vt]!==Me&&(Object.prototype.hasOwnProperty.call(ne,Me)?(Mt(F,{command:"removeLayer",args:[Me]}),xe.splice(xe.lastIndexOf(Me,xe.length-Rt),1)):Rt++,_t=xe[xe.length-vt],Mt(F,{command:"addLayer",args:[ue[Me],_t]}),xe.splice(xe.length-vt,0,Me),Ee[Me]=!0);for(let vt=0;vt<J.length;vt++)if(Me=J[vt],He=ne[Me],Qe=ue[Me],!Ee[Me]&&!wt(He,Qe))if(wt(He.source,Qe.source)&&wt(He["source-layer"],Qe["source-layer"])&&wt(He.type,Qe.type)){for(ft in _r(He.layout,Qe.layout,F,Me,null,"setLayoutProperty"),_r(He.paint,Qe.paint,F,Me,null,"setPaintProperty"),wt(He.filter,Qe.filter)||Mt(F,{command:"setFilter",args:[Me,Qe.filter]}),wt(He.minzoom,Qe.minzoom)&&wt(He.maxzoom,Qe.maxzoom)||Mt(F,{command:"setLayerZoomRange",args:[Me,Qe.minzoom,Qe.maxzoom]}),He)Object.prototype.hasOwnProperty.call(He,ft)&&ft!=="layout"&&ft!=="paint"&&ft!=="filter"&&ft!=="metadata"&&ft!=="minzoom"&&ft!=="maxzoom"&&(ft.indexOf("paint.")===0?_r(He[ft],Qe[ft],F,Me,ft.slice(6),"setPaintProperty"):wt(He[ft],Qe[ft])||Mt(F,{command:"setLayerProperty",args:[Me,ft,Qe[ft]]}));for(ft in Qe)Object.prototype.hasOwnProperty.call(Qe,ft)&&!Object.prototype.hasOwnProperty.call(He,ft)&&ft!=="layout"&&ft!=="paint"&&ft!=="filter"&&ft!=="metadata"&&ft!=="minzoom"&&ft!=="maxzoom"&&(ft.indexOf("paint.")===0?_r(He[ft],Qe[ft],F,Me,ft.slice(6),"setPaintProperty"):wt(He[ft],Qe[ft])||Mt(F,{command:"setLayerProperty",args:[Me,ft,Qe[ft]]}))}else Mt(F,{command:"removeLayer",args:[Me]}),_t=xe[xe.lastIndexOf(Me)+1],Mt(F,{command:"addLayer",args:[Qe,_t]})}(E,l.layers,h)}catch(g){console.warn("Unable to compute style diff:",g),h=[{command:"setStyle",args:[l]}]}return h},u.aD=function(c){const l=[],h=c.id;return h===void 0&&l.push({message:`layers.${h}: missing required property "id"`}),c.render===void 0&&l.push({message:`layers.${h}: missing required method "render"`}),c.renderingMode&&c.renderingMode!=="2d"&&c.renderingMode!=="3d"&&l.push({message:`layers.${h}: property "renderingMode" must be either "2d" or "3d"`}),l},u.aE=function c(l,h){if(Array.isArray(l)){if(!Array.isArray(h)||l.length!==h.length)return!1;for(let g=0;g<l.length;g++)if(!c(l[g],h[g]))return!1;return!0}if(typeof l=="object"&&l!==null&&h!==null){if(typeof h!="object"||Object.keys(l).length!==Object.keys(h).length)return!1;for(const g in l)if(!c(l[g],h[g]))return!1;return!0}return l===h},u.aF=ge,u.aG=Y,u.aH=class extends Ed{constructor(c,l){super(c,l),this.current=0}set(c){this.current!==c&&(this.current=c,this.gl.uniform1i(this.location,c))}},u.aI=Lp,u.aJ=class extends Ed{constructor(c,l){super(c,l),this.current=Rp}set(c){if(c[12]!==this.current[12]||c[0]!==this.current[0])return this.current=c,void this.gl.uniformMatrix4fv(this.location,!1,c);for(let l=1;l<16;l++)if(c[l]!==this.current[l]){this.current=c,this.gl.uniformMatrix4fv(this.location,!1,c);break}}},u.aK=Mp,u.aL=Qm,u.aM=In,u.aN=class extends Ed{constructor(c,l){super(c,l),this.current=[0,0,0]}set(c){c[0]===this.current[0]&&c[1]===this.current[1]&&c[2]===this.current[2]||(this.current=c,this.gl.uniform3f(this.location,c[0],c[1],c[2]))}},u.aO=class extends Ed{constructor(c,l){super(c,l),this.current=[0,0]}set(c){c[0]===this.current[0]&&c[1]===this.current[1]||(this.current=c,this.gl.uniform2f(this.location,c[0],c[1]))}},u.aP=function(c,l,h,g,_,E,T){var D=1/(l-h),F=1/(g-_),H=1/(E-T);return c[0]=-2*D,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=-2*F,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=2*H,c[11]=0,c[12]=(l+h)*D,c[13]=(_+g)*F,c[14]=(T+E)*H,c[15]=1,c},u.aQ=vV,u.aR=class extends Ue{},u.aS=uq,u.aT=class extends Je{},u.aU=VS,u.aV=function(c){return c<=1?1:Math.pow(2,Math.ceil(Math.log(c)/Math.LN2))},u.aW=CI,u.aX=Xi,u.aY=Ia,u.aZ=class extends er{},u.a_=function(c,l){return c[0]===l[0]&&c[1]===l[1]&&c[2]===l[2]&&c[3]===l[3]&&c[4]===l[4]&&c[5]===l[5]&&c[6]===l[6]&&c[7]===l[7]&&c[8]===l[8]&&c[9]===l[9]&&c[10]===l[10]&&c[11]===l[11]&&c[12]===l[12]&&c[13]===l[13]&&c[14]===l[14]&&c[15]===l[15]},u.aa=function(c){const l={};if(c.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(h,g,_,E)=>{const T=_||E;return l[g]=!T||T.toLowerCase(),""}),l["max-age"]){const h=parseInt(l["max-age"],10);isNaN(h)?delete l["max-age"]:l["max-age"]=h}return l},u.ab=function(c,l){const h=[];for(const g in c)g in l||h.push(g);return h},u.ac=te,u.ad=function(c,l,h){var g=Math.sin(h),_=Math.cos(h),E=l[0],T=l[1],D=l[2],F=l[3],H=l[4],J=l[5],ne=l[6],ue=l[7];return l!==c&&(c[8]=l[8],c[9]=l[9],c[10]=l[10],c[11]=l[11],c[12]=l[12],c[13]=l[13],c[14]=l[14],c[15]=l[15]),c[0]=E*_+H*g,c[1]=T*_+J*g,c[2]=D*_+ne*g,c[3]=F*_+ue*g,c[4]=H*_-E*g,c[5]=J*_-T*g,c[6]=ne*_-D*g,c[7]=ue*_-F*g,c},u.ae=function(c){var l=new og(16);return l[0]=c[0],l[1]=c[1],l[2]=c[2],l[3]=c[3],l[4]=c[4],l[5]=c[5],l[6]=c[6],l[7]=c[7],l[8]=c[8],l[9]=c[9],l[10]=c[10],l[11]=c[11],l[12]=c[12],l[13]=c[13],l[14]=c[14],l[15]=c[15],l},u.af=x2,u.ag=function(c,l){let h=0,g=0;if(c.kind==="constant")g=c.layoutSize;else if(c.kind!=="source"){const{interpolationType:_,minZoom:E,maxZoom:T}=c,D=_?te(Sr.interpolationFactor(_,l,E,T),0,1):0;c.kind==="camera"?g=Gr.number(c.minSize,c.maxSize,D):h=D}return{uSizeT:h,uSize:g}},u.ai=function(c,{uSize:l,uSizeT:h},{lowerSize:g,upperSize:_}){return c.kind==="source"?g/Id:c.kind==="composite"?Gr.number(g/Id,_/Id,h):l},u.aj=oC,u.ak=function(c,l,h,g){const _=l.y-c.y,E=l.x-c.x,T=g.y-h.y,D=g.x-h.x,F=T*E-D*_;if(F===0)return null;const H=(D*(c.y-h.y)-T*(c.x-h.x))/F;return new w(c.x+H*E,c.y+H*_)},u.al=E6,u.am=rg,u.an=zS,u.ao=function(c){let l=1/0,h=1/0,g=-1/0,_=-1/0;for(const E of c)l=Math.min(l,E.x),h=Math.min(h,E.y),g=Math.max(g,E.x),_=Math.max(_,E.y);return[l,h,g,_]},u.ap=ma,u.ar=iC,u.as=function(c,l){var h=l[0],g=l[1],_=l[2],E=l[3],T=l[4],D=l[5],F=l[6],H=l[7],J=l[8],ne=l[9],ue=l[10],xe=l[11],Ee=l[12],Me=l[13],He=l[14],Qe=l[15],_t=h*D-g*T,ft=h*F-_*T,vt=h*H-E*T,Rt=g*F-_*D,rr=g*H-E*D,Er=_*H-E*F,tn=J*Me-ne*Ee,wr=J*He-ue*Ee,br=J*Qe-xe*Ee,Ur=ne*He-ue*Me,Or=ne*Qe-xe*Me,Lr=ue*Qe-xe*He,jt=_t*Lr-ft*Or+vt*Ur+Rt*br-rr*wr+Er*tn;return jt?(c[0]=(D*Lr-F*Or+H*Ur)*(jt=1/jt),c[1]=(_*Or-g*Lr-E*Ur)*jt,c[2]=(Me*Er-He*rr+Qe*Rt)*jt,c[3]=(ue*rr-ne*Er-xe*Rt)*jt,c[4]=(F*br-T*Lr-H*wr)*jt,c[5]=(h*Lr-_*br+E*wr)*jt,c[6]=(He*vt-Ee*Er-Qe*ft)*jt,c[7]=(J*Er-ue*vt+xe*ft)*jt,c[8]=(T*Or-D*br+H*tn)*jt,c[9]=(g*br-h*Or-E*tn)*jt,c[10]=(Ee*rr-Me*vt+Qe*_t)*jt,c[11]=(ne*vt-J*rr-xe*_t)*jt,c[12]=(D*wr-T*Ur-F*tn)*jt,c[13]=(h*Ur-g*wr+_*tn)*jt,c[14]=(Me*ft-Ee*Rt-He*_t)*jt,c[15]=(J*Rt-ne*ft+ue*_t)*jt,c):null},u.at=fC,u.au=nC,u.av=pC,u.aw=function(){const c={},l=ce.$version;for(const h in ce.$root){const g=ce.$root[h];if(g.required){let _=null;_=h==="version"?l:g.type==="array"?[]:{},_!=null&&(c[h]=_)}}return c},u.ax=Vl,u.ay=Ve,u.az=function(c){c=c.slice();const l=Object.create(null);for(let h=0;h<c.length;h++)l[c[h].id]=c[h];for(let h=0;h<c.length;h++)"ref"in c[h]&&(c[h]=qt(c[h],l[c[h].ref]));return c},u.b=Oe,u.b0=function(c,l){return c[0]=l[0],c[1]=l[1],c[2]=l[2],c[3]=l[3],c[4]=l[4],c[5]=l[5],c[6]=l[6],c[7]=l[7],c[8]=l[8],c[9]=l[9],c[10]=l[10],c[11]=l[11],c[12]=l[12],c[13]=l[13],c[14]=l[14],c[15]=l[15],c},u.b1=function(c,l,h){return c[0]=l[0]*h[0],c[1]=l[1]*h[1],c[2]=l[2]*h[2],c[3]=l[3]*h[3],c},u.b2=function(c,l){return c[0]*l[0]+c[1]*l[1]+c[2]*l[2]+c[3]*l[3]},u.b3=K,u.b4=v6,u.b5=g6,u.b6=function(c,l,h,g,_){var E,T=1/Math.tan(l/2);return c[0]=T/h,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=T,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[11]=-1,c[12]=0,c[13]=0,c[15]=0,_!=null&&_!==1/0?(c[10]=(_+g)*(E=1/(g-_)),c[14]=2*_*g*E):(c[10]=-1,c[14]=-2*g),c},u.b7=function(c,l,h){var g=Math.sin(h),_=Math.cos(h),E=l[4],T=l[5],D=l[6],F=l[7],H=l[8],J=l[9],ne=l[10],ue=l[11];return l!==c&&(c[0]=l[0],c[1]=l[1],c[2]=l[2],c[3]=l[3],c[12]=l[12],c[13]=l[13],c[14]=l[14],c[15]=l[15]),c[4]=E*_+H*g,c[5]=T*_+J*g,c[6]=D*_+ne*g,c[7]=F*_+ue*g,c[8]=H*_-E*g,c[9]=J*_-T*g,c[10]=ne*_-D*g,c[11]=ue*_-F*g,c},u.b8=B,u.b9=q,u.bA=qI,u.bB=function(c){return c.message===ae},u.bC=Ti,u.bD=Ss,u.ba=function(c){return c*Math.PI/180},u.bb=function(c,l){const{x:h,y:g}=fv.fromLngLat(l);return!(c<0||c>25||g<0||g>=1||h<0||h>=1)},u.bc=function(c,l){return c[0]=l[0],c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=l[1],c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=l[2],c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c},u.bd=class extends U{},u.be=uC,u.bf=Hq,u.bh=rt,u.bi=function(c,l){we.REGISTERED_PROTOCOLS[c]=l},u.bj=function(c){delete we.REGISTERED_PROTOCOLS[c]},u.bk=function(c,l){const h={};for(let _=0;_<c.length;_++){const E=l&&l[c[_].id]||xs(c[_]);l&&(l[c[_].id]=E);let T=h[E];T||(T=h[E]=[]),T.push(c[_])}const g=[];for(const _ in h)g.push(h[_]);return g},u.bl=kr,u.bm=x6,u.bn=w6,u.bo=QI,u.bp=function(c){c.bucket.createArrays(),c.bucket.tilePixelRatio=zi/(512*c.bucket.overscaling),c.bucket.compareText={},c.bucket.iconsNeedLinear=!1;const l=c.bucket.layers[0],h=l.layout,g=l._unevaluatedLayout._values,_={layoutIconSize:g["icon-size"].possiblyEvaluate(new Pi(c.bucket.zoom+1),c.canonical),layoutTextSize:g["text-size"].possiblyEvaluate(new Pi(c.bucket.zoom+1),c.canonical),textMaxSize:g["text-size"].possiblyEvaluate(new Pi(18))};if(c.bucket.textSizeData.kind==="composite"){const{minZoom:H,maxZoom:J}=c.bucket.textSizeData;_.compositeTextSizes=[g["text-size"].possiblyEvaluate(new Pi(H),c.canonical),g["text-size"].possiblyEvaluate(new Pi(J),c.canonical)]}if(c.bucket.iconSizeData.kind==="composite"){const{minZoom:H,maxZoom:J}=c.bucket.iconSizeData;_.compositeIconSizes=[g["icon-size"].possiblyEvaluate(new Pi(H),c.canonical),g["icon-size"].possiblyEvaluate(new Pi(J),c.canonical)]}const E=h.get("text-line-height")*ma,T=h.get("text-rotation-alignment")!=="viewport"&&h.get("symbol-placement")!=="point",D=h.get("text-keep-upright"),F=h.get("text-size");for(const H of c.bucket.features){const J=h.get("text-font").evaluate(H,{},c.canonical).join(","),ne=F.evaluate(H,{},c.canonical),ue=_.layoutTextSize.evaluate(H,{},c.canonical),xe=_.layoutIconSize.evaluate(H,{},c.canonical),Ee={horizontal:{},vertical:void 0},Me=H.text;let He,Qe=[0,0];if(Me){const vt=Me.toString(),Rt=h.get("text-letter-spacing").evaluate(H,{},c.canonical)*ma,rr=Gy(vt)?Rt:0,Er=h.get("text-anchor").evaluate(H,{},c.canonical),tn=D6(l,H,c.canonical);if(!tn){const Or=h.get("text-radial-offset").evaluate(H,{},c.canonical);Qe=Or?R6(Er,[Or*ma,hC]):h.get("text-offset").evaluate(H,{},c.canonical).map(Lr=>Lr*ma)}let wr=T?"center":h.get("text-justify").evaluate(H,{},c.canonical);const br=h.get("symbol-placement")==="point"?h.get("text-max-width").evaluate(H,{},c.canonical)*ma:1/0,Ur=()=>{c.bucket.allowVerticalPlacement&&Tp(vt)&&(Ee.vertical=A2(Me,c.glyphMap,c.glyphPositions,c.imagePositions,J,br,E,Er,"left",rr,Qe,u.ah.vertical,!0,ue,ne))};if(!T&&tn){const Or=new Set;if(wr==="auto")for(let jt=0;jt<tn.values.length;jt+=2)Or.add(fC(tn.values[jt]));else Or.add(wr);let Lr=!1;for(const jt of Or)if(!Ee.horizontal[jt])if(Lr)Ee.horizontal[jt]=Ee.horizontal[0];else{const Hr=A2(Me,c.glyphMap,c.glyphPositions,c.imagePositions,J,br,E,"center",jt,rr,Qe,u.ah.horizontal,!1,ue,ne);Hr&&(Ee.horizontal[jt]=Hr,Lr=Hr.positionedLines.length===1)}Ur()}else{wr==="auto"&&(wr=fC(Er));const Or=A2(Me,c.glyphMap,c.glyphPositions,c.imagePositions,J,br,E,Er,wr,rr,Qe,u.ah.horizontal,!1,ue,ne);Or&&(Ee.horizontal[wr]=Or),Ur(),Tp(vt)&&T&&D&&(Ee.vertical=A2(Me,c.glyphMap,c.glyphPositions,c.imagePositions,J,br,E,Er,wr,rr,Qe,u.ah.vertical,!1,ue,ne))}}let _t=!1;if(H.icon&&H.icon.name){const vt=c.imageMap[H.icon.name];vt&&(He=Tq(c.imagePositions[H.icon.name],h.get("icon-offset").evaluate(H,{},c.canonical),h.get("icon-anchor").evaluate(H,{},c.canonical)),_t=!!vt.sdf,c.bucket.sdfIcons===void 0?c.bucket.sdfIcons=_t:c.bucket.sdfIcons!==_t&&ye("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(vt.pixelRatio!==c.bucket.pixelRatio||h.get("icon-rotate").constantOr(1)!==0)&&(c.bucket.iconsNeedLinear=!0))}const ft=N6(Ee.horizontal)||Ee.vertical;c.bucket.iconsInText=!!ft&&ft.iconsInText,(ft||He)&&Vq(c.bucket,H,Ee,He,c.imageMap,_,ue,xe,Qe,_t,c.canonical)}c.showCollisionBoxes&&c.bucket.generateCollisionDebugBuffers()},u.bq=YS,u.br=KS,u.bs=ZS,u.bt=xf,u.bu=QS,u.bv=class{constructor(c){this._marks={start:[c.url,"start"].join("#"),end:[c.url,"end"].join("#"),measure:c.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let c=performance.getEntriesByName(this._marks.measure);return c.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),c=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),c}},u.bw=function(c,l,h,g,_){return s(this,void 0,void 0,function*(){if(z())try{return yield Ne(c,l,h,g,_)}catch{}return function(E,T,D,F,H){const J=E.width,ne=E.height;Ke&&pt||(Ke=new OffscreenCanvas(J,ne),pt=Ke.getContext("2d",{willReadFrequently:!0})),Ke.width=J,Ke.height=ne,pt.drawImage(E,0,0,J,ne);const ue=pt.getImageData(T,D,F,H);return pt.clearRect(0,0,J,ne),ue.data}(c,l,h,g,_)})},u.bx=b6,u.by=f,u.bz=m,u.c=me,u.d=c=>s(void 0,void 0,void 0,function*(){if(c.byteLength===0)return createImageBitmap(new ImageData(1,1));const l=new Blob([new Uint8Array(c)],{type:"image/png"});try{return createImageBitmap(l)}catch(h){throw new Error(`Could not load image because of ${h.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}}),u.e=ee,u.f=c=>new Promise((l,h)=>{const g=new Image;g.onload=()=>{l(g),URL.revokeObjectURL(g.src),g.onload=null,window.requestAnimationFrame(()=>{g.src=_e})},g.onerror=()=>h(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const _=new Blob([new Uint8Array(c)],{type:"image/png"});g.src=c.byteLength?URL.createObjectURL(_):_e}),u.g=Re,u.h=(c,l)=>We(ee(c,{type:"json"}),l),u.i=Ae,u.j=Et,u.k=Ct,u.l=(c,l)=>We(ee(c,{type:"arrayBuffer"}),l),u.m=We,u.n=function(c){return new QS(c).readFields(xq,[])},u.o=nv,u.p=JI,u.q=y,u.r=gh,u.s=nt,u.t=Ap,u.u=bu,u.v=ce,u.w=ye,u.x=function([c,l,h]){return l+=90,l*=Math.PI/180,h*=Math.PI/180,{x:c*Math.cos(l)*Math.sin(h),y:c*Math.sin(l)*Math.sin(h),z:c*Math.cos(h)}},u.y=Gr,u.z=Pi}),i("worker",["./shared"],function(u){class s{constructor(se){this.keyCache={},se&&this.replace(se)}replace(se){this._layerConfigs={},this._layers={},this.update(se,[])}update(se,de){for(const ze of se){this._layerConfigs[ze.id]=ze;const it=this._layers[ze.id]=u.aA(ze);it._featureFilter=u.a7(it.filter),this.keyCache[ze.id]&&delete this.keyCache[ze.id]}for(const ze of de)delete this.keyCache[ze],delete this._layerConfigs[ze],delete this._layers[ze];this.familiesBySource={};const Pe=u.bk(Object.values(this._layerConfigs),this.keyCache);for(const ze of Pe){const it=ze.map(et=>this._layers[et.id]),ct=it[0];if(ct.visibility==="none")continue;const pe=ct.source||"";let ve=this.familiesBySource[pe];ve||(ve=this.familiesBySource[pe]={});const Be=ct.sourceLayer||"_geojsonTileLayer";let Ye=ve[Be];Ye||(Ye=ve[Be]=[]),Ye.push(it)}}}class f{constructor(se){const de={},Pe=[];for(const pe in se){const ve=se[pe],Be=de[pe]={};for(const Ye in ve){const et=ve[+Ye];if(!et||et.bitmap.width===0||et.bitmap.height===0)continue;const St={x:0,y:0,w:et.bitmap.width+2,h:et.bitmap.height+2};Pe.push(St),Be[Ye]={rect:St,metrics:et.metrics}}}const{w:ze,h:it}=u.p(Pe),ct=new u.o({width:ze||1,height:it||1});for(const pe in se){const ve=se[pe];for(const Be in ve){const Ye=ve[+Be];if(!Ye||Ye.bitmap.width===0||Ye.bitmap.height===0)continue;const et=de[pe][Be].rect;u.o.copy(Ye.bitmap,ct,{x:0,y:0},{x:et.x+1,y:et.y+1},Ye.bitmap)}}this.image=ct,this.positions=de}}u.bl("GlyphAtlas",f);class m{constructor(se){this.tileID=new u.S(se.tileID.overscaledZ,se.tileID.wrap,se.tileID.canonical.z,se.tileID.canonical.x,se.tileID.canonical.y),this.uid=se.uid,this.zoom=se.zoom,this.pixelRatio=se.pixelRatio,this.tileSize=se.tileSize,this.source=se.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=se.showCollisionBoxes,this.collectResourceTiming=!!se.collectResourceTiming,this.returnDependencies=!!se.returnDependencies,this.promoteId=se.promoteId,this.inFlightDependencies=[]}parse(se,de,Pe,ze){return u._(this,void 0,void 0,function*(){this.status="parsing",this.data=se,this.collisionBoxArray=new u.a5;const it=new u.bm(Object.keys(se.layers).sort()),ct=new u.bn(this.tileID,this.promoteId);ct.bucketLayerIDs=[];const pe={},ve={featureIndex:ct,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Pe},Be=de.familiesBySource[this.source];for(const vr in Be){const Tr=se.layers[vr];if(!Tr)continue;Tr.version===1&&u.w(`Vector tile source "${this.source}" layer "${vr}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const zr=it.encode(vr),Kn=[];for(let fi=0;fi<Tr.length;fi++){const Hn=Tr.feature(fi),so=ct.getId(Hn,vr);Kn.push({feature:Hn,id:so,index:fi,sourceLayerIndex:zr})}for(const fi of Be[vr]){const Hn=fi[0];Hn.source!==this.source&&u.w(`layer.source = ${Hn.source} does not equal this.source = ${this.source}`),Hn.minzoom&&this.zoom<Math.floor(Hn.minzoom)||Hn.maxzoom&&this.zoom>=Hn.maxzoom||Hn.visibility!=="none"&&(x(fi,this.zoom,Pe),(pe[Hn.id]=Hn.createBucket({index:ct.bucketLayerIDs.length,layers:fi,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:zr,sourceID:this.source})).populate(Kn,ve,this.tileID.canonical),ct.bucketLayerIDs.push(fi.map(so=>so.id)))}}const Ye=u.aF(ve.glyphDependencies,vr=>Object.keys(vr).map(Number));this.inFlightDependencies.forEach(vr=>vr==null?void 0:vr.abort()),this.inFlightDependencies=[];let et=Promise.resolve({});if(Object.keys(Ye).length){const vr=new AbortController;this.inFlightDependencies.push(vr),et=ze.sendAsync({type:"GG",data:{stacks:Ye,source:this.source,tileID:this.tileID,type:"glyphs"}},vr)}const St=Object.keys(ve.iconDependencies);let Bt=Promise.resolve({});if(St.length){const vr=new AbortController;this.inFlightDependencies.push(vr),Bt=ze.sendAsync({type:"GI",data:{icons:St,source:this.source,tileID:this.tileID,type:"icons"}},vr)}const Ot=Object.keys(ve.patternDependencies);let Yt=Promise.resolve({});if(Ot.length){const vr=new AbortController;this.inFlightDependencies.push(vr),Yt=ze.sendAsync({type:"GI",data:{icons:Ot,source:this.source,tileID:this.tileID,type:"patterns"}},vr)}const[$t,Qt,hr]=yield Promise.all([et,Bt,Yt]),gr=new f($t),yr=new u.bo(Qt,hr);for(const vr in pe){const Tr=pe[vr];Tr instanceof u.a6?(x(Tr.layers,this.zoom,Pe),u.bp({bucket:Tr,glyphMap:$t,glyphPositions:gr.positions,imageMap:Qt,imagePositions:yr.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):Tr.hasPattern&&(Tr instanceof u.bq||Tr instanceof u.br||Tr instanceof u.bs)&&(x(Tr.layers,this.zoom,Pe),Tr.addFeatures(ve,this.tileID.canonical,yr.patternPositions))}return this.status="done",{buckets:Object.values(pe).filter(vr=>!vr.isEmpty()),featureIndex:ct,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:gr.image,imageAtlas:yr,glyphMap:this.returnDependencies?$t:null,iconMap:this.returnDependencies?Qt:null,glyphPositions:this.returnDependencies?gr.positions:null}})}}function x(je,se,de){const Pe=new u.z(se);for(const ze of je)ze.recalculate(Pe,de)}class w{constructor(se,de,Pe){this.actor=se,this.layerIndex=de,this.availableImages=Pe,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(se,de){return u._(this,void 0,void 0,function*(){const Pe=yield u.l(se.request,de);try{return{vectorTile:new u.bt.VectorTile(new u.bu(Pe.data)),rawData:Pe.data,cacheControl:Pe.cacheControl,expires:Pe.expires}}catch(ze){const it=new Uint8Array(Pe.data);let ct=`Unable to parse the tile at ${se.request.url}, `;throw ct+=it[0]===31&&it[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${ze.message}`,new Error(ct)}})}loadTile(se){return u._(this,void 0,void 0,function*(){const de=se.uid,Pe=!!(se&&se.request&&se.request.collectResourceTiming)&&new u.bv(se.request),ze=new m(se);this.loading[de]=ze;const it=new AbortController;ze.abort=it;try{const ct=yield this.loadVectorTile(se,it);if(delete this.loading[de],!ct)return null;const pe=ct.rawData,ve={};ct.expires&&(ve.expires=ct.expires),ct.cacheControl&&(ve.cacheControl=ct.cacheControl);const Be={};if(Pe){const et=Pe.finish();et&&(Be.resourceTiming=JSON.parse(JSON.stringify(et)))}ze.vectorTile=ct.vectorTile;const Ye=ze.parse(ct.vectorTile,this.layerIndex,this.availableImages,this.actor);this.loaded[de]=ze,this.fetching[de]={rawTileData:pe,cacheControl:ve,resourceTiming:Be};try{const et=yield Ye;return u.e({rawTileData:pe.slice(0)},et,ve,Be)}finally{delete this.fetching[de]}}catch(ct){throw delete this.loading[de],ze.status="done",this.loaded[de]=ze,ct}})}reloadTile(se){return u._(this,void 0,void 0,function*(){const de=se.uid;if(!this.loaded||!this.loaded[de])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");const Pe=this.loaded[de];if(Pe.showCollisionBoxes=se.showCollisionBoxes,Pe.status==="parsing"){const ze=yield Pe.parse(Pe.vectorTile,this.layerIndex,this.availableImages,this.actor);let it;if(this.fetching[de]){const{rawTileData:ct,cacheControl:pe,resourceTiming:ve}=this.fetching[de];delete this.fetching[de],it=u.e({rawTileData:ct.slice(0)},ze,pe,ve)}else it=ze;return it}if(Pe.status==="done"&&Pe.vectorTile)return Pe.parse(Pe.vectorTile,this.layerIndex,this.availableImages,this.actor)})}abortTile(se){return u._(this,void 0,void 0,function*(){const de=this.loading,Pe=se.uid;de&&de[Pe]&&de[Pe].abort&&(de[Pe].abort.abort(),delete de[Pe])})}removeTile(se){return u._(this,void 0,void 0,function*(){this.loaded&&this.loaded[se.uid]&&delete this.loaded[se.uid]})}}class S{constructor(){this.loaded={}}loadTile(se){return u._(this,void 0,void 0,function*(){const{uid:de,encoding:Pe,rawImageData:ze,redFactor:it,greenFactor:ct,blueFactor:pe,baseShift:ve}=se,Be=ze.width+2,Ye=ze.height+2,et=u.b(ze)?new u.R({width:Be,height:Ye},yield u.bw(ze,-1,-1,Be,Ye)):ze,St=new u.bx(de,et,Pe,it,ct,pe,ve);return this.loaded=this.loaded||{},this.loaded[de]=St,St})}removeTile(se){const de=this.loaded,Pe=se.uid;de&&de[Pe]&&delete de[Pe]}}function C(je,se){if(je.length!==0){L(je[0],se);for(var de=1;de<je.length;de++)L(je[de],!se)}}function L(je,se){for(var de=0,Pe=0,ze=0,it=je.length,ct=it-1;ze<it;ct=ze++){var pe=(je[ze][0]-je[ct][0])*(je[ct][1]+je[ze][1]),ve=de+pe;Pe+=Math.abs(de)>=Math.abs(pe)?de-ve+pe:pe-ve+de,de=ve}de+Pe>=0!=!!se&&je.reverse()}var k=u.by(function je(se,de){var Pe,ze=se&&se.type;if(ze==="FeatureCollection")for(Pe=0;Pe<se.features.length;Pe++)je(se.features[Pe],de);else if(ze==="GeometryCollection")for(Pe=0;Pe<se.geometries.length;Pe++)je(se.geometries[Pe],de);else if(ze==="Feature")je(se.geometry,de);else if(ze==="Polygon")C(se.coordinates,de);else if(ze==="MultiPolygon")for(Pe=0;Pe<se.coordinates.length;Pe++)C(se.coordinates[Pe],de);return se});const $=u.bt.VectorTileFeature.prototype.toGeoJSON;var M={exports:{}},z=u.bz,B=u.bt.VectorTileFeature,q=te;function te(je,se){this.options=se||{},this.features=je,this.length=je.length}function K(je,se){this.id=typeof je.id=="number"?je.id:void 0,this.type=je.type,this.rawGeometry=je.type===1?[je.geometry]:je.geometry,this.properties=je.tags,this.extent=se||4096}te.prototype.feature=function(je){return new K(this.features[je],this.options.extent)},K.prototype.loadGeometry=function(){var je=this.rawGeometry;this.geometry=[];for(var se=0;se<je.length;se++){for(var de=je[se],Pe=[],ze=0;ze<de.length;ze++)Pe.push(new z(de[ze][0],de[ze][1]));this.geometry.push(Pe)}return this.geometry},K.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var je=this.geometry,se=1/0,de=-1/0,Pe=1/0,ze=-1/0,it=0;it<je.length;it++)for(var ct=je[it],pe=0;pe<ct.length;pe++){var ve=ct[pe];se=Math.min(se,ve.x),de=Math.max(de,ve.x),Pe=Math.min(Pe,ve.y),ze=Math.max(ze,ve.y)}return[se,Pe,de,ze]},K.prototype.toGeoJSON=B.prototype.toGeoJSON;var ee=u.bA,Q=q;function ge(je){var se=new ee;return function(de,Pe){for(var ze in de.layers)Pe.writeMessage(3,Y,de.layers[ze])}(je,se),se.finish()}function Y(je,se){var de;se.writeVarintField(15,je.version||1),se.writeStringField(1,je.name||""),se.writeVarintField(5,je.extent||4096);var Pe={keys:[],values:[],keycache:{},valuecache:{}};for(de=0;de<je.length;de++)Pe.feature=je.feature(de),se.writeMessage(2,Z,Pe);var ze=Pe.keys;for(de=0;de<ze.length;de++)se.writeStringField(3,ze[de]);var it=Pe.values;for(de=0;de<it.length;de++)se.writeMessage(4,ke,it[de])}function Z(je,se){var de=je.feature;de.id!==void 0&&se.writeVarintField(1,de.id),se.writeMessage(2,re,je),se.writeVarintField(3,de.type),se.writeMessage(4,Ae,de)}function re(je,se){var de=je.feature,Pe=je.keys,ze=je.values,it=je.keycache,ct=je.valuecache;for(var pe in de.properties){var ve=de.properties[pe],Be=it[pe];if(ve!==null){Be===void 0&&(Pe.push(pe),it[pe]=Be=Pe.length-1),se.writeVarint(Be);var Ye=typeof ve;Ye!=="string"&&Ye!=="boolean"&&Ye!=="number"&&(ve=JSON.stringify(ve));var et=Ye+":"+ve,St=ct[et];St===void 0&&(ze.push(ve),ct[et]=St=ze.length-1),se.writeVarint(St)}}}function ye(je,se){return(se<<3)+(7&je)}function fe(je){return je<<1^je>>31}function Ae(je,se){for(var de=je.loadGeometry(),Pe=je.type,ze=0,it=0,ct=de.length,pe=0;pe<ct;pe++){var ve=de[pe],Be=1;Pe===1&&(Be=ve.length),se.writeVarint(ye(1,Be));for(var Ye=Pe===3?ve.length-1:ve.length,et=0;et<Ye;et++){et===1&&Pe!==1&&se.writeVarint(ye(2,Ye-1));var St=ve[et].x-ze,Bt=ve[et].y-it;se.writeVarint(fe(St)),se.writeVarint(fe(Bt)),ze+=St,it+=Bt}Pe===3&&se.writeVarint(ye(7,1))}}function ke(je,se){var de=typeof je;de==="string"?se.writeStringField(1,je):de==="boolean"?se.writeBooleanField(7,je):de==="number"&&(je%1!=0?se.writeDoubleField(3,je):je<0?se.writeSVarintField(6,je):se.writeVarintField(5,je))}M.exports=ge,M.exports.fromVectorTileJs=ge,M.exports.fromGeojsonVt=function(je,se){se=se||{};var de={};for(var Pe in je)de[Pe]=new Q(je[Pe].features,se),de[Pe].name=Pe,de[Pe].version=se.version,de[Pe].extent=se.extent;return ge({layers:de})},M.exports.GeoJSONWrapper=Q;var Oe=u.by(M.exports);const _e={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:je=>je},Ne=Math.fround||(Ke=new Float32Array(1),je=>(Ke[0]=+je,Ke[0]));var Ke;const pt=3,ae=5,me=6;class we{constructor(se){this.options=Object.assign(Object.create(_e),se),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(se){const{log:de,minZoom:Pe,maxZoom:ze}=this.options;de&&console.time("total time");const it=`prepare ${se.length} points`;de&&console.time(it),this.points=se;const ct=[];for(let ve=0;ve<se.length;ve++){const Be=se[ve];if(!Be.geometry)continue;const[Ye,et]=Be.geometry.coordinates,St=Ne(rt(Ye)),Bt=Ne(Ve(et));ct.push(St,Bt,1/0,ve,-1,1),this.options.reduce&&ct.push(0)}let pe=this.trees[ze+1]=this._createTree(ct);de&&console.timeEnd(it);for(let ve=ze;ve>=Pe;ve--){const Be=+Date.now();pe=this.trees[ve]=this._createTree(this._cluster(pe,ve)),de&&console.log("z%d: %d clusters in %dms",ve,pe.numItems,+Date.now()-Be)}return de&&console.timeEnd("total time"),this}getClusters(se,de){let Pe=((se[0]+180)%360+360)%360-180;const ze=Math.max(-90,Math.min(90,se[1]));let it=se[2]===180?180:((se[2]+180)%360+360)%360-180;const ct=Math.max(-90,Math.min(90,se[3]));if(se[2]-se[0]>=360)Pe=-180,it=180;else if(Pe>it){const et=this.getClusters([Pe,ze,180,ct],de),St=this.getClusters([-180,ze,it,ct],de);return et.concat(St)}const pe=this.trees[this._limitZoom(de)],ve=pe.range(rt(Pe),Ve(ct),rt(it),Ve(ze)),Be=pe.data,Ye=[];for(const et of ve){const St=this.stride*et;Ye.push(Be[St+ae]>1?Re(Be,St,this.clusterProps):this.points[Be[St+pt]])}return Ye}getChildren(se){const de=this._getOriginId(se),Pe=this._getOriginZoom(se),ze="No cluster with the specified id.",it=this.trees[Pe];if(!it)throw new Error(ze);const ct=it.data;if(de*this.stride>=ct.length)throw new Error(ze);const pe=this.options.radius/(this.options.extent*Math.pow(2,Pe-1)),ve=it.within(ct[de*this.stride],ct[de*this.stride+1],pe),Be=[];for(const Ye of ve){const et=Ye*this.stride;ct[et+4]===se&&Be.push(ct[et+ae]>1?Re(ct,et,this.clusterProps):this.points[ct[et+pt]])}if(Be.length===0)throw new Error(ze);return Be}getLeaves(se,de,Pe){const ze=[];return this._appendLeaves(ze,se,de=de||10,Pe=Pe||0,0),ze}getTile(se,de,Pe){const ze=this.trees[this._limitZoom(se)],it=Math.pow(2,se),{extent:ct,radius:pe}=this.options,ve=pe/ct,Be=(Pe-ve)/it,Ye=(Pe+1+ve)/it,et={features:[]};return this._addTileFeatures(ze.range((de-ve)/it,Be,(de+1+ve)/it,Ye),ze.data,de,Pe,it,et),de===0&&this._addTileFeatures(ze.range(1-ve/it,Be,1,Ye),ze.data,it,Pe,it,et),de===it-1&&this._addTileFeatures(ze.range(0,Be,ve/it,Ye),ze.data,-1,Pe,it,et),et.features.length?et:null}getClusterExpansionZoom(se){let de=this._getOriginZoom(se)-1;for(;de<=this.options.maxZoom;){const Pe=this.getChildren(se);if(de++,Pe.length!==1)break;se=Pe[0].properties.cluster_id}return de}_appendLeaves(se,de,Pe,ze,it){const ct=this.getChildren(de);for(const pe of ct){const ve=pe.properties;if(ve&&ve.cluster?it+ve.point_count<=ze?it+=ve.point_count:it=this._appendLeaves(se,ve.cluster_id,Pe,ze,it):it<ze?it++:se.push(pe),se.length===Pe)break}return it}_createTree(se){const de=new u.av(se.length/this.stride|0,this.options.nodeSize,Float32Array);for(let Pe=0;Pe<se.length;Pe+=this.stride)de.add(se[Pe],se[Pe+1]);return de.finish(),de.data=se,de}_addTileFeatures(se,de,Pe,ze,it,ct){for(const pe of se){const ve=pe*this.stride,Be=de[ve+ae]>1;let Ye,et,St;if(Be)Ye=Fe(de,ve,this.clusterProps),et=de[ve],St=de[ve+1];else{const Yt=this.points[de[ve+pt]];Ye=Yt.properties;const[$t,Qt]=Yt.geometry.coordinates;et=rt($t),St=Ve(Qt)}const Bt={type:1,geometry:[[Math.round(this.options.extent*(et*it-Pe)),Math.round(this.options.extent*(St*it-ze))]],tags:Ye};let Ot;Ot=Be||this.options.generateId?de[ve+pt]:this.points[de[ve+pt]].id,Ot!==void 0&&(Bt.id=Ot),ct.features.push(Bt)}}_limitZoom(se){return Math.max(this.options.minZoom,Math.min(Math.floor(+se),this.options.maxZoom+1))}_cluster(se,de){const{radius:Pe,extent:ze,reduce:it,minPoints:ct}=this.options,pe=Pe/(ze*Math.pow(2,de)),ve=se.data,Be=[],Ye=this.stride;for(let et=0;et<ve.length;et+=Ye){if(ve[et+2]<=de)continue;ve[et+2]=de;const St=ve[et],Bt=ve[et+1],Ot=se.within(ve[et],ve[et+1],pe),Yt=ve[et+ae];let $t=Yt;for(const Qt of Ot){const hr=Qt*Ye;ve[hr+2]>de&&($t+=ve[hr+ae])}if($t>Yt&&$t>=ct){let Qt,hr=St*Yt,gr=Bt*Yt,yr=-1;const vr=((et/Ye|0)<<5)+(de+1)+this.points.length;for(const Tr of Ot){const zr=Tr*Ye;if(ve[zr+2]<=de)continue;ve[zr+2]=de;const Kn=ve[zr+ae];hr+=ve[zr]*Kn,gr+=ve[zr+1]*Kn,ve[zr+4]=vr,it&&(Qt||(Qt=this._map(ve,et,!0),yr=this.clusterProps.length,this.clusterProps.push(Qt)),it(Qt,this._map(ve,zr)))}ve[et+4]=vr,Be.push(hr/$t,gr/$t,1/0,vr,-1,$t),it&&Be.push(yr)}else{for(let Qt=0;Qt<Ye;Qt++)Be.push(ve[et+Qt]);if($t>1)for(const Qt of Ot){const hr=Qt*Ye;if(!(ve[hr+2]<=de)){ve[hr+2]=de;for(let gr=0;gr<Ye;gr++)Be.push(ve[hr+gr])}}}}return Be}_getOriginId(se){return se-this.points.length>>5}_getOriginZoom(se){return(se-this.points.length)%32}_map(se,de,Pe){if(se[de+ae]>1){const ct=this.clusterProps[se[de+me]];return Pe?Object.assign({},ct):ct}const ze=this.points[se[de+pt]].properties,it=this.options.map(ze);return Pe&&it===ze?Object.assign({},it):it}}function Re(je,se,de){return{type:"Feature",id:je[se+pt],properties:Fe(je,se,de),geometry:{type:"Point",coordinates:[(Pe=je[se],360*(Pe-.5)),We(je[se+1])]}};var Pe}function Fe(je,se,de){const Pe=je[se+ae],ze=Pe>=1e4?`${Math.round(Pe/1e3)}k`:Pe>=1e3?Math.round(Pe/100)/10+"k":Pe,it=je[se+me],ct=it===-1?{}:Object.assign({},de[it]);return Object.assign(ct,{cluster:!0,cluster_id:je[se+pt],point_count:Pe,point_count_abbreviated:ze})}function rt(je){return je/360+.5}function Ve(je){const se=Math.sin(je*Math.PI/180),de=.5-.25*Math.log((1+se)/(1-se))/Math.PI;return de<0?0:de>1?1:de}function We(je){const se=(180-360*je)*Math.PI/180;return 360*Math.atan(Math.exp(se))/Math.PI-90}function nt(je,se,de,Pe){let ze=Pe;const it=se+(de-se>>1);let ct,pe=de-se;const ve=je[se],Be=je[se+1],Ye=je[de],et=je[de+1];for(let St=se+3;St<de;St+=3){const Bt=ut(je[St],je[St+1],ve,Be,Ye,et);if(Bt>ze)ct=St,ze=Bt;else if(Bt===ze){const Ot=Math.abs(St-it);Ot<pe&&(ct=St,pe=Ot)}}ze>Pe&&(ct-se>3&&nt(je,se,ct,Pe),je[ct+2]=ze,de-ct>3&&nt(je,ct,de,Pe))}function ut(je,se,de,Pe,ze,it){let ct=ze-de,pe=it-Pe;if(ct!==0||pe!==0){const ve=((je-de)*ct+(se-Pe)*pe)/(ct*ct+pe*pe);ve>1?(de=ze,Pe=it):ve>0&&(de+=ct*ve,Pe+=pe*ve)}return ct=je-de,pe=se-Pe,ct*ct+pe*pe}function bt(je,se,de,Pe){const ze={id:je??null,type:se,geometry:de,tags:Pe,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(se==="Point"||se==="MultiPoint"||se==="LineString")Ct(ze,de);else if(se==="Polygon")Ct(ze,de[0]);else if(se==="MultiLineString")for(const it of de)Ct(ze,it);else if(se==="MultiPolygon")for(const it of de)Ct(ze,it[0]);return ze}function Ct(je,se){for(let de=0;de<se.length;de+=3)je.minX=Math.min(je.minX,se[de]),je.minY=Math.min(je.minY,se[de+1]),je.maxX=Math.max(je.maxX,se[de]),je.maxY=Math.max(je.maxY,se[de+1])}function Et(je,se,de,Pe){if(!se.geometry)return;const ze=se.geometry.coordinates;if(ze&&ze.length===0)return;const it=se.geometry.type,ct=Math.pow(de.tolerance/((1<<de.maxZoom)*de.extent),2);let pe=[],ve=se.id;if(de.promoteId?ve=se.properties[de.promoteId]:de.generateId&&(ve=Pe||0),it==="Point")lt(ze,pe);else if(it==="MultiPoint")for(const Be of ze)lt(Be,pe);else if(it==="LineString")ce(ze,pe,ct,!1);else if(it==="MultiLineString"){if(de.lineMetrics){for(const Be of ze)pe=[],ce(Be,pe,ct,!1),je.push(bt(ve,"LineString",pe,se.properties));return}ur(ze,pe,ct,!1)}else if(it==="Polygon")ur(ze,pe,ct,!0);else{if(it!=="MultiPolygon"){if(it==="GeometryCollection"){for(const Be of se.geometry.geometries)Et(je,{id:ve,geometry:Be,properties:se.properties},de,Pe);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const Be of ze){const Ye=[];ur(Be,Ye,ct,!0),pe.push(Ye)}}je.push(bt(ve,it,pe,se.properties))}function lt(je,se){se.push(qt(je[0]),wt(je[1]),0)}function ce(je,se,de,Pe){let ze,it,ct=0;for(let ve=0;ve<je.length;ve++){const Be=qt(je[ve][0]),Ye=wt(je[ve][1]);se.push(Be,Ye,0),ve>0&&(ct+=Pe?(ze*Ye-Be*it)/2:Math.sqrt(Math.pow(Be-ze,2)+Math.pow(Ye-it,2))),ze=Be,it=Ye}const pe=se.length-3;se[2]=1,nt(se,0,pe,de),se[pe+2]=1,se.size=Math.abs(ct),se.start=0,se.end=se.size}function ur(je,se,de,Pe){for(let ze=0;ze<je.length;ze++){const it=[];ce(je[ze],it,de,Pe),se.push(it)}}function qt(je){return je/360+.5}function wt(je){const se=Math.sin(je*Math.PI/180),de=.5-.25*Math.log((1+se)/(1-se))/Math.PI;return de<0?0:de>1?1:de}function Mt(je,se,de,Pe,ze,it,ct,pe){if(Pe/=se,it>=(de/=se)&&ct<Pe)return je;if(ct<de||it>=Pe)return null;const ve=[];for(const Be of je){const Ye=Be.geometry;let et=Be.type;const St=ze===0?Be.minX:Be.minY,Bt=ze===0?Be.maxX:Be.maxY;if(St>=de&&Bt<Pe){ve.push(Be);continue}if(Bt<de||St>=Pe)continue;let Ot=[];if(et==="Point"||et==="MultiPoint")It(Ye,Ot,de,Pe,ze);else if(et==="LineString")Gt(Ye,Ot,de,Pe,ze,!1,pe.lineMetrics);else if(et==="MultiLineString")Jt(Ye,Ot,de,Pe,ze,!1);else if(et==="Polygon")Jt(Ye,Ot,de,Pe,ze,!0);else if(et==="MultiPolygon")for(const Yt of Ye){const $t=[];Jt(Yt,$t,de,Pe,ze,!0),$t.length&&Ot.push($t)}if(Ot.length){if(pe.lineMetrics&&et==="LineString"){for(const Yt of Ot)ve.push(bt(Be.id,et,Yt,Be.tags));continue}et!=="LineString"&&et!=="MultiLineString"||(Ot.length===1?(et="LineString",Ot=Ot[0]):et="MultiLineString"),et!=="Point"&&et!=="MultiPoint"||(et=Ot.length===3?"Point":"MultiPoint"),ve.push(bt(Be.id,et,Ot,Be.tags))}}return ve.length?ve:null}function It(je,se,de,Pe,ze){for(let it=0;it<je.length;it+=3){const ct=je[it+ze];ct>=de&&ct<=Pe&&_r(se,je[it],je[it+1],je[it+2])}}function Gt(je,se,de,Pe,ze,it,ct){let pe=Lt(je);const ve=ze===0?Cr:Ir;let Be,Ye,et=je.start;for(let $t=0;$t<je.length-3;$t+=3){const Qt=je[$t],hr=je[$t+1],gr=je[$t+2],yr=je[$t+3],vr=je[$t+4],Tr=ze===0?Qt:hr,zr=ze===0?yr:vr;let Kn=!1;ct&&(Be=Math.sqrt(Math.pow(Qt-yr,2)+Math.pow(hr-vr,2))),Tr<de?zr>de&&(Ye=ve(pe,Qt,hr,yr,vr,de),ct&&(pe.start=et+Be*Ye)):Tr>Pe?zr<Pe&&(Ye=ve(pe,Qt,hr,yr,vr,Pe),ct&&(pe.start=et+Be*Ye)):_r(pe,Qt,hr,gr),zr<de&&Tr>=de&&(Ye=ve(pe,Qt,hr,yr,vr,de),Kn=!0),zr>Pe&&Tr<=Pe&&(Ye=ve(pe,Qt,hr,yr,vr,Pe),Kn=!0),!it&&Kn&&(ct&&(pe.end=et+Be*Ye),se.push(pe),pe=Lt(je)),ct&&(et+=Be)}let St=je.length-3;const Bt=je[St],Ot=je[St+1],Yt=ze===0?Bt:Ot;Yt>=de&&Yt<=Pe&&_r(pe,Bt,Ot,je[St+2]),St=pe.length-3,it&&St>=3&&(pe[St]!==pe[0]||pe[St+1]!==pe[1])&&_r(pe,pe[0],pe[1],pe[2]),pe.length&&se.push(pe)}function Lt(je){const se=[];return se.size=je.size,se.start=je.start,se.end=je.end,se}function Jt(je,se,de,Pe,ze,it){for(const ct of je)Gt(ct,se,de,Pe,ze,it,!1)}function _r(je,se,de,Pe){je.push(se,de,Pe)}function Cr(je,se,de,Pe,ze,it){const ct=(it-se)/(Pe-se);return _r(je,it,de+(ze-de)*ct,1),ct}function Ir(je,se,de,Pe,ze,it){const ct=(it-de)/(ze-de);return _r(je,se+(Pe-se)*ct,it,1),ct}function Ze(je,se){const de=[];for(let Pe=0;Pe<je.length;Pe++){const ze=je[Pe],it=ze.type;let ct;if(it==="Point"||it==="MultiPoint"||it==="LineString")ct=gt(ze.geometry,se);else if(it==="MultiLineString"||it==="Polygon"){ct=[];for(const pe of ze.geometry)ct.push(gt(pe,se))}else if(it==="MultiPolygon"){ct=[];for(const pe of ze.geometry){const ve=[];for(const Be of pe)ve.push(gt(Be,se));ct.push(ve)}}de.push(bt(ze.id,it,ct,ze.tags))}return de}function gt(je,se){const de=[];de.size=je.size,je.start!==void 0&&(de.start=je.start,de.end=je.end);for(let Pe=0;Pe<je.length;Pe+=3)de.push(je[Pe]+se,je[Pe+1],je[Pe+2]);return de}function Ft(je,se){if(je.transformed)return je;const de=1<<je.z,Pe=je.x,ze=je.y;for(const it of je.features){const ct=it.geometry,pe=it.type;if(it.geometry=[],pe===1)for(let ve=0;ve<ct.length;ve+=2)it.geometry.push(At(ct[ve],ct[ve+1],se,de,Pe,ze));else for(let ve=0;ve<ct.length;ve++){const Be=[];for(let Ye=0;Ye<ct[ve].length;Ye+=2)Be.push(At(ct[ve][Ye],ct[ve][Ye+1],se,de,Pe,ze));it.geometry.push(Be)}}return je.transformed=!0,je}function At(je,se,de,Pe,ze,it){return[Math.round(de*(je*Pe-ze)),Math.round(de*(se*Pe-it))]}function Ar(je,se,de,Pe,ze){const it=se===ze.maxZoom?0:ze.tolerance/((1<<se)*ze.extent),ct={features:[],numPoints:0,numSimplified:0,numFeatures:je.length,source:null,x:de,y:Pe,z:se,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const pe of je)ot(ct,pe,it,ze);return ct}function ot(je,se,de,Pe){const ze=se.geometry,it=se.type,ct=[];if(je.minX=Math.min(je.minX,se.minX),je.minY=Math.min(je.minY,se.minY),je.maxX=Math.max(je.maxX,se.maxX),je.maxY=Math.max(je.maxY,se.maxY),it==="Point"||it==="MultiPoint")for(let pe=0;pe<ze.length;pe+=3)ct.push(ze[pe],ze[pe+1]),je.numPoints++,je.numSimplified++;else if(it==="LineString")kt(ct,ze,je,de,!1,!1);else if(it==="MultiLineString"||it==="Polygon")for(let pe=0;pe<ze.length;pe++)kt(ct,ze[pe],je,de,it==="Polygon",pe===0);else if(it==="MultiPolygon")for(let pe=0;pe<ze.length;pe++){const ve=ze[pe];for(let Be=0;Be<ve.length;Be++)kt(ct,ve[Be],je,de,!0,Be===0)}if(ct.length){let pe=se.tags||null;if(it==="LineString"&&Pe.lineMetrics){pe={};for(const Be in se.tags)pe[Be]=se.tags[Be];pe.mapbox_clip_start=ze.start/ze.size,pe.mapbox_clip_end=ze.end/ze.size}const ve={geometry:ct,type:it==="Polygon"||it==="MultiPolygon"?3:it==="LineString"||it==="MultiLineString"?2:1,tags:pe};se.id!==null&&(ve.id=se.id),je.features.push(ve)}}function kt(je,se,de,Pe,ze,it){const ct=Pe*Pe;if(Pe>0&&se.size<(ze?ct:Pe))return void(de.numPoints+=se.length/3);const pe=[];for(let ve=0;ve<se.length;ve+=3)(Pe===0||se[ve+2]>ct)&&(de.numSimplified++,pe.push(se[ve],se[ve+1])),de.numPoints++;ze&&function(ve,Be){let Ye=0;for(let et=0,St=ve.length,Bt=St-2;et<St;Bt=et,et+=2)Ye+=(ve[et]-ve[Bt])*(ve[et+1]+ve[Bt+1]);if(Ye>0===Be)for(let et=0,St=ve.length;et<St/2;et+=2){const Bt=ve[et],Ot=ve[et+1];ve[et]=ve[St-2-et],ve[et+1]=ve[St-1-et],ve[St-2-et]=Bt,ve[St-1-et]=Ot}}(pe,it),je.push(pe)}const Dt={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class cr{constructor(se,de){const Pe=(de=this.options=function(it,ct){for(const pe in ct)it[pe]=ct[pe];return it}(Object.create(Dt),de)).debug;if(Pe&&console.time("preprocess data"),de.maxZoom<0||de.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(de.promoteId&&de.generateId)throw new Error("promoteId and generateId cannot be used together.");let ze=function(it,ct){const pe=[];if(it.type==="FeatureCollection")for(let ve=0;ve<it.features.length;ve++)Et(pe,it.features[ve],ct,ve);else Et(pe,it.type==="Feature"?it:{geometry:it},ct);return pe}(se,de);this.tiles={},this.tileCoords=[],Pe&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",de.indexMaxZoom,de.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),ze=function(it,ct){const pe=ct.buffer/ct.extent;let ve=it;const Be=Mt(it,1,-1-pe,pe,0,-1,2,ct),Ye=Mt(it,1,1-pe,2+pe,0,-1,2,ct);return(Be||Ye)&&(ve=Mt(it,1,-pe,1+pe,0,-1,2,ct)||[],Be&&(ve=Ze(Be,1).concat(ve)),Ye&&(ve=ve.concat(Ze(Ye,-1)))),ve}(ze,de),ze.length&&this.splitTile(ze,0,0,0),Pe&&(ze.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(se,de,Pe,ze,it,ct,pe){const ve=[se,de,Pe,ze],Be=this.options,Ye=Be.debug;for(;ve.length;){ze=ve.pop(),Pe=ve.pop(),de=ve.pop(),se=ve.pop();const et=1<<de,St=Wr(de,Pe,ze);let Bt=this.tiles[St];if(!Bt&&(Ye>1&&console.time("creation"),Bt=this.tiles[St]=Ar(se,de,Pe,ze,Be),this.tileCoords.push({z:de,x:Pe,y:ze}),Ye)){Ye>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",de,Pe,ze,Bt.numFeatures,Bt.numPoints,Bt.numSimplified),console.timeEnd("creation"));const Kn=`z${de}`;this.stats[Kn]=(this.stats[Kn]||0)+1,this.total++}if(Bt.source=se,it==null){if(de===Be.indexMaxZoom||Bt.numPoints<=Be.indexMaxPoints)continue}else{if(de===Be.maxZoom||de===it)continue;if(it!=null){const Kn=it-de;if(Pe!==ct>>Kn||ze!==pe>>Kn)continue}}if(Bt.source=null,se.length===0)continue;Ye>1&&console.time("clipping");const Ot=.5*Be.buffer/Be.extent,Yt=.5-Ot,$t=.5+Ot,Qt=1+Ot;let hr=null,gr=null,yr=null,vr=null,Tr=Mt(se,et,Pe-Ot,Pe+$t,0,Bt.minX,Bt.maxX,Be),zr=Mt(se,et,Pe+Yt,Pe+Qt,0,Bt.minX,Bt.maxX,Be);se=null,Tr&&(hr=Mt(Tr,et,ze-Ot,ze+$t,1,Bt.minY,Bt.maxY,Be),gr=Mt(Tr,et,ze+Yt,ze+Qt,1,Bt.minY,Bt.maxY,Be),Tr=null),zr&&(yr=Mt(zr,et,ze-Ot,ze+$t,1,Bt.minY,Bt.maxY,Be),vr=Mt(zr,et,ze+Yt,ze+Qt,1,Bt.minY,Bt.maxY,Be),zr=null),Ye>1&&console.timeEnd("clipping"),ve.push(hr||[],de+1,2*Pe,2*ze),ve.push(gr||[],de+1,2*Pe,2*ze+1),ve.push(yr||[],de+1,2*Pe+1,2*ze),ve.push(vr||[],de+1,2*Pe+1,2*ze+1)}}getTile(se,de,Pe){se=+se,de=+de,Pe=+Pe;const ze=this.options,{extent:it,debug:ct}=ze;if(se<0||se>24)return null;const pe=1<<se,ve=Wr(se,de=de+pe&pe-1,Pe);if(this.tiles[ve])return Ft(this.tiles[ve],it);ct>1&&console.log("drilling down to z%d-%d-%d",se,de,Pe);let Be,Ye=se,et=de,St=Pe;for(;!Be&&Ye>0;)Ye--,et>>=1,St>>=1,Be=this.tiles[Wr(Ye,et,St)];return Be&&Be.source?(ct>1&&(console.log("found parent tile z%d-%d-%d",Ye,et,St),console.time("drilling down")),this.splitTile(Be.source,Ye,et,St,se,de,Pe),ct>1&&console.timeEnd("drilling down"),this.tiles[ve]?Ft(this.tiles[ve],it):null):null}}function Wr(je,se,de){return 32*((1<<je)*de+se)+je}function nr(je,se){return se?je.properties[se]:je.id}function ei(je,se){if(je==null)return!0;if(je.type==="Feature")return nr(je,se)!=null;if(je.type==="FeatureCollection"){const de=new Set;for(const Pe of je.features){const ze=nr(Pe,se);if(ze==null||de.has(ze))return!1;de.add(ze)}return!0}return!1}function On(je,se){const de=new Map;if(je!=null)if(je.type==="Feature")de.set(nr(je,se),je);else for(const Pe of je.features)de.set(nr(Pe,se),Pe);return de}class hi extends w{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(se,de){return u._(this,void 0,void 0,function*(){const Pe=se.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");const ze=this._geoJSONIndex.getTile(Pe.z,Pe.x,Pe.y);if(!ze)return null;const it=new class{constructor(pe){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=u.X,this.length=pe.length,this._features=pe}feature(pe){return new class{constructor(ve){this._feature=ve,this.extent=u.X,this.type=ve.type,this.properties=ve.tags,"id"in ve&&!isNaN(ve.id)&&(this.id=parseInt(ve.id,10))}loadGeometry(){if(this._feature.type===1){const ve=[];for(const Be of this._feature.geometry)ve.push([new u.P(Be[0],Be[1])]);return ve}{const ve=[];for(const Be of this._feature.geometry){const Ye=[];for(const et of Be)Ye.push(new u.P(et[0],et[1]));ve.push(Ye)}return ve}}toGeoJSON(ve,Be,Ye){return $.call(this,ve,Be,Ye)}}(this._features[pe])}}(ze.features);let ct=Oe(it);return ct.byteOffset===0&&ct.byteLength===ct.buffer.byteLength||(ct=new Uint8Array(ct)),{vectorTile:it,rawData:ct.buffer}})}loadData(se){return u._(this,void 0,void 0,function*(){var de;(de=this._pendingRequest)===null||de===void 0||de.abort();const Pe=!!(se&&se.request&&se.request.collectResourceTiming)&&new u.bv(se.request);this._pendingRequest=new AbortController;try{this._pendingData=this.loadAndProcessGeoJSON(se,this._pendingRequest),this._geoJSONIndex=se.cluster?new we(function({superclusterOptions:ct,clusterProperties:pe}){if(!pe||!ct)return ct;const ve={},Be={},Ye={accumulated:null,zoom:0},et={properties:null},St=Object.keys(pe);for(const Bt of St){const[Ot,Yt]=pe[Bt],$t=u.bC(Yt),Qt=u.bC(typeof Ot=="string"?[Ot,["accumulated"],["get",Bt]]:Ot);ve[Bt]=$t.value,Be[Bt]=Qt.value}return ct.map=Bt=>{et.properties=Bt;const Ot={};for(const Yt of St)Ot[Yt]=ve[Yt].evaluate(Ye,et);return Ot},ct.reduce=(Bt,Ot)=>{et.properties=Ot;for(const Yt of St)Ye.accumulated=Bt[Yt],Bt[Yt]=Be[Yt].evaluate(Ye,et)},ct}(se)).load((yield this._pendingData).features):(ze=yield this._pendingData,new cr(ze,se.geojsonVtOptions)),this.loaded={};const it={};if(Pe){const ct=Pe.finish();ct&&(it.resourceTiming={},it.resourceTiming[se.source]=JSON.parse(JSON.stringify(ct)))}return it}catch(it){if(delete this._pendingRequest,u.bB(it))return{abandoned:!0};throw it}var ze})}getData(){return u._(this,void 0,void 0,function*(){return this._pendingData})}reloadTile(se){const de=this.loaded;return de&&de[se.uid]?super.reloadTile(se):this.loadTile(se)}loadAndProcessGeoJSON(se,de){return u._(this,void 0,void 0,function*(){let Pe=yield this.loadGeoJSON(se,de);if(delete this._pendingRequest,typeof Pe!="object")throw new Error(`Input data given to '${se.source}' is not a valid GeoJSON object.`);if(k(Pe,!0),se.filter){const ze=u.bC(se.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(ze.result==="error")throw new Error(ze.value.map(ct=>`${ct.key}: ${ct.message}`).join(", "));Pe={type:"FeatureCollection",features:Pe.features.filter(ct=>ze.value.evaluate({zoom:0},ct))}}return Pe})}loadGeoJSON(se,de){return u._(this,void 0,void 0,function*(){const{promoteId:Pe}=se;if(se.request){const ze=yield u.h(se.request,de);return this._dataUpdateable=ei(ze.data,Pe)?On(ze.data,Pe):void 0,ze.data}if(typeof se.data=="string")try{const ze=JSON.parse(se.data);return this._dataUpdateable=ei(ze,Pe)?On(ze,Pe):void 0,ze}catch{throw new Error(`Input data given to '${se.source}' is not a valid GeoJSON object.`)}if(!se.dataDiff)throw new Error(`Input data given to '${se.source}' is not a valid GeoJSON object.`);if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${se.source}`);return function(ze,it,ct){var pe,ve,Be,Ye;if(it.removeAll&&ze.clear(),it.remove)for(const et of it.remove)ze.delete(et);if(it.add)for(const et of it.add){const St=nr(et,ct);St!=null&&ze.set(St,et)}if(it.update)for(const et of it.update){let St=ze.get(et.id);if(St==null)continue;const Bt=!et.removeAllProperties&&(((pe=et.removeProperties)===null||pe===void 0?void 0:pe.length)>0||((ve=et.addOrUpdateProperties)===null||ve===void 0?void 0:ve.length)>0);if((et.newGeometry||et.removeAllProperties||Bt)&&(St=Object.assign({},St),ze.set(et.id,St),Bt&&(St.properties=Object.assign({},St.properties))),et.newGeometry&&(St.geometry=et.newGeometry),et.removeAllProperties)St.properties={};else if(((Be=et.removeProperties)===null||Be===void 0?void 0:Be.length)>0)for(const Ot of et.removeProperties)Object.prototype.hasOwnProperty.call(St.properties,Ot)&&delete St.properties[Ot];if(((Ye=et.addOrUpdateProperties)===null||Ye===void 0?void 0:Ye.length)>0)for(const{key:Ot,value:Yt}of et.addOrUpdateProperties)St.properties[Ot]=Yt}}(this._dataUpdateable,se.dataDiff,Pe),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}})}removeSource(se){return u._(this,void 0,void 0,function*(){this._pendingRequest&&this._pendingRequest.abort()})}getClusterExpansionZoom(se){return this._geoJSONIndex.getClusterExpansionZoom(se.clusterId)}getClusterChildren(se){return this._geoJSONIndex.getChildren(se.clusterId)}getClusterLeaves(se){return this._geoJSONIndex.getLeaves(se.clusterId,se.limit,se.offset)}}class Vn{constructor(se){this.self=se,this.actor=new u.F(se),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=(de,Pe)=>{if(this.externalWorkerSourceTypes[de])throw new Error(`Worker source with name "${de}" already registered.`);this.externalWorkerSourceTypes[de]=Pe},this.self.addProtocol=u.bi,this.self.removeProtocol=u.bj,this.self.registerRTLTextPlugin=de=>{if(u.bD.isParsed())throw new Error("RTL text plugin already registered.");u.bD.setMethods(de)},this.actor.registerMessageHandler("LDT",(de,Pe)=>this._getDEMWorkerSource(de,Pe.source).loadTile(Pe)),this.actor.registerMessageHandler("RDT",(de,Pe)=>u._(this,void 0,void 0,function*(){this._getDEMWorkerSource(de,Pe.source).removeTile(Pe)})),this.actor.registerMessageHandler("GCEZ",(de,Pe)=>u._(this,void 0,void 0,function*(){return this._getWorkerSource(de,Pe.type,Pe.source).getClusterExpansionZoom(Pe)})),this.actor.registerMessageHandler("GCC",(de,Pe)=>u._(this,void 0,void 0,function*(){return this._getWorkerSource(de,Pe.type,Pe.source).getClusterChildren(Pe)})),this.actor.registerMessageHandler("GCL",(de,Pe)=>u._(this,void 0,void 0,function*(){return this._getWorkerSource(de,Pe.type,Pe.source).getClusterLeaves(Pe)})),this.actor.registerMessageHandler("LD",(de,Pe)=>this._getWorkerSource(de,Pe.type,Pe.source).loadData(Pe)),this.actor.registerMessageHandler("GD",(de,Pe)=>this._getWorkerSource(de,Pe.type,Pe.source).getData()),this.actor.registerMessageHandler("LT",(de,Pe)=>this._getWorkerSource(de,Pe.type,Pe.source).loadTile(Pe)),this.actor.registerMessageHandler("RT",(de,Pe)=>this._getWorkerSource(de,Pe.type,Pe.source).reloadTile(Pe)),this.actor.registerMessageHandler("AT",(de,Pe)=>this._getWorkerSource(de,Pe.type,Pe.source).abortTile(Pe)),this.actor.registerMessageHandler("RMT",(de,Pe)=>this._getWorkerSource(de,Pe.type,Pe.source).removeTile(Pe)),this.actor.registerMessageHandler("RS",(de,Pe)=>u._(this,void 0,void 0,function*(){if(!this.workerSources[de]||!this.workerSources[de][Pe.type]||!this.workerSources[de][Pe.type][Pe.source])return;const ze=this.workerSources[de][Pe.type][Pe.source];delete this.workerSources[de][Pe.type][Pe.source],ze.removeSource!==void 0&&ze.removeSource(Pe)})),this.actor.registerMessageHandler("RM",de=>u._(this,void 0,void 0,function*(){delete this.layerIndexes[de],delete this.availableImages[de],delete this.workerSources[de],delete this.demWorkerSources[de]})),this.actor.registerMessageHandler("SR",(de,Pe)=>u._(this,void 0,void 0,function*(){this.referrer=Pe})),this.actor.registerMessageHandler("SRPS",(de,Pe)=>this._syncRTLPluginState(de,Pe)),this.actor.registerMessageHandler("IS",(de,Pe)=>u._(this,void 0,void 0,function*(){this.self.importScripts(Pe)})),this.actor.registerMessageHandler("SI",(de,Pe)=>this._setImages(de,Pe)),this.actor.registerMessageHandler("UL",(de,Pe)=>u._(this,void 0,void 0,function*(){this._getLayerIndex(de).update(Pe.layers,Pe.removedIds)})),this.actor.registerMessageHandler("SL",(de,Pe)=>u._(this,void 0,void 0,function*(){this._getLayerIndex(de).replace(Pe)}))}_setImages(se,de){return u._(this,void 0,void 0,function*(){this.availableImages[se]=de;for(const Pe in this.workerSources[se]){const ze=this.workerSources[se][Pe];for(const it in ze)ze[it].availableImages=de}})}_syncRTLPluginState(se,de){return u._(this,void 0,void 0,function*(){if(u.bD.isParsed())return u.bD.getState();if(de.pluginStatus!=="loading")return u.bD.setState(de),de;const Pe=de.pluginURL;if(this.self.importScripts(Pe),u.bD.isParsed()){const ze={pluginStatus:"loaded",pluginURL:Pe};return u.bD.setState(ze),ze}throw u.bD.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${Pe}`)})}_getAvailableImages(se){let de=this.availableImages[se];return de||(de=[]),de}_getLayerIndex(se){let de=this.layerIndexes[se];return de||(de=this.layerIndexes[se]=new s),de}_getWorkerSource(se,de,Pe){if(this.workerSources[se]||(this.workerSources[se]={}),this.workerSources[se][de]||(this.workerSources[se][de]={}),!this.workerSources[se][de][Pe]){const ze={sendAsync:(it,ct)=>(it.targetMapId=se,this.actor.sendAsync(it,ct))};switch(de){case"vector":this.workerSources[se][de][Pe]=new w(ze,this._getLayerIndex(se),this._getAvailableImages(se));break;case"geojson":this.workerSources[se][de][Pe]=new hi(ze,this._getLayerIndex(se),this._getAvailableImages(se));break;default:this.workerSources[se][de][Pe]=new this.externalWorkerSourceTypes[de](ze,this._getLayerIndex(se),this._getAvailableImages(se))}}return this.workerSources[se][de][Pe]}_getDEMWorkerSource(se,de){return this.demWorkerSources[se]||(this.demWorkerSources[se]={}),this.demWorkerSources[se][de]||(this.demWorkerSources[se][de]=new S),this.demWorkerSources[se][de]}}return u.i(self)&&(self.worker=new Vn(self)),Vn}),i("index",["exports","./shared"],function(u,s){var f="4.7.1";let m,x;const w={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frameAsync:y=>new Promise((o,d)=>{const p=requestAnimationFrame(o);y.signal.addEventListener("abort",()=>{cancelAnimationFrame(p),d(s.c())})}),getImageData(y,o=0){return this.getImageCanvasContext(y).getImageData(-o,-o,y.width+2*o,y.height+2*o)},getImageCanvasContext(y){const o=window.document.createElement("canvas"),d=o.getContext("2d",{willReadFrequently:!0});if(!d)throw new Error("failed to create canvas 2d context");return o.width=y.width,o.height=y.height,d.drawImage(y,0,0,y.width,y.height),d},resolveURL:y=>(m||(m=document.createElement("a")),m.href=y,m.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(x==null&&(x=matchMedia("(prefers-reduced-motion: reduce)")),x.matches)}};class S{static testProp(o){if(!S.docStyle)return o[0];for(let d=0;d<o.length;d++)if(o[d]in S.docStyle)return o[d];return o[0]}static create(o,d,p){const v=window.document.createElement(o);return d!==void 0&&(v.className=d),p&&p.appendChild(v),v}static createNS(o,d){return window.document.createElementNS(o,d)}static disableDrag(){S.docStyle&&S.selectProp&&(S.userSelect=S.docStyle[S.selectProp],S.docStyle[S.selectProp]="none")}static enableDrag(){S.docStyle&&S.selectProp&&(S.docStyle[S.selectProp]=S.userSelect)}static setTransform(o,d){o.style[S.transformProp]=d}static addEventListener(o,d,p,v={}){o.addEventListener(d,p,"passive"in v?v:v.capture)}static removeEventListener(o,d,p,v={}){o.removeEventListener(d,p,"passive"in v?v:v.capture)}static suppressClickInternal(o){o.preventDefault(),o.stopPropagation(),window.removeEventListener("click",S.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",S.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",S.suppressClickInternal,!0)},0)}static getScale(o){const d=o.getBoundingClientRect();return{x:d.width/o.offsetWidth||1,y:d.height/o.offsetHeight||1,boundingClientRect:d}}static getPoint(o,d,p){const v=d.boundingClientRect;return new s.P((p.clientX-v.left)/d.x-o.clientLeft,(p.clientY-v.top)/d.y-o.clientTop)}static mousePos(o,d){const p=S.getScale(o);return S.getPoint(o,p,d)}static touchPos(o,d){const p=[],v=S.getScale(o);for(let b=0;b<d.length;b++)p.push(S.getPoint(o,v,d[b]));return p}static mouseButton(o){return o.button}static remove(o){o.parentNode&&o.parentNode.removeChild(o)}}S.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,S.selectProp=S.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),S.transformProp=S.testProp(["transform","WebkitTransform"]);const C={supported:!1,testSupport:function(y){!$&&k&&(M?z(y):L=y)}};let L,k,$=!1,M=!1;function z(y){const o=y.createTexture();y.bindTexture(y.TEXTURE_2D,o);try{if(y.texImage2D(y.TEXTURE_2D,0,y.RGBA,y.RGBA,y.UNSIGNED_BYTE,k),y.isContextLost())return;C.supported=!0}catch{}y.deleteTexture(o),$=!0}var B;typeof document<"u"&&(k=document.createElement("img"),k.onload=()=>{L&&z(L),L=null,M=!0},k.onerror=()=>{$=!0,L=null},k.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(y){let o,d,p,v;y.resetRequestQueue=()=>{o=[],d=0,p=0,v={}},y.addThrottleControl=N=>{const U=p++;return v[U]=N,U},y.removeThrottleControl=N=>{delete v[N],P()},y.getImage=(N,U,G=!0)=>new Promise((W,oe)=>{C.supported&&(N.headers||(N.headers={}),N.headers.accept="image/webp,*/*"),s.e(N,{type:"image"}),o.push({abortController:U,requestParameters:N,supportImageRefresh:G,state:"queued",onError:le=>{oe(le)},onSuccess:le=>{W(le)}}),P()});const b=N=>s._(this,void 0,void 0,function*(){N.state="running";const{requestParameters:U,supportImageRefresh:G,onError:W,onSuccess:oe,abortController:le}=N,ie=G===!1&&!s.i(self)&&!s.g(U.url)&&(!U.headers||Object.keys(U.headers).reduce((Ie,De)=>Ie&&De==="accept",!0));d++;const he=ie?I(U,le):s.m(U,le);try{const Ie=yield he;delete N.abortController,N.state="completed",Ie.data instanceof HTMLImageElement||s.b(Ie.data)?oe(Ie):Ie.data&&oe({data:yield(Te=Ie.data,typeof createImageBitmap=="function"?s.d(Te):s.f(Te)),cacheControl:Ie.cacheControl,expires:Ie.expires})}catch(Ie){delete N.abortController,W(Ie)}finally{d--,P()}var Te}),P=()=>{const N=(()=>{for(const U of Object.keys(v))if(v[U]())return!0;return!1})()?s.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:s.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let U=d;U<N&&o.length>0;U++){const G=o.shift();G.abortController.signal.aborted?U--:b(G)}},I=(N,U)=>new Promise((G,W)=>{const oe=new Image,le=N.url,ie=N.credentials;ie&&ie==="include"?oe.crossOrigin="use-credentials":(ie&&ie==="same-origin"||!s.s(le))&&(oe.crossOrigin="anonymous"),U.signal.addEventListener("abort",()=>{oe.src="",W(s.c())}),oe.fetchPriority="high",oe.onload=()=>{oe.onerror=oe.onload=null,G({data:oe})},oe.onerror=()=>{oe.onerror=oe.onload=null,U.signal.aborted||W(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},oe.src=le})}(B||(B={})),B.resetRequestQueue();class q{constructor(o){this._transformRequestFn=o}transformRequest(o,d){return this._transformRequestFn&&this._transformRequestFn(o,d)||{url:o}}setTransformRequest(o){this._transformRequestFn=o}}function te(y){var o=new s.A(3);return o[0]=y[0],o[1]=y[1],o[2]=y[2],o}var K,ee=function(y,o,d){return y[0]=o[0]-d[0],y[1]=o[1]-d[1],y[2]=o[2]-d[2],y};K=new s.A(3),s.A!=Float32Array&&(K[0]=0,K[1]=0,K[2]=0);var Q=function(y){var o=y[0],d=y[1];return o*o+d*d};function ge(y){const o=[];if(typeof y=="string")o.push({id:"default",url:y});else if(y&&y.length>0){const d=[];for(const{id:p,url:v}of y){const b=`${p}${v}`;d.indexOf(b)===-1&&(d.push(b),o.push({id:p,url:v}))}}return o}function Y(y,o,d){const p=y.split("?");return p[0]+=`${o}${d}`,p.join("?")}(function(){var y=new s.A(2);s.A!=Float32Array&&(y[0]=0,y[1]=0)})();class Z{constructor(o,d,p,v){this.context=o,this.format=p,this.texture=o.gl.createTexture(),this.update(d,v)}update(o,d,p){const{width:v,height:b}=o,P=!(this.size&&this.size[0]===v&&this.size[1]===b||p),{context:I}=this,{gl:N}=I;if(this.useMipmap=!!(d&&d.useMipmap),N.bindTexture(N.TEXTURE_2D,this.texture),I.pixelStoreUnpackFlipY.set(!1),I.pixelStoreUnpack.set(1),I.pixelStoreUnpackPremultiplyAlpha.set(this.format===N.RGBA&&(!d||d.premultiply!==!1)),P)this.size=[v,b],o instanceof HTMLImageElement||o instanceof HTMLCanvasElement||o instanceof HTMLVideoElement||o instanceof ImageData||s.b(o)?N.texImage2D(N.TEXTURE_2D,0,this.format,this.format,N.UNSIGNED_BYTE,o):N.texImage2D(N.TEXTURE_2D,0,this.format,v,b,0,this.format,N.UNSIGNED_BYTE,o.data);else{const{x:U,y:G}=p||{x:0,y:0};o instanceof HTMLImageElement||o instanceof HTMLCanvasElement||o instanceof HTMLVideoElement||o instanceof ImageData||s.b(o)?N.texSubImage2D(N.TEXTURE_2D,0,U,G,N.RGBA,N.UNSIGNED_BYTE,o):N.texSubImage2D(N.TEXTURE_2D,0,U,G,v,b,N.RGBA,N.UNSIGNED_BYTE,o.data)}this.useMipmap&&this.isSizePowerOfTwo()&&N.generateMipmap(N.TEXTURE_2D)}bind(o,d,p){const{context:v}=this,{gl:b}=v;b.bindTexture(b.TEXTURE_2D,this.texture),p!==b.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(p=b.LINEAR),o!==this.filter&&(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,o),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,p||o),this.filter=o),d!==this.wrap&&(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,d),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,d),this.wrap=d)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:o}=this.context;o.deleteTexture(this.texture),this.texture=null}}function re(y){const{userImage:o}=y;return!!(o&&o.render&&o.render())&&(y.data.replace(new Uint8Array(o.data.buffer)),!0)}class ye extends s.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new s.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(o){if(this.loaded!==o&&(this.loaded=o,o)){for(const{ids:d,promiseResolve:p}of this.requestors)p(this._getImagesForIds(d));this.requestors=[]}}getImage(o){const d=this.images[o];if(d&&!d.data&&d.spriteData){const p=d.spriteData;d.data=new s.R({width:p.width,height:p.height},p.context.getImageData(p.x,p.y,p.width,p.height).data),d.spriteData=null}return d}addImage(o,d){if(this.images[o])throw new Error(`Image id ${o} already exist, use updateImage instead`);this._validate(o,d)&&(this.images[o]=d)}_validate(o,d){let p=!0;const v=d.data||d.spriteData;return this._validateStretch(d.stretchX,v&&v.width)||(this.fire(new s.j(new Error(`Image "${o}" has invalid "stretchX" value`))),p=!1),this._validateStretch(d.stretchY,v&&v.height)||(this.fire(new s.j(new Error(`Image "${o}" has invalid "stretchY" value`))),p=!1),this._validateContent(d.content,d)||(this.fire(new s.j(new Error(`Image "${o}" has invalid "content" value`))),p=!1),p}_validateStretch(o,d){if(!o)return!0;let p=0;for(const v of o){if(v[0]<p||v[1]<v[0]||d<v[1])return!1;p=v[1]}return!0}_validateContent(o,d){if(!o)return!0;if(o.length!==4)return!1;const p=d.spriteData,v=p&&p.width||d.data.width,b=p&&p.height||d.data.height;return!(o[0]<0||v<o[0]||o[1]<0||b<o[1]||o[2]<0||v<o[2]||o[3]<0||b<o[3]||o[2]<o[0]||o[3]<o[1])}updateImage(o,d,p=!0){const v=this.getImage(o);if(p&&(v.data.width!==d.data.width||v.data.height!==d.data.height))throw new Error(`size mismatch between old image (${v.data.width}x${v.data.height}) and new image (${d.data.width}x${d.data.height}).`);d.version=v.version+1,this.images[o]=d,this.updatedImages[o]=!0}removeImage(o){const d=this.images[o];delete this.images[o],delete this.patterns[o],d.userImage&&d.userImage.onRemove&&d.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(o){return new Promise((d,p)=>{let v=!0;if(!this.isLoaded())for(const b of o)this.images[b]||(v=!1);this.isLoaded()||v?d(this._getImagesForIds(o)):this.requestors.push({ids:o,promiseResolve:d})})}_getImagesForIds(o){const d={};for(const p of o){let v=this.getImage(p);v||(this.fire(new s.k("styleimagemissing",{id:p})),v=this.getImage(p)),v?d[p]={data:v.data.clone(),pixelRatio:v.pixelRatio,sdf:v.sdf,version:v.version,stretchX:v.stretchX,stretchY:v.stretchY,content:v.content,textFitWidth:v.textFitWidth,textFitHeight:v.textFitHeight,hasRenderCallback:!!(v.userImage&&v.userImage.render)}:s.w(`Image "${p}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return d}getPixelSize(){const{width:o,height:d}=this.atlasImage;return{width:o,height:d}}getPattern(o){const d=this.patterns[o],p=this.getImage(o);if(!p)return null;if(d&&d.position.version===p.version)return d.position;if(d)d.position.version=p.version;else{const v={w:p.data.width+2,h:p.data.height+2,x:0,y:0},b=new s.I(v,p);this.patterns[o]={bin:v,position:b}}return this._updatePatternAtlas(),this.patterns[o].position}bind(o){const d=o.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new Z(o,this.atlasImage,d.RGBA),this.atlasTexture.bind(d.LINEAR,d.CLAMP_TO_EDGE)}_updatePatternAtlas(){const o=[];for(const b in this.patterns)o.push(this.patterns[b].bin);const{w:d,h:p}=s.p(o),v=this.atlasImage;v.resize({width:d||1,height:p||1});for(const b in this.patterns){const{bin:P}=this.patterns[b],I=P.x+1,N=P.y+1,U=this.getImage(b).data,G=U.width,W=U.height;s.R.copy(U,v,{x:0,y:0},{x:I,y:N},{width:G,height:W}),s.R.copy(U,v,{x:0,y:W-1},{x:I,y:N-1},{width:G,height:1}),s.R.copy(U,v,{x:0,y:0},{x:I,y:N+W},{width:G,height:1}),s.R.copy(U,v,{x:G-1,y:0},{x:I-1,y:N},{width:1,height:W}),s.R.copy(U,v,{x:0,y:0},{x:I+G,y:N},{width:1,height:W})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(o){for(const d of o){if(this.callbackDispatchedThisFrame[d])continue;this.callbackDispatchedThisFrame[d]=!0;const p=this.getImage(d);p||s.w(`Image with ID: "${d}" was not found`),re(p)&&this.updateImage(d,p)}}}const fe=1e20;function Ae(y,o,d,p,v,b,P,I,N){for(let U=o;U<o+p;U++)ke(y,d*b+U,b,v,P,I,N);for(let U=d;U<d+v;U++)ke(y,U*b+o,1,p,P,I,N)}function ke(y,o,d,p,v,b,P){b[0]=0,P[0]=-fe,P[1]=fe,v[0]=y[o];for(let I=1,N=0,U=0;I<p;I++){v[I]=y[o+I*d];const G=I*I;do{const W=b[N];U=(v[I]-v[W]+G-W*W)/(I-W)/2}while(U<=P[N]&&--N>-1);N++,b[N]=I,P[N]=U,P[N+1]=fe}for(let I=0,N=0;I<p;I++){for(;P[N+1]<I;)N++;const U=b[N],G=I-U;y[o+I*d]=v[U]+G*G}}class Oe{constructor(o,d){this.requestManager=o,this.localIdeographFontFamily=d,this.entries={}}setURL(o){this.url=o}getGlyphs(o){return s._(this,void 0,void 0,function*(){const d=[];for(const b in o)for(const P of o[b])d.push(this._getAndCacheGlyphsPromise(b,P));const p=yield Promise.all(d),v={};for(const{stack:b,id:P,glyph:I}of p)v[b]||(v[b]={}),v[b][P]=I&&{id:I.id,bitmap:I.bitmap.clone(),metrics:I.metrics};return v})}_getAndCacheGlyphsPromise(o,d){return s._(this,void 0,void 0,function*(){let p=this.entries[o];p||(p=this.entries[o]={glyphs:{},requests:{},ranges:{}});let v=p.glyphs[d];if(v!==void 0)return{stack:o,id:d,glyph:v};if(v=this._tinySDF(p,o,d),v)return p.glyphs[d]=v,{stack:o,id:d,glyph:v};const b=Math.floor(d/256);if(256*b>65535)throw new Error("glyphs > 65535 not supported");if(p.ranges[b])return{stack:o,id:d,glyph:v};if(!this.url)throw new Error("glyphsUrl is not set");if(!p.requests[b]){const I=Oe.loadGlyphRange(o,b,this.url,this.requestManager);p.requests[b]=I}const P=yield p.requests[b];for(const I in P)this._doesCharSupportLocalGlyph(+I)||(p.glyphs[+I]=P[+I]);return p.ranges[b]=!0,{stack:o,id:d,glyph:P[d]||null}})}_doesCharSupportLocalGlyph(o){return!!this.localIdeographFontFamily&&new RegExp("\\p{Ideo}|\\p{sc=Hang}|\\p{sc=Hira}|\\p{sc=Kana}","u").test(String.fromCodePoint(o))}_tinySDF(o,d,p){const v=this.localIdeographFontFamily;if(!v||!this._doesCharSupportLocalGlyph(p))return;let b=o.tinySDF;if(!b){let I="400";/bold/i.test(d)?I="900":/medium/i.test(d)?I="500":/light/i.test(d)&&(I="200"),b=o.tinySDF=new Oe.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:v,fontWeight:I})}const P=b.draw(String.fromCharCode(p));return{id:p,bitmap:new s.o({width:P.width||60,height:P.height||60},P.data),metrics:{width:P.glyphWidth/2||24,height:P.glyphHeight/2||24,left:P.glyphLeft/2+.5||0,top:P.glyphTop/2-27.5||-8,advance:P.glyphAdvance/2||24,isDoubleResolution:!0}}}}Oe.loadGlyphRange=function(y,o,d,p){return s._(this,void 0,void 0,function*(){const v=256*o,b=v+255,P=p.transformRequest(d.replace("{fontstack}",y).replace("{range}",`${v}-${b}`),"Glyphs"),I=yield s.l(P,new AbortController);if(!I||!I.data)throw new Error(`Could not load glyph range. range: ${o}, ${v}-${b}`);const N={};for(const U of s.n(I.data))N[U.id]=U;return N})},Oe.TinySDF=class{constructor({fontSize:y=24,buffer:o=3,radius:d=8,cutoff:p=.25,fontFamily:v="sans-serif",fontWeight:b="normal",fontStyle:P="normal"}={}){this.buffer=o,this.cutoff=p,this.radius=d;const I=this.size=y+4*o,N=this._createCanvas(I),U=this.ctx=N.getContext("2d",{willReadFrequently:!0});U.font=`${P} ${b} ${y}px ${v}`,U.textBaseline="alphabetic",U.textAlign="left",U.fillStyle="black",this.gridOuter=new Float64Array(I*I),this.gridInner=new Float64Array(I*I),this.f=new Float64Array(I),this.z=new Float64Array(I+1),this.v=new Uint16Array(I)}_createCanvas(y){const o=document.createElement("canvas");return o.width=o.height=y,o}draw(y){const{width:o,actualBoundingBoxAscent:d,actualBoundingBoxDescent:p,actualBoundingBoxLeft:v,actualBoundingBoxRight:b}=this.ctx.measureText(y),P=Math.ceil(d),I=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(b-v))),N=Math.min(this.size-this.buffer,P+Math.ceil(p)),U=I+2*this.buffer,G=N+2*this.buffer,W=Math.max(U*G,0),oe=new Uint8ClampedArray(W),le={data:oe,width:U,height:G,glyphWidth:I,glyphHeight:N,glyphTop:P,glyphLeft:0,glyphAdvance:o};if(I===0||N===0)return le;const{ctx:ie,buffer:he,gridInner:Te,gridOuter:Ie}=this;ie.clearRect(he,he,I,N),ie.fillText(y,he,he+P);const De=ie.getImageData(he,he,I,N);Ie.fill(fe,0,W),Te.fill(0,0,W);for(let Le=0;Le<N;Le++)for(let Ue=0;Ue<I;Ue++){const tt=De.data[4*(Le*I+Ue)+3]/255;if(tt===0)continue;const Je=(Le+he)*U+Ue+he;if(tt===1)Ie[Je]=0,Te[Je]=fe;else{const Pt=.5-tt;Ie[Je]=Pt>0?Pt*Pt:0,Te[Je]=Pt<0?Pt*Pt:0}}Ae(Ie,0,0,U,G,U,this.f,this.v,this.z),Ae(Te,he,he,I,N,U,this.f,this.v,this.z);for(let Le=0;Le<W;Le++){const Ue=Math.sqrt(Ie[Le])-Math.sqrt(Te[Le]);oe[Le]=Math.round(255-255*(Ue/this.radius+this.cutoff))}return le}};class _e{constructor(){this.specification=s.v.light.position}possiblyEvaluate(o,d){return s.x(o.expression.evaluate(d))}interpolate(o,d,p){return{x:s.y.number(o.x,d.x,p),y:s.y.number(o.y,d.y,p),z:s.y.number(o.z,d.z,p)}}}let Ne;class Ke extends s.E{constructor(o){super(),Ne=Ne||new s.q({anchor:new s.D(s.v.light.anchor),position:new _e,color:new s.D(s.v.light.color),intensity:new s.D(s.v.light.intensity)}),this._transitionable=new s.T(Ne),this.setLight(o),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(o,d={}){if(!this._validate(s.r,o,d))for(const p in o){const v=o[p];p.endsWith("-transition")?this._transitionable.setTransition(p.slice(0,-11),v):this._transitionable.setValue(p,v)}}updateTransitions(o){this._transitioning=this._transitionable.transitioned(o,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(o){this.properties=this._transitioning.possiblyEvaluate(o)}_validate(o,d,p){return(!p||p.validate!==!1)&&s.t(this,o.call(s.u,{value:d,style:{glyphs:!0,sprite:!0},styleSpec:s.v}))}}const pt=new s.q({"sky-color":new s.D(s.v.sky["sky-color"]),"horizon-color":new s.D(s.v.sky["horizon-color"]),"fog-color":new s.D(s.v.sky["fog-color"]),"fog-ground-blend":new s.D(s.v.sky["fog-ground-blend"]),"horizon-fog-blend":new s.D(s.v.sky["horizon-fog-blend"]),"sky-horizon-blend":new s.D(s.v.sky["sky-horizon-blend"]),"atmosphere-blend":new s.D(s.v.sky["atmosphere-blend"])});class ae extends s.E{constructor(o){super(),this._transitionable=new s.T(pt),this.setSky(o),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new s.z(0))}setSky(o,d={}){if(!this._validate(s.B,o,d)){o||(o={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(const p in o){const v=o[p];p.endsWith("-transition")?this._transitionable.setTransition(p.slice(0,-11),v):this._transitionable.setValue(p,v)}}}getSky(){return this._transitionable.serialize()}updateTransitions(o){this._transitioning=this._transitionable.transitioned(o,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(o){this.properties=this._transitioning.possiblyEvaluate(o)}_validate(o,d,p={}){return(p==null?void 0:p.validate)!==!1&&s.t(this,o.call(s.u,s.e({value:d,style:{glyphs:!0,sprite:!0},styleSpec:s.v})))}calculateFogBlendOpacity(o){return o<60?0:o<70?(o-60)/10:1}}class me{constructor(o,d){this.width=o,this.height=d,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(o,d){const p=o.join(",")+String(d);return this.dashEntry[p]||(this.dashEntry[p]=this.addDash(o,d)),this.dashEntry[p]}getDashRanges(o,d,p){const v=[];let b=o.length%2==1?-o[o.length-1]*p:0,P=o[0]*p,I=!0;v.push({left:b,right:P,isDash:I,zeroLength:o[0]===0});let N=o[0];for(let U=1;U<o.length;U++){I=!I;const G=o[U];b=N*p,N+=G,P=N*p,v.push({left:b,right:P,isDash:I,zeroLength:G===0})}return v}addRoundDash(o,d,p){const v=d/2;for(let b=-p;b<=p;b++){const P=this.width*(this.nextRow+p+b);let I=0,N=o[I];for(let U=0;U<this.width;U++){U/N.right>1&&(N=o[++I]);const G=Math.abs(U-N.left),W=Math.abs(U-N.right),oe=Math.min(G,W);let le;const ie=b/p*(v+1);if(N.isDash){const he=v-Math.abs(ie);le=Math.sqrt(oe*oe+he*he)}else le=v-Math.sqrt(oe*oe+ie*ie);this.data[P+U]=Math.max(0,Math.min(255,le+128))}}}addRegularDash(o){for(let I=o.length-1;I>=0;--I){const N=o[I],U=o[I+1];N.zeroLength?o.splice(I,1):U&&U.isDash===N.isDash&&(U.left=N.left,o.splice(I,1))}const d=o[0],p=o[o.length-1];d.isDash===p.isDash&&(d.left=p.left-this.width,p.right=d.right+this.width);const v=this.width*this.nextRow;let b=0,P=o[b];for(let I=0;I<this.width;I++){I/P.right>1&&(P=o[++b]);const N=Math.abs(I-P.left),U=Math.abs(I-P.right),G=Math.min(N,U);this.data[v+I]=Math.max(0,Math.min(255,(P.isDash?G:-G)+128))}}addDash(o,d){const p=d?7:0,v=2*p+1;if(this.nextRow+v>this.height)return s.w("LineAtlas out of space"),null;let b=0;for(let I=0;I<o.length;I++)b+=o[I];if(b!==0){const I=this.width/b,N=this.getDashRanges(o,this.width,I);d?this.addRoundDash(N,I,p):this.addRegularDash(N)}const P={y:(this.nextRow+p+.5)/this.height,height:2*p/this.height,width:b};return this.nextRow+=v,this.dirty=!0,P}bind(o){const d=o.gl;this.texture?(d.bindTexture(d.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,d.texSubImage2D(d.TEXTURE_2D,0,0,0,this.width,this.height,d.ALPHA,d.UNSIGNED_BYTE,this.data))):(this.texture=d.createTexture(),d.bindTexture(d.TEXTURE_2D,this.texture),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),d.texImage2D(d.TEXTURE_2D,0,d.ALPHA,this.width,this.height,0,d.ALPHA,d.UNSIGNED_BYTE,this.data))}}const we="maplibre_preloaded_worker_pool";class Re{constructor(){this.active={}}acquire(o){if(!this.workers)for(this.workers=[];this.workers.length<Re.workerCount;)this.workers.push(new Worker(s.a.WORKER_URL));return this.active[o]=!0,this.workers.slice()}release(o){delete this.active[o],this.numActive()===0&&(this.workers.forEach(d=>{d.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[we]}numActive(){return Object.keys(this.active).length}}const Fe=Math.floor(w.hardwareConcurrency/2);let rt,Ve;function We(){return rt||(rt=new Re),rt}Re.workerCount=s.C(globalThis)?Math.max(Math.min(Fe,3),1):1;class nt{constructor(o,d){this.workerPool=o,this.actors=[],this.currentActor=0,this.id=d;const p=this.workerPool.acquire(d);for(let v=0;v<p.length;v++){const b=new s.F(p[v],d);b.name=`Worker ${v}`,this.actors.push(b)}if(!this.actors.length)throw new Error("No actors found")}broadcast(o,d){const p=[];for(const v of this.actors)p.push(v.sendAsync({type:o,data:d}));return Promise.all(p)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(o=!0){this.actors.forEach(d=>{d.remove()}),this.actors=[],o&&this.workerPool.release(this.id)}registerMessageHandler(o,d){for(const p of this.actors)p.registerMessageHandler(o,d)}}function ut(){return Ve||(Ve=new nt(We(),s.G),Ve.registerMessageHandler("GR",(y,o,d)=>s.m(o,d))),Ve}function bt(y,o){const d=s.H();return s.J(d,d,[1,1,0]),s.K(d,d,[.5*y.width,.5*y.height,1]),s.L(d,d,y.calculatePosMatrix(o.toUnwrapped()))}function Ct(y,o,d,p,v,b){const P=function(W,oe,le){if(W)for(const ie of W){const he=oe[ie];if(he&&he.source===le&&he.type==="fill-extrusion")return!0}else for(const ie in oe){const he=oe[ie];if(he.source===le&&he.type==="fill-extrusion")return!0}return!1}(v&&v.layers,o,y.id),I=b.maxPitchScaleFactor(),N=y.tilesIn(p,I,P);N.sort(Et);const U=[];for(const W of N)U.push({wrappedTileID:W.tileID.wrapped().key,queryResults:W.tile.queryRenderedFeatures(o,d,y._state,W.queryGeometry,W.cameraQueryGeometry,W.scale,v,b,I,bt(y.transform,W.tileID))});const G=function(W){const oe={},le={};for(const ie of W){const he=ie.queryResults,Te=ie.wrappedTileID,Ie=le[Te]=le[Te]||{};for(const De in he){const Le=he[De],Ue=Ie[De]=Ie[De]||{},tt=oe[De]=oe[De]||[];for(const Je of Le)Ue[Je.featureIndex]||(Ue[Je.featureIndex]=!0,tt.push(Je))}}return oe}(U);for(const W in G)G[W].forEach(oe=>{const le=oe.feature,ie=y.getFeatureState(le.layer["source-layer"],le.id);le.source=le.layer.source,le.layer["source-layer"]&&(le.sourceLayer=le.layer["source-layer"]),le.state=ie});return G}function Et(y,o){const d=y.tileID,p=o.tileID;return d.overscaledZ-p.overscaledZ||d.canonical.y-p.canonical.y||d.wrap-p.wrap||d.canonical.x-p.canonical.x}function lt(y,o,d){return s._(this,void 0,void 0,function*(){let p=y;if(y.url?p=(yield s.h(o.transformRequest(y.url,"Source"),d)).data:yield w.frameAsync(d),!p)return null;const v=s.M(s.e(p,y),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in p&&p.vector_layers&&(v.vectorLayerIds=p.vector_layers.map(b=>b.id)),v})}class ce{constructor(o,d){o&&(d?this.setSouthWest(o).setNorthEast(d):Array.isArray(o)&&(o.length===4?this.setSouthWest([o[0],o[1]]).setNorthEast([o[2],o[3]]):this.setSouthWest(o[0]).setNorthEast(o[1])))}setNorthEast(o){return this._ne=o instanceof s.N?new s.N(o.lng,o.lat):s.N.convert(o),this}setSouthWest(o){return this._sw=o instanceof s.N?new s.N(o.lng,o.lat):s.N.convert(o),this}extend(o){const d=this._sw,p=this._ne;let v,b;if(o instanceof s.N)v=o,b=o;else{if(!(o instanceof ce))return Array.isArray(o)?o.length===4||o.every(Array.isArray)?this.extend(ce.convert(o)):this.extend(s.N.convert(o)):o&&("lng"in o||"lon"in o)&&"lat"in o?this.extend(s.N.convert(o)):this;if(v=o._sw,b=o._ne,!v||!b)return this}return d||p?(d.lng=Math.min(v.lng,d.lng),d.lat=Math.min(v.lat,d.lat),p.lng=Math.max(b.lng,p.lng),p.lat=Math.max(b.lat,p.lat)):(this._sw=new s.N(v.lng,v.lat),this._ne=new s.N(b.lng,b.lat)),this}getCenter(){return new s.N((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new s.N(this.getWest(),this.getNorth())}getSouthEast(){return new s.N(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(o){const{lng:d,lat:p}=s.N.convert(o);let v=this._sw.lng<=d&&d<=this._ne.lng;return this._sw.lng>this._ne.lng&&(v=this._sw.lng>=d&&d>=this._ne.lng),this._sw.lat<=p&&p<=this._ne.lat&&v}static convert(o){return o instanceof ce?o:o&&new ce(o)}static fromLngLat(o,d=0){const p=360*d/40075017,v=p/Math.cos(Math.PI/180*o.lat);return new ce(new s.N(o.lng-v,o.lat-p),new s.N(o.lng+v,o.lat+p))}adjustAntiMeridian(){const o=new s.N(this._sw.lng,this._sw.lat),d=new s.N(this._ne.lng,this._ne.lat);return new ce(o,o.lng>d.lng?new s.N(d.lng+360,d.lat):d)}}class ur{constructor(o,d,p){this.bounds=ce.convert(this.validateBounds(o)),this.minzoom=d||0,this.maxzoom=p||24}validateBounds(o){return Array.isArray(o)&&o.length===4?[Math.max(-180,o[0]),Math.max(-90,o[1]),Math.min(180,o[2]),Math.min(90,o[3])]:[-180,-90,180,90]}contains(o){const d=Math.pow(2,o.z),p=Math.floor(s.O(this.bounds.getWest())*d),v=Math.floor(s.Q(this.bounds.getNorth())*d),b=Math.ceil(s.O(this.bounds.getEast())*d),P=Math.ceil(s.Q(this.bounds.getSouth())*d);return o.x>=p&&o.x<b&&o.y>=v&&o.y<P}}class qt extends s.E{constructor(o,d,p,v){if(super(),this.id=o,this.dispatcher=p,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,s.e(this,s.M(d,["url","scheme","tileSize","promoteId"])),this._options=s.e({type:"vector"},d),this._collectResourceTiming=d.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(v)}load(){return s._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new s.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const o=yield lt(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),o&&(s.e(this,o),o.bounds&&(this.tileBounds=new ur(o.bounds,this.minzoom,this.maxzoom)),this.fire(new s.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.k("data",{dataType:"source",sourceDataType:"content"})))}catch(o){this._tileJSONRequest=null,this.fire(new s.j(o))}})}loaded(){return this._loaded}hasTile(o){return!this.tileBounds||this.tileBounds.contains(o.canonical)}onAdd(o){this.map=o,this.load()}setSourceProperty(o){this._tileJSONRequest&&this._tileJSONRequest.abort(),o(),this.load()}setTiles(o){return this.setSourceProperty(()=>{this._options.tiles=o}),this}setUrl(o){return this.setSourceProperty(()=>{this.url=o,this._options.url=o}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return s.e({},this._options)}loadTile(o){return s._(this,void 0,void 0,function*(){const d=o.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),p={request:this.map._requestManager.transformRequest(d,"Tile"),uid:o.uid,tileID:o.tileID,zoom:o.tileID.overscaledZ,tileSize:this.tileSize*o.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};p.request.collectResourceTiming=this._collectResourceTiming;let v="RT";if(o.actor&&o.state!=="expired"){if(o.state==="loading")return new Promise((b,P)=>{o.reloadPromise={resolve:b,reject:P}})}else o.actor=this.dispatcher.getActor(),v="LT";o.abortController=new AbortController;try{const b=yield o.actor.sendAsync({type:v,data:p},o.abortController);if(delete o.abortController,o.aborted)return;this._afterTileLoadWorkerResponse(o,b)}catch(b){if(delete o.abortController,o.aborted)return;if(b&&b.status!==404)throw b;this._afterTileLoadWorkerResponse(o,null)}})}_afterTileLoadWorkerResponse(o,d){if(d&&d.resourceTiming&&(o.resourceTiming=d.resourceTiming),d&&this.map._refreshExpiredTiles&&o.setExpiryData(d),o.loadVectorData(d,this.map.painter),o.reloadPromise){const p=o.reloadPromise;o.reloadPromise=null,this.loadTile(o).then(p.resolve).catch(p.reject)}}abortTile(o){return s._(this,void 0,void 0,function*(){o.abortController&&(o.abortController.abort(),delete o.abortController),o.actor&&(yield o.actor.sendAsync({type:"AT",data:{uid:o.uid,type:this.type,source:this.id}}))})}unloadTile(o){return s._(this,void 0,void 0,function*(){o.unloadVectorData(),o.actor&&(yield o.actor.sendAsync({type:"RMT",data:{uid:o.uid,type:this.type,source:this.id}}))})}hasTransition(){return!1}}class wt extends s.E{constructor(o,d,p,v){super(),this.id=o,this.dispatcher=p,this.setEventedParent(v),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=s.e({type:"raster"},d),s.e(this,s.M(d,["url","scheme","tileSize"]))}load(){return s._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new s.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const o=yield lt(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,o&&(s.e(this,o),o.bounds&&(this.tileBounds=new ur(o.bounds,this.minzoom,this.maxzoom)),this.fire(new s.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.k("data",{dataType:"source",sourceDataType:"content"})))}catch(o){this._tileJSONRequest=null,this.fire(new s.j(o))}})}loaded(){return this._loaded}onAdd(o){this.map=o,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(o){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),o(),this.load()}setTiles(o){return this.setSourceProperty(()=>{this._options.tiles=o}),this}setUrl(o){return this.setSourceProperty(()=>{this.url=o,this._options.url=o}),this}serialize(){return s.e({},this._options)}hasTile(o){return!this.tileBounds||this.tileBounds.contains(o.canonical)}loadTile(o){return s._(this,void 0,void 0,function*(){const d=o.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);o.abortController=new AbortController;try{const p=yield B.getImage(this.map._requestManager.transformRequest(d,"Tile"),o.abortController,this.map._refreshExpiredTiles);if(delete o.abortController,o.aborted)return void(o.state="unloaded");if(p&&p.data){this.map._refreshExpiredTiles&&p.cacheControl&&p.expires&&o.setExpiryData({cacheControl:p.cacheControl,expires:p.expires});const v=this.map.painter.context,b=v.gl,P=p.data;o.texture=this.map.painter.getTileTexture(P.width),o.texture?o.texture.update(P,{useMipmap:!0}):(o.texture=new Z(v,P,b.RGBA,{useMipmap:!0}),o.texture.bind(b.LINEAR,b.CLAMP_TO_EDGE,b.LINEAR_MIPMAP_NEAREST)),o.state="loaded"}}catch(p){if(delete o.abortController,o.aborted)o.state="unloaded";else if(p)throw o.state="errored",p}})}abortTile(o){return s._(this,void 0,void 0,function*(){o.abortController&&(o.abortController.abort(),delete o.abortController)})}unloadTile(o){return s._(this,void 0,void 0,function*(){o.texture&&this.map.painter.saveTileTexture(o.texture)})}hasTransition(){return!1}}class Mt extends wt{constructor(o,d,p,v){super(o,d,p,v),this.type="raster-dem",this.maxzoom=22,this._options=s.e({type:"raster-dem"},d),this.encoding=d.encoding||"mapbox",this.redFactor=d.redFactor,this.greenFactor=d.greenFactor,this.blueFactor=d.blueFactor,this.baseShift=d.baseShift}loadTile(o){return s._(this,void 0,void 0,function*(){const d=o.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),p=this.map._requestManager.transformRequest(d,"Tile");o.neighboringTiles=this._getNeighboringTiles(o.tileID),o.abortController=new AbortController;try{const v=yield B.getImage(p,o.abortController,this.map._refreshExpiredTiles);if(delete o.abortController,o.aborted)return void(o.state="unloaded");if(v&&v.data){const b=v.data;this.map._refreshExpiredTiles&&v.cacheControl&&v.expires&&o.setExpiryData({cacheControl:v.cacheControl,expires:v.expires});const P=s.b(b)&&s.U()?b:yield this.readImageNow(b),I={type:this.type,uid:o.uid,source:this.id,rawImageData:P,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!o.actor||o.state==="expired"){o.actor=this.dispatcher.getActor();const N=yield o.actor.sendAsync({type:"LDT",data:I});o.dem=N,o.needsHillshadePrepare=!0,o.needsTerrainPrepare=!0,o.state="loaded"}}}catch(v){if(delete o.abortController,o.aborted)o.state="unloaded";else if(v)throw o.state="errored",v}})}readImageNow(o){return s._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&s.V()){const d=o.width+2,p=o.height+2;try{return new s.R({width:d,height:p},yield s.W(o,-1,-1,d,p))}catch{}}return w.getImageData(o,1)})}_getNeighboringTiles(o){const d=o.canonical,p=Math.pow(2,d.z),v=(d.x-1+p)%p,b=d.x===0?o.wrap-1:o.wrap,P=(d.x+1+p)%p,I=d.x+1===p?o.wrap+1:o.wrap,N={};return N[new s.S(o.overscaledZ,b,d.z,v,d.y).key]={backfilled:!1},N[new s.S(o.overscaledZ,I,d.z,P,d.y).key]={backfilled:!1},d.y>0&&(N[new s.S(o.overscaledZ,b,d.z,v,d.y-1).key]={backfilled:!1},N[new s.S(o.overscaledZ,o.wrap,d.z,d.x,d.y-1).key]={backfilled:!1},N[new s.S(o.overscaledZ,I,d.z,P,d.y-1).key]={backfilled:!1}),d.y+1<p&&(N[new s.S(o.overscaledZ,b,d.z,v,d.y+1).key]={backfilled:!1},N[new s.S(o.overscaledZ,o.wrap,d.z,d.x,d.y+1).key]={backfilled:!1},N[new s.S(o.overscaledZ,I,d.z,P,d.y+1).key]={backfilled:!1}),N}unloadTile(o){return s._(this,void 0,void 0,function*(){o.demTexture&&this.map.painter.saveTileTexture(o.demTexture),o.fbo&&(o.fbo.destroy(),delete o.fbo),o.dem&&delete o.dem,delete o.neighboringTiles,o.state="unloaded",o.actor&&(yield o.actor.sendAsync({type:"RDT",data:{type:this.type,uid:o.uid,source:this.id}}))})}}class It extends s.E{constructor(o,d,p,v){super(),this.id=o,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=p.getActor(),this.setEventedParent(v),this._data=d.data,this._options=s.e({},d),this._collectResourceTiming=d.collectResourceTiming,d.maxzoom!==void 0&&(this.maxzoom=d.maxzoom),d.type&&(this.type=d.type),d.attribution&&(this.attribution=d.attribution),this.promoteId=d.promoteId;const b=s.X/this.tileSize;d.clusterMaxZoom!==void 0&&this.maxzoom<=d.clusterMaxZoom&&s.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${d.clusterMaxZoom}".`),this.workerOptions=s.e({source:this.id,cluster:d.cluster||!1,geojsonVtOptions:{buffer:(d.buffer!==void 0?d.buffer:128)*b,tolerance:(d.tolerance!==void 0?d.tolerance:.375)*b,extent:s.X,maxZoom:this.maxzoom,lineMetrics:d.lineMetrics||!1,generateId:d.generateId||!1},superclusterOptions:{maxZoom:d.clusterMaxZoom!==void 0?d.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,d.clusterMinPoints||2),extent:s.X,radius:(d.clusterRadius||50)*b,log:!1,generateId:d.generateId||!1},clusterProperties:d.clusterProperties,filter:d.filter},d.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}load(){return s._(this,void 0,void 0,function*(){yield this._updateWorkerData()})}onAdd(o){this.map=o,this.load()}setData(o){return this._data=o,this._updateWorkerData(),this}updateData(o){return this._updateWorkerData(o),this}getData(){return s._(this,void 0,void 0,function*(){const o=s.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:o})})}setClusterOptions(o){return this.workerOptions.cluster=o.cluster,o&&(o.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=o.clusterRadius),o.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=o.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(o){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:o,source:this.id}})}getClusterChildren(o){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:o,source:this.id}})}getClusterLeaves(o,d,p){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:o,limit:d,offset:p}})}_updateWorkerData(o){return s._(this,void 0,void 0,function*(){const d=s.e({type:this.type},this.workerOptions);o?d.dataDiff=o:typeof this._data=="string"?(d.request=this.map._requestManager.transformRequest(w.resolveURL(this._data),"Source"),d.request.collectResourceTiming=this._collectResourceTiming):d.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new s.k("dataloading",{dataType:"source"}));try{const p=yield this.actor.sendAsync({type:"LD",data:d});if(this._pendingLoads--,this._removed||p.abandoned)return void this.fire(new s.k("dataabort",{dataType:"source"}));let v=null;p.resourceTiming&&p.resourceTiming[this.id]&&(v=p.resourceTiming[this.id].slice(0));const b={dataType:"source"};this._collectResourceTiming&&v&&v.length>0&&s.e(b,{resourceTiming:v}),this.fire(new s.k("data",Object.assign(Object.assign({},b),{sourceDataType:"metadata"}))),this.fire(new s.k("data",Object.assign(Object.assign({},b),{sourceDataType:"content"})))}catch(p){if(this._pendingLoads--,this._removed)return void this.fire(new s.k("dataabort",{dataType:"source"}));this.fire(new s.j(p))}})}loaded(){return this._pendingLoads===0}loadTile(o){return s._(this,void 0,void 0,function*(){const d=o.actor?"RT":"LT";o.actor=this.actor;const p={type:this.type,uid:o.uid,tileID:o.tileID,zoom:o.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};o.abortController=new AbortController;const v=yield this.actor.sendAsync({type:d,data:p},o.abortController);delete o.abortController,o.unloadVectorData(),o.aborted||o.loadVectorData(v,this.map.painter,d==="RT")})}abortTile(o){return s._(this,void 0,void 0,function*(){o.abortController&&(o.abortController.abort(),delete o.abortController),o.aborted=!0})}unloadTile(o){return s._(this,void 0,void 0,function*(){o.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:o.uid,type:this.type,source:this.id}})})}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return s.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}var Gt=s.Y([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class Lt extends s.E{constructor(o,d,p,v){super(),this.id=o,this.dispatcher=p,this.coordinates=d.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(v),this.options=d}load(o){return s._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new s.k("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{const d=yield B.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,d&&d.data&&(this.image=d.data,o&&(this.coordinates=o),this._finishLoading())}catch(d){this._request=null,this._loaded=!0,this.fire(new s.j(d))}})}loaded(){return this._loaded}updateImage(o){return o.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=o.url,this.load(o.coordinates).finally(()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new s.k("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(o){this.map=o,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(o){this.coordinates=o;const d=o.map(s.Z.fromLngLat);this.tileID=function(v){let b=1/0,P=1/0,I=-1/0,N=-1/0;for(const oe of v)b=Math.min(b,oe.x),P=Math.min(P,oe.y),I=Math.max(I,oe.x),N=Math.max(N,oe.y);const U=Math.max(I-b,N-P),G=Math.max(0,Math.floor(-Math.log(U)/Math.LN2)),W=Math.pow(2,G);return new s.a1(G,Math.floor((b+I)/2*W),Math.floor((P+N)/2*W))}(d),this.minzoom=this.maxzoom=this.tileID.z;const p=d.map(v=>this.tileID.getTilePoint(v)._round());return this._boundsArray=new s.$,this._boundsArray.emplaceBack(p[0].x,p[0].y,0,0),this._boundsArray.emplaceBack(p[1].x,p[1].y,s.X,0),this._boundsArray.emplaceBack(p[3].x,p[3].y,0,s.X),this._boundsArray.emplaceBack(p[2].x,p[2].y,s.X,s.X),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new s.k("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const o=this.map.painter.context,d=o.gl;this.boundsBuffer||(this.boundsBuffer=o.createVertexBuffer(this._boundsArray,Gt.members)),this.boundsSegments||(this.boundsSegments=s.a0.simpleSegment(0,0,4,2)),this.texture||(this.texture=new Z(o,this.image,d.RGBA),this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE));let p=!1;for(const v in this.tiles){const b=this.tiles[v];b.state!=="loaded"&&(b.state="loaded",b.texture=this.texture,p=!0)}p&&this.fire(new s.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(o){return s._(this,void 0,void 0,function*(){this.tileID&&this.tileID.equals(o.tileID.canonical)?(this.tiles[String(o.tileID.wrap)]=o,o.buckets={}):o.state="errored"})}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}class Jt extends Lt{constructor(o,d,p,v){super(o,d,p,v),this.roundZoom=!0,this.type="video",this.options=d}load(){return s._(this,void 0,void 0,function*(){this._loaded=!1;const o=this.options;this.urls=[];for(const d of o.urls)this.urls.push(this.map._requestManager.transformRequest(d,"Source").url);try{const d=yield s.a3(this.urls);if(this._loaded=!0,!d)return;this.video=d,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading()}catch(d){this.fire(new s.j(d))}})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(o){if(this.video){const d=this.video.seekable;o<d.start(0)||o>d.end(0)?this.fire(new s.j(new s.a2(`sources.${this.id}`,null,`Playback for this video can be set only between the ${d.start(0)} and ${d.end(0)}-second mark.`))):this.video.currentTime=o}}getVideo(){return this.video}onAdd(o){this.map||(this.map=o,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const o=this.map.painter.context,d=o.gl;this.boundsBuffer||(this.boundsBuffer=o.createVertexBuffer(this._boundsArray,Gt.members)),this.boundsSegments||(this.boundsSegments=s.a0.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE),d.texSubImage2D(d.TEXTURE_2D,0,0,0,d.RGBA,d.UNSIGNED_BYTE,this.video)):(this.texture=new Z(o,this.video,d.RGBA),this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE));let p=!1;for(const v in this.tiles){const b=this.tiles[v];b.state!=="loaded"&&(b.state="loaded",b.texture=this.texture,p=!0)}p&&this.fire(new s.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class _r extends Lt{constructor(o,d,p,v){super(o,d,p,v),d.coordinates?Array.isArray(d.coordinates)&&d.coordinates.length===4&&!d.coordinates.some(b=>!Array.isArray(b)||b.length!==2||b.some(P=>typeof P!="number"))||this.fire(new s.j(new s.a2(`sources.${o}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new s.j(new s.a2(`sources.${o}`,null,'missing required property "coordinates"'))),d.animate&&typeof d.animate!="boolean"&&this.fire(new s.j(new s.a2(`sources.${o}`,null,'optional "animate" property must be a boolean value'))),d.canvas?typeof d.canvas=="string"||d.canvas instanceof HTMLCanvasElement||this.fire(new s.j(new s.a2(`sources.${o}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new s.j(new s.a2(`sources.${o}`,null,'missing required property "canvas"'))),this.options=d,this.animate=d.animate===void 0||d.animate}load(){return s._(this,void 0,void 0,function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new s.j(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())})}getCanvas(){return this.canvas}onAdd(o){this.map=o,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let o=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,o=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,o=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const d=this.map.painter.context,p=d.gl;this.boundsBuffer||(this.boundsBuffer=d.createVertexBuffer(this._boundsArray,Gt.members)),this.boundsSegments||(this.boundsSegments=s.a0.simpleSegment(0,0,4,2)),this.texture?(o||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new Z(d,this.canvas,p.RGBA,{premultiply:!0});let v=!1;for(const b in this.tiles){const P=this.tiles[b];P.state!=="loaded"&&(P.state="loaded",P.texture=this.texture,v=!0)}v&&this.fire(new s.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const o of[this.canvas.width,this.canvas.height])if(isNaN(o)||o<=0)return!0;return!1}}const Cr={},Ir=y=>{switch(y){case"geojson":return It;case"image":return Lt;case"raster":return wt;case"raster-dem":return Mt;case"vector":return qt;case"video":return Jt;case"canvas":return _r}return Cr[y]},Ze="RTLPluginLoaded";class gt extends s.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=ut()}_syncState(o){return this.status=o,this.dispatcher.broadcast("SRPS",{pluginStatus:o,pluginURL:this.url}).catch(d=>{throw this.status="error",d})}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(o){return s._(this,arguments,void 0,function*(d,p=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=w.resolveURL(d),!this.url)throw new Error(`requested url ${d} is invalid`);if(this.status==="unavailable"){if(!p)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()})}_requestImport(){return s._(this,void 0,void 0,function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new s.k(Ze))})}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let Ft=null;function At(){return Ft||(Ft=new gt),Ft}class Ar{constructor(o,d){this.timeAdded=0,this.fadeEndTime=0,this.tileID=o,this.uid=s.a4(),this.uses=0,this.tileSize=d,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(o){const d=o+this.timeAdded;d<this.fadeEndTime||(this.fadeEndTime=d)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(o){this.demTexture&&o.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(o,d,p){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",o){o.featureIndex&&(this.latestFeatureIndex=o.featureIndex,o.rawTileData?(this.latestRawTileData=o.rawTileData,this.latestFeatureIndex.rawTileData=o.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=o.collisionBoxArray,this.buckets=function(v,b){const P={};if(!b)return P;for(const I of v){const N=I.layerIds.map(U=>b.getLayer(U)).filter(Boolean);if(N.length!==0){I.layers=N,I.stateDependentLayerIds&&(I.stateDependentLayers=I.stateDependentLayerIds.map(U=>N.filter(G=>G.id===U)[0]));for(const U of N)P[U.id]=I}}return P}(o.buckets,d.style),this.hasSymbolBuckets=!1;for(const v in this.buckets){const b=this.buckets[v];if(b instanceof s.a6){if(this.hasSymbolBuckets=!0,!p)break;b.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const v in this.buckets){const b=this.buckets[v];if(b instanceof s.a6&&b.hasRTLText){this.hasRTLText=!0,At().lazyLoad();break}}this.queryPadding=0;for(const v in this.buckets){const b=this.buckets[v];this.queryPadding=Math.max(this.queryPadding,d.style.getLayer(v).queryRadius(b))}o.imageAtlas&&(this.imageAtlas=o.imageAtlas),o.glyphAtlasImage&&(this.glyphAtlasImage=o.glyphAtlasImage)}else this.collisionBoxArray=new s.a5}unloadVectorData(){for(const o in this.buckets)this.buckets[o].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(o){return this.buckets[o.id]}upload(o){for(const p in this.buckets){const v=this.buckets[p];v.uploadPending()&&v.upload(o)}const d=o.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Z(o,this.imageAtlas.image,d.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Z(o,this.glyphAtlasImage,d.ALPHA),this.glyphAtlasImage=null)}prepare(o){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(o,this.imageAtlasTexture)}queryRenderedFeatures(o,d,p,v,b,P,I,N,U,G){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:v,cameraQueryGeometry:b,scale:P,tileSize:this.tileSize,pixelPosMatrix:G,transform:N,params:I,queryPadding:this.queryPadding*U},o,d,p):{}}querySourceFeatures(o,d){const p=this.latestFeatureIndex;if(!p||!p.rawTileData)return;const v=p.loadVTLayers(),b=d&&d.sourceLayer?d.sourceLayer:"",P=v._geojsonTileLayer||v[b];if(!P)return;const I=s.a7(d&&d.filter),{z:N,x:U,y:G}=this.tileID.canonical,W={z:N,x:U,y:G};for(let oe=0;oe<P.length;oe++){const le=P.feature(oe);if(I.needGeometry){const Te=s.a8(le,!0);if(!I.filter(new s.z(this.tileID.overscaledZ),Te,this.tileID.canonical))continue}else if(!I.filter(new s.z(this.tileID.overscaledZ),le))continue;const ie=p.getId(le,b),he=new s.a9(le,N,U,G,ie);he.tile=W,o.push(he)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(o){const d=this.expirationTime;if(o.cacheControl){const p=s.aa(o.cacheControl);p["max-age"]&&(this.expirationTime=Date.now()+1e3*p["max-age"])}else o.expires&&(this.expirationTime=new Date(o.expires).getTime());if(this.expirationTime){const p=Date.now();let v=!1;if(this.expirationTime>p)v=!1;else if(d)if(this.expirationTime<d)v=!0;else{const b=this.expirationTime-d;b?this.expirationTime=p+Math.max(b,3e4):v=!0}else v=!0;v?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(o,d){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(o).length===0)return;const p=this.latestFeatureIndex.loadVTLayers();for(const v in this.buckets){if(!d.style.hasLayer(v))continue;const b=this.buckets[v],P=b.layers[0].sourceLayer||"_geojsonTileLayer",I=p[P],N=o[P];if(!I||!N||Object.keys(N).length===0)continue;b.update(N,I,this.imageAtlas&&this.imageAtlas.patternPositions||{});const U=d&&d.style&&d.style.getLayer(v);U&&(this.queryPadding=Math.max(this.queryPadding,U.queryRadius(b)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<w.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(o){this.symbolFadeHoldUntil=w.now()+o}setDependencies(o,d){const p={};for(const v of d)p[v]=!0;this.dependencies[o]=p}hasDependency(o,d){for(const p of o){const v=this.dependencies[p];if(v){for(const b of d)if(v[b])return!0}}return!1}}class ot{constructor(o,d){this.max=o,this.onRemove=d,this.reset()}reset(){for(const o in this.data)for(const d of this.data[o])d.timeout&&clearTimeout(d.timeout),this.onRemove(d.value);return this.data={},this.order=[],this}add(o,d,p){const v=o.wrapped().key;this.data[v]===void 0&&(this.data[v]=[]);const b={value:d,timeout:void 0};if(p!==void 0&&(b.timeout=setTimeout(()=>{this.remove(o,b)},p)),this.data[v].push(b),this.order.push(v),this.order.length>this.max){const P=this._getAndRemoveByKey(this.order[0]);P&&this.onRemove(P)}return this}has(o){return o.wrapped().key in this.data}getAndRemove(o){return this.has(o)?this._getAndRemoveByKey(o.wrapped().key):null}_getAndRemoveByKey(o){const d=this.data[o].shift();return d.timeout&&clearTimeout(d.timeout),this.data[o].length===0&&delete this.data[o],this.order.splice(this.order.indexOf(o),1),d.value}getByKey(o){const d=this.data[o];return d?d[0].value:null}get(o){return this.has(o)?this.data[o.wrapped().key][0].value:null}remove(o,d){if(!this.has(o))return this;const p=o.wrapped().key,v=d===void 0?0:this.data[p].indexOf(d),b=this.data[p][v];return this.data[p].splice(v,1),b.timeout&&clearTimeout(b.timeout),this.data[p].length===0&&delete this.data[p],this.onRemove(b.value),this.order.splice(this.order.indexOf(p),1),this}setMaxSize(o){for(this.max=o;this.order.length>this.max;){const d=this._getAndRemoveByKey(this.order[0]);d&&this.onRemove(d)}return this}filter(o){const d=[];for(const p in this.data)for(const v of this.data[p])o(v.value)||d.push(v);for(const p of d)this.remove(p.value.tileID,p)}}class kt{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(o,d,p){const v=String(d);if(this.stateChanges[o]=this.stateChanges[o]||{},this.stateChanges[o][v]=this.stateChanges[o][v]||{},s.e(this.stateChanges[o][v],p),this.deletedStates[o]===null){this.deletedStates[o]={};for(const b in this.state[o])b!==v&&(this.deletedStates[o][b]=null)}else if(this.deletedStates[o]&&this.deletedStates[o][v]===null){this.deletedStates[o][v]={};for(const b in this.state[o][v])p[b]||(this.deletedStates[o][v][b]=null)}else for(const b in p)this.deletedStates[o]&&this.deletedStates[o][v]&&this.deletedStates[o][v][b]===null&&delete this.deletedStates[o][v][b]}removeFeatureState(o,d,p){if(this.deletedStates[o]===null)return;const v=String(d);if(this.deletedStates[o]=this.deletedStates[o]||{},p&&d!==void 0)this.deletedStates[o][v]!==null&&(this.deletedStates[o][v]=this.deletedStates[o][v]||{},this.deletedStates[o][v][p]=null);else if(d!==void 0)if(this.stateChanges[o]&&this.stateChanges[o][v])for(p in this.deletedStates[o][v]={},this.stateChanges[o][v])this.deletedStates[o][v][p]=null;else this.deletedStates[o][v]=null;else this.deletedStates[o]=null}getState(o,d){const p=String(d),v=s.e({},(this.state[o]||{})[p],(this.stateChanges[o]||{})[p]);if(this.deletedStates[o]===null)return{};if(this.deletedStates[o]){const b=this.deletedStates[o][d];if(b===null)return{};for(const P in b)delete v[P]}return v}initializeTileState(o,d){o.setFeatureState(this.state,d)}coalesceChanges(o,d){const p={};for(const v in this.stateChanges){this.state[v]=this.state[v]||{};const b={};for(const P in this.stateChanges[v])this.state[v][P]||(this.state[v][P]={}),s.e(this.state[v][P],this.stateChanges[v][P]),b[P]=this.state[v][P];p[v]=b}for(const v in this.deletedStates){this.state[v]=this.state[v]||{};const b={};if(this.deletedStates[v]===null)for(const P in this.state[v])b[P]={},this.state[v][P]={};else for(const P in this.deletedStates[v]){if(this.deletedStates[v][P]===null)this.state[v][P]={};else for(const I of Object.keys(this.deletedStates[v][P]))delete this.state[v][P][I];b[P]=this.state[v][P]}p[v]=p[v]||{},s.e(p[v],b)}if(this.stateChanges={},this.deletedStates={},Object.keys(p).length!==0)for(const v in o)o[v].setFeatureState(p,d)}}class Dt extends s.E{constructor(o,d,p){super(),this.id=o,this.dispatcher=p,this.on("data",v=>this._dataHandler(v)),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((v,b,P,I)=>{const N=new(Ir(b.type))(v,b,P,I);if(N.id!==v)throw new Error(`Expected Source id to be ${v} instead of ${N.id}`);return N})(o,d,p,this),this._tiles={},this._cache=new ot(0,v=>this._unloadTile(v)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new kt,this._didEmitContent=!1,this._updated=!1}onAdd(o){this.map=o,this._maxTileCacheSize=o?o._maxTileCacheSize:null,this._maxTileCacheZoomLevels=o?o._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(o)}onRemove(o){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(o)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const o in this._tiles){const d=this._tiles[o];if(d.state!=="loaded"&&d.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const o=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,o&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(o,d,p){return s._(this,void 0,void 0,function*(){try{yield this._source.loadTile(o),this._tileLoaded(o,d,p)}catch(v){o.state="errored",v.status!==404?this._source.fire(new s.j(v,{tile:o})):this.update(this.transform,this.terrain)}})}_unloadTile(o){this._source.unloadTile&&this._source.unloadTile(o)}_abortTile(o){this._source.abortTile&&this._source.abortTile(o),this._source.fire(new s.k("dataabort",{tile:o,coord:o.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(o){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const d in this._tiles){const p=this._tiles[d];p.upload(o),p.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(o=>o.tileID).sort(cr).map(o=>o.key)}getRenderableIds(o){const d=[];for(const p in this._tiles)this._isIdRenderable(p,o)&&d.push(this._tiles[p]);return o?d.sort((p,v)=>{const b=p.tileID,P=v.tileID,I=new s.P(b.canonical.x,b.canonical.y)._rotate(this.transform.angle),N=new s.P(P.canonical.x,P.canonical.y)._rotate(this.transform.angle);return b.overscaledZ-P.overscaledZ||N.y-I.y||N.x-I.x}).map(p=>p.tileID.key):d.map(p=>p.tileID).sort(cr).map(p=>p.key)}hasRenderableParent(o){const d=this.findLoadedParent(o,0);return!!d&&this._isIdRenderable(d.tileID.key)}_isIdRenderable(o,d){return this._tiles[o]&&this._tiles[o].hasData()&&!this._coveredTiles[o]&&(d||!this._tiles[o].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const o in this._tiles)this._tiles[o].state!=="errored"&&this._reloadTile(o,"reloading")}}_reloadTile(o,d){return s._(this,void 0,void 0,function*(){const p=this._tiles[o];p&&(p.state!=="loading"&&(p.state=d),yield this._loadTile(p,o,d))})}_tileLoaded(o,d,p){o.timeAdded=w.now(),p==="expired"&&(o.refreshedUponExpiration=!0),this._setTileReloadTimer(d,o),this.getSource().type==="raster-dem"&&o.dem&&this._backfillDEM(o),this._state.initializeTileState(o,this.map?this.map.painter:null),o.aborted||this._source.fire(new s.k("data",{dataType:"source",tile:o,coord:o.tileID}))}_backfillDEM(o){const d=this.getRenderableIds();for(let v=0;v<d.length;v++){const b=d[v];if(o.neighboringTiles&&o.neighboringTiles[b]){const P=this.getTileByID(b);p(o,P),p(P,o)}}function p(v,b){v.needsHillshadePrepare=!0,v.needsTerrainPrepare=!0;let P=b.tileID.canonical.x-v.tileID.canonical.x;const I=b.tileID.canonical.y-v.tileID.canonical.y,N=Math.pow(2,v.tileID.canonical.z),U=b.tileID.key;P===0&&I===0||Math.abs(I)>1||(Math.abs(P)>1&&(Math.abs(P+N)===1?P+=N:Math.abs(P-N)===1&&(P-=N)),b.dem&&v.dem&&(v.dem.backfillBorder(b.dem,P,I),v.neighboringTiles&&v.neighboringTiles[U]&&(v.neighboringTiles[U].backfilled=!0)))}}getTile(o){return this.getTileByID(o.key)}getTileByID(o){return this._tiles[o]}_retainLoadedChildren(o,d,p,v){for(const b in this._tiles){let P=this._tiles[b];if(v[b]||!P.hasData()||P.tileID.overscaledZ<=d||P.tileID.overscaledZ>p)continue;let I=P.tileID;for(;P&&P.tileID.overscaledZ>d+1;){const U=P.tileID.scaledTo(P.tileID.overscaledZ-1);P=this._tiles[U.key],P&&P.hasData()&&(I=U)}let N=I;for(;N.overscaledZ>d;)if(N=N.scaledTo(N.overscaledZ-1),o[N.key]){v[I.key]=I;break}}}findLoadedParent(o,d){if(o.key in this._loadedParentTiles){const p=this._loadedParentTiles[o.key];return p&&p.tileID.overscaledZ>=d?p:null}for(let p=o.overscaledZ-1;p>=d;p--){const v=o.scaledTo(p),b=this._getLoadedTile(v);if(b)return b}}findLoadedSibling(o){return this._getLoadedTile(o)}_getLoadedTile(o){const d=this._tiles[o.key];return d&&d.hasData()?d:this._cache.getByKey(o.wrapped().key)}updateCacheSize(o){const d=Math.ceil(o.width/this._source.tileSize)+1,p=Math.ceil(o.height/this._source.tileSize)+1,v=Math.floor(d*p*(this._maxTileCacheZoomLevels===null?s.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),b=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,v):v;this._cache.setMaxSize(b)}handleWrapJump(o){const d=Math.round((o-(this._prevLng===void 0?o:this._prevLng))/360);if(this._prevLng=o,d){const p={};for(const v in this._tiles){const b=this._tiles[v];b.tileID=b.tileID.unwrapTo(b.tileID.wrap+d),p[b.tileID.key]=b}this._tiles=p;for(const v in this._timers)clearTimeout(this._timers[v]),delete this._timers[v];for(const v in this._tiles)this._setTileReloadTimer(v,this._tiles[v])}}_updateCoveredAndRetainedTiles(o,d,p,v,b,P){const I={},N={},U=Object.keys(o),G=w.now();for(const W of U){const oe=o[W],le=this._tiles[W];if(!le||le.fadeEndTime!==0&&le.fadeEndTime<=G)continue;const ie=this.findLoadedParent(oe,d),he=this.findLoadedSibling(oe),Te=ie||he||null;Te&&(this._addTile(Te.tileID),I[Te.tileID.key]=Te.tileID),N[W]=oe}this._retainLoadedChildren(N,v,p,o);for(const W in I)o[W]||(this._coveredTiles[W]=!0,o[W]=I[W]);if(P){const W={},oe={};for(const le of b)this._tiles[le.key].hasData()?W[le.key]=le:oe[le.key]=le;for(const le in oe){const ie=oe[le].children(this._source.maxzoom);this._tiles[ie[0].key]&&this._tiles[ie[1].key]&&this._tiles[ie[2].key]&&this._tiles[ie[3].key]&&(W[ie[0].key]=o[ie[0].key]=ie[0],W[ie[1].key]=o[ie[1].key]=ie[1],W[ie[2].key]=o[ie[2].key]=ie[2],W[ie[3].key]=o[ie[3].key]=ie[3],delete oe[le])}for(const le in oe){const ie=oe[le],he=this.findLoadedParent(ie,this._source.minzoom),Te=this.findLoadedSibling(ie),Ie=he||Te||null;if(Ie){W[Ie.tileID.key]=o[Ie.tileID.key]=Ie.tileID;for(const De in W)W[De].isChildOf(Ie.tileID)&&delete W[De]}}for(const le in this._tiles)W[le]||(this._coveredTiles[le]=!0)}}update(o,d){if(!this._sourceLoaded||this._paused)return;let p;this.transform=o,this.terrain=d,this.updateCacheSize(o),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?p=o.getVisibleUnwrappedCoordinates(this._source.tileID).map(G=>new s.S(G.canonical.z,G.wrap,G.canonical.z,G.canonical.x,G.canonical.y)):(p=o.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:d}),this._source.hasTile&&(p=p.filter(G=>this._source.hasTile(G)))):p=[];const v=o.coveringZoomLevel(this._source),b=Math.max(v-Dt.maxOverzooming,this._source.minzoom),P=Math.max(v+Dt.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const G={};for(const W of p)if(W.canonical.z>this._source.minzoom){const oe=W.scaledTo(W.canonical.z-1);G[oe.key]=oe;const le=W.scaledTo(Math.max(this._source.minzoom,Math.min(W.canonical.z,5)));G[le.key]=le}p=p.concat(Object.values(G))}const I=p.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,I&&this.fire(new s.k("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const N=this._updateRetainedTiles(p,v);Wr(this._source.type)&&this._updateCoveredAndRetainedTiles(N,b,P,v,p,d);for(const G in N)this._tiles[G].clearFadeHold();const U=s.ab(this._tiles,N);for(const G of U){const W=this._tiles[G];W.hasSymbolBuckets&&!W.holdingForFade()?W.setHoldDuration(this.map._fadeDuration):W.hasSymbolBuckets&&!W.symbolFadeFinished()||this._removeTile(G)}this._updateLoadedParentTileCache(),this._updateLoadedSiblingTileCache()}releaseSymbolFadeTiles(){for(const o in this._tiles)this._tiles[o].holdingForFade()&&this._removeTile(o)}_updateRetainedTiles(o,d){var p;const v={},b={},P=Math.max(d-Dt.maxOverzooming,this._source.minzoom),I=Math.max(d+Dt.maxUnderzooming,this._source.minzoom),N={};for(const U of o){const G=this._addTile(U);v[U.key]=U,G.hasData()||d<this._source.maxzoom&&(N[U.key]=U)}this._retainLoadedChildren(N,d,I,v);for(const U of o){let G=this._tiles[U.key];if(G.hasData())continue;if(d+1>this._source.maxzoom){const oe=U.children(this._source.maxzoom)[0],le=this.getTile(oe);if(le&&le.hasData()){v[oe.key]=oe;continue}}else{const oe=U.children(this._source.maxzoom);if(v[oe[0].key]&&v[oe[1].key]&&v[oe[2].key]&&v[oe[3].key])continue}let W=G.wasRequested();for(let oe=U.overscaledZ-1;oe>=P;--oe){const le=U.scaledTo(oe);if(b[le.key])break;if(b[le.key]=!0,G=this.getTile(le),!G&&W&&(G=this._addTile(le)),G){const ie=G.hasData();if((ie||!(!((p=this.map)===null||p===void 0)&&p.cancelPendingTileRequestsWhileZooming)||W)&&(v[le.key]=le),W=G.wasRequested(),ie)break}}}return v}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const o in this._tiles){const d=[];let p,v=this._tiles[o].tileID;for(;v.overscaledZ>0;){if(v.key in this._loadedParentTiles){p=this._loadedParentTiles[v.key];break}d.push(v.key);const b=v.scaledTo(v.overscaledZ-1);if(p=this._getLoadedTile(b),p)break;v=b}for(const b of d)this._loadedParentTiles[b]=p}}_updateLoadedSiblingTileCache(){this._loadedSiblingTiles={};for(const o in this._tiles){const d=this._tiles[o].tileID,p=this._getLoadedTile(d);this._loadedSiblingTiles[d.key]=p}}_addTile(o){let d=this._tiles[o.key];if(d)return d;d=this._cache.getAndRemove(o),d&&(this._setTileReloadTimer(o.key,d),d.tileID=o,this._state.initializeTileState(d,this.map?this.map.painter:null),this._cacheTimers[o.key]&&(clearTimeout(this._cacheTimers[o.key]),delete this._cacheTimers[o.key],this._setTileReloadTimer(o.key,d)));const p=d;return d||(d=new Ar(o,this._source.tileSize*o.overscaleFactor()),this._loadTile(d,o.key,d.state)),d.uses++,this._tiles[o.key]=d,p||this._source.fire(new s.k("dataloading",{tile:d,coord:d.tileID,dataType:"source"})),d}_setTileReloadTimer(o,d){o in this._timers&&(clearTimeout(this._timers[o]),delete this._timers[o]);const p=d.getExpiryTimeout();p&&(this._timers[o]=setTimeout(()=>{this._reloadTile(o,"expired"),delete this._timers[o]},p))}_removeTile(o){const d=this._tiles[o];d&&(d.uses--,delete this._tiles[o],this._timers[o]&&(clearTimeout(this._timers[o]),delete this._timers[o]),d.uses>0||(d.hasData()&&d.state!=="reloading"?this._cache.add(d.tileID,d,d.getExpiryTimeout()):(d.aborted=!0,this._abortTile(d),this._unloadTile(d))))}_dataHandler(o){const d=o.sourceDataType;o.dataType==="source"&&d==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&o.dataType==="source"&&d==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const o in this._tiles)this._removeTile(o);this._cache.reset()}tilesIn(o,d,p){const v=[],b=this.transform;if(!b)return v;const P=p?b.getCameraQueryGeometry(o):o,I=o.map(ie=>b.pointCoordinate(ie,this.terrain)),N=P.map(ie=>b.pointCoordinate(ie,this.terrain)),U=this.getIds();let G=1/0,W=1/0,oe=-1/0,le=-1/0;for(const ie of N)G=Math.min(G,ie.x),W=Math.min(W,ie.y),oe=Math.max(oe,ie.x),le=Math.max(le,ie.y);for(let ie=0;ie<U.length;ie++){const he=this._tiles[U[ie]];if(he.holdingForFade())continue;const Te=he.tileID,Ie=Math.pow(2,b.zoom-he.tileID.overscaledZ),De=d*he.queryPadding*s.X/he.tileSize/Ie,Le=[Te.getTilePoint(new s.Z(G,W)),Te.getTilePoint(new s.Z(oe,le))];if(Le[0].x-De<s.X&&Le[0].y-De<s.X&&Le[1].x+De>=0&&Le[1].y+De>=0){const Ue=I.map(Je=>Te.getTilePoint(Je)),tt=N.map(Je=>Te.getTilePoint(Je));v.push({tile:he,tileID:Te,queryGeometry:Ue,cameraQueryGeometry:tt,scale:Ie})}}return v}getVisibleCoordinates(o){const d=this.getRenderableIds(o).map(p=>this._tiles[p].tileID);for(const p of d)p.posMatrix=this.transform.calculatePosMatrix(p.toUnwrapped());return d}hasTransition(){if(this._source.hasTransition())return!0;if(Wr(this._source.type)){const o=w.now();for(const d in this._tiles)if(this._tiles[d].fadeEndTime>=o)return!0}return!1}setFeatureState(o,d,p){this._state.updateState(o=o||"_geojsonTileLayer",d,p)}removeFeatureState(o,d,p){this._state.removeFeatureState(o=o||"_geojsonTileLayer",d,p)}getFeatureState(o,d){return this._state.getState(o=o||"_geojsonTileLayer",d)}setDependencies(o,d,p){const v=this._tiles[o];v&&v.setDependencies(d,p)}reloadTilesForDependencies(o,d){for(const p in this._tiles)this._tiles[p].hasDependency(o,d)&&this._reloadTile(p,"reloading");this._cache.filter(p=>!p.hasDependency(o,d))}}function cr(y,o){const d=Math.abs(2*y.wrap)-+(y.wrap<0),p=Math.abs(2*o.wrap)-+(o.wrap<0);return y.overscaledZ-o.overscaledZ||p-d||o.canonical.y-y.canonical.y||o.canonical.x-y.canonical.x}function Wr(y){return y==="raster"||y==="image"||y==="video"}Dt.maxOverzooming=10,Dt.maxUnderzooming=3;class nr{constructor(o,d){this.reset(o,d)}reset(o,d){this.points=o||[],this._distances=[0];for(let p=1;p<this.points.length;p++)this._distances[p]=this._distances[p-1]+this.points[p].dist(this.points[p-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(d||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(o){if(this.points.length===1)return this.points[0];o=s.ac(o,0,1);let d=1,p=this._distances[d];const v=o*this.paddedLength+this.padding;for(;p<v&&d<this._distances.length;)p=this._distances[++d];const b=d-1,P=this._distances[b],I=p-P,N=I>0?(v-P)/I:0;return this.points[b].mult(1-N).add(this.points[d].mult(N))}}function ei(y,o){let d=!0;return y==="always"||y!=="never"&&o!=="never"||(d=!1),d}class On{constructor(o,d,p){const v=this.boxCells=[],b=this.circleCells=[];this.xCellCount=Math.ceil(o/p),this.yCellCount=Math.ceil(d/p);for(let P=0;P<this.xCellCount*this.yCellCount;P++)v.push([]),b.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=o,this.height=d,this.xScale=this.xCellCount/o,this.yScale=this.yCellCount/d,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(o,d,p,v,b){this._forEachCell(d,p,v,b,this._insertBoxCell,this.boxUid++),this.boxKeys.push(o),this.bboxes.push(d),this.bboxes.push(p),this.bboxes.push(v),this.bboxes.push(b)}insertCircle(o,d,p,v){this._forEachCell(d-v,p-v,d+v,p+v,this._insertCircleCell,this.circleUid++),this.circleKeys.push(o),this.circles.push(d),this.circles.push(p),this.circles.push(v)}_insertBoxCell(o,d,p,v,b,P){this.boxCells[b].push(P)}_insertCircleCell(o,d,p,v,b,P){this.circleCells[b].push(P)}_query(o,d,p,v,b,P,I){if(p<0||o>this.width||v<0||d>this.height)return[];const N=[];if(o<=0&&d<=0&&this.width<=p&&this.height<=v){if(b)return[{key:null,x1:o,y1:d,x2:p,y2:v}];for(let U=0;U<this.boxKeys.length;U++)N.push({key:this.boxKeys[U],x1:this.bboxes[4*U],y1:this.bboxes[4*U+1],x2:this.bboxes[4*U+2],y2:this.bboxes[4*U+3]});for(let U=0;U<this.circleKeys.length;U++){const G=this.circles[3*U],W=this.circles[3*U+1],oe=this.circles[3*U+2];N.push({key:this.circleKeys[U],x1:G-oe,y1:W-oe,x2:G+oe,y2:W+oe})}}else this._forEachCell(o,d,p,v,this._queryCell,N,{hitTest:b,overlapMode:P,seenUids:{box:{},circle:{}}},I);return N}query(o,d,p,v){return this._query(o,d,p,v,!1,null)}hitTest(o,d,p,v,b,P){return this._query(o,d,p,v,!0,b,P).length>0}hitTestCircle(o,d,p,v,b){const P=o-p,I=o+p,N=d-p,U=d+p;if(I<0||P>this.width||U<0||N>this.height)return!1;const G=[];return this._forEachCell(P,N,I,U,this._queryCellCircle,G,{hitTest:!0,overlapMode:v,circle:{x:o,y:d,radius:p},seenUids:{box:{},circle:{}}},b),G.length>0}_queryCell(o,d,p,v,b,P,I,N){const{seenUids:U,hitTest:G,overlapMode:W}=I,oe=this.boxCells[b];if(oe!==null){const ie=this.bboxes;for(const he of oe)if(!U.box[he]){U.box[he]=!0;const Te=4*he,Ie=this.boxKeys[he];if(o<=ie[Te+2]&&d<=ie[Te+3]&&p>=ie[Te+0]&&v>=ie[Te+1]&&(!N||N(Ie))&&(!G||!ei(W,Ie.overlapMode))&&(P.push({key:Ie,x1:ie[Te],y1:ie[Te+1],x2:ie[Te+2],y2:ie[Te+3]}),G))return!0}}const le=this.circleCells[b];if(le!==null){const ie=this.circles;for(const he of le)if(!U.circle[he]){U.circle[he]=!0;const Te=3*he,Ie=this.circleKeys[he];if(this._circleAndRectCollide(ie[Te],ie[Te+1],ie[Te+2],o,d,p,v)&&(!N||N(Ie))&&(!G||!ei(W,Ie.overlapMode))){const De=ie[Te],Le=ie[Te+1],Ue=ie[Te+2];if(P.push({key:Ie,x1:De-Ue,y1:Le-Ue,x2:De+Ue,y2:Le+Ue}),G)return!0}}}return!1}_queryCellCircle(o,d,p,v,b,P,I,N){const{circle:U,seenUids:G,overlapMode:W}=I,oe=this.boxCells[b];if(oe!==null){const ie=this.bboxes;for(const he of oe)if(!G.box[he]){G.box[he]=!0;const Te=4*he,Ie=this.boxKeys[he];if(this._circleAndRectCollide(U.x,U.y,U.radius,ie[Te+0],ie[Te+1],ie[Te+2],ie[Te+3])&&(!N||N(Ie))&&!ei(W,Ie.overlapMode))return P.push(!0),!0}}const le=this.circleCells[b];if(le!==null){const ie=this.circles;for(const he of le)if(!G.circle[he]){G.circle[he]=!0;const Te=3*he,Ie=this.circleKeys[he];if(this._circlesCollide(ie[Te],ie[Te+1],ie[Te+2],U.x,U.y,U.radius)&&(!N||N(Ie))&&!ei(W,Ie.overlapMode))return P.push(!0),!0}}}_forEachCell(o,d,p,v,b,P,I,N){const U=this._convertToXCellCoord(o),G=this._convertToYCellCoord(d),W=this._convertToXCellCoord(p),oe=this._convertToYCellCoord(v);for(let le=U;le<=W;le++)for(let ie=G;ie<=oe;ie++)if(b.call(this,o,d,p,v,this.xCellCount*ie+le,P,I,N))return}_convertToXCellCoord(o){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(o*this.xScale)))}_convertToYCellCoord(o){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(o*this.yScale)))}_circlesCollide(o,d,p,v,b,P){const I=v-o,N=b-d,U=p+P;return U*U>I*I+N*N}_circleAndRectCollide(o,d,p,v,b,P,I){const N=(P-v)/2,U=Math.abs(o-(v+N));if(U>N+p)return!1;const G=(I-b)/2,W=Math.abs(d-(b+G));if(W>G+p)return!1;if(U<=N||W<=G)return!0;const oe=U-N,le=W-G;return oe*oe+le*le<=p*p}}function hi(y,o,d,p,v){const b=s.H();return o?(s.K(b,b,[1/v,1/v,1]),d||s.ad(b,b,p.angle)):s.L(b,p.labelPlaneMatrix,y),b}function Vn(y,o,d,p,v){if(o){const b=s.ae(y);return s.K(b,b,[v,v,1]),d||s.ad(b,b,-p.angle),b}return p.glCoordMatrix}function je(y,o,d,p){let v;p?(v=[y,o,p(y,o),1],s.af(v,v,d)):(v=[y,o,0,1],Yt(v,v,d));const b=v[3];return{point:new s.P(v[0]/b,v[1]/b),signedDistanceFromCamera:b,isOccluded:!1}}function se(y,o){return .5+y/o*.5}function de(y,o){return y.x>=-o[0]&&y.x<=o[0]&&y.y>=-o[1]&&y.y<=o[1]}function Pe(y,o,d,p,v,b,P,I,N,U,G,W,oe,le,ie){const he=p?y.textSizeData:y.iconSizeData,Te=s.ag(he,d.transform.zoom),Ie=[256/d.width*2+1,256/d.height*2+1],De=p?y.text.dynamicLayoutVertexArray:y.icon.dynamicLayoutVertexArray;De.clear();const Le=y.lineVertexArray,Ue=p?y.text.placedSymbolArray:y.icon.placedSymbolArray,tt=d.transform.width/d.transform.height;let Je=!1;for(let Pt=0;Pt<Ue.length;Pt++){const zt=Ue.get(Pt);if(zt.hidden||zt.writingMode===s.ah.vertical&&!Je){Ot(zt.numGlyphs,De);continue}Je=!1;const Ht=je(zt.anchorX,zt.anchorY,o,ie);if(!de(Ht.point,Ie)){Ot(zt.numGlyphs,De);continue}const Zt=se(d.transform.cameraToCenterDistance,Ht.signedDistanceFromCamera),Kt=s.ai(he,Te,zt),Wt=P?Kt/Zt:Kt*Zt,er={getElevation:ie,labelPlaneMatrix:v,lineVertexArray:Le,pitchWithMap:P,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},projection:U,tileAnchorPoint:new s.P(zt.anchorX,zt.anchorY),unwrappedTileID:G,width:W,height:oe,translation:le},Nr=ct(er,zt,Wt,!1,I,o,b,y.glyphOffsetArray,De,tt,N);Je=Nr.useVertical,(Nr.notEnoughRoom||Je||Nr.needsFlipping&&ct(er,zt,Wt,!0,I,o,b,y.glyphOffsetArray,De,tt,N).notEnoughRoom)&&Ot(zt.numGlyphs,De)}p?y.text.dynamicLayoutVertexBuffer.updateData(De):y.icon.dynamicLayoutVertexBuffer.updateData(De)}function ze(y,o,d,p,v,b,P,I){const N=b.glyphStartIndex+b.numGlyphs,U=b.lineStartIndex,G=b.lineStartIndex+b.lineLength,W=o.getoffsetX(b.glyphStartIndex),oe=o.getoffsetX(N-1),le=St(y*W,d,p,v,b.segment,U,G,I,P);if(!le)return null;const ie=St(y*oe,d,p,v,b.segment,U,G,I,P);return ie?I.projectionCache.anyProjectionOccluded?null:{first:le,last:ie}:null}function it(y,o,d,p){return y===s.ah.horizontal&&Math.abs(d.y-o.y)>Math.abs(d.x-o.x)*p?{useVertical:!0}:(y===s.ah.vertical?o.y<d.y:o.x>d.x)?{needsFlipping:!0}:null}function ct(y,o,d,p,v,b,P,I,N,U,G){const W=d/24,oe=o.lineOffsetX*W,le=o.lineOffsetY*W;let ie;if(o.numGlyphs>1){const he=o.glyphStartIndex+o.numGlyphs,Te=o.lineStartIndex,Ie=o.lineStartIndex+o.lineLength,De=ze(W,I,oe,le,p,o,G,y);if(!De)return{notEnoughRoom:!0};const Le=je(De.first.point.x,De.first.point.y,P,y.getElevation).point,Ue=je(De.last.point.x,De.last.point.y,P,y.getElevation).point;if(v&&!p){const tt=it(o.writingMode,Le,Ue,U);if(tt)return tt}ie=[De.first];for(let tt=o.glyphStartIndex+1;tt<he-1;tt++)ie.push(St(W*I.getoffsetX(tt),oe,le,p,o.segment,Te,Ie,y,G));ie.push(De.last)}else{if(v&&!p){const Te=je(y.tileAnchorPoint.x,y.tileAnchorPoint.y,b,y.getElevation).point,Ie=o.lineStartIndex+o.segment+1,De=new s.P(y.lineVertexArray.getx(Ie),y.lineVertexArray.gety(Ie)),Le=je(De.x,De.y,b,y.getElevation),Ue=Le.signedDistanceFromCamera>0?Le.point:function(Je,Pt,zt,Ht,Zt,Kt){return pe(Je,Pt,zt,1,Zt,Kt)}(y.tileAnchorPoint,De,Te,0,b,y),tt=it(o.writingMode,Te,Ue,U);if(tt)return tt}const he=St(W*I.getoffsetX(o.glyphStartIndex),oe,le,p,o.segment,o.lineStartIndex,o.lineStartIndex+o.lineLength,y,G);if(!he||y.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};ie=[he]}for(const he of ie)s.aj(N,he.point,he.angle);return{}}function pe(y,o,d,p,v,b){const P=y.add(y.sub(o)._unit()),I=v!==void 0?je(P.x,P.y,v,b.getElevation).point:Be(P.x,P.y,b).point,N=d.sub(I);return d.add(N._mult(p/N.mag()))}function ve(y,o,d){const p=o.projectionCache;if(p.projections[y])return p.projections[y];const v=new s.P(o.lineVertexArray.getx(y),o.lineVertexArray.gety(y)),b=Be(v.x,v.y,o);if(b.signedDistanceFromCamera>0)return p.projections[y]=b.point,p.anyProjectionOccluded=p.anyProjectionOccluded||b.isOccluded,b.point;const P=y-d.direction;return function(I,N,U,G,W){return pe(I,N,U,G,void 0,W)}(d.distanceFromAnchor===0?o.tileAnchorPoint:new s.P(o.lineVertexArray.getx(P),o.lineVertexArray.gety(P)),v,d.previousVertex,d.absOffsetX-d.distanceFromAnchor+1,o)}function Be(y,o,d){const p=y+d.translation[0],v=o+d.translation[1];let b;return!d.pitchWithMap&&d.projection.useSpecialProjectionForSymbols?(b=d.projection.projectTileCoordinates(p,v,d.unwrappedTileID,d.getElevation),b.point.x=(.5*b.point.x+.5)*d.width,b.point.y=(.5*-b.point.y+.5)*d.height):(b=je(p,v,d.labelPlaneMatrix,d.getElevation),b.isOccluded=!1),b}function Ye(y,o,d){return y._unit()._perp()._mult(o*d)}function et(y,o,d,p,v,b,P,I,N){if(I.projectionCache.offsets[y])return I.projectionCache.offsets[y];const U=d.add(o);if(y+N.direction<p||y+N.direction>=v)return I.projectionCache.offsets[y]=U,U;const G=ve(y+N.direction,I,N),W=Ye(G.sub(d),P,N.direction),oe=d.add(W),le=G.add(W);return I.projectionCache.offsets[y]=s.ak(b,U,oe,le)||U,I.projectionCache.offsets[y]}function St(y,o,d,p,v,b,P,I,N){const U=p?y-o:y+o;let G=U>0?1:-1,W=0;p&&(G*=-1,W=Math.PI),G<0&&(W+=Math.PI);let oe,le=G>0?b+v:b+v+1;I.projectionCache.cachedAnchorPoint?oe=I.projectionCache.cachedAnchorPoint:(oe=Be(I.tileAnchorPoint.x,I.tileAnchorPoint.y,I).point,I.projectionCache.cachedAnchorPoint=oe);let ie,he,Te=oe,Ie=oe,De=0,Le=0;const Ue=Math.abs(U),tt=[];let Je;for(;De+Le<=Ue;){if(le+=G,le<b||le>=P)return null;De+=Le,Ie=Te,he=ie;const Ht={absOffsetX:Ue,direction:G,distanceFromAnchor:De,previousVertex:Ie};if(Te=ve(le,I,Ht),d===0)tt.push(Ie),Je=Te.sub(Ie);else{let Zt;const Kt=Te.sub(Ie);Zt=Kt.mag()===0?Ye(ve(le+G,I,Ht).sub(Te),d,G):Ye(Kt,d,G),he||(he=Ie.add(Zt)),ie=et(le,Zt,Te,b,P,he,d,I,Ht),tt.push(he),Je=ie.sub(he)}Le=Je.mag()}const Pt=Je._mult((Ue-De)/Le)._add(he||Ie),zt=W+Math.atan2(Te.y-Ie.y,Te.x-Ie.x);return tt.push(Pt),{point:Pt,angle:N?zt:0,path:tt}}const Bt=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Ot(y,o){for(let d=0;d<y;d++){const p=o.length;o.resize(p+4),o.float32.set(Bt,3*p)}}function Yt(y,o,d){const p=o[0],v=o[1];return y[0]=d[0]*p+d[4]*v+d[12],y[1]=d[1]*p+d[5]*v+d[13],y[3]=d[3]*p+d[7]*v+d[15],y}const $t=100;class Qt{constructor(o,d,p=new On(o.width+200,o.height+200,25),v=new On(o.width+200,o.height+200,25)){this.transform=o,this.mapProjection=d,this.grid=p,this.ignoredGrid=v,this.pitchFactor=Math.cos(o._pitch)*o.cameraToCenterDistance,this.screenRightBoundary=o.width+$t,this.screenBottomBoundary=o.height+$t,this.gridRightBoundary=o.width+200,this.gridBottomBoundary=o.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(o,d,p,v,b,P,I,N,U,G,W){const oe=o.anchorPointX+N[0],le=o.anchorPointY+N[1],ie=this.projectAndGetPerspectiveRatio(v,oe,le,b,G),he=p*ie.perspectiveRatio;let Te;if(P||I)Te=this._projectCollisionBox(o,he,v,b,P,I,N,ie,G,W);else{const tt=ie.point.x+(W?W.x*he:0),Je=ie.point.y+(W?W.y*he:0);Te={allPointsOccluded:!1,box:[tt+o.x1*he,Je+o.y1*he,tt+o.x2*he,Je+o.y2*he]}}const[Ie,De,Le,Ue]=Te.box;return this.mapProjection.useSpecialProjectionForSymbols&&(P?Te.allPointsOccluded:this.mapProjection.isOccluded(oe,le,b))||ie.perspectiveRatio<this.perspectiveRatioCutoff||!this.isInsideGrid(Ie,De,Le,Ue)||d!=="always"&&this.grid.hitTest(Ie,De,Le,Ue,d,U)?{box:[Ie,De,Le,Ue],placeable:!1,offscreen:!1}:{box:[Ie,De,Le,Ue],placeable:!0,offscreen:this.isOffscreen(Ie,De,Le,Ue)}}placeCollisionCircles(o,d,p,v,b,P,I,N,U,G,W,oe,le,ie,he,Te){const Ie=[],De=new s.P(d.anchorX,d.anchorY),Le=this.getPerspectiveRatio(P,De.x,De.y,I,Te),Ue=(W?b/Le:b*Le)/s.ap,tt={getElevation:Te,labelPlaneMatrix:N,lineVertexArray:p,pitchWithMap:W,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},projection:this.mapProjection,tileAnchorPoint:De,unwrappedTileID:I,width:this.transform.width,height:this.transform.height,translation:he},Je=ze(Ue,v,d.lineOffsetX*Ue,d.lineOffsetY*Ue,!1,d,!1,tt);let Pt=!1,zt=!1,Ht=!0;if(Je){const Zt=.5*le*Le+ie,Kt=new s.P(-100,-100),Wt=new s.P(this.screenRightBoundary,this.screenBottomBoundary),er=new nr,Nr=Je.first,or=Je.last;let ar=[];for(let en=Nr.path.length-1;en>=1;en--)ar.push(Nr.path[en]);for(let en=1;en<or.path.length;en++)ar.push(or.path[en]);const jr=2.5*Zt;if(U){const en=this.projectPathToScreenSpace(ar,tt,U);ar=en.some(dn=>dn.signedDistanceFromCamera<=0)?[]:en.map(dn=>dn.point)}let on=[];if(ar.length>0){const en=ar[0].clone(),dn=ar[0].clone();for(let An=1;An<ar.length;An++)en.x=Math.min(en.x,ar[An].x),en.y=Math.min(en.y,ar[An].y),dn.x=Math.max(dn.x,ar[An].x),dn.y=Math.max(dn.y,ar[An].y);on=en.x>=Kt.x&&dn.x<=Wt.x&&en.y>=Kt.y&&dn.y<=Wt.y?[ar]:dn.x<Kt.x||en.x>Wt.x||dn.y<Kt.y||en.y>Wt.y?[]:s.al([ar],Kt.x,Kt.y,Wt.x,Wt.y)}for(const en of on){er.reset(en,.25*Zt);let dn=0;dn=er.length<=.5*Zt?1:Math.ceil(er.paddedLength/jr)+1;for(let An=0;An<dn;An++){const ri=An/Math.max(dn-1,1),$i=er.lerp(ri),jn=$i.x+$t,no=$i.y+$t;Ie.push(jn,no,Zt,0);const ni=jn-Zt,Xi=no-Zt,vo=jn+Zt,Ga=no+Zt;if(Ht=Ht&&this.isOffscreen(ni,Xi,vo,Ga),zt=zt||this.isInsideGrid(ni,Xi,vo,Ga),o!=="always"&&this.grid.hitTestCircle(jn,no,Zt,o,oe)&&(Pt=!0,!G))return{circles:[],offscreen:!1,collisionDetected:Pt}}}}return{circles:!G&&Pt||!zt||Le<this.perspectiveRatioCutoff?[]:Ie,offscreen:Ht,collisionDetected:Pt}}projectPathToScreenSpace(o,d,p){return o.map(v=>je(v.x,v.y,p,d.getElevation))}queryRenderedSymbols(o){if(o.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const d=[];let p=1/0,v=1/0,b=-1/0,P=-1/0;for(const G of o){const W=new s.P(G.x+$t,G.y+$t);p=Math.min(p,W.x),v=Math.min(v,W.y),b=Math.max(b,W.x),P=Math.max(P,W.y),d.push(W)}const I=this.grid.query(p,v,b,P).concat(this.ignoredGrid.query(p,v,b,P)),N={},U={};for(const G of I){const W=G.key;if(N[W.bucketInstanceId]===void 0&&(N[W.bucketInstanceId]={}),N[W.bucketInstanceId][W.featureIndex])continue;const oe=[new s.P(G.x1,G.y1),new s.P(G.x2,G.y1),new s.P(G.x2,G.y2),new s.P(G.x1,G.y2)];s.am(d,oe)&&(N[W.bucketInstanceId][W.featureIndex]=!0,U[W.bucketInstanceId]===void 0&&(U[W.bucketInstanceId]=[]),U[W.bucketInstanceId].push(W.featureIndex))}return U}insertCollisionBox(o,d,p,v,b,P){(p?this.ignoredGrid:this.grid).insert({bucketInstanceId:v,featureIndex:b,collisionGroupID:P,overlapMode:d},o[0],o[1],o[2],o[3])}insertCollisionCircles(o,d,p,v,b,P){const I=p?this.ignoredGrid:this.grid,N={bucketInstanceId:v,featureIndex:b,collisionGroupID:P,overlapMode:d};for(let U=0;U<o.length;U+=4)I.insertCircle(N,o[U],o[U+1],o[U+2])}projectAndGetPerspectiveRatio(o,d,p,v,b){let P;b?(P=[d,p,b(d,p),1],s.af(P,P,o)):(P=[d,p,0,1],Yt(P,P,o));const I=P[3];return{point:new s.P((P[0]/I+1)/2*this.transform.width+$t,(-P[1]/I+1)/2*this.transform.height+$t),perspectiveRatio:.5+this.transform.cameraToCenterDistance/I*.5,isOccluded:!1,signedDistanceFromCamera:I}}getPerspectiveRatio(o,d,p,v,b){const P=this.mapProjection.useSpecialProjectionForSymbols?this.mapProjection.projectTileCoordinates(d,p,v,b):je(d,p,o,b);return .5+this.transform.cameraToCenterDistance/P.signedDistanceFromCamera*.5}isOffscreen(o,d,p,v){return p<$t||o>=this.screenRightBoundary||v<$t||d>this.screenBottomBoundary}isInsideGrid(o,d,p,v){return p>=0&&o<this.gridRightBoundary&&v>=0&&d<this.gridBottomBoundary}getViewportMatrix(){const o=s.an([]);return s.J(o,o,[-100,-100,0]),o}_projectCollisionBox(o,d,p,v,b,P,I,N,U,G){let W=new s.P(1,0),oe=new s.P(0,1);const le=new s.P(o.anchorPointX+I[0],o.anchorPointY+I[1]);if(P&&!b){const Ht=this.projectAndGetPerspectiveRatio(p,le.x+1,le.y,v,U).point.sub(N.point).unit(),Zt=Math.atan(Ht.y/Ht.x)+(Ht.x<0?Math.PI:0),Kt=Math.sin(Zt),Wt=Math.cos(Zt);W=new s.P(Wt,Kt),oe=new s.P(-Kt,Wt)}else if(!P&&b){const Ht=-this.transform.angle,Zt=Math.sin(Ht),Kt=Math.cos(Ht);W=new s.P(Kt,Zt),oe=new s.P(-Zt,Kt)}let ie=N.point,he=d;if(b){ie=le;const Ht=this.transform.zoom-Math.floor(this.transform.zoom);he=Math.pow(2,-Ht),he*=this.mapProjection.getPitchedTextCorrection(this.transform,le,v),G||(he*=s.ac(.5+N.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))}G&&(ie=ie.add(W.mult(G.x*he)).add(oe.mult(G.y*he)));const Te=o.x1*he,Ie=o.x2*he,De=(Te+Ie)/2,Le=o.y1*he,Ue=o.y2*he,tt=(Le+Ue)/2,Je=[{offsetX:Te,offsetY:Le},{offsetX:De,offsetY:Le},{offsetX:Ie,offsetY:Le},{offsetX:Ie,offsetY:tt},{offsetX:Ie,offsetY:Ue},{offsetX:De,offsetY:Ue},{offsetX:Te,offsetY:Ue},{offsetX:Te,offsetY:tt}];let Pt=[];for(const{offsetX:Ht,offsetY:Zt}of Je)Pt.push(new s.P(ie.x+W.x*Ht+oe.x*Zt,ie.y+W.y*Ht+oe.y*Zt));let zt=!1;if(b){const Ht=Pt.map(Zt=>this.projectAndGetPerspectiveRatio(p,Zt.x,Zt.y,v,U));zt=Ht.some(Zt=>!Zt.isOccluded),Pt=Ht.map(Zt=>Zt.point)}else zt=!0;return{box:s.ao(Pt),allPointsOccluded:!zt}}}function hr(y,o,d){return o*(s.X/(y.tileSize*Math.pow(2,d-y.tileID.overscaledZ)))}class gr{constructor(o,d,p,v){this.opacity=o?Math.max(0,Math.min(1,o.opacity+(o.placed?d:-d))):v&&p?1:0,this.placed=p}isHidden(){return this.opacity===0&&!this.placed}}class yr{constructor(o,d,p,v,b){this.text=new gr(o?o.text:null,d,p,b),this.icon=new gr(o?o.icon:null,d,v,b)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class vr{constructor(o,d,p){this.text=o,this.icon=d,this.skipFade=p}}class Tr{constructor(){this.invProjMatrix=s.H(),this.viewportMatrix=s.H(),this.circles=[]}}class zr{constructor(o,d,p,v,b){this.bucketInstanceId=o,this.featureIndex=d,this.sourceLayerIndex=p,this.bucketIndex=v,this.tileID=b}}class Kn{constructor(o){this.crossSourceCollisions=o,this.maxGroupID=0,this.collisionGroups={}}get(o){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[o]){const d=++this.maxGroupID;this.collisionGroups[o]={ID:d,predicate:p=>p.collisionGroupID===d}}return this.collisionGroups[o]}}function fi(y,o,d,p,v){const{horizontalAlign:b,verticalAlign:P}=s.au(y);return new s.P(-(b-.5)*o+p[0]*v,-(P-.5)*d+p[1]*v)}class Hn{constructor(o,d,p,v,b,P){this.transform=o.clone(),this.terrain=p,this.collisionIndex=new Qt(this.transform,d),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=v,this.retainedQueryData={},this.collisionGroups=new Kn(b),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=P,P&&(P.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(o){const d=this.terrain;return d?(p,v)=>d.getElevation(o,p,v):null}getBucketParts(o,d,p,v){const b=p.getBucket(d),P=p.latestFeatureIndex;if(!b||!P||d.id!==b.layerIds[0])return;const I=p.collisionBoxArray,N=b.layers[0].layout,U=b.layers[0].paint,G=Math.pow(2,this.transform.zoom-p.tileID.overscaledZ),W=p.tileSize/s.X,oe=p.tileID.toUnwrapped(),le=this.transform.calculatePosMatrix(oe),ie=N.get("text-pitch-alignment")==="map",he=N.get("text-rotation-alignment")==="map",Te=hr(p,1,this.transform.zoom),Ie=this.collisionIndex.mapProjection.translatePosition(this.transform,p,U.get("text-translate"),U.get("text-translate-anchor")),De=this.collisionIndex.mapProjection.translatePosition(this.transform,p,U.get("icon-translate"),U.get("icon-translate-anchor")),Le=hi(le,ie,he,this.transform,Te);let Ue=null;if(ie){const Je=Vn(le,ie,he,this.transform,Te);Ue=s.L([],this.transform.labelPlaneMatrix,Je)}this.retainedQueryData[b.bucketInstanceId]=new zr(b.bucketInstanceId,P,b.sourceLayerIndex,b.index,p.tileID);const tt={bucket:b,layout:N,translationText:Ie,translationIcon:De,posMatrix:le,unwrappedTileID:oe,textLabelPlaneMatrix:Le,labelToScreenMatrix:Ue,scale:G,textPixelRatio:W,holdingForFade:p.holdingForFade(),collisionBoxArray:I,partiallyEvaluatedTextSize:s.ag(b.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(b.sourceID)};if(v)for(const Je of b.sortKeyRanges){const{sortKey:Pt,symbolInstanceStart:zt,symbolInstanceEnd:Ht}=Je;o.push({sortKey:Pt,symbolInstanceStart:zt,symbolInstanceEnd:Ht,parameters:tt})}else o.push({symbolInstanceStart:0,symbolInstanceEnd:b.symbolInstances.length,parameters:tt})}attemptAnchorPlacement(o,d,p,v,b,P,I,N,U,G,W,oe,le,ie,he,Te,Ie,De,Le){const Ue=s.aq[o.textAnchor],tt=[o.textOffset0,o.textOffset1],Je=fi(Ue,p,v,tt,b),Pt=this.collisionIndex.placeCollisionBox(d,oe,N,U,G,I,P,Te,W.predicate,Le,Je);if((!De||this.collisionIndex.placeCollisionBox(De,oe,N,U,G,I,P,Ie,W.predicate,Le,Je).placeable)&&Pt.placeable){let zt;if(this.prevPlacement&&this.prevPlacement.variableOffsets[le.crossTileID]&&this.prevPlacement.placements[le.crossTileID]&&this.prevPlacement.placements[le.crossTileID].text&&(zt=this.prevPlacement.variableOffsets[le.crossTileID].anchor),le.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[le.crossTileID]={textOffset:tt,width:p,height:v,anchor:Ue,textBoxScale:b,prevAnchor:zt},this.markUsedJustification(ie,Ue,le,he),ie.allowVerticalPlacement&&(this.markUsedOrientation(ie,he,le),this.placedOrientations[le.crossTileID]=he),{shift:Je,placedGlyphBoxes:Pt}}}placeLayerBucketPart(o,d,p){const{bucket:v,layout:b,translationText:P,translationIcon:I,posMatrix:N,unwrappedTileID:U,textLabelPlaneMatrix:G,labelToScreenMatrix:W,textPixelRatio:oe,holdingForFade:le,collisionBoxArray:ie,partiallyEvaluatedTextSize:he,collisionGroup:Te}=o.parameters,Ie=b.get("text-optional"),De=b.get("icon-optional"),Le=s.ar(b,"text-overlap","text-allow-overlap"),Ue=Le==="always",tt=s.ar(b,"icon-overlap","icon-allow-overlap"),Je=tt==="always",Pt=b.get("text-rotation-alignment")==="map",zt=b.get("text-pitch-alignment")==="map",Ht=b.get("icon-text-fit")!=="none",Zt=b.get("symbol-z-order")==="viewport-y",Kt=Ue&&(Je||!v.hasIconData()||De),Wt=Je&&(Ue||!v.hasTextData()||Ie);!v.collisionArrays&&ie&&v.deserializeCollisionBoxes(ie);const er=this._getTerrainElevationFunc(this.retainedQueryData[v.bucketInstanceId].tileID),Nr=(or,ar,jr)=>{var on,en;if(d[or.crossTileID])return;if(le)return void(this.placements[or.crossTileID]=new vr(!1,!1,!1));let dn=!1,An=!1,ri=!0,$i=null,jn={box:null,placeable:!1,offscreen:null},no={box:null,placeable:!1,offscreen:null},ni=null,Xi=null,vo=null,Ga=0,Cs=0,Bi=0;ar.textFeatureIndex?Ga=ar.textFeatureIndex:or.useRuntimeCollisionCircles&&(Ga=or.featureIndex),ar.verticalTextFeatureIndex&&(Cs=ar.verticalTextFeatureIndex);const tc=ar.textBox;if(tc){const ka=uo=>{let pa=s.ah.horizontal;if(v.allowVerticalPlacement&&!uo&&this.prevPlacement){const La=this.prevPlacement.placedOrientations[or.crossTileID];La&&(this.placedOrientations[or.crossTileID]=La,pa=La,this.markUsedOrientation(v,pa,or))}return pa},Ka=(uo,pa)=>{if(v.allowVerticalPlacement&&or.numVerticalGlyphVertices>0&&ar.verticalTextBox){for(const La of v.writingModes)if(La===s.ah.vertical?(jn=pa(),no=jn):jn=uo(),jn&&jn.placeable)break}else jn=uo()},ea=or.textAnchorOffsetStartIndex,Ia=or.textAnchorOffsetEndIndex;if(Ia===ea){const uo=(pa,La)=>{const Bn=this.collisionIndex.placeCollisionBox(pa,Le,oe,N,U,zt,Pt,P,Te.predicate,er);return Bn&&Bn.placeable&&(this.markUsedOrientation(v,La,or),this.placedOrientations[or.crossTileID]=La),Bn};Ka(()=>uo(tc,s.ah.horizontal),()=>{const pa=ar.verticalTextBox;return v.allowVerticalPlacement&&or.numVerticalGlyphVertices>0&&pa?uo(pa,s.ah.vertical):{box:null,offscreen:null}}),ka(jn&&jn.placeable)}else{let uo=s.aq[(en=(on=this.prevPlacement)===null||on===void 0?void 0:on.variableOffsets[or.crossTileID])===null||en===void 0?void 0:en.anchor];const pa=(Bn,ql,rc)=>{const xu=Bn.x2-Bn.x1,Cd=Bn.y2-Bn.y1,Ky=or.textBoxScale,Jm=Ht&&tt==="never"?ql:null;let Hl=null,_u=Le==="never"?1:2,vf="never";uo&&_u++;for(let wh=0;wh<_u;wh++){for(let bf=ea;bf<Ia;bf++){const Sh=v.textAnchorOffsets.get(bf);if(uo&&Sh.textAnchor!==uo)continue;const wu=this.attemptAnchorPlacement(Sh,Bn,xu,Cd,Ky,Pt,zt,oe,N,U,Te,vf,or,v,rc,P,I,Jm,er);if(wu&&(Hl=wu.placedGlyphBoxes,Hl&&Hl.placeable))return dn=!0,$i=wu.shift,Hl}uo?uo=null:vf=Le}return p&&!Hl&&(Hl={box:this.collisionIndex.placeCollisionBox(tc,"always",oe,N,U,zt,Pt,P,Te.predicate,er,new s.P(0,0)).box,offscreen:!1,placeable:!1}),Hl};Ka(()=>pa(tc,ar.iconBox,s.ah.horizontal),()=>{const Bn=ar.verticalTextBox;return v.allowVerticalPlacement&&(!jn||!jn.placeable)&&or.numVerticalGlyphVertices>0&&Bn?pa(Bn,ar.verticalIconBox,s.ah.vertical):{box:null,occluded:!0,offscreen:null}}),jn&&(dn=jn.placeable,ri=jn.offscreen);const La=ka(jn&&jn.placeable);if(!dn&&this.prevPlacement){const Bn=this.prevPlacement.variableOffsets[or.crossTileID];Bn&&(this.variableOffsets[or.crossTileID]=Bn,this.markUsedJustification(v,Bn.anchor,or,La))}}}if(ni=jn,dn=ni&&ni.placeable,ri=ni&&ni.offscreen,or.useRuntimeCollisionCircles){const ka=v.text.placedSymbolArray.get(or.centerJustifiedTextSymbolIndex),Ka=s.ai(v.textSizeData,he,ka),ea=b.get("text-padding");Xi=this.collisionIndex.placeCollisionCircles(Le,ka,v.lineVertexArray,v.glyphOffsetArray,Ka,N,U,G,W,p,zt,Te.predicate,or.collisionCircleDiameter,ea,P,er),Xi.circles.length&&Xi.collisionDetected&&!p&&s.w("Collisions detected, but collision boxes are not shown"),dn=Ue||Xi.circles.length>0&&!Xi.collisionDetected,ri=ri&&Xi.offscreen}if(ar.iconFeatureIndex&&(Bi=ar.iconFeatureIndex),ar.iconBox){const ka=Ka=>this.collisionIndex.placeCollisionBox(Ka,tt,oe,N,U,zt,Pt,I,Te.predicate,er,Ht&&$i?$i:void 0);no&&no.placeable&&ar.verticalIconBox?(vo=ka(ar.verticalIconBox),An=vo.placeable):(vo=ka(ar.iconBox),An=vo.placeable),ri=ri&&vo.offscreen}const Es=Ie||or.numHorizontalGlyphVertices===0&&or.numVerticalGlyphVertices===0,_h=De||or.numIconVertices===0;Es||_h?_h?Es||(An=An&&dn):dn=An&&dn:An=dn=An&&dn;const Sd=An&&vo.placeable;if(dn&&ni.placeable&&this.collisionIndex.insertCollisionBox(ni.box,Le,b.get("text-ignore-placement"),v.bucketInstanceId,no&&no.placeable&&Cs?Cs:Ga,Te.ID),Sd&&this.collisionIndex.insertCollisionBox(vo.box,tt,b.get("icon-ignore-placement"),v.bucketInstanceId,Bi,Te.ID),Xi&&dn&&this.collisionIndex.insertCollisionCircles(Xi.circles,Le,b.get("text-ignore-placement"),v.bucketInstanceId,Ga,Te.ID),p&&this.storeCollisionData(v.bucketInstanceId,jr,ar,ni,vo,Xi),or.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(v.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[or.crossTileID]=new vr(dn||Kt,An||Wt,ri||v.justReloaded),d[or.crossTileID]=!0};if(Zt){if(o.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const or=v.getSortedSymbolIndexes(this.transform.angle);for(let ar=or.length-1;ar>=0;--ar){const jr=or[ar];Nr(v.symbolInstances.get(jr),v.collisionArrays[jr],jr)}}else for(let or=o.symbolInstanceStart;or<o.symbolInstanceEnd;or++)Nr(v.symbolInstances.get(or),v.collisionArrays[or],or);if(p&&v.bucketInstanceId in this.collisionCircleArrays){const or=this.collisionCircleArrays[v.bucketInstanceId];s.as(or.invProjMatrix,N),or.viewportMatrix=this.collisionIndex.getViewportMatrix()}v.justReloaded=!1}storeCollisionData(o,d,p,v,b,P){if(p.textBox||p.iconBox){let I,N;this.collisionBoxArrays.has(o)?I=this.collisionBoxArrays.get(o):(I=new Map,this.collisionBoxArrays.set(o,I)),I.has(d)?N=I.get(d):(N={text:null,icon:null},I.set(d,N)),p.textBox&&(N.text=v.box),p.iconBox&&(N.icon=b.box)}if(P){let I=this.collisionCircleArrays[o];I===void 0&&(I=this.collisionCircleArrays[o]=new Tr);for(let N=0;N<P.circles.length;N+=4)I.circles.push(P.circles[N+0]),I.circles.push(P.circles[N+1]),I.circles.push(P.circles[N+2]),I.circles.push(P.collisionDetected?1:0)}}markUsedJustification(o,d,p,v){let b;b=v===s.ah.vertical?p.verticalPlacedTextSymbolIndex:{left:p.leftJustifiedTextSymbolIndex,center:p.centerJustifiedTextSymbolIndex,right:p.rightJustifiedTextSymbolIndex}[s.at(d)];const P=[p.leftJustifiedTextSymbolIndex,p.centerJustifiedTextSymbolIndex,p.rightJustifiedTextSymbolIndex,p.verticalPlacedTextSymbolIndex];for(const I of P)I>=0&&(o.text.placedSymbolArray.get(I).crossTileID=b>=0&&I!==b?0:p.crossTileID)}markUsedOrientation(o,d,p){const v=d===s.ah.horizontal||d===s.ah.horizontalOnly?d:0,b=d===s.ah.vertical?d:0,P=[p.leftJustifiedTextSymbolIndex,p.centerJustifiedTextSymbolIndex,p.rightJustifiedTextSymbolIndex];for(const I of P)o.text.placedSymbolArray.get(I).placedOrientation=v;p.verticalPlacedTextSymbolIndex&&(o.text.placedSymbolArray.get(p.verticalPlacedTextSymbolIndex).placedOrientation=b)}commit(o){this.commitTime=o,this.zoomAtLastRecencyCheck=this.transform.zoom;const d=this.prevPlacement;let p=!1;this.prevZoomAdjustment=d?d.zoomAdjustment(this.transform.zoom):0;const v=d?d.symbolFadeChange(o):1,b=d?d.opacities:{},P=d?d.variableOffsets:{},I=d?d.placedOrientations:{};for(const N in this.placements){const U=this.placements[N],G=b[N];G?(this.opacities[N]=new yr(G,v,U.text,U.icon),p=p||U.text!==G.text.placed||U.icon!==G.icon.placed):(this.opacities[N]=new yr(null,v,U.text,U.icon,U.skipFade),p=p||U.text||U.icon)}for(const N in b){const U=b[N];if(!this.opacities[N]){const G=new yr(U,v,!1,!1);G.isHidden()||(this.opacities[N]=G,p=p||U.text.placed||U.icon.placed)}}for(const N in P)this.variableOffsets[N]||!this.opacities[N]||this.opacities[N].isHidden()||(this.variableOffsets[N]=P[N]);for(const N in I)this.placedOrientations[N]||!this.opacities[N]||this.opacities[N].isHidden()||(this.placedOrientations[N]=I[N]);if(d&&d.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");p?this.lastPlacementChangeTime=o:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=d?d.lastPlacementChangeTime:o)}updateLayerOpacities(o,d){const p={};for(const v of d){const b=v.getBucket(o);b&&v.latestFeatureIndex&&o.id===b.layerIds[0]&&this.updateBucketOpacities(b,v.tileID,p,v.collisionBoxArray)}}updateBucketOpacities(o,d,p,v){o.hasTextData()&&(o.text.opacityVertexArray.clear(),o.text.hasVisibleVertices=!1),o.hasIconData()&&(o.icon.opacityVertexArray.clear(),o.icon.hasVisibleVertices=!1),o.hasIconCollisionBoxData()&&o.iconCollisionBox.collisionVertexArray.clear(),o.hasTextCollisionBoxData()&&o.textCollisionBox.collisionVertexArray.clear();const b=o.layers[0],P=b.layout,I=new yr(null,0,!1,!1,!0),N=P.get("text-allow-overlap"),U=P.get("icon-allow-overlap"),G=b._unevaluatedLayout.hasValue("text-variable-anchor")||b._unevaluatedLayout.hasValue("text-variable-anchor-offset"),W=P.get("text-rotation-alignment")==="map",oe=P.get("text-pitch-alignment")==="map",le=P.get("icon-text-fit")!=="none",ie=new yr(null,0,N&&(U||!o.hasIconData()||P.get("icon-optional")),U&&(N||!o.hasTextData()||P.get("text-optional")),!0);!o.collisionArrays&&v&&(o.hasIconCollisionBoxData()||o.hasTextCollisionBoxData())&&o.deserializeCollisionBoxes(v);const he=(Ie,De,Le)=>{for(let Ue=0;Ue<De/4;Ue++)Ie.opacityVertexArray.emplaceBack(Le);Ie.hasVisibleVertices=Ie.hasVisibleVertices||Le!==Fo},Te=this.collisionBoxArrays.get(o.bucketInstanceId);for(let Ie=0;Ie<o.symbolInstances.length;Ie++){const De=o.symbolInstances.get(Ie),{numHorizontalGlyphVertices:Le,numVerticalGlyphVertices:Ue,crossTileID:tt}=De;let Je=this.opacities[tt];p[tt]?Je=I:Je||(Je=ie,this.opacities[tt]=Je),p[tt]=!0;const Pt=De.numIconVertices>0,zt=this.placedOrientations[De.crossTileID],Ht=zt===s.ah.vertical,Zt=zt===s.ah.horizontal||zt===s.ah.horizontalOnly;if(Le>0||Ue>0){const Wt=Wn(Je.text);he(o.text,Le,Ht?Fo:Wt),he(o.text,Ue,Zt?Fo:Wt);const er=Je.text.isHidden();[De.rightJustifiedTextSymbolIndex,De.centerJustifiedTextSymbolIndex,De.leftJustifiedTextSymbolIndex].forEach(ar=>{ar>=0&&(o.text.placedSymbolArray.get(ar).hidden=er||Ht?1:0)}),De.verticalPlacedTextSymbolIndex>=0&&(o.text.placedSymbolArray.get(De.verticalPlacedTextSymbolIndex).hidden=er||Zt?1:0);const Nr=this.variableOffsets[De.crossTileID];Nr&&this.markUsedJustification(o,Nr.anchor,De,zt);const or=this.placedOrientations[De.crossTileID];or&&(this.markUsedJustification(o,"left",De,or),this.markUsedOrientation(o,or,De))}if(Pt){const Wt=Wn(Je.icon),er=!(le&&De.verticalPlacedIconSymbolIndex&&Ht);De.placedIconSymbolIndex>=0&&(he(o.icon,De.numIconVertices,er?Wt:Fo),o.icon.placedSymbolArray.get(De.placedIconSymbolIndex).hidden=Je.icon.isHidden()),De.verticalPlacedIconSymbolIndex>=0&&(he(o.icon,De.numVerticalIconVertices,er?Fo:Wt),o.icon.placedSymbolArray.get(De.verticalPlacedIconSymbolIndex).hidden=Je.icon.isHidden())}const Kt=Te&&Te.has(Ie)?Te.get(Ie):{text:null,icon:null};if(o.hasIconCollisionBoxData()||o.hasTextCollisionBoxData()){const Wt=o.collisionArrays[Ie];if(Wt){let er=new s.P(0,0);if(Wt.textBox||Wt.verticalTextBox){let Nr=!0;if(G){const or=this.variableOffsets[tt];or?(er=fi(or.anchor,or.width,or.height,or.textOffset,or.textBoxScale),W&&er._rotate(oe?this.transform.angle:-this.transform.angle)):Nr=!1}if(Wt.textBox||Wt.verticalTextBox){let or;Wt.textBox&&(or=Ht),Wt.verticalTextBox&&(or=Zt),so(o.textCollisionBox.collisionVertexArray,Je.text.placed,!Nr||or,Kt.text,er.x,er.y)}}if(Wt.iconBox||Wt.verticalIconBox){const Nr=!!(!Zt&&Wt.verticalIconBox);let or;Wt.iconBox&&(or=Nr),Wt.verticalIconBox&&(or=!Nr),so(o.iconCollisionBox.collisionVertexArray,Je.icon.placed,or,Kt.icon,le?er.x:0,le?er.y:0)}}}}if(o.sortFeatures(this.transform.angle),this.retainedQueryData[o.bucketInstanceId]&&(this.retainedQueryData[o.bucketInstanceId].featureSortOrder=o.featureSortOrder),o.hasTextData()&&o.text.opacityVertexBuffer&&o.text.opacityVertexBuffer.updateData(o.text.opacityVertexArray),o.hasIconData()&&o.icon.opacityVertexBuffer&&o.icon.opacityVertexBuffer.updateData(o.icon.opacityVertexArray),o.hasIconCollisionBoxData()&&o.iconCollisionBox.collisionVertexBuffer&&o.iconCollisionBox.collisionVertexBuffer.updateData(o.iconCollisionBox.collisionVertexArray),o.hasTextCollisionBoxData()&&o.textCollisionBox.collisionVertexBuffer&&o.textCollisionBox.collisionVertexBuffer.updateData(o.textCollisionBox.collisionVertexArray),o.text.opacityVertexArray.length!==o.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${o.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${o.text.layoutVertexArray.length}) / 4`);if(o.icon.opacityVertexArray.length!==o.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${o.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${o.icon.layoutVertexArray.length}) / 4`);if(o.bucketInstanceId in this.collisionCircleArrays){const Ie=this.collisionCircleArrays[o.bucketInstanceId];o.placementInvProjMatrix=Ie.invProjMatrix,o.placementViewportMatrix=Ie.viewportMatrix,o.collisionCircleArray=Ie.circles,delete this.collisionCircleArrays[o.bucketInstanceId]}}symbolFadeChange(o){return this.fadeDuration===0?1:(o-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(o){return Math.max(0,(this.transform.zoom-o)/1.5)}hasTransitions(o){return this.stale||o-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(o,d){const p=this.zoomAtLastRecencyCheck===d?1-this.zoomAdjustment(d):1;return this.zoomAtLastRecencyCheck=d,this.commitTime+this.fadeDuration*p>o}setStale(){this.stale=!0}}function so(y,o,d,p,v,b){p&&p.length!==0||(p=[0,0,0,0]);const P=p[0]-$t,I=p[1]-$t,N=p[2]-$t,U=p[3]-$t;y.emplaceBack(o?1:0,d?1:0,v||0,b||0,P,I),y.emplaceBack(o?1:0,d?1:0,v||0,b||0,N,I),y.emplaceBack(o?1:0,d?1:0,v||0,b||0,N,U),y.emplaceBack(o?1:0,d?1:0,v||0,b||0,P,U)}const In=Math.pow(2,25),ja=Math.pow(2,24),To=Math.pow(2,17),Ln=Math.pow(2,16),eo=Math.pow(2,9),Mn=Math.pow(2,8),xn=Math.pow(2,1);function Wn(y){if(y.opacity===0&&!y.placed)return 0;if(y.opacity===1&&y.placed)return 4294967295;const o=y.placed?1:0,d=Math.floor(127*y.opacity);return d*In+o*ja+d*To+o*Ln+d*eo+o*Mn+d*xn+o}const Fo=0;function Rn(){return{isOccluded:(y,o,d)=>!1,getPitchedTextCorrection:(y,o,d)=>1,get useSpecialProjectionForSymbols(){return!1},projectTileCoordinates(y,o,d,p){throw new Error("Not implemented.")},translatePosition:(y,o,d,p)=>function(v,b,P,I,N=!1){if(!P[0]&&!P[1])return[0,0];const U=N?I==="map"?v.angle:0:I==="viewport"?-v.angle:0;if(U){const G=Math.sin(U),W=Math.cos(U);P=[P[0]*W-P[1]*G,P[0]*G+P[1]*W]}return[N?P[0]:hr(b,P[0],v.zoom),N?P[1]:hr(b,P[1],v.zoom)]}(y,o,d,p),getCircleRadiusCorrection:y=>1}}class zn{constructor(o){this._sortAcrossTiles=o.layout.get("symbol-z-order")!=="viewport-y"&&!o.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(o,d,p,v,b){const P=this._bucketParts;for(;this._currentTileIndex<o.length;)if(d.getBucketParts(P,v,o[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,b())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,P.sort((I,N)=>I.sortKey-N.sortKey));this._currentPartIndex<P.length;)if(d.placeLayerBucketPart(P[this._currentPartIndex],this._seenCrossTileIDs,p),this._currentPartIndex++,b())return!0;return!1}}class ai{constructor(o,d,p,v,b,P,I,N){this.placement=new Hn(o,Rn(),d,P,I,N),this._currentPlacementIndex=p.length-1,this._forceFullPlacement=v,this._showCollisionBoxes=b,this._done=!1}isDone(){return this._done}continuePlacement(o,d,p){const v=w.now(),b=()=>!this._forceFullPlacement&&w.now()-v>2;for(;this._currentPlacementIndex>=0;){const P=d[o[this._currentPlacementIndex]],I=this.placement.collisionIndex.transform.zoom;if(P.type==="symbol"&&(!P.minzoom||P.minzoom<=I)&&(!P.maxzoom||P.maxzoom>I)){if(this._inProgressLayer||(this._inProgressLayer=new zn(P)),this._inProgressLayer.continuePlacement(p[P.source],this.placement,this._showCollisionBoxes,P,b))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(o){return this.placement.commit(o),this.placement}}const Ko=512/s.X/2;class Li{constructor(o,d,p){this.tileID=o,this.bucketInstanceId=p,this._symbolsByKey={};const v=new Map;for(let b=0;b<d.length;b++){const P=d.get(b),I=P.key,N=v.get(I);N?N.push(P):v.set(I,[P])}for(const[b,P]of v){const I={positions:P.map(N=>({x:Math.floor(N.anchorX*Ko),y:Math.floor(N.anchorY*Ko)})),crossTileIDs:P.map(N=>N.crossTileID)};if(I.positions.length>128){const N=new s.av(I.positions.length,16,Uint16Array);for(const{x:U,y:G}of I.positions)N.add(U,G);N.finish(),delete I.positions,I.index=N}this._symbolsByKey[b]=I}}getScaledCoordinates(o,d){const{x:p,y:v,z:b}=this.tileID.canonical,{x:P,y:I,z:N}=d.canonical,U=Ko/Math.pow(2,N-b),G=(I*s.X+o.anchorY)*U,W=v*s.X*Ko;return{x:Math.floor((P*s.X+o.anchorX)*U-p*s.X*Ko),y:Math.floor(G-W)}}findMatches(o,d,p){const v=this.tileID.canonical.z<d.canonical.z?1:Math.pow(2,this.tileID.canonical.z-d.canonical.z);for(let b=0;b<o.length;b++){const P=o.get(b);if(P.crossTileID)continue;const I=this._symbolsByKey[P.key];if(!I)continue;const N=this.getScaledCoordinates(P,d);if(I.index){const U=I.index.range(N.x-v,N.y-v,N.x+v,N.y+v).sort();for(const G of U){const W=I.crossTileIDs[G];if(!p[W]){p[W]=!0,P.crossTileID=W;break}}}else if(I.positions)for(let U=0;U<I.positions.length;U++){const G=I.positions[U],W=I.crossTileIDs[U];if(Math.abs(G.x-N.x)<=v&&Math.abs(G.y-N.y)<=v&&!p[W]){p[W]=!0,P.crossTileID=W;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:o})=>o)}}class du{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Xo{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(o){const d=Math.round((o-this.lng)/360);if(d!==0)for(const p in this.indexes){const v=this.indexes[p],b={};for(const P in v){const I=v[P];I.tileID=I.tileID.unwrapTo(I.tileID.wrap+d),b[I.tileID.key]=I}this.indexes[p]=b}this.lng=o}addBucket(o,d,p){if(this.indexes[o.overscaledZ]&&this.indexes[o.overscaledZ][o.key]){if(this.indexes[o.overscaledZ][o.key].bucketInstanceId===d.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(o.overscaledZ,this.indexes[o.overscaledZ][o.key])}for(let b=0;b<d.symbolInstances.length;b++)d.symbolInstances.get(b).crossTileID=0;this.usedCrossTileIDs[o.overscaledZ]||(this.usedCrossTileIDs[o.overscaledZ]={});const v=this.usedCrossTileIDs[o.overscaledZ];for(const b in this.indexes){const P=this.indexes[b];if(Number(b)>o.overscaledZ)for(const I in P){const N=P[I];N.tileID.isChildOf(o)&&N.findMatches(d.symbolInstances,o,v)}else{const I=P[o.scaledTo(Number(b)).key];I&&I.findMatches(d.symbolInstances,o,v)}}for(let b=0;b<d.symbolInstances.length;b++){const P=d.symbolInstances.get(b);P.crossTileID||(P.crossTileID=p.generate(),v[P.crossTileID]=!0)}return this.indexes[o.overscaledZ]===void 0&&(this.indexes[o.overscaledZ]={}),this.indexes[o.overscaledZ][o.key]=new Li(o,d.symbolInstances,d.bucketInstanceId),!0}removeBucketCrossTileIDs(o,d){for(const p of d.getCrossTileIDsLists())for(const v of p)delete this.usedCrossTileIDs[o][v]}removeStaleBuckets(o){let d=!1;for(const p in this.indexes){const v=this.indexes[p];for(const b in v)o[v[b].bucketInstanceId]||(this.removeBucketCrossTileIDs(p,v[b]),delete v[b],d=!0)}return d}}class hu{constructor(){this.layerIndexes={},this.crossTileIDs=new du,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(o,d,p){let v=this.layerIndexes[o.id];v===void 0&&(v=this.layerIndexes[o.id]=new Xo);let b=!1;const P={};v.handleWrapJump(p);for(const I of d){const N=I.getBucket(o);N&&o.id===N.layerIds[0]&&(N.bucketInstanceId||(N.bucketInstanceId=++this.maxBucketInstanceId),v.addBucket(I.tileID,N,this.crossTileIDs)&&(b=!0),P[N.bucketInstanceId]=!0)}return v.removeStaleBuckets(P)&&(b=!0),b}pruneUnusedLayers(o){const d={};o.forEach(p=>{d[p]=!0});for(const p in this.layerIndexes)d[p]||delete this.layerIndexes[p]}}const Wi=(y,o)=>s.t(y,o&&o.filter(d=>d.identifier!=="source.canvas")),fu=s.aw();class $o extends s.E{constructor(o,d={}){super(),this._rtlPluginLoaded=()=>{for(const p in this.sourceCaches){const v=this.sourceCaches[p].getSource().type;v!=="vector"&&v!=="geojson"||this.sourceCaches[p].reload()}},this.map=o,this.dispatcher=new nt(We(),o._getMapId()),this.dispatcher.registerMessageHandler("GG",(p,v)=>this.getGlyphs(p,v)),this.dispatcher.registerMessageHandler("GI",(p,v)=>this.getImages(p,v)),this.imageManager=new ye,this.imageManager.setEventedParent(this),this.glyphManager=new Oe(o._requestManager,d.localIdeographFontFamily),this.lineAtlas=new me(256,512),this.crossTileSymbolIndex=new hu,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new s.ax,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("SR",s.ay()),At().on(Ze,this._rtlPluginLoaded),this.on("data",p=>{if(p.dataType!=="source"||p.sourceDataType!=="metadata")return;const v=this.sourceCaches[p.sourceId];if(!v)return;const b=v.getSource();if(b&&b.vectorLayerIds)for(const P in this._layers){const I=this._layers[P];I.source===b.id&&this._validateLayer(I)}})}loadURL(o,d={},p){this.fire(new s.k("dataloading",{dataType:"style"})),d.validate=typeof d.validate!="boolean"||d.validate;const v=this.map._requestManager.transformRequest(o,"Style");this._loadStyleRequest=new AbortController;const b=this._loadStyleRequest;s.h(v,this._loadStyleRequest).then(P=>{this._loadStyleRequest=null,this._load(P.data,d,p)}).catch(P=>{this._loadStyleRequest=null,P&&!b.signal.aborted&&this.fire(new s.j(P))})}loadJSON(o,d={},p){this.fire(new s.k("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,w.frameAsync(this._frameRequest).then(()=>{this._frameRequest=null,d.validate=d.validate!==!1,this._load(o,d,p)}).catch(()=>{})}loadEmpty(){this.fire(new s.k("dataloading",{dataType:"style"})),this._load(fu,{validate:!1})}_load(o,d,p){var v;const b=d.transformStyle?d.transformStyle(p,o):o;if(!d.validate||!Wi(this,s.u(b))){this._loaded=!0,this.stylesheet=b;for(const P in b.sources)this.addSource(P,b.sources[P],{validate:!1});b.sprite?this._loadSprite(b.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(b.glyphs),this._createLayers(),this.light=new Ke(this.stylesheet.light),this.sky=new ae(this.stylesheet.sky),this.map.setTerrain((v=this.stylesheet.terrain)!==null&&v!==void 0?v:null),this.fire(new s.k("data",{dataType:"style"})),this.fire(new s.k("style.load"))}}_createLayers(){const o=s.az(this.stylesheet.layers);this.dispatcher.broadcast("SL",o),this._order=o.map(d=>d.id),this._layers={},this._serializedLayers=null;for(const d of o){const p=s.aA(d);p.setEventedParent(this,{layer:{id:d.id}}),this._layers[d.id]=p}}_loadSprite(o,d=!1,p=void 0){let v;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,function(b,P,I,N){return s._(this,void 0,void 0,function*(){const U=ge(b),G=I>1?"@2x":"",W={},oe={};for(const{id:le,url:ie}of U){const he=P.transformRequest(Y(ie,G,".json"),"SpriteJSON");W[le]=s.h(he,N);const Te=P.transformRequest(Y(ie,G,".png"),"SpriteImage");oe[le]=B.getImage(Te,N)}return yield Promise.all([...Object.values(W),...Object.values(oe)]),function(le,ie){return s._(this,void 0,void 0,function*(){const he={};for(const Te in le){he[Te]={};const Ie=w.getImageCanvasContext((yield ie[Te]).data),De=(yield le[Te]).data;for(const Le in De){const{width:Ue,height:tt,x:Je,y:Pt,sdf:zt,pixelRatio:Ht,stretchX:Zt,stretchY:Kt,content:Wt,textFitWidth:er,textFitHeight:Nr}=De[Le];he[Te][Le]={data:null,pixelRatio:Ht,sdf:zt,stretchX:Zt,stretchY:Kt,content:Wt,textFitWidth:er,textFitHeight:Nr,spriteData:{width:Ue,height:tt,x:Je,y:Pt,context:Ie}}}}return he})}(W,oe)})}(o,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then(b=>{if(this._spriteRequest=null,b)for(const P in b){this._spritesImagesIds[P]=[];const I=this._spritesImagesIds[P]?this._spritesImagesIds[P].filter(N=>!(N in b)):[];for(const N of I)this.imageManager.removeImage(N),this._changedImages[N]=!0;for(const N in b[P]){const U=P==="default"?N:`${P}:${N}`;this._spritesImagesIds[P].push(U),U in this.imageManager.images?this.imageManager.updateImage(U,b[P][N],!1):this.imageManager.addImage(U,b[P][N]),d&&(this._changedImages[U]=!0)}}}).catch(b=>{this._spriteRequest=null,v=b,this.fire(new s.j(v))}).finally(()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),d&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new s.k("data",{dataType:"style"})),p&&p(v)})}_unloadSprite(){for(const o of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(o),this._changedImages[o]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new s.k("data",{dataType:"style"}))}_validateLayer(o){const d=this.sourceCaches[o.source];if(!d)return;const p=o.sourceLayer;if(!p)return;const v=d.getSource();(v.type==="geojson"||v.vectorLayerIds&&v.vectorLayerIds.indexOf(p)===-1)&&this.fire(new s.j(new Error(`Source layer "${p}" does not exist on source "${v.id}" as specified by style layer "${o.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const o in this.sourceCaches)if(!this.sourceCaches[o].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(o,d=!1){const p=this._serializedAllLayers();if(!o||o.length===0)return Object.values(d?s.aB(p):p);const v=[];for(const b of o)if(p[b]){const P=d?s.aB(p[b]):p[b];v.push(P)}return v}_serializedAllLayers(){let o=this._serializedLayers;if(o)return o;o=this._serializedLayers={};const d=Object.keys(this._layers);for(const p of d){const v=this._layers[p];v.type!=="custom"&&(o[p]=v.serialize())}return o}hasTransitions(){if(this.light&&this.light.hasTransition()||this.sky&&this.sky.hasTransition())return!0;for(const o in this.sourceCaches)if(this.sourceCaches[o].hasTransition())return!0;for(const o in this._layers)if(this._layers[o].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(o){if(!this._loaded)return;const d=this._changed;if(d){const v=Object.keys(this._updatedLayers),b=Object.keys(this._removedLayers);(v.length||b.length)&&this._updateWorkerLayers(v,b);for(const P in this._updatedSources){const I=this._updatedSources[P];if(I==="reload")this._reloadSource(P);else{if(I!=="clear")throw new Error(`Invalid action ${I}`);this._clearSource(P)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const P in this._updatedPaintProps)this._layers[P].updateTransitions(o);this.light.updateTransitions(o),this.sky.updateTransitions(o),this._resetUpdates()}const p={};for(const v in this.sourceCaches){const b=this.sourceCaches[v];p[v]=b.used,b.used=!1}for(const v of this._order){const b=this._layers[v];b.recalculate(o,this._availableImages),!b.isHidden(o.zoom)&&b.source&&(this.sourceCaches[b.source].used=!0)}for(const v in p){const b=this.sourceCaches[v];!!p[v]!=!!b.used&&b.fire(new s.k("data",{sourceDataType:"visibility",dataType:"source",sourceId:v}))}this.light.recalculate(o),this.sky.recalculate(o),this.z=o.zoom,d&&this.fire(new s.k("data",{dataType:"style"}))}_updateTilesForChangedImages(){const o=Object.keys(this._changedImages);if(o.length){for(const d in this.sourceCaches)this.sourceCaches[d].reloadTilesForDependencies(["icons","patterns"],o);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const o in this.sourceCaches)this.sourceCaches[o].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(o,d){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(o,!1),removedIds:d})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(o,d={}){var p;this._checkLoaded();const v=this.serialize();if(o=d.transformStyle?d.transformStyle(v,o):o,((p=d.validate)===null||p===void 0||p)&&Wi(this,s.u(o)))return!1;(o=s.aB(o)).layers=s.az(o.layers);const b=s.aC(v,o),P=this._getOperationsToPerform(b);if(P.unimplemented.length>0)throw new Error(`Unimplemented: ${P.unimplemented.join(", ")}.`);if(P.operations.length===0)return!1;for(const I of P.operations)I();return this.stylesheet=o,this._serializedLayers=null,!0}_getOperationsToPerform(o){const d=[],p=[];for(const v of o)switch(v.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":continue;case"addLayer":d.push(()=>this.addLayer.apply(this,v.args));break;case"removeLayer":d.push(()=>this.removeLayer.apply(this,v.args));break;case"setPaintProperty":d.push(()=>this.setPaintProperty.apply(this,v.args));break;case"setLayoutProperty":d.push(()=>this.setLayoutProperty.apply(this,v.args));break;case"setFilter":d.push(()=>this.setFilter.apply(this,v.args));break;case"addSource":d.push(()=>this.addSource.apply(this,v.args));break;case"removeSource":d.push(()=>this.removeSource.apply(this,v.args));break;case"setLayerZoomRange":d.push(()=>this.setLayerZoomRange.apply(this,v.args));break;case"setLight":d.push(()=>this.setLight.apply(this,v.args));break;case"setGeoJSONSourceData":d.push(()=>this.setGeoJSONSourceData.apply(this,v.args));break;case"setGlyphs":d.push(()=>this.setGlyphs.apply(this,v.args));break;case"setSprite":d.push(()=>this.setSprite.apply(this,v.args));break;case"setSky":d.push(()=>this.setSky.apply(this,v.args));break;case"setTerrain":d.push(()=>this.map.setTerrain.apply(this,v.args));break;case"setTransition":d.push(()=>{});break;default:p.push(v.command)}return{operations:d,unimplemented:p}}addImage(o,d){if(this.getImage(o))return this.fire(new s.j(new Error(`An image named "${o}" already exists.`)));this.imageManager.addImage(o,d),this._afterImageUpdated(o)}updateImage(o,d){this.imageManager.updateImage(o,d)}getImage(o){return this.imageManager.getImage(o)}removeImage(o){if(!this.getImage(o))return this.fire(new s.j(new Error(`An image named "${o}" does not exist.`)));this.imageManager.removeImage(o),this._afterImageUpdated(o)}_afterImageUpdated(o){this._availableImages=this.imageManager.listImages(),this._changedImages[o]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new s.k("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(o,d,p={}){if(this._checkLoaded(),this.sourceCaches[o]!==void 0)throw new Error(`Source "${o}" already exists.`);if(!d.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(d).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(d.type)>=0&&this._validate(s.u.source,`sources.${o}`,d,null,p))return;this.map&&this.map._collectResourceTiming&&(d.collectResourceTiming=!0);const v=this.sourceCaches[o]=new Dt(o,d,this.dispatcher);v.style=this,v.setEventedParent(this,()=>({isSourceLoaded:v.loaded(),source:v.serialize(),sourceId:o})),v.onAdd(this.map),this._changed=!0}removeSource(o){if(this._checkLoaded(),this.sourceCaches[o]===void 0)throw new Error("There is no source with this ID");for(const p in this._layers)if(this._layers[p].source===o)return this.fire(new s.j(new Error(`Source "${o}" cannot be removed while layer "${p}" is using it.`)));const d=this.sourceCaches[o];delete this.sourceCaches[o],delete this._updatedSources[o],d.fire(new s.k("data",{sourceDataType:"metadata",dataType:"source",sourceId:o})),d.setEventedParent(null),d.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(o,d){if(this._checkLoaded(),this.sourceCaches[o]===void 0)throw new Error(`There is no source with this ID=${o}`);const p=this.sourceCaches[o].getSource();if(p.type!=="geojson")throw new Error(`geojsonSource.type is ${p.type}, which is !== 'geojson`);p.setData(d),this._changed=!0}getSource(o){return this.sourceCaches[o]&&this.sourceCaches[o].getSource()}addLayer(o,d,p={}){this._checkLoaded();const v=o.id;if(this.getLayer(v))return void this.fire(new s.j(new Error(`Layer "${v}" already exists on this map.`)));let b;if(o.type==="custom"){if(Wi(this,s.aD(o)))return;b=s.aA(o)}else{if("source"in o&&typeof o.source=="object"&&(this.addSource(v,o.source),o=s.aB(o),o=s.e(o,{source:v})),this._validate(s.u.layer,`layers.${v}`,o,{arrayIndex:-1},p))return;b=s.aA(o),this._validateLayer(b),b.setEventedParent(this,{layer:{id:v}})}const P=d?this._order.indexOf(d):this._order.length;if(d&&P===-1)this.fire(new s.j(new Error(`Cannot add layer "${v}" before non-existing layer "${d}".`)));else{if(this._order.splice(P,0,v),this._layerOrderChanged=!0,this._layers[v]=b,this._removedLayers[v]&&b.source&&b.type!=="custom"){const I=this._removedLayers[v];delete this._removedLayers[v],I.type!==b.type?this._updatedSources[b.source]="clear":(this._updatedSources[b.source]="reload",this.sourceCaches[b.source].pause())}this._updateLayer(b),b.onAdd&&b.onAdd(this.map)}}moveLayer(o,d){if(this._checkLoaded(),this._changed=!0,!this._layers[o])return void this.fire(new s.j(new Error(`The layer '${o}' does not exist in the map's style and cannot be moved.`)));if(o===d)return;const p=this._order.indexOf(o);this._order.splice(p,1);const v=d?this._order.indexOf(d):this._order.length;d&&v===-1?this.fire(new s.j(new Error(`Cannot move layer "${o}" before non-existing layer "${d}".`))):(this._order.splice(v,0,o),this._layerOrderChanged=!0)}removeLayer(o){this._checkLoaded();const d=this._layers[o];if(!d)return void this.fire(new s.j(new Error(`Cannot remove non-existing layer "${o}".`)));d.setEventedParent(null);const p=this._order.indexOf(o);this._order.splice(p,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[o]=d,delete this._layers[o],this._serializedLayers&&delete this._serializedLayers[o],delete this._updatedLayers[o],delete this._updatedPaintProps[o],d.onRemove&&d.onRemove(this.map)}getLayer(o){return this._layers[o]}getLayersOrder(){return[...this._order]}hasLayer(o){return o in this._layers}setLayerZoomRange(o,d,p){this._checkLoaded();const v=this.getLayer(o);v?v.minzoom===d&&v.maxzoom===p||(d!=null&&(v.minzoom=d),p!=null&&(v.maxzoom=p),this._updateLayer(v)):this.fire(new s.j(new Error(`Cannot set the zoom range of non-existing layer "${o}".`)))}setFilter(o,d,p={}){this._checkLoaded();const v=this.getLayer(o);if(v){if(!s.aE(v.filter,d))return d==null?(v.filter=void 0,void this._updateLayer(v)):void(this._validate(s.u.filter,`layers.${v.id}.filter`,d,null,p)||(v.filter=s.aB(d),this._updateLayer(v)))}else this.fire(new s.j(new Error(`Cannot filter non-existing layer "${o}".`)))}getFilter(o){return s.aB(this.getLayer(o).filter)}setLayoutProperty(o,d,p,v={}){this._checkLoaded();const b=this.getLayer(o);b?s.aE(b.getLayoutProperty(d),p)||(b.setLayoutProperty(d,p,v),this._updateLayer(b)):this.fire(new s.j(new Error(`Cannot style non-existing layer "${o}".`)))}getLayoutProperty(o,d){const p=this.getLayer(o);if(p)return p.getLayoutProperty(d);this.fire(new s.j(new Error(`Cannot get style of non-existing layer "${o}".`)))}setPaintProperty(o,d,p,v={}){this._checkLoaded();const b=this.getLayer(o);b?s.aE(b.getPaintProperty(d),p)||(b.setPaintProperty(d,p,v)&&this._updateLayer(b),this._changed=!0,this._updatedPaintProps[o]=!0,this._serializedLayers=null):this.fire(new s.j(new Error(`Cannot style non-existing layer "${o}".`)))}getPaintProperty(o,d){return this.getLayer(o).getPaintProperty(d)}setFeatureState(o,d){this._checkLoaded();const p=o.source,v=o.sourceLayer,b=this.sourceCaches[p];if(b===void 0)return void this.fire(new s.j(new Error(`The source '${p}' does not exist in the map's style.`)));const P=b.getSource().type;P==="geojson"&&v?this.fire(new s.j(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):P!=="vector"||v?(o.id===void 0&&this.fire(new s.j(new Error("The feature id parameter must be provided."))),b.setFeatureState(v,o.id,d)):this.fire(new s.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(o,d){this._checkLoaded();const p=o.source,v=this.sourceCaches[p];if(v===void 0)return void this.fire(new s.j(new Error(`The source '${p}' does not exist in the map's style.`)));const b=v.getSource().type,P=b==="vector"?o.sourceLayer:void 0;b!=="vector"||P?d&&typeof o.id!="string"&&typeof o.id!="number"?this.fire(new s.j(new Error("A feature id is required to remove its specific state property."))):v.removeFeatureState(P,o.id,d):this.fire(new s.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(o){this._checkLoaded();const d=o.source,p=o.sourceLayer,v=this.sourceCaches[d];if(v!==void 0)return v.getSource().type!=="vector"||p?(o.id===void 0&&this.fire(new s.j(new Error("The feature id parameter must be provided."))),v.getFeatureState(p,o.id)):void this.fire(new s.j(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new s.j(new Error(`The source '${d}' does not exist in the map's style.`)))}getTransition(){return s.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const o=s.aF(this.sourceCaches,b=>b.serialize()),d=this._serializeByIds(this._order,!0),p=this.map.getTerrain()||void 0,v=this.stylesheet;return s.aG({version:v.version,name:v.name,metadata:v.metadata,light:v.light,sky:v.sky,center:v.center,zoom:v.zoom,bearing:v.bearing,pitch:v.pitch,sprite:v.sprite,glyphs:v.glyphs,transition:v.transition,sources:o,layers:d,terrain:p},b=>b!==void 0)}_updateLayer(o){this._updatedLayers[o.id]=!0,o.source&&!this._updatedSources[o.source]&&this.sourceCaches[o.source].getSource().type!=="raster"&&(this._updatedSources[o.source]="reload",this.sourceCaches[o.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(o){const d=P=>this._layers[P].type==="fill-extrusion",p={},v=[];for(let P=this._order.length-1;P>=0;P--){const I=this._order[P];if(d(I)){p[I]=P;for(const N of o){const U=N[I];if(U)for(const G of U)v.push(G)}}}v.sort((P,I)=>I.intersectionZ-P.intersectionZ);const b=[];for(let P=this._order.length-1;P>=0;P--){const I=this._order[P];if(d(I))for(let N=v.length-1;N>=0;N--){const U=v[N].feature;if(p[U.layer.id]<P)break;b.push(U),v.pop()}else for(const N of o){const U=N[I];if(U)for(const G of U)b.push(G.feature)}}return b}queryRenderedFeatures(o,d,p){d&&d.filter&&this._validate(s.u.filter,"queryRenderedFeatures.filter",d.filter,null,d);const v={};if(d&&d.layers){if(!Array.isArray(d.layers))return this.fire(new s.j(new Error("parameters.layers must be an Array."))),[];for(const I of d.layers){const N=this._layers[I];if(!N)return this.fire(new s.j(new Error(`The layer '${I}' does not exist in the map's style and cannot be queried for features.`))),[];v[N.source]=!0}}const b=[];d.availableImages=this._availableImages;const P=this._serializedAllLayers();for(const I in this.sourceCaches)d.layers&&!v[I]||b.push(Ct(this.sourceCaches[I],this._layers,P,o,d,p));return this.placement&&b.push(function(I,N,U,G,W,oe,le){const ie={},he=oe.queryRenderedSymbols(G),Te=[];for(const Ie of Object.keys(he).map(Number))Te.push(le[Ie]);Te.sort(Et);for(const Ie of Te){const De=Ie.featureIndex.lookupSymbolFeatures(he[Ie.bucketInstanceId],N,Ie.bucketIndex,Ie.sourceLayerIndex,W.filter,W.layers,W.availableImages,I);for(const Le in De){const Ue=ie[Le]=ie[Le]||[],tt=De[Le];tt.sort((Je,Pt)=>{const zt=Ie.featureSortOrder;if(zt){const Ht=zt.indexOf(Je.featureIndex);return zt.indexOf(Pt.featureIndex)-Ht}return Pt.featureIndex-Je.featureIndex});for(const Je of tt)Ue.push(Je)}}for(const Ie in ie)ie[Ie].forEach(De=>{const Le=De.feature,Ue=U[I[Ie].source].getFeatureState(Le.layer["source-layer"],Le.id);Le.source=Le.layer.source,Le.layer["source-layer"]&&(Le.sourceLayer=Le.layer["source-layer"]),Le.state=Ue});return ie}(this._layers,P,this.sourceCaches,o,d,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(b)}querySourceFeatures(o,d){d&&d.filter&&this._validate(s.u.filter,"querySourceFeatures.filter",d.filter,null,d);const p=this.sourceCaches[o];return p?function(v,b){const P=v.getRenderableIds().map(U=>v.getTileByID(U)),I=[],N={};for(let U=0;U<P.length;U++){const G=P[U],W=G.tileID.canonical.key;N[W]||(N[W]=!0,G.querySourceFeatures(I,b))}return I}(p,d):[]}getLight(){return this.light.getLight()}setLight(o,d={}){this._checkLoaded();const p=this.light.getLight();let v=!1;for(const P in o)if(!s.aE(o[P],p[P])){v=!0;break}if(!v)return;const b={now:w.now(),transition:s.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(o,d),this.light.updateTransitions(b)}getSky(){var o;return(o=this.stylesheet)===null||o===void 0?void 0:o.sky}setSky(o,d={}){const p=this.getSky();let v=!1;if(!o&&!p)return;if(o&&!p)v=!0;else if(!o&&p)v=!0;else for(const P in o)if(!s.aE(o[P],p[P])){v=!0;break}if(!v)return;const b={now:w.now(),transition:s.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=o,this.sky.setSky(o,d),this.sky.updateTransitions(b)}_validate(o,d,p,v,b={}){return(!b||b.validate!==!1)&&Wi(this,o.call(s.u,s.e({key:d,style:this.serialize(),value:p,styleSpec:s.v},v)))}_remove(o=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),At().off(Ze,this._rtlPluginLoaded);for(const d in this._layers)this._layers[d].setEventedParent(null);for(const d in this.sourceCaches){const p=this.sourceCaches[d];p.setEventedParent(null),p.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),o&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(o)}_clearSource(o){this.sourceCaches[o].clearTiles()}_reloadSource(o){this.sourceCaches[o].resume(),this.sourceCaches[o].reload()}_updateSources(o){for(const d in this.sourceCaches)this.sourceCaches[d].update(o,this.map.terrain)}_generateCollisionBoxes(){for(const o in this.sourceCaches)this._reloadSource(o)}_updatePlacement(o,d,p,v,b=!1){let P=!1,I=!1;const N={};for(const U of this._order){const G=this._layers[U];if(G.type!=="symbol")continue;if(!N[G.source]){const oe=this.sourceCaches[G.source];N[G.source]=oe.getRenderableIds(!0).map(le=>oe.getTileByID(le)).sort((le,ie)=>ie.tileID.overscaledZ-le.tileID.overscaledZ||(le.tileID.isLessThan(ie.tileID)?-1:1))}const W=this.crossTileSymbolIndex.addLayer(G,N[G.source],o.center.lng);P=P||W}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((b=b||this._layerOrderChanged||p===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(w.now(),o.zoom))&&(this.pauseablePlacement=new ai(o,this.map.terrain,this._order,b,d,p,v,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,N),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(w.now()),I=!0),P&&this.pauseablePlacement.placement.setStale()),I||P)for(const U of this._order){const G=this._layers[U];G.type==="symbol"&&this.placement.updateLayerOpacities(G,N[G.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(w.now())}_releaseSymbolFadeTiles(){for(const o in this.sourceCaches)this.sourceCaches[o].releaseSymbolFadeTiles()}getImages(o,d){return s._(this,void 0,void 0,function*(){const p=yield this.imageManager.getImages(d.icons);this._updateTilesForChangedImages();const v=this.sourceCaches[d.source];return v&&v.setDependencies(d.tileID.key,d.type,d.icons),p})}getGlyphs(o,d){return s._(this,void 0,void 0,function*(){const p=yield this.glyphManager.getGlyphs(d.stacks),v=this.sourceCaches[d.source];return v&&v.setDependencies(d.tileID.key,d.type,[""]),p})}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(o,d={}){this._checkLoaded(),o&&this._validate(s.u.glyphs,"glyphs",o,null,d)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=o,this.glyphManager.entries={},this.glyphManager.setURL(o))}addSprite(o,d,p={},v){this._checkLoaded();const b=[{id:o,url:d}],P=[...ge(this.stylesheet.sprite),...b];this._validate(s.u.sprite,"sprite",P,null,p)||(this.stylesheet.sprite=P,this._loadSprite(b,!0,v))}removeSprite(o){this._checkLoaded();const d=ge(this.stylesheet.sprite);if(d.find(p=>p.id===o)){if(this._spritesImagesIds[o])for(const p of this._spritesImagesIds[o])this.imageManager.removeImage(p),this._changedImages[p]=!0;d.splice(d.findIndex(p=>p.id===o),1),this.stylesheet.sprite=d.length>0?d:void 0,delete this._spritesImagesIds[o],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new s.k("data",{dataType:"style"}))}else this.fire(new s.j(new Error(`Sprite "${o}" doesn't exists on this map.`)))}getSprite(){return ge(this.stylesheet.sprite)}setSprite(o,d={},p){this._checkLoaded(),o&&this._validate(s.u.sprite,"sprite",o,null,d)||(this.stylesheet.sprite=o,o?this._loadSprite(o,!0,p):(this._unloadSprite(),p&&p(null)))}}var ms=s.Y([{name:"a_pos",type:"Int16",components:2}]);const gs={prelude:Nn(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:Nn(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:Nn(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:Nn(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);float antialiased_blur=v_data.z;float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}float antialiasblur=-max(1.0/u_device_pixel_ratio/(radius+stroke_width),blur);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:Nn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Nn(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,get_elevation(floor(a_pos*0.5)),1);gl_Position=u_matrix*pos;}`),heatmapTexture:Nn(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:Nn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_anchor_pos;attribute vec2 a_placed;attribute vec2 a_box_real;uniform mat4 u_matrix;uniform vec2 u_pixel_extrude_scale;varying float v_placed;varying float v_notUsed;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Nn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:Nn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:Nn(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:Nn(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:Nn(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:Nn(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:Nn(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:Nn(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:Nn(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Nn(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:Nn(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:Nn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:Nn(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:Nn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:Nn(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:Nn(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec2 v_tex;varying float v_fade_opacity;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:Nn(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec2 v_data0;varying vec3 v_data1;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:Nn(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec4 v_data0;varying vec4 v_data1;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:Nn("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;varying vec2 v_texture_pos;varying float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture2D(u_texture,v_texture_pos);if (v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);gl_FragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {gl_FragColor=surface_color;}}","attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform mat4 u_fog_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=u_matrix*vec4(a_pos3d.xy,ele-ele_delta,1.0);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:Nn("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}","attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=u_matrix*vec4(a_pos3d.xy,ele-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:Nn("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=u_matrix*vec4(a_pos3d.xy,ele-ele_delta,1.0);}"),sky:Nn("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform float u_horizon;uniform float u_sky_horizon_blend;void main() {float y=gl_FragCoord.y;if (y > u_horizon) {float blend=y-u_horizon;if (blend < u_sky_horizon_blend) {gl_FragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {gl_FragColor=u_sky_color;}}}","attribute vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function Nn(y,o){const d=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,p=o.match(/attribute ([\w]+) ([\w]+)/g),v=y.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),b=o.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),P=b?b.concat(v):v,I={};return{fragmentSource:y=y.replace(d,(N,U,G,W,oe)=>(I[oe]=!0,U==="define"?`
#ifndef HAS_UNIFORM_u_${oe}
varying ${G} ${W} ${oe};
#else
uniform ${G} ${W} u_${oe};
#endif
`:`
#ifdef HAS_UNIFORM_u_${oe}
    ${G} ${W} ${oe} = u_${oe};
#endif
`)),vertexSource:o=o.replace(d,(N,U,G,W,oe)=>{const le=W==="float"?"vec2":"vec4",ie=oe.match(/color/)?"color":le;return I[oe]?U==="define"?`
#ifndef HAS_UNIFORM_u_${oe}
uniform lowp float u_${oe}_t;
attribute ${G} ${le} a_${oe};
varying ${G} ${W} ${oe};
#else
uniform ${G} ${W} u_${oe};
#endif
`:ie==="vec4"?`
#ifndef HAS_UNIFORM_u_${oe}
    ${oe} = a_${oe};
#else
    ${G} ${W} ${oe} = u_${oe};
#endif
`:`
#ifndef HAS_UNIFORM_u_${oe}
    ${oe} = unpack_mix_${ie}(a_${oe}, u_${oe}_t);
#else
    ${G} ${W} ${oe} = u_${oe};
#endif
`:U==="define"?`
#ifndef HAS_UNIFORM_u_${oe}
uniform lowp float u_${oe}_t;
attribute ${G} ${le} a_${oe};
#else
uniform ${G} ${W} u_${oe};
#endif
`:ie==="vec4"?`
#ifndef HAS_UNIFORM_u_${oe}
    ${G} ${W} ${oe} = a_${oe};
#else
    ${G} ${W} ${oe} = u_${oe};
#endif
`:`
#ifndef HAS_UNIFORM_u_${oe}
    ${G} ${W} ${oe} = unpack_mix_${ie}(a_${oe}, u_${oe}_t);
#else
    ${G} ${W} ${oe} = u_${oe};
#endif
`}),staticAttributes:p,staticUniforms:P}}class O{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(o,d,p,v,b,P,I,N,U){this.context=o;let G=this.boundPaintVertexBuffers.length!==v.length;for(let W=0;!G&&W<v.length;W++)this.boundPaintVertexBuffers[W]!==v[W]&&(G=!0);!this.vao||this.boundProgram!==d||this.boundLayoutVertexBuffer!==p||G||this.boundIndexBuffer!==b||this.boundVertexOffset!==P||this.boundDynamicVertexBuffer!==I||this.boundDynamicVertexBuffer2!==N||this.boundDynamicVertexBuffer3!==U?this.freshBind(d,p,v,b,P,I,N,U):(o.bindVertexArray.set(this.vao),I&&I.bind(),b&&b.dynamicDraw&&b.bind(),N&&N.bind(),U&&U.bind())}freshBind(o,d,p,v,b,P,I,N){const U=o.numAttributes,G=this.context,W=G.gl;this.vao&&this.destroy(),this.vao=G.createVertexArray(),G.bindVertexArray.set(this.vao),this.boundProgram=o,this.boundLayoutVertexBuffer=d,this.boundPaintVertexBuffers=p,this.boundIndexBuffer=v,this.boundVertexOffset=b,this.boundDynamicVertexBuffer=P,this.boundDynamicVertexBuffer2=I,this.boundDynamicVertexBuffer3=N,d.enableAttributes(W,o);for(const oe of p)oe.enableAttributes(W,o);P&&P.enableAttributes(W,o),I&&I.enableAttributes(W,o),N&&N.enableAttributes(W,o),d.bind(),d.setVertexAttribPointers(W,o,b);for(const oe of p)oe.bind(),oe.setVertexAttribPointers(W,o,b);P&&(P.bind(),P.setVertexAttribPointers(W,o,b)),v&&v.bind(),I&&(I.bind(),I.setVertexAttribPointers(W,o,b)),N&&(N.bind(),N.setVertexAttribPointers(W,o,b)),G.currentNumAttributes=U}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}const X=(y,o,d,p,v)=>({u_matrix:y,u_texture:0,u_ele_delta:o,u_fog_matrix:d,u_fog_color:p?p.properties.get("fog-color"):s.aM.white,u_fog_ground_blend:p?p.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:p?p.calculateFogBlendOpacity(v):0,u_horizon_color:p?p.properties.get("horizon-color"):s.aM.white,u_horizon_fog_blend:p?p.properties.get("horizon-fog-blend"):1});function Ce(y){const o=[];for(let d=0;d<y.length;d++){if(y[d]===null)continue;const p=y[d].split(" ");o.push(p.pop())}return o}class Ge{constructor(o,d,p,v,b,P){const I=o.gl;this.program=I.createProgram();const N=Ce(d.staticAttributes),U=p?p.getBinderAttributes():[],G=N.concat(U),W=gs.prelude.staticUniforms?Ce(gs.prelude.staticUniforms):[],oe=d.staticUniforms?Ce(d.staticUniforms):[],le=p?p.getBinderUniforms():[],ie=W.concat(oe).concat(le),he=[];for(const Je of ie)he.indexOf(Je)<0&&he.push(Je);const Te=p?p.defines():[];b&&Te.push("#define OVERDRAW_INSPECTOR;"),P&&Te.push("#define TERRAIN3D;");const Ie=Te.concat(gs.prelude.fragmentSource,d.fragmentSource).join(`
`),De=Te.concat(gs.prelude.vertexSource,d.vertexSource).join(`
`),Le=I.createShader(I.FRAGMENT_SHADER);if(I.isContextLost())return void(this.failedToCreate=!0);if(I.shaderSource(Le,Ie),I.compileShader(Le),!I.getShaderParameter(Le,I.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${I.getShaderInfoLog(Le)}`);I.attachShader(this.program,Le);const Ue=I.createShader(I.VERTEX_SHADER);if(I.isContextLost())return void(this.failedToCreate=!0);if(I.shaderSource(Ue,De),I.compileShader(Ue),!I.getShaderParameter(Ue,I.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${I.getShaderInfoLog(Ue)}`);I.attachShader(this.program,Ue),this.attributes={};const tt={};this.numAttributes=G.length;for(let Je=0;Je<this.numAttributes;Je++)G[Je]&&(I.bindAttribLocation(this.program,Je,G[Je]),this.attributes[G[Je]]=Je);if(I.linkProgram(this.program),!I.getProgramParameter(this.program,I.LINK_STATUS))throw new Error(`Program failed to link: ${I.getProgramInfoLog(this.program)}`);I.deleteShader(Ue),I.deleteShader(Le);for(let Je=0;Je<he.length;Je++){const Pt=he[Je];if(Pt&&!tt[Pt]){const zt=I.getUniformLocation(this.program,Pt);zt&&(tt[Pt]=zt)}}this.fixedUniforms=v(o,tt),this.terrainUniforms=((Je,Pt)=>({u_depth:new s.aH(Je,Pt.u_depth),u_terrain:new s.aH(Je,Pt.u_terrain),u_terrain_dim:new s.aI(Je,Pt.u_terrain_dim),u_terrain_matrix:new s.aJ(Je,Pt.u_terrain_matrix),u_terrain_unpack:new s.aK(Je,Pt.u_terrain_unpack),u_terrain_exaggeration:new s.aI(Je,Pt.u_terrain_exaggeration)}))(o,tt),this.binderUniforms=p?p.getUniforms(o,tt):[]}draw(o,d,p,v,b,P,I,N,U,G,W,oe,le,ie,he,Te,Ie,De){const Le=o.gl;if(this.failedToCreate)return;if(o.program.set(this.program),o.setDepthMode(p),o.setStencilMode(v),o.setColorMode(b),o.setCullFace(P),N){o.activeTexture.set(Le.TEXTURE2),Le.bindTexture(Le.TEXTURE_2D,N.depthTexture),o.activeTexture.set(Le.TEXTURE3),Le.bindTexture(Le.TEXTURE_2D,N.texture);for(const tt in this.terrainUniforms)this.terrainUniforms[tt].set(N[tt])}for(const tt in this.fixedUniforms)this.fixedUniforms[tt].set(I[tt]);he&&he.setUniforms(o,this.binderUniforms,le,{zoom:ie});let Ue=0;switch(d){case Le.LINES:Ue=2;break;case Le.TRIANGLES:Ue=3;break;case Le.LINE_STRIP:Ue=1}for(const tt of oe.get()){const Je=tt.vaos||(tt.vaos={});(Je[U]||(Je[U]=new O)).bind(o,this,G,he?he.getPaintVertexBuffers():[],W,tt.vertexOffset,Te,Ie,De),Le.drawElements(d,tt.primitiveLength*Ue,Le.UNSIGNED_SHORT,tt.primitiveOffset*Ue*2)}}}function st(y,o,d){const p=1/hr(d,1,o.transform.tileZoom),v=Math.pow(2,d.tileID.overscaledZ),b=d.tileSize*Math.pow(2,o.transform.tileZoom)/v,P=b*(d.tileID.canonical.x+d.tileID.wrap*v),I=b*d.tileID.canonical.y;return{u_image:0,u_texsize:d.imageAtlasTexture.size,u_scale:[p,y.fromScale,y.toScale],u_fade:y.t,u_pixel_coord_upper:[P>>16,I>>16],u_pixel_coord_lower:[65535&P,65535&I]}}const dt=(y,o,d,p)=>{const v=o.style.light,b=v.properties.get("position"),P=[b.x,b.y,b.z],I=function(){var U=new s.A(9);return s.A!=Float32Array&&(U[1]=0,U[2]=0,U[3]=0,U[5]=0,U[6]=0,U[7]=0),U[0]=1,U[4]=1,U[8]=1,U}();v.properties.get("anchor")==="viewport"&&function(U,G){var W=Math.sin(G),oe=Math.cos(G);U[0]=oe,U[1]=W,U[2]=0,U[3]=-W,U[4]=oe,U[5]=0,U[6]=0,U[7]=0,U[8]=1}(I,-o.transform.angle),function(U,G,W){var oe=G[0],le=G[1],ie=G[2];U[0]=oe*W[0]+le*W[3]+ie*W[6],U[1]=oe*W[1]+le*W[4]+ie*W[7],U[2]=oe*W[2]+le*W[5]+ie*W[8]}(P,P,I);const N=v.properties.get("color");return{u_matrix:y,u_lightpos:P,u_lightintensity:v.properties.get("intensity"),u_lightcolor:[N.r,N.g,N.b],u_vertical_gradient:+d,u_opacity:p}},yt=(y,o,d,p,v,b,P)=>s.e(dt(y,o,d,p),st(b,o,P),{u_height_factor:-Math.pow(2,v.overscaledZ)/P.tileSize/8}),Xt=y=>({u_matrix:y}),tr=(y,o,d,p)=>s.e(Xt(y),st(d,o,p)),mr=(y,o)=>({u_matrix:y,u_world:o}),pr=(y,o,d,p,v)=>s.e(tr(y,o,d,p),{u_world:v}),dr=(y,o,d,p)=>{const v=y.transform;let b,P;if(p.paint.get("circle-pitch-alignment")==="map"){const I=hr(d,1,v.zoom);b=!0,P=[I,I]}else b=!1,P=v.pixelsToGLUnits;return{u_camera_to_center_distance:v.cameraToCenterDistance,u_scale_with_map:+(p.paint.get("circle-pitch-scale")==="map"),u_matrix:y.translatePosMatrix(o.posMatrix,d,p.paint.get("circle-translate"),p.paint.get("circle-translate-anchor")),u_pitch_with_map:+b,u_device_pixel_ratio:y.pixelRatio,u_extrude_scale:P}},Rr=(y,o,d)=>({u_matrix:y,u_inv_matrix:o,u_camera_to_center_distance:d.cameraToCenterDistance,u_viewport_size:[d.width,d.height]}),si=(y,o,d=1)=>({u_matrix:y,u_color:o,u_overlay:0,u_overlay_scale:d}),Gr=y=>({u_matrix:y}),Sr=(y,o,d,p)=>({u_matrix:y,u_extrude_scale:hr(o,1,d),u_intensity:p}),Ut=(y,o,d,p)=>{const v=s.H();s.aP(v,0,y.width,y.height,0,0,1);const b=y.context.gl;return{u_matrix:v,u_world:[b.drawingBufferWidth,b.drawingBufferHeight],u_image:d,u_color_ramp:p,u_opacity:o.paint.get("heatmap-opacity")}};function Dr(y,o){const d=Math.pow(2,o.canonical.z),p=o.canonical.y;return[new s.Z(0,p/d).toLngLat().lat,new s.Z(0,(p+1)/d).toLngLat().lat]}const Cn=(y,o,d,p)=>{const v=y.transform;return{u_matrix:mi(y,o,d,p),u_ratio:1/hr(o,1,v.zoom),u_device_pixel_ratio:y.pixelRatio,u_units_to_pixels:[1/v.pixelsToGLUnits[0],1/v.pixelsToGLUnits[1]]}},Gi=(y,o,d,p,v)=>s.e(Cn(y,o,d,v),{u_image:0,u_image_height:p}),pi=(y,o,d,p,v)=>{const b=y.transform,P=Ku(o,b);return{u_matrix:mi(y,o,d,v),u_texsize:o.imageAtlasTexture.size,u_ratio:1/hr(o,1,b.zoom),u_device_pixel_ratio:y.pixelRatio,u_image:0,u_scale:[P,p.fromScale,p.toScale],u_fade:p.t,u_units_to_pixels:[1/b.pixelsToGLUnits[0],1/b.pixelsToGLUnits[1]]}},Ll=(y,o,d,p,v,b)=>{const P=y.lineAtlas,I=Ku(o,y.transform),N=d.layout.get("line-cap")==="round",U=P.getDash(p.from,N),G=P.getDash(p.to,N),W=U.width*v.fromScale,oe=G.width*v.toScale;return s.e(Cn(y,o,d,b),{u_patternscale_a:[I/W,-U.height/2],u_patternscale_b:[I/oe,-G.height/2],u_sdfgamma:P.width/(256*Math.min(W,oe)*y.pixelRatio)/2,u_image:0,u_tex_y_a:U.y,u_tex_y_b:G.y,u_mix:v.t})};function Ku(y,o){return 1/hr(y,1,o.tileZoom)}function mi(y,o,d,p){return y.translatePosMatrix(p?p.posMatrix:o.tileID.posMatrix,o,d.paint.get("line-translate"),d.paint.get("line-translate-anchor"))}const pd=(y,o,d,p,v)=>{return{u_matrix:y,u_tl_parent:o,u_scale_parent:d,u_buffer_scale:1,u_fade_t:p.mix,u_opacity:p.opacity*v.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:v.paint.get("raster-brightness-min"),u_brightness_high:v.paint.get("raster-brightness-max"),u_saturation_factor:(P=v.paint.get("raster-saturation"),P>0?1-1/(1.001-P):-P),u_contrast_factor:(b=v.paint.get("raster-contrast"),b>0?1/(1-b):1+b),u_spin_weights:dh(v.paint.get("raster-hue-rotate"))};var b,P};function dh(y){y*=Math.PI/180;const o=Math.sin(y),d=Math.cos(y);return[(2*d+1)/3,(-Math.sqrt(3)*o-d+1)/3,(Math.sqrt(3)*o-d+1)/3]}const Ca=(y,o,d,p,v,b,P,I,N,U,G,W,oe,le)=>{const ie=P.transform;return{u_is_size_zoom_constant:+(y==="constant"||y==="source"),u_is_size_feature_constant:+(y==="constant"||y==="camera"),u_size_t:o?o.uSizeT:0,u_size:o?o.uSize:0,u_camera_to_center_distance:ie.cameraToCenterDistance,u_pitch:ie.pitch/360*2*Math.PI,u_rotate_symbol:+d,u_aspect_ratio:ie.width/ie.height,u_fade_change:P.options.fadeDuration?P.symbolFadeChange:1,u_matrix:I,u_label_plane_matrix:N,u_coord_matrix:U,u_is_text:+W,u_pitch_with_map:+p,u_is_along_line:v,u_is_variable_anchor:b,u_texsize:oe,u_texture:0,u_translation:G,u_pitched_scale:le}},Qa=(y,o,d,p,v,b,P,I,N,U,G,W,oe,le,ie)=>{const he=P.transform;return s.e(Ca(y,o,d,p,v,b,P,I,N,U,G,W,oe,ie),{u_gamma_scale:p?Math.cos(he._pitch)*he.cameraToCenterDistance:1,u_device_pixel_ratio:P.pixelRatio,u_is_halo:+le})},ys=(y,o,d,p,v,b,P,I,N,U,G,W,oe,le)=>s.e(Qa(y,o,d,p,v,b,P,I,N,U,G,!0,W,!0,le),{u_texsize_icon:oe,u_texture_icon:1}),pu=(y,o,d)=>({u_matrix:y,u_opacity:o,u_color:d}),vs=(y,o,d,p,v,b)=>s.e(function(P,I,N,U){const G=N.imageManager.getPattern(P.from.toString()),W=N.imageManager.getPattern(P.to.toString()),{width:oe,height:le}=N.imageManager.getPixelSize(),ie=Math.pow(2,U.tileID.overscaledZ),he=U.tileSize*Math.pow(2,N.transform.tileZoom)/ie,Te=he*(U.tileID.canonical.x+U.tileID.wrap*ie),Ie=he*U.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:G.tl,u_pattern_br_a:G.br,u_pattern_tl_b:W.tl,u_pattern_br_b:W.br,u_texsize:[oe,le],u_mix:I.t,u_pattern_size_a:G.displaySize,u_pattern_size_b:W.displaySize,u_scale_a:I.fromScale,u_scale_b:I.toScale,u_tile_units_to_pixels:1/hr(U,1,N.transform.tileZoom),u_pixel_coord_upper:[Te>>16,Ie>>16],u_pixel_coord_lower:[65535&Te,65535&Ie]}}(p,b,d,v),{u_matrix:y,u_opacity:o}),Ml={fillExtrusion:(y,o)=>({u_matrix:new s.aJ(y,o.u_matrix),u_lightpos:new s.aN(y,o.u_lightpos),u_lightintensity:new s.aI(y,o.u_lightintensity),u_lightcolor:new s.aN(y,o.u_lightcolor),u_vertical_gradient:new s.aI(y,o.u_vertical_gradient),u_opacity:new s.aI(y,o.u_opacity)}),fillExtrusionPattern:(y,o)=>({u_matrix:new s.aJ(y,o.u_matrix),u_lightpos:new s.aN(y,o.u_lightpos),u_lightintensity:new s.aI(y,o.u_lightintensity),u_lightcolor:new s.aN(y,o.u_lightcolor),u_vertical_gradient:new s.aI(y,o.u_vertical_gradient),u_height_factor:new s.aI(y,o.u_height_factor),u_image:new s.aH(y,o.u_image),u_texsize:new s.aO(y,o.u_texsize),u_pixel_coord_upper:new s.aO(y,o.u_pixel_coord_upper),u_pixel_coord_lower:new s.aO(y,o.u_pixel_coord_lower),u_scale:new s.aN(y,o.u_scale),u_fade:new s.aI(y,o.u_fade),u_opacity:new s.aI(y,o.u_opacity)}),fill:(y,o)=>({u_matrix:new s.aJ(y,o.u_matrix)}),fillPattern:(y,o)=>({u_matrix:new s.aJ(y,o.u_matrix),u_image:new s.aH(y,o.u_image),u_texsize:new s.aO(y,o.u_texsize),u_pixel_coord_upper:new s.aO(y,o.u_pixel_coord_upper),u_pixel_coord_lower:new s.aO(y,o.u_pixel_coord_lower),u_scale:new s.aN(y,o.u_scale),u_fade:new s.aI(y,o.u_fade)}),fillOutline:(y,o)=>({u_matrix:new s.aJ(y,o.u_matrix),u_world:new s.aO(y,o.u_world)}),fillOutlinePattern:(y,o)=>({u_matrix:new s.aJ(y,o.u_matrix),u_world:new s.aO(y,o.u_world),u_image:new s.aH(y,o.u_image),u_texsize:new s.aO(y,o.u_texsize),u_pixel_coord_upper:new s.aO(y,o.u_pixel_coord_upper),u_pixel_coord_lower:new s.aO(y,o.u_pixel_coord_lower),u_scale:new s.aN(y,o.u_scale),u_fade:new s.aI(y,o.u_fade)}),circle:(y,o)=>({u_camera_to_center_distance:new s.aI(y,o.u_camera_to_center_distance),u_scale_with_map:new s.aH(y,o.u_scale_with_map),u_pitch_with_map:new s.aH(y,o.u_pitch_with_map),u_extrude_scale:new s.aO(y,o.u_extrude_scale),u_device_pixel_ratio:new s.aI(y,o.u_device_pixel_ratio),u_matrix:new s.aJ(y,o.u_matrix)}),collisionBox:(y,o)=>({u_matrix:new s.aJ(y,o.u_matrix),u_pixel_extrude_scale:new s.aO(y,o.u_pixel_extrude_scale)}),collisionCircle:(y,o)=>({u_matrix:new s.aJ(y,o.u_matrix),u_inv_matrix:new s.aJ(y,o.u_inv_matrix),u_camera_to_center_distance:new s.aI(y,o.u_camera_to_center_distance),u_viewport_size:new s.aO(y,o.u_viewport_size)}),debug:(y,o)=>({u_color:new s.aL(y,o.u_color),u_matrix:new s.aJ(y,o.u_matrix),u_overlay:new s.aH(y,o.u_overlay),u_overlay_scale:new s.aI(y,o.u_overlay_scale)}),clippingMask:(y,o)=>({u_matrix:new s.aJ(y,o.u_matrix)}),heatmap:(y,o)=>({u_extrude_scale:new s.aI(y,o.u_extrude_scale),u_intensity:new s.aI(y,o.u_intensity),u_matrix:new s.aJ(y,o.u_matrix)}),heatmapTexture:(y,o)=>({u_matrix:new s.aJ(y,o.u_matrix),u_world:new s.aO(y,o.u_world),u_image:new s.aH(y,o.u_image),u_color_ramp:new s.aH(y,o.u_color_ramp),u_opacity:new s.aI(y,o.u_opacity)}),hillshade:(y,o)=>({u_matrix:new s.aJ(y,o.u_matrix),u_image:new s.aH(y,o.u_image),u_latrange:new s.aO(y,o.u_latrange),u_light:new s.aO(y,o.u_light),u_shadow:new s.aL(y,o.u_shadow),u_highlight:new s.aL(y,o.u_highlight),u_accent:new s.aL(y,o.u_accent)}),hillshadePrepare:(y,o)=>({u_matrix:new s.aJ(y,o.u_matrix),u_image:new s.aH(y,o.u_image),u_dimension:new s.aO(y,o.u_dimension),u_zoom:new s.aI(y,o.u_zoom),u_unpack:new s.aK(y,o.u_unpack)}),line:(y,o)=>({u_matrix:new s.aJ(y,o.u_matrix),u_ratio:new s.aI(y,o.u_ratio),u_device_pixel_ratio:new s.aI(y,o.u_device_pixel_ratio),u_units_to_pixels:new s.aO(y,o.u_units_to_pixels)}),lineGradient:(y,o)=>({u_matrix:new s.aJ(y,o.u_matrix),u_ratio:new s.aI(y,o.u_ratio),u_device_pixel_ratio:new s.aI(y,o.u_device_pixel_ratio),u_units_to_pixels:new s.aO(y,o.u_units_to_pixels),u_image:new s.aH(y,o.u_image),u_image_height:new s.aI(y,o.u_image_height)}),linePattern:(y,o)=>({u_matrix:new s.aJ(y,o.u_matrix),u_texsize:new s.aO(y,o.u_texsize),u_ratio:new s.aI(y,o.u_ratio),u_device_pixel_ratio:new s.aI(y,o.u_device_pixel_ratio),u_image:new s.aH(y,o.u_image),u_units_to_pixels:new s.aO(y,o.u_units_to_pixels),u_scale:new s.aN(y,o.u_scale),u_fade:new s.aI(y,o.u_fade)}),lineSDF:(y,o)=>({u_matrix:new s.aJ(y,o.u_matrix),u_ratio:new s.aI(y,o.u_ratio),u_device_pixel_ratio:new s.aI(y,o.u_device_pixel_ratio),u_units_to_pixels:new s.aO(y,o.u_units_to_pixels),u_patternscale_a:new s.aO(y,o.u_patternscale_a),u_patternscale_b:new s.aO(y,o.u_patternscale_b),u_sdfgamma:new s.aI(y,o.u_sdfgamma),u_image:new s.aH(y,o.u_image),u_tex_y_a:new s.aI(y,o.u_tex_y_a),u_tex_y_b:new s.aI(y,o.u_tex_y_b),u_mix:new s.aI(y,o.u_mix)}),raster:(y,o)=>({u_matrix:new s.aJ(y,o.u_matrix),u_tl_parent:new s.aO(y,o.u_tl_parent),u_scale_parent:new s.aI(y,o.u_scale_parent),u_buffer_scale:new s.aI(y,o.u_buffer_scale),u_fade_t:new s.aI(y,o.u_fade_t),u_opacity:new s.aI(y,o.u_opacity),u_image0:new s.aH(y,o.u_image0),u_image1:new s.aH(y,o.u_image1),u_brightness_low:new s.aI(y,o.u_brightness_low),u_brightness_high:new s.aI(y,o.u_brightness_high),u_saturation_factor:new s.aI(y,o.u_saturation_factor),u_contrast_factor:new s.aI(y,o.u_contrast_factor),u_spin_weights:new s.aN(y,o.u_spin_weights)}),symbolIcon:(y,o)=>({u_is_size_zoom_constant:new s.aH(y,o.u_is_size_zoom_constant),u_is_size_feature_constant:new s.aH(y,o.u_is_size_feature_constant),u_size_t:new s.aI(y,o.u_size_t),u_size:new s.aI(y,o.u_size),u_camera_to_center_distance:new s.aI(y,o.u_camera_to_center_distance),u_pitch:new s.aI(y,o.u_pitch),u_rotate_symbol:new s.aH(y,o.u_rotate_symbol),u_aspect_ratio:new s.aI(y,o.u_aspect_ratio),u_fade_change:new s.aI(y,o.u_fade_change),u_matrix:new s.aJ(y,o.u_matrix),u_label_plane_matrix:new s.aJ(y,o.u_label_plane_matrix),u_coord_matrix:new s.aJ(y,o.u_coord_matrix),u_is_text:new s.aH(y,o.u_is_text),u_pitch_with_map:new s.aH(y,o.u_pitch_with_map),u_is_along_line:new s.aH(y,o.u_is_along_line),u_is_variable_anchor:new s.aH(y,o.u_is_variable_anchor),u_texsize:new s.aO(y,o.u_texsize),u_texture:new s.aH(y,o.u_texture),u_translation:new s.aO(y,o.u_translation),u_pitched_scale:new s.aI(y,o.u_pitched_scale)}),symbolSDF:(y,o)=>({u_is_size_zoom_constant:new s.aH(y,o.u_is_size_zoom_constant),u_is_size_feature_constant:new s.aH(y,o.u_is_size_feature_constant),u_size_t:new s.aI(y,o.u_size_t),u_size:new s.aI(y,o.u_size),u_camera_to_center_distance:new s.aI(y,o.u_camera_to_center_distance),u_pitch:new s.aI(y,o.u_pitch),u_rotate_symbol:new s.aH(y,o.u_rotate_symbol),u_aspect_ratio:new s.aI(y,o.u_aspect_ratio),u_fade_change:new s.aI(y,o.u_fade_change),u_matrix:new s.aJ(y,o.u_matrix),u_label_plane_matrix:new s.aJ(y,o.u_label_plane_matrix),u_coord_matrix:new s.aJ(y,o.u_coord_matrix),u_is_text:new s.aH(y,o.u_is_text),u_pitch_with_map:new s.aH(y,o.u_pitch_with_map),u_is_along_line:new s.aH(y,o.u_is_along_line),u_is_variable_anchor:new s.aH(y,o.u_is_variable_anchor),u_texsize:new s.aO(y,o.u_texsize),u_texture:new s.aH(y,o.u_texture),u_gamma_scale:new s.aI(y,o.u_gamma_scale),u_device_pixel_ratio:new s.aI(y,o.u_device_pixel_ratio),u_is_halo:new s.aH(y,o.u_is_halo),u_translation:new s.aO(y,o.u_translation),u_pitched_scale:new s.aI(y,o.u_pitched_scale)}),symbolTextAndIcon:(y,o)=>({u_is_size_zoom_constant:new s.aH(y,o.u_is_size_zoom_constant),u_is_size_feature_constant:new s.aH(y,o.u_is_size_feature_constant),u_size_t:new s.aI(y,o.u_size_t),u_size:new s.aI(y,o.u_size),u_camera_to_center_distance:new s.aI(y,o.u_camera_to_center_distance),u_pitch:new s.aI(y,o.u_pitch),u_rotate_symbol:new s.aH(y,o.u_rotate_symbol),u_aspect_ratio:new s.aI(y,o.u_aspect_ratio),u_fade_change:new s.aI(y,o.u_fade_change),u_matrix:new s.aJ(y,o.u_matrix),u_label_plane_matrix:new s.aJ(y,o.u_label_plane_matrix),u_coord_matrix:new s.aJ(y,o.u_coord_matrix),u_is_text:new s.aH(y,o.u_is_text),u_pitch_with_map:new s.aH(y,o.u_pitch_with_map),u_is_along_line:new s.aH(y,o.u_is_along_line),u_is_variable_anchor:new s.aH(y,o.u_is_variable_anchor),u_texsize:new s.aO(y,o.u_texsize),u_texsize_icon:new s.aO(y,o.u_texsize_icon),u_texture:new s.aH(y,o.u_texture),u_texture_icon:new s.aH(y,o.u_texture_icon),u_gamma_scale:new s.aI(y,o.u_gamma_scale),u_device_pixel_ratio:new s.aI(y,o.u_device_pixel_ratio),u_is_halo:new s.aH(y,o.u_is_halo),u_translation:new s.aO(y,o.u_translation),u_pitched_scale:new s.aI(y,o.u_pitched_scale)}),background:(y,o)=>({u_matrix:new s.aJ(y,o.u_matrix),u_opacity:new s.aI(y,o.u_opacity),u_color:new s.aL(y,o.u_color)}),backgroundPattern:(y,o)=>({u_matrix:new s.aJ(y,o.u_matrix),u_opacity:new s.aI(y,o.u_opacity),u_image:new s.aH(y,o.u_image),u_pattern_tl_a:new s.aO(y,o.u_pattern_tl_a),u_pattern_br_a:new s.aO(y,o.u_pattern_br_a),u_pattern_tl_b:new s.aO(y,o.u_pattern_tl_b),u_pattern_br_b:new s.aO(y,o.u_pattern_br_b),u_texsize:new s.aO(y,o.u_texsize),u_mix:new s.aI(y,o.u_mix),u_pattern_size_a:new s.aO(y,o.u_pattern_size_a),u_pattern_size_b:new s.aO(y,o.u_pattern_size_b),u_scale_a:new s.aI(y,o.u_scale_a),u_scale_b:new s.aI(y,o.u_scale_b),u_pixel_coord_upper:new s.aO(y,o.u_pixel_coord_upper),u_pixel_coord_lower:new s.aO(y,o.u_pixel_coord_lower),u_tile_units_to_pixels:new s.aI(y,o.u_tile_units_to_pixels)}),terrain:(y,o)=>({u_matrix:new s.aJ(y,o.u_matrix),u_texture:new s.aH(y,o.u_texture),u_ele_delta:new s.aI(y,o.u_ele_delta),u_fog_matrix:new s.aJ(y,o.u_fog_matrix),u_fog_color:new s.aL(y,o.u_fog_color),u_fog_ground_blend:new s.aI(y,o.u_fog_ground_blend),u_fog_ground_blend_opacity:new s.aI(y,o.u_fog_ground_blend_opacity),u_horizon_color:new s.aL(y,o.u_horizon_color),u_horizon_fog_blend:new s.aI(y,o.u_horizon_fog_blend)}),terrainDepth:(y,o)=>({u_matrix:new s.aJ(y,o.u_matrix),u_ele_delta:new s.aI(y,o.u_ele_delta)}),terrainCoords:(y,o)=>({u_matrix:new s.aJ(y,o.u_matrix),u_texture:new s.aH(y,o.u_texture),u_terrain_coords_id:new s.aI(y,o.u_terrain_coords_id),u_ele_delta:new s.aI(y,o.u_ele_delta)}),sky:(y,o)=>({u_sky_color:new s.aL(y,o.u_sky_color),u_horizon_color:new s.aL(y,o.u_horizon_color),u_horizon:new s.aI(y,o.u_horizon),u_sky_horizon_blend:new s.aI(y,o.u_sky_horizon_blend)})};class Zo{constructor(o,d,p){this.context=o;const v=o.gl;this.buffer=v.createBuffer(),this.dynamicDraw=!!p,this.context.unbindVAO(),o.bindElementBuffer.set(this.buffer),v.bufferData(v.ELEMENT_ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?v.DYNAMIC_DRAW:v.STATIC_DRAW),this.dynamicDraw||delete d.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(o){const d=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,0,o.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const md={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Xu{constructor(o,d,p,v){this.length=d.length,this.attributes=p,this.itemSize=d.bytesPerElement,this.dynamicDraw=v,this.context=o;const b=o.gl;this.buffer=b.createBuffer(),o.bindVertexBuffer.set(this.buffer),b.bufferData(b.ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?b.DYNAMIC_DRAW:b.STATIC_DRAW),this.dynamicDraw||delete d.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(o){if(o.length!==this.length)throw new Error(`Length of new data is ${o.length}, which doesn't match current length of ${this.length}`);const d=this.context.gl;this.bind(),d.bufferSubData(d.ARRAY_BUFFER,0,o.arrayBuffer)}enableAttributes(o,d){for(let p=0;p<this.attributes.length;p++){const v=d.attributes[this.attributes[p].name];v!==void 0&&o.enableVertexAttribArray(v)}}setVertexAttribPointers(o,d,p){for(let v=0;v<this.attributes.length;v++){const b=this.attributes[v],P=d.attributes[b.name];P!==void 0&&o.vertexAttribPointer(P,b.components,o[md[b.type]],!1,this.itemSize,b.offset+this.itemSize*(p||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Fs=new WeakMap;function es(y){var o;if(Fs.has(y))return Fs.get(y);{const d=(o=y.getParameter(y.VERSION))===null||o===void 0?void 0:o.startsWith("WebGL 2.0");return Fs.set(y,d),d}}class En{constructor(o){this.gl=o.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(o){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class ts extends En{getDefault(){return s.aM.transparent}set(o){const d=this.current;(o.r!==d.r||o.g!==d.g||o.b!==d.b||o.a!==d.a||this.dirty)&&(this.gl.clearColor(o.r,o.g,o.b,o.a),this.current=o,this.dirty=!1)}}class hh extends En{getDefault(){return 1}set(o){(o!==this.current||this.dirty)&&(this.gl.clearDepth(o),this.current=o,this.dirty=!1)}}class Ua extends En{getDefault(){return 0}set(o){(o!==this.current||this.dirty)&&(this.gl.clearStencil(o),this.current=o,this.dirty=!1)}}class Ea extends En{getDefault(){return[!0,!0,!0,!0]}set(o){const d=this.current;(o[0]!==d[0]||o[1]!==d[1]||o[2]!==d[2]||o[3]!==d[3]||this.dirty)&&(this.gl.colorMask(o[0],o[1],o[2],o[3]),this.current=o,this.dirty=!1)}}class Rl extends En{getDefault(){return!0}set(o){(o!==this.current||this.dirty)&&(this.gl.depthMask(o),this.current=o,this.dirty=!1)}}class Dl extends En{getDefault(){return 255}set(o){(o!==this.current||this.dirty)&&(this.gl.stencilMask(o),this.current=o,this.dirty=!1)}}class Va extends En{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(o){const d=this.current;(o.func!==d.func||o.ref!==d.ref||o.mask!==d.mask||this.dirty)&&(this.gl.stencilFunc(o.func,o.ref,o.mask),this.current=o,this.dirty=!1)}}class hl extends En{getDefault(){const o=this.gl;return[o.KEEP,o.KEEP,o.KEEP]}set(o){const d=this.current;(o[0]!==d[0]||o[1]!==d[1]||o[2]!==d[2]||this.dirty)&&(this.gl.stencilOp(o[0],o[1],o[2]),this.current=o,this.dirty=!1)}}class Lc extends En{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const d=this.gl;o?d.enable(d.STENCIL_TEST):d.disable(d.STENCIL_TEST),this.current=o,this.dirty=!1}}class Zu extends En{getDefault(){return[0,1]}set(o){const d=this.current;(o[0]!==d[0]||o[1]!==d[1]||this.dirty)&&(this.gl.depthRange(o[0],o[1]),this.current=o,this.dirty=!1)}}class mu extends En{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const d=this.gl;o?d.enable(d.DEPTH_TEST):d.disable(d.DEPTH_TEST),this.current=o,this.dirty=!1}}class Ol extends En{getDefault(){return this.gl.LESS}set(o){(o!==this.current||this.dirty)&&(this.gl.depthFunc(o),this.current=o,this.dirty=!1)}}class qa extends En{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const d=this.gl;o?d.enable(d.BLEND):d.disable(d.BLEND),this.current=o,this.dirty=!1}}class gu extends En{getDefault(){const o=this.gl;return[o.ONE,o.ZERO]}set(o){const d=this.current;(o[0]!==d[0]||o[1]!==d[1]||this.dirty)&&(this.gl.blendFunc(o[0],o[1]),this.current=o,this.dirty=!1)}}class Mc extends En{getDefault(){return s.aM.transparent}set(o){const d=this.current;(o.r!==d.r||o.g!==d.g||o.b!==d.b||o.a!==d.a||this.dirty)&&(this.gl.blendColor(o.r,o.g,o.b,o.a),this.current=o,this.dirty=!1)}}class bs extends En{getDefault(){return this.gl.FUNC_ADD}set(o){(o!==this.current||this.dirty)&&(this.gl.blendEquation(o),this.current=o,this.dirty=!1)}}class Nl extends En{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const d=this.gl;o?d.enable(d.CULL_FACE):d.disable(d.CULL_FACE),this.current=o,this.dirty=!1}}class Yu extends En{getDefault(){return this.gl.BACK}set(o){(o!==this.current||this.dirty)&&(this.gl.cullFace(o),this.current=o,this.dirty=!1)}}class $s extends En{getDefault(){return this.gl.CCW}set(o){(o!==this.current||this.dirty)&&(this.gl.frontFace(o),this.current=o,this.dirty=!1)}}class yu extends En{getDefault(){return null}set(o){(o!==this.current||this.dirty)&&(this.gl.useProgram(o),this.current=o,this.dirty=!1)}}class rs extends En{getDefault(){return this.gl.TEXTURE0}set(o){(o!==this.current||this.dirty)&&(this.gl.activeTexture(o),this.current=o,this.dirty=!1)}}class Fl extends En{getDefault(){const o=this.gl;return[0,0,o.drawingBufferWidth,o.drawingBufferHeight]}set(o){const d=this.current;(o[0]!==d[0]||o[1]!==d[1]||o[2]!==d[2]||o[3]!==d[3]||this.dirty)&&(this.gl.viewport(o[0],o[1],o[2],o[3]),this.current=o,this.dirty=!1)}}class j extends En{getDefault(){return null}set(o){if(o===this.current&&!this.dirty)return;const d=this.gl;d.bindFramebuffer(d.FRAMEBUFFER,o),this.current=o,this.dirty=!1}}class be extends En{getDefault(){return null}set(o){if(o===this.current&&!this.dirty)return;const d=this.gl;d.bindRenderbuffer(d.RENDERBUFFER,o),this.current=o,this.dirty=!1}}class qe extends En{getDefault(){return null}set(o){if(o===this.current&&!this.dirty)return;const d=this.gl;d.bindTexture(d.TEXTURE_2D,o),this.current=o,this.dirty=!1}}class ht extends En{getDefault(){return null}set(o){if(o===this.current&&!this.dirty)return;const d=this.gl;d.bindBuffer(d.ARRAY_BUFFER,o),this.current=o,this.dirty=!1}}class xt extends En{getDefault(){return null}set(o){const d=this.gl;d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,o),this.current=o,this.dirty=!1}}class Nt extends En{getDefault(){return null}set(o){var d;if(o===this.current&&!this.dirty)return;const p=this.gl;es(p)?p.bindVertexArray(o):(d=p.getExtension("OES_vertex_array_object"))===null||d===void 0||d.bindVertexArrayOES(o),this.current=o,this.dirty=!1}}class ir extends En{getDefault(){return 4}set(o){if(o===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_ALIGNMENT,o),this.current=o,this.dirty=!1}}class Pr extends En{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o),this.current=o,this.dirty=!1}}class Yr extends En{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,o),this.current=o,this.dirty=!1}}class fn extends En{constructor(o,d){super(o),this.context=o,this.parent=d}getDefault(){return null}}class pn extends fn{setDirty(){this.dirty=!0}set(o){if(o===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,o,0),this.current=o,this.dirty=!1}}class mn extends fn{set(o){if(o===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_ATTACHMENT,d.RENDERBUFFER,o),this.current=o,this.dirty=!1}}class Xn extends fn{set(o){if(o===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_STENCIL_ATTACHMENT,d.RENDERBUFFER,o),this.current=o,this.dirty=!1}}class Ai{constructor(o,d,p,v,b){this.context=o,this.width=d,this.height=p;const P=o.gl,I=this.framebuffer=P.createFramebuffer();if(this.colorAttachment=new pn(o,I),v)this.depthAttachment=b?new Xn(o,I):new mn(o,I);else if(b)throw new Error("Stencil cannot be set without depth");if(P.checkFramebufferStatus(P.FRAMEBUFFER)!==P.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const o=this.context.gl,d=this.colorAttachment.get();if(d&&o.deleteTexture(d),this.depthAttachment){const p=this.depthAttachment.get();p&&o.deleteRenderbuffer(p)}o.deleteFramebuffer(this.framebuffer)}}class gn{constructor(o,d,p){this.blendFunction=o,this.blendColor=d,this.mask=p}}gn.Replace=[1,0],gn.disabled=new gn(gn.Replace,s.aM.transparent,[!1,!1,!1,!1]),gn.unblended=new gn(gn.Replace,s.aM.transparent,[!0,!0,!0,!0]),gn.alphaBlended=new gn([1,771],s.aM.transparent,[!0,!0,!0,!0]);class Yo{constructor(o){var d,p;if(this.gl=o,this.clearColor=new ts(this),this.clearDepth=new hh(this),this.clearStencil=new Ua(this),this.colorMask=new Ea(this),this.depthMask=new Rl(this),this.stencilMask=new Dl(this),this.stencilFunc=new Va(this),this.stencilOp=new hl(this),this.stencilTest=new Lc(this),this.depthRange=new Zu(this),this.depthTest=new mu(this),this.depthFunc=new Ol(this),this.blend=new qa(this),this.blendFunc=new gu(this),this.blendColor=new Mc(this),this.blendEquation=new bs(this),this.cullFace=new Nl(this),this.cullFaceSide=new Yu(this),this.frontFace=new $s(this),this.program=new yu(this),this.activeTexture=new rs(this),this.viewport=new Fl(this),this.bindFramebuffer=new j(this),this.bindRenderbuffer=new be(this),this.bindTexture=new qe(this),this.bindVertexBuffer=new ht(this),this.bindElementBuffer=new xt(this),this.bindVertexArray=new Nt(this),this.pixelStoreUnpack=new ir(this),this.pixelStoreUnpackPremultiplyAlpha=new Pr(this),this.pixelStoreUnpackFlipY=new Yr(this),this.extTextureFilterAnisotropic=o.getExtension("EXT_texture_filter_anisotropic")||o.getExtension("MOZ_EXT_texture_filter_anisotropic")||o.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=o.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=o.getParameter(o.MAX_TEXTURE_SIZE),es(o)){this.HALF_FLOAT=o.HALF_FLOAT;const v=o.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(d=o.RGBA16F)!==null&&d!==void 0?d:v==null?void 0:v.RGBA16F_EXT,this.RGB16F=(p=o.RGB16F)!==null&&p!==void 0?p:v==null?void 0:v.RGB16F_EXT,o.getExtension("EXT_color_buffer_float")}else{o.getExtension("EXT_color_buffer_half_float"),o.getExtension("OES_texture_half_float_linear");const v=o.getExtension("OES_texture_half_float");this.HALF_FLOAT=v==null?void 0:v.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(o,d){return new Zo(this,o,d)}createVertexBuffer(o,d,p){return new Xu(this,o,d,p)}createRenderbuffer(o,d,p){const v=this.gl,b=v.createRenderbuffer();return this.bindRenderbuffer.set(b),v.renderbufferStorage(v.RENDERBUFFER,o,d,p),this.bindRenderbuffer.set(null),b}createFramebuffer(o,d,p,v){return new Ai(this,o,d,p,v)}clear({color:o,depth:d,stencil:p}){const v=this.gl;let b=0;o&&(b|=v.COLOR_BUFFER_BIT,this.clearColor.set(o),this.colorMask.set([!0,!0,!0,!0])),d!==void 0&&(b|=v.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(d),this.depthMask.set(!0)),p!==void 0&&(b|=v.STENCIL_BUFFER_BIT,this.clearStencil.set(p),this.stencilMask.set(255)),v.clear(b)}setCullFace(o){o.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(o.mode),this.frontFace.set(o.frontFace))}setDepthMode(o){o.func!==this.gl.ALWAYS||o.mask?(this.depthTest.set(!0),this.depthFunc.set(o.func),this.depthMask.set(o.mask),this.depthRange.set(o.range)):this.depthTest.set(!1)}setStencilMode(o){o.test.func!==this.gl.ALWAYS||o.mask?(this.stencilTest.set(!0),this.stencilMask.set(o.mask),this.stencilOp.set([o.fail,o.depthFail,o.pass]),this.stencilFunc.set({func:o.test.func,ref:o.ref,mask:o.test.mask})):this.stencilTest.set(!1)}setColorMode(o){s.aE(o.blendFunction,gn.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(o.blendFunction),this.blendColor.set(o.blendColor)),this.colorMask.set(o.mask)}createVertexArray(){var o;return es(this.gl)?this.gl.createVertexArray():(o=this.gl.getExtension("OES_vertex_array_object"))===null||o===void 0?void 0:o.createVertexArrayOES()}deleteVertexArray(o){var d;return es(this.gl)?this.gl.deleteVertexArray(o):(d=this.gl.getExtension("OES_vertex_array_object"))===null||d===void 0?void 0:d.deleteVertexArrayOES(o)}unbindVAO(){this.bindVertexArray.set(null)}}class qr{constructor(o,d,p){this.func=o,this.mask=d,this.range=p}}qr.ReadOnly=!1,qr.ReadWrite=!0,qr.disabled=new qr(519,qr.ReadOnly,[0,1]);const Po=7680;class Tn{constructor(o,d,p,v,b,P){this.test=o,this.ref=d,this.mask=p,this.fail=v,this.depthFail=b,this.pass=P}}Tn.disabled=new Tn({func:519,mask:0},0,0,Po,Po,Po);class Fn{constructor(o,d,p){this.enable=o,this.mode=d,this.frontFace=p}}let Bs;function fl(y,o,d,p,v){const b=y.context,P=b.gl,I=y.useProgram("collisionBox"),N=[];let U=0,G=0;for(let Ie=0;Ie<p.length;Ie++){const De=p[Ie],Le=o.getTile(De).getBucket(d);if(!Le)continue;const Ue=v?Le.textCollisionBox:Le.iconCollisionBox,tt=Le.collisionCircleArray;if(tt.length>0){const Je=s.H();s.aQ(Je,Le.placementInvProjMatrix,y.transform.glCoordMatrix),s.aQ(Je,Je,Le.placementViewportMatrix),N.push({circleArray:tt,circleOffset:G,transform:De.posMatrix,invTransform:Je,coord:De}),U+=tt.length/4,G=U}Ue&&I.draw(b,P.LINES,qr.disabled,Tn.disabled,y.colorModeForRenderPass(),Fn.disabled,{u_matrix:De.posMatrix,u_pixel_extrude_scale:[1/(W=y.transform).width,1/W.height]},y.style.map.terrain&&y.style.map.terrain.getTerrainData(De),d.id,Ue.layoutVertexBuffer,Ue.indexBuffer,Ue.segments,null,y.transform.zoom,null,null,Ue.collisionVertexBuffer)}var W;if(!v||!N.length)return;const oe=y.useProgram("collisionCircle"),le=new s.aR;le.resize(4*U),le._trim();let ie=0;for(const Ie of N)for(let De=0;De<Ie.circleArray.length/4;De++){const Le=4*De,Ue=Ie.circleArray[Le+0],tt=Ie.circleArray[Le+1],Je=Ie.circleArray[Le+2],Pt=Ie.circleArray[Le+3];le.emplace(ie++,Ue,tt,Je,Pt,0),le.emplace(ie++,Ue,tt,Je,Pt,1),le.emplace(ie++,Ue,tt,Je,Pt,2),le.emplace(ie++,Ue,tt,Je,Pt,3)}(!Bs||Bs.length<2*U)&&(Bs=function(Ie){const De=2*Ie,Le=new s.aT;Le.resize(De),Le._trim();for(let Ue=0;Ue<De;Ue++){const tt=6*Ue;Le.uint16[tt+0]=4*Ue+0,Le.uint16[tt+1]=4*Ue+1,Le.uint16[tt+2]=4*Ue+2,Le.uint16[tt+3]=4*Ue+2,Le.uint16[tt+4]=4*Ue+3,Le.uint16[tt+5]=4*Ue+0}return Le}(U));const he=b.createIndexBuffer(Bs,!0),Te=b.createVertexBuffer(le,s.aS.members,!0);for(const Ie of N){const De=Rr(Ie.transform,Ie.invTransform,y.transform);oe.draw(b,P.TRIANGLES,qr.disabled,Tn.disabled,y.colorModeForRenderPass(),Fn.disabled,De,y.style.map.terrain&&y.style.map.terrain.getTerrainData(Ie.coord),d.id,Te,he,s.a0.simpleSegment(0,2*Ie.circleOffset,Ie.circleArray.length,Ie.circleArray.length/2),null,y.transform.zoom,null,null,null)}Te.destroy(),he.destroy()}Fn.disabled=new Fn(!1,1029,2305),Fn.backCCW=new Fn(!0,1029,2305);const zs=s.an(new Float32Array(16));function pl(y,o,d,p,v,b){const{horizontalAlign:P,verticalAlign:I}=s.au(y);return new s.P((-(P-.5)*o/v+p[0])*b,(-(I-.5)*d/v+p[1])*b)}function Aa(y,o,d,p,v,b){const P=o.tileAnchorPoint.add(new s.P(o.translation[0],o.translation[1]));if(o.pitchWithMap){let I=p.mult(b);d||(I=I.rotate(-v));const N=P.add(I);return je(N.x,N.y,o.labelPlaneMatrix,o.getElevation).point}if(d){const I=Be(o.tileAnchorPoint.x+1,o.tileAnchorPoint.y,o).point.sub(y),N=Math.atan(I.y/I.x)+(I.x<0?Math.PI:0);return y.add(p.rotate(N))}return y.add(p)}function da(y,o,d,p,v,b,P,I,N,U,G,W,oe,le){const ie=y.text.placedSymbolArray,he=y.text.dynamicLayoutVertexArray,Te=y.icon.dynamicLayoutVertexArray,Ie={};he.clear();for(let De=0;De<ie.length;De++){const Le=ie.get(De),Ue=Le.hidden||!Le.crossTileID||y.allowVerticalPlacement&&!Le.placedOrientation?null:p[Le.crossTileID];if(Ue){const tt=new s.P(Le.anchorX,Le.anchorY),Je={getElevation:le,width:v.width,height:v.height,labelPlaneMatrix:b,lineVertexArray:null,pitchWithMap:d,projection:G,projectionCache:null,tileAnchorPoint:tt,translation:W,unwrappedTileID:oe},Pt=d?je(tt.x,tt.y,P,le):Be(tt.x,tt.y,Je),zt=se(v.cameraToCenterDistance,Pt.signedDistanceFromCamera);let Ht=s.ai(y.textSizeData,N,Le)*zt/s.ap;d&&(Ht*=y.tilePixelRatio/I);const{width:Zt,height:Kt,anchor:Wt,textOffset:er,textBoxScale:Nr}=Ue,or=pl(Wt,Zt,Kt,er,Nr,Ht),ar=G.getPitchedTextCorrection(v,tt.add(new s.P(W[0],W[1])),oe),jr=Aa(Pt.point,Je,o,or,v.angle,ar),on=y.allowVerticalPlacement&&Le.placedOrientation===s.ah.vertical?Math.PI/2:0;for(let en=0;en<Le.numGlyphs;en++)s.aj(he,jr,on);U&&Le.associatedIconIndex>=0&&(Ie[Le.associatedIconIndex]={shiftedAnchor:jr,angle:on})}else Ot(Le.numGlyphs,he)}if(U){Te.clear();const De=y.icon.placedSymbolArray;for(let Le=0;Le<De.length;Le++){const Ue=De.get(Le);if(Ue.hidden)Ot(Ue.numGlyphs,Te);else{const tt=Ie[Le];if(tt)for(let Je=0;Je<Ue.numGlyphs;Je++)s.aj(Te,tt.shiftedAnchor,tt.angle);else Ot(Ue.numGlyphs,Te)}}y.icon.dynamicLayoutVertexBuffer.updateData(Te)}y.text.dynamicLayoutVertexBuffer.updateData(he)}function Bo(y,o,d){return d.iconsInText&&o?"symbolTextAndIcon":y?"symbolSDF":"symbolIcon"}function Oi(y,o,d,p,v,b,P,I,N,U,G,W){const oe=y.context,le=oe.gl,ie=y.transform,he=Rn(),Te=I==="map",Ie=N==="map",De=I!=="viewport"&&d.layout.get("symbol-placement")!=="point",Le=Te&&!Ie&&!De,Ue=!Ie&&De,tt=!d.layout.get("symbol-sort-key").isConstant();let Je=!1;const Pt=y.depthModeForSublayer(0,qr.ReadOnly),zt=d._unevaluatedLayout.hasValue("text-variable-anchor")||d._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Ht=[],Zt=he.getCircleRadiusCorrection(ie);for(const Kt of p){const Wt=o.getTile(Kt),er=Wt.getBucket(d);if(!er)continue;const Nr=v?er.text:er.icon;if(!Nr||!Nr.segments.get().length||!Nr.hasVisibleVertices)continue;const or=Nr.programConfigurations.get(d.id),ar=v||er.sdfIcons,jr=v?er.textSizeData:er.iconSizeData,on=Ie||ie.pitch!==0,en=y.useProgram(Bo(ar,v,er),or),dn=s.ag(jr,ie.zoom),An=y.style.map.terrain&&y.style.map.terrain.getTerrainData(Kt);let ri,$i,jn,no,ni=[0,0],Xi=null;if(v)$i=Wt.glyphAtlasTexture,jn=le.LINEAR,ri=Wt.glyphAtlasTexture.size,er.iconsInText&&(ni=Wt.imageAtlasTexture.size,Xi=Wt.imageAtlasTexture,no=on||y.options.rotating||y.options.zooming||jr.kind==="composite"||jr.kind==="camera"?le.LINEAR:le.NEAREST);else{const Bn=d.layout.get("icon-size").constantOr(0)!==1||er.iconsNeedLinear;$i=Wt.imageAtlasTexture,jn=ar||y.options.rotating||y.options.zooming||Bn||on?le.LINEAR:le.NEAREST,ri=Wt.imageAtlasTexture.size}const vo=hr(Wt,1,y.transform.zoom),Ga=Ue?Kt.posMatrix:zs,Cs=hi(Ga,Ie,Te,y.transform,vo),Bi=Vn(Ga,Ie,Te,y.transform,vo),tc=Vn(Kt.posMatrix,Ie,Te,y.transform,vo),Es=he.translatePosition(y.transform,Wt,b,P),_h=zt&&er.hasTextData(),Sd=d.layout.get("icon-text-fit")!=="none"&&_h&&er.hasIconData();if(De){const Bn=y.style.map.terrain?(rc,xu)=>y.style.map.terrain.getElevation(Kt,rc,xu):null,ql=d.layout.get("text-rotation-alignment")==="map";Pe(er,Kt.posMatrix,y,v,Cs,tc,Ie,U,ql,he,Kt.toUnwrapped(),ie.width,ie.height,Es,Bn)}const ka=Kt.posMatrix,Ka=v&&zt||Sd,ea=De||Ka?zs:Cs,Ia=Bi,uo=ar&&d.paint.get(v?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let pa;pa=ar?er.iconsInText?ys(jr.kind,dn,Le,Ie,De,Ka,y,ka,ea,Ia,Es,ri,ni,Zt):Qa(jr.kind,dn,Le,Ie,De,Ka,y,ka,ea,Ia,Es,v,ri,!0,Zt):Ca(jr.kind,dn,Le,Ie,De,Ka,y,ka,ea,Ia,Es,v,ri,Zt);const La={program:en,buffers:Nr,uniformValues:pa,atlasTexture:$i,atlasTextureIcon:Xi,atlasInterpolation:jn,atlasInterpolationIcon:no,isSDF:ar,hasHalo:uo};if(tt&&er.canOverlap){Je=!0;const Bn=Nr.segments.get();for(const ql of Bn)Ht.push({segments:new s.a0([ql]),sortKey:ql.sortKey,state:La,terrainData:An})}else Ht.push({segments:Nr.segments,sortKey:0,state:La,terrainData:An})}Je&&Ht.sort((Kt,Wt)=>Kt.sortKey-Wt.sortKey);for(const Kt of Ht){const Wt=Kt.state;if(oe.activeTexture.set(le.TEXTURE0),Wt.atlasTexture.bind(Wt.atlasInterpolation,le.CLAMP_TO_EDGE),Wt.atlasTextureIcon&&(oe.activeTexture.set(le.TEXTURE1),Wt.atlasTextureIcon&&Wt.atlasTextureIcon.bind(Wt.atlasInterpolationIcon,le.CLAMP_TO_EDGE)),Wt.isSDF){const er=Wt.uniformValues;Wt.hasHalo&&(er.u_is_halo=1,$l(Wt.buffers,Kt.segments,d,y,Wt.program,Pt,G,W,er,Kt.terrainData)),er.u_is_halo=0}$l(Wt.buffers,Kt.segments,d,y,Wt.program,Pt,G,W,Wt.uniformValues,Kt.terrainData)}}function $l(y,o,d,p,v,b,P,I,N,U){const G=p.context;v.draw(G,G.gl.TRIANGLES,b,P,I,Fn.disabled,N,U,d.id,y.layoutVertexBuffer,y.indexBuffer,o,d.paint,p.transform.zoom,y.programConfigurations.get(d.id),y.dynamicLayoutVertexBuffer,y.opacityVertexBuffer)}function Ta(y,o,d,p){const v=y.context,b=v.gl,P=Tn.disabled,I=new gn([b.ONE,b.ONE],s.aM.transparent,[!0,!0,!0,!0]),N=o.getBucket(d);if(!N)return;const U=p.key;let G=d.heatmapFbos.get(U);G||(G=ml(v,o.tileSize,o.tileSize),d.heatmapFbos.set(U,G)),v.bindFramebuffer.set(G.framebuffer),v.viewport.set([0,0,o.tileSize,o.tileSize]),v.clear({color:s.aM.transparent});const W=N.programConfigurations.get(d.id),oe=y.useProgram("heatmap",W),le=y.style.map.terrain.getTerrainData(p);oe.draw(v,b.TRIANGLES,qr.disabled,P,I,Fn.disabled,Sr(p.posMatrix,o,y.transform.zoom,d.paint.get("heatmap-intensity")),le,d.id,N.layoutVertexBuffer,N.indexBuffer,N.segments,d.paint,y.transform.zoom,W)}function Ha(y,o,d){const p=y.context,v=p.gl;p.setColorMode(y.colorModeForRenderPass());const b=to(p,o),P=d.key,I=o.heatmapFbos.get(P);I&&(p.activeTexture.set(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,I.colorAttachment.get()),p.activeTexture.set(v.TEXTURE1),b.bind(v.LINEAR,v.CLAMP_TO_EDGE),y.useProgram("heatmapTexture").draw(p,v.TRIANGLES,qr.disabled,Tn.disabled,y.colorModeForRenderPass(),Fn.disabled,Ut(y,o,0,1),null,o.id,y.rasterBoundsBuffer,y.quadTriangleIndexBuffer,y.rasterBoundsSegments,o.paint,y.transform.zoom),I.destroy(),o.heatmapFbos.delete(P))}function ml(y,o,d){var p,v;const b=y.gl,P=b.createTexture();b.bindTexture(b.TEXTURE_2D,P),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.LINEAR);const I=(p=y.HALF_FLOAT)!==null&&p!==void 0?p:b.UNSIGNED_BYTE,N=(v=y.RGBA16F)!==null&&v!==void 0?v:b.RGBA;b.texImage2D(b.TEXTURE_2D,0,N,o,d,0,b.RGBA,I,null);const U=y.createFramebuffer(o,d,!1,!1);return U.colorAttachment.set(P),U}function to(y,o){return o.colorRampTexture||(o.colorRampTexture=new Z(y,o.colorRamp,y.gl.RGBA)),o.colorRampTexture}function js(y,o,d,p,v){if(!d||!p||!p.imageAtlas)return;const b=p.imageAtlas.patternPositions;let P=b[d.to.toString()],I=b[d.from.toString()];if(!P&&I&&(P=I),!I&&P&&(I=P),!P||!I){const N=v.getPaintProperty(o);P=b[N],I=b[N]}P&&I&&y.setConstantPatternPositions(P,I)}function Us(y,o,d,p,v,b,P){const I=y.context.gl,N="fill-pattern",U=d.paint.get(N),G=U&&U.constantOr(1),W=d.getCrossfadeParameters();let oe,le,ie,he,Te;P?(le=G&&!d.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",oe=I.LINES):(le=G?"fillPattern":"fill",oe=I.TRIANGLES);const Ie=U.constantOr(null);for(const De of p){const Le=o.getTile(De);if(G&&!Le.patternsLoaded())continue;const Ue=Le.getBucket(d);if(!Ue)continue;const tt=Ue.programConfigurations.get(d.id),Je=y.useProgram(le,tt),Pt=y.style.map.terrain&&y.style.map.terrain.getTerrainData(De);G&&(y.context.activeTexture.set(I.TEXTURE0),Le.imageAtlasTexture.bind(I.LINEAR,I.CLAMP_TO_EDGE),tt.updatePaintBuffers(W)),js(tt,N,Ie,Le,d);const zt=Pt?De:null,Ht=y.translatePosMatrix(zt?zt.posMatrix:De.posMatrix,Le,d.paint.get("fill-translate"),d.paint.get("fill-translate-anchor"));if(P){he=Ue.indexBuffer2,Te=Ue.segments2;const Zt=[I.drawingBufferWidth,I.drawingBufferHeight];ie=le==="fillOutlinePattern"&&G?pr(Ht,y,W,Le,Zt):mr(Ht,Zt)}else he=Ue.indexBuffer,Te=Ue.segments,ie=G?tr(Ht,y,W,Le):Xt(Ht);Je.draw(y.context,oe,v,y.stencilModeForClipping(De),b,Fn.disabled,ie,Pt,d.id,Ue.layoutVertexBuffer,he,Te,d.paint,y.transform.zoom,tt)}}function Bl(y,o,d,p,v,b,P){const I=y.context,N=I.gl,U="fill-extrusion-pattern",G=d.paint.get(U),W=G.constantOr(1),oe=d.getCrossfadeParameters(),le=d.paint.get("fill-extrusion-opacity"),ie=G.constantOr(null);for(const he of p){const Te=o.getTile(he),Ie=Te.getBucket(d);if(!Ie)continue;const De=y.style.map.terrain&&y.style.map.terrain.getTerrainData(he),Le=Ie.programConfigurations.get(d.id),Ue=y.useProgram(W?"fillExtrusionPattern":"fillExtrusion",Le);W&&(y.context.activeTexture.set(N.TEXTURE0),Te.imageAtlasTexture.bind(N.LINEAR,N.CLAMP_TO_EDGE),Le.updatePaintBuffers(oe)),js(Le,U,ie,Te,d);const tt=y.translatePosMatrix(he.posMatrix,Te,d.paint.get("fill-extrusion-translate"),d.paint.get("fill-extrusion-translate-anchor")),Je=d.paint.get("fill-extrusion-vertical-gradient"),Pt=W?yt(tt,y,Je,le,he,oe,Te):dt(tt,y,Je,le);Ue.draw(I,I.gl.TRIANGLES,v,b,P,Fn.backCCW,Pt,De,d.id,Ie.layoutVertexBuffer,Ie.indexBuffer,Ie.segments,d.paint,y.transform.zoom,Le,y.style.map.terrain&&Ie.centroidVertexBuffer)}}function zo(y,o,d,p,v,b,P){const I=y.context,N=I.gl,U=d.fbo;if(!U)return;const G=y.useProgram("hillshade"),W=y.style.map.terrain&&y.style.map.terrain.getTerrainData(o);I.activeTexture.set(N.TEXTURE0),N.bindTexture(N.TEXTURE_2D,U.colorAttachment.get()),G.draw(I,N.TRIANGLES,v,b,P,Fn.disabled,((oe,le,ie,he)=>{const Te=ie.paint.get("hillshade-shadow-color"),Ie=ie.paint.get("hillshade-highlight-color"),De=ie.paint.get("hillshade-accent-color");let Le=ie.paint.get("hillshade-illumination-direction")*(Math.PI/180);ie.paint.get("hillshade-illumination-anchor")==="viewport"&&(Le-=oe.transform.angle);const Ue=!oe.options.moving;return{u_matrix:he?he.posMatrix:oe.transform.calculatePosMatrix(le.tileID.toUnwrapped(),Ue),u_image:0,u_latrange:Dr(0,le.tileID),u_light:[ie.paint.get("hillshade-exaggeration"),Le],u_shadow:Te,u_highlight:Ie,u_accent:De}})(y,d,p,W?o:null),W,p.id,y.rasterBoundsBuffer,y.quadTriangleIndexBuffer,y.rasterBoundsSegments)}function Pa(y,o,d,p,v,b){const P=y.context,I=P.gl,N=o.dem;if(N&&N.data){const U=N.dim,G=N.stride,W=N.getPixels();if(P.activeTexture.set(I.TEXTURE1),P.pixelStoreUnpackPremultiplyAlpha.set(!1),o.demTexture=o.demTexture||y.getTileTexture(G),o.demTexture){const le=o.demTexture;le.update(W,{premultiply:!1}),le.bind(I.NEAREST,I.CLAMP_TO_EDGE)}else o.demTexture=new Z(P,W,I.RGBA,{premultiply:!1}),o.demTexture.bind(I.NEAREST,I.CLAMP_TO_EDGE);P.activeTexture.set(I.TEXTURE0);let oe=o.fbo;if(!oe){const le=new Z(P,{width:U,height:U,data:null},I.RGBA);le.bind(I.LINEAR,I.CLAMP_TO_EDGE),oe=o.fbo=P.createFramebuffer(U,U,!0,!1),oe.colorAttachment.set(le.texture)}P.bindFramebuffer.set(oe.framebuffer),P.viewport.set([0,0,U,U]),y.useProgram("hillshadePrepare").draw(P,I.TRIANGLES,p,v,b,Fn.disabled,((le,ie)=>{const he=ie.stride,Te=s.H();return s.aP(Te,0,s.X,-s.X,0,0,1),s.J(Te,Te,[0,-s.X,0]),{u_matrix:Te,u_image:1,u_dimension:[he,he],u_zoom:le.overscaledZ,u_unpack:ie.getUnpackVector()}})(o.tileID,N),null,d.id,y.rasterBoundsBuffer,y.quadTriangleIndexBuffer,y.rasterBoundsSegments),o.needsHillshadePrepare=!1}}function Rc(y,o,d,p,v,b){const P=p.paint.get("raster-fade-duration");if(!b&&P>0){const I=w.now(),N=(I-y.timeAdded)/P,U=o?(I-o.timeAdded)/P:-1,G=d.getSource(),W=v.coveringZoomLevel({tileSize:G.tileSize,roundZoom:G.roundZoom}),oe=!o||Math.abs(o.tileID.overscaledZ-W)>Math.abs(y.tileID.overscaledZ-W),le=oe&&y.refreshedUponExpiration?1:s.ac(oe?N:1-U,0,1);return y.refreshedUponExpiration&&N>=1&&(y.refreshedUponExpiration=!1),o?{opacity:1,mix:1-le}:{opacity:le,mix:0}}return{opacity:1,mix:0}}const Dc=new s.aM(1,0,0,1),at=new s.aM(0,1,0,1),Tt=new s.aM(0,0,1,1),lr=new s.aM(1,0,1,1),$r=new s.aM(0,1,1,1);function Dn(y,o,d,p){ti(y,0,o+d/2,y.transform.width,d,p)}function bn(y,o,d,p){ti(y,o-d/2,0,d,y.transform.height,p)}function ti(y,o,d,p,v,b){const P=y.context,I=P.gl;I.enable(I.SCISSOR_TEST),I.scissor(o*y.pixelRatio,d*y.pixelRatio,p*y.pixelRatio,v*y.pixelRatio),P.clear({color:b}),I.disable(I.SCISSOR_TEST)}function Zn(y,o,d){const p=y.context,v=p.gl,b=d.posMatrix,P=y.useProgram("debug"),I=qr.disabled,N=Tn.disabled,U=y.colorModeForRenderPass(),G="$debug",W=y.style.map.terrain&&y.style.map.terrain.getTerrainData(d);p.activeTexture.set(v.TEXTURE0);const oe=o.getTileByID(d.key).latestRawTileData,le=Math.floor((oe&&oe.byteLength||0)/1024),ie=o.getTile(d).tileSize,he=512/Math.min(ie,512)*(d.overscaledZ/y.transform.zoom)*.5;let Te=d.canonical.toString();d.overscaledZ!==d.canonical.z&&(Te+=` => ${d.overscaledZ}`),function(Ie,De){Ie.initDebugOverlayCanvas();const Le=Ie.debugOverlayCanvas,Ue=Ie.context.gl,tt=Ie.debugOverlayCanvas.getContext("2d");tt.clearRect(0,0,Le.width,Le.height),tt.shadowColor="white",tt.shadowBlur=2,tt.lineWidth=1.5,tt.strokeStyle="white",tt.textBaseline="top",tt.font="bold 36px Open Sans, sans-serif",tt.fillText(De,5,5),tt.strokeText(De,5,5),Ie.debugOverlayTexture.update(Le),Ie.debugOverlayTexture.bind(Ue.LINEAR,Ue.CLAMP_TO_EDGE)}(y,`${Te} ${le}kB`),P.draw(p,v.TRIANGLES,I,N,gn.alphaBlended,Fn.disabled,si(b,s.aM.transparent,he),null,G,y.debugBuffer,y.quadTriangleIndexBuffer,y.debugSegments),P.draw(p,v.LINE_STRIP,I,N,U,Fn.disabled,si(b,s.aM.red),W,G,y.debugBuffer,y.tileBorderIndexBuffer,y.debugSegments)}function jo(y,o,d){const p=y.context,v=p.gl,b=y.colorModeForRenderPass(),P=new qr(v.LEQUAL,qr.ReadWrite,y.depthRangeFor3D),I=y.useProgram("terrain"),N=o.getTerrainMesh();p.bindFramebuffer.set(null),p.viewport.set([0,0,y.width,y.height]);for(const U of d){const G=y.renderToTexture.getTexture(U),W=o.getTerrainData(U.tileID);p.activeTexture.set(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,G.texture);const oe=y.transform.calculatePosMatrix(U.tileID.toUnwrapped()),le=o.getMeshFrameDelta(y.transform.zoom),ie=y.transform.calculateFogMatrix(U.tileID.toUnwrapped()),he=X(oe,le,ie,y.style.sky,y.transform.pitch);I.draw(p,v.TRIANGLES,P,Tn.disabled,b,Fn.backCCW,he,W,"terrain",N.vertexBuffer,N.indexBuffer,N.segments)}}class _i{constructor(o,d,p){this.vertexBuffer=o,this.indexBuffer=d,this.segments=p}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}class li{constructor(o,d){this.context=new Yo(o),this.transform=d,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:s.an(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=Dt.maxUnderzooming+Dt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new hu}resize(o,d,p){if(this.width=Math.floor(o*p),this.height=Math.floor(d*p),this.pixelRatio=p,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const v of this.style._order)this.style._layers[v].resize()}setup(){const o=this.context,d=new s.aX;d.emplaceBack(0,0),d.emplaceBack(s.X,0),d.emplaceBack(0,s.X),d.emplaceBack(s.X,s.X),this.tileExtentBuffer=o.createVertexBuffer(d,ms.members),this.tileExtentSegments=s.a0.simpleSegment(0,0,4,2);const p=new s.aX;p.emplaceBack(0,0),p.emplaceBack(s.X,0),p.emplaceBack(0,s.X),p.emplaceBack(s.X,s.X),this.debugBuffer=o.createVertexBuffer(p,ms.members),this.debugSegments=s.a0.simpleSegment(0,0,4,5);const v=new s.$;v.emplaceBack(0,0,0,0),v.emplaceBack(s.X,0,s.X,0),v.emplaceBack(0,s.X,0,s.X),v.emplaceBack(s.X,s.X,s.X,s.X),this.rasterBoundsBuffer=o.createVertexBuffer(v,Gt.members),this.rasterBoundsSegments=s.a0.simpleSegment(0,0,4,2);const b=new s.aX;b.emplaceBack(0,0),b.emplaceBack(1,0),b.emplaceBack(0,1),b.emplaceBack(1,1),this.viewportBuffer=o.createVertexBuffer(b,ms.members),this.viewportSegments=s.a0.simpleSegment(0,0,4,2);const P=new s.aZ;P.emplaceBack(0),P.emplaceBack(1),P.emplaceBack(3),P.emplaceBack(2),P.emplaceBack(0),this.tileBorderIndexBuffer=o.createIndexBuffer(P);const I=new s.aY;I.emplaceBack(0,1,2),I.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=o.createIndexBuffer(I);const N=this.context.gl;this.stencilClearMode=new Tn({func:N.ALWAYS,mask:0},0,255,N.ZERO,N.ZERO,N.ZERO)}clearStencil(){const o=this.context,d=o.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const p=s.H();s.aP(p,0,this.width,this.height,0,0,1),s.K(p,p,[d.drawingBufferWidth,d.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(o,d.TRIANGLES,qr.disabled,this.stencilClearMode,gn.disabled,Fn.disabled,Gr(p),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(o,d){if(this.currentStencilSource===o.source||!o.isTileClipped()||!d||!d.length)return;this.currentStencilSource=o.source;const p=this.context,v=p.gl;this.nextStencilID+d.length>256&&this.clearStencil(),p.setColorMode(gn.disabled),p.setDepthMode(qr.disabled);const b=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const P of d){const I=this._tileClippingMaskIDs[P.key]=this.nextStencilID++,N=this.style.map.terrain&&this.style.map.terrain.getTerrainData(P);b.draw(p,v.TRIANGLES,qr.disabled,new Tn({func:v.ALWAYS,mask:0},I,255,v.KEEP,v.KEEP,v.REPLACE),gn.disabled,Fn.disabled,Gr(P.posMatrix),N,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const o=this.nextStencilID++,d=this.context.gl;return new Tn({func:d.NOTEQUAL,mask:255},o,255,d.KEEP,d.KEEP,d.REPLACE)}stencilModeForClipping(o){const d=this.context.gl;return new Tn({func:d.EQUAL,mask:255},this._tileClippingMaskIDs[o.key],0,d.KEEP,d.KEEP,d.REPLACE)}stencilConfigForOverlap(o){const d=this.context.gl,p=o.sort((P,I)=>I.overscaledZ-P.overscaledZ),v=p[p.length-1].overscaledZ,b=p[0].overscaledZ-v+1;if(b>1){this.currentStencilSource=void 0,this.nextStencilID+b>256&&this.clearStencil();const P={};for(let I=0;I<b;I++)P[I+v]=new Tn({func:d.GEQUAL,mask:255},I+this.nextStencilID,255,d.KEEP,d.KEEP,d.REPLACE);return this.nextStencilID+=b,[P,p]}return[{[v]:Tn.disabled},p]}colorModeForRenderPass(){const o=this.context.gl;return this._showOverdrawInspector?new gn([o.CONSTANT_COLOR,o.ONE],new s.aM(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?gn.unblended:gn.alphaBlended}depthModeForSublayer(o,d,p){if(!this.opaquePassEnabledForLayer())return qr.disabled;const v=1-((1+this.currentLayer)*this.numSublayers+o)*this.depthEpsilon;return new qr(p||this.context.gl.LEQUAL,d,[v,v])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(o,d){this.style=o,this.options=d,this.lineAtlas=o.lineAtlas,this.imageManager=o.imageManager,this.glyphManager=o.glyphManager,this.symbolFadeChange=o.placement.symbolFadeChange(w.now()),this.imageManager.beginFrame();const p=this.style._order,v=this.style.sourceCaches,b={},P={},I={};for(const N in v){const U=v[N];U.used&&U.prepare(this.context),b[N]=U.getVisibleCoordinates(),P[N]=b[N].slice().reverse(),I[N]=U.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let N=0;N<p.length;N++)if(this.style._layers[p[N]].is3D()){this.opaquePassCutoff=N;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(const N of p){const U=this.style._layers[N];if(!U.hasOffscreenPass()||U.isHidden(this.transform.zoom))continue;const G=P[U.source];(U.type==="custom"||G.length)&&this.renderLayer(this,v[U.source],U,G)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:d.showOverdrawInspector?s.aM.black:s.aM.transparent,depth:1}),this.clearStencil(),this.style.sky&&function(N,U){const G=N.context,W=G.gl,oe=((Ie,De,Le)=>({u_sky_color:Ie.properties.get("sky-color"),u_horizon_color:Ie.properties.get("horizon-color"),u_horizon:(De.height/2+De.getHorizon())*Le,u_sky_horizon_blend:Ie.properties.get("sky-horizon-blend")*De.height/2*Le}))(U,N.style.map.transform,N.pixelRatio),le=new qr(W.LEQUAL,qr.ReadWrite,[0,1]),ie=Tn.disabled,he=N.colorModeForRenderPass(),Te=N.useProgram("sky");if(!U.mesh){const Ie=new s.aX;Ie.emplaceBack(-1,-1),Ie.emplaceBack(1,-1),Ie.emplaceBack(1,1),Ie.emplaceBack(-1,1);const De=new s.aY;De.emplaceBack(0,1,2),De.emplaceBack(0,2,3),U.mesh=new _i(G.createVertexBuffer(Ie,ms.members),G.createIndexBuffer(De),s.a0.simpleSegment(0,0,Ie.length,De.length))}Te.draw(G,W.TRIANGLES,le,ie,he,Fn.disabled,oe,void 0,"sky",U.mesh.vertexBuffer,U.mesh.indexBuffer,U.mesh.segments)}(this,this.style.sky),this._showOverdrawInspector=d.showOverdrawInspector,this.depthRangeFor3D=[0,1-(o._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=p.length-1;this.currentLayer>=0;this.currentLayer--){const N=this.style._layers[p[this.currentLayer]],U=v[N.source],G=b[N.source];this._renderTileClippingMasks(N,G),this.renderLayer(this,U,N,G)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<p.length;this.currentLayer++){const N=this.style._layers[p[this.currentLayer]],U=v[N.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(N))continue;const G=(N.type==="symbol"?I:P)[N.source];this._renderTileClippingMasks(N,b[N.source]),this.renderLayer(this,U,N,G)}if(this.options.showTileBoundaries){const N=function(U,G){let W=null;const oe=Object.values(U._layers).flatMap(Te=>Te.source&&!Te.isHidden(G)?[U.sourceCaches[Te.source]]:[]),le=oe.filter(Te=>Te.getSource().type==="vector"),ie=oe.filter(Te=>Te.getSource().type!=="vector"),he=Te=>{(!W||W.getSource().maxzoom<Te.getSource().maxzoom)&&(W=Te)};return le.forEach(Te=>he(Te)),W||ie.forEach(Te=>he(Te)),W}(this.style,this.transform.zoom);N&&function(U,G,W){for(let oe=0;oe<W.length;oe++)Zn(U,G,W[oe])}(this,N,N.getVisibleCoordinates())}this.options.showPadding&&function(N){const U=N.transform.padding;Dn(N,N.transform.height-(U.top||0),3,Dc),Dn(N,U.bottom||0,3,at),bn(N,U.left||0,3,Tt),bn(N,N.transform.width-(U.right||0),3,lr);const G=N.transform.centerPoint;(function(W,oe,le,ie){ti(W,oe-1,le-10,2,20,ie),ti(W,oe-10,le-1,20,2,ie)})(N,G.x,N.transform.height-G.y,$r)}(this),this.context.setDefault()}maybeDrawDepthAndCoords(o){if(!this.style||!this.style.map||!this.style.map.terrain)return;const d=this.terrainFacilitator.matrix,p=this.transform.modelViewProjectionMatrix;let v=this.terrainFacilitator.dirty;v||(v=o?!s.a_(d,p):!s.a$(d,p)),v||(v=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime).length>0),v&&(s.b0(d,p),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(b,P){const I=b.context,N=I.gl,U=gn.unblended,G=new qr(N.LEQUAL,qr.ReadWrite,[0,1]),W=P.getTerrainMesh(),oe=P.sourceCache.getRenderableTiles(),le=b.useProgram("terrainDepth");I.bindFramebuffer.set(P.getFramebuffer("depth").framebuffer),I.viewport.set([0,0,b.width/devicePixelRatio,b.height/devicePixelRatio]),I.clear({color:s.aM.transparent,depth:1});for(const ie of oe){const he=P.getTerrainData(ie.tileID),Te={u_matrix:b.transform.calculatePosMatrix(ie.tileID.toUnwrapped()),u_ele_delta:P.getMeshFrameDelta(b.transform.zoom)};le.draw(I,N.TRIANGLES,G,Tn.disabled,U,Fn.backCCW,Te,he,"terrain",W.vertexBuffer,W.indexBuffer,W.segments)}I.bindFramebuffer.set(null),I.viewport.set([0,0,b.width,b.height])}(this,this.style.map.terrain),function(b,P){const I=b.context,N=I.gl,U=gn.unblended,G=new qr(N.LEQUAL,qr.ReadWrite,[0,1]),W=P.getTerrainMesh(),oe=P.getCoordsTexture(),le=P.sourceCache.getRenderableTiles(),ie=b.useProgram("terrainCoords");I.bindFramebuffer.set(P.getFramebuffer("coords").framebuffer),I.viewport.set([0,0,b.width/devicePixelRatio,b.height/devicePixelRatio]),I.clear({color:s.aM.transparent,depth:1}),P.coordsIndex=[];for(const he of le){const Te=P.getTerrainData(he.tileID);I.activeTexture.set(N.TEXTURE0),N.bindTexture(N.TEXTURE_2D,oe.texture);const Ie={u_matrix:b.transform.calculatePosMatrix(he.tileID.toUnwrapped()),u_terrain_coords_id:(255-P.coordsIndex.length)/255,u_texture:0,u_ele_delta:P.getMeshFrameDelta(b.transform.zoom)};ie.draw(I,N.TRIANGLES,G,Tn.disabled,U,Fn.backCCW,Ie,Te,"terrain",W.vertexBuffer,W.indexBuffer,W.segments),P.coordsIndex.push(he.tileID.key)}I.bindFramebuffer.set(null),I.viewport.set([0,0,b.width,b.height])}(this,this.style.map.terrain))}renderLayer(o,d,p,v){if(!p.isHidden(this.transform.zoom)&&(p.type==="background"||p.type==="custom"||(v||[]).length))switch(this.id=p.id,p.type){case"symbol":(function(b,P,I,N,U){if(b.renderPass!=="translucent")return;const G=Tn.disabled,W=b.colorModeForRenderPass();(I._unevaluatedLayout.hasValue("text-variable-anchor")||I._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(oe,le,ie,he,Te,Ie,De,Le,Ue){const tt=le.transform,Je=Rn(),Pt=Te==="map",zt=Ie==="map";for(const Ht of oe){const Zt=he.getTile(Ht),Kt=Zt.getBucket(ie);if(!Kt||!Kt.text||!Kt.text.segments.get().length)continue;const Wt=s.ag(Kt.textSizeData,tt.zoom),er=hr(Zt,1,le.transform.zoom),Nr=hi(Ht.posMatrix,zt,Pt,le.transform,er),or=ie.layout.get("icon-text-fit")!=="none"&&Kt.hasIconData();if(Wt){const ar=Math.pow(2,tt.zoom-Zt.tileID.overscaledZ),jr=le.style.map.terrain?(en,dn)=>le.style.map.terrain.getElevation(Ht,en,dn):null,on=Je.translatePosition(tt,Zt,De,Le);da(Kt,Pt,zt,Ue,tt,Nr,Ht.posMatrix,ar,Wt,or,Je,on,Ht.toUnwrapped(),jr)}}}(N,b,I,P,I.layout.get("text-rotation-alignment"),I.layout.get("text-pitch-alignment"),I.paint.get("text-translate"),I.paint.get("text-translate-anchor"),U),I.paint.get("icon-opacity").constantOr(1)!==0&&Oi(b,P,I,N,!1,I.paint.get("icon-translate"),I.paint.get("icon-translate-anchor"),I.layout.get("icon-rotation-alignment"),I.layout.get("icon-pitch-alignment"),I.layout.get("icon-keep-upright"),G,W),I.paint.get("text-opacity").constantOr(1)!==0&&Oi(b,P,I,N,!0,I.paint.get("text-translate"),I.paint.get("text-translate-anchor"),I.layout.get("text-rotation-alignment"),I.layout.get("text-pitch-alignment"),I.layout.get("text-keep-upright"),G,W),P.map.showCollisionBoxes&&(fl(b,P,I,N,!0),fl(b,P,I,N,!1))})(o,d,p,v,this.style.placement.variableOffsets);break;case"circle":(function(b,P,I,N){if(b.renderPass!=="translucent")return;const U=I.paint.get("circle-opacity"),G=I.paint.get("circle-stroke-width"),W=I.paint.get("circle-stroke-opacity"),oe=!I.layout.get("circle-sort-key").isConstant();if(U.constantOr(1)===0&&(G.constantOr(1)===0||W.constantOr(1)===0))return;const le=b.context,ie=le.gl,he=b.depthModeForSublayer(0,qr.ReadOnly),Te=Tn.disabled,Ie=b.colorModeForRenderPass(),De=[];for(let Le=0;Le<N.length;Le++){const Ue=N[Le],tt=P.getTile(Ue),Je=tt.getBucket(I);if(!Je)continue;const Pt=Je.programConfigurations.get(I.id),zt=b.useProgram("circle",Pt),Ht=Je.layoutVertexBuffer,Zt=Je.indexBuffer,Kt=b.style.map.terrain&&b.style.map.terrain.getTerrainData(Ue),Wt={programConfiguration:Pt,program:zt,layoutVertexBuffer:Ht,indexBuffer:Zt,uniformValues:dr(b,Ue,tt,I),terrainData:Kt};if(oe){const er=Je.segments.get();for(const Nr of er)De.push({segments:new s.a0([Nr]),sortKey:Nr.sortKey,state:Wt})}else De.push({segments:Je.segments,sortKey:0,state:Wt})}oe&&De.sort((Le,Ue)=>Le.sortKey-Ue.sortKey);for(const Le of De){const{programConfiguration:Ue,program:tt,layoutVertexBuffer:Je,indexBuffer:Pt,uniformValues:zt,terrainData:Ht}=Le.state;tt.draw(le,ie.TRIANGLES,he,Te,Ie,Fn.disabled,zt,Ht,I.id,Je,Pt,Le.segments,I.paint,b.transform.zoom,Ue)}})(o,d,p,v);break;case"heatmap":(function(b,P,I,N){if(I.paint.get("heatmap-opacity")===0)return;const U=b.context;if(b.style.map.terrain){for(const G of N){const W=P.getTile(G);P.hasRenderableParent(G)||(b.renderPass==="offscreen"?Ta(b,W,I,G):b.renderPass==="translucent"&&Ha(b,I,G))}U.viewport.set([0,0,b.width,b.height])}else b.renderPass==="offscreen"?function(G,W,oe,le){const ie=G.context,he=ie.gl,Te=Tn.disabled,Ie=new gn([he.ONE,he.ONE],s.aM.transparent,[!0,!0,!0,!0]);(function(De,Le,Ue){const tt=De.gl;De.activeTexture.set(tt.TEXTURE1),De.viewport.set([0,0,Le.width/4,Le.height/4]);let Je=Ue.heatmapFbos.get(s.aU);Je?(tt.bindTexture(tt.TEXTURE_2D,Je.colorAttachment.get()),De.bindFramebuffer.set(Je.framebuffer)):(Je=ml(De,Le.width/4,Le.height/4),Ue.heatmapFbos.set(s.aU,Je))})(ie,G,oe),ie.clear({color:s.aM.transparent});for(let De=0;De<le.length;De++){const Le=le[De];if(W.hasRenderableParent(Le))continue;const Ue=W.getTile(Le),tt=Ue.getBucket(oe);if(!tt)continue;const Je=tt.programConfigurations.get(oe.id),Pt=G.useProgram("heatmap",Je),{zoom:zt}=G.transform;Pt.draw(ie,he.TRIANGLES,qr.disabled,Te,Ie,Fn.disabled,Sr(Le.posMatrix,Ue,zt,oe.paint.get("heatmap-intensity")),null,oe.id,tt.layoutVertexBuffer,tt.indexBuffer,tt.segments,oe.paint,G.transform.zoom,Je)}ie.viewport.set([0,0,G.width,G.height])}(b,P,I,N):b.renderPass==="translucent"&&function(G,W){const oe=G.context,le=oe.gl;oe.setColorMode(G.colorModeForRenderPass());const ie=W.heatmapFbos.get(s.aU);ie&&(oe.activeTexture.set(le.TEXTURE0),le.bindTexture(le.TEXTURE_2D,ie.colorAttachment.get()),oe.activeTexture.set(le.TEXTURE1),to(oe,W).bind(le.LINEAR,le.CLAMP_TO_EDGE),G.useProgram("heatmapTexture").draw(oe,le.TRIANGLES,qr.disabled,Tn.disabled,G.colorModeForRenderPass(),Fn.disabled,Ut(G,W,0,1),null,W.id,G.viewportBuffer,G.quadTriangleIndexBuffer,G.viewportSegments,W.paint,G.transform.zoom))}(b,I)})(o,d,p,v);break;case"line":(function(b,P,I,N){if(b.renderPass!=="translucent")return;const U=I.paint.get("line-opacity"),G=I.paint.get("line-width");if(U.constantOr(1)===0||G.constantOr(1)===0)return;const W=b.depthModeForSublayer(0,qr.ReadOnly),oe=b.colorModeForRenderPass(),le=I.paint.get("line-dasharray"),ie=I.paint.get("line-pattern"),he=ie.constantOr(1),Te=I.paint.get("line-gradient"),Ie=I.getCrossfadeParameters(),De=he?"linePattern":le?"lineSDF":Te?"lineGradient":"line",Le=b.context,Ue=Le.gl;let tt=!0;for(const Je of N){const Pt=P.getTile(Je);if(he&&!Pt.patternsLoaded())continue;const zt=Pt.getBucket(I);if(!zt)continue;const Ht=zt.programConfigurations.get(I.id),Zt=b.context.program.get(),Kt=b.useProgram(De,Ht),Wt=tt||Kt.program!==Zt,er=b.style.map.terrain&&b.style.map.terrain.getTerrainData(Je),Nr=ie.constantOr(null);if(Nr&&Pt.imageAtlas){const jr=Pt.imageAtlas,on=jr.patternPositions[Nr.to.toString()],en=jr.patternPositions[Nr.from.toString()];on&&en&&Ht.setConstantPatternPositions(on,en)}const or=er?Je:null,ar=he?pi(b,Pt,I,Ie,or):le?Ll(b,Pt,I,le,Ie,or):Te?Gi(b,Pt,I,zt.lineClipsArray.length,or):Cn(b,Pt,I,or);if(he)Le.activeTexture.set(Ue.TEXTURE0),Pt.imageAtlasTexture.bind(Ue.LINEAR,Ue.CLAMP_TO_EDGE),Ht.updatePaintBuffers(Ie);else if(le&&(Wt||b.lineAtlas.dirty))Le.activeTexture.set(Ue.TEXTURE0),b.lineAtlas.bind(Le);else if(Te){const jr=zt.gradients[I.id];let on=jr.texture;if(I.gradientVersion!==jr.version){let en=256;if(I.stepInterpolant){const dn=P.getSource().maxzoom,An=Je.canonical.z===dn?Math.ceil(1<<b.transform.maxZoom-Je.canonical.z):1;en=s.ac(s.aV(zt.maxLineLength/s.X*1024*An),256,Le.maxTextureSize)}jr.gradient=s.aW({expression:I.gradientExpression(),evaluationKey:"lineProgress",resolution:en,image:jr.gradient||void 0,clips:zt.lineClipsArray}),jr.texture?jr.texture.update(jr.gradient):jr.texture=new Z(Le,jr.gradient,Ue.RGBA),jr.version=I.gradientVersion,on=jr.texture}Le.activeTexture.set(Ue.TEXTURE0),on.bind(I.stepInterpolant?Ue.NEAREST:Ue.LINEAR,Ue.CLAMP_TO_EDGE)}Kt.draw(Le,Ue.TRIANGLES,W,b.stencilModeForClipping(Je),oe,Fn.disabled,ar,er,I.id,zt.layoutVertexBuffer,zt.indexBuffer,zt.segments,I.paint,b.transform.zoom,Ht,zt.layoutVertexBuffer2),tt=!1}})(o,d,p,v);break;case"fill":(function(b,P,I,N){const U=I.paint.get("fill-color"),G=I.paint.get("fill-opacity");if(G.constantOr(1)===0)return;const W=b.colorModeForRenderPass(),oe=I.paint.get("fill-pattern"),le=b.opaquePassEnabledForLayer()&&!oe.constantOr(1)&&U.constantOr(s.aM.transparent).a===1&&G.constantOr(0)===1?"opaque":"translucent";if(b.renderPass===le){const ie=b.depthModeForSublayer(1,b.renderPass==="opaque"?qr.ReadWrite:qr.ReadOnly);Us(b,P,I,N,ie,W,!1)}if(b.renderPass==="translucent"&&I.paint.get("fill-antialias")){const ie=b.depthModeForSublayer(I.getPaintProperty("fill-outline-color")?2:0,qr.ReadOnly);Us(b,P,I,N,ie,W,!0)}})(o,d,p,v);break;case"fill-extrusion":(function(b,P,I,N){const U=I.paint.get("fill-extrusion-opacity");if(U!==0&&b.renderPass==="translucent"){const G=new qr(b.context.gl.LEQUAL,qr.ReadWrite,b.depthRangeFor3D);if(U!==1||I.paint.get("fill-extrusion-pattern").constantOr(1))Bl(b,P,I,N,G,Tn.disabled,gn.disabled),Bl(b,P,I,N,G,b.stencilModeFor3D(),b.colorModeForRenderPass());else{const W=b.colorModeForRenderPass();Bl(b,P,I,N,G,Tn.disabled,W)}}})(o,d,p,v);break;case"hillshade":(function(b,P,I,N){if(b.renderPass!=="offscreen"&&b.renderPass!=="translucent")return;const U=b.context,G=b.depthModeForSublayer(0,qr.ReadOnly),W=b.colorModeForRenderPass(),[oe,le]=b.renderPass==="translucent"?b.stencilConfigForOverlap(N):[{},N];for(const ie of le){const he=P.getTile(ie);he.needsHillshadePrepare!==void 0&&he.needsHillshadePrepare&&b.renderPass==="offscreen"?Pa(b,he,I,G,Tn.disabled,W):b.renderPass==="translucent"&&zo(b,ie,he,I,G,oe[ie.overscaledZ],W)}U.viewport.set([0,0,b.width,b.height])})(o,d,p,v);break;case"raster":(function(b,P,I,N){if(b.renderPass!=="translucent"||I.paint.get("raster-opacity")===0||!N.length)return;const U=b.context,G=U.gl,W=P.getSource(),oe=b.useProgram("raster"),le=b.colorModeForRenderPass(),[ie,he]=W instanceof Lt?[{},N]:b.stencilConfigForOverlap(N),Te=he[he.length-1].overscaledZ,Ie=!b.options.moving;for(const De of he){const Le=b.depthModeForSublayer(De.overscaledZ-Te,I.paint.get("raster-opacity")===1?qr.ReadWrite:qr.ReadOnly,G.LESS),Ue=P.getTile(De);Ue.registerFadeDuration(I.paint.get("raster-fade-duration"));const tt=P.findLoadedParent(De,0),Je=P.findLoadedSibling(De),Pt=Rc(Ue,tt||Je||null,P,I,b.transform,b.style.map.terrain);let zt,Ht;const Zt=I.paint.get("raster-resampling")==="nearest"?G.NEAREST:G.LINEAR;U.activeTexture.set(G.TEXTURE0),Ue.texture.bind(Zt,G.CLAMP_TO_EDGE,G.LINEAR_MIPMAP_NEAREST),U.activeTexture.set(G.TEXTURE1),tt?(tt.texture.bind(Zt,G.CLAMP_TO_EDGE,G.LINEAR_MIPMAP_NEAREST),zt=Math.pow(2,tt.tileID.overscaledZ-Ue.tileID.overscaledZ),Ht=[Ue.tileID.canonical.x*zt%1,Ue.tileID.canonical.y*zt%1]):Ue.texture.bind(Zt,G.CLAMP_TO_EDGE,G.LINEAR_MIPMAP_NEAREST),Ue.texture.useMipmap&&U.extTextureFilterAnisotropic&&b.transform.pitch>20&&G.texParameterf(G.TEXTURE_2D,U.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,U.extTextureFilterAnisotropicMax);const Kt=b.style.map.terrain&&b.style.map.terrain.getTerrainData(De),Wt=Kt?De:null,er=Wt?Wt.posMatrix:b.transform.calculatePosMatrix(De.toUnwrapped(),Ie),Nr=pd(er,Ht||[0,0],zt||1,Pt,I);W instanceof Lt?oe.draw(U,G.TRIANGLES,Le,Tn.disabled,le,Fn.disabled,Nr,Kt,I.id,W.boundsBuffer,b.quadTriangleIndexBuffer,W.boundsSegments):oe.draw(U,G.TRIANGLES,Le,ie[De.overscaledZ],le,Fn.disabled,Nr,Kt,I.id,b.rasterBoundsBuffer,b.quadTriangleIndexBuffer,b.rasterBoundsSegments)}})(o,d,p,v);break;case"background":(function(b,P,I,N){const U=I.paint.get("background-color"),G=I.paint.get("background-opacity");if(G===0)return;const W=b.context,oe=W.gl,le=b.transform,ie=le.tileSize,he=I.paint.get("background-pattern");if(b.isPatternMissing(he))return;const Te=!he&&U.a===1&&G===1&&b.opaquePassEnabledForLayer()?"opaque":"translucent";if(b.renderPass!==Te)return;const Ie=Tn.disabled,De=b.depthModeForSublayer(0,Te==="opaque"?qr.ReadWrite:qr.ReadOnly),Le=b.colorModeForRenderPass(),Ue=b.useProgram(he?"backgroundPattern":"background"),tt=N||le.coveringTiles({tileSize:ie,terrain:b.style.map.terrain});he&&(W.activeTexture.set(oe.TEXTURE0),b.imageManager.bind(b.context));const Je=I.getCrossfadeParameters();for(const Pt of tt){const zt=N?Pt.posMatrix:b.transform.calculatePosMatrix(Pt.toUnwrapped()),Ht=he?vs(zt,G,b,he,{tileID:Pt,tileSize:ie},Je):pu(zt,G,U),Zt=b.style.map.terrain&&b.style.map.terrain.getTerrainData(Pt);Ue.draw(W,oe.TRIANGLES,De,Ie,Le,Fn.disabled,Ht,Zt,I.id,b.tileExtentBuffer,b.quadTriangleIndexBuffer,b.tileExtentSegments)}})(o,0,p,v);break;case"custom":(function(b,P,I){const N=b.context,U=I.implementation;if(b.renderPass==="offscreen"){const G=U.prerender;G&&(b.setCustomLayerDefaults(),N.setColorMode(b.colorModeForRenderPass()),G.call(U,N.gl,b.transform.customLayerMatrix()),N.setDirty(),b.setBaseState())}else if(b.renderPass==="translucent"){b.setCustomLayerDefaults(),N.setColorMode(b.colorModeForRenderPass()),N.setStencilMode(Tn.disabled);const G=U.renderingMode==="3d"?new qr(b.context.gl.LEQUAL,qr.ReadWrite,b.depthRangeFor3D):b.depthModeForSublayer(0,qr.ReadOnly);N.setDepthMode(G),U.render(N.gl,b.transform.customLayerMatrix(),{farZ:b.transform.farZ,nearZ:b.transform.nearZ,fov:b.transform._fov,modelViewProjectionMatrix:b.transform.modelViewProjectionMatrix,projectionMatrix:b.transform.projectionMatrix}),N.setDirty(),b.setBaseState(),N.bindFramebuffer.set(null)}})(o,0,p)}}translatePosMatrix(o,d,p,v,b){if(!p[0]&&!p[1])return o;const P=b?v==="map"?this.transform.angle:0:v==="viewport"?-this.transform.angle:0;if(P){const U=Math.sin(P),G=Math.cos(P);p=[p[0]*G-p[1]*U,p[0]*U+p[1]*G]}const I=[b?p[0]:hr(d,p[0],this.transform.zoom),b?p[1]:hr(d,p[1],this.transform.zoom),0],N=new Float32Array(16);return s.J(N,o,I),N}saveTileTexture(o){const d=this._tileTextures[o.size[0]];d?d.push(o):this._tileTextures[o.size[0]]=[o]}getTileTexture(o){const d=this._tileTextures[o];return d&&d.length>0?d.pop():null}isPatternMissing(o){if(!o)return!1;if(!o.from||!o.to)return!0;const d=this.imageManager.getPattern(o.from.toString()),p=this.imageManager.getPattern(o.to.toString());return!d||!p}useProgram(o,d){this.cache=this.cache||{};const p=o+(d?d.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[p]||(this.cache[p]=new Ge(this.context,gs[o],d,Ml[o],this._showOverdrawInspector,this.style.map.terrain)),this.cache[p]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const o=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(o.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new Z(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:o,drawingBufferHeight:d}=this.context.gl;return this.width!==o||this.height!==d}}class Ti{constructor(o,d){this.points=o,this.planes=d}static fromInvProjectionMatrix(o,d,p){const v=Math.pow(2,p),b=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(I=>{const N=1/(I=s.af([],I,o))[3]/d*v;return s.b1(I,I,[N,N,1/I[3],N])}),P=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(I=>{const N=function(oe,le){var ie=le[0],he=le[1],Te=le[2],Ie=ie*ie+he*he+Te*Te;return Ie>0&&(Ie=1/Math.sqrt(Ie)),oe[0]=le[0]*Ie,oe[1]=le[1]*Ie,oe[2]=le[2]*Ie,oe}([],function(oe,le,ie){var he=le[0],Te=le[1],Ie=le[2],De=ie[0],Le=ie[1],Ue=ie[2];return oe[0]=Te*Ue-Ie*Le,oe[1]=Ie*De-he*Ue,oe[2]=he*Le-Te*De,oe}([],ee([],b[I[0]],b[I[1]]),ee([],b[I[2]],b[I[1]]))),U=-((G=N)[0]*(W=b[I[1]])[0]+G[1]*W[1]+G[2]*W[2]);var G,W;return N.concat(U)});return new Ti(b,P)}}class Ki{constructor(o,d){this.min=o,this.max=d,this.center=function(p,v,b){return p[0]=.5*v[0],p[1]=.5*v[1],p[2]=.5*v[2],p}([],function(p,v,b){return p[0]=v[0]+b[0],p[1]=v[1]+b[1],p[2]=v[2]+b[2],p}([],this.min,this.max))}quadrant(o){const d=[o%2==0,o<2],p=te(this.min),v=te(this.max);for(let b=0;b<d.length;b++)p[b]=d[b]?this.min[b]:this.center[b],v[b]=d[b]?this.center[b]:this.max[b];return v[2]=this.max[2],new Ki(p,v)}distanceX(o){return Math.max(Math.min(this.max[0],o[0]),this.min[0])-o[0]}distanceY(o){return Math.max(Math.min(this.max[1],o[1]),this.min[1])-o[1]}intersects(o){const d=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let p=!0;for(let v=0;v<o.planes.length;v++){const b=o.planes[v];let P=0;for(let I=0;I<d.length;I++)s.b2(b,d[I])>=0&&P++;if(P===0)return 0;P!==d.length&&(p=!1)}if(p)return 2;for(let v=0;v<3;v++){let b=Number.MAX_VALUE,P=-Number.MAX_VALUE;for(let I=0;I<o.points.length;I++){const N=o.points[I][v]-this.min[v];b=Math.min(b,N),P=Math.max(P,N)}if(P<0||b>this.max[v]-this.min[v])return 0}return 1}}class wi{constructor(o=0,d=0,p=0,v=0){if(isNaN(o)||o<0||isNaN(d)||d<0||isNaN(p)||p<0||isNaN(v)||v<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=o,this.bottom=d,this.left=p,this.right=v}interpolate(o,d,p){return d.top!=null&&o.top!=null&&(this.top=s.y.number(o.top,d.top,p)),d.bottom!=null&&o.bottom!=null&&(this.bottom=s.y.number(o.bottom,d.bottom,p)),d.left!=null&&o.left!=null&&(this.left=s.y.number(o.left,d.left,p)),d.right!=null&&o.right!=null&&(this.right=s.y.number(o.right,d.right,p)),this}getCenter(o,d){const p=s.ac((this.left+o-this.right)/2,0,o),v=s.ac((this.top+d-this.bottom)/2,0,d);return new s.P(p,v)}equals(o){return this.top===o.top&&this.bottom===o.bottom&&this.left===o.left&&this.right===o.right}clone(){return new wi(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}const Jo=85.051129;class Uo{constructor(o,d,p,v,b){this.tileSize=512,this._renderWorldCopies=b===void 0||!!b,this._minZoom=o||0,this._maxZoom=d||22,this._minPitch=p??0,this._maxPitch=v??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new s.N(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new wi,this._posMatrixCache={},this._alignedPosMatrixCache={},this._fogMatrixCache={},this.minElevationForCurrentTile=0}clone(){const o=new Uo(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return o.apply(this),o}apply(o){this.tileSize=o.tileSize,this.latRange=o.latRange,this.lngRange=o.lngRange,this.width=o.width,this.height=o.height,this._center=o._center,this._elevation=o._elevation,this.minElevationForCurrentTile=o.minElevationForCurrentTile,this.zoom=o.zoom,this.angle=o.angle,this._fov=o._fov,this._pitch=o._pitch,this._unmodified=o._unmodified,this._edgeInsets=o._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(o){this._minZoom!==o&&(this._minZoom=o,this.zoom=Math.max(this.zoom,o))}get maxZoom(){return this._maxZoom}set maxZoom(o){this._maxZoom!==o&&(this._maxZoom=o,this.zoom=Math.min(this.zoom,o))}get minPitch(){return this._minPitch}set minPitch(o){this._minPitch!==o&&(this._minPitch=o,this.pitch=Math.max(this.pitch,o))}get maxPitch(){return this._maxPitch}set maxPitch(o){this._maxPitch!==o&&(this._maxPitch=o,this.pitch=Math.min(this.pitch,o))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(o){o===void 0?o=!0:o===null&&(o=!1),this._renderWorldCopies=o}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new s.P(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(o){const d=-s.b3(o,-180,180)*Math.PI/180;this.angle!==d&&(this._unmodified=!1,this.angle=d,this._calcMatrices(),this.rotationMatrix=function(){var p=new s.A(4);return s.A!=Float32Array&&(p[1]=0,p[2]=0),p[0]=1,p[3]=1,p}(),function(p,v,b){var P=v[0],I=v[1],N=v[2],U=v[3],G=Math.sin(b),W=Math.cos(b);p[0]=P*W+N*G,p[1]=I*W+U*G,p[2]=P*-G+N*W,p[3]=I*-G+U*W}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(o){const d=s.ac(o,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==d&&(this._unmodified=!1,this._pitch=d,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(o){o=Math.max(.01,Math.min(60,o)),this._fov!==o&&(this._unmodified=!1,this._fov=o/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(o){const d=Math.min(Math.max(o,this.minZoom),this.maxZoom);this._zoom!==d&&(this._unmodified=!1,this._zoom=d,this.tileZoom=Math.max(0,Math.floor(d)),this.scale=this.zoomScale(d),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(o){o.lat===this._center.lat&&o.lng===this._center.lng||(this._unmodified=!1,this._center=o,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(o){o!==this._elevation&&(this._elevation=o,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(o){this._edgeInsets.equals(o)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,o,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(o){return this._edgeInsets.equals(o)}interpolatePadding(o,d,p){this._unmodified=!1,this._edgeInsets.interpolate(o,d,p),this._constrain(),this._calcMatrices()}coveringZoomLevel(o){const d=(o.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/o.tileSize));return Math.max(0,d)}getVisibleUnwrappedCoordinates(o){const d=[new s.b4(0,o)];if(this._renderWorldCopies){const p=this.pointCoordinate(new s.P(0,0)),v=this.pointCoordinate(new s.P(this.width,0)),b=this.pointCoordinate(new s.P(this.width,this.height)),P=this.pointCoordinate(new s.P(0,this.height)),I=Math.floor(Math.min(p.x,v.x,b.x,P.x)),N=Math.floor(Math.max(p.x,v.x,b.x,P.x)),U=1;for(let G=I-U;G<=N+U;G++)G!==0&&d.push(new s.b4(G,o))}return d}coveringTiles(o){var d,p;let v=this.coveringZoomLevel(o);const b=v;if(o.minzoom!==void 0&&v<o.minzoom)return[];o.maxzoom!==void 0&&v>o.maxzoom&&(v=o.maxzoom);const P=this.pointCoordinate(this.getCameraPoint()),I=s.Z.fromLngLat(this.center),N=Math.pow(2,v),U=[N*P.x,N*P.y,0],G=[N*I.x,N*I.y,0],W=Ti.fromInvProjectionMatrix(this.invModelViewProjectionMatrix,this.worldSize,v);let oe=o.minzoom||0;!o.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(oe=v);const le=o.terrain?2/Math.min(this.tileSize,o.tileSize)*this.tileSize:3,ie=Le=>({aabb:new Ki([Le*N,0,0],[(Le+1)*N,N,0]),zoom:0,x:0,y:0,wrap:Le,fullyVisible:!1}),he=[],Te=[],Ie=v,De=o.reparseOverscaled?b:v;if(this._renderWorldCopies)for(let Le=1;Le<=3;Le++)he.push(ie(-Le)),he.push(ie(Le));for(he.push(ie(0));he.length>0;){const Le=he.pop(),Ue=Le.x,tt=Le.y;let Je=Le.fullyVisible;if(!Je){const Kt=Le.aabb.intersects(W);if(Kt===0)continue;Je=Kt===2}const Pt=o.terrain?U:G,zt=Le.aabb.distanceX(Pt),Ht=Le.aabb.distanceY(Pt),Zt=Math.max(Math.abs(zt),Math.abs(Ht));if(Le.zoom===Ie||Zt>le+(1<<Ie-Le.zoom)-2&&Le.zoom>=oe){const Kt=Ie-Le.zoom,Wt=U[0]-.5-(Ue<<Kt),er=U[1]-.5-(tt<<Kt);Te.push({tileID:new s.S(Le.zoom===Ie?De:Le.zoom,Le.wrap,Le.zoom,Ue,tt),distanceSq:Q([G[0]-.5-Ue,G[1]-.5-tt]),tileDistanceToCamera:Math.sqrt(Wt*Wt+er*er)})}else for(let Kt=0;Kt<4;Kt++){const Wt=(Ue<<1)+Kt%2,er=(tt<<1)+(Kt>>1),Nr=Le.zoom+1;let or=Le.aabb.quadrant(Kt);if(o.terrain){const ar=new s.S(Nr,Le.wrap,Nr,Wt,er),jr=o.terrain.getMinMaxElevation(ar),on=(d=jr.minElevation)!==null&&d!==void 0?d:this.elevation,en=(p=jr.maxElevation)!==null&&p!==void 0?p:this.elevation;or=new Ki([or.min[0],or.min[1],on],[or.max[0],or.max[1],en])}he.push({aabb:or,zoom:Nr,x:Wt,y:er,wrap:Le.wrap,fullyVisible:Je})}}return Te.sort((Le,Ue)=>Le.distanceSq-Ue.distanceSq).map(Le=>Le.tileID)}resize(o,d){this.width=o,this.height=d,this.pixelsToGLUnits=[2/o,-2/d],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(o){return Math.pow(2,o)}scaleZoom(o){return Math.log(o)/Math.LN2}project(o){const d=s.ac(o.lat,-85.051129,Jo);return new s.P(s.O(o.lng)*this.worldSize,s.Q(d)*this.worldSize)}unproject(o){return new s.Z(o.x/this.worldSize,o.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(o){const d=this.elevation,p=Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter,v=this.pointLocation(this.centerPoint,o),b=o.getElevationForLngLatZoom(v,this.tileZoom);if(!(this.elevation-b))return;const P=p+d-b,I=Math.cos(this._pitch)*this.cameraToCenterDistance/P/s.b5(1,v.lat),N=this.scaleZoom(I/this.tileSize);this._elevation=b,this._center=v,this.zoom=N}setLocationAtPoint(o,d){const p=this.pointCoordinate(d),v=this.pointCoordinate(this.centerPoint),b=this.locationCoordinate(o),P=new s.Z(b.x-(p.x-v.x),b.y-(p.y-v.y));this.center=this.coordinateLocation(P),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(o,d){return d?this.coordinatePoint(this.locationCoordinate(o),d.getElevationForLngLatZoom(o,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(o))}pointLocation(o,d){return this.coordinateLocation(this.pointCoordinate(o,d))}locationCoordinate(o){return s.Z.fromLngLat(o)}coordinateLocation(o){return o&&o.toLngLat()}pointCoordinate(o,d){if(d){const oe=d.pointCoordinate(o);if(oe!=null)return oe}const p=[o.x,o.y,0,1],v=[o.x,o.y,1,1];s.af(p,p,this.pixelMatrixInverse),s.af(v,v,this.pixelMatrixInverse);const b=p[3],P=v[3],I=p[1]/b,N=v[1]/P,U=p[2]/b,G=v[2]/P,W=U===G?0:(0-U)/(G-U);return new s.Z(s.y.number(p[0]/b,v[0]/P,W)/this.worldSize,s.y.number(I,N,W)/this.worldSize)}coordinatePoint(o,d=0,p=this.pixelMatrix){const v=[o.x*this.worldSize,o.y*this.worldSize,d,1];return s.af(v,v,p),new s.P(v[0]/v[3],v[1]/v[3])}getBounds(){const o=Math.max(0,this.height/2-this.getHorizon());return new ce().extend(this.pointLocation(new s.P(0,o))).extend(this.pointLocation(new s.P(this.width,o))).extend(this.pointLocation(new s.P(this.width,this.height))).extend(this.pointLocation(new s.P(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new ce([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(o){o?(this.lngRange=[o.getWest(),o.getEast()],this.latRange=[o.getSouth(),o.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-85.051129,Jo])}calculateTileMatrix(o){const d=o.canonical,p=this.worldSize/this.zoomScale(d.z),v=d.x+Math.pow(2,d.z)*o.wrap,b=s.an(new Float64Array(16));return s.J(b,b,[v*p,d.y*p,0]),s.K(b,b,[p/s.X,p/s.X,1]),b}calculatePosMatrix(o,d=!1){const p=o.key,v=d?this._alignedPosMatrixCache:this._posMatrixCache;if(v[p])return v[p];const b=this.calculateTileMatrix(o);return s.L(b,d?this.alignedModelViewProjectionMatrix:this.modelViewProjectionMatrix,b),v[p]=new Float32Array(b),v[p]}calculateFogMatrix(o){const d=o.key,p=this._fogMatrixCache;if(p[d])return p[d];const v=this.calculateTileMatrix(o);return s.L(v,this.fogMatrix,v),p[d]=new Float32Array(v),p[d]}customLayerMatrix(){return this.mercatorMatrix.slice()}getConstrained(o,d){d=s.ac(+d,this.minZoom,this.maxZoom);const p={center:new s.N(o.lng,o.lat),zoom:d};let v=this.lngRange;if(!this._renderWorldCopies&&v===null){const Le=179.9999999999;v=[-Le,Le]}const b=this.tileSize*this.zoomScale(p.zoom);let P=0,I=b,N=0,U=b,G=0,W=0;const{x:oe,y:le}=this.size;if(this.latRange){const Le=this.latRange;P=s.Q(Le[1])*b,I=s.Q(Le[0])*b,I-P<le&&(G=le/(I-P))}v&&(N=s.b3(s.O(v[0])*b,0,b),U=s.b3(s.O(v[1])*b,0,b),U<N&&(U+=b),U-N<oe&&(W=oe/(U-N)));const{x:ie,y:he}=this.project.call({worldSize:b},o);let Te,Ie;const De=Math.max(W||0,G||0);if(De){const Le=new s.P(W?(U+N)/2:ie,G?(I+P)/2:he);return p.center=this.unproject.call({worldSize:b},Le).wrap(),p.zoom+=this.scaleZoom(De),p}if(this.latRange){const Le=le/2;he-Le<P&&(Ie=P+Le),he+Le>I&&(Ie=I-Le)}if(v){const Le=(N+U)/2;let Ue=ie;this._renderWorldCopies&&(Ue=s.b3(ie,Le-b/2,Le+b/2));const tt=oe/2;Ue-tt<N&&(Te=N+tt),Ue+tt>U&&(Te=U-tt)}if(Te!==void 0||Ie!==void 0){const Le=new s.P(Te??ie,Ie??he);p.center=this.unproject.call({worldSize:b},Le).wrap()}return p}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const o=this._unmodified,{center:d,zoom:p}=this.getConstrained(this.center,this.zoom);this.center=d,this.zoom=p,this._unmodified=o,this._constraining=!1}_calcMatrices(){if(!this.height)return;const o=this.centerOffset,d=this.point.x,p=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=s.b5(1,this.center.lat)*this.worldSize;let v=s.an(new Float64Array(16));s.K(v,v,[this.width/2,-this.height/2,1]),s.J(v,v,[1,-1,0]),this.labelPlaneMatrix=v,v=s.an(new Float64Array(16)),s.K(v,v,[1,-1,1]),s.J(v,v,[-1,-1,0]),s.K(v,v,[2/this.width,2/this.height,1]),this.glCoordMatrix=v;const b=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),P=Math.min(this.elevation,this.minElevationForCurrentTile),I=b-P*this._pixelPerMeter/Math.cos(this._pitch),N=P<0?I:b,U=Math.PI/2+this._pitch,G=this._fov*(.5+o.y/this.height),W=Math.sin(G)*N/Math.sin(s.ac(Math.PI-U-G,.01,Math.PI-.01)),oe=this.getHorizon(),le=2*Math.atan(oe/this.cameraToCenterDistance)*(.5+o.y/(2*oe)),ie=Math.sin(le)*N/Math.sin(s.ac(Math.PI-U-le,.01,Math.PI-.01)),he=Math.min(W,ie);this.farZ=1.01*(Math.cos(Math.PI/2-this._pitch)*he+N),this.nearZ=this.height/50,v=new Float64Array(16),s.b6(v,this._fov,this.width/this.height,this.nearZ,this.farZ),v[8]=2*-o.x/this.width,v[9]=2*o.y/this.height,this.projectionMatrix=s.ae(v),s.K(v,v,[1,-1,1]),s.J(v,v,[0,0,-this.cameraToCenterDistance]),s.b7(v,v,this._pitch),s.ad(v,v,this.angle),s.J(v,v,[-d,-p,0]),this.mercatorMatrix=s.K([],v,[this.worldSize,this.worldSize,this.worldSize]),s.K(v,v,[1,1,this._pixelPerMeter]),this.pixelMatrix=s.L(new Float64Array(16),this.labelPlaneMatrix,v),s.J(v,v,[0,0,-this.elevation]),this.modelViewProjectionMatrix=v,this.invModelViewProjectionMatrix=s.as([],v),this.fogMatrix=new Float64Array(16),s.b6(this.fogMatrix,this._fov,this.width/this.height,b,this.farZ),this.fogMatrix[8]=2*-o.x/this.width,this.fogMatrix[9]=2*o.y/this.height,s.K(this.fogMatrix,this.fogMatrix,[1,-1,1]),s.J(this.fogMatrix,this.fogMatrix,[0,0,-this.cameraToCenterDistance]),s.b7(this.fogMatrix,this.fogMatrix,this._pitch),s.ad(this.fogMatrix,this.fogMatrix,this.angle),s.J(this.fogMatrix,this.fogMatrix,[-d,-p,0]),s.K(this.fogMatrix,this.fogMatrix,[1,1,this._pixelPerMeter]),s.J(this.fogMatrix,this.fogMatrix,[0,0,-this.elevation]),this.pixelMatrix3D=s.L(new Float64Array(16),this.labelPlaneMatrix,v);const Te=this.width%2/2,Ie=this.height%2/2,De=Math.cos(this.angle),Le=Math.sin(this.angle),Ue=d-Math.round(d)+De*Te+Le*Ie,tt=p-Math.round(p)+De*Ie+Le*Te,Je=new Float64Array(v);if(s.J(Je,Je,[Ue>.5?Ue-1:Ue,tt>.5?tt-1:tt,0]),this.alignedModelViewProjectionMatrix=Je,v=s.as(new Float64Array(16),this.pixelMatrix),!v)throw new Error("failed to invert matrix");this.pixelMatrixInverse=v,this._posMatrixCache={},this._alignedPosMatrixCache={},this._fogMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const o=this.pointCoordinate(new s.P(0,0)),d=[o.x*this.worldSize,o.y*this.worldSize,0,1];return s.af(d,d,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const o=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new s.P(0,o))}getCameraQueryGeometry(o){const d=this.getCameraPoint();if(o.length===1)return[o[0],d];{let p=d.x,v=d.y,b=d.x,P=d.y;for(const I of o)p=Math.min(p,I.x),v=Math.min(v,I.y),b=Math.max(b,I.x),P=Math.max(P,I.y);return[new s.P(p,v),new s.P(b,v),new s.P(b,P),new s.P(p,P),new s.P(p,v)]}}lngLatToCameraDepth(o,d){const p=this.locationCoordinate(o),v=[p.x*this.worldSize,p.y*this.worldSize,d,1];return s.af(v,v,this.modelViewProjectionMatrix),v[2]/v[3]}}function ha(y,o){let d,p=!1,v=null,b=null;const P=()=>{v=null,p&&(y.apply(b,d),v=setTimeout(P,o),p=!1)};return(...I)=>(p=!0,b=this,d=I,v||P(),v)}class Wa{constructor(o){this._getCurrentHash=()=>{const d=window.location.hash.replace("#","");if(this._hashName){let p;return d.split("&").map(v=>v.split("=")).forEach(v=>{v[0]===this._hashName&&(p=v)}),(p&&p[1]||"").split("/")}return d.split("/")},this._onHashChange=()=>{const d=this._getCurrentHash();if(d.length>=3&&!d.some(p=>isNaN(p))){const p=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(d[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+d[2],+d[1]],zoom:+d[0],bearing:p,pitch:+(d[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const d=window.location.href.replace(/(#.*)?$/,this.getHashString());window.history.replaceState(window.history.state,null,d)},this._removeHash=()=>{const d=this._getCurrentHash();if(d.length===0)return;const p=d.join("/");let v=p;v.split("&").length>0&&(v=v.split("&")[0]),this._hashName&&(v=`${this._hashName}=${p}`);let b=window.location.hash.replace(v,"");b.startsWith("#&")?b=b.slice(0,1)+b.slice(2):b==="#"&&(b="");let P=window.location.href.replace(/(#.+)?$/,b);P=P.replace("&&","&"),window.history.replaceState(window.history.state,null,P)},this._updateHash=ha(this._updateHashUnthrottled,300),this._hashName=o&&encodeURIComponent(o)}addTo(o){return this._map=o,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(o){const d=this._map.getCenter(),p=Math.round(100*this._map.getZoom())/100,v=Math.ceil((p*Math.LN2+Math.log(512/360/.5))/Math.LN10),b=Math.pow(10,v),P=Math.round(d.lng*b)/b,I=Math.round(d.lat*b)/b,N=this._map.getBearing(),U=this._map.getPitch();let G="";if(G+=o?`/${P}/${I}/${p}`:`${p}/${I}/${P}`,(N||U)&&(G+="/"+Math.round(10*N)/10),U&&(G+=`/${Math.round(U)}`),this._hashName){const W=this._hashName;let oe=!1;const le=window.location.hash.slice(1).split("&").map(ie=>{const he=ie.split("=")[0];return he===W?(oe=!0,`${he}=${G}`):ie}).filter(ie=>ie);return oe||le.push(`${W}=${G}`),`#${le.join("&")}`}return`#${G}`}}const mo={linearity:.3,easing:s.b8(0,0,.3,1)},ns=s.e({deceleration:2500,maxSpeed:1400},mo),Si=s.e({deceleration:20,maxSpeed:1400},mo),gi=s.e({deceleration:1e3,maxSpeed:360},mo),ln=s.e({deceleration:1e3,maxSpeed:90},mo);class cn{constructor(o){this._map=o,this.clear()}clear(){this._inertiaBuffer=[]}record(o){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:w.now(),settings:o})}_drainInertiaBuffer(){const o=this._inertiaBuffer,d=w.now();for(;o.length>0&&d-o[0].time>160;)o.shift()}_onMoveEnd(o){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const d={zoom:0,bearing:0,pitch:0,pan:new s.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:b}of this._inertiaBuffer)d.zoom+=b.zoomDelta||0,d.bearing+=b.bearingDelta||0,d.pitch+=b.pitchDelta||0,b.panDelta&&d.pan._add(b.panDelta),b.around&&(d.around=b.around),b.pinchAround&&(d.pinchAround=b.pinchAround);const p=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,v={};if(d.pan.mag()){const b=go(d.pan.mag(),p,s.e({},ns,o||{}));v.offset=d.pan.mult(b.amount/d.pan.mag()),v.center=this._map.transform.center,Qo(v,b)}if(d.zoom){const b=go(d.zoom,p,Si);v.zoom=this._map.transform.zoom+b.amount,Qo(v,b)}if(d.bearing){const b=go(d.bearing,p,gi);v.bearing=this._map.transform.bearing+s.ac(b.amount,-179,179),Qo(v,b)}if(d.pitch){const b=go(d.pitch,p,ln);v.pitch=this._map.transform.pitch+b.amount,Qo(v,b)}if(v.zoom||v.bearing){const b=d.pinchAround===void 0?d.around:d.pinchAround;v.around=b?this._map.unproject(b):this._map.getCenter()}return this.clear(),s.e(v,{noMoveStart:!0})}}function Qo(y,o){(!y.duration||y.duration<o.duration)&&(y.duration=o.duration,y.easing=o.easing)}function go(y,o,d){const{maxSpeed:p,linearity:v,deceleration:b}=d,P=s.ac(y*v/(o/1e3),-p,p),I=Math.abs(P)/(b*v);return{easing:d.easing,duration:1e3*I,amount:P*(I/2)}}class Ni extends s.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(o,d,p,v={}){const b=S.mousePos(d.getCanvas(),p),P=d.unproject(b);super(o,s.e({point:b,lngLat:P,originalEvent:p},v)),this._defaultPrevented=!1,this.target=d}}class ro extends s.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(o,d,p){const v=o==="touchend"?p.changedTouches:p.touches,b=S.touchPos(d.getCanvasContainer(),v),P=b.map(N=>d.unproject(N)),I=b.reduce((N,U,G,W)=>N.add(U.div(W.length)),new s.P(0,0));super(o,{points:b,point:I,lngLats:P,lngLat:d.unproject(I),originalEvent:p}),this._defaultPrevented=!1}}class xs extends s.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(o,d,p){super(o,{originalEvent:p}),this._defaultPrevented=!1}}class Vs{constructor(o,d){this._map=o,this._clickTolerance=d.clickTolerance}reset(){delete this._mousedownPos}wheel(o){return this._firePreventable(new xs(o.type,this._map,o))}mousedown(o,d){return this._mousedownPos=d,this._firePreventable(new Ni(o.type,this._map,o))}mouseup(o){this._map.fire(new Ni(o.type,this._map,o))}click(o,d){this._mousedownPos&&this._mousedownPos.dist(d)>=this._clickTolerance||this._map.fire(new Ni(o.type,this._map,o))}dblclick(o){return this._firePreventable(new Ni(o.type,this._map,o))}mouseover(o){this._map.fire(new Ni(o.type,this._map,o))}mouseout(o){this._map.fire(new Ni(o.type,this._map,o))}touchstart(o){return this._firePreventable(new ro(o.type,this._map,o))}touchmove(o){this._map.fire(new ro(o.type,this._map,o))}touchend(o){this._map.fire(new ro(o.type,this._map,o))}touchcancel(o){this._map.fire(new ro(o.type,this._map,o))}_firePreventable(o){if(this._map.fire(o),o.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class yi{constructor(o){this._map=o}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(o){this._map.fire(new Ni(o.type,this._map,o))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ni("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(o){this._delayContextMenu?this._contextMenuEvent=o:this._ignoreContextMenu||this._map.fire(new Ni(o.type,this._map,o)),this._map.listens("contextmenu")&&o.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class fa{constructor(o){this._map=o}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(o){return this.transform.pointLocation(s.P.convert(o),this._map.terrain)}}class yo{constructor(o,d){this._map=o,this._tr=new fa(o),this._el=o.getCanvasContainer(),this._container=o.getContainer(),this._clickTolerance=d.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(o,d){this.isEnabled()&&o.shiftKey&&o.button===0&&(S.disableDrag(),this._startPos=this._lastPos=d,this._active=!0)}mousemoveWindow(o,d){if(!this._active)return;const p=d;if(this._lastPos.equals(p)||!this._box&&p.dist(this._startPos)<this._clickTolerance)return;const v=this._startPos;this._lastPos=p,this._box||(this._box=S.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",o));const b=Math.min(v.x,p.x),P=Math.max(v.x,p.x),I=Math.min(v.y,p.y),N=Math.max(v.y,p.y);S.setTransform(this._box,`translate(${b}px,${I}px)`),this._box.style.width=P-b+"px",this._box.style.height=N-I+"px"}mouseupWindow(o,d){if(!this._active||o.button!==0)return;const p=this._startPos,v=d;if(this.reset(),S.suppressClick(),p.x!==v.x||p.y!==v.y)return this._map.fire(new s.k("boxzoomend",{originalEvent:o})),{cameraAnimation:b=>b.fitScreenCoordinates(p,v,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",o)}keydown(o){this._active&&o.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",o))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(S.remove(this._box),this._box=null),S.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(o,d){return this._map.fire(new s.k(o,{originalEvent:d}))}}function is(y,o){if(y.length!==o.length)throw new Error(`The number of touches and points are not equal - touches ${y.length}, points ${o.length}`);const d={};for(let p=0;p<y.length;p++)d[y[p].identifier]=o[p];return d}class Ju{constructor(o){this.reset(),this.numTouches=o.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(o,d,p){(this.centroid||p.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=o.timeStamp),p.length===this.numTouches&&(this.centroid=function(v){const b=new s.P(0,0);for(const P of v)b._add(P);return b.div(v.length)}(d),this.touches=is(p,d)))}touchmove(o,d,p){if(this.aborted||!this.centroid)return;const v=is(p,d);for(const b in this.touches){const P=v[b];(!P||P.dist(this.touches[b])>30)&&(this.aborted=!0)}}touchend(o,d,p){if((!this.centroid||o.timeStamp-this.startTime>500)&&(this.aborted=!0),p.length===0){const v=!this.aborted&&this.centroid;if(this.reset(),v)return v}}}class qs{constructor(o){this.singleTap=new Ju(o),this.numTaps=o.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(o,d,p){this.singleTap.touchstart(o,d,p)}touchmove(o,d,p){this.singleTap.touchmove(o,d,p)}touchend(o,d,p){const v=this.singleTap.touchend(o,d,p);if(v){const b=o.timeStamp-this.lastTime<500,P=!this.lastTap||this.lastTap.dist(v)<30;if(b&&P||this.reset(),this.count++,this.lastTime=o.timeStamp,this.lastTap=v,this.count===this.numTaps)return this.reset(),v}}}class lo{constructor(o){this._tr=new fa(o),this._zoomIn=new qs({numTouches:1,numTaps:2}),this._zoomOut=new qs({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(o,d,p){this._zoomIn.touchstart(o,d,p),this._zoomOut.touchstart(o,d,p)}touchmove(o,d,p){this._zoomIn.touchmove(o,d,p),this._zoomOut.touchmove(o,d,p)}touchend(o,d,p){const v=this._zoomIn.touchend(o,d,p),b=this._zoomOut.touchend(o,d,p),P=this._tr;return v?(this._active=!0,o.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:I=>I.easeTo({duration:300,zoom:P.zoom+1,around:P.unproject(v)},{originalEvent:o})}):b?(this._active=!0,o.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:I=>I.easeTo({duration:300,zoom:P.zoom-1,around:P.unproject(b)},{originalEvent:o})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Fi{constructor(o){this._enabled=!!o.enable,this._moveStateManager=o.moveStateManager,this._clickTolerance=o.clickTolerance||1,this._moveFunction=o.move,this._activateOnStart=!!o.activateOnStart,o.assignEvents(this),this.reset()}reset(o){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(o)}_move(...o){const d=this._moveFunction(...o);if(d.bearingDelta||d.pitchDelta||d.around||d.panDelta)return this._active=!0,d}dragStart(o,d){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(o)&&(this._moveStateManager.startMove(o),this._lastPoint=d.length?d[0]:d,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(o,d){if(!this.isEnabled())return;const p=this._lastPoint;if(!p)return;if(o.preventDefault(),!this._moveStateManager.isValidMoveEvent(o))return void this.reset(o);const v=d.length?d[0]:d;return!this._moved&&v.dist(p)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=v,this._move(p,v))}dragEnd(o){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(o)&&(this._moved&&S.suppressClick(),this.reset(o))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const gl={0:1,2:2};class zl{constructor(o){this._correctEvent=o.checkCorrectEvent}startMove(o){const d=S.mouseButton(o);this._eventButton=d}endMove(o){delete this._eventButton}isValidStartEvent(o){return this._correctEvent(o)}isValidMoveEvent(o){return!function(d,p){const v=gl[p];return d.buttons===void 0||(d.buttons&v)!==v}(o,this._eventButton)}isValidEndEvent(o){return S.mouseButton(o)===this._eventButton}}class vu{constructor(){this._firstTouch=void 0}_isOneFingerTouch(o){return o.targetTouches.length===1}_isSameTouchEvent(o){return o.targetTouches[0].identifier===this._firstTouch}startMove(o){this._firstTouch=o.targetTouches[0].identifier}endMove(o){delete this._firstTouch}isValidStartEvent(o){return this._isOneFingerTouch(o)}isValidMoveEvent(o){return this._isOneFingerTouch(o)&&this._isSameTouchEvent(o)}isValidEndEvent(o){return this._isOneFingerTouch(o)&&this._isSameTouchEvent(o)}}const Hs=y=>{y.mousedown=y.dragStart,y.mousemoveWindow=y.dragMove,y.mouseup=y.dragEnd,y.contextmenu=o=>{o.preventDefault()}},gd=({enable:y,clickTolerance:o,bearingDegreesPerPixelMoved:d=.8})=>{const p=new zl({checkCorrectEvent:v=>S.mouseButton(v)===0&&v.ctrlKey||S.mouseButton(v)===2});return new Fi({clickTolerance:o,move:(v,b)=>({bearingDelta:(b.x-v.x)*d}),moveStateManager:p,enable:y,assignEvents:Hs})},fh=({enable:y,clickTolerance:o,pitchDegreesPerPixelMoved:d=-.5})=>{const p=new zl({checkCorrectEvent:v=>S.mouseButton(v)===0&&v.ctrlKey||S.mouseButton(v)===2});return new Fi({clickTolerance:o,move:(v,b)=>({pitchDelta:(b.y-v.y)*d}),moveStateManager:p,enable:y,assignEvents:Hs})};class Qu{constructor(o,d){this._clickTolerance=o.clickTolerance||1,this._map=d,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new s.P(0,0)}_shouldBePrevented(o){return o<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(o,d,p){return this._calculateTransform(o,d,p)}touchmove(o,d,p){if(this._active){if(!this._shouldBePrevented(p.length))return o.preventDefault(),this._calculateTransform(o,d,p);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",o)}}touchend(o,d,p){this._calculateTransform(o,d,p),this._active&&this._shouldBePrevented(p.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(o,d,p){p.length>0&&(this._active=!0);const v=is(p,d),b=new s.P(0,0),P=new s.P(0,0);let I=0;for(const U in v){const G=v[U],W=this._touches[U];W&&(b._add(G),P._add(G.sub(W)),I++,v[U]=G)}if(this._touches=v,this._shouldBePrevented(I)||!P.mag())return;const N=P.div(I);return this._sum._add(N),this._sum.mag()<this._clickTolerance?void 0:{around:b.div(I),panDelta:N}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class yd{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(o,d,p){this._firstTwoTouches||p.length<2||(this._firstTwoTouches=[p[0].identifier,p[1].identifier],this._start([d[0],d[1]]))}touchmove(o,d,p){if(!this._firstTwoTouches)return;o.preventDefault();const[v,b]=this._firstTwoTouches,P=Oc(p,d,v),I=Oc(p,d,b);if(!P||!I)return;const N=this._aroundCenter?null:P.add(I).div(2);return this._move([P,I],N,o)}touchend(o,d,p){if(!this._firstTwoTouches)return;const[v,b]=this._firstTwoTouches,P=Oc(p,d,v),I=Oc(p,d,b);P&&I||(this._active&&S.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(o){this._enabled=!0,this._aroundCenter=!!o&&o.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function Oc(y,o,d){for(let p=0;p<y.length;p++)if(y[p].identifier===d)return o[p]}function vd(y,o){return Math.log(y/o)/Math.LN2}class ph extends yd{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(o){this._startDistance=this._distance=o[0].dist(o[1])}_move(o,d){const p=this._distance;if(this._distance=o[0].dist(o[1]),this._active||!(Math.abs(vd(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:vd(this._distance,p),pinchAround:d}}}function wp(y,o){return 180*y.angleWith(o)/Math.PI}class Sp extends yd{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(o){this._startVector=this._vector=o[0].sub(o[1]),this._minDiameter=o[0].dist(o[1])}_move(o,d,p){const v=this._vector;if(this._vector=o[0].sub(o[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:wp(this._vector,v),pinchAround:d}}_isBelowThreshold(o){this._minDiameter=Math.min(this._minDiameter,o.mag());const d=25/(Math.PI*this._minDiameter)*360,p=wp(o,this._startVector);return Math.abs(p)<d}}function mh(y){return Math.abs(y.y)>Math.abs(y.x)}class bd extends yd{constructor(o){super(),this._currentTouchCount=0,this._map=o}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(o,d,p){super.touchstart(o,d,p),this._currentTouchCount=p.length}_start(o){this._lastPoints=o,mh(o[0].sub(o[1]))&&(this._valid=!1)}_move(o,d,p){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const v=o[0].sub(this._lastPoints[0]),b=o[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(v,b,p.timeStamp),this._valid?(this._lastPoints=o,this._active=!0,{pitchDelta:(v.y+b.y)/2*-.5}):void 0}gestureBeginsVertically(o,d,p){if(this._valid!==void 0)return this._valid;const v=o.mag()>=2,b=d.mag()>=2;if(!v&&!b)return;if(!v||!b)return this._firstMove===void 0&&(this._firstMove=p),p-this._firstMove<100&&void 0;const P=o.y>0==d.y>0;return mh(o)&&mh(d)&&P}}const Gm={panStep:100,bearingStep:15,pitchStep:10};class Ws{constructor(o){this._tr=new fa(o);const d=Gm;this._panStep=d.panStep,this._bearingStep=d.bearingStep,this._pitchStep=d.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(o){if(o.altKey||o.ctrlKey||o.metaKey)return;let d=0,p=0,v=0,b=0,P=0;switch(o.keyCode){case 61:case 107:case 171:case 187:d=1;break;case 189:case 109:case 173:d=-1;break;case 37:o.shiftKey?p=-1:(o.preventDefault(),b=-1);break;case 39:o.shiftKey?p=1:(o.preventDefault(),b=1);break;case 38:o.shiftKey?v=1:(o.preventDefault(),P=-1);break;case 40:o.shiftKey?v=-1:(o.preventDefault(),P=1);break;default:return}return this._rotationDisabled&&(p=0,v=0),{cameraAnimation:I=>{const N=this._tr;I.easeTo({duration:300,easeId:"keyboardHandler",easing:jl,zoom:d?Math.round(N.zoom)+d*(o.shiftKey?2:1):N.zoom,bearing:N.bearing+p*this._bearingStep,pitch:N.pitch+v*this._pitchStep,offset:[-b*this._panStep,-P*this._panStep],center:N.center},{originalEvent:o})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function jl(y){return y*(2-y)}const Cp=4.000244140625;class _s{constructor(o,d){this._onTimeout=p=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(p)},this._map=o,this._tr=new fa(o),this._triggerRenderFrame=d,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(o){this._defaultZoomRate=o}setWheelZoomRate(o){this._wheelZoomRate=o}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(o){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!o&&o.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(o){return!!this._map.cooperativeGestures.isEnabled()&&!(o.ctrlKey||this._map.cooperativeGestures.isBypassed(o))}wheel(o){if(!this.isEnabled())return;if(this._shouldBePrevented(o))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",o);let d=o.deltaMode===WheelEvent.DOM_DELTA_LINE?40*o.deltaY:o.deltaY;const p=w.now(),v=p-(this._lastWheelEventTime||0);this._lastWheelEventTime=p,d!==0&&d%Cp==0?this._type="wheel":d!==0&&Math.abs(d)<4?this._type="trackpad":v>400?(this._type=null,this._lastValue=d,this._timeout=setTimeout(this._onTimeout,40,o)):this._type||(this._type=Math.abs(v*d)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,d+=this._lastValue)),o.shiftKey&&d&&(d/=4),this._type&&(this._lastWheelEvent=o,this._delta-=d,this._active||this._start(o)),o.preventDefault()}_start(o){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const d=S.mousePos(this._map.getCanvas(),o),p=this._tr;this._around=d.y>p.transform.height/2-p.transform.getHorizon()?s.N.convert(this._aroundCenter?p.center:p.unproject(d)):s.N.convert(p.center),this._aroundPoint=p.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const o=this._tr.transform;if(this._delta!==0){const N=this._type==="wheel"&&Math.abs(this._delta)>Cp?this._wheelZoomRate:this._defaultZoomRate;let U=2/(1+Math.exp(-Math.abs(this._delta*N)));this._delta<0&&U!==0&&(U=1/U);const G=typeof this._targetZoom=="number"?o.zoomScale(this._targetZoom):o.scale;this._targetZoom=Math.min(o.maxZoom,Math.max(o.minZoom,o.scaleZoom(G*U))),this._type==="wheel"&&(this._startZoom=o.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const d=typeof this._targetZoom=="number"?this._targetZoom:o.zoom,p=this._startZoom,v=this._easing;let b,P=!1;const I=w.now()-this._lastWheelEventTime;if(this._type==="wheel"&&p&&v&&I){const N=Math.min(I/200,1),U=v(N);b=s.y.number(p,d,U),N<1?this._frameId||(this._frameId=!0):P=!0}else b=d,P=!0;return this._active=!0,P&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!P,zoomDelta:b-o.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(o){let d=s.b9;if(this._prevEase){const p=this._prevEase,v=(w.now()-p.start)/p.duration,b=p.easing(v+.01)-p.easing(v),P=.27/Math.sqrt(b*b+1e-4)*.01,I=Math.sqrt(.0729-P*P);d=s.b8(P,I,.25,1)}return this._prevEase={start:w.now(),duration:o,easing:d},d}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class bu{constructor(o,d){this._clickZoom=o,this._tapZoom=d}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class gh{constructor(o){this._tr=new fa(o),this.reset()}reset(){this._active=!1}dblclick(o,d){return o.preventDefault(),{cameraAnimation:p=>{p.easeTo({duration:300,zoom:this._tr.zoom+(o.shiftKey?-1:1),around:this._tr.unproject(d)},{originalEvent:o})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Wy{constructor(){this._tap=new qs({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(o,d,p){if(!this._swipePoint)if(this._tapTime){const v=d[0],b=o.timeStamp-this._tapTime<500,P=this._tapPoint.dist(v)<30;b&&P?p.length>0&&(this._swipePoint=v,this._swipeTouch=p[0].identifier):this.reset()}else this._tap.touchstart(o,d,p)}touchmove(o,d,p){if(this._tapTime){if(this._swipePoint){if(p[0].identifier!==this._swipeTouch)return;const v=d[0],b=v.y-this._swipePoint.y;return this._swipePoint=v,o.preventDefault(),this._active=!0,{zoomDelta:b/128}}}else this._tap.touchmove(o,d,p)}touchend(o,d,p){if(this._tapTime)this._swipePoint&&p.length===0&&this.reset();else{const v=this._tap.touchend(o,d,p);v&&(this._tapTime=o.timeStamp,this._tapPoint=v)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Km{constructor(o,d,p){this._el=o,this._mousePan=d,this._touchPan=p}enable(o){this._inertiaOptions=o||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Ep{constructor(o,d,p){this._pitchWithRotate=o.pitchWithRotate,this._mouseRotate=d,this._mousePitch=p}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Ap{constructor(o,d,p,v){this._el=o,this._touchZoom=d,this._touchRotate=p,this._tapDragZoom=v,this._rotationDisabled=!1,this._enabled=!0}enable(o){this._touchZoom.enable(o),this._rotationDisabled||this._touchRotate.enable(o),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class xd{constructor(o,d){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=o,this._options=d,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;const o=this._map.getCanvasContainer();o.classList.add("maplibregl-cooperative-gestures"),this._container=S.create("div","maplibregl-cooperative-gesture-screen",o);let d=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(d=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));const p=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),v=document.createElement("div");v.className="maplibregl-desktop-message",v.textContent=d,this._container.appendChild(v);const b=document.createElement("div");b.className="maplibregl-mobile-message",b.textContent=p,this._container.appendChild(b),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(S.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(o){return o[this._bypassKey]}notifyGestureBlocked(o,d){this._enabled&&(this._map.fire(new s.k("cooperativegestureprevented",{gestureType:o,originalEvent:d})),this._container.classList.add("maplibregl-show"),setTimeout(()=>{this._container.classList.remove("maplibregl-show")},100))}}const Gs=y=>y.zoom||y.drag||y.pitch||y.rotate;class kr extends s.k{}function yl(y){return y.panDelta&&y.panDelta.mag()||y.zoomDelta||y.bearingDelta||y.pitchDelta}class ws{constructor(o,d){this.handleWindowEvent=v=>{this.handleEvent(v,`${v.type}Window`)},this.handleEvent=(v,b)=>{if(v.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const P=v.type==="renderFrame"?void 0:v,I={needsRenderFrame:!1},N={},U={},G=v.touches,W=G?this._getMapTouches(G):void 0,oe=W?S.touchPos(this._map.getCanvas(),W):S.mousePos(this._map.getCanvas(),v);for(const{handlerName:he,handler:Te,allowed:Ie}of this._handlers){if(!Te.isEnabled())continue;let De;this._blockedByActive(U,Ie,he)?Te.reset():Te[b||v.type]&&(De=Te[b||v.type](v,oe,W),this.mergeHandlerResult(I,N,De,he,P),De&&De.needsRenderFrame&&this._triggerRenderFrame()),(De||Te.isActive())&&(U[he]=Te)}const le={};for(const he in this._previousActiveHandlers)U[he]||(le[he]=P);this._previousActiveHandlers=U,(Object.keys(le).length||yl(I))&&(this._changes.push([I,N,le]),this._triggerRenderFrame()),(Object.keys(U).length||yl(I))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:ie}=I;ie&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],ie(this._map))},this._map=o,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new cn(o),this._bearingSnap=d.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(d);const p=this._el;this._listeners=[[p,"touchstart",{passive:!0}],[p,"touchmove",{passive:!1}],[p,"touchend",void 0],[p,"touchcancel",void 0],[p,"mousedown",void 0],[p,"mousemove",void 0],[p,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[p,"mouseover",void 0],[p,"mouseout",void 0],[p,"dblclick",void 0],[p,"click",void 0],[p,"keydown",{capture:!1}],[p,"keyup",void 0],[p,"wheel",{passive:!1}],[p,"contextmenu",void 0],[window,"blur",void 0]];for(const[v,b,P]of this._listeners)S.addEventListener(v,b,v===document?this.handleWindowEvent:this.handleEvent,P)}destroy(){for(const[o,d,p]of this._listeners)S.removeEventListener(o,d,o===document?this.handleWindowEvent:this.handleEvent,p)}_addDefaultHandlers(o){const d=this._map,p=d.getCanvasContainer();this._add("mapEvent",new Vs(d,o));const v=d.boxZoom=new yo(d,o);this._add("boxZoom",v),o.interactive&&o.boxZoom&&v.enable();const b=d.cooperativeGestures=new xd(d,o.cooperativeGestures);this._add("cooperativeGestures",b),o.cooperativeGestures&&b.enable();const P=new lo(d),I=new gh(d);d.doubleClickZoom=new bu(I,P),this._add("tapZoom",P),this._add("clickZoom",I),o.interactive&&o.doubleClickZoom&&d.doubleClickZoom.enable();const N=new Wy;this._add("tapDragZoom",N);const U=d.touchPitch=new bd(d);this._add("touchPitch",U),o.interactive&&o.touchPitch&&d.touchPitch.enable(o.touchPitch);const G=gd(o),W=fh(o);d.dragRotate=new Ep(o,G,W),this._add("mouseRotate",G,["mousePitch"]),this._add("mousePitch",W,["mouseRotate"]),o.interactive&&o.dragRotate&&d.dragRotate.enable();const oe=(({enable:De,clickTolerance:Le})=>{const Ue=new zl({checkCorrectEvent:tt=>S.mouseButton(tt)===0&&!tt.ctrlKey});return new Fi({clickTolerance:Le,move:(tt,Je)=>({around:Je,panDelta:Je.sub(tt)}),activateOnStart:!0,moveStateManager:Ue,enable:De,assignEvents:Hs})})(o),le=new Qu(o,d);d.dragPan=new Km(p,oe,le),this._add("mousePan",oe),this._add("touchPan",le,["touchZoom","touchRotate"]),o.interactive&&o.dragPan&&d.dragPan.enable(o.dragPan);const ie=new Sp,he=new ph;d.touchZoomRotate=new Ap(p,he,ie,N),this._add("touchRotate",ie,["touchPan","touchZoom"]),this._add("touchZoom",he,["touchPan","touchRotate"]),o.interactive&&o.touchZoomRotate&&d.touchZoomRotate.enable(o.touchZoomRotate);const Te=d.scrollZoom=new _s(d,()=>this._triggerRenderFrame());this._add("scrollZoom",Te,["mousePan"]),o.interactive&&o.scrollZoom&&d.scrollZoom.enable(o.scrollZoom);const Ie=d.keyboard=new Ws(d);this._add("keyboard",Ie),o.interactive&&o.keyboard&&d.keyboard.enable(),this._add("blockableMapEvent",new yi(d))}_add(o,d,p){this._handlers.push({handlerName:o,handler:d,allowed:p}),this._handlersById[o]=d}stop(o){if(!this._updatingCamera){for(const{handler:d}of this._handlers)d.reset();this._inertia.clear(),this._fireEvents({},{},o),this._changes=[]}}isActive(){for(const{handler:o}of this._handlers)if(o.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Gs(this._eventsInProgress)||this.isZooming()}_blockedByActive(o,d,p){for(const v in o)if(v!==p&&(!d||d.indexOf(v)<0))return!0;return!1}_getMapTouches(o){const d=[];for(const p of o)this._el.contains(p.target)&&d.push(p);return d}mergeHandlerResult(o,d,p,v,b){if(!p)return;s.e(o,p);const P={handlerName:v,originalEvent:p.originalEvent||b};p.zoomDelta!==void 0&&(d.zoom=P),p.panDelta!==void 0&&(d.drag=P),p.pitchDelta!==void 0&&(d.pitch=P),p.bearingDelta!==void 0&&(d.rotate=P)}_applyChanges(){const o={},d={},p={};for(const[v,b,P]of this._changes)v.panDelta&&(o.panDelta=(o.panDelta||new s.P(0,0))._add(v.panDelta)),v.zoomDelta&&(o.zoomDelta=(o.zoomDelta||0)+v.zoomDelta),v.bearingDelta&&(o.bearingDelta=(o.bearingDelta||0)+v.bearingDelta),v.pitchDelta&&(o.pitchDelta=(o.pitchDelta||0)+v.pitchDelta),v.around!==void 0&&(o.around=v.around),v.pinchAround!==void 0&&(o.pinchAround=v.pinchAround),v.noInertia&&(o.noInertia=v.noInertia),s.e(d,b),s.e(p,P);this._updateMapTransform(o,d,p),this._changes=[]}_updateMapTransform(o,d,p){const v=this._map,b=v._getTransformForUpdate(),P=v.terrain;if(!(yl(o)||P&&this._terrainMovement))return this._fireEvents(d,p,!0);let{panDelta:I,zoomDelta:N,bearingDelta:U,pitchDelta:G,around:W,pinchAround:oe}=o;oe!==void 0&&(W=oe),v._stop(!0),W=W||v.transform.centerPoint;const le=b.pointLocation(I?W.sub(I):W);U&&(b.bearing+=U),G&&(b.pitch+=G),N&&(b.zoom+=N),P?this._terrainMovement||!d.drag&&!d.zoom?d.drag&&this._terrainMovement?b.center=b.pointLocation(b.centerPoint.sub(I)):b.setLocationAtPoint(le,W):(this._terrainMovement=!0,this._map._elevationFreeze=!0,b.setLocationAtPoint(le,W)):b.setLocationAtPoint(le,W),v._applyUpdatedTransform(b),this._map._update(),o.noInertia||this._inertia.record(o),this._fireEvents(d,p,!0)}_fireEvents(o,d,p){const v=Gs(this._eventsInProgress),b=Gs(o),P={};for(const W in o){const{originalEvent:oe}=o[W];this._eventsInProgress[W]||(P[`${W}start`]=oe),this._eventsInProgress[W]=o[W]}!v&&b&&this._fireEvent("movestart",b.originalEvent);for(const W in P)this._fireEvent(W,P[W]);b&&this._fireEvent("move",b.originalEvent);for(const W in o){const{originalEvent:oe}=o[W];this._fireEvent(W,oe)}const I={};let N;for(const W in this._eventsInProgress){const{handlerName:oe,originalEvent:le}=this._eventsInProgress[W];this._handlersById[oe].isActive()||(delete this._eventsInProgress[W],N=d[oe]||le,I[`${W}end`]=N)}for(const W in I)this._fireEvent(W,I[W]);const U=Gs(this._eventsInProgress),G=(v||b)&&!U;if(G&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;const W=this._map._getTransformForUpdate();W.recalculateZoom(this._map.terrain),this._map._applyUpdatedTransform(W)}if(p&&G){this._updatingCamera=!0;const W=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),oe=le=>le!==0&&-this._bearingSnap<le&&le<this._bearingSnap;!W||!W.essential&&w.prefersReducedMotion?(this._map.fire(new s.k("moveend",{originalEvent:N})),oe(this._map.getBearing())&&this._map.resetNorth()):(oe(W.bearing||this._map.getBearing())&&(W.bearing=0),W.freezeElevation=!0,this._map.easeTo(W,{originalEvent:N})),this._updatingCamera=!1}}_fireEvent(o,d){this._map.fire(new s.k(o,d?{originalEvent:d}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(o=>{delete this._frameId,this.handleEvent(new kr("renderFrame",{timeStamp:o})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class Ul extends s.E{constructor(o,d){super(),this._renderFrameCallback=()=>{const p=Math.min((w.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(p)),p<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=o,this._bearingSnap=d.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new s.N(this.transform.center.lng,this.transform.center.lat)}setCenter(o,d){return this.jumpTo({center:o},d)}panBy(o,d,p){return o=s.P.convert(o).mult(-1),this.panTo(this.transform.center,s.e({offset:o},d),p)}panTo(o,d,p){return this.easeTo(s.e({center:o},d),p)}getZoom(){return this.transform.zoom}setZoom(o,d){return this.jumpTo({zoom:o},d),this}zoomTo(o,d,p){return this.easeTo(s.e({zoom:o},d),p)}zoomIn(o,d){return this.zoomTo(this.getZoom()+1,o,d),this}zoomOut(o,d){return this.zoomTo(this.getZoom()-1,o,d),this}getBearing(){return this.transform.bearing}setBearing(o,d){return this.jumpTo({bearing:o},d),this}getPadding(){return this.transform.padding}setPadding(o,d){return this.jumpTo({padding:o},d),this}rotateTo(o,d,p){return this.easeTo(s.e({bearing:o},d),p)}resetNorth(o,d){return this.rotateTo(0,s.e({duration:1e3},o),d),this}resetNorthPitch(o,d){return this.easeTo(s.e({bearing:0,pitch:0,duration:1e3},o),d),this}snapToNorth(o,d){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(o,d):this}getPitch(){return this.transform.pitch}setPitch(o,d){return this.jumpTo({pitch:o},d),this}cameraForBounds(o,d){o=ce.convert(o).adjustAntiMeridian();const p=d&&d.bearing||0;return this._cameraForBoxAndBearing(o.getNorthWest(),o.getSouthEast(),p,d)}_cameraForBoxAndBearing(o,d,p,v){const b={top:0,bottom:0,right:0,left:0};if(typeof(v=s.e({padding:b,offset:[0,0],maxZoom:this.transform.maxZoom},v)).padding=="number"){const Kt=v.padding;v.padding={top:Kt,bottom:Kt,right:Kt,left:Kt}}v.padding=s.e(b,v.padding);const P=this.transform,I=P.padding,N=new ce(o,d),U=P.project(N.getNorthWest()),G=P.project(N.getNorthEast()),W=P.project(N.getSouthEast()),oe=P.project(N.getSouthWest()),le=s.ba(-p),ie=U.rotate(le),he=G.rotate(le),Te=W.rotate(le),Ie=oe.rotate(le),De=new s.P(Math.max(ie.x,he.x,Ie.x,Te.x),Math.max(ie.y,he.y,Ie.y,Te.y)),Le=new s.P(Math.min(ie.x,he.x,Ie.x,Te.x),Math.min(ie.y,he.y,Ie.y,Te.y)),Ue=De.sub(Le),tt=(P.width-(I.left+I.right+v.padding.left+v.padding.right))/Ue.x,Je=(P.height-(I.top+I.bottom+v.padding.top+v.padding.bottom))/Ue.y;if(Je<0||tt<0)return void s.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const Pt=Math.min(P.scaleZoom(P.scale*Math.min(tt,Je)),v.maxZoom),zt=s.P.convert(v.offset),Ht=new s.P((v.padding.left-v.padding.right)/2,(v.padding.top-v.padding.bottom)/2).rotate(s.ba(p)),Zt=zt.add(Ht).mult(P.scale/P.zoomScale(Pt));return{center:P.unproject(U.add(W).div(2).sub(Zt)),zoom:Pt,bearing:p}}fitBounds(o,d,p){return this._fitInternal(this.cameraForBounds(o,d),d,p)}fitScreenCoordinates(o,d,p,v,b){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(s.P.convert(o)),this.transform.pointLocation(s.P.convert(d)),p,v),v,b)}_fitInternal(o,d,p){return o?(delete(d=s.e(o,d)).padding,d.linear?this.easeTo(d,p):this.flyTo(d,p)):this}jumpTo(o,d){this.stop();const p=this._getTransformForUpdate();let v=!1,b=!1,P=!1;return"zoom"in o&&p.zoom!==+o.zoom&&(v=!0,p.zoom=+o.zoom),o.center!==void 0&&(p.center=s.N.convert(o.center)),"bearing"in o&&p.bearing!==+o.bearing&&(b=!0,p.bearing=+o.bearing),"pitch"in o&&p.pitch!==+o.pitch&&(P=!0,p.pitch=+o.pitch),o.padding==null||p.isPaddingEqual(o.padding)||(p.padding=o.padding),this._applyUpdatedTransform(p),this.fire(new s.k("movestart",d)).fire(new s.k("move",d)),v&&this.fire(new s.k("zoomstart",d)).fire(new s.k("zoom",d)).fire(new s.k("zoomend",d)),b&&this.fire(new s.k("rotatestart",d)).fire(new s.k("rotate",d)).fire(new s.k("rotateend",d)),P&&this.fire(new s.k("pitchstart",d)).fire(new s.k("pitch",d)).fire(new s.k("pitchend",d)),this.fire(new s.k("moveend",d))}calculateCameraOptionsFromTo(o,d,p,v=0){const b=s.Z.fromLngLat(o,d),P=s.Z.fromLngLat(p,v),I=P.x-b.x,N=P.y-b.y,U=P.z-b.z,G=Math.hypot(I,N,U);if(G===0)throw new Error("Can't calculate camera options with same From and To");const W=Math.hypot(I,N),oe=this.transform.scaleZoom(this.transform.cameraToCenterDistance/G/this.transform.tileSize),le=180*Math.atan2(I,-N)/Math.PI;let ie=180*Math.acos(W/G)/Math.PI;return ie=U<0?90-ie:90+ie,{center:P.toLngLat(),zoom:oe,pitch:ie,bearing:le}}easeTo(o,d){var p;this._stop(!1,o.easeId),((o=s.e({offset:[0,0],duration:500,easing:s.b9},o)).animate===!1||!o.essential&&w.prefersReducedMotion)&&(o.duration=0);const v=this._getTransformForUpdate(),b=v.zoom,P=v.bearing,I=v.pitch,N=v.padding,U="bearing"in o?this._normalizeBearing(o.bearing,P):P,G="pitch"in o?+o.pitch:I,W="padding"in o?o.padding:v.padding,oe=s.P.convert(o.offset);let le=v.centerPoint.add(oe);const ie=v.pointLocation(le),{center:he,zoom:Te}=v.getConstrained(s.N.convert(o.center||ie),(p=o.zoom)!==null&&p!==void 0?p:b);this._normalizeCenter(he,v);const Ie=v.project(ie),De=v.project(he).sub(Ie),Le=v.zoomScale(Te-b);let Ue,tt;o.around&&(Ue=s.N.convert(o.around),tt=v.locationPoint(Ue));const Je={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||Te!==b,this._rotating=this._rotating||P!==U,this._pitching=this._pitching||G!==I,this._padding=!v.isPaddingEqual(W),this._easeId=o.easeId,this._prepareEase(d,o.noMoveStart,Je),this.terrain&&this._prepareElevation(he),this._ease(Pt=>{if(this._zooming&&(v.zoom=s.y.number(b,Te,Pt)),this._rotating&&(v.bearing=s.y.number(P,U,Pt)),this._pitching&&(v.pitch=s.y.number(I,G,Pt)),this._padding&&(v.interpolatePadding(N,W,Pt),le=v.centerPoint.add(oe)),this.terrain&&!o.freezeElevation&&this._updateElevation(Pt),Ue)v.setLocationAtPoint(Ue,tt);else{const zt=v.zoomScale(v.zoom-b),Ht=Te>b?Math.min(2,Le):Math.max(.5,Le),Zt=Math.pow(Ht,1-Pt),Kt=v.unproject(Ie.add(De.mult(Pt*Zt)).mult(zt));v.setLocationAtPoint(v.renderWorldCopies?Kt.wrap():Kt,le)}this._applyUpdatedTransform(v),this._fireMoveEvents(d)},Pt=>{this.terrain&&o.freezeElevation&&this._finalizeElevation(),this._afterEase(d,Pt)},o),this}_prepareEase(o,d,p={}){this._moving=!0,d||p.moving||this.fire(new s.k("movestart",o)),this._zooming&&!p.zooming&&this.fire(new s.k("zoomstart",o)),this._rotating&&!p.rotating&&this.fire(new s.k("rotatestart",o)),this._pitching&&!p.pitching&&this.fire(new s.k("pitchstart",o))}_prepareElevation(o){this._elevationCenter=o,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(o,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(o){this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);const d=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(o<1&&d!==this._elevationTarget){const p=this._elevationTarget-this._elevationStart;this._elevationStart+=o*(p-(d-(p*o+this._elevationStart))/(1-o)),this._elevationTarget=d}this.transform.elevation=s.y.number(this._elevationStart,this._elevationTarget,o)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(o){const d=o.getCameraPosition(),p=this.terrain.getElevationForLngLatZoom(d.lngLat,o.zoom);if(d.altitude<p){const v=this.calculateCameraOptionsFromTo(d.lngLat,p,o.center,o.elevation);return{pitch:v.pitch,zoom:v.zoom}}return{}}_applyUpdatedTransform(o){const d=[];if(this.terrain&&d.push(v=>this._elevateCameraIfInsideTerrain(v)),this.transformCameraUpdate&&d.push(v=>this.transformCameraUpdate(v)),!d.length)return;const p=o.clone();for(const v of d){const b=p.clone(),{center:P,zoom:I,pitch:N,bearing:U,elevation:G}=v(b);P&&(b.center=P),I!==void 0&&(b.zoom=I),N!==void 0&&(b.pitch=N),U!==void 0&&(b.bearing=U),G!==void 0&&(b.elevation=G),p.apply(b)}this.transform.apply(p)}_fireMoveEvents(o){this.fire(new s.k("move",o)),this._zooming&&this.fire(new s.k("zoom",o)),this._rotating&&this.fire(new s.k("rotate",o)),this._pitching&&this.fire(new s.k("pitch",o))}_afterEase(o,d){if(this._easeId&&d&&this._easeId===d)return;delete this._easeId;const p=this._zooming,v=this._rotating,b=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,p&&this.fire(new s.k("zoomend",o)),v&&this.fire(new s.k("rotateend",o)),b&&this.fire(new s.k("pitchend",o)),this.fire(new s.k("moveend",o))}flyTo(o,d){var p;if(!o.essential&&w.prefersReducedMotion){const ar=s.M(o,["center","zoom","bearing","pitch","around"]);return this.jumpTo(ar,d)}this.stop(),o=s.e({offset:[0,0],speed:1.2,curve:1.42,easing:s.b9},o);const v=this._getTransformForUpdate(),b=v.zoom,P=v.bearing,I=v.pitch,N=v.padding,U="bearing"in o?this._normalizeBearing(o.bearing,P):P,G="pitch"in o?+o.pitch:I,W="padding"in o?o.padding:v.padding,oe=s.P.convert(o.offset);let le=v.centerPoint.add(oe);const ie=v.pointLocation(le),{center:he,zoom:Te}=v.getConstrained(s.N.convert(o.center||ie),(p=o.zoom)!==null&&p!==void 0?p:b);this._normalizeCenter(he,v);const Ie=v.zoomScale(Te-b),De=v.project(ie),Le=v.project(he).sub(De);let Ue=o.curve;const tt=Math.max(v.width,v.height),Je=tt/Ie,Pt=Le.mag();if("minZoom"in o){const ar=s.ac(Math.min(o.minZoom,b,Te),v.minZoom,v.maxZoom),jr=tt/v.zoomScale(ar-b);Ue=Math.sqrt(jr/Pt*2)}const zt=Ue*Ue;function Ht(ar){const jr=(Je*Je-tt*tt+(ar?-1:1)*zt*zt*Pt*Pt)/(2*(ar?Je:tt)*zt*Pt);return Math.log(Math.sqrt(jr*jr+1)-jr)}function Zt(ar){return(Math.exp(ar)-Math.exp(-ar))/2}function Kt(ar){return(Math.exp(ar)+Math.exp(-ar))/2}const Wt=Ht(!1);let er=function(ar){return Kt(Wt)/Kt(Wt+Ue*ar)},Nr=function(ar){return tt*((Kt(Wt)*(Zt(jr=Wt+Ue*ar)/Kt(jr))-Zt(Wt))/zt)/Pt;var jr},or=(Ht(!0)-Wt)/Ue;if(Math.abs(Pt)<1e-6||!isFinite(or)){if(Math.abs(tt-Je)<1e-6)return this.easeTo(o,d);const ar=Je<tt?-1:1;or=Math.abs(Math.log(Je/tt))/Ue,Nr=()=>0,er=jr=>Math.exp(ar*Ue*jr)}return o.duration="duration"in o?+o.duration:1e3*or/("screenSpeed"in o?+o.screenSpeed/Ue:+o.speed),o.maxDuration&&o.duration>o.maxDuration&&(o.duration=0),this._zooming=!0,this._rotating=P!==U,this._pitching=G!==I,this._padding=!v.isPaddingEqual(W),this._prepareEase(d,!1),this.terrain&&this._prepareElevation(he),this._ease(ar=>{const jr=ar*or,on=1/er(jr);v.zoom=ar===1?Te:b+v.scaleZoom(on),this._rotating&&(v.bearing=s.y.number(P,U,ar)),this._pitching&&(v.pitch=s.y.number(I,G,ar)),this._padding&&(v.interpolatePadding(N,W,ar),le=v.centerPoint.add(oe)),this.terrain&&!o.freezeElevation&&this._updateElevation(ar);const en=ar===1?he:v.unproject(De.add(Le.mult(Nr(jr))).mult(on));v.setLocationAtPoint(v.renderWorldCopies?en.wrap():en,le),this._applyUpdatedTransform(v),this._fireMoveEvents(d)},()=>{this.terrain&&o.freezeElevation&&this._finalizeElevation(),this._afterEase(d)},o),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(o,d){var p;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const v=this._onEaseEnd;delete this._onEaseEnd,v.call(this,d)}return o||(p=this.handlers)===null||p===void 0||p.stop(!1),this}_ease(o,d,p){p.animate===!1||p.duration===0?(o(1),d()):(this._easeStart=w.now(),this._easeOptions=p,this._onEaseFrame=o,this._onEaseEnd=d,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(o,d){o=s.b3(o,-180,180);const p=Math.abs(o-d);return Math.abs(o-360-d)<p&&(o-=360),Math.abs(o+360-d)<p&&(o+=360),o}_normalizeCenter(o,d){if(!d.renderWorldCopies||d.lngRange)return;const p=o.lng-d.center.lng;o.lng+=p>180?-360:p<-180?360:0}queryTerrainElevation(o){return this.terrain?this.terrain.getElevationForLngLatZoom(s.N.convert(o),this.transform.tileZoom)-this.transform.elevation:null}}const _d={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class Nc{constructor(o=_d){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=d=>{!d||d.sourceDataType!=="metadata"&&d.sourceDataType!=="visibility"&&d.dataType!=="style"&&d.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=o}getDefaultPosition(){return"bottom-right"}onAdd(o){return this._map=o,this._compact=this.options.compact,this._container=S.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=S.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=S.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){S.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(o,d){const p=this._map._getUIString(`AttributionControl.${d}`);o.title=p,o.setAttribute("aria-label",p)}_updateAttributions(){if(!this._map.style)return;let o=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?o=o.concat(this.options.customAttribution.map(v=>typeof v!="string"?"":v)):typeof this.options.customAttribution=="string"&&o.push(this.options.customAttribution)),this._map.style.stylesheet){const v=this._map.style.stylesheet;this.styleOwner=v.owner,this.styleId=v.id}const d=this._map.style.sourceCaches;for(const v in d){const b=d[v];if(b.used||b.usedForTerrain){const P=b.getSource();P.attribution&&o.indexOf(P.attribution)<0&&o.push(P.attribution)}}o=o.filter(v=>String(v).trim()),o.sort((v,b)=>v.length-b.length),o=o.filter((v,b)=>{for(let P=b+1;P<o.length;P++)if(o[P].indexOf(v)>=0)return!1;return!0});const p=o.join(" | ");p!==this._attribHTML&&(this._attribHTML=p,o.length?(this._innerContainer.innerHTML=p,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class Vl{constructor(o={}){this._updateCompact=()=>{const d=this._container.children;if(d.length){const p=d[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&p.classList.add("maplibregl-compact"):p.classList.remove("maplibregl-compact")}},this.options=o}getDefaultPosition(){return"bottom-left"}onAdd(o){this._map=o,this._compact=this.options&&this.options.compact,this._container=S.create("div","maplibregl-ctrl");const d=S.create("a","maplibregl-ctrl-logo");return d.target="_blank",d.rel="noopener nofollow",d.href="https://maplibre.org/",d.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),d.setAttribute("rel","noopener nofollow"),this._container.appendChild(d),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){S.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class vn{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(o){const d=++this._id;return this._queue.push({callback:o,id:d,cancelled:!1}),d}remove(o){const d=this._currentlyRunning,p=d?this._queue.concat(d):this._queue;for(const v of p)if(v.id===o)return void(v.cancelled=!0)}run(o=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const d=this._currentlyRunning=this._queue;this._queue=[];for(const p of d)if(!p.cancelled&&(p.callback(o),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var Tp=s.Y([{name:"a_pos3d",type:"Int16",components:3}]);class Gy extends s.E{constructor(o){super(),this.sourceCache=o,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,o.usedForTerrain=!0,o.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(o,d){this.sourceCache.update(o,d),this._renderableTilesKeys=[];const p={};for(const v of o.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:d}))p[v.key]=!0,this._renderableTilesKeys.push(v.key),this._tiles[v.key]||(v.posMatrix=new Float64Array(16),s.aP(v.posMatrix,0,s.X,0,s.X,0,1),this._tiles[v.key]=new Ar(v,this.tileSize));for(const v in this._tiles)p[v]||delete this._tiles[v]}freeRtt(o){for(const d in this._tiles){const p=this._tiles[d];(!o||p.tileID.equals(o)||p.tileID.isChildOf(o)||o.isChildOf(p.tileID))&&(p.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(o=>this.getTileByID(o))}getTileByID(o){return this._tiles[o]}getTerrainCoords(o){const d={};for(const p of this._renderableTilesKeys){const v=this._tiles[p].tileID;if(v.canonical.equals(o.canonical)){const b=o.clone();b.posMatrix=new Float64Array(16),s.aP(b.posMatrix,0,s.X,0,s.X,0,1),d[p]=b}else if(v.canonical.isChildOf(o.canonical)){const b=o.clone();b.posMatrix=new Float64Array(16);const P=v.canonical.z-o.canonical.z,I=v.canonical.x-(v.canonical.x>>P<<P),N=v.canonical.y-(v.canonical.y>>P<<P),U=s.X>>P;s.aP(b.posMatrix,0,U,0,U,0,1),s.J(b.posMatrix,b.posMatrix,[-I*U,-N*U,0]),d[p]=b}else if(o.canonical.isChildOf(v.canonical)){const b=o.clone();b.posMatrix=new Float64Array(16);const P=o.canonical.z-v.canonical.z,I=o.canonical.x-(o.canonical.x>>P<<P),N=o.canonical.y-(o.canonical.y>>P<<P),U=s.X>>P;s.aP(b.posMatrix,0,s.X,0,s.X,0,1),s.J(b.posMatrix,b.posMatrix,[I*U,N*U,0]),s.K(b.posMatrix,b.posMatrix,[1/2**P,1/2**P,0]),d[p]=b}}return d}getSourceTile(o,d){const p=this.sourceCache._source;let v=o.overscaledZ-this.deltaZoom;if(v>p.maxzoom&&(v=p.maxzoom),v<p.minzoom)return null;this._sourceTileCache[o.key]||(this._sourceTileCache[o.key]=o.scaledTo(v).key);let b=this.sourceCache.getTileByID(this._sourceTileCache[o.key]);if((!b||!b.dem)&&d)for(;v>=p.minzoom&&(!b||!b.dem);)b=this.sourceCache.getTileByID(o.scaledTo(v--).key);return b}tilesAfterTime(o=Date.now()){return Object.values(this._tiles).filter(d=>d.timeAdded>=o)}}class pf{constructor(o,d,p){this.painter=o,this.sourceCache=new Gy(d),this.options=p,this.exaggeration=typeof p.exaggeration=="number"?p.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(o,d,p,v=s.X){var b;if(!(d>=0&&d<v&&p>=0&&p<v))return 0;const P=this.getTerrainData(o),I=(b=P.tile)===null||b===void 0?void 0:b.dem;if(!I)return 0;const N=function(ie,he,Te){var Ie=he[0],De=he[1];return ie[0]=Te[0]*Ie+Te[4]*De+Te[12],ie[1]=Te[1]*Ie+Te[5]*De+Te[13],ie}([],[d/v*s.X,p/v*s.X],P.u_terrain_matrix),U=[N[0]*I.dim,N[1]*I.dim],G=Math.floor(U[0]),W=Math.floor(U[1]),oe=U[0]-G,le=U[1]-W;return I.get(G,W)*(1-oe)*(1-le)+I.get(G+1,W)*oe*(1-le)+I.get(G,W+1)*(1-oe)*le+I.get(G+1,W+1)*oe*le}getElevationForLngLatZoom(o,d){if(!s.bb(d,o.wrap()))return 0;const{tileID:p,mercatorX:v,mercatorY:b}=this._getOverscaledTileIDFromLngLatZoom(o,d);return this.getElevation(p,v%s.X,b%s.X,s.X)}getElevation(o,d,p,v=s.X){return this.getDEMElevation(o,d,p,v)*this.exaggeration}getTerrainData(o){if(!this._emptyDemTexture){const v=this.painter.context,b=new s.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new Z(v,b,v.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new Z(v,new s.R({width:1,height:1}),v.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(v.gl.NEAREST,v.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=s.an([])}const d=this.sourceCache.getSourceTile(o,!0);if(d&&d.dem&&(!d.demTexture||d.needsTerrainPrepare)){const v=this.painter.context;d.demTexture=this.painter.getTileTexture(d.dem.stride),d.demTexture?d.demTexture.update(d.dem.getPixels(),{premultiply:!1}):d.demTexture=new Z(v,d.dem.getPixels(),v.gl.RGBA,{premultiply:!1}),d.demTexture.bind(v.gl.NEAREST,v.gl.CLAMP_TO_EDGE),d.needsTerrainPrepare=!1}const p=d&&d+d.tileID.key+o.key;if(p&&!this._demMatrixCache[p]){const v=this.sourceCache.sourceCache._source.maxzoom;let b=o.canonical.z-d.tileID.canonical.z;o.overscaledZ>o.canonical.z&&(o.canonical.z>=v?b=o.canonical.z-v:s.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const P=o.canonical.x-(o.canonical.x>>b<<b),I=o.canonical.y-(o.canonical.y>>b<<b),N=s.bc(new Float64Array(16),[1/(s.X<<b),1/(s.X<<b),0]);s.J(N,N,[P*s.X,I*s.X,0]),this._demMatrixCache[o.key]={matrix:N,coord:o}}return{u_depth:2,u_terrain:3,u_terrain_dim:d&&d.dem&&d.dem.dim||1,u_terrain_matrix:p?this._demMatrixCache[o.key].matrix:this._emptyDemMatrix,u_terrain_unpack:d&&d.dem&&d.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(d&&d.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:d}}getFramebuffer(o){const d=this.painter,p=d.width/devicePixelRatio,v=d.height/devicePixelRatio;return!this._fbo||this._fbo.width===p&&this._fbo.height===v||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new Z(d.context,{width:p,height:v,data:null},d.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(d.context.gl.NEAREST,d.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new Z(d.context,{width:p,height:v,data:null},d.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(d.context.gl.NEAREST,d.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=d.context.createFramebuffer(p,v,!0,!1),this._fbo.depthAttachment.set(d.context.createRenderbuffer(d.context.gl.DEPTH_COMPONENT16,p,v))),this._fbo.colorAttachment.set(o==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const o=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const d=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let b=0,P=0;b<this._coordsTextureSize;b++)for(let I=0;I<this._coordsTextureSize;I++,P+=4)d[P+0]=255&I,d[P+1]=255&b,d[P+2]=I>>8<<4|b>>8,d[P+3]=0;const p=new s.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(d.buffer)),v=new Z(o,p,o.gl.RGBA,{premultiply:!1});return v.bind(o.gl.NEAREST,o.gl.CLAMP_TO_EDGE),this._coordsTexture=v,v}pointCoordinate(o){this.painter.maybeDrawDepthAndCoords(!0);const d=new Uint8Array(4),p=this.painter.context,v=p.gl,b=Math.round(o.x*this.painter.pixelRatio/devicePixelRatio),P=Math.round(o.y*this.painter.pixelRatio/devicePixelRatio),I=Math.round(this.painter.height/devicePixelRatio);p.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),v.readPixels(b,I-P-1,1,1,v.RGBA,v.UNSIGNED_BYTE,d),p.bindFramebuffer.set(null);const N=d[0]+(d[2]>>4<<8),U=d[1]+((15&d[2])<<8),G=this.coordsIndex[255-d[3]],W=G&&this.sourceCache.getTileByID(G);if(!W)return null;const oe=this._coordsTextureSize,le=(1<<W.tileID.canonical.z)*oe;return new s.Z((W.tileID.canonical.x*oe+N)/le+W.tileID.wrap,(W.tileID.canonical.y*oe+U)/le,this.getElevation(W.tileID,N,U,oe))}depthAtPoint(o){const d=new Uint8Array(4),p=this.painter.context,v=p.gl;return p.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),v.readPixels(o.x,this.painter.height/devicePixelRatio-o.y-1,1,1,v.RGBA,v.UNSIGNED_BYTE,d),p.bindFramebuffer.set(null),(d[0]/16777216+d[1]/65536+d[2]/256+d[3])/256}getTerrainMesh(){if(this._mesh)return this._mesh;const o=this.painter.context,d=new s.bd,p=new s.aY,v=this.meshSize,b=s.X/v,P=v*v;for(let W=0;W<=v;W++)for(let oe=0;oe<=v;oe++)d.emplaceBack(oe*b,W*b,0);for(let W=0;W<P;W+=v+1)for(let oe=0;oe<v;oe++)p.emplaceBack(oe+W,v+oe+W+1,v+oe+W+2),p.emplaceBack(oe+W,v+oe+W+2,oe+W+1);const I=d.length,N=I+2*(v+1);for(const W of[0,1])for(let oe=0;oe<=v;oe++)for(const le of[0,1])d.emplaceBack(oe*b,W*s.X,le);for(let W=0;W<2*v;W+=2)p.emplaceBack(N+W,N+W+1,N+W+3),p.emplaceBack(N+W,N+W+3,N+W+2),p.emplaceBack(I+W,I+W+3,I+W+1),p.emplaceBack(I+W,I+W+2,I+W+3);const U=d.length,G=U+2*(v+1);for(const W of[0,1])for(let oe=0;oe<=v;oe++)for(const le of[0,1])d.emplaceBack(W*s.X,oe*b,le);for(let W=0;W<2*v;W+=2)p.emplaceBack(U+W,U+W+1,U+W+3),p.emplaceBack(U+W,U+W+3,U+W+2),p.emplaceBack(G+W,G+W+3,G+W+1),p.emplaceBack(G+W,G+W+2,G+W+3);return this._mesh=new _i(o.createVertexBuffer(d,Tp.members),o.createIndexBuffer(p),s.a0.simpleSegment(0,0,d.length,p.length)),this._mesh}getMeshFrameDelta(o){return 2*Math.PI*s.be/Math.pow(2,o)/5}getMinTileElevationForLngLatZoom(o,d){var p;const{tileID:v}=this._getOverscaledTileIDFromLngLatZoom(o,d);return(p=this.getMinMaxElevation(v).minElevation)!==null&&p!==void 0?p:0}getMinMaxElevation(o){const d=this.getTerrainData(o).tile,p={minElevation:null,maxElevation:null};return d&&d.dem&&(p.minElevation=d.dem.min*this.exaggeration,p.maxElevation=d.dem.max*this.exaggeration),p}_getOverscaledTileIDFromLngLatZoom(o,d){const p=s.Z.fromLngLat(o.wrap()),v=(1<<d)*s.X,b=p.x*v,P=p.y*v,I=Math.floor(b/s.X),N=Math.floor(P/s.X);return{tileID:new s.S(d,0,d,I,N),mercatorX:b,mercatorY:P}}}class Xm{constructor(o,d,p){this._context=o,this._size=d,this._tileSize=p,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const o of this._objects)o.texture.destroy(),o.fbo.destroy()}_createObject(o){const d=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),p=new Z(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return p.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),d.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),d.colorAttachment.set(p.texture),{id:o,fbo:d,texture:p,stamp:-1,inUse:!1}}getObjectForId(o){return this._objects[o]}useObject(o){o.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(d=>o.id!==d),this._recentlyUsed.push(o.id)}stampObject(o){o.stamp=++this._stamp}getOrCreateFreeObject(){for(const d of this._recentlyUsed)if(!this._objects[d].inUse)return this._objects[d];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const o=this._createObject(this._objects.length);return this._objects.push(o),o}freeObject(o){o.inUse=!1}freeAllObjects(){for(const o of this._objects)this.freeObject(o)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(o=>!o.inUse)===!1}}const Fc={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class Pp{constructor(o,d){this.painter=o,this.terrain=d,this.pool=new Xm(o.context,30,d.sourceCache.tileSize*d.qualityFactor)}destruct(){this.pool.destruct()}getTexture(o){return this.pool.getObjectForId(o.rtt[this._stacks.length-1].id).texture}prepareForRender(o,d){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=o._order.filter(p=>!o._layers[p].isHidden(d)),this._coordsDescendingInv={};for(const p in o.sourceCaches){this._coordsDescendingInv[p]={};const v=o.sourceCaches[p].getVisibleCoordinates();for(const b of v){const P=this.terrain.sourceCache.getTerrainCoords(b);for(const I in P)this._coordsDescendingInv[p][I]||(this._coordsDescendingInv[p][I]=[]),this._coordsDescendingInv[p][I].push(P[I])}}this._coordsDescendingInvStr={};for(const p of o._order){const v=o._layers[p],b=v.source;if(Fc[v.type]&&!this._coordsDescendingInvStr[b]){this._coordsDescendingInvStr[b]={};for(const P in this._coordsDescendingInv[b])this._coordsDescendingInvStr[b][P]=this._coordsDescendingInv[b][P].map(I=>I.key).sort().join()}}for(const p of this._renderableTiles)for(const v in this._coordsDescendingInvStr){const b=this._coordsDescendingInvStr[v][p.tileID.key];b&&b!==p.rttCoords[v]&&(p.rtt=[])}}renderLayer(o){if(o.isHidden(this.painter.transform.zoom))return!1;const d=o.type,p=this.painter,v=this._renderableLayerIds[this._renderableLayerIds.length-1]===o.id;if(Fc[d]&&(this._prevType&&Fc[this._prevType]||this._stacks.push([]),this._prevType=d,this._stacks[this._stacks.length-1].push(o.id),!v))return!0;if(Fc[this._prevType]||Fc[d]&&v){this._prevType=d;const b=this._stacks.length-1,P=this._stacks[b]||[];for(const I of this._renderableTiles){if(this.pool.isFull()&&(jo(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(I),I.rtt[b]){const U=this.pool.getObjectForId(I.rtt[b].id);if(U.stamp===I.rtt[b].stamp){this.pool.useObject(U);continue}}const N=this.pool.getOrCreateFreeObject();this.pool.useObject(N),this.pool.stampObject(N),I.rtt[b]={id:N.id,stamp:N.stamp},p.context.bindFramebuffer.set(N.fbo.framebuffer),p.context.clear({color:s.aM.transparent,stencil:0}),p.currentStencilSource=void 0;for(let U=0;U<P.length;U++){const G=p.style._layers[P[U]],W=G.source?this._coordsDescendingInv[G.source][I.tileID.key]:[I.tileID];p.context.viewport.set([0,0,N.fbo.width,N.fbo.height]),p._renderTileClippingMasks(G,W),p.renderLayer(p,p.style.sourceCaches[G.source],G,W),G.source&&(I.rttCoords[G.source]=this._coordsDescendingInvStr[G.source][I.tileID.key])}}return jo(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),Fc[d]}return!1}}const kp={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use ⌘ + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},yh=f,mf={hash:!1,interactive:!0,bearingSnap:7,attributionControl:_d,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,refreshExpiredTiles:!0,scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],zoom:0,bearing:0,pitch:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:s.a.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0},$c=y=>{y.touchstart=y.dragStart,y.touchmoveWindow=y.dragMove,y.touchend=y.dragEnd},Ip={showCompass:!0,showZoom:!0,visualizePitch:!1};class Zm{constructor(o,d,p=!1){this.mousedown=P=>{this.startMouse(s.e({},P,{ctrlKey:!0,preventDefault:()=>P.preventDefault()}),S.mousePos(this.element,P)),S.addEventListener(window,"mousemove",this.mousemove),S.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=P=>{this.moveMouse(P,S.mousePos(this.element,P))},this.mouseup=P=>{this.mouseRotate.dragEnd(P),this.mousePitch&&this.mousePitch.dragEnd(P),this.offTemp()},this.touchstart=P=>{P.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=S.touchPos(this.element,P.targetTouches)[0],this.startTouch(P,this._startPos),S.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),S.addEventListener(window,"touchend",this.touchend))},this.touchmove=P=>{P.targetTouches.length!==1?this.reset():(this._lastPos=S.touchPos(this.element,P.targetTouches)[0],this.moveTouch(P,this._lastPos))},this.touchend=P=>{P.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const v=o.dragRotate._mouseRotate.getClickTolerance(),b=o.dragRotate._mousePitch.getClickTolerance();this.element=d,this.mouseRotate=gd({clickTolerance:v,enable:!0}),this.touchRotate=(({enable:P,clickTolerance:I,bearingDegreesPerPixelMoved:N=.8})=>{const U=new vu;return new Fi({clickTolerance:I,move:(G,W)=>({bearingDelta:(W.x-G.x)*N}),moveStateManager:U,enable:P,assignEvents:$c})})({clickTolerance:v,enable:!0}),this.map=o,p&&(this.mousePitch=fh({clickTolerance:b,enable:!0}),this.touchPitch=(({enable:P,clickTolerance:I,pitchDegreesPerPixelMoved:N=-.5})=>{const U=new vu;return new Fi({clickTolerance:I,move:(G,W)=>({pitchDelta:(W.y-G.y)*N}),moveStateManager:U,enable:P,assignEvents:$c})})({clickTolerance:b,enable:!0})),S.addEventListener(d,"mousedown",this.mousedown),S.addEventListener(d,"touchstart",this.touchstart,{passive:!1}),S.addEventListener(d,"touchcancel",this.reset)}startMouse(o,d){this.mouseRotate.dragStart(o,d),this.mousePitch&&this.mousePitch.dragStart(o,d),S.disableDrag()}startTouch(o,d){this.touchRotate.dragStart(o,d),this.touchPitch&&this.touchPitch.dragStart(o,d),S.disableDrag()}moveMouse(o,d){const p=this.map,{bearingDelta:v}=this.mouseRotate.dragMove(o,d)||{};if(v&&p.setBearing(p.getBearing()+v),this.mousePitch){const{pitchDelta:b}=this.mousePitch.dragMove(o,d)||{};b&&p.setPitch(p.getPitch()+b)}}moveTouch(o,d){const p=this.map,{bearingDelta:v}=this.touchRotate.dragMove(o,d)||{};if(v&&p.setBearing(p.getBearing()+v),this.touchPitch){const{pitchDelta:b}=this.touchPitch.dragMove(o,d)||{};b&&p.setPitch(p.getPitch()+b)}}off(){const o=this.element;S.removeEventListener(o,"mousedown",this.mousedown),S.removeEventListener(o,"touchstart",this.touchstart,{passive:!1}),S.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),S.removeEventListener(window,"touchend",this.touchend),S.removeEventListener(o,"touchcancel",this.reset),this.offTemp()}offTemp(){S.enableDrag(),S.removeEventListener(window,"mousemove",this.mousemove),S.removeEventListener(window,"mouseup",this.mouseup),S.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),S.removeEventListener(window,"touchend",this.touchend)}}let Ss;function Pi(y,o,d){const p=new s.N(y.lng,y.lat);if(y=new s.N(y.lng,y.lat),o){const v=new s.N(y.lng-360,y.lat),b=new s.N(y.lng+360,y.lat),P=d.locationPoint(y).distSqr(o);d.locationPoint(v).distSqr(o)<P?y=v:d.locationPoint(b).distSqr(o)<P&&(y=b)}for(;Math.abs(y.lng-d.center.lng)>180;){const v=d.locationPoint(y);if(v.x>=0&&v.y>=0&&v.x<=d.width&&v.y<=d.height)break;y.lng>d.center.lng?y.lng-=360:y.lng+=360}return y.lng!==p.lng&&d.locationPoint(y).y>d.height/2-d.getHorizon()?y:p}const wd={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function gf(y,o,d){const p=y.classList;for(const v in wd)p.remove(`maplibregl-${d}-anchor-${v}`);p.add(`maplibregl-${d}-anchor-${o}`)}class yf extends s.E{constructor(o){if(super(),this._onKeyPress=d=>{const p=d.code,v=d.charCode||d.keyCode;p!=="Space"&&p!=="Enter"&&v!==32&&v!==13||this.togglePopup()},this._onMapClick=d=>{const p=d.originalEvent.target,v=this._element;this._popup&&(p===v||v.contains(p))&&this.togglePopup()},this._update=d=>{var p;if(!this._map)return;const v=this._map.loaded()&&!this._map.isMoving();((d==null?void 0:d.type)==="terrain"||(d==null?void 0:d.type)==="render"&&!v)&&this._map.once("render",this._update),this._lngLat=this._map.transform.renderWorldCopies?Pi(this._lngLat,this._flatPos,this._map.transform):(p=this._lngLat)===null||p===void 0?void 0:p.wrap(),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationPoint(this._lngLat)._add(this._offset));let b="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?b=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(b=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let P="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?P="rotateX(0deg)":this._pitchAlignment==="map"&&(P=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||d&&d.type!=="moveend"||(this._pos=this._pos.round()),S.setTransform(this._element,`${wd[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${P} ${b}`),w.frameAsync(new AbortController).then(()=>{this._updateOpacity(d&&d.type==="moveend")}).catch(()=>{})},this._onMove=d=>{if(!this._isDragging){const p=this._clickTolerance||this._map._clickTolerance;this._isDragging=d.point.dist(this._pointerdownPos)>=p}this._isDragging&&(this._pos=d.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new s.k("dragstart"))),this.fire(new s.k("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new s.k("dragend")),this._state="inactive"},this._addDragHandler=d=>{this._element.contains(d.originalEvent.target)&&(d.preventDefault(),this._positionDelta=d.point.sub(this._pos).add(this._offset),this._pointerdownPos=d.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=o&&o.anchor||"center",this._color=o&&o.color||"#3FB1CE",this._scale=o&&o.scale||1,this._draggable=o&&o.draggable||!1,this._clickTolerance=o&&o.clickTolerance||0,this._subpixelPositioning=o&&o.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=o&&o.rotation||0,this._rotationAlignment=o&&o.rotationAlignment||"auto",this._pitchAlignment=o&&o.pitchAlignment&&o.pitchAlignment!=="auto"?o.pitchAlignment:this._rotationAlignment,this.setOpacity(),this.setOpacity(o==null?void 0:o.opacity,o==null?void 0:o.opacityWhenCovered),o&&o.element)this._element=o.element,this._offset=s.P.convert(o&&o.offset||[0,0]);else{this._defaultMarker=!0,this._element=S.create("div");const d=S.createNS("http://www.w3.org/2000/svg","svg"),p=41,v=27;d.setAttributeNS(null,"display","block"),d.setAttributeNS(null,"height",`${p}px`),d.setAttributeNS(null,"width",`${v}px`),d.setAttributeNS(null,"viewBox",`0 0 ${v} ${p}`);const b=S.createNS("http://www.w3.org/2000/svg","g");b.setAttributeNS(null,"stroke","none"),b.setAttributeNS(null,"stroke-width","1"),b.setAttributeNS(null,"fill","none"),b.setAttributeNS(null,"fill-rule","evenodd");const P=S.createNS("http://www.w3.org/2000/svg","g");P.setAttributeNS(null,"fill-rule","nonzero");const I=S.createNS("http://www.w3.org/2000/svg","g");I.setAttributeNS(null,"transform","translate(3.0, 29.0)"),I.setAttributeNS(null,"fill","#000000");const N=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const Ie of N){const De=S.createNS("http://www.w3.org/2000/svg","ellipse");De.setAttributeNS(null,"opacity","0.04"),De.setAttributeNS(null,"cx","10.5"),De.setAttributeNS(null,"cy","5.80029008"),De.setAttributeNS(null,"rx",Ie.rx),De.setAttributeNS(null,"ry",Ie.ry),I.appendChild(De)}const U=S.createNS("http://www.w3.org/2000/svg","g");U.setAttributeNS(null,"fill",this._color);const G=S.createNS("http://www.w3.org/2000/svg","path");G.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),U.appendChild(G);const W=S.createNS("http://www.w3.org/2000/svg","g");W.setAttributeNS(null,"opacity","0.25"),W.setAttributeNS(null,"fill","#000000");const oe=S.createNS("http://www.w3.org/2000/svg","path");oe.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),W.appendChild(oe);const le=S.createNS("http://www.w3.org/2000/svg","g");le.setAttributeNS(null,"transform","translate(6.0, 7.0)"),le.setAttributeNS(null,"fill","#FFFFFF");const ie=S.createNS("http://www.w3.org/2000/svg","g");ie.setAttributeNS(null,"transform","translate(8.0, 8.0)");const he=S.createNS("http://www.w3.org/2000/svg","circle");he.setAttributeNS(null,"fill","#000000"),he.setAttributeNS(null,"opacity","0.25"),he.setAttributeNS(null,"cx","5.5"),he.setAttributeNS(null,"cy","5.5"),he.setAttributeNS(null,"r","5.4999962");const Te=S.createNS("http://www.w3.org/2000/svg","circle");Te.setAttributeNS(null,"fill","#FFFFFF"),Te.setAttributeNS(null,"cx","5.5"),Te.setAttributeNS(null,"cy","5.5"),Te.setAttributeNS(null,"r","5.4999962"),ie.appendChild(he),ie.appendChild(Te),P.appendChild(I),P.appendChild(U),P.appendChild(W),P.appendChild(le),P.appendChild(ie),d.appendChild(P),d.setAttributeNS(null,"height",p*this._scale+"px"),d.setAttributeNS(null,"width",v*this._scale+"px"),this._element.appendChild(d),this._offset=s.P.convert(o&&o.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",d=>{d.preventDefault()}),this._element.addEventListener("mousedown",d=>{d.preventDefault()}),gf(this._element,this._anchor,"marker"),o&&o.className)for(const d of o.className.split(" "))this._element.classList.add(d);this._popup=null}addTo(o){return this.remove(),this._map=o,this._element.setAttribute("aria-label",o._getUIString("Marker.Title")),o.getCanvasContainer().appendChild(this._element),o.on("move",this._update),o.on("moveend",this._update),o.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),S.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(o){return this._lngLat=s.N.convert(o),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(o){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),o){if(!("offset"in o.options)){const v=Math.abs(13.5)/Math.SQRT2;o.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[v,-1*(38.1-13.5+v)],"bottom-right":[-v,-1*(38.1-13.5+v)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=o,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(o){return this._subpixelPositioning=o,this}getPopup(){return this._popup}togglePopup(){const o=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:o?(o.isOpen()?o.remove():(o.setLngLat(this._lngLat),o.addTo(this._map)),this):this}_updateOpacity(o=!1){var d,p;if(!(!((d=this._map)===null||d===void 0)&&d.terrain))return void(this._element.style.opacity!==this._opacity&&(this._element.style.opacity=this._opacity));if(o)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout(()=>{this._opacityTimeout=null},100)}const v=this._map,b=v.terrain.depthAtPoint(this._pos),P=v.terrain.getElevationForLngLatZoom(this._lngLat,v.transform.tileZoom);if(v.transform.lngLatToCameraDepth(this._lngLat,P)-b<.006)return void(this._element.style.opacity=this._opacity);const I=-this._offset.y/v.transform._pixelPerMeter,N=Math.sin(v.getPitch()*Math.PI/180)*I,U=v.terrain.depthAtPoint(new s.P(this._pos.x,this._pos.y-this._offset.y)),G=v.transform.lngLatToCameraDepth(this._lngLat,P+N)-U>.006;!((p=this._popup)===null||p===void 0)&&p.isOpen()&&G&&this._popup.remove(),this._element.style.opacity=G?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(o){return this._offset=s.P.convert(o),this._update(),this}addClassName(o){this._element.classList.add(o)}removeClassName(o){this._element.classList.remove(o)}toggleClassName(o){return this._element.classList.toggle(o)}setDraggable(o){return this._draggable=!!o,this._map&&(o?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(o){return this._rotation=o||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(o){return this._rotationAlignment=o||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(o){return this._pitchAlignment=o&&o!=="auto"?o:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(o,d){return o===void 0&&d===void 0&&(this._opacity="1",this._opacityWhenCovered="0.2"),o!==void 0&&(this._opacity=o),d!==void 0&&(this._opacityWhenCovered=d),this._map&&this._updateOpacity(!0),this}}const Ym={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let vh=0,bh=!1;const vl={maxWidth:100,unit:"metric"};function ec(y,o,d){const p=d&&d.maxWidth||100,v=y._container.clientHeight/2,b=y.unproject([0,v]),P=y.unproject([p,v]),I=b.distanceTo(P);if(d&&d.unit==="imperial"){const N=3.2808*I;N>5280?Fr(o,p,N/5280,y._getUIString("ScaleControl.Miles")):Fr(o,p,N,y._getUIString("ScaleControl.Feet"))}else d&&d.unit==="nautical"?Fr(o,p,I/1852,y._getUIString("ScaleControl.NauticalMiles")):I>=1e3?Fr(o,p,I/1e3,y._getUIString("ScaleControl.Kilometers")):Fr(o,p,I,y._getUIString("ScaleControl.Meters"))}function Fr(y,o,d,p){const v=function(b){const P=Math.pow(10,`${Math.floor(b)}`.length-1);let I=b/P;return I=I>=10?10:I>=5?5:I>=3?3:I>=2?2:I>=1?1:function(N){const U=Math.pow(10,Math.ceil(-Math.log(N)/Math.LN10));return Math.round(N*U)/U}(I),P*I}(d);y.style.width=o*(v/d)+"px",y.innerHTML=`${v}&nbsp;${p}`}const Qr={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1},xh=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function A(y){if(y){if(typeof y=="number"){const o=Math.round(Math.abs(y)/Math.SQRT2);return{center:new s.P(0,0),top:new s.P(0,y),"top-left":new s.P(o,o),"top-right":new s.P(-o,o),bottom:new s.P(0,-y),"bottom-left":new s.P(o,-o),"bottom-right":new s.P(-o,-o),left:new s.P(y,0),right:new s.P(-y,0)}}if(y instanceof s.P||Array.isArray(y)){const o=s.P.convert(y);return{center:o,top:o,"top-left":o,"top-right":o,bottom:o,"bottom-left":o,"bottom-right":o,left:o,right:o}}return{center:s.P.convert(y.center||[0,0]),top:s.P.convert(y.top||[0,0]),"top-left":s.P.convert(y["top-left"]||[0,0]),"top-right":s.P.convert(y["top-right"]||[0,0]),bottom:s.P.convert(y.bottom||[0,0]),"bottom-left":s.P.convert(y["bottom-left"]||[0,0]),"bottom-right":s.P.convert(y["bottom-right"]||[0,0]),left:s.P.convert(y.left||[0,0]),right:s.P.convert(y.right||[0,0])}}return A(new s.P(0,0))}const R=f;u.AJAXError=s.bh,u.Evented=s.E,u.LngLat=s.N,u.MercatorCoordinate=s.Z,u.Point=s.P,u.addProtocol=s.bi,u.config=s.a,u.removeProtocol=s.bj,u.AttributionControl=Nc,u.BoxZoomHandler=yo,u.CanvasSource=_r,u.CooperativeGesturesHandler=xd,u.DoubleClickZoomHandler=bu,u.DragPanHandler=Km,u.DragRotateHandler=Ep,u.EdgeInsets=wi,u.FullscreenControl=class extends s.E{constructor(y={}){super(),this._onFullscreenChange=()=>{var o;let d=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((o=d==null?void 0:d.shadowRoot)===null||o===void 0)&&o.fullscreenElement;)d=d.shadowRoot.fullscreenElement;d===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,y&&y.container&&(y.container instanceof HTMLElement?this._container=y.container:s.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(y){return this._map=y,this._container||(this._container=this._map.getContainer()),this._controlContainer=S.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){S.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const y=this._fullscreenButton=S.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);S.create("span","maplibregl-ctrl-icon",y).setAttribute("aria-hidden","true"),y.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const y=this._getTitle();this._fullscreenButton.setAttribute("aria-label",y),this._fullscreenButton.title=y}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new s.k("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new s.k("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},u.GeoJSONSource=It,u.GeolocateControl=class extends s.E{constructor(y){super(),this._onSuccess=o=>{if(this._map){if(this._isOutOfMapMaxBounds(o))return this._setErrorState(),this.fire(new s.k("outofmaxbounds",o)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=o,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(o),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(o),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new s.k("geolocate",o)),this._finish()}},this._updateCamera=o=>{const d=new s.N(o.coords.longitude,o.coords.latitude),p=o.coords.accuracy,v=this._map.getBearing(),b=s.e({bearing:v},this.options.fitBoundsOptions),P=ce.fromLngLat(d,p);this._map.fitBounds(P,b,{geolocateSource:!0})},this._updateMarker=o=>{if(o){const d=new s.N(o.coords.longitude,o.coords.latitude);this._accuracyCircleMarker.setLngLat(d).addTo(this._map),this._userLocationDotMarker.setLngLat(d).addTo(this._map),this._accuracy=o.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=o=>{if(this._map){if(this.options.trackUserLocation)if(o.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(o.code===3&&bh)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new s.k("error",o)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",o=>o.preventDefault()),this._geolocateButton=S.create("button","maplibregl-ctrl-geolocate",this._container),S.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=o=>{if(this._map){if(o===!1){s.w("Geolocation support is not available so the GeolocateControl will be disabled.");const d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d)}else{const d=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=S.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new yf({element:this._dotElement}),this._circleElement=S.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new yf({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",()=>this.trigger()),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",d=>{d.geolocateSource||this._watchState!=="ACTIVE_LOCK"||d.originalEvent&&d.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new s.k("trackuserlocationend")),this.fire(new s.k("userlocationlostfocus")))})}},this.options=s.e({},Ym,y)}onAdd(y){return this._map=y,this._container=S.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),function(){return s._(this,arguments,void 0,function*(o=!1){if(Ss!==void 0&&!o)return Ss;if(window.navigator.permissions===void 0)return Ss=!!window.navigator.geolocation,Ss;try{Ss=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch{Ss=!!window.navigator.geolocation}return Ss})}().then(o=>this._finishSetupUI(o)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),S.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,vh=0,bh=!1}_isOutOfMapMaxBounds(y){const o=this._map.getMaxBounds(),d=y.coords;return o&&(d.longitude<o.getWest()||d.longitude>o.getEast()||d.latitude<o.getSouth()||d.latitude>o.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const y=this._map.getBounds(),o=y.getSouthEast(),d=y.getNorthEast(),p=o.distanceTo(d),v=Math.ceil(this._accuracy/(p/this._map._container.clientHeight)*2);this._circleElement.style.width=`${v}px`,this._circleElement.style.height=`${v}px`}trigger(){if(!this._setup)return s.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new s.k("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":vh--,bh=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new s.k("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new s.k("trackuserlocationstart")),this.fire(new s.k("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let y;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),vh++,vh>1?(y={maximumAge:6e5,timeout:0},bh=!0):(y=this.options.positionOptions,bh=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,y)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},u.Hash=Wa,u.ImageSource=Lt,u.KeyboardHandler=Ws,u.LngLatBounds=ce,u.LogoControl=Vl,u.Map=class extends Ul{constructor(y){s.bf.mark(s.bg.create);const o=Object.assign(Object.assign({},mf),y);if(o.minZoom!=null&&o.maxZoom!=null&&o.minZoom>o.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(o.minPitch!=null&&o.maxPitch!=null&&o.minPitch>o.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(o.minPitch!=null&&o.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(o.maxPitch!=null&&o.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new Uo(o.minZoom,o.maxZoom,o.minPitch,o.maxPitch,o.renderWorldCopies),{bearingSnap:o.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new vn,this._controls=[],this._mapId=s.a4(),this._contextLost=d=>{d.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new s.k("webglcontextlost",{originalEvent:d}))},this._contextRestored=d=>{this._setupPainter(),this.resize(),this._update(),this.fire(new s.k("webglcontextrestored",{originalEvent:d}))},this._onMapScroll=d=>{if(d.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=o.interactive,this._maxTileCacheSize=o.maxTileCacheSize,this._maxTileCacheZoomLevels=o.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=o.failIfMajorPerformanceCaveat===!0,this._preserveDrawingBuffer=o.preserveDrawingBuffer===!0,this._antialias=o.antialias===!0,this._trackResize=o.trackResize===!0,this._bearingSnap=o.bearingSnap,this._refreshExpiredTiles=o.refreshExpiredTiles===!0,this._fadeDuration=o.fadeDuration,this._crossSourceCollisions=o.crossSourceCollisions===!0,this._collectResourceTiming=o.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},kp),o.locale),this._clickTolerance=o.clickTolerance,this._overridePixelRatio=o.pixelRatio,this._maxCanvasSize=o.maxCanvasSize,this.transformCameraUpdate=o.transformCameraUpdate,this.cancelPendingTileRequestsWhileZooming=o.cancelPendingTileRequestsWhileZooming===!0,this._imageQueueHandle=B.addThrottleControl(()=>this.isMoving()),this._requestManager=new q(o.transformRequest),typeof o.container=="string"){if(this._container=document.getElementById(o.container),!this._container)throw new Error(`Container '${o.container}' not found.`)}else{if(!(o.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=o.container}if(o.maxBounds&&this.setMaxBounds(o.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)).on("moveend",()=>this._update(!1)).on("zoom",()=>this._update(!0)).on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}).once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let d=!1;const p=ha(v=>{this._trackResize&&!this._removed&&(this.resize(v),this.redraw())},50);this._resizeObserver=new ResizeObserver(v=>{d?p(v):d=!0}),this._resizeObserver.observe(this._container)}this.handlers=new ws(this,o),this._hash=o.hash&&new Wa(typeof o.hash=="string"&&o.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:o.center,zoom:o.zoom,bearing:o.bearing,pitch:o.pitch}),o.bounds&&(this.resize(),this.fitBounds(o.bounds,s.e({},o.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=o.localIdeographFontFamily,this._validateStyle=o.validateStyle,o.style&&this.setStyle(o.style,{localIdeographFontFamily:o.localIdeographFontFamily}),o.attributionControl&&this.addControl(new Nc(typeof o.attributionControl=="boolean"?void 0:o.attributionControl)),o.maplibreLogo&&this.addControl(new Vl,o.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",d=>{this._update(d.dataType==="style"),this.fire(new s.k(`${d.dataType}data`,d))}),this.on("dataloading",d=>{this.fire(new s.k(`${d.dataType}dataloading`,d))}),this.on("dataabort",d=>{this.fire(new s.k("sourcedataabort",d))})}_getMapId(){return this._mapId}addControl(y,o){if(o===void 0&&(o=y.getDefaultPosition?y.getDefaultPosition():"top-right"),!y||!y.onAdd)return this.fire(new s.j(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const d=y.onAdd(this);this._controls.push(y);const p=this._controlPositions[o];return o.indexOf("bottom")!==-1?p.insertBefore(d,p.firstChild):p.appendChild(d),this}removeControl(y){if(!y||!y.onRemove)return this.fire(new s.j(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const o=this._controls.indexOf(y);return o>-1&&this._controls.splice(o,1),y.onRemove(this),this}hasControl(y){return this._controls.indexOf(y)>-1}calculateCameraOptionsFromTo(y,o,d,p){return p==null&&this.terrain&&(p=this.terrain.getElevationForLngLatZoom(d,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(y,o,d,p)}resize(y){var o;const d=this._containerDimensions(),p=d[0],v=d[1],b=this._getClampedPixelRatio(p,v);if(this._resizeCanvas(p,v,b),this.painter.resize(p,v,b),this.painter.overLimit()){const I=this.painter.context.gl;this._maxCanvasSize=[I.drawingBufferWidth,I.drawingBufferHeight];const N=this._getClampedPixelRatio(p,v);this._resizeCanvas(p,v,N),this.painter.resize(p,v,N)}this.transform.resize(p,v),(o=this._requestedCameraState)===null||o===void 0||o.resize(p,v);const P=!this._moving;return P&&(this.stop(),this.fire(new s.k("movestart",y)).fire(new s.k("move",y))),this.fire(new s.k("resize",y)),P&&this.fire(new s.k("moveend",y)),this}_getClampedPixelRatio(y,o){const{0:d,1:p}=this._maxCanvasSize,v=this.getPixelRatio(),b=y*v,P=o*v;return Math.min(b>d?d/b:1,P>p?p/P:1)*v}getPixelRatio(){var y;return(y=this._overridePixelRatio)!==null&&y!==void 0?y:devicePixelRatio}setPixelRatio(y){this._overridePixelRatio=y,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(y){return this.transform.setMaxBounds(ce.convert(y)),this._update()}setMinZoom(y){if((y=y??-2)>=-2&&y<=this.transform.maxZoom)return this.transform.minZoom=y,this._update(),this.getZoom()<y&&this.setZoom(y),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(y){if((y=y??22)>=this.transform.minZoom)return this.transform.maxZoom=y,this._update(),this.getZoom()>y&&this.setZoom(y),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(y){if((y=y??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(y>=0&&y<=this.transform.maxPitch)return this.transform.minPitch=y,this._update(),this.getPitch()<y&&this.setPitch(y),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(y){if((y=y??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(y>=this.transform.minPitch)return this.transform.maxPitch=y,this._update(),this.getPitch()>y&&this.setPitch(y),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(y){return this.transform.renderWorldCopies=y,this._update()}project(y){return this.transform.locationPoint(s.N.convert(y),this.style&&this.terrain)}unproject(y){return this.transform.pointLocation(s.P.convert(y),this.terrain)}isMoving(){var y;return this._moving||((y=this.handlers)===null||y===void 0?void 0:y.isMoving())}isZooming(){var y;return this._zooming||((y=this.handlers)===null||y===void 0?void 0:y.isZooming())}isRotating(){var y;return this._rotating||((y=this.handlers)===null||y===void 0?void 0:y.isRotating())}_createDelegatedListener(y,o,d){if(y==="mouseenter"||y==="mouseover"){let p=!1;return{layers:o,listener:d,delegates:{mousemove:b=>{const P=o.filter(N=>this.getLayer(N)),I=P.length!==0?this.queryRenderedFeatures(b.point,{layers:P}):[];I.length?p||(p=!0,d.call(this,new Ni(y,this,b.originalEvent,{features:I}))):p=!1},mouseout:()=>{p=!1}}}}if(y==="mouseleave"||y==="mouseout"){let p=!1;return{layers:o,listener:d,delegates:{mousemove:P=>{const I=o.filter(N=>this.getLayer(N));(I.length!==0?this.queryRenderedFeatures(P.point,{layers:I}):[]).length?p=!0:p&&(p=!1,d.call(this,new Ni(y,this,P.originalEvent)))},mouseout:P=>{p&&(p=!1,d.call(this,new Ni(y,this,P.originalEvent)))}}}}{const p=v=>{const b=o.filter(I=>this.getLayer(I)),P=b.length!==0?this.queryRenderedFeatures(v.point,{layers:b}):[];P.length&&(v.features=P,d.call(this,v),delete v.features)};return{layers:o,listener:d,delegates:{[y]:p}}}}_saveDelegatedListener(y,o){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[y]=this._delegatedListeners[y]||[],this._delegatedListeners[y].push(o)}_removeDelegatedListener(y,o,d){if(!this._delegatedListeners||!this._delegatedListeners[y])return;const p=this._delegatedListeners[y];for(let v=0;v<p.length;v++){const b=p[v];if(b.listener===d&&b.layers.length===o.length&&b.layers.every(P=>o.includes(P))){for(const P in b.delegates)this.off(P,b.delegates[P]);return void p.splice(v,1)}}}on(y,o,d){if(d===void 0)return super.on(y,o);const p=this._createDelegatedListener(y,typeof o=="string"?[o]:o,d);this._saveDelegatedListener(y,p);for(const v in p.delegates)this.on(v,p.delegates[v]);return this}once(y,o,d){if(d===void 0)return super.once(y,o);const p=typeof o=="string"?[o]:o,v=this._createDelegatedListener(y,p,d);for(const b in v.delegates){const P=v.delegates[b];v.delegates[b]=(...I)=>{this._removeDelegatedListener(y,p,d),P(...I)}}this._saveDelegatedListener(y,v);for(const b in v.delegates)this.once(b,v.delegates[b]);return this}off(y,o,d){return d===void 0?super.off(y,o):(this._removeDelegatedListener(y,typeof o=="string"?[o]:o,d),this)}queryRenderedFeatures(y,o){if(!this.style)return[];let d;const p=y instanceof s.P||Array.isArray(y),v=p?y:[[0,0],[this.transform.width,this.transform.height]];if(o=o||(p?{}:y)||{},v instanceof s.P||typeof v[0]=="number")d=[s.P.convert(v)];else{const b=s.P.convert(v[0]),P=s.P.convert(v[1]);d=[b,new s.P(P.x,b.y),P,new s.P(b.x,P.y),b]}return this.style.queryRenderedFeatures(d,o,this.transform)}querySourceFeatures(y,o){return this.style.querySourceFeatures(y,o)}setStyle(y,o){return(o=s.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},o)).diff!==!1&&o.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&y?(this._diffStyle(y,o),this):(this._localIdeographFontFamily=o.localIdeographFontFamily,this._updateStyle(y,o))}setTransformRequest(y){return this._requestManager.setTransformRequest(y),this}_getUIString(y){const o=this._locale[y];if(o==null)throw new Error(`Missing UI string '${y}'`);return o}_updateStyle(y,o){if(o.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(y,o));const d=this.style&&o.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!y)),y?(this.style=new $o(this,o||{}),this.style.setEventedParent(this,{style:this.style}),typeof y=="string"?this.style.loadURL(y,o,d):this.style.loadJSON(y,o,d),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new $o(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(y,o){if(typeof y=="string"){const d=this._requestManager.transformRequest(y,"Style");s.h(d,new AbortController).then(p=>{this._updateDiff(p.data,o)}).catch(p=>{p&&this.fire(new s.j(p))})}else typeof y=="object"&&this._updateDiff(y,o)}_updateDiff(y,o){try{this.style.setState(y,o)&&this._update(!0)}catch(d){s.w(`Unable to perform style diff: ${d.message||d.error||d}.  Rebuilding the style from scratch.`),this._updateStyle(y,o)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():s.w("There is no style added to the map.")}addSource(y,o){return this._lazyInitEmptyStyle(),this.style.addSource(y,o),this._update(!0)}isSourceLoaded(y){const o=this.style&&this.style.sourceCaches[y];if(o!==void 0)return o.loaded();this.fire(new s.j(new Error(`There is no source with ID '${y}'`)))}setTerrain(y){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),y){const o=this.style.sourceCaches[y.source];if(!o)throw new Error(`cannot load terrain, because there exists no source with ID: ${y.source}`);this.terrain===null&&o.reload();for(const d in this.style._layers){const p=this.style._layers[d];p.type==="hillshade"&&p.source===y.source&&s.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new pf(this.painter,o,y),this.painter.renderToTexture=new Pp(this.painter,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=d=>{d.dataType==="style"?this.terrain.sourceCache.freeRtt():d.dataType==="source"&&d.tile&&(d.sourceId!==y.source||this._elevationFreeze||(this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(d.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.minElevationForCurrentTile=0,this.transform.elevation=0;return this.fire(new s.k("terrain",{terrain:y})),this}getTerrain(){var y,o;return(o=(y=this.terrain)===null||y===void 0?void 0:y.options)!==null&&o!==void 0?o:null}areTilesLoaded(){const y=this.style&&this.style.sourceCaches;for(const o in y){const d=y[o]._tiles;for(const p in d){const v=d[p];if(v.state!=="loaded"&&v.state!=="errored")return!1}}return!0}removeSource(y){return this.style.removeSource(y),this._update(!0)}getSource(y){return this.style.getSource(y)}addImage(y,o,d={}){const{pixelRatio:p=1,sdf:v=!1,stretchX:b,stretchY:P,content:I,textFitWidth:N,textFitHeight:U}=d;if(this._lazyInitEmptyStyle(),!(o instanceof HTMLImageElement||s.b(o))){if(o.width===void 0||o.height===void 0)return this.fire(new s.j(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:G,height:W,data:oe}=o,le=o;return this.style.addImage(y,{data:new s.R({width:G,height:W},new Uint8Array(oe)),pixelRatio:p,stretchX:b,stretchY:P,content:I,textFitWidth:N,textFitHeight:U,sdf:v,version:0,userImage:le}),le.onAdd&&le.onAdd(this,y),this}}{const{width:G,height:W,data:oe}=w.getImageData(o);this.style.addImage(y,{data:new s.R({width:G,height:W},oe),pixelRatio:p,stretchX:b,stretchY:P,content:I,textFitWidth:N,textFitHeight:U,sdf:v,version:0})}}updateImage(y,o){const d=this.style.getImage(y);if(!d)return this.fire(new s.j(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const p=o instanceof HTMLImageElement||s.b(o)?w.getImageData(o):o,{width:v,height:b,data:P}=p;if(v===void 0||b===void 0)return this.fire(new s.j(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(v!==d.data.width||b!==d.data.height)return this.fire(new s.j(new Error("The width and height of the updated image must be that same as the previous version of the image")));const I=!(o instanceof HTMLImageElement||s.b(o));return d.data.replace(P,I),this.style.updateImage(y,d),this}getImage(y){return this.style.getImage(y)}hasImage(y){return y?!!this.style.getImage(y):(this.fire(new s.j(new Error("Missing required image id"))),!1)}removeImage(y){this.style.removeImage(y)}loadImage(y){return B.getImage(this._requestManager.transformRequest(y,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(y,o){return this._lazyInitEmptyStyle(),this.style.addLayer(y,o),this._update(!0)}moveLayer(y,o){return this.style.moveLayer(y,o),this._update(!0)}removeLayer(y){return this.style.removeLayer(y),this._update(!0)}getLayer(y){return this.style.getLayer(y)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(y,o,d){return this.style.setLayerZoomRange(y,o,d),this._update(!0)}setFilter(y,o,d={}){return this.style.setFilter(y,o,d),this._update(!0)}getFilter(y){return this.style.getFilter(y)}setPaintProperty(y,o,d,p={}){return this.style.setPaintProperty(y,o,d,p),this._update(!0)}getPaintProperty(y,o){return this.style.getPaintProperty(y,o)}setLayoutProperty(y,o,d,p={}){return this.style.setLayoutProperty(y,o,d,p),this._update(!0)}getLayoutProperty(y,o){return this.style.getLayoutProperty(y,o)}setGlyphs(y,o={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(y,o),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(y,o,d={}){return this._lazyInitEmptyStyle(),this.style.addSprite(y,o,d,p=>{p||this._update(!0)}),this}removeSprite(y){return this._lazyInitEmptyStyle(),this.style.removeSprite(y),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(y,o={}){return this._lazyInitEmptyStyle(),this.style.setSprite(y,o,d=>{d||this._update(!0)}),this}setLight(y,o={}){return this._lazyInitEmptyStyle(),this.style.setLight(y,o),this._update(!0)}getLight(){return this.style.getLight()}setSky(y){return this._lazyInitEmptyStyle(),this.style.setSky(y),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(y,o){return this.style.setFeatureState(y,o),this._update()}removeFeatureState(y,o){return this.style.removeFeatureState(y,o),this._update()}getFeatureState(y){return this.style.getFeatureState(y)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let y=0,o=0;return this._container&&(y=this._container.clientWidth||400,o=this._container.clientHeight||300),[y,o]}_setupContainer(){const y=this._container;y.classList.add("maplibregl-map");const o=this._canvasContainer=S.create("div","maplibregl-canvas-container",y);this._interactive&&o.classList.add("maplibregl-interactive"),this._canvas=S.create("canvas","maplibregl-canvas",o),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");const d=this._containerDimensions(),p=this._getClampedPixelRatio(d[0],d[1]);this._resizeCanvas(d[0],d[1],p);const v=this._controlContainer=S.create("div","maplibregl-control-container",y),b=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(P=>{b[P]=S.create("div",`maplibregl-ctrl-${P} `,v)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(y,o,d){this._canvas.width=Math.floor(d*y),this._canvas.height=Math.floor(d*o),this._canvas.style.width=`${y}px`,this._canvas.style.height=`${o}px`}_setupPainter(){const y={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let o=null;this._canvas.addEventListener("webglcontextcreationerror",p=>{o={requestedAttributes:y},p&&(o.statusMessage=p.statusMessage,o.type=p.type)},{once:!0});const d=this._canvas.getContext("webgl2",y)||this._canvas.getContext("webgl",y);if(!d){const p="Failed to initialize WebGL";throw o?(o.message=p,new Error(JSON.stringify(o))):new Error(p)}this.painter=new li(d,this.transform),C.testSupport(d)}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(y){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||y,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(y){return this._update(),this._renderTaskQueue.add(y)}_cancelRenderFrame(y){this._renderTaskQueue.remove(y)}_render(y){const o=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(y),this._removed)return;let d=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const v=this.transform.zoom,b=w.now();this.style.zoomHistory.update(v,b);const P=new s.z(v,{now:b,fadeDuration:o,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),I=P.crossFadingFactor();I===1&&I===this._crossFadingFactor||(d=!0,this._crossFadingFactor=I),this.style.update(P)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.minElevationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,o,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:o,showPadding:this.showPadding}),this.fire(new s.k("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,s.bf.mark(s.bg.load),this.fire(new s.k("load"))),this.style&&(this.style.hasTransitions()||d)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const p=this._sourcesDirty||this._styleDirty||this._placementDirty;return p||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new s.k("idle")),!this._loaded||this._fullyLoaded||p||(this._fullyLoaded=!0,s.bf.mark(s.bg.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var y;this._hash&&this._hash.remove();for(const d of this._controls)d.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),B.removeThrottleControl(this._imageQueueHandle),(y=this._resizeObserver)===null||y===void 0||y.disconnect();const o=this.painter.context.gl.getExtension("WEBGL_lose_context");o!=null&&o.loseContext&&o.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),S.remove(this._canvasContainer),S.remove(this._controlContainer),this._container.classList.remove("maplibregl-map"),s.bf.clearMetrics(),this._removed=!0,this.fire(new s.k("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,w.frameAsync(this._frameRequest).then(y=>{s.bf.frame(y),this._frameRequest=null,this._render(y)}).catch(()=>{}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(y){this._showTileBoundaries!==y&&(this._showTileBoundaries=y,this._update())}get showPadding(){return!!this._showPadding}set showPadding(y){this._showPadding!==y&&(this._showPadding=y,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(y){this._showCollisionBoxes!==y&&(this._showCollisionBoxes=y,y?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(y){this._showOverdrawInspector!==y&&(this._showOverdrawInspector=y,this._update())}get repaint(){return!!this._repaint}set repaint(y){this._repaint!==y&&(this._repaint=y,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(y){this._vertices=y,this._update()}get version(){return yh}getCameraTargetElevation(){return this.transform.elevation}},u.MapMouseEvent=Ni,u.MapTouchEvent=ro,u.MapWheelEvent=xs,u.Marker=yf,u.NavigationControl=class{constructor(y){this._updateZoomButtons=()=>{const o=this._map.getZoom(),d=o===this._map.getMaxZoom(),p=o===this._map.getMinZoom();this._zoomInButton.disabled=d,this._zoomOutButton.disabled=p,this._zoomInButton.setAttribute("aria-disabled",d.toString()),this._zoomOutButton.setAttribute("aria-disabled",p.toString())},this._rotateCompassArrow=()=>{const o=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=o},this._setButtonTitle=(o,d)=>{const p=this._map._getUIString(`NavigationControl.${d}`);o.title=p,o.setAttribute("aria-label",p)},this.options=s.e({},Ip,y),this._container=S.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",o=>o.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",o=>this._map.zoomIn({},{originalEvent:o})),S.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",o=>this._map.zoomOut({},{originalEvent:o})),S.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",o=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:o}):this._map.resetNorth({},{originalEvent:o})}),this._compassIcon=S.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(y){return this._map=y,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Zm(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){S.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(y,o){const d=S.create("button",y,this._container);return d.type="button",d.addEventListener("click",o),d}},u.Popup=class extends s.E{constructor(y){super(),this.remove=()=>(this._content&&S.remove(this._content),this._container&&(S.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new s.k("close"))),this),this._onMouseUp=o=>{this._update(o.point)},this._onMouseMove=o=>{this._update(o.point)},this._onDrag=o=>{this._update(o.point)},this._update=o=>{var d;if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=S.create("div","maplibregl-popup",this._map.getContainer()),this._tip=S.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const I of this.options.className.split(" "))this._container.classList.add(I);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=this._map.transform.renderWorldCopies&&!this._trackPointer?Pi(this._lngLat,this._flatPos,this._map.transform):(d=this._lngLat)===null||d===void 0?void 0:d.wrap(),this._trackPointer&&!o)return;const p=this._flatPos=this._pos=this._trackPointer&&o?o:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&o?o:this._map.transform.locationPoint(this._lngLat));let v=this.options.anchor;const b=A(this.options.offset);if(!v){const I=this._container.offsetWidth,N=this._container.offsetHeight;let U;U=p.y+b.bottom.y<N?["top"]:p.y>this._map.transform.height-N?["bottom"]:[],p.x<I/2?U.push("left"):p.x>this._map.transform.width-I/2&&U.push("right"),v=U.length===0?"bottom":U.join("-")}let P=p.add(b[v]);this.options.subpixelPositioning||(P=P.round()),S.setTransform(this._container,`${wd[v]} translate(${P.x}px,${P.y}px)`),gf(this._container,v,"popup")},this._onClose=()=>{this.remove()},this.options=s.e(Object.create(Qr),y)}addTo(y){return this._map&&this.remove(),this._map=y,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new s.k("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(y){return this._lngLat=s.N.convert(y),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(y){return this.setDOMContent(document.createTextNode(y))}setHTML(y){const o=document.createDocumentFragment(),d=document.createElement("body");let p;for(d.innerHTML=y;p=d.firstChild,p;)o.appendChild(p);return this.setDOMContent(o)}getMaxWidth(){var y;return(y=this._container)===null||y===void 0?void 0:y.style.maxWidth}setMaxWidth(y){return this.options.maxWidth=y,this._update(),this}setDOMContent(y){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=S.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(y),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(y){return this._container&&this._container.classList.add(y),this}removeClassName(y){return this._container&&this._container.classList.remove(y),this}setOffset(y){return this.options.offset=y,this._update(),this}toggleClassName(y){if(this._container)return this._container.classList.toggle(y)}setSubpixelPositioning(y){this.options.subpixelPositioning=y}_createCloseButton(){this.options.closeButton&&(this._closeButton=S.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const y=this._container.querySelector(xh);y&&y.focus()}},u.RasterDEMTileSource=Mt,u.RasterTileSource=wt,u.ScaleControl=class{constructor(y){this._onMove=()=>{ec(this._map,this._container,this.options)},this.setUnit=o=>{this.options.unit=o,ec(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},vl),y)}getDefaultPosition(){return"bottom-left"}onAdd(y){return this._map=y,this._container=S.create("div","maplibregl-ctrl maplibregl-ctrl-scale",y.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){S.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},u.ScrollZoomHandler=_s,u.Style=$o,u.TerrainControl=class{constructor(y){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=y}onAdd(y){return this._map=y,this._container=S.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=S.create("button","maplibregl-ctrl-terrain",this._container),S.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){S.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},u.TwoFingersTouchPitchHandler=bd,u.TwoFingersTouchRotateHandler=Sp,u.TwoFingersTouchZoomHandler=ph,u.TwoFingersTouchZoomRotateHandler=Ap,u.VectorTileSource=qt,u.VideoSource=Jt,u.addSourceType=(y,o)=>s._(void 0,void 0,void 0,function*(){if(Ir(y))throw new Error(`A source type called "${y}" already exists.`);((d,p)=>{Cr[d]=p})(y,o)}),u.clearPrewarmedResources=function(){const y=rt;y&&(y.isPreloaded()&&y.numActive()===1?(y.release(we),rt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},u.getMaxParallelImageRequests=function(){return s.a.MAX_PARALLEL_IMAGE_REQUESTS},u.getRTLTextPluginStatus=function(){return At().getRTLTextPluginStatus()},u.getVersion=function(){return R},u.getWorkerCount=function(){return Re.workerCount},u.getWorkerUrl=function(){return s.a.WORKER_URL},u.importScriptInWorkers=function(y){return ut().broadcast("IS",y)},u.prewarm=function(){We().acquire(we)},u.setMaxParallelImageRequests=function(y){s.a.MAX_PARALLEL_IMAGE_REQUESTS=y},u.setRTLTextPlugin=function(y,o){return At().setRTLTextPlugin(y,o)},u.setWorkerCount=function(y){Re.workerCount=y},u.setWorkerUrl=function(y){s.a.WORKER_URL=y}});var a=r;return a})})(cB);var LG=cB.exports;function ju(e){let t="https://mui.com/production-error/?code="+e;for(let r=1;r<arguments.length;r+=1)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}const Em="$$material";function Xe(){return Xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xe.apply(this,arguments)}function sn(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function rb(){return rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rb.apply(this,arguments)}function jb(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var MG=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,RG=jb(function(e){return MG.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function DG(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function OG(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var NG=function(){function e(r){var n=this;this._insertTag=function(i){var a;n.tags.length===0?n.insertionPoint?a=n.insertionPoint.nextSibling:n.prepend?a=n.container.firstChild:a=n.before:a=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,a),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(OG(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=DG(i);try{a.insertRule(n,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},e}(),Ci="-ms-",cp="-moz-",Jr="-webkit-",hB="comm",Rw="rule",Dw="decl",FG="@import",AT="@keyframes",$G="@layer",BG=Math.abs,Ub=String.fromCharCode,zG=Object.assign;function fB(e,t){return Oo(e,0)^45?(((t<<2^Oo(e,0))<<2^Oo(e,1))<<2^Oo(e,2))<<2^Oo(e,3):0}function pB(e){return e.trim()}function mB(e,t){return(e=t.exec(e))?e[0]:e}function an(e,t,r){return e.replace(t,r)}function nb(e,t){return e.indexOf(t)}function Oo(e,t){return e.charCodeAt(t)|0}function ib(e,t,r){return e.slice(t,r)}function mc(e){return e.length}function TT(e){return e.length}function ex(e,t){return t.push(e),e}function gB(e,t){return e.map(t).join("")}var Ow=1,hy=1,yB=0,ul=0,Na=0,Ty="";function Nw(e,t,r,n,i,a,u){return{value:e,root:t,parent:r,type:n,props:i,children:a,line:Ow,column:hy,length:u,return:""}}function Xd(e,t){return zG(Nw("",null,null,"",null,null,0),e,{length:-e.length},t)}function jG(){return Na}function UG(){return Na=ul>0?Oo(Ty,--ul):0,hy--,Na===10&&(hy=1,Ow--),Na}function Pl(){return Na=ul<yB?Oo(Ty,ul++):0,hy++,Na===10&&(hy=1,Ow++),Na}function Bu(){return Oo(Ty,ul)}function Hx(){return ul}function Py(e,t){return ib(Ty,e,t)}function Am(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function PT(e){return Ow=hy=1,yB=mc(Ty=e),ul=0,[]}function kT(e){return Ty="",e}function E1(e){return pB(Py(ul-1,HE(e===91?e+2:e===40?e+1:e)))}function VG(e){for(;(Na=Bu())&&Na<33;)Pl();return Am(e)>2||Am(Na)>3?"":" "}function qG(e,t){for(;--t&&Pl()&&!(Na<48||Na>102||Na>57&&Na<65||Na>70&&Na<97););return Py(e,Hx()+(t<6&&Bu()==32&&Pl()==32))}function HE(e){for(;Pl();)switch(Na){case e:return ul;case 34:case 39:e!==34&&e!==39&&HE(Na);break;case 40:e===41&&HE(e);break;case 92:Pl();break}return ul}function HG(e,t){for(;Pl()&&e+Na!==57;)if(e+Na===84&&Bu()===47)break;return"/*"+Py(t,ul-1)+"*"+Ub(e===47?e:Pl())}function WG(e){for(;!Am(Bu());)Pl();return Py(e,ul)}function vB(e){return kT(Wx("",null,null,null,[""],e=PT(e),0,[0],e))}function Wx(e,t,r,n,i,a,u,s,f){for(var m=0,x=0,w=u,S=0,C=0,L=0,k=1,$=1,M=1,z=0,B="",q=i,te=a,K=n,ee=B;$;)switch(L=z,z=Pl()){case 40:if(L!=108&&Oo(ee,w-1)==58){nb(ee+=an(E1(z),"&","&\f"),"&\f")!=-1&&(M=-1);break}case 34:case 39:case 91:ee+=E1(z);break;case 9:case 10:case 13:case 32:ee+=VG(L);break;case 92:ee+=qG(Hx()-1,7);continue;case 47:switch(Bu()){case 42:case 47:ex(GG(HG(Pl(),Hx()),t,r),f);break;default:ee+="/"}break;case 123*k:s[m++]=mc(ee)*M;case 125*k:case 59:case 0:switch(z){case 0:case 125:$=0;case 59+x:M==-1&&(ee=an(ee,/\f/g,"")),C>0&&mc(ee)-w&&ex(C>32?rM(ee+";",n,r,w-1):rM(an(ee," ","")+";",n,r,w-2),f);break;case 59:ee+=";";default:if(ex(K=tM(ee,t,r,m,x,i,s,B,q=[],te=[],w),a),z===123)if(x===0)Wx(ee,t,K,K,q,a,w,s,te);else switch(S===99&&Oo(ee,3)===110?100:S){case 100:case 108:case 109:case 115:Wx(e,K,K,n&&ex(tM(e,K,K,0,0,i,s,B,i,q=[],w),te),i,te,w,s,n?q:te);break;default:Wx(ee,K,K,K,[""],te,0,s,te)}}m=x=C=0,k=M=1,B=ee="",w=u;break;case 58:w=1+mc(ee),C=L;default:if(k<1){if(z==123)--k;else if(z==125&&k++==0&&UG()==125)continue}switch(ee+=Ub(z),z*k){case 38:M=x>0?1:(ee+="\f",-1);break;case 44:s[m++]=(mc(ee)-1)*M,M=1;break;case 64:Bu()===45&&(ee+=E1(Pl())),S=Bu(),x=w=mc(B=ee+=WG(Hx())),z++;break;case 45:L===45&&mc(ee)==2&&(k=0)}}return a}function tM(e,t,r,n,i,a,u,s,f,m,x){for(var w=i-1,S=i===0?a:[""],C=TT(S),L=0,k=0,$=0;L<n;++L)for(var M=0,z=ib(e,w+1,w=BG(k=u[L])),B=e;M<C;++M)(B=pB(k>0?S[M]+" "+z:an(z,/&\f/g,S[M])))&&(f[$++]=B);return Nw(e,t,r,i===0?Rw:s,f,m,x)}function GG(e,t,r){return Nw(e,t,r,hB,Ub(jG()),ib(e,2,-2),0)}function rM(e,t,r,n){return Nw(e,t,r,Dw,ib(e,0,n),ib(e,n+1,-1),n)}function Qd(e,t){for(var r="",n=TT(e),i=0;i<n;i++)r+=t(e[i],i,e,t)||"";return r}function bB(e,t,r,n){switch(e.type){case $G:if(e.children.length)break;case FG:case Dw:return e.return=e.return||e.value;case hB:return"";case AT:return e.return=e.value+"{"+Qd(e.children,n)+"}";case Rw:e.value=e.props.join(",")}return mc(r=Qd(e.children,n))?e.return=e.value+"{"+r+"}":""}function xB(e){var t=TT(e);return function(r,n,i,a){for(var u="",s=0;s<t;s++)u+=e[s](r,n,i,a)||"";return u}}function _B(e){return function(t){t.root||(t=t.return)&&e(t)}}var KG=function(t,r,n){for(var i=0,a=0;i=a,a=Bu(),i===38&&a===12&&(r[n]=1),!Am(a);)Pl();return Py(t,ul)},XG=function(t,r){var n=-1,i=44;do switch(Am(i)){case 0:i===38&&Bu()===12&&(r[n]=1),t[n]+=KG(ul-1,r,n);break;case 2:t[n]+=E1(i);break;case 4:if(i===44){t[++n]=Bu()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=Ub(i)}while(i=Pl());return t},ZG=function(t,r){return kT(XG(PT(t),r))},nM=new WeakMap,YG=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,i=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!nM.get(n))&&!i){nM.set(t,!0);for(var a=[],u=ZG(r,a),s=n.props,f=0,m=0;f<u.length;f++)for(var x=0;x<s.length;x++,m++)t.props[m]=a[f]?u[f].replace(/&\f/g,s[x]):s[x]+" "+u[f]}}},JG=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function wB(e,t){switch(fB(e,t)){case 5103:return Jr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Jr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Jr+e+cp+e+Ci+e+e;case 6828:case 4268:return Jr+e+Ci+e+e;case 6165:return Jr+e+Ci+"flex-"+e+e;case 5187:return Jr+e+an(e,/(\w+).+(:[^]+)/,Jr+"box-$1$2"+Ci+"flex-$1$2")+e;case 5443:return Jr+e+Ci+"flex-item-"+an(e,/flex-|-self/,"")+e;case 4675:return Jr+e+Ci+"flex-line-pack"+an(e,/align-content|flex-|-self/,"")+e;case 5548:return Jr+e+Ci+an(e,"shrink","negative")+e;case 5292:return Jr+e+Ci+an(e,"basis","preferred-size")+e;case 6060:return Jr+"box-"+an(e,"-grow","")+Jr+e+Ci+an(e,"grow","positive")+e;case 4554:return Jr+an(e,/([^-])(transform)/g,"$1"+Jr+"$2")+e;case 6187:return an(an(an(e,/(zoom-|grab)/,Jr+"$1"),/(image-set)/,Jr+"$1"),e,"")+e;case 5495:case 3959:return an(e,/(image-set\([^]*)/,Jr+"$1$`$1");case 4968:return an(an(e,/(.+:)(flex-)?(.*)/,Jr+"box-pack:$3"+Ci+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Jr+e+e;case 4095:case 3583:case 4068:case 2532:return an(e,/(.+)-inline(.+)/,Jr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(mc(e)-1-t>6)switch(Oo(e,t+1)){case 109:if(Oo(e,t+4)!==45)break;case 102:return an(e,/(.+:)(.+)-([^]+)/,"$1"+Jr+"$2-$3$1"+cp+(Oo(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~nb(e,"stretch")?wB(an(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Oo(e,t+1)!==115)break;case 6444:switch(Oo(e,mc(e)-3-(~nb(e,"!important")&&10))){case 107:return an(e,":",":"+Jr)+e;case 101:return an(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Jr+(Oo(e,14)===45?"inline-":"")+"box$3$1"+Jr+"$2$3$1"+Ci+"$2box$3")+e}break;case 5936:switch(Oo(e,t+11)){case 114:return Jr+e+Ci+an(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Jr+e+Ci+an(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Jr+e+Ci+an(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Jr+e+Ci+e+e}return e}var QG=function(t,r,n,i){if(t.length>-1&&!t.return)switch(t.type){case Dw:t.return=wB(t.value,t.length);break;case AT:return Qd([Xd(t,{value:an(t.value,"@","@"+Jr)})],i);case Rw:if(t.length)return gB(t.props,function(a){switch(mB(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Qd([Xd(t,{props:[an(a,/:(read-\w+)/,":"+cp+"$1")]})],i);case"::placeholder":return Qd([Xd(t,{props:[an(a,/:(plac\w+)/,":"+Jr+"input-$1")]}),Xd(t,{props:[an(a,/:(plac\w+)/,":"+cp+"$1")]}),Xd(t,{props:[an(a,/:(plac\w+)/,Ci+"input-$1")]})],i)}return""})}},eK=[QG],SB=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(k){var $=k.getAttribute("data-emotion");$.indexOf(" ")!==-1&&(document.head.appendChild(k),k.setAttribute("data-s",""))})}var i=t.stylisPlugins||eK,a={},u,s=[];u=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(k){for(var $=k.getAttribute("data-emotion").split(" "),M=1;M<$.length;M++)a[$[M]]=!0;s.push(k)});var f,m=[YG,JG];{var x,w=[bB,_B(function(k){x.insert(k)})],S=xB(m.concat(i,w)),C=function($){return Qd(vB($),S)};f=function($,M,z,B){x=z,C($?$+"{"+M.styles+"}":M.styles),B&&(L.inserted[M.name]=!0)}}var L={key:r,sheet:new NG({key:r,container:u,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:f};return L.sheet.hydrate(s),L},CB={exports:{}},Hi={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ps=typeof Symbol=="function"&&Symbol.for,IT=ps?Symbol.for("react.element"):60103,LT=ps?Symbol.for("react.portal"):60106,Fw=ps?Symbol.for("react.fragment"):60107,$w=ps?Symbol.for("react.strict_mode"):60108,Bw=ps?Symbol.for("react.profiler"):60114,zw=ps?Symbol.for("react.provider"):60109,jw=ps?Symbol.for("react.context"):60110,MT=ps?Symbol.for("react.async_mode"):60111,Uw=ps?Symbol.for("react.concurrent_mode"):60111,Vw=ps?Symbol.for("react.forward_ref"):60112,qw=ps?Symbol.for("react.suspense"):60113,tK=ps?Symbol.for("react.suspense_list"):60120,Hw=ps?Symbol.for("react.memo"):60115,Ww=ps?Symbol.for("react.lazy"):60116,rK=ps?Symbol.for("react.block"):60121,nK=ps?Symbol.for("react.fundamental"):60117,iK=ps?Symbol.for("react.responder"):60118,oK=ps?Symbol.for("react.scope"):60119;function Wu(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case IT:switch(e=e.type,e){case MT:case Uw:case Fw:case Bw:case $w:case qw:return e;default:switch(e=e&&e.$$typeof,e){case jw:case Vw:case Ww:case Hw:case zw:return e;default:return t}}case LT:return t}}}function EB(e){return Wu(e)===Uw}Hi.AsyncMode=MT;Hi.ConcurrentMode=Uw;Hi.ContextConsumer=jw;Hi.ContextProvider=zw;Hi.Element=IT;Hi.ForwardRef=Vw;Hi.Fragment=Fw;Hi.Lazy=Ww;Hi.Memo=Hw;Hi.Portal=LT;Hi.Profiler=Bw;Hi.StrictMode=$w;Hi.Suspense=qw;Hi.isAsyncMode=function(e){return EB(e)||Wu(e)===MT};Hi.isConcurrentMode=EB;Hi.isContextConsumer=function(e){return Wu(e)===jw};Hi.isContextProvider=function(e){return Wu(e)===zw};Hi.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===IT};Hi.isForwardRef=function(e){return Wu(e)===Vw};Hi.isFragment=function(e){return Wu(e)===Fw};Hi.isLazy=function(e){return Wu(e)===Ww};Hi.isMemo=function(e){return Wu(e)===Hw};Hi.isPortal=function(e){return Wu(e)===LT};Hi.isProfiler=function(e){return Wu(e)===Bw};Hi.isStrictMode=function(e){return Wu(e)===$w};Hi.isSuspense=function(e){return Wu(e)===qw};Hi.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Fw||e===Uw||e===Bw||e===$w||e===qw||e===tK||typeof e=="object"&&e!==null&&(e.$$typeof===Ww||e.$$typeof===Hw||e.$$typeof===zw||e.$$typeof===jw||e.$$typeof===Vw||e.$$typeof===nK||e.$$typeof===iK||e.$$typeof===oK||e.$$typeof===rK)};Hi.typeOf=Wu;CB.exports=Hi;var aK=CB.exports,AB=aK,sK={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},lK={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TB={};TB[AB.ForwardRef]=sK;TB[AB.Memo]=lK;var uK=!0;function PB(e,t,r){var n="";return r.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):n+=i+" "}),n}var RT=function(t,r,n){var i=t.key+"-"+r.name;(n===!1||uK===!1)&&t.registered[i]===void 0&&(t.registered[i]=r.styles)},DT=function(t,r,n){RT(t,r,n);var i=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var a=r;do t.insert(r===a?"."+i:"",a,t.sheet,!0),a=a.next;while(a!==void 0)}};function OT(e){for(var t=0,r,n=0,i=e.length;i>=4;++n,i-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var NT={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},cK=/[A-Z]|^ms/g,dK=/_EMO_([^_]+?)_([^]*?)_EMO_/g,kB=function(t){return t.charCodeAt(1)===45},iM=function(t){return t!=null&&typeof t!="boolean"},ZC=jb(function(e){return kB(e)?e:e.replace(cK,"-$&").toLowerCase()}),oM=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(dK,function(n,i,a){return Vd={name:i,styles:a,next:Vd},i})}return NT[t]!==1&&!kB(t)&&typeof r=="number"&&r!==0?r+"px":r};function ob(e,t,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return Vd={name:r.name,styles:r.styles,next:Vd},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)Vd={name:n.name,styles:n.styles,next:Vd},n=n.next;var i=r.styles+";";return i}return hK(e,t,r)}case"function":{if(e!==void 0){var a=Vd,u=r(e);return Vd=a,ob(e,t,u)}break}}return r}function hK(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=ob(e,t,r[i])+";";else for(var a in r){var u=r[a];if(typeof u!="object")iM(u)&&(n+=ZC(a)+":"+oM(a,u)+";");else if(Array.isArray(u)&&typeof u[0]=="string"&&t==null)for(var s=0;s<u.length;s++)iM(u[s])&&(n+=ZC(a)+":"+oM(a,u[s])+";");else{var f=ob(e,t,u);switch(a){case"animation":case"animationName":{n+=ZC(a)+":"+f+";";break}default:n+=a+"{"+f+"}"}}}return n}var aM=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Vd,IB=function(t,r,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,a="";Vd=void 0;var u=t[0];u==null||u.raw===void 0?(i=!1,a+=ob(n,r,u)):a+=u[0];for(var s=1;s<t.length;s++)a+=ob(n,r,t[s]),i&&(a+=u[s]);aM.lastIndex=0;for(var f="",m;(m=aM.exec(a))!==null;)f+="-"+m[1];var x=OT(a)+f;return{name:x,styles:a,next:Vd}},fK=function(t){return t()},LB=Wh.useInsertionEffect?Wh.useInsertionEffect:!1,MB=LB||fK,sM=LB||V.useLayoutEffect,RB=V.createContext(typeof HTMLElement<"u"?SB({key:"css"}):null);RB.Provider;var DB=function(t){return V.forwardRef(function(r,n){var i=V.useContext(RB);return t(r,i,n)})},Gw=V.createContext({}),OB=DB(function(e,t){var r=e.styles,n=IB([r],void 0,V.useContext(Gw)),i=V.useRef();return sM(function(){var a=t.key+"-global",u=new t.sheet.constructor({key:a,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),s=!1,f=document.querySelector('style[data-emotion="'+a+" "+n.name+'"]');return t.sheet.tags.length&&(u.before=t.sheet.tags[0]),f!==null&&(s=!0,f.setAttribute("data-emotion",a),u.hydrate([f])),i.current=[u,s],function(){u.flush()}},[t]),sM(function(){var a=i.current,u=a[0],s=a[1];if(s){a[1]=!1;return}if(n.next!==void 0&&DT(t,n.next,!0),u.tags.length){var f=u.tags[u.tags.length-1].nextElementSibling;u.before=f,u.flush()}t.insert("",n,u,!1)},[t,n.name]),null});function pK(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return IB(t)}var FT=function(){var t=pK.apply(void 0,arguments),r="animation-"+t.name;return{name:r,styles:"@keyframes "+r+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},mK=/[A-Z]|^ms/g,gK=/_EMO_([^_]+?)_([^]*?)_EMO_/g,NB=function(t){return t.charCodeAt(1)===45},lM=function(t){return t!=null&&typeof t!="boolean"},YC=jb(function(e){return NB(e)?e:e.replace(mK,"-$&").toLowerCase()}),uM=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(gK,function(n,i,a){return qd={name:i,styles:a,next:qd},i})}return NT[t]!==1&&!NB(t)&&typeof r=="number"&&r!==0?r+"px":r};function ab(e,t,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return qd={name:r.name,styles:r.styles,next:qd},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)qd={name:n.name,styles:n.styles,next:qd},n=n.next;var i=r.styles+";";return i}return yK(e,t,r)}case"function":{if(e!==void 0){var a=qd,u=r(e);return qd=a,ab(e,t,u)}break}}if(t==null)return r;var s=t[r];return s!==void 0?s:r}function yK(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=ab(e,t,r[i])+";";else for(var a in r){var u=r[a];if(typeof u!="object")t!=null&&t[u]!==void 0?n+=a+"{"+t[u]+"}":lM(u)&&(n+=YC(a)+":"+uM(a,u)+";");else if(Array.isArray(u)&&typeof u[0]=="string"&&(t==null||t[u[0]]===void 0))for(var s=0;s<u.length;s++)lM(u[s])&&(n+=YC(a)+":"+uM(a,u[s])+";");else{var f=ab(e,t,u);switch(a){case"animation":case"animationName":{n+=YC(a)+":"+f+";";break}default:n+=a+"{"+f+"}"}}}return n}var cM=/label:\s*([^\s;\n{]+)\s*(;|$)/g,qd,vK=function(t,r,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,a="";qd=void 0;var u=t[0];u==null||u.raw===void 0?(i=!1,a+=ab(n,r,u)):a+=u[0];for(var s=1;s<t.length;s++)a+=ab(n,r,t[s]),i&&(a+=u[s]);cM.lastIndex=0;for(var f="",m;(m=cM.exec(a))!==null;)f+="-"+m[1];var x=OT(a)+f;return{name:x,styles:a,next:qd}},bK=RG,xK=function(t){return t!=="theme"},dM=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?bK:xK},hM=function(t,r,n){var i;if(r){var a=r.shouldForwardProp;i=t.__emotion_forwardProp&&a?function(u){return t.__emotion_forwardProp(u)&&a(u)}:a}return typeof i!="function"&&n&&(i=t.__emotion_forwardProp),i},_K=function(t){var r=t.cache,n=t.serialized,i=t.isStringTag;return RT(r,n,i),MB(function(){return DT(r,n,i)}),null},wK=function e(t,r){var n=t.__emotion_real===t,i=n&&t.__emotion_base||t,a,u;r!==void 0&&(a=r.label,u=r.target);var s=hM(t,r,n),f=s||dM(i),m=!f("as");return function(){var x=arguments,w=n&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(a!==void 0&&w.push("label:"+a+";"),x[0]==null||x[0].raw===void 0)w.push.apply(w,x);else{w.push(x[0][0]);for(var S=x.length,C=1;C<S;C++)w.push(x[C],x[0][C])}var L=DB(function(k,$,M){var z=m&&k.as||i,B="",q=[],te=k;if(k.theme==null){te={};for(var K in k)te[K]=k[K];te.theme=V.useContext(Gw)}typeof k.className=="string"?B=PB($.registered,q,k.className):k.className!=null&&(B=k.className+" ");var ee=vK(w.concat(q),$.registered,te);B+=$.key+"-"+ee.name,u!==void 0&&(B+=" "+u);var Q=m&&s===void 0?dM(z):f,ge={};for(var Y in k)m&&Y==="as"||Q(Y)&&(ge[Y]=k[Y]);return ge.className=B,ge.ref=M,V.createElement(V.Fragment,null,V.createElement(_K,{cache:$,serialized:ee,isStringTag:typeof z=="string"}),V.createElement(z,ge))});return L.displayName=a!==void 0?a:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",L.defaultProps=t.defaultProps,L.__emotion_real=L,L.__emotion_base=i,L.__emotion_styles=w,L.__emotion_forwardProp=s,Object.defineProperty(L,"toString",{value:function(){return"."+u}}),L.withComponent=function(k,$){return e(k,rb({},r,$,{shouldForwardProp:hM(L,$,!0)})).apply(void 0,w)},L}},SK=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],WE=wK.bind();SK.forEach(function(e){WE[e]=WE(e)});var FB={exports:{}},CK="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",EK=CK,AK=EK;function $B(){}function BB(){}BB.resetWarningCache=$B;var TK=function(){function e(n,i,a,u,s,f){if(f!==AK){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:BB,resetWarningCache:$B};return r.PropTypes=r,r};FB.exports=TK();var PK=FB.exports;const sr=L4(PK);function kK(e){return e==null||Object.keys(e).length===0}function IK(e){const{styles:t,defaultTheme:r={}}=e,n=typeof t=="function"?i=>t(kK(i)?r:i):t;return $e.jsx(OB,{styles:n})}function zB(e,t){return WE(e,t)}const LK=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))};function ho(){return ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ho.apply(this,arguments)}function Tm(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function M0(){return M0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M0.apply(this,arguments)}function Fh(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function jB(e){if(!Fh(e))return e;const t={};return Object.keys(e).forEach(r=>{t[r]=jB(e[r])}),t}function $a(e,t,r={clone:!0}){const n=r.clone?M0({},e):e;return Fh(e)&&Fh(t)&&Object.keys(t).forEach(i=>{i!=="__proto__"&&(Fh(t[i])&&i in e&&Fh(e[i])?n[i]=$a(e[i],t[i],r):r.clone?n[i]=Fh(t[i])?jB(t[i]):t[i]:n[i]=t[i])}),n}function Vr(e){if(typeof e!="string")throw new Error(ju(7));return e.charAt(0).toUpperCase()+e.slice(1)}function GE(...e){return e.reduce((t,r)=>r==null?t:function(...i){t.apply(this,i),r.apply(this,i)},()=>{})}function Kw(e,t=166){let r;function n(...i){const a=()=>{e.apply(this,i)};clearTimeout(r),r=setTimeout(a,t)}return n.clear=()=>{clearTimeout(r)},n}function MK(e,t){return()=>null}function A1(e,t){var r,n;return V.isValidElement(e)&&t.indexOf((r=e.type.muiName)!=null?r:(n=e.type)==null||(n=n._payload)==null||(n=n.value)==null?void 0:n.muiName)!==-1}function ca(e){return e&&e.ownerDocument||document}function ou(e){return ca(e).defaultView||window}function RK(e,t){return()=>null}function M_(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const Uu=typeof window<"u"?V.useLayoutEffect:V.useEffect;let fM=0;function DK(e){const[t,r]=V.useState(e),n=e||t;return V.useEffect(()=>{t==null&&(fM+=1,r(`mui-${fM}`))},[t]),n}const pM=Wh.useId;function Xw(e){if(pM!==void 0){const t=pM();return e??t}return DK(e)}function OK(e,t,r,n,i){return null}function sb({controlled:e,default:t,name:r,state:n="value"}){const{current:i}=V.useRef(e!==void 0),[a,u]=V.useState(t),s=i?e:a,f=V.useCallback(m=>{i||u(m)},[]);return[s,f]}function Fu(e){const t=V.useRef(e);return Uu(()=>{t.current=e}),V.useRef((...r)=>(0,t.current)(...r)).current}function Ba(...e){return V.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(r=>{M_(r,t)})},e)}const mM={};function NK(e,t){const r=V.useRef(mM);return r.current===mM&&(r.current=e(t)),r}const FK=[];function $K(e){V.useEffect(e,FK)}let UB=class VB{constructor(){this.currentId=0,this.clear=()=>{this.currentId!==0&&(clearTimeout(this.currentId),this.currentId=0)},this.disposeEffect=()=>this.clear}static create(){return new VB}start(t,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=0,r()},t)}};function qB(){const e=NK(UB.create).current;return $K(e.disposeEffect),e}let Zw=!0,KE=!1;const BK=new UB,zK={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function jK(e){const{type:t,tagName:r}=e;return!!(r==="INPUT"&&zK[t]&&!e.readOnly||r==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function UK(e){e.metaKey||e.altKey||e.ctrlKey||(Zw=!0)}function JC(){Zw=!1}function VK(){this.visibilityState==="hidden"&&KE&&(Zw=!0)}function qK(e){e.addEventListener("keydown",UK,!0),e.addEventListener("mousedown",JC,!0),e.addEventListener("pointerdown",JC,!0),e.addEventListener("touchstart",JC,!0),e.addEventListener("visibilitychange",VK,!0)}function HK(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return Zw||jK(t)}function $T(){const e=V.useCallback(i=>{i!=null&&qK(i.ownerDocument)},[]),t=V.useRef(!1);function r(){return t.current?(KE=!0,BK.start(100,()=>{KE=!1}),t.current=!1,!0):!1}function n(i){return HK(i)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:n,onBlur:r,ref:e}}function HB(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}const WK={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Yw(e,t){const r=M0({},t);return Object.keys(e).forEach(n=>{if(n.toString().match(/^(components|slots)$/))r[n]=M0({},e[n],r[n]);else if(n.toString().match(/^(componentsProps|slotProps)$/)){const i=e[n]||{},a=t[n];r[n]={},!a||!Object.keys(a)?r[n]=i:!i||!Object.keys(i)?r[n]=a:(r[n]=M0({},a),Object.keys(i).forEach(u=>{r[n][u]=Yw(i[u],a[u])}))}else r[n]===void 0&&(r[n]=e[n])}),r}function Qn(e,t,r=void 0){const n={};return Object.keys(e).forEach(i=>{n[i]=e[i].reduce((a,u)=>{if(u){const s=t(u);s!==""&&a.push(s),r&&r[u]&&a.push(r[u])}return a},[]).join(" ")}),n}const gM=e=>e,GK=()=>{let e=gM;return{configure(t){e=t},generate(t){return e(t)},reset(){e=gM}}},Jw=GK(),KK={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Gn(e,t,r="Mui"){const n=KK[t];return n?`${r}-${n}`:`${Jw.generate(e)}-${t}`}function Un(e,t,r="Mui"){const n={};return t.forEach(i=>{n[i]=Gn(e,i,r)}),n}function Gp(e,t=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,r))}const XK=["values","unit","step"],ZK=e=>{const t=Object.keys(e).map(r=>({key:r,val:e[r]}))||[];return t.sort((r,n)=>r.val-n.val),t.reduce((r,n)=>ho({},r,{[n.key]:n.val}),{})};function YK(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5}=e,i=Tm(e,XK),a=ZK(t),u=Object.keys(a);function s(S){return`@media (min-width:${typeof t[S]=="number"?t[S]:S}${r})`}function f(S){return`@media (max-width:${(typeof t[S]=="number"?t[S]:S)-n/100}${r})`}function m(S,C){const L=u.indexOf(C);return`@media (min-width:${typeof t[S]=="number"?t[S]:S}${r}) and (max-width:${(L!==-1&&typeof t[u[L]]=="number"?t[u[L]]:C)-n/100}${r})`}function x(S){return u.indexOf(S)+1<u.length?m(S,u[u.indexOf(S)+1]):s(S)}function w(S){const C=u.indexOf(S);return C===0?s(u[1]):C===u.length-1?f(u[C]):m(S,u[u.indexOf(S)+1]).replace("@media","@media not all and")}return ho({keys:u,values:a,up:s,down:f,between:m,only:x,not:w,unit:r},i)}const JK={borderRadius:4};function T1(e,t){return t?$a(e,t,{clone:!1}):e}const BT={xs:0,sm:600,md:900,lg:1200,xl:1536},yM={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${BT[e]}px)`};function Cc(e,t,r){const n=e.theme||{};if(Array.isArray(t)){const a=n.breakpoints||yM;return t.reduce((u,s,f)=>(u[a.up(a.keys[f])]=r(t[f]),u),{})}if(typeof t=="object"){const a=n.breakpoints||yM;return Object.keys(t).reduce((u,s)=>{if(Object.keys(a.values||BT).indexOf(s)!==-1){const f=a.up(s);u[f]=r(t[s],s)}else{const f=s;u[f]=t[f]}return u},{})}return r(t)}function QK(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((n,i)=>{const a=e.up(i);return n[a]={},n},{}))||{}}function eX(e,t){return e.reduce((r,n)=>{const i=r[n];return(!i||Object.keys(i).length===0)&&delete r[n],r},t)}function tX(e,t){if(typeof e!="object")return{};const r={},n=Object.keys(t);return Array.isArray(e)?n.forEach((i,a)=>{a<e.length&&(r[i]=!0)}):n.forEach(i=>{e[i]!=null&&(r[i]=!0)}),r}function Qw({values:e,breakpoints:t,base:r}){const n=r||tX(e,t),i=Object.keys(n);if(i.length===0)return e;let a;return i.reduce((u,s,f)=>(Array.isArray(e)?(u[s]=e[f]!=null?e[f]:e[a],a=f):typeof e=="object"?(u[s]=e[s]!=null?e[s]:e[a],a=s):u[s]=e,u),{})}function e5(e,t,r=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&r){const n=`vars.${t}`.split(".").reduce((i,a)=>i&&i[a]?i[a]:null,e);if(n!=null)return n}return t.split(".").reduce((n,i)=>n&&n[i]!=null?n[i]:null,e)}function R_(e,t,r,n=r){let i;return typeof e=="function"?i=e(r):Array.isArray(e)?i=e[r]||n:i=e5(e,r)||n,t&&(i=t(i,n,e)),i}function _a(e){const{prop:t,cssProperty:r=e.prop,themeKey:n,transform:i}=e,a=u=>{if(u[t]==null)return null;const s=u[t],f=u.theme,m=e5(f,n)||{};return Cc(u,s,w=>{let S=R_(m,i,w);return w===S&&typeof w=="string"&&(S=R_(m,i,`${t}${w==="default"?"":Vr(w)}`,w)),r===!1?S:{[r]:S}})};return a.propTypes={},a.filterProps=[t],a}function rX(e){const t={};return r=>(t[r]===void 0&&(t[r]=e(r)),t[r])}const nX={m:"margin",p:"padding"},iX={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},vM={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},oX=rX(e=>{if(e.length>2)if(vM[e])e=vM[e];else return[e];const[t,r]=e.split(""),n=nX[t],i=iX[r]||"";return Array.isArray(i)?i.map(a=>n+a):[n+i]}),zT=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],jT=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...zT,...jT];function Vb(e,t,r,n){var i;const a=(i=e5(e,t,!1))!=null?i:r;return typeof a=="number"?u=>typeof u=="string"?u:a*u:Array.isArray(a)?u=>typeof u=="string"?u:a[u]:typeof a=="function"?a:()=>{}}function WB(e){return Vb(e,"spacing",8)}function qb(e,t){if(typeof t=="string"||t==null)return t;const r=Math.abs(t),n=e(r);return t>=0?n:typeof n=="number"?-n:`-${n}`}function aX(e,t){return r=>e.reduce((n,i)=>(n[i]=qb(t,r),n),{})}function sX(e,t,r,n){if(t.indexOf(r)===-1)return null;const i=oX(r),a=aX(i,n),u=e[r];return Cc(e,u,a)}function GB(e,t){const r=WB(e.theme);return Object.keys(e).map(n=>sX(e,t,n,r)).reduce(T1,{})}function ta(e){return GB(e,zT)}ta.propTypes={};ta.filterProps=zT;function ra(e){return GB(e,jT)}ra.propTypes={};ra.filterProps=jT;function lX(e=8){if(e.mui)return e;const t=WB({spacing:e}),r=(...n)=>(n.length===0?[1]:n).map(a=>{const u=t(a);return typeof u=="number"?`${u}px`:u}).join(" ");return r.mui=!0,r}function t5(...e){const t=e.reduce((n,i)=>(i.filterProps.forEach(a=>{n[a]=i}),n),{}),r=n=>Object.keys(n).reduce((i,a)=>t[a]?T1(i,t[a](n)):i,{});return r.propTypes={},r.filterProps=e.reduce((n,i)=>n.concat(i.filterProps),[]),r}function gc(e){return typeof e!="number"?e:`${e}px solid`}function Ac(e,t){return _a({prop:e,themeKey:"borders",transform:t})}const uX=Ac("border",gc),cX=Ac("borderTop",gc),dX=Ac("borderRight",gc),hX=Ac("borderBottom",gc),fX=Ac("borderLeft",gc),pX=Ac("borderColor"),mX=Ac("borderTopColor"),gX=Ac("borderRightColor"),yX=Ac("borderBottomColor"),vX=Ac("borderLeftColor"),bX=Ac("outline",gc),xX=Ac("outlineColor"),r5=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Vb(e.theme,"shape.borderRadius",4),r=n=>({borderRadius:qb(t,n)});return Cc(e,e.borderRadius,r)}return null};r5.propTypes={};r5.filterProps=["borderRadius"];t5(uX,cX,dX,hX,fX,pX,mX,gX,yX,vX,r5,bX,xX);const n5=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Vb(e.theme,"spacing",8),r=n=>({gap:qb(t,n)});return Cc(e,e.gap,r)}return null};n5.propTypes={};n5.filterProps=["gap"];const i5=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Vb(e.theme,"spacing",8),r=n=>({columnGap:qb(t,n)});return Cc(e,e.columnGap,r)}return null};i5.propTypes={};i5.filterProps=["columnGap"];const o5=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Vb(e.theme,"spacing",8),r=n=>({rowGap:qb(t,n)});return Cc(e,e.rowGap,r)}return null};o5.propTypes={};o5.filterProps=["rowGap"];const _X=_a({prop:"gridColumn"}),wX=_a({prop:"gridRow"}),SX=_a({prop:"gridAutoFlow"}),CX=_a({prop:"gridAutoColumns"}),EX=_a({prop:"gridAutoRows"}),AX=_a({prop:"gridTemplateColumns"}),TX=_a({prop:"gridTemplateRows"}),PX=_a({prop:"gridTemplateAreas"}),kX=_a({prop:"gridArea"});t5(n5,i5,o5,_X,wX,SX,CX,EX,AX,TX,PX,kX);function R0(e,t){return t==="grey"?t:e}const IX=_a({prop:"color",themeKey:"palette",transform:R0}),LX=_a({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:R0}),MX=_a({prop:"backgroundColor",themeKey:"palette",transform:R0});t5(IX,LX,MX);function Ru(e){return e<=1&&e!==0?`${e*100}%`:e}const RX=_a({prop:"width",transform:Ru}),UT=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=r=>{var n,i;const a=((n=e.theme)==null||(n=n.breakpoints)==null||(n=n.values)==null?void 0:n[r])||BT[r];return a?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${a}${e.theme.breakpoints.unit}`}:{maxWidth:a}:{maxWidth:Ru(r)}};return Cc(e,e.maxWidth,t)}return null};UT.filterProps=["maxWidth"];const DX=_a({prop:"minWidth",transform:Ru}),OX=_a({prop:"height",transform:Ru}),NX=_a({prop:"maxHeight",transform:Ru}),FX=_a({prop:"minHeight",transform:Ru});_a({prop:"size",cssProperty:"width",transform:Ru});_a({prop:"size",cssProperty:"height",transform:Ru});const $X=_a({prop:"boxSizing"});t5(RX,UT,DX,OX,NX,FX,$X);const a5={border:{themeKey:"borders",transform:gc},borderTop:{themeKey:"borders",transform:gc},borderRight:{themeKey:"borders",transform:gc},borderBottom:{themeKey:"borders",transform:gc},borderLeft:{themeKey:"borders",transform:gc},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:gc},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:r5},color:{themeKey:"palette",transform:R0},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:R0},backgroundColor:{themeKey:"palette",transform:R0},p:{style:ra},pt:{style:ra},pr:{style:ra},pb:{style:ra},pl:{style:ra},px:{style:ra},py:{style:ra},padding:{style:ra},paddingTop:{style:ra},paddingRight:{style:ra},paddingBottom:{style:ra},paddingLeft:{style:ra},paddingX:{style:ra},paddingY:{style:ra},paddingInline:{style:ra},paddingInlineStart:{style:ra},paddingInlineEnd:{style:ra},paddingBlock:{style:ra},paddingBlockStart:{style:ra},paddingBlockEnd:{style:ra},m:{style:ta},mt:{style:ta},mr:{style:ta},mb:{style:ta},ml:{style:ta},mx:{style:ta},my:{style:ta},margin:{style:ta},marginTop:{style:ta},marginRight:{style:ta},marginBottom:{style:ta},marginLeft:{style:ta},marginX:{style:ta},marginY:{style:ta},marginInline:{style:ta},marginInlineStart:{style:ta},marginInlineEnd:{style:ta},marginBlock:{style:ta},marginBlockStart:{style:ta},marginBlockEnd:{style:ta},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:n5},rowGap:{style:o5},columnGap:{style:i5},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ru},maxWidth:{style:UT},minWidth:{transform:Ru},height:{transform:Ru},maxHeight:{transform:Ru},minHeight:{transform:Ru},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function BX(...e){const t=e.reduce((n,i)=>n.concat(Object.keys(i)),[]),r=new Set(t);return e.every(n=>r.size===Object.keys(n).length)}function zX(e,t){return typeof e=="function"?e(t):e}function jX(){function e(r,n,i,a){const u={[r]:n,theme:i},s=a[r];if(!s)return{[r]:n};const{cssProperty:f=r,themeKey:m,transform:x,style:w}=s;if(n==null)return null;if(m==="typography"&&n==="inherit")return{[r]:n};const S=e5(i,m)||{};return w?w(u):Cc(u,n,L=>{let k=R_(S,x,L);return L===k&&typeof L=="string"&&(k=R_(S,x,`${r}${L==="default"?"":Vr(L)}`,L)),f===!1?k:{[f]:k}})}function t(r){var n;const{sx:i,theme:a={}}=r||{};if(!i)return null;const u=(n=a.unstable_sxConfig)!=null?n:a5;function s(f){let m=f;if(typeof f=="function")m=f(a);else if(typeof f!="object")return f;if(!m)return null;const x=QK(a.breakpoints),w=Object.keys(x);let S=x;return Object.keys(m).forEach(C=>{const L=zX(m[C],a);if(L!=null)if(typeof L=="object")if(u[C])S=T1(S,e(C,L,a,u));else{const k=Cc({theme:a},L,$=>({[C]:$}));BX(k,L)?S[C]=t({sx:L,theme:a}):S=T1(S,k)}else S=T1(S,e(C,L,a,u))}),eX(w,S)}return Array.isArray(i)?i.map(s):s(i)}return t}const Hb=jX();Hb.filterProps=["sx"];function UX(e,t){const r=this;return r.vars&&typeof r.getColorSchemeSelector=="function"?{[r.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:r.palette.mode===e?t:{}}const VX=["breakpoints","palette","spacing","shape"];function VT(e={},...t){const{breakpoints:r={},palette:n={},spacing:i,shape:a={}}=e,u=Tm(e,VX),s=YK(r),f=lX(i);let m=$a({breakpoints:s,direction:"ltr",components:{},palette:ho({mode:"light"},n),spacing:f,shape:ho({},JK,a)},u);return m.applyStyles=UX,m=t.reduce((x,w)=>$a(x,w),m),m.unstable_sxConfig=ho({},a5,u==null?void 0:u.unstable_sxConfig),m.unstable_sx=function(w){return Hb({sx:w,theme:this})},m}function qX(e){return Object.keys(e).length===0}function qT(e=null){const t=V.useContext(Gw);return!t||qX(t)?e:t}const HX=VT();function s5(e=HX){return qT(e)}function WX({styles:e,themeId:t,defaultTheme:r={}}){const n=s5(r),i=typeof e=="function"?e(t&&n[t]||n):e;return $e.jsx(IK,{styles:i})}const GX=["sx"],KX=e=>{var t,r;const n={systemProps:{},otherProps:{}},i=(t=e==null||(r=e.theme)==null?void 0:r.unstable_sxConfig)!=null?t:a5;return Object.keys(e).forEach(a=>{i[a]?n.systemProps[a]=e[a]:n.otherProps[a]=e[a]}),n};function HT(e){const{sx:t}=e,r=Tm(e,GX),{systemProps:n,otherProps:i}=KX(r);let a;return Array.isArray(t)?a=[n,...t]:typeof t=="function"?a=(...u)=>{const s=t(...u);return Fh(s)?ho({},n,s):n}:a=ho({},n,t),ho({},i,{sx:a})}function KB(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=KB(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Zr(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=KB(e))&&(n&&(n+=" "),n+=t);return n}const XX=["className","component"];function XB(e={}){const{themeId:t,defaultTheme:r,defaultClassName:n="MuiBox-root",generateClassName:i}=e,a=zB("div",{shouldForwardProp:s=>s!=="theme"&&s!=="sx"&&s!=="as"})(Hb);return V.forwardRef(function(f,m){const x=s5(r),w=HT(f),{className:S,component:C="div"}=w,L=Tm(w,XX);return $e.jsx(a,ho({as:C,ref:m,className:Zr(S,i?i(n):n),theme:t&&x[t]||x},L))})}const ZX=Un("MuiBox",["root"]),YX=XB({defaultClassName:ZX.root,generateClassName:Jw.generate}),JX=["ownerState"],QX=["variants"],eZ=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function tZ(e){return Object.keys(e).length===0}function rZ(e){return typeof e=="string"&&e.charCodeAt(0)>96}function P1(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const nZ=VT(),iZ=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function tx({defaultTheme:e,theme:t,themeId:r}){return tZ(t)?e:t[r]||t}function oZ(e){return e?(t,r)=>r[e]:null}function Gx(e,t){let{ownerState:r}=t,n=Tm(t,JX);const i=typeof e=="function"?e(ho({ownerState:r},n)):e;if(Array.isArray(i))return i.flatMap(a=>Gx(a,ho({ownerState:r},n)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:a=[]}=i;let s=Tm(i,QX);return a.forEach(f=>{let m=!0;typeof f.props=="function"?m=f.props(ho({ownerState:r},n)):Object.keys(f.props).forEach(x=>{(r==null?void 0:r[x])!==f.props[x]&&n[x]!==f.props[x]&&(m=!1)}),m&&(Array.isArray(s)||(s=[s]),s.push(typeof f.style=="function"?f.style(ho({ownerState:r},n)):f.style))}),s}return i}function ZB(e={}){const{themeId:t,defaultTheme:r=nZ,rootShouldForwardProp:n=P1,slotShouldForwardProp:i=P1}=e,a=u=>Hb(ho({},u,{theme:tx(ho({},u,{defaultTheme:r,themeId:t}))}));return a.__mui_systemSx=!0,(u,s={})=>{LK(u,te=>te.filter(K=>!(K!=null&&K.__mui_systemSx)));const{name:f,slot:m,skipVariantsResolver:x,skipSx:w,overridesResolver:S=oZ(iZ(m))}=s,C=Tm(s,eZ),L=x!==void 0?x:m&&m!=="Root"&&m!=="root"||!1,k=w||!1;let $,M=P1;m==="Root"||m==="root"?M=n:m?M=i:rZ(u)&&(M=void 0);const z=zB(u,ho({shouldForwardProp:M,label:$},C)),B=te=>typeof te=="function"&&te.__emotion_real!==te||Fh(te)?K=>Gx(te,ho({},K,{theme:tx({theme:K.theme,defaultTheme:r,themeId:t})})):te,q=(te,...K)=>{let ee=B(te);const Q=K?K.map(B):[];f&&S&&Q.push(Z=>{const re=tx(ho({},Z,{defaultTheme:r,themeId:t}));if(!re.components||!re.components[f]||!re.components[f].styleOverrides)return null;const ye=re.components[f].styleOverrides,fe={};return Object.entries(ye).forEach(([Ae,ke])=>{fe[Ae]=Gx(ke,ho({},Z,{theme:re}))}),S(Z,fe)}),f&&!L&&Q.push(Z=>{var re;const ye=tx(ho({},Z,{defaultTheme:r,themeId:t})),fe=ye==null||(re=ye.components)==null||(re=re[f])==null?void 0:re.variants;return Gx({variants:fe},ho({},Z,{theme:ye}))}),k||Q.push(a);const ge=Q.length-K.length;if(Array.isArray(te)&&ge>0){const Z=new Array(ge).fill("");ee=[...te,...Z],ee.raw=[...te.raw,...Z]}const Y=z(ee,...Q);return u.muiName&&(Y.muiName=u.muiName),Y};return z.withConfig&&(q.withConfig=z.withConfig),q}}const ky=ZB();function YB(e){const{theme:t,name:r,props:n}=e;return!t||!t.components||!t.components[r]||!t.components[r].defaultProps?n:Yw(t.components[r].defaultProps,n)}function JB({props:e,name:t,defaultTheme:r,themeId:n}){let i=s5(r);return n&&(i=i[n]||i),YB({theme:i,name:t,props:e})}function WT(e,t=0,r=1){return Gp(e,t,r)}function aZ(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(t);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function Pm(e){if(e.type)return e;if(e.charAt(0)==="#")return Pm(aZ(e));const t=e.indexOf("("),r=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error(ju(9,e));let n=e.substring(t+1,e.length-1),i;if(r==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(ju(10,i))}else n=n.split(",");return n=n.map(a=>parseFloat(a)),{type:r,values:n,colorSpace:i}}function l5(e){const{type:t,colorSpace:r}=e;let{values:n}=e;return t.indexOf("rgb")!==-1?n=n.map((i,a)=>a<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),t.indexOf("color")!==-1?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${t}(${n})`}function sZ(e){e=Pm(e);const{values:t}=e,r=t[0],n=t[1]/100,i=t[2]/100,a=n*Math.min(i,1-i),u=(m,x=(m+r/30)%12)=>i-a*Math.max(Math.min(x-3,9-x,1),-1);let s="rgb";const f=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return e.type==="hsla"&&(s+="a",f.push(t[3])),l5({type:s,values:f})}function bM(e){e=Pm(e);let t=e.type==="hsl"||e.type==="hsla"?Pm(sZ(e)).values:e.values;return t=t.map(r=>(e.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function lZ(e,t){const r=bM(e),n=bM(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function El(e,t){return e=Pm(e),t=WT(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,l5(e)}function QB(e,t){if(e=Pm(e),t=WT(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]*=1-t;return l5(e)}function ez(e,t){if(e=Pm(e),t=WT(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return l5(e)}function XE(){return XE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XE.apply(this,arguments)}const tz=V.createContext(null);function rz(){return V.useContext(tz)}const uZ=typeof Symbol=="function"&&Symbol.for,cZ=uZ?Symbol.for("mui.nested"):"__THEME_NESTED__";function dZ(e,t){return typeof t=="function"?t(e):XE({},e,t)}function hZ(e){const{children:t,theme:r}=e,n=rz(),i=V.useMemo(()=>{const a=n===null?r:dZ(n,r);return a!=null&&(a[cZ]=n!==null),a},[r,n]);return $e.jsx(tz.Provider,{value:i,children:t})}const xM={};function _M(e,t,r,n=!1){return V.useMemo(()=>{const i=e&&t[e]||t;if(typeof r=="function"){const a=r(i),u=e?ho({},t,{[e]:a}):a;return n?()=>u:u}return e?ho({},t,{[e]:r}):ho({},t,r)},[e,t,r,n])}function fZ(e){const{children:t,theme:r,themeId:n}=e,i=qT(xM),a=rz()||xM,u=_M(n,i,r),s=_M(n,a,r,!0);return $e.jsx(hZ,{theme:s,children:$e.jsx(Gw.Provider,{value:u,children:t})})}function pZ(e,t){return Xe({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const lb={black:"#000",white:"#fff"},mZ={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},gg={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},yg={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Tv={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},vg={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},bg={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},xg={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},gZ=["mode","contrastThreshold","tonalOffset"],wM={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:lb.white,default:lb.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},QC={text:{primary:lb.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:lb.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function SM(e,t,r,n){const i=n.light||n,a=n.dark||n*1.5;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:t==="light"?e.light=ez(e.main,i):t==="dark"&&(e.dark=QB(e.main,a)))}function yZ(e="light"){return e==="dark"?{main:vg[200],light:vg[50],dark:vg[400]}:{main:vg[700],light:vg[400],dark:vg[800]}}function vZ(e="light"){return e==="dark"?{main:gg[200],light:gg[50],dark:gg[400]}:{main:gg[500],light:gg[300],dark:gg[700]}}function bZ(e="light"){return e==="dark"?{main:yg[500],light:yg[300],dark:yg[700]}:{main:yg[700],light:yg[400],dark:yg[800]}}function xZ(e="light"){return e==="dark"?{main:bg[400],light:bg[300],dark:bg[700]}:{main:bg[700],light:bg[500],dark:bg[900]}}function _Z(e="light"){return e==="dark"?{main:xg[400],light:xg[300],dark:xg[700]}:{main:xg[800],light:xg[500],dark:xg[900]}}function wZ(e="light"){return e==="dark"?{main:Tv[400],light:Tv[300],dark:Tv[700]}:{main:"#ed6c02",light:Tv[500],dark:Tv[900]}}function SZ(e){const{mode:t="light",contrastThreshold:r=3,tonalOffset:n=.2}=e,i=sn(e,gZ),a=e.primary||yZ(t),u=e.secondary||vZ(t),s=e.error||bZ(t),f=e.info||xZ(t),m=e.success||_Z(t),x=e.warning||wZ(t);function w(k){return lZ(k,QC.text.primary)>=r?QC.text.primary:wM.text.primary}const S=({color:k,name:$,mainShade:M=500,lightShade:z=300,darkShade:B=700})=>{if(k=Xe({},k),!k.main&&k[M]&&(k.main=k[M]),!k.hasOwnProperty("main"))throw new Error(ju(11,$?` (${$})`:"",M));if(typeof k.main!="string")throw new Error(ju(12,$?` (${$})`:"",JSON.stringify(k.main)));return SM(k,"light",z,n),SM(k,"dark",B,n),k.contrastText||(k.contrastText=w(k.main)),k},C={dark:QC,light:wM};return $a(Xe({common:Xe({},lb),mode:t,primary:S({color:a,name:"primary"}),secondary:S({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:S({color:s,name:"error"}),warning:S({color:x,name:"warning"}),info:S({color:f,name:"info"}),success:S({color:m,name:"success"}),grey:mZ,contrastThreshold:r,getContrastText:w,augmentColor:S,tonalOffset:n},C[t]),i)}const CZ=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function EZ(e){return Math.round(e*1e5)/1e5}const CM={textTransform:"uppercase"},EM='"Roboto", "Helvetica", "Arial", sans-serif';function AZ(e,t){const r=typeof t=="function"?t(e):t,{fontFamily:n=EM,fontSize:i=14,fontWeightLight:a=300,fontWeightRegular:u=400,fontWeightMedium:s=500,fontWeightBold:f=700,htmlFontSize:m=16,allVariants:x,pxToRem:w}=r,S=sn(r,CZ),C=i/14,L=w||(M=>`${M/m*C}rem`),k=(M,z,B,q,te)=>Xe({fontFamily:n,fontWeight:M,fontSize:L(z),lineHeight:B},n===EM?{letterSpacing:`${EZ(q/z)}em`}:{},te,x),$={h1:k(a,96,1.167,-1.5),h2:k(a,60,1.2,-.5),h3:k(u,48,1.167,0),h4:k(u,34,1.235,.25),h5:k(u,24,1.334,0),h6:k(s,20,1.6,.15),subtitle1:k(u,16,1.75,.15),subtitle2:k(s,14,1.57,.1),body1:k(u,16,1.5,.15),body2:k(u,14,1.43,.15),button:k(s,14,1.75,.4,CM),caption:k(u,12,1.66,.4),overline:k(u,12,2.66,1,CM),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return $a(Xe({htmlFontSize:m,pxToRem:L,fontFamily:n,fontSize:i,fontWeightLight:a,fontWeightRegular:u,fontWeightMedium:s,fontWeightBold:f},$),S,{clone:!1})}const TZ=.2,PZ=.14,kZ=.12;function Io(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${TZ})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${PZ})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${kZ})`].join(",")}const IZ=["none",Io(0,2,1,-1,0,1,1,0,0,1,3,0),Io(0,3,1,-2,0,2,2,0,0,1,5,0),Io(0,3,3,-2,0,3,4,0,0,1,8,0),Io(0,2,4,-1,0,4,5,0,0,1,10,0),Io(0,3,5,-1,0,5,8,0,0,1,14,0),Io(0,3,5,-1,0,6,10,0,0,1,18,0),Io(0,4,5,-2,0,7,10,1,0,2,16,1),Io(0,5,5,-3,0,8,10,1,0,3,14,2),Io(0,5,6,-3,0,9,12,1,0,3,16,2),Io(0,6,6,-3,0,10,14,1,0,4,18,3),Io(0,6,7,-4,0,11,15,1,0,4,20,3),Io(0,7,8,-4,0,12,17,2,0,5,22,4),Io(0,7,8,-4,0,13,19,2,0,5,24,4),Io(0,7,9,-4,0,14,21,2,0,5,26,4),Io(0,8,9,-5,0,15,22,2,0,6,28,5),Io(0,8,10,-5,0,16,24,2,0,6,30,5),Io(0,8,11,-5,0,17,26,2,0,6,32,5),Io(0,9,11,-5,0,18,28,2,0,7,34,6),Io(0,9,12,-6,0,19,29,2,0,7,36,6),Io(0,10,13,-6,0,20,31,3,0,8,38,7),Io(0,10,13,-6,0,21,33,3,0,8,40,7),Io(0,10,14,-6,0,22,35,3,0,8,42,7),Io(0,11,14,-7,0,23,36,3,0,9,44,8),Io(0,11,15,-7,0,24,38,3,0,9,46,8)],LZ=["duration","easing","delay"],MZ={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},RZ={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function AM(e){return`${Math.round(e)}ms`}function DZ(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function OZ(e){const t=Xe({},MZ,e.easing),r=Xe({},RZ,e.duration);return Xe({getAutoHeightDuration:DZ,create:(i=["all"],a={})=>{const{duration:u=r.standard,easing:s=t.easeInOut,delay:f=0}=a;return sn(a,LZ),(Array.isArray(i)?i:[i]).map(m=>`${m} ${typeof u=="string"?u:AM(u)} ${s} ${typeof f=="string"?f:AM(f)}`).join(",")}},e,{easing:t,duration:r})}const NZ={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},FZ=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Wb(e={},...t){const{mixins:r={},palette:n={},transitions:i={},typography:a={}}=e,u=sn(e,FZ);if(e.vars)throw new Error(ju(18));const s=SZ(n),f=VT(e);let m=$a(f,{mixins:pZ(f.breakpoints,r),palette:s,shadows:IZ.slice(),typography:AZ(s,a),transitions:OZ(i),zIndex:Xe({},NZ)});return m=$a(m,u),m=t.reduce((x,w)=>$a(x,w),m),m.unstable_sxConfig=Xe({},a5,u==null?void 0:u.unstable_sxConfig),m.unstable_sx=function(w){return Hb({sx:w,theme:this})},m}const u5=Wb();function af(){const e=s5(u5);return e[Em]||e}function di({props:e,name:t}){return JB({props:e,name:t,defaultTheme:u5,themeId:Em})}const cl=e=>P1(e)&&e!=="classes",GT=P1,xr=ZB({themeId:Em,defaultTheme:u5,rootShouldForwardProp:cl}),$Z=["theme"];function BZ(e){let{theme:t}=e,r=sn(e,$Z);const n=t[Em];return $e.jsx(fZ,Xe({},r,{themeId:n?Em:void 0,theme:n||t}))}const TM=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)};let rx;const zZ=new Uint8Array(16);function jZ(){if(!rx&&(rx=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!rx))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return rx(zZ)}const ks=[];for(let e=0;e<256;++e)ks.push((e+256).toString(16).slice(1));function UZ(e,t=0){return ks[e[t+0]]+ks[e[t+1]]+ks[e[t+2]]+ks[e[t+3]]+"-"+ks[e[t+4]]+ks[e[t+5]]+"-"+ks[e[t+6]]+ks[e[t+7]]+"-"+ks[e[t+8]]+ks[e[t+9]]+"-"+ks[e[t+10]]+ks[e[t+11]]+ks[e[t+12]]+ks[e[t+13]]+ks[e[t+14]]+ks[e[t+15]]}const VZ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),PM={randomUUID:VZ};function ub(e,t,r){if(PM.randomUUID&&!t&&!e)return PM.randomUUID();e=e||{};const n=e.random||(e.rng||jZ)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,UZ(n)}function qZ(e){return Gn("MuiSvgIcon",e)}Un("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const HZ=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],WZ=e=>{const{color:t,fontSize:r,classes:n}=e,i={root:["root",t!=="inherit"&&`color${Vr(t)}`,`fontSize${Vr(r)}`]};return Qn(i,qZ,n)},GZ=xr("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="inherit"&&t[`color${Vr(r.color)}`],t[`fontSize${Vr(r.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var r,n,i,a,u,s,f,m,x,w,S,C,L;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(r=e.transitions)==null||(n=r.create)==null?void 0:n.call(r,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((a=e.typography)==null||(u=a.pxToRem)==null?void 0:u.call(a,20))||"1.25rem",medium:((s=e.typography)==null||(f=s.pxToRem)==null?void 0:f.call(s,24))||"1.5rem",large:((m=e.typography)==null||(x=m.pxToRem)==null?void 0:x.call(m,35))||"2.1875rem"}[t.fontSize],color:(w=(S=(e.vars||e).palette)==null||(S=S[t.color])==null?void 0:S.main)!=null?w:{action:(C=(e.vars||e).palette)==null||(C=C.action)==null?void 0:C.active,disabled:(L=(e.vars||e).palette)==null||(L=L.action)==null?void 0:L.disabled,inherit:void 0}[t.color]}}),ZE=V.forwardRef(function(t,r){const n=di({props:t,name:"MuiSvgIcon"}),{children:i,className:a,color:u="inherit",component:s="svg",fontSize:f="medium",htmlColor:m,inheritViewBox:x=!1,titleAccess:w,viewBox:S="0 0 24 24"}=n,C=sn(n,HZ),L=V.isValidElement(i)&&i.type==="svg",k=Xe({},n,{color:u,component:s,fontSize:f,instanceFontSize:t.fontSize,inheritViewBox:x,viewBox:S,hasSvgAsChild:L}),$={};x||($.viewBox=S);const M=WZ(k);return $e.jsxs(GZ,Xe({as:s,className:Zr(M.root,a),focusable:"false",color:m,"aria-hidden":w?void 0:!0,role:w?"img":void 0,ref:r},$,C,L&&i.props,{ownerState:k,children:[L?i.props.children:i,w?$e.jsx("title",{children:w}):null]}))});ZE.muiName="SvgIcon";function c5(e,t){function r(n,i){return $e.jsx(ZE,Xe({"data-testid":`${t}Icon`,ref:i},n,{children:e}))}return r.muiName=ZE.muiName,V.memo(V.forwardRef(r))}var Ji={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KT=Symbol.for("react.element"),XT=Symbol.for("react.portal"),d5=Symbol.for("react.fragment"),h5=Symbol.for("react.strict_mode"),f5=Symbol.for("react.profiler"),p5=Symbol.for("react.provider"),m5=Symbol.for("react.context"),KZ=Symbol.for("react.server_context"),g5=Symbol.for("react.forward_ref"),y5=Symbol.for("react.suspense"),v5=Symbol.for("react.suspense_list"),b5=Symbol.for("react.memo"),x5=Symbol.for("react.lazy"),XZ=Symbol.for("react.offscreen"),nz;nz=Symbol.for("react.module.reference");function Tc(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case KT:switch(e=e.type,e){case d5:case f5:case h5:case y5:case v5:return e;default:switch(e=e&&e.$$typeof,e){case KZ:case m5:case g5:case x5:case b5:case p5:return e;default:return t}}case XT:return t}}}Ji.ContextConsumer=m5;Ji.ContextProvider=p5;Ji.Element=KT;Ji.ForwardRef=g5;Ji.Fragment=d5;Ji.Lazy=x5;Ji.Memo=b5;Ji.Portal=XT;Ji.Profiler=f5;Ji.StrictMode=h5;Ji.Suspense=y5;Ji.SuspenseList=v5;Ji.isAsyncMode=function(){return!1};Ji.isConcurrentMode=function(){return!1};Ji.isContextConsumer=function(e){return Tc(e)===m5};Ji.isContextProvider=function(e){return Tc(e)===p5};Ji.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===KT};Ji.isForwardRef=function(e){return Tc(e)===g5};Ji.isFragment=function(e){return Tc(e)===d5};Ji.isLazy=function(e){return Tc(e)===x5};Ji.isMemo=function(e){return Tc(e)===b5};Ji.isPortal=function(e){return Tc(e)===XT};Ji.isProfiler=function(e){return Tc(e)===f5};Ji.isStrictMode=function(e){return Tc(e)===h5};Ji.isSuspense=function(e){return Tc(e)===y5};Ji.isSuspenseList=function(e){return Tc(e)===v5};Ji.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===d5||e===f5||e===h5||e===y5||e===v5||e===XZ||typeof e=="object"&&e!==null&&(e.$$typeof===x5||e.$$typeof===b5||e.$$typeof===p5||e.$$typeof===m5||e.$$typeof===g5||e.$$typeof===nz||e.getModuleId!==void 0)};Ji.typeOf=Tc;function iz(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function YE(e,t){return YE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},YE(e,t)}function oz(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,YE(e,t)}const kM={disabled:!1},D_=Se.createContext(null);var ZZ=function(t){return t.scrollTop},n1="unmounted",Vp="exited",qp="entering",jg="entered",JE="exiting",Gu=function(e){oz(t,e);function t(n,i){var a;a=e.call(this,n,i)||this;var u=i,s=u&&!u.isMounting?n.enter:n.appear,f;return a.appearStatus=null,n.in?s?(f=Vp,a.appearStatus=qp):f=jg:n.unmountOnExit||n.mountOnEnter?f=n1:f=Vp,a.state={status:f},a.nextCallback=null,a}t.getDerivedStateFromProps=function(i,a){var u=i.in;return u&&a.status===n1?{status:Vp}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var a=null;if(i!==this.props){var u=this.state.status;this.props.in?u!==qp&&u!==jg&&(a=qp):(u===qp||u===jg)&&(a=JE)}this.updateStatus(!1,a)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,a,u,s;return a=u=s=i,i!=null&&typeof i!="number"&&(a=i.exit,u=i.enter,s=i.appear!==void 0?i.appear:u),{exit:a,enter:u,appear:s}},r.updateStatus=function(i,a){if(i===void 0&&(i=!1),a!==null)if(this.cancelNextCallback(),a===qp){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:r1.findDOMNode(this);u&&ZZ(u)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Vp&&this.setState({status:n1})},r.performEnter=function(i){var a=this,u=this.props.enter,s=this.context?this.context.isMounting:i,f=this.props.nodeRef?[s]:[r1.findDOMNode(this),s],m=f[0],x=f[1],w=this.getTimeouts(),S=s?w.appear:w.enter;if(!i&&!u||kM.disabled){this.safeSetState({status:jg},function(){a.props.onEntered(m)});return}this.props.onEnter(m,x),this.safeSetState({status:qp},function(){a.props.onEntering(m,x),a.onTransitionEnd(S,function(){a.safeSetState({status:jg},function(){a.props.onEntered(m,x)})})})},r.performExit=function(){var i=this,a=this.props.exit,u=this.getTimeouts(),s=this.props.nodeRef?void 0:r1.findDOMNode(this);if(!a||kM.disabled){this.safeSetState({status:Vp},function(){i.props.onExited(s)});return}this.props.onExit(s),this.safeSetState({status:JE},function(){i.props.onExiting(s),i.onTransitionEnd(u.exit,function(){i.safeSetState({status:Vp},function(){i.props.onExited(s)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,a){a=this.setNextCallback(a),this.setState(i,a)},r.setNextCallback=function(i){var a=this,u=!0;return this.nextCallback=function(s){u&&(u=!1,a.nextCallback=null,i(s))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},r.onTransitionEnd=function(i,a){this.setNextCallback(a);var u=this.props.nodeRef?this.props.nodeRef.current:r1.findDOMNode(this),s=i==null&&!this.props.addEndListener;if(!u||s){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],m=f[0],x=f[1];this.props.addEndListener(m,x)}i!=null&&setTimeout(this.nextCallback,i)},r.render=function(){var i=this.state.status;if(i===n1)return null;var a=this.props,u=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var s=iz(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Se.createElement(D_.Provider,{value:null},typeof u=="function"?u(i,s):Se.cloneElement(Se.Children.only(u),s))},t}(Se.Component);Gu.contextType=D_;Gu.propTypes={};function _g(){}Gu.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:_g,onEntering:_g,onEntered:_g,onExit:_g,onExiting:_g,onExited:_g};Gu.UNMOUNTED=n1;Gu.EXITED=Vp;Gu.ENTERING=qp;Gu.ENTERED=jg;Gu.EXITING=JE;function YZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZT(e,t){var r=function(a){return t&&V.isValidElement(a)?t(a):a},n=Object.create(null);return e&&V.Children.map(e,function(i){return i}).forEach(function(i){n[i.key]=r(i)}),n}function JZ(e,t){e=e||{},t=t||{};function r(x){return x in t?t[x]:e[x]}var n=Object.create(null),i=[];for(var a in e)a in t?i.length&&(n[a]=i,i=[]):i.push(a);var u,s={};for(var f in t){if(n[f])for(u=0;u<n[f].length;u++){var m=n[f][u];s[n[f][u]]=r(m)}s[f]=r(f)}for(u=0;u<i.length;u++)s[i[u]]=r(i[u]);return s}function tm(e,t,r){return r[t]!=null?r[t]:e.props[t]}function QZ(e,t){return ZT(e.children,function(r){return V.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:tm(r,"appear",e),enter:tm(r,"enter",e),exit:tm(r,"exit",e)})})}function eY(e,t,r){var n=ZT(e.children),i=JZ(t,n);return Object.keys(i).forEach(function(a){var u=i[a];if(V.isValidElement(u)){var s=a in t,f=a in n,m=t[a],x=V.isValidElement(m)&&!m.props.in;f&&(!s||x)?i[a]=V.cloneElement(u,{onExited:r.bind(null,u),in:!0,exit:tm(u,"exit",e),enter:tm(u,"enter",e)}):!f&&s&&!x?i[a]=V.cloneElement(u,{in:!1}):f&&s&&V.isValidElement(m)&&(i[a]=V.cloneElement(u,{onExited:r.bind(null,u),in:m.props.in,exit:tm(u,"exit",e),enter:tm(u,"enter",e)}))}}),i}var tY=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},rY={component:"div",childFactory:function(t){return t}},_5=function(e){oz(t,e);function t(n,i){var a;a=e.call(this,n,i)||this;var u=a.handleExited.bind(YZ(a));return a.state={contextValue:{isMounting:!0},handleExited:u,firstRender:!0},a}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,a){var u=a.children,s=a.handleExited,f=a.firstRender;return{children:f?QZ(i,s):eY(i,u,s),firstRender:!1}},r.handleExited=function(i,a){var u=ZT(this.props.children);i.key in u||(i.props.onExited&&i.props.onExited(a),this.mounted&&this.setState(function(s){var f=rb({},s.children);return delete f[i.key],{children:f}}))},r.render=function(){var i=this.props,a=i.component,u=i.childFactory,s=iz(i,["component","childFactory"]),f=this.state.contextValue,m=tY(this.state.children).map(u);return delete s.appear,delete s.enter,delete s.exit,a===null?Se.createElement(D_.Provider,{value:f},m):Se.createElement(D_.Provider,{value:f},Se.createElement(a,s,m))},t}(Se.Component);_5.propTypes={};_5.defaultProps=rY;const YT=e=>e.scrollTop;function km(e,t){var r,n;const{timeout:i,easing:a,style:u={}}=e;return{duration:(r=u.transitionDuration)!=null?r:typeof i=="number"?i:i[t.mode]||0,easing:(n=u.transitionTimingFunction)!=null?n:typeof a=="object"?a[t.mode]:a,delay:u.transitionDelay}}function nY(e){return Gn("MuiPaper",e)}Un("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const iY=["className","component","elevation","square","variant"],oY=e=>{const{square:t,elevation:r,variant:n,classes:i}=e,a={root:["root",n,!t&&"rounded",n==="elevation"&&`elevation${r}`]};return Qn(a,nY,i)},aY=xr("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],!r.square&&t.rounded,r.variant==="elevation"&&t[`elevation${r.elevation}`]]}})(({theme:e,ownerState:t})=>{var r;return Xe({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&Xe({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${El("#fff",TM(t.elevation))}, ${El("#fff",TM(t.elevation))})`},e.vars&&{backgroundImage:(r=e.vars.overlays)==null?void 0:r[t.elevation]}))}),Im=V.forwardRef(function(t,r){const n=di({props:t,name:"MuiPaper"}),{className:i,component:a="div",elevation:u=1,square:s=!1,variant:f="elevation"}=n,m=sn(n,iY),x=Xe({},n,{component:a,elevation:u,square:s,variant:f}),w=oY(x);return $e.jsx(aY,Xe({as:a,ownerState:x,className:Zr(w.root,i),ref:r},m))});function Ho(){return Ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ho.apply(this,arguments)}function eh(e){return typeof e=="string"}function sY(e,t,r){return e===void 0||eh(e)?t:Ho({},t,{ownerState:Ho({},t.ownerState,r)})}function lY(e,t,r=(n,i)=>n===i){return e.length===t.length&&e.every((n,i)=>r(n,t[i]))}function k1(e,t=[]){if(e===void 0)return{};const r={};return Object.keys(e).filter(n=>n.match(/^on[A-Z]/)&&typeof e[n]=="function"&&!t.includes(n)).forEach(n=>{r[n]=e[n]}),r}function uY(e,t,r){return typeof e=="function"?e(t,r):e}function az(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function IM(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(r=>!(r.match(/^on[A-Z]/)&&typeof e[r]=="function")).forEach(r=>{t[r]=e[r]}),t}function cY(e){const{getSlotProps:t,additionalProps:r,externalSlotProps:n,externalForwardedProps:i,className:a}=e;if(!t){const C=Zr(r==null?void 0:r.className,a,i==null?void 0:i.className,n==null?void 0:n.className),L=Ho({},r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),k=Ho({},r,i,n);return C.length>0&&(k.className=C),Object.keys(L).length>0&&(k.style=L),{props:k,internalRef:void 0}}const u=k1(Ho({},i,n)),s=IM(n),f=IM(i),m=t(u),x=Zr(m==null?void 0:m.className,r==null?void 0:r.className,a,i==null?void 0:i.className,n==null?void 0:n.className),w=Ho({},m==null?void 0:m.style,r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),S=Ho({},m,r,f,s);return x.length>0&&(S.className=x),Object.keys(w).length>0&&(S.style=w),{props:S,internalRef:m.ref}}const dY=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Zl(e){var t;const{elementType:r,externalSlotProps:n,ownerState:i,skipResolvingSlotProps:a=!1}=e,u=az(e,dY),s=a?{}:uY(n,i),{props:f,internalRef:m}=cY(Ho({},u,{externalSlotProps:s})),x=Ba(m,s==null?void 0:s.ref,(t=e.additionalProps)==null?void 0:t.ref);return sY(r,Ho({},f,{ref:x}),i)}function hY(e){const{className:t,classes:r,pulsate:n=!1,rippleX:i,rippleY:a,rippleSize:u,in:s,onExited:f,timeout:m}=e,[x,w]=V.useState(!1),S=Zr(t,r.ripple,r.rippleVisible,n&&r.ripplePulsate),C={width:u,height:u,top:-(u/2)+a,left:-(u/2)+i},L=Zr(r.child,x&&r.childLeaving,n&&r.childPulsate);return!s&&!x&&w(!0),V.useEffect(()=>{if(!s&&f!=null){const k=setTimeout(f,m);return()=>{clearTimeout(k)}}},[f,s,m]),$e.jsx("span",{className:S,style:C,children:$e.jsx("span",{className:L})})}const dc=Un("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),fY=["center","classes","className"];let w5=e=>e,LM,MM,RM,DM;const QE=550,pY=80,mY=FT(LM||(LM=w5`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),gY=FT(MM||(MM=w5`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),yY=FT(RM||(RM=w5`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),vY=xr("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),bY=xr(hY,{name:"MuiTouchRipple",slot:"Ripple"})(DM||(DM=w5`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),dc.rippleVisible,mY,QE,({theme:e})=>e.transitions.easing.easeInOut,dc.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,dc.child,dc.childLeaving,gY,QE,({theme:e})=>e.transitions.easing.easeInOut,dc.childPulsate,yY,({theme:e})=>e.transitions.easing.easeInOut),xY=V.forwardRef(function(t,r){const n=di({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:a={},className:u}=n,s=sn(n,fY),[f,m]=V.useState([]),x=V.useRef(0),w=V.useRef(null);V.useEffect(()=>{w.current&&(w.current(),w.current=null)},[f]);const S=V.useRef(!1),C=qB(),L=V.useRef(null),k=V.useRef(null),$=V.useCallback(q=>{const{pulsate:te,rippleX:K,rippleY:ee,rippleSize:Q,cb:ge}=q;m(Y=>[...Y,$e.jsx(bY,{classes:{ripple:Zr(a.ripple,dc.ripple),rippleVisible:Zr(a.rippleVisible,dc.rippleVisible),ripplePulsate:Zr(a.ripplePulsate,dc.ripplePulsate),child:Zr(a.child,dc.child),childLeaving:Zr(a.childLeaving,dc.childLeaving),childPulsate:Zr(a.childPulsate,dc.childPulsate)},timeout:QE,pulsate:te,rippleX:K,rippleY:ee,rippleSize:Q},x.current)]),x.current+=1,w.current=ge},[a]),M=V.useCallback((q={},te={},K=()=>{})=>{const{pulsate:ee=!1,center:Q=i||te.pulsate,fakeElement:ge=!1}=te;if((q==null?void 0:q.type)==="mousedown"&&S.current){S.current=!1;return}(q==null?void 0:q.type)==="touchstart"&&(S.current=!0);const Y=ge?null:k.current,Z=Y?Y.getBoundingClientRect():{width:0,height:0,left:0,top:0};let re,ye,fe;if(Q||q===void 0||q.clientX===0&&q.clientY===0||!q.clientX&&!q.touches)re=Math.round(Z.width/2),ye=Math.round(Z.height/2);else{const{clientX:Ae,clientY:ke}=q.touches&&q.touches.length>0?q.touches[0]:q;re=Math.round(Ae-Z.left),ye=Math.round(ke-Z.top)}if(Q)fe=Math.sqrt((2*Z.width**2+Z.height**2)/3),fe%2===0&&(fe+=1);else{const Ae=Math.max(Math.abs((Y?Y.clientWidth:0)-re),re)*2+2,ke=Math.max(Math.abs((Y?Y.clientHeight:0)-ye),ye)*2+2;fe=Math.sqrt(Ae**2+ke**2)}q!=null&&q.touches?L.current===null&&(L.current=()=>{$({pulsate:ee,rippleX:re,rippleY:ye,rippleSize:fe,cb:K})},C.start(pY,()=>{L.current&&(L.current(),L.current=null)})):$({pulsate:ee,rippleX:re,rippleY:ye,rippleSize:fe,cb:K})},[i,$,C]),z=V.useCallback(()=>{M({},{pulsate:!0})},[M]),B=V.useCallback((q,te)=>{if(C.clear(),(q==null?void 0:q.type)==="touchend"&&L.current){L.current(),L.current=null,C.start(0,()=>{B(q,te)});return}L.current=null,m(K=>K.length>0?K.slice(1):K),w.current=te},[C]);return V.useImperativeHandle(r,()=>({pulsate:z,start:M,stop:B}),[z,M,B]),$e.jsx(vY,Xe({className:Zr(dc.root,a.root,u),ref:k},s,{children:$e.jsx(_5,{component:null,exit:!0,children:f})}))});function _Y(e){return Gn("MuiButtonBase",e)}const wY=Un("MuiButtonBase",["root","disabled","focusVisible"]),SY=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],CY=e=>{const{disabled:t,focusVisible:r,focusVisibleClassName:n,classes:i}=e,u=Qn({root:["root",t&&"disabled",r&&"focusVisible"]},_Y,i);return r&&n&&(u.root+=` ${n}`),u},EY=xr("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${wY.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),S5=V.forwardRef(function(t,r){const n=di({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:a=!1,children:u,className:s,component:f="button",disabled:m=!1,disableRipple:x=!1,disableTouchRipple:w=!1,focusRipple:S=!1,LinkComponent:C="a",onBlur:L,onClick:k,onContextMenu:$,onDragLeave:M,onFocus:z,onFocusVisible:B,onKeyDown:q,onKeyUp:te,onMouseDown:K,onMouseLeave:ee,onMouseUp:Q,onTouchEnd:ge,onTouchMove:Y,onTouchStart:Z,tabIndex:re=0,TouchRippleProps:ye,touchRippleRef:fe,type:Ae}=n,ke=sn(n,SY),Oe=V.useRef(null),_e=V.useRef(null),Ne=Ba(_e,fe),{isFocusVisibleRef:Ke,onFocus:pt,onBlur:ae,ref:me}=$T(),[we,Re]=V.useState(!1);m&&we&&Re(!1),V.useImperativeHandle(i,()=>({focusVisible:()=>{Re(!0),Oe.current.focus()}}),[]);const[Fe,rt]=V.useState(!1);V.useEffect(()=>{rt(!0)},[]);const Ve=Fe&&!x&&!m;V.useEffect(()=>{we&&S&&!x&&Fe&&_e.current.pulsate()},[x,S,we,Fe]);function We(gt,Ft,At=w){return Fu(Ar=>(Ft&&Ft(Ar),!At&&_e.current&&_e.current[gt](Ar),!0))}const nt=We("start",K),ut=We("stop",$),bt=We("stop",M),Ct=We("stop",Q),Et=We("stop",gt=>{we&&gt.preventDefault(),ee&&ee(gt)}),lt=We("start",Z),ce=We("stop",ge),ur=We("stop",Y),qt=We("stop",gt=>{ae(gt),Ke.current===!1&&Re(!1),L&&L(gt)},!1),wt=Fu(gt=>{Oe.current||(Oe.current=gt.currentTarget),pt(gt),Ke.current===!0&&(Re(!0),B&&B(gt)),z&&z(gt)}),Mt=()=>{const gt=Oe.current;return f&&f!=="button"&&!(gt.tagName==="A"&&gt.href)},It=V.useRef(!1),Gt=Fu(gt=>{S&&!It.current&&we&&_e.current&&gt.key===" "&&(It.current=!0,_e.current.stop(gt,()=>{_e.current.start(gt)})),gt.target===gt.currentTarget&&Mt()&&gt.key===" "&&gt.preventDefault(),q&&q(gt),gt.target===gt.currentTarget&&Mt()&&gt.key==="Enter"&&!m&&(gt.preventDefault(),k&&k(gt))}),Lt=Fu(gt=>{S&&gt.key===" "&&_e.current&&we&&!gt.defaultPrevented&&(It.current=!1,_e.current.stop(gt,()=>{_e.current.pulsate(gt)})),te&&te(gt),k&&gt.target===gt.currentTarget&&Mt()&&gt.key===" "&&!gt.defaultPrevented&&k(gt)});let Jt=f;Jt==="button"&&(ke.href||ke.to)&&(Jt=C);const _r={};Jt==="button"?(_r.type=Ae===void 0?"button":Ae,_r.disabled=m):(!ke.href&&!ke.to&&(_r.role="button"),m&&(_r["aria-disabled"]=m));const Cr=Ba(r,me,Oe),Ir=Xe({},n,{centerRipple:a,component:f,disabled:m,disableRipple:x,disableTouchRipple:w,focusRipple:S,tabIndex:re,focusVisible:we}),Ze=CY(Ir);return $e.jsxs(EY,Xe({as:Jt,className:Zr(Ze.root,s),ownerState:Ir,onBlur:qt,onClick:k,onContextMenu:ut,onFocus:wt,onKeyDown:Gt,onKeyUp:Lt,onMouseDown:nt,onMouseLeave:Et,onMouseUp:Ct,onDragLeave:bt,onTouchEnd:ce,onTouchMove:ur,onTouchStart:lt,ref:Cr,tabIndex:m?-1:re,type:Ae},_r,ke,{children:[u,Ve?$e.jsx(xY,Xe({ref:Ne,center:a},ye)):null]}))});function AY(e){return Gn("MuiIconButton",e)}const TY=Un("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),PY=["edge","children","className","color","disabled","disableFocusRipple","size"],kY=e=>{const{classes:t,disabled:r,color:n,edge:i,size:a}=e,u={root:["root",r&&"disabled",n!=="default"&&`color${Vr(n)}`,i&&`edge${Vr(i)}`,`size${Vr(a)}`]};return Qn(u,AY,t)},IY=xr(S5,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="default"&&t[`color${Vr(r.color)}`],r.edge&&t[`edge${Vr(r.edge)}`],t[`size${Vr(r.size)}`]]}})(({theme:e,ownerState:t})=>Xe({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:El(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var r;const n=(r=(e.vars||e).palette)==null?void 0:r[t.color];return Xe({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&Xe({color:n==null?void 0:n.main},!t.disableRipple&&{"&:hover":Xe({},n&&{backgroundColor:e.vars?`rgba(${n.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:El(n.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${TY.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),Iy=V.forwardRef(function(t,r){const n=di({props:t,name:"MuiIconButton"}),{edge:i=!1,children:a,className:u,color:s="default",disabled:f=!1,disableFocusRipple:m=!1,size:x="medium"}=n,w=sn(n,PY),S=Xe({},n,{edge:i,color:s,disabled:f,disableFocusRipple:m,size:x}),C=kY(S);return $e.jsx(IY,Xe({className:Zr(C.root,u),centerRipple:!0,focusRipple:!m,disabled:f,ref:r,ownerState:S},w,{children:a}))});function LY(e){return Gn("MuiTypography",e)}Un("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const MY=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],RY=e=>{const{align:t,gutterBottom:r,noWrap:n,paragraph:i,variant:a,classes:u}=e,s={root:["root",a,e.align!=="inherit"&&`align${Vr(t)}`,r&&"gutterBottom",n&&"noWrap",i&&"paragraph"]};return Qn(s,LY,u)},DY=xr("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],r.align!=="inherit"&&t[`align${Vr(r.align)}`],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>Xe({margin:0},t.variant==="inherit"&&{font:"inherit"},t.variant!=="inherit"&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),OM={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},OY={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},NY=e=>OY[e]||e,zh=V.forwardRef(function(t,r){const n=di({props:t,name:"MuiTypography"}),i=NY(n.color),a=HT(Xe({},n,{color:i})),{align:u="inherit",className:s,component:f,gutterBottom:m=!1,noWrap:x=!1,paragraph:w=!1,variant:S="body1",variantMapping:C=OM}=a,L=sn(a,MY),k=Xe({},a,{align:u,color:i,className:s,component:f,gutterBottom:m,noWrap:x,paragraph:w,variant:S,variantMapping:C}),$=f||(w?"p":C[S]||OM[S])||"span",M=RY(k);return $e.jsx(DY,Xe({as:$,ref:r,ownerState:k,className:Zr(M.root,s)},L))}),FY=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function $Y(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function BY(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=n=>e.ownerDocument.querySelector(`input[type="radio"]${n}`);let r=t(`[name="${e.name}"]:checked`);return r||(r=t(`[name="${e.name}"]`)),r!==e}function zY(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||BY(e))}function jY(e){const t=[],r=[];return Array.from(e.querySelectorAll(FY)).forEach((n,i)=>{const a=$Y(n);a===-1||!zY(n)||(a===0?t.push(n):r.push({documentOrder:i,tabIndex:a,node:n}))}),r.sort((n,i)=>n.tabIndex===i.tabIndex?n.documentOrder-i.documentOrder:n.tabIndex-i.tabIndex).map(n=>n.node).concat(t)}function UY(){return!0}function VY(e){const{children:t,disableAutoFocus:r=!1,disableEnforceFocus:n=!1,disableRestoreFocus:i=!1,getTabbable:a=jY,isEnabled:u=UY,open:s}=e,f=V.useRef(!1),m=V.useRef(null),x=V.useRef(null),w=V.useRef(null),S=V.useRef(null),C=V.useRef(!1),L=V.useRef(null),k=Ba(t.ref,L),$=V.useRef(null);V.useEffect(()=>{!s||!L.current||(C.current=!r)},[r,s]),V.useEffect(()=>{if(!s||!L.current)return;const B=ca(L.current);return L.current.contains(B.activeElement)||(L.current.hasAttribute("tabIndex")||L.current.setAttribute("tabIndex","-1"),C.current&&L.current.focus()),()=>{i||(w.current&&w.current.focus&&(f.current=!0,w.current.focus()),w.current=null)}},[s]),V.useEffect(()=>{if(!s||!L.current)return;const B=ca(L.current),q=ee=>{$.current=ee,!(n||!u()||ee.key!=="Tab")&&B.activeElement===L.current&&ee.shiftKey&&(f.current=!0,x.current&&x.current.focus())},te=()=>{const ee=L.current;if(ee===null)return;if(!B.hasFocus()||!u()||f.current){f.current=!1;return}if(ee.contains(B.activeElement)||n&&B.activeElement!==m.current&&B.activeElement!==x.current)return;if(B.activeElement!==S.current)S.current=null;else if(S.current!==null)return;if(!C.current)return;let Q=[];if((B.activeElement===m.current||B.activeElement===x.current)&&(Q=a(L.current)),Q.length>0){var ge,Y;const Z=!!((ge=$.current)!=null&&ge.shiftKey&&((Y=$.current)==null?void 0:Y.key)==="Tab"),re=Q[0],ye=Q[Q.length-1];typeof re!="string"&&typeof ye!="string"&&(Z?ye.focus():re.focus())}else ee.focus()};B.addEventListener("focusin",te),B.addEventListener("keydown",q,!0);const K=setInterval(()=>{B.activeElement&&B.activeElement.tagName==="BODY"&&te()},50);return()=>{clearInterval(K),B.removeEventListener("focusin",te),B.removeEventListener("keydown",q,!0)}},[r,n,i,u,s,a]);const M=B=>{w.current===null&&(w.current=B.relatedTarget),C.current=!0,S.current=B.target;const q=t.props.onFocus;q&&q(B)},z=B=>{w.current===null&&(w.current=B.relatedTarget),C.current=!0};return $e.jsxs(V.Fragment,{children:[$e.jsx("div",{tabIndex:s?0:-1,onFocus:z,ref:m,"data-testid":"sentinelStart"}),V.cloneElement(t,{ref:k,onFocus:M}),$e.jsx("div",{tabIndex:s?0:-1,onFocus:z,ref:x,"data-testid":"sentinelEnd"})]})}function qY(e){return typeof e=="function"?e():e}const HY=V.forwardRef(function(t,r){const{children:n,container:i,disablePortal:a=!1}=t,[u,s]=V.useState(null),f=Ba(V.isValidElement(n)?n.ref:null,r);if(Uu(()=>{a||s(qY(i)||document.body)},[i,a]),Uu(()=>{if(u&&!a)return M_(r,u),()=>{M_(r,null)}},[r,u,a]),a){if(V.isValidElement(n)){const m={ref:f};return V.cloneElement(n,m)}return $e.jsx(V.Fragment,{children:n})}return $e.jsx(V.Fragment,{children:u&&up.createPortal(n,u)})});function WY(e){const t=ca(e);return t.body===e?ou(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function I1(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function NM(e){return parseInt(ou(e).getComputedStyle(e).paddingRight,10)||0}function GY(e){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,n=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return r||n}function FM(e,t,r,n,i){const a=[t,r,...n];[].forEach.call(e.children,u=>{const s=a.indexOf(u)===-1,f=!GY(u);s&&f&&I1(u,i)})}function e3(e,t){let r=-1;return e.some((n,i)=>t(n)?(r=i,!0):!1),r}function KY(e,t){const r=[],n=e.container;if(!t.disableScrollLock){if(WY(n)){const u=HB(ca(n));r.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${NM(n)+u}px`;const s=ca(n).querySelectorAll(".mui-fixed");[].forEach.call(s,f=>{r.push({value:f.style.paddingRight,property:"padding-right",el:f}),f.style.paddingRight=`${NM(f)+u}px`})}let a;if(n.parentNode instanceof DocumentFragment)a=ca(n).body;else{const u=n.parentElement,s=ou(n);a=(u==null?void 0:u.nodeName)==="HTML"&&s.getComputedStyle(u).overflowY==="scroll"?u:n}r.push({value:a.style.overflow,property:"overflow",el:a},{value:a.style.overflowX,property:"overflow-x",el:a},{value:a.style.overflowY,property:"overflow-y",el:a}),a.style.overflow="hidden"}return()=>{r.forEach(({value:a,el:u,property:s})=>{a?u.style.setProperty(s,a):u.style.removeProperty(s)})}}function XY(e){const t=[];return[].forEach.call(e.children,r=>{r.getAttribute("aria-hidden")==="true"&&t.push(r)}),t}let ZY=class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,r){let n=this.modals.indexOf(t);if(n!==-1)return n;n=this.modals.length,this.modals.push(t),t.modalRef&&I1(t.modalRef,!1);const i=XY(r);FM(r,t.mount,t.modalRef,i,!0);const a=e3(this.containers,u=>u.container===r);return a!==-1?(this.containers[a].modals.push(t),n):(this.containers.push({modals:[t],container:r,restore:null,hiddenSiblings:i}),n)}mount(t,r){const n=e3(this.containers,a=>a.modals.indexOf(t)!==-1),i=this.containers[n];i.restore||(i.restore=KY(i,r))}remove(t,r=!0){const n=this.modals.indexOf(t);if(n===-1)return n;const i=e3(this.containers,u=>u.modals.indexOf(t)!==-1),a=this.containers[i];if(a.modals.splice(a.modals.indexOf(t),1),this.modals.splice(n,1),a.modals.length===0)a.restore&&a.restore(),t.modalRef&&I1(t.modalRef,r),FM(a.container,t.mount,t.modalRef,a.hiddenSiblings,!1),this.containers.splice(i,1);else{const u=a.modals[a.modals.length-1];u.modalRef&&I1(u.modalRef,!1)}return n}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}};function YY(e){return typeof e=="function"?e():e}function JY(e){return e?e.props.hasOwnProperty("in"):!1}const QY=new ZY;function eJ(e){const{container:t,disableEscapeKeyDown:r=!1,disableScrollLock:n=!1,manager:i=QY,closeAfterTransition:a=!1,onTransitionEnter:u,onTransitionExited:s,children:f,onClose:m,open:x,rootRef:w}=e,S=V.useRef({}),C=V.useRef(null),L=V.useRef(null),k=Ba(L,w),[$,M]=V.useState(!x),z=JY(f);let B=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(B=!1);const q=()=>ca(C.current),te=()=>(S.current.modalRef=L.current,S.current.mount=C.current,S.current),K=()=>{i.mount(te(),{disableScrollLock:n}),L.current&&(L.current.scrollTop=0)},ee=Fu(()=>{const ke=YY(t)||q().body;i.add(te(),ke),L.current&&K()}),Q=V.useCallback(()=>i.isTopModal(te()),[i]),ge=Fu(ke=>{C.current=ke,ke&&(x&&Q()?K():L.current&&I1(L.current,B))}),Y=V.useCallback(()=>{i.remove(te(),B)},[B,i]);V.useEffect(()=>()=>{Y()},[Y]),V.useEffect(()=>{x?ee():(!z||!a)&&Y()},[x,Y,z,a,ee]);const Z=ke=>Oe=>{var _e;(_e=ke.onKeyDown)==null||_e.call(ke,Oe),!(Oe.key!=="Escape"||Oe.which===229||!Q())&&(r||(Oe.stopPropagation(),m&&m(Oe,"escapeKeyDown")))},re=ke=>Oe=>{var _e;(_e=ke.onClick)==null||_e.call(ke,Oe),Oe.target===Oe.currentTarget&&m&&m(Oe,"backdropClick")};return{getRootProps:(ke={})=>{const Oe=k1(e);delete Oe.onTransitionEnter,delete Oe.onTransitionExited;const _e=Ho({},Oe,ke);return Ho({role:"presentation"},_e,{onKeyDown:Z(_e),ref:k})},getBackdropProps:(ke={})=>{const Oe=ke;return Ho({"aria-hidden":!0},Oe,{onClick:re(Oe),open:x})},getTransitionProps:()=>{const ke=()=>{M(!1),u&&u()},Oe=()=>{M(!0),s&&s(),a&&Y()};return{onEnter:GE(ke,f==null?void 0:f.props.onEnter),onExited:GE(Oe,f==null?void 0:f.props.onExited)}},rootRef:k,portalRef:ge,isTopModal:Q,exited:$,hasTransition:z}}function tJ(e){const{children:t,defer:r=!1,fallback:n=null}=e,[i,a]=V.useState(!1);return Uu(()=>{r||a(!0)},[r]),V.useEffect(()=>{r&&a(!0)},[r]),$e.jsx(V.Fragment,{children:i?t:n})}const rJ=2;function sz(e,t){return e-t}function $M(e,t){var r;const{index:n}=(r=e.reduce((i,a,u)=>{const s=Math.abs(t-a);return i===null||s<i.distance||s===i.distance?{distance:s,index:u}:i},null))!=null?r:{};return n}function nx(e,t){if(t.current!==void 0&&e.changedTouches){const r=e;for(let n=0;n<r.changedTouches.length;n+=1){const i=r.changedTouches[n];if(i.identifier===t.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function O_(e,t,r){return(e-t)*100/(r-t)}function nJ(e,t,r){return(r-t)*e+t}function iJ(e){if(Math.abs(e)<1){const r=e.toExponential().split("e-"),n=r[0].split(".")[1];return(n?n.length:0)+parseInt(r[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}function oJ(e,t,r){const n=Math.round((e-r)/t)*t+r;return Number(n.toFixed(iJ(t)))}function BM({values:e,newValue:t,index:r}){const n=e.slice();return n[r]=t,n.sort(sz)}function ix({sliderRef:e,activeIndex:t,setActive:r}){var n,i;const a=ca(e.current);if(!((n=e.current)!=null&&n.contains(a.activeElement))||Number(a==null||(i=a.activeElement)==null?void 0:i.getAttribute("data-index"))!==t){var u;(u=e.current)==null||u.querySelector(`[type="range"][data-index="${t}"]`).focus()}r&&r(t)}function ox(e,t){return typeof e=="number"&&typeof t=="number"?e===t:typeof e=="object"&&typeof t=="object"?lY(e,t):!1}const aJ={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},sJ=e=>e;let ax;function zM(){return ax===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?ax=CSS.supports("touch-action","none"):ax=!0),ax}function lJ(e){const{"aria-labelledby":t,defaultValue:r,disabled:n=!1,disableSwap:i=!1,isRtl:a=!1,marks:u=!1,max:s=100,min:f=0,name:m,onChange:x,onChangeCommitted:w,orientation:S="horizontal",rootRef:C,scale:L=sJ,step:k=1,shiftStep:$=10,tabIndex:M,value:z}=e,B=V.useRef(),[q,te]=V.useState(-1),[K,ee]=V.useState(-1),[Q,ge]=V.useState(!1),Y=V.useRef(0),[Z,re]=sb({controlled:z,default:r??f,name:"Slider"}),ye=x&&((Ze,gt,Ft)=>{const At=Ze.nativeEvent||Ze,Ar=new At.constructor(At.type,At);Object.defineProperty(Ar,"target",{writable:!0,value:{value:gt,name:m}}),x(Ar,gt,Ft)}),fe=Array.isArray(Z);let Ae=fe?Z.slice().sort(sz):[Z];Ae=Ae.map(Ze=>Ze==null?f:Gp(Ze,f,s));const ke=u===!0&&k!==null?[...Array(Math.floor((s-f)/k)+1)].map((Ze,gt)=>({value:f+k*gt})):u||[],Oe=ke.map(Ze=>Ze.value),{isFocusVisibleRef:_e,onBlur:Ne,onFocus:Ke,ref:pt}=$T(),[ae,me]=V.useState(-1),we=V.useRef(),Re=Ba(pt,we),Fe=Ba(C,Re),rt=Ze=>gt=>{var Ft;const At=Number(gt.currentTarget.getAttribute("data-index"));Ke(gt),_e.current===!0&&me(At),ee(At),Ze==null||(Ft=Ze.onFocus)==null||Ft.call(Ze,gt)},Ve=Ze=>gt=>{var Ft;Ne(gt),_e.current===!1&&me(-1),ee(-1),Ze==null||(Ft=Ze.onBlur)==null||Ft.call(Ze,gt)},We=(Ze,gt)=>{const Ft=Number(Ze.currentTarget.getAttribute("data-index")),At=Ae[Ft],Ar=Oe.indexOf(At);let ot=gt;if(ke&&k==null){const kt=Oe[Oe.length-1];ot>kt?ot=kt:ot<Oe[0]?ot=Oe[0]:ot=ot<At?Oe[Ar-1]:Oe[Ar+1]}if(ot=Gp(ot,f,s),fe){i&&(ot=Gp(ot,Ae[Ft-1]||-1/0,Ae[Ft+1]||1/0));const kt=ot;ot=BM({values:Ae,newValue:ot,index:Ft});let Dt=Ft;i||(Dt=ot.indexOf(kt)),ix({sliderRef:we,activeIndex:Dt})}re(ot),me(Ft),ye&&!ox(ot,Z)&&ye(Ze,ot,Ft),w&&w(Ze,ot)},nt=Ze=>gt=>{var Ft;if(k!==null){const At=Number(gt.currentTarget.getAttribute("data-index")),Ar=Ae[At];let ot=null;(gt.key==="ArrowLeft"||gt.key==="ArrowDown")&&gt.shiftKey||gt.key==="PageDown"?ot=Math.max(Ar-$,f):((gt.key==="ArrowRight"||gt.key==="ArrowUp")&&gt.shiftKey||gt.key==="PageUp")&&(ot=Math.min(Ar+$,s)),ot!==null&&(We(gt,ot),gt.preventDefault())}Ze==null||(Ft=Ze.onKeyDown)==null||Ft.call(Ze,gt)};Uu(()=>{if(n&&we.current.contains(document.activeElement)){var Ze;(Ze=document.activeElement)==null||Ze.blur()}},[n]),n&&q!==-1&&te(-1),n&&ae!==-1&&me(-1);const ut=Ze=>gt=>{var Ft;(Ft=Ze.onChange)==null||Ft.call(Ze,gt),We(gt,gt.target.valueAsNumber)},bt=V.useRef();let Ct=S;a&&S==="horizontal"&&(Ct+="-reverse");const Et=({finger:Ze,move:gt=!1})=>{const{current:Ft}=we,{width:At,height:Ar,bottom:ot,left:kt}=Ft.getBoundingClientRect();let Dt;Ct.indexOf("vertical")===0?Dt=(ot-Ze.y)/Ar:Dt=(Ze.x-kt)/At,Ct.indexOf("-reverse")!==-1&&(Dt=1-Dt);let cr;if(cr=nJ(Dt,f,s),k)cr=oJ(cr,k,f);else{const nr=$M(Oe,cr);cr=Oe[nr]}cr=Gp(cr,f,s);let Wr=0;if(fe){gt?Wr=bt.current:Wr=$M(Ae,cr),i&&(cr=Gp(cr,Ae[Wr-1]||-1/0,Ae[Wr+1]||1/0));const nr=cr;cr=BM({values:Ae,newValue:cr,index:Wr}),i&&gt||(Wr=cr.indexOf(nr),bt.current=Wr)}return{newValue:cr,activeIndex:Wr}},lt=Fu(Ze=>{const gt=nx(Ze,B);if(!gt)return;if(Y.current+=1,Ze.type==="mousemove"&&Ze.buttons===0){ce(Ze);return}const{newValue:Ft,activeIndex:At}=Et({finger:gt,move:!0});ix({sliderRef:we,activeIndex:At,setActive:te}),re(Ft),!Q&&Y.current>rJ&&ge(!0),ye&&!ox(Ft,Z)&&ye(Ze,Ft,At)}),ce=Fu(Ze=>{const gt=nx(Ze,B);if(ge(!1),!gt)return;const{newValue:Ft}=Et({finger:gt,move:!0});te(-1),Ze.type==="touchend"&&ee(-1),w&&w(Ze,Ft),B.current=void 0,qt()}),ur=Fu(Ze=>{if(n)return;zM()||Ze.preventDefault();const gt=Ze.changedTouches[0];gt!=null&&(B.current=gt.identifier);const Ft=nx(Ze,B);if(Ft!==!1){const{newValue:Ar,activeIndex:ot}=Et({finger:Ft});ix({sliderRef:we,activeIndex:ot,setActive:te}),re(Ar),ye&&!ox(Ar,Z)&&ye(Ze,Ar,ot)}Y.current=0;const At=ca(we.current);At.addEventListener("touchmove",lt,{passive:!0}),At.addEventListener("touchend",ce,{passive:!0})}),qt=V.useCallback(()=>{const Ze=ca(we.current);Ze.removeEventListener("mousemove",lt),Ze.removeEventListener("mouseup",ce),Ze.removeEventListener("touchmove",lt),Ze.removeEventListener("touchend",ce)},[ce,lt]);V.useEffect(()=>{const{current:Ze}=we;return Ze.addEventListener("touchstart",ur,{passive:zM()}),()=>{Ze.removeEventListener("touchstart",ur),qt()}},[qt,ur]),V.useEffect(()=>{n&&qt()},[n,qt]);const wt=Ze=>gt=>{var Ft;if((Ft=Ze.onMouseDown)==null||Ft.call(Ze,gt),n||gt.defaultPrevented||gt.button!==0)return;gt.preventDefault();const At=nx(gt,B);if(At!==!1){const{newValue:ot,activeIndex:kt}=Et({finger:At});ix({sliderRef:we,activeIndex:kt,setActive:te}),re(ot),ye&&!ox(ot,Z)&&ye(gt,ot,kt)}Y.current=0;const Ar=ca(we.current);Ar.addEventListener("mousemove",lt,{passive:!0}),Ar.addEventListener("mouseup",ce)},Mt=O_(fe?Ae[0]:f,f,s),It=O_(Ae[Ae.length-1],f,s)-Mt,Gt=(Ze={})=>{const gt=k1(Ze),Ft={onMouseDown:wt(gt||{})},At=Ho({},gt,Ft);return Ho({},Ze,{ref:Fe},At)},Lt=Ze=>gt=>{var Ft;(Ft=Ze.onMouseOver)==null||Ft.call(Ze,gt);const At=Number(gt.currentTarget.getAttribute("data-index"));ee(At)},Jt=Ze=>gt=>{var Ft;(Ft=Ze.onMouseLeave)==null||Ft.call(Ze,gt),ee(-1)};return{active:q,axis:Ct,axisProps:aJ,dragging:Q,focusedThumbIndex:ae,getHiddenInputProps:(Ze={})=>{var gt;const Ft=k1(Ze),At={onChange:ut(Ft||{}),onFocus:rt(Ft||{}),onBlur:Ve(Ft||{}),onKeyDown:nt(Ft||{})},Ar=Ho({},Ft,At);return Ho({tabIndex:M,"aria-labelledby":t,"aria-orientation":S,"aria-valuemax":L(s),"aria-valuemin":L(f),name:m,type:"range",min:e.min,max:e.max,step:e.step===null&&e.marks?"any":(gt=e.step)!=null?gt:void 0,disabled:n},Ze,Ar,{style:Ho({},WK,{direction:a?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:Gt,getThumbProps:(Ze={})=>{const gt=k1(Ze),Ft={onMouseOver:Lt(gt||{}),onMouseLeave:Jt(gt||{})};return Ho({},Ze,gt,Ft)},marks:ke,open:K,range:fe,rootRef:Fe,trackLeap:It,trackOffset:Mt,values:Ae,getThumbStyle:Ze=>({pointerEvents:q!==-1&&q!==Ze?"none":void 0})}}const uJ=["onChange","maxRows","minRows","style","value"];function sx(e){return parseInt(e,10)||0}const cJ={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function jM(e){return e==null||Object.keys(e).length===0||e.outerHeightStyle===0&&!e.overflow}const dJ=V.forwardRef(function(t,r){const{onChange:n,maxRows:i,minRows:a=1,style:u,value:s}=t,f=az(t,uJ),{current:m}=V.useRef(s!=null),x=V.useRef(null),w=Ba(r,x),S=V.useRef(null),C=V.useRef(0),[L,k]=V.useState({outerHeightStyle:0}),$=V.useCallback(()=>{const q=x.current,K=ou(q).getComputedStyle(q);if(K.width==="0px")return{outerHeightStyle:0};const ee=S.current;ee.style.width=K.width,ee.value=q.value||t.placeholder||"x",ee.value.slice(-1)===`
`&&(ee.value+=" ");const Q=K.boxSizing,ge=sx(K.paddingBottom)+sx(K.paddingTop),Y=sx(K.borderBottomWidth)+sx(K.borderTopWidth),Z=ee.scrollHeight;ee.value="x";const re=ee.scrollHeight;let ye=Z;a&&(ye=Math.max(Number(a)*re,ye)),i&&(ye=Math.min(Number(i)*re,ye)),ye=Math.max(ye,re);const fe=ye+(Q==="border-box"?ge+Y:0),Ae=Math.abs(ye-Z)<=1;return{outerHeightStyle:fe,overflow:Ae}},[i,a,t.placeholder]),M=(q,te)=>{const{outerHeightStyle:K,overflow:ee}=te;return C.current<20&&(K>0&&Math.abs((q.outerHeightStyle||0)-K)>1||q.overflow!==ee)?(C.current+=1,{overflow:ee,outerHeightStyle:K}):q},z=V.useCallback(()=>{const q=$();jM(q)||k(te=>M(te,q))},[$]);Uu(()=>{const q=()=>{const Z=$();jM(Z)||up.flushSync(()=>{k(re=>M(re,Z))})},te=()=>{C.current=0,q()};let K;const ee=Kw(te),Q=x.current,ge=ou(Q);ge.addEventListener("resize",ee);let Y;return typeof ResizeObserver<"u"&&(Y=new ResizeObserver(te),Y.observe(Q)),()=>{ee.clear(),cancelAnimationFrame(K),ge.removeEventListener("resize",ee),Y&&Y.disconnect()}},[$]),Uu(()=>{z()}),V.useEffect(()=>{C.current=0},[s]);const B=q=>{C.current=0,m||z(),n&&n(q)};return $e.jsxs(V.Fragment,{children:[$e.jsx("textarea",Ho({value:s,onChange:B,ref:w,rows:a,style:Ho({height:L.outerHeightStyle,overflow:L.overflow?"hidden":void 0},u)},f)),$e.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:S,tabIndex:-1,style:Ho({},cJ.shadow,u,{paddingTop:0,paddingBottom:0})})]})});function Ly({props:e,states:t,muiFormControl:r}){return t.reduce((n,i)=>(n[i]=e[i],r&&typeof e[i]>"u"&&(n[i]=r[i]),n),{})}const JT=V.createContext(void 0);function $m(){return V.useContext(JT)}function hJ(e){return $e.jsx(WX,Xe({},e,{defaultTheme:u5,themeId:Em}))}function UM(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function N_(e,t=!1){return e&&(UM(e.value)&&e.value!==""||t&&UM(e.defaultValue)&&e.defaultValue!=="")}function fJ(e){return e.startAdornment}function pJ(e){return Gn("MuiInputBase",e)}const fy=Un("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),mJ=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],C5=(e,t)=>{const{ownerState:r}=e;return[t.root,r.formControl&&t.formControl,r.startAdornment&&t.adornedStart,r.endAdornment&&t.adornedEnd,r.error&&t.error,r.size==="small"&&t.sizeSmall,r.multiline&&t.multiline,r.color&&t[`color${Vr(r.color)}`],r.fullWidth&&t.fullWidth,r.hiddenLabel&&t.hiddenLabel]},E5=(e,t)=>{const{ownerState:r}=e;return[t.input,r.size==="small"&&t.inputSizeSmall,r.multiline&&t.inputMultiline,r.type==="search"&&t.inputTypeSearch,r.startAdornment&&t.inputAdornedStart,r.endAdornment&&t.inputAdornedEnd,r.hiddenLabel&&t.inputHiddenLabel]},gJ=e=>{const{classes:t,color:r,disabled:n,error:i,endAdornment:a,focused:u,formControl:s,fullWidth:f,hiddenLabel:m,multiline:x,readOnly:w,size:S,startAdornment:C,type:L}=e,k={root:["root",`color${Vr(r)}`,n&&"disabled",i&&"error",f&&"fullWidth",u&&"focused",s&&"formControl",S&&S!=="medium"&&`size${Vr(S)}`,x&&"multiline",C&&"adornedStart",a&&"adornedEnd",m&&"hiddenLabel",w&&"readOnly"],input:["input",n&&"disabled",L==="search"&&"inputTypeSearch",x&&"inputMultiline",S==="small"&&"inputSizeSmall",m&&"inputHiddenLabel",C&&"inputAdornedStart",a&&"inputAdornedEnd",w&&"readOnly"]};return Qn(k,pJ,t)},A5=xr("div",{name:"MuiInputBase",slot:"Root",overridesResolver:C5})(({theme:e,ownerState:t})=>Xe({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${fy.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&Xe({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),T5=xr("input",{name:"MuiInputBase",slot:"Input",overridesResolver:E5})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light",n=Xe({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),i={opacity:"0 !important"},a=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return Xe({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${fy.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus:-ms-input-placeholder":a,"&:focus::-ms-input-placeholder":a},[`&.${fy.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),yJ=$e.jsx(hJ,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),QT=V.forwardRef(function(t,r){var n;const i=di({props:t,name:"MuiInputBase"}),{"aria-describedby":a,autoComplete:u,autoFocus:s,className:f,components:m={},componentsProps:x={},defaultValue:w,disabled:S,disableInjectingGlobalStyles:C,endAdornment:L,fullWidth:k=!1,id:$,inputComponent:M="input",inputProps:z={},inputRef:B,maxRows:q,minRows:te,multiline:K=!1,name:ee,onBlur:Q,onChange:ge,onClick:Y,onFocus:Z,onKeyDown:re,onKeyUp:ye,placeholder:fe,readOnly:Ae,renderSuffix:ke,rows:Oe,slotProps:_e={},slots:Ne={},startAdornment:Ke,type:pt="text",value:ae}=i,me=sn(i,mJ),we=z.value!=null?z.value:ae,{current:Re}=V.useRef(we!=null),Fe=V.useRef(),rt=V.useCallback(Ze=>{},[]),Ve=Ba(Fe,B,z.ref,rt),[We,nt]=V.useState(!1),ut=$m(),bt=Ly({props:i,muiFormControl:ut,states:["color","disabled","error","hiddenLabel","size","required","filled"]});bt.focused=ut?ut.focused:We,V.useEffect(()=>{!ut&&S&&We&&(nt(!1),Q&&Q())},[ut,S,We,Q]);const Ct=ut&&ut.onFilled,Et=ut&&ut.onEmpty,lt=V.useCallback(Ze=>{N_(Ze)?Ct&&Ct():Et&&Et()},[Ct,Et]);Uu(()=>{Re&&lt({value:we})},[we,lt,Re]);const ce=Ze=>{if(bt.disabled){Ze.stopPropagation();return}Z&&Z(Ze),z.onFocus&&z.onFocus(Ze),ut&&ut.onFocus?ut.onFocus(Ze):nt(!0)},ur=Ze=>{Q&&Q(Ze),z.onBlur&&z.onBlur(Ze),ut&&ut.onBlur?ut.onBlur(Ze):nt(!1)},qt=(Ze,...gt)=>{if(!Re){const Ft=Ze.target||Fe.current;if(Ft==null)throw new Error(ju(1));lt({value:Ft.value})}z.onChange&&z.onChange(Ze,...gt),ge&&ge(Ze,...gt)};V.useEffect(()=>{lt(Fe.current)},[]);const wt=Ze=>{Fe.current&&Ze.currentTarget===Ze.target&&Fe.current.focus(),Y&&Y(Ze)};let Mt=M,It=z;K&&Mt==="input"&&(Oe?It=Xe({type:void 0,minRows:Oe,maxRows:Oe},It):It=Xe({type:void 0,maxRows:q,minRows:te},It),Mt=dJ);const Gt=Ze=>{lt(Ze.animationName==="mui-auto-fill-cancel"?Fe.current:{value:"x"})};V.useEffect(()=>{ut&&ut.setAdornedStart(!!Ke)},[ut,Ke]);const Lt=Xe({},i,{color:bt.color||"primary",disabled:bt.disabled,endAdornment:L,error:bt.error,focused:bt.focused,formControl:ut,fullWidth:k,hiddenLabel:bt.hiddenLabel,multiline:K,size:bt.size,startAdornment:Ke,type:pt}),Jt=gJ(Lt),_r=Ne.root||m.Root||A5,Cr=_e.root||x.root||{},Ir=Ne.input||m.Input||T5;return It=Xe({},It,(n=_e.input)!=null?n:x.input),$e.jsxs(V.Fragment,{children:[!C&&yJ,$e.jsxs(_r,Xe({},Cr,!eh(_r)&&{ownerState:Xe({},Lt,Cr.ownerState)},{ref:r,onClick:wt},me,{className:Zr(Jt.root,Cr.className,f,Ae&&"MuiInputBase-readOnly"),children:[Ke,$e.jsx(JT.Provider,{value:null,children:$e.jsx(Ir,Xe({ownerState:Lt,"aria-invalid":bt.error,"aria-describedby":a,autoComplete:u,autoFocus:s,defaultValue:w,disabled:bt.disabled,id:$,onAnimationStart:Gt,name:ee,placeholder:fe,readOnly:Ae,required:bt.required,rows:Oe,value:we,onKeyDown:re,onKeyUp:ye,type:pt},It,!eh(Ir)&&{as:Mt,ownerState:Xe({},Lt,It.ownerState)},{ref:Ve,className:Zr(Jt.input,It.className,Ae&&"MuiInputBase-readOnly"),onBlur:ur,onChange:qt,onFocus:ce}))}),L,ke?ke(Xe({},bt,{startAdornment:Ke})):null]}))]})});function vJ(e){return Gn("MuiInput",e)}const Pv=Xe({},fy,Un("MuiInput",["root","underline","input"]));function bJ(e){return Gn("MuiOutlinedInput",e)}const Tf=Xe({},fy,Un("MuiOutlinedInput",["root","notchedOutline","input"]));function xJ(e){return Gn("MuiFilledInput",e)}const Bp=Xe({},fy,Un("MuiFilledInput",["root","underline","input"])),_J=c5($e.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),wJ=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],SJ={entering:{opacity:1},entered:{opacity:1}},lz=V.forwardRef(function(t,r){const n=af(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:a,appear:u=!0,children:s,easing:f,in:m,onEnter:x,onEntered:w,onEntering:S,onExit:C,onExited:L,onExiting:k,style:$,timeout:M=i,TransitionComponent:z=Gu}=t,B=sn(t,wJ),q=V.useRef(null),te=Ba(q,s.ref,r),K=fe=>Ae=>{if(fe){const ke=q.current;Ae===void 0?fe(ke):fe(ke,Ae)}},ee=K(S),Q=K((fe,Ae)=>{YT(fe);const ke=km({style:$,timeout:M,easing:f},{mode:"enter"});fe.style.webkitTransition=n.transitions.create("opacity",ke),fe.style.transition=n.transitions.create("opacity",ke),x&&x(fe,Ae)}),ge=K(w),Y=K(k),Z=K(fe=>{const Ae=km({style:$,timeout:M,easing:f},{mode:"exit"});fe.style.webkitTransition=n.transitions.create("opacity",Ae),fe.style.transition=n.transitions.create("opacity",Ae),C&&C(fe)}),re=K(L),ye=fe=>{a&&a(q.current,fe)};return $e.jsx(z,Xe({appear:u,in:m,nodeRef:q,onEnter:Q,onEntered:ge,onEntering:ee,onExit:Z,onExited:re,onExiting:Y,addEndListener:ye,timeout:M},B,{children:(fe,Ae)=>V.cloneElement(s,Xe({style:Xe({opacity:0,visibility:fe==="exited"&&!m?"hidden":void 0},SJ[fe],$,s.props.style),ref:te},Ae))}))});function CJ(e){return Gn("MuiBackdrop",e)}Un("MuiBackdrop",["root","invisible"]);const EJ=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],AJ=e=>{const{classes:t,invisible:r}=e;return Qn({root:["root",r&&"invisible"]},CJ,t)},TJ=xr("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.invisible&&t.invisible]}})(({ownerState:e})=>Xe({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),uz=V.forwardRef(function(t,r){var n,i,a;const u=di({props:t,name:"MuiBackdrop"}),{children:s,className:f,component:m="div",components:x={},componentsProps:w={},invisible:S=!1,open:C,slotProps:L={},slots:k={},TransitionComponent:$=lz,transitionDuration:M}=u,z=sn(u,EJ),B=Xe({},u,{component:m,invisible:S}),q=AJ(B),te=(n=L.root)!=null?n:w.root;return $e.jsx($,Xe({in:C,timeout:M},z,{children:$e.jsx(TJ,Xe({"aria-hidden":!0},te,{as:(i=(a=k.root)!=null?a:x.Root)!=null?i:m,className:Zr(q.root,f,te==null?void 0:te.className),ownerState:Xe({},B,te==null?void 0:te.ownerState),classes:q,ref:r,children:s}))}))}),PJ=Un("MuiBox",["root"]),kJ=Wb(),qh=XB({themeId:Em,defaultTheme:kJ,defaultClassName:PJ.root,generateClassName:Jw.generate});function IJ(e){return Gn("MuiButton",e)}const lx=Un("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),LJ=V.createContext({}),MJ=V.createContext(void 0),RJ=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],DJ=e=>{const{color:t,disableElevation:r,fullWidth:n,size:i,variant:a,classes:u}=e,s={root:["root",a,`${a}${Vr(t)}`,`size${Vr(i)}`,`${a}Size${Vr(i)}`,t==="inherit"&&"colorInherit",r&&"disableElevation",n&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${Vr(i)}`],endIcon:["endIcon",`iconSize${Vr(i)}`]},f=Qn(s,IJ,u);return Xe({},u,f)},cz=e=>Xe({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),OJ=xr(S5,{shouldForwardProp:e=>cl(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${Vr(r.color)}`],t[`size${Vr(r.size)}`],t[`${r.variant}Size${Vr(r.size)}`],r.color==="inherit"&&t.colorInherit,r.disableElevation&&t.disableElevation,r.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var r,n;const i=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],a=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return Xe({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":Xe({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:El(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:El(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:El(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:a,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":Xe({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${lx.focusVisible}`]:Xe({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${lx.disabled}`]:Xe({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${El(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(r=(n=e.palette).getContrastText)==null?void 0:r.call(n,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:i,boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${lx.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${lx.disabled}`]:{boxShadow:"none"}}),NJ=xr("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.startIcon,t[`iconSize${Vr(r.size)}`]]}})(({ownerState:e})=>Xe({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},cz(e))),FJ=xr("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.endIcon,t[`iconSize${Vr(r.size)}`]]}})(({ownerState:e})=>Xe({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},cz(e))),eA=V.forwardRef(function(t,r){const n=V.useContext(LJ),i=V.useContext(MJ),a=Yw(n,t),u=di({props:a,name:"MuiButton"}),{children:s,color:f="primary",component:m="button",className:x,disabled:w=!1,disableElevation:S=!1,disableFocusRipple:C=!1,endIcon:L,focusVisibleClassName:k,fullWidth:$=!1,size:M="medium",startIcon:z,type:B,variant:q="text"}=u,te=sn(u,RJ),K=Xe({},u,{color:f,component:m,disabled:w,disableElevation:S,disableFocusRipple:C,fullWidth:$,size:M,type:B,variant:q}),ee=DJ(K),Q=z&&$e.jsx(NJ,{className:ee.startIcon,ownerState:K,children:z}),ge=L&&$e.jsx(FJ,{className:ee.endIcon,ownerState:K,children:L}),Y=i||"";return $e.jsxs(OJ,Xe({ownerState:K,className:Zr(n.className,ee.root,x,Y),component:m,disabled:w,focusRipple:!C,focusVisibleClassName:Zr(ee.focusVisible,k),ref:r,type:B},te,{classes:ee,children:[Q,s,ge]}))});function $J(e){return Gn("PrivateSwitchBase",e)}Un("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const BJ=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],zJ=e=>{const{classes:t,checked:r,disabled:n,edge:i}=e,a={root:["root",r&&"checked",n&&"disabled",i&&`edge${Vr(i)}`],input:["input"]};return Qn(a,$J,t)},jJ=xr(S5)(({ownerState:e})=>Xe({padding:9,borderRadius:"50%"},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12})),UJ=xr("input",{shouldForwardProp:cl})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),VJ=V.forwardRef(function(t,r){const{autoFocus:n,checked:i,checkedIcon:a,className:u,defaultChecked:s,disabled:f,disableFocusRipple:m=!1,edge:x=!1,icon:w,id:S,inputProps:C,inputRef:L,name:k,onBlur:$,onChange:M,onFocus:z,readOnly:B,required:q=!1,tabIndex:te,type:K,value:ee}=t,Q=sn(t,BJ),[ge,Y]=sb({controlled:i,default:!!s,name:"SwitchBase",state:"checked"}),Z=$m(),re=Ne=>{z&&z(Ne),Z&&Z.onFocus&&Z.onFocus(Ne)},ye=Ne=>{$&&$(Ne),Z&&Z.onBlur&&Z.onBlur(Ne)},fe=Ne=>{if(Ne.nativeEvent.defaultPrevented)return;const Ke=Ne.target.checked;Y(Ke),M&&M(Ne,Ke)};let Ae=f;Z&&typeof Ae>"u"&&(Ae=Z.disabled);const ke=K==="checkbox"||K==="radio",Oe=Xe({},t,{checked:ge,disabled:Ae,disableFocusRipple:m,edge:x}),_e=zJ(Oe);return $e.jsxs(jJ,Xe({component:"span",className:Zr(_e.root,u),centerRipple:!0,focusRipple:!m,disabled:Ae,tabIndex:null,role:void 0,onFocus:re,onBlur:ye,ownerState:Oe,ref:r},Q,{children:[$e.jsx(UJ,Xe({autoFocus:n,checked:i,defaultChecked:s,className:_e.input,disabled:Ae,id:ke?S:void 0,name:k,onChange:fe,readOnly:B,ref:L,required:q,ownerState:Oe,tabIndex:te,type:K},K==="checkbox"&&ee===void 0?{}:{value:ee},C)),ge?a:w]}))}),qJ=c5($e.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),HJ=c5($e.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),WJ=c5($e.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function GJ(e){return Gn("MuiCheckbox",e)}const t3=Un("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),KJ=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],XJ=e=>{const{classes:t,indeterminate:r,color:n,size:i}=e,a={root:["root",r&&"indeterminate",`color${Vr(n)}`,`size${Vr(i)}`]},u=Qn(a,GJ,t);return Xe({},t,u)},ZJ=xr(VJ,{shouldForwardProp:e=>cl(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.indeterminate&&t.indeterminate,t[`size${Vr(r.size)}`],r.color!=="default"&&t[`color${Vr(r.color)}`]]}})(({theme:e,ownerState:t})=>Xe({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${t.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:El(t.color==="default"?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${t3.checked}, &.${t3.indeterminate}`]:{color:(e.vars||e).palette[t.color].main},[`&.${t3.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),YJ=$e.jsx(HJ,{}),JJ=$e.jsx(qJ,{}),QJ=$e.jsx(WJ,{}),dz=V.forwardRef(function(t,r){var n,i;const a=di({props:t,name:"MuiCheckbox"}),{checkedIcon:u=YJ,color:s="primary",icon:f=JJ,indeterminate:m=!1,indeterminateIcon:x=QJ,inputProps:w,size:S="medium",className:C}=a,L=sn(a,KJ),k=m?x:f,$=m?x:u,M=Xe({},a,{color:s,indeterminate:m,size:S}),z=XJ(M);return $e.jsx(ZJ,Xe({type:"checkbox",inputProps:Xe({"data-indeterminate":m},w),icon:V.cloneElement(k,{fontSize:(n=k.props.fontSize)!=null?n:S}),checkedIcon:V.cloneElement($,{fontSize:(i=$.props.fontSize)!=null?i:S}),ownerState:M,ref:r,className:Zr(z.root,C)},L,{classes:z}))});function eQ(e){return Gn("MuiModal",e)}Un("MuiModal",["root","hidden","backdrop"]);const tQ=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],rQ=e=>{const{open:t,exited:r,classes:n}=e;return Qn({root:["root",!t&&r&&"hidden"],backdrop:["backdrop"]},eQ,n)},nQ=xr("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.open&&r.exited&&t.hidden]}})(({theme:e,ownerState:t})=>Xe({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),iQ=xr(uz,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),eP=V.forwardRef(function(t,r){var n,i,a,u,s,f;const m=di({name:"MuiModal",props:t}),{BackdropComponent:x=iQ,BackdropProps:w,className:S,closeAfterTransition:C=!1,children:L,container:k,component:$,components:M={},componentsProps:z={},disableAutoFocus:B=!1,disableEnforceFocus:q=!1,disableEscapeKeyDown:te=!1,disablePortal:K=!1,disableRestoreFocus:ee=!1,disableScrollLock:Q=!1,hideBackdrop:ge=!1,keepMounted:Y=!1,onBackdropClick:Z,open:re,slotProps:ye,slots:fe}=m,Ae=sn(m,tQ),ke=Xe({},m,{closeAfterTransition:C,disableAutoFocus:B,disableEnforceFocus:q,disableEscapeKeyDown:te,disablePortal:K,disableRestoreFocus:ee,disableScrollLock:Q,hideBackdrop:ge,keepMounted:Y}),{getRootProps:Oe,getBackdropProps:_e,getTransitionProps:Ne,portalRef:Ke,isTopModal:pt,exited:ae,hasTransition:me}=eJ(Xe({},ke,{rootRef:r})),we=Xe({},ke,{exited:ae}),Re=rQ(we),Fe={};if(L.props.tabIndex===void 0&&(Fe.tabIndex="-1"),me){const{onEnter:Ct,onExited:Et}=Ne();Fe.onEnter=Ct,Fe.onExited=Et}const rt=(n=(i=fe==null?void 0:fe.root)!=null?i:M.Root)!=null?n:nQ,Ve=(a=(u=fe==null?void 0:fe.backdrop)!=null?u:M.Backdrop)!=null?a:x,We=(s=ye==null?void 0:ye.root)!=null?s:z.root,nt=(f=ye==null?void 0:ye.backdrop)!=null?f:z.backdrop,ut=Zl({elementType:rt,externalSlotProps:We,externalForwardedProps:Ae,getSlotProps:Oe,additionalProps:{ref:r,as:$},ownerState:we,className:Zr(S,We==null?void 0:We.className,Re==null?void 0:Re.root,!we.open&&we.exited&&(Re==null?void 0:Re.hidden))}),bt=Zl({elementType:Ve,externalSlotProps:nt,additionalProps:w,getSlotProps:Ct=>_e(Xe({},Ct,{onClick:Et=>{Z&&Z(Et),Ct!=null&&Ct.onClick&&Ct.onClick(Et)}})),className:Zr(nt==null?void 0:nt.className,w==null?void 0:w.className,Re==null?void 0:Re.backdrop),ownerState:we});return!Y&&!re&&(!me||ae)?null:$e.jsx(HY,{ref:Ke,container:k,disablePortal:K,children:$e.jsxs(rt,Xe({},ut,{children:[!ge&&x?$e.jsx(Ve,Xe({},bt)):null,$e.jsx(VY,{disableEnforceFocus:q,disableAutoFocus:B,disableRestoreFocus:ee,isEnabled:pt,open:re,children:V.cloneElement(L,Fe)})]}))})});function oQ(e){return Gn("MuiDialog",e)}const r3=Un("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),hz=V.createContext({}),aQ=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],sQ=xr(uz,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),lQ=e=>{const{classes:t,scroll:r,maxWidth:n,fullWidth:i,fullScreen:a}=e,u={root:["root"],container:["container",`scroll${Vr(r)}`],paper:["paper",`paperScroll${Vr(r)}`,`paperWidth${Vr(String(n))}`,i&&"paperFullWidth",a&&"paperFullScreen"]};return Qn(u,oQ,t)},uQ=xr(eP,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),cQ=xr("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.container,t[`scroll${Vr(r.scroll)}`]]}})(({ownerState:e})=>Xe({height:"100%","@media print":{height:"auto"},outline:0},e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),dQ=xr(Im,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.paper,t[`scrollPaper${Vr(r.scroll)}`],t[`paperWidth${Vr(String(r.maxWidth))}`],r.fullWidth&&t.paperFullWidth,r.fullScreen&&t.paperFullScreen]}})(({theme:e,ownerState:t})=>Xe({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},t.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},t.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},t.maxWidth==="xs"&&{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${r3.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&t.maxWidth!=="xs"&&{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`,[`&.${r3.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${r3.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),hQ=V.forwardRef(function(t,r){const n=di({props:t,name:"MuiDialog"}),i=af(),a={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":u,"aria-labelledby":s,BackdropComponent:f,BackdropProps:m,children:x,className:w,disableEscapeKeyDown:S=!1,fullScreen:C=!1,fullWidth:L=!1,maxWidth:k="sm",onBackdropClick:$,onClose:M,open:z,PaperComponent:B=Im,PaperProps:q={},scroll:te="paper",TransitionComponent:K=lz,transitionDuration:ee=a,TransitionProps:Q}=n,ge=sn(n,aQ),Y=Xe({},n,{disableEscapeKeyDown:S,fullScreen:C,fullWidth:L,maxWidth:k,scroll:te}),Z=lQ(Y),re=V.useRef(),ye=Oe=>{re.current=Oe.target===Oe.currentTarget},fe=Oe=>{re.current&&(re.current=null,$&&$(Oe),M&&M(Oe,"backdropClick"))},Ae=Xw(s),ke=V.useMemo(()=>({titleId:Ae}),[Ae]);return $e.jsx(uQ,Xe({className:Zr(Z.root,w),closeAfterTransition:!0,components:{Backdrop:sQ},componentsProps:{backdrop:Xe({transitionDuration:ee,as:f},m)},disableEscapeKeyDown:S,onClose:M,open:z,ref:r,onClick:fe,ownerState:Y},ge,{children:$e.jsx(K,Xe({appear:!0,in:z,timeout:ee,role:"presentation"},Q,{children:$e.jsx(cQ,{className:Zr(Z.container),onMouseDown:ye,ownerState:Y,children:$e.jsx(dQ,Xe({as:B,elevation:24,role:"dialog","aria-describedby":u,"aria-labelledby":Ae},q,{className:Zr(Z.paper,q.className),ownerState:Y,children:$e.jsx(hz.Provider,{value:ke,children:x})}))})}))}))});function fQ(e){return Gn("MuiDialogActions",e)}Un("MuiDialogActions",["root","spacing"]);const pQ=["className","disableSpacing"],mQ=e=>{const{classes:t,disableSpacing:r}=e;return Qn({root:["root",!r&&"spacing"]},fQ,t)},gQ=xr("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disableSpacing&&t.spacing]}})(({ownerState:e})=>Xe({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),yQ=V.forwardRef(function(t,r){const n=di({props:t,name:"MuiDialogActions"}),{className:i,disableSpacing:a=!1}=n,u=sn(n,pQ),s=Xe({},n,{disableSpacing:a}),f=mQ(s);return $e.jsx(gQ,Xe({className:Zr(f.root,i),ownerState:s,ref:r},u))});function vQ(e){return Gn("MuiDialogContent",e)}Un("MuiDialogContent",["root","dividers"]);function bQ(e){return Gn("MuiDialogTitle",e)}const xQ=Un("MuiDialogTitle",["root"]),_Q=["className","dividers"],wQ=e=>{const{classes:t,dividers:r}=e;return Qn({root:["root",r&&"dividers"]},vQ,t)},SQ=xr("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.dividers&&t.dividers]}})(({theme:e,ownerState:t})=>Xe({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${xQ.root} + &`]:{paddingTop:0}})),CQ=V.forwardRef(function(t,r){const n=di({props:t,name:"MuiDialogContent"}),{className:i,dividers:a=!1}=n,u=sn(n,_Q),s=Xe({},n,{dividers:a}),f=wQ(s);return $e.jsx(SQ,Xe({className:Zr(f.root,i),ownerState:s,ref:r},u))});function EQ(e){return Gn("MuiDialogContentText",e)}Un("MuiDialogContentText",["root"]);const AQ=["children","className"],TQ=e=>{const{classes:t}=e,n=Qn({root:["root"]},EQ,t);return Xe({},t,n)},PQ=xr(zh,{shouldForwardProp:e=>cl(e)||e==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),kQ=V.forwardRef(function(t,r){const n=di({props:t,name:"MuiDialogContentText"}),{className:i}=n,a=sn(n,AQ),u=TQ(a);return $e.jsx(PQ,Xe({component:"p",variant:"body1",color:"text.secondary",ref:r,ownerState:a,className:Zr(u.root,i)},n,{classes:u}))}),IQ=["className","id"],LQ=e=>{const{classes:t}=e;return Qn({root:["root"]},bQ,t)},MQ=xr(zh,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),RQ=V.forwardRef(function(t,r){const n=di({props:t,name:"MuiDialogTitle"}),{className:i,id:a}=n,u=sn(n,IQ),s=n,f=LQ(s),{titleId:m=a}=V.useContext(hz);return $e.jsx(MQ,Xe({component:"h2",className:Zr(f.root,i),ownerState:s,ref:r,variant:"h6",id:a??m},u))}),DQ=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function OQ(e,t,r){const n=t.getBoundingClientRect(),i=r&&r.getBoundingClientRect(),a=ou(t);let u;if(t.fakeTransform)u=t.fakeTransform;else{const m=a.getComputedStyle(t);u=m.getPropertyValue("-webkit-transform")||m.getPropertyValue("transform")}let s=0,f=0;if(u&&u!=="none"&&typeof u=="string"){const m=u.split("(")[1].split(")")[0].split(",");s=parseInt(m[4],10),f=parseInt(m[5],10)}return e==="left"?i?`translateX(${i.right+s-n.left}px)`:`translateX(${a.innerWidth+s-n.left}px)`:e==="right"?i?`translateX(-${n.right-i.left-s}px)`:`translateX(-${n.left+n.width-s}px)`:e==="up"?i?`translateY(${i.bottom+f-n.top}px)`:`translateY(${a.innerHeight+f-n.top}px)`:i?`translateY(-${n.top-i.top+n.height-f}px)`:`translateY(-${n.top+n.height-f}px)`}function NQ(e){return typeof e=="function"?e():e}function ux(e,t,r){const n=NQ(r),i=OQ(e,t,n);i&&(t.style.webkitTransform=i,t.style.transform=i)}const FQ=V.forwardRef(function(t,r){const n=af(),i={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},a={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:u,appear:s=!0,children:f,container:m,direction:x="down",easing:w=i,in:S,onEnter:C,onEntered:L,onEntering:k,onExit:$,onExited:M,onExiting:z,style:B,timeout:q=a,TransitionComponent:te=Gu}=t,K=sn(t,DQ),ee=V.useRef(null),Q=Ba(f.ref,ee,r),ge=_e=>Ne=>{_e&&(Ne===void 0?_e(ee.current):_e(ee.current,Ne))},Y=ge((_e,Ne)=>{ux(x,_e,m),YT(_e),C&&C(_e,Ne)}),Z=ge((_e,Ne)=>{const Ke=km({timeout:q,style:B,easing:w},{mode:"enter"});_e.style.webkitTransition=n.transitions.create("-webkit-transform",Xe({},Ke)),_e.style.transition=n.transitions.create("transform",Xe({},Ke)),_e.style.webkitTransform="none",_e.style.transform="none",k&&k(_e,Ne)}),re=ge(L),ye=ge(z),fe=ge(_e=>{const Ne=km({timeout:q,style:B,easing:w},{mode:"exit"});_e.style.webkitTransition=n.transitions.create("-webkit-transform",Ne),_e.style.transition=n.transitions.create("transform",Ne),ux(x,_e,m),$&&$(_e)}),Ae=ge(_e=>{_e.style.webkitTransition="",_e.style.transition="",M&&M(_e)}),ke=_e=>{u&&u(ee.current,_e)},Oe=V.useCallback(()=>{ee.current&&ux(x,ee.current,m)},[x,m]);return V.useEffect(()=>{if(S||x==="down"||x==="right")return;const _e=Kw(()=>{ee.current&&ux(x,ee.current,m)}),Ne=ou(ee.current);return Ne.addEventListener("resize",_e),()=>{_e.clear(),Ne.removeEventListener("resize",_e)}},[x,S,m]),V.useEffect(()=>{S||Oe()},[S,Oe]),$e.jsx(te,Xe({nodeRef:ee,onEnter:Y,onEntered:re,onEntering:Z,onExit:fe,onExited:Ae,onExiting:ye,addEndListener:ke,appear:s,in:S,timeout:q},K,{children:(_e,Ne)=>V.cloneElement(f,Xe({ref:Q,style:Xe({visibility:_e==="exited"&&!S?"hidden":void 0},B,f.props.style)},Ne))}))});function $Q(e){return Gn("MuiDrawer",e)}Un("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const BQ=["BackdropProps"],zQ=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],fz=(e,t)=>{const{ownerState:r}=e;return[t.root,(r.variant==="permanent"||r.variant==="persistent")&&t.docked,t.modal]},jQ=e=>{const{classes:t,anchor:r,variant:n}=e,i={root:["root"],docked:[(n==="permanent"||n==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${Vr(r)}`,n!=="temporary"&&`paperAnchorDocked${Vr(r)}`]};return Qn(i,$Q,t)},UQ=xr(eP,{name:"MuiDrawer",slot:"Root",overridesResolver:fz})(({theme:e})=>({zIndex:(e.vars||e).zIndex.drawer})),VM=xr("div",{shouldForwardProp:cl,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:fz})({flex:"0 0 auto"}),VQ=xr(Im,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.paper,t[`paperAnchor${Vr(r.anchor)}`],r.variant!=="temporary"&&t[`paperAnchorDocked${Vr(r.anchor)}`]]}})(({theme:e,ownerState:t})=>Xe({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(e.vars||e).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},t.anchor==="left"&&{left:0},t.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},t.anchor==="right"&&{right:0},t.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},t.anchor==="left"&&t.variant!=="temporary"&&{borderRight:`1px solid ${(e.vars||e).palette.divider}`},t.anchor==="top"&&t.variant!=="temporary"&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`},t.anchor==="right"&&t.variant!=="temporary"&&{borderLeft:`1px solid ${(e.vars||e).palette.divider}`},t.anchor==="bottom"&&t.variant!=="temporary"&&{borderTop:`1px solid ${(e.vars||e).palette.divider}`})),pz={left:"right",right:"left",top:"down",bottom:"up"};function Kp(e){return["left","right"].indexOf(e)!==-1}function i1(e,t){return e.direction==="rtl"&&Kp(t)?pz[t]:t}const mz=V.forwardRef(function(t,r){const n=di({props:t,name:"MuiDrawer"}),i=af(),a={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:u="left",BackdropProps:s,children:f,className:m,elevation:x=16,hideBackdrop:w=!1,ModalProps:{BackdropProps:S}={},onClose:C,open:L=!1,PaperProps:k={},SlideProps:$,TransitionComponent:M=FQ,transitionDuration:z=a,variant:B="temporary"}=n,q=sn(n.ModalProps,BQ),te=sn(n,zQ),K=V.useRef(!1);V.useEffect(()=>{K.current=!0},[]);const ee=i1(i,u),ge=Xe({},n,{anchor:u,elevation:x,open:L,variant:B},te),Y=jQ(ge),Z=$e.jsx(VQ,Xe({elevation:B==="temporary"?x:0,square:!0},k,{className:Zr(Y.paper,k.className),ownerState:ge,children:f}));if(B==="permanent")return $e.jsx(VM,Xe({className:Zr(Y.root,Y.docked,m),ownerState:ge,ref:r},te,{children:Z}));const re=$e.jsx(M,Xe({in:L,direction:pz[ee],timeout:z,appear:K.current},$,{children:Z}));return B==="persistent"?$e.jsx(VM,Xe({className:Zr(Y.root,Y.docked,m),ownerState:ge,ref:r},te,{children:re})):$e.jsx(UQ,Xe({BackdropProps:Xe({},s,S,{transitionDuration:z}),className:Zr(Y.root,Y.modal,m),open:L,ownerState:ge,onClose:C,hideBackdrop:w,ref:r},te,q,{children:re}))}),qQ=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],HQ=e=>{const{classes:t,disableUnderline:r}=e,i=Qn({root:["root",!r&&"underline"],input:["input"]},xJ,t);return Xe({},t,i)},WQ=xr(A5,{shouldForwardProp:e=>cl(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...C5(e,t),!r.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{var r;const n=e.palette.mode==="light",i=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",a=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",u=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return Xe({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:u,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a}},[`&.${Bp.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a},[`&.${Bp.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:s}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(r=(e.vars||e).palette[t.color||"primary"])==null?void 0:r.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Bp.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Bp.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Bp.disabled}, .${Bp.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Bp.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&Xe({padding:"25px 12px 8px"},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9}))}),GQ=xr(T5,{name:"MuiFilledInput",slot:"Input",overridesResolver:E5})(({theme:e,ownerState:t})=>Xe({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),tP=V.forwardRef(function(t,r){var n,i,a,u;const s=di({props:t,name:"MuiFilledInput"}),{components:f={},componentsProps:m,fullWidth:x=!1,inputComponent:w="input",multiline:S=!1,slotProps:C,slots:L={},type:k="text"}=s,$=sn(s,qQ),M=Xe({},s,{fullWidth:x,inputComponent:w,multiline:S,type:k}),z=HQ(s),B={root:{ownerState:M},input:{ownerState:M}},q=C??m?$a(B,C??m):B,te=(n=(i=L.root)!=null?i:f.Root)!=null?n:WQ,K=(a=(u=L.input)!=null?u:f.Input)!=null?a:GQ;return $e.jsx(QT,Xe({slots:{root:te,input:K},componentsProps:q,fullWidth:x,inputComponent:w,multiline:S,ref:r,type:k},$,{classes:z}))});tP.muiName="Input";function KQ(e){return Gn("MuiFormControl",e)}Un("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const XQ=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],ZQ=e=>{const{classes:t,margin:r,fullWidth:n}=e,i={root:["root",r!=="none"&&`margin${Vr(r)}`,n&&"fullWidth"]};return Qn(i,KQ,t)},YQ=xr("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>Xe({},t.root,t[`margin${Vr(e.margin)}`],e.fullWidth&&t.fullWidth)})(({ownerState:e})=>Xe({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},e.margin==="normal"&&{marginTop:16,marginBottom:8},e.margin==="dense"&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),JQ=V.forwardRef(function(t,r){const n=di({props:t,name:"MuiFormControl"}),{children:i,className:a,color:u="primary",component:s="div",disabled:f=!1,error:m=!1,focused:x,fullWidth:w=!1,hiddenLabel:S=!1,margin:C="none",required:L=!1,size:k="medium",variant:$="outlined"}=n,M=sn(n,XQ),z=Xe({},n,{color:u,component:s,disabled:f,error:m,fullWidth:w,hiddenLabel:S,margin:C,required:L,size:k,variant:$}),B=ZQ(z),[q,te]=V.useState(()=>{let ye=!1;return i&&V.Children.forEach(i,fe=>{if(!A1(fe,["Input","Select"]))return;const Ae=A1(fe,["Select"])?fe.props.input:fe;Ae&&fJ(Ae.props)&&(ye=!0)}),ye}),[K,ee]=V.useState(()=>{let ye=!1;return i&&V.Children.forEach(i,fe=>{A1(fe,["Input","Select"])&&(N_(fe.props,!0)||N_(fe.props.inputProps,!0))&&(ye=!0)}),ye}),[Q,ge]=V.useState(!1);f&&Q&&ge(!1);const Y=x!==void 0&&!f?x:Q;let Z;const re=V.useMemo(()=>({adornedStart:q,setAdornedStart:te,color:u,disabled:f,error:m,filled:K,focused:Y,fullWidth:w,hiddenLabel:S,size:k,onBlur:()=>{ge(!1)},onEmpty:()=>{ee(!1)},onFilled:()=>{ee(!0)},onFocus:()=>{ge(!0)},registerEffect:Z,required:L,variant:$}),[q,u,f,m,K,Y,w,S,Z,L,k,$]);return $e.jsx(JT.Provider,{value:re,children:$e.jsx(YQ,Xe({as:s,ownerState:z,className:Zr(B.root,a),ref:r},M,{children:i}))})});function QQ(e){return Gn("MuiFormHelperText",e)}const qM=Un("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var HM;const eee=["children","className","component","disabled","error","filled","focused","margin","required","variant"],tee=e=>{const{classes:t,contained:r,size:n,disabled:i,error:a,filled:u,focused:s,required:f}=e,m={root:["root",i&&"disabled",a&&"error",n&&`size${Vr(n)}`,r&&"contained",s&&"focused",u&&"filled",f&&"required"]};return Qn(m,QQ,t)},ree=xr("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.size&&t[`size${Vr(r.size)}`],r.contained&&t.contained,r.filled&&t.filled]}})(({theme:e,ownerState:t})=>Xe({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${qM.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${qM.error}`]:{color:(e.vars||e).palette.error.main}},t.size==="small"&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),nee=V.forwardRef(function(t,r){const n=di({props:t,name:"MuiFormHelperText"}),{children:i,className:a,component:u="p"}=n,s=sn(n,eee),f=$m(),m=Ly({props:n,muiFormControl:f,states:["variant","size","disabled","error","filled","focused","required"]}),x=Xe({},n,{component:u,contained:m.variant==="filled"||m.variant==="outlined",variant:m.variant,size:m.size,disabled:m.disabled,error:m.error,filled:m.filled,focused:m.focused,required:m.required}),w=tee(x);return $e.jsx(ree,Xe({as:u,ownerState:x,className:Zr(w.root,a),ref:r},s,{children:i===" "?HM||(HM=$e.jsx("span",{className:"notranslate",children:"​"})):i}))});function iee(e){return Gn("MuiFormLabel",e)}const L1=Un("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),oee=["children","className","color","component","disabled","error","filled","focused","required"],aee=e=>{const{classes:t,color:r,focused:n,disabled:i,error:a,filled:u,required:s}=e,f={root:["root",`color${Vr(r)}`,i&&"disabled",a&&"error",u&&"filled",n&&"focused",s&&"required"],asterisk:["asterisk",a&&"error"]};return Qn(f,iee,t)},see=xr("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>Xe({},t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled)})(({theme:e,ownerState:t})=>Xe({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${L1.focused}`]:{color:(e.vars||e).palette[t.color].main},[`&.${L1.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${L1.error}`]:{color:(e.vars||e).palette.error.main}})),lee=xr("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${L1.error}`]:{color:(e.vars||e).palette.error.main}})),uee=V.forwardRef(function(t,r){const n=di({props:t,name:"MuiFormLabel"}),{children:i,className:a,component:u="label"}=n,s=sn(n,oee),f=$m(),m=Ly({props:n,muiFormControl:f,states:["color","required","focused","disabled","error","filled"]}),x=Xe({},n,{color:m.color||"primary",component:u,disabled:m.disabled,error:m.error,filled:m.filled,focused:m.focused,required:m.required}),w=aee(x);return $e.jsxs(see,Xe({as:u,ownerState:x,className:Zr(w.root,a),ref:r},s,{children:[i,m.required&&$e.jsxs(lee,{ownerState:x,"aria-hidden":!0,className:w.asterisk,children:[" ","*"]})]}))}),WM=V.createContext();function cee(e){return Gn("MuiGrid",e)}const dee=[0,1,2,3,4,5,6,7,8,9,10],hee=["column-reverse","column","row-reverse","row"],fee=["nowrap","wrap-reverse","wrap"],kv=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],cb=Un("MuiGrid",["root","container","item","zeroMinWidth",...dee.map(e=>`spacing-xs-${e}`),...hee.map(e=>`direction-xs-${e}`),...fee.map(e=>`wrap-xs-${e}`),...kv.map(e=>`grid-xs-${e}`),...kv.map(e=>`grid-sm-${e}`),...kv.map(e=>`grid-md-${e}`),...kv.map(e=>`grid-lg-${e}`),...kv.map(e=>`grid-xl-${e}`)]),pee=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function D0(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function mee({theme:e,ownerState:t}){let r;return e.breakpoints.keys.reduce((n,i)=>{let a={};if(t[i]&&(r=t[i]),!r)return n;if(r===!0)a={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(r==="auto")a={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const u=Qw({values:t.columns,breakpoints:e.breakpoints.values}),s=typeof u=="object"?u[i]:u;if(s==null)return n;const f=`${Math.round(r/s*1e8)/1e6}%`;let m={};if(t.container&&t.item&&t.columnSpacing!==0){const x=e.spacing(t.columnSpacing);if(x!=="0px"){const w=`calc(${f} + ${D0(x)})`;m={flexBasis:w,maxWidth:w}}}a=Xe({flexBasis:f,flexGrow:0,maxWidth:f},m)}return e.breakpoints.values[i]===0?Object.assign(n,a):n[e.breakpoints.up(i)]=a,n},{})}function gee({theme:e,ownerState:t}){const r=Qw({values:t.direction,breakpoints:e.breakpoints.values});return Cc({theme:e},r,n=>{const i={flexDirection:n};return n.indexOf("column")===0&&(i[`& > .${cb.item}`]={maxWidth:"none"}),i})}function gz({breakpoints:e,values:t}){let r="";Object.keys(t).forEach(i=>{r===""&&t[i]!==0&&(r=i)});const n=Object.keys(e).sort((i,a)=>e[i]-e[a]);return n.slice(0,n.indexOf(r))}function yee({theme:e,ownerState:t}){const{container:r,rowSpacing:n}=t;let i={};if(r&&n!==0){const a=Qw({values:n,breakpoints:e.breakpoints.values});let u;typeof a=="object"&&(u=gz({breakpoints:e.breakpoints.values,values:a})),i=Cc({theme:e},a,(s,f)=>{var m;const x=e.spacing(s);return x!=="0px"?{marginTop:`-${D0(x)}`,[`& > .${cb.item}`]:{paddingTop:D0(x)}}:(m=u)!=null&&m.includes(f)?{}:{marginTop:0,[`& > .${cb.item}`]:{paddingTop:0}}})}return i}function vee({theme:e,ownerState:t}){const{container:r,columnSpacing:n}=t;let i={};if(r&&n!==0){const a=Qw({values:n,breakpoints:e.breakpoints.values});let u;typeof a=="object"&&(u=gz({breakpoints:e.breakpoints.values,values:a})),i=Cc({theme:e},a,(s,f)=>{var m;const x=e.spacing(s);return x!=="0px"?{width:`calc(100% + ${D0(x)})`,marginLeft:`-${D0(x)}`,[`& > .${cb.item}`]:{paddingLeft:D0(x)}}:(m=u)!=null&&m.includes(f)?{}:{width:"100%",marginLeft:0,[`& > .${cb.item}`]:{paddingLeft:0}}})}return i}function bee(e,t,r={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[r[`spacing-xs-${String(e)}`]];const n=[];return t.forEach(i=>{const a=e[i];Number(a)>0&&n.push(r[`spacing-${i}-${String(a)}`])}),n}const xee=xr("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{container:n,direction:i,item:a,spacing:u,wrap:s,zeroMinWidth:f,breakpoints:m}=r;let x=[];n&&(x=bee(u,m,t));const w=[];return m.forEach(S=>{const C=r[S];C&&w.push(t[`grid-${S}-${String(C)}`])}),[t.root,n&&t.container,a&&t.item,f&&t.zeroMinWidth,...x,i!=="row"&&t[`direction-xs-${String(i)}`],s!=="wrap"&&t[`wrap-xs-${String(s)}`],...w]}})(({ownerState:e})=>Xe({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),gee,yee,vee,mee);function _ee(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const r=[];return t.forEach(n=>{const i=e[n];if(Number(i)>0){const a=`spacing-${n}-${String(i)}`;r.push(a)}}),r}const wee=e=>{const{classes:t,container:r,direction:n,item:i,spacing:a,wrap:u,zeroMinWidth:s,breakpoints:f}=e;let m=[];r&&(m=_ee(a,f));const x=[];f.forEach(S=>{const C=e[S];C&&x.push(`grid-${S}-${String(C)}`)});const w={root:["root",r&&"container",i&&"item",s&&"zeroMinWidth",...m,n!=="row"&&`direction-xs-${String(n)}`,u!=="wrap"&&`wrap-xs-${String(u)}`,...x]};return Qn(w,cee,t)},GM=V.forwardRef(function(t,r){const n=di({props:t,name:"MuiGrid"}),{breakpoints:i}=af(),a=HT(n),{className:u,columns:s,columnSpacing:f,component:m="div",container:x=!1,direction:w="row",item:S=!1,rowSpacing:C,spacing:L=0,wrap:k="wrap",zeroMinWidth:$=!1}=a,M=sn(a,pee),z=C||L,B=f||L,q=V.useContext(WM),te=x?s||12:q,K={},ee=Xe({},M);i.keys.forEach(Y=>{M[Y]!=null&&(K[Y]=M[Y],delete ee[Y])});const Q=Xe({},a,{columns:te,container:x,direction:w,item:S,rowSpacing:z,columnSpacing:B,wrap:k,zeroMinWidth:$,spacing:L},K,{breakpoints:i.keys}),ge=wee(Q);return $e.jsx(WM.Provider,{value:te,children:$e.jsx(xee,Xe({ownerState:Q,className:Zr(ge.root,u),as:m,ref:r},ee))})}),See=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function tA(e){return`scale(${e}, ${e**2})`}const Cee={entering:{opacity:1,transform:tA(1)},entered:{opacity:1,transform:"none"}},n3=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),yz=V.forwardRef(function(t,r){const{addEndListener:n,appear:i=!0,children:a,easing:u,in:s,onEnter:f,onEntered:m,onEntering:x,onExit:w,onExited:S,onExiting:C,style:L,timeout:k="auto",TransitionComponent:$=Gu}=t,M=sn(t,See),z=qB(),B=V.useRef(),q=af(),te=V.useRef(null),K=Ba(te,a.ref,r),ee=Ae=>ke=>{if(Ae){const Oe=te.current;ke===void 0?Ae(Oe):Ae(Oe,ke)}},Q=ee(x),ge=ee((Ae,ke)=>{YT(Ae);const{duration:Oe,delay:_e,easing:Ne}=km({style:L,timeout:k,easing:u},{mode:"enter"});let Ke;k==="auto"?(Ke=q.transitions.getAutoHeightDuration(Ae.clientHeight),B.current=Ke):Ke=Oe,Ae.style.transition=[q.transitions.create("opacity",{duration:Ke,delay:_e}),q.transitions.create("transform",{duration:n3?Ke:Ke*.666,delay:_e,easing:Ne})].join(","),f&&f(Ae,ke)}),Y=ee(m),Z=ee(C),re=ee(Ae=>{const{duration:ke,delay:Oe,easing:_e}=km({style:L,timeout:k,easing:u},{mode:"exit"});let Ne;k==="auto"?(Ne=q.transitions.getAutoHeightDuration(Ae.clientHeight),B.current=Ne):Ne=ke,Ae.style.transition=[q.transitions.create("opacity",{duration:Ne,delay:Oe}),q.transitions.create("transform",{duration:n3?Ne:Ne*.666,delay:n3?Oe:Oe||Ne*.333,easing:_e})].join(","),Ae.style.opacity=0,Ae.style.transform=tA(.75),w&&w(Ae)}),ye=ee(S),fe=Ae=>{k==="auto"&&z.start(B.current||0,Ae),n&&n(te.current,Ae)};return $e.jsx($,Xe({appear:i,in:s,nodeRef:te,onEnter:ge,onEntered:Y,onEntering:Q,onExit:re,onExited:ye,onExiting:Z,addEndListener:fe,timeout:k==="auto"?null:k},M,{children:(Ae,ke)=>V.cloneElement(a,Xe({style:Xe({opacity:0,transform:tA(.75),visibility:Ae==="exited"&&!s?"hidden":void 0},Cee[Ae],L,a.props.style),ref:K},ke))}))});yz.muiSupportAuto=!0;function Eee(e,t,r,n,i){const[a,u]=V.useState(()=>i&&r?r(e).matches:n?n(e).matches:t);return Uu(()=>{let s=!0;if(!r)return;const f=r(e),m=()=>{s&&u(f.matches)};return m(),f.addListener(m),()=>{s=!1,f.removeListener(m)}},[e,r]),a}const vz=V.useSyncExternalStore;function Aee(e,t,r,n,i){const a=V.useCallback(()=>t,[t]),u=V.useMemo(()=>{if(i&&r)return()=>r(e).matches;if(n!==null){const{matches:x}=n(e);return()=>x}return a},[a,e,n,i,r]),[s,f]=V.useMemo(()=>{if(r===null)return[a,()=>()=>{}];const x=r(e);return[()=>x.matches,w=>(x.addListener(w),()=>{x.removeListener(w)})]},[a,r,e]);return vz(f,s,u)}function Tee(e,t={}){const r=qT(),n=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:i=!1,matchMedia:a=n?window.matchMedia:null,ssrMatchMedia:u=null,noSsr:s=!1}=YB({name:"MuiUseMediaQuery",props:t,theme:r});let f=typeof e=="function"?e(r):e;return f=f.replace(/^@media( ?)/m,""),(vz!==void 0?Aee:Eee)(f,i,a,u,s)}const Pee=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],kee=e=>{const{classes:t,disableUnderline:r}=e,i=Qn({root:["root",!r&&"underline"],input:["input"]},vJ,t);return Xe({},t,i)},Iee=xr(A5,{shouldForwardProp:e=>cl(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...C5(e,t),!r.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{let n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(n=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),Xe({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Pv.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Pv.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Pv.disabled}, .${Pv.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Pv.disabled}:before`]:{borderBottomStyle:"dotted"}})}),Lee=xr(T5,{name:"MuiInput",slot:"Input",overridesResolver:E5})({}),rP=V.forwardRef(function(t,r){var n,i,a,u;const s=di({props:t,name:"MuiInput"}),{disableUnderline:f,components:m={},componentsProps:x,fullWidth:w=!1,inputComponent:S="input",multiline:C=!1,slotProps:L,slots:k={},type:$="text"}=s,M=sn(s,Pee),z=kee(s),q={root:{ownerState:{disableUnderline:f}}},te=L??x?$a(L??x,q):q,K=(n=(i=k.root)!=null?i:m.Root)!=null?n:Iee,ee=(a=(u=k.input)!=null?u:m.Input)!=null?a:Lee;return $e.jsx(QT,Xe({slots:{root:K,input:ee},slotProps:te,fullWidth:w,inputComponent:S,multiline:C,ref:r,type:$},M,{classes:z}))});rP.muiName="Input";function Mee(e){return Gn("MuiInputLabel",e)}Un("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Ree=["disableAnimation","margin","shrink","variant","className"],Dee=e=>{const{classes:t,formControl:r,size:n,shrink:i,disableAnimation:a,variant:u,required:s}=e,f={root:["root",r&&"formControl",!a&&"animated",i&&"shrink",n&&n!=="normal"&&`size${Vr(n)}`,u],asterisk:[s&&"asterisk"]},m=Qn(f,Mee,t);return Xe({},t,m)},Oee=xr(uee,{shouldForwardProp:e=>cl(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${L1.asterisk}`]:t.asterisk},t.root,r.formControl&&t.formControl,r.size==="small"&&t.sizeSmall,r.shrink&&t.shrink,!r.disableAnimation&&t.animated,r.focused&&t.focused,t[r.variant]]}})(({theme:e,ownerState:t})=>Xe({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},t.size==="small"&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},t.variant==="filled"&&Xe({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&Xe({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},t.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),t.variant==="outlined"&&Xe({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),Nee=V.forwardRef(function(t,r){const n=di({name:"MuiInputLabel",props:t}),{disableAnimation:i=!1,shrink:a,className:u}=n,s=sn(n,Ree),f=$m();let m=a;typeof m>"u"&&f&&(m=f.filled||f.focused||f.adornedStart);const x=Ly({props:n,muiFormControl:f,states:["size","variant","required","focused"]}),w=Xe({},n,{disableAnimation:i,formControl:f,shrink:m,size:x.size,variant:x.variant,required:x.required,focused:x.focused}),S=Dee(w);return $e.jsx(Oee,Xe({"data-shrink":m,ownerState:w,ref:r,className:Zr(S.root,u)},s,{classes:S}))}),pm=V.createContext({});function Fee(e){return Gn("MuiList",e)}Un("MuiList",["root","padding","dense","subheader"]);const $ee=["children","className","component","dense","disablePadding","subheader"],Bee=e=>{const{classes:t,disablePadding:r,dense:n,subheader:i}=e;return Qn({root:["root",!r&&"padding",n&&"dense",i&&"subheader"]},Fee,t)},zee=xr("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disablePadding&&t.padding,r.dense&&t.dense,r.subheader&&t.subheader]}})(({ownerState:e})=>Xe({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),nP=V.forwardRef(function(t,r){const n=di({props:t,name:"MuiList"}),{children:i,className:a,component:u="ul",dense:s=!1,disablePadding:f=!1,subheader:m}=n,x=sn(n,$ee),w=V.useMemo(()=>({dense:s}),[s]),S=Xe({},n,{component:u,dense:s,disablePadding:f}),C=Bee(S);return $e.jsx(pm.Provider,{value:w,children:$e.jsxs(zee,Xe({as:u,className:Zr(C.root,a),ref:r,ownerState:S},x,{children:[m,i]}))})});function jee(e){return Gn("MuiListItem",e)}const Ug=Un("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),Uee=Un("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function Vee(e){return Gn("MuiListItemSecondaryAction",e)}Un("MuiListItemSecondaryAction",["root","disableGutters"]);const qee=["className"],Hee=e=>{const{disableGutters:t,classes:r}=e;return Qn({root:["root",t&&"disableGutters"]},Vee,r)},Wee=xr("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.disableGutters&&t.disableGutters]}})(({ownerState:e})=>Xe({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0})),bz=V.forwardRef(function(t,r){const n=di({props:t,name:"MuiListItemSecondaryAction"}),{className:i}=n,a=sn(n,qee),u=V.useContext(pm),s=Xe({},n,{disableGutters:u.disableGutters}),f=Hee(s);return $e.jsx(Wee,Xe({className:Zr(f.root,i),ownerState:s,ref:r},a))});bz.muiName="ListItemSecondaryAction";const Gee=["className"],Kee=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],Xee=(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.alignItems==="flex-start"&&t.alignItemsFlexStart,r.divider&&t.divider,!r.disableGutters&&t.gutters,!r.disablePadding&&t.padding,r.button&&t.button,r.hasSecondaryAction&&t.secondaryAction]},Zee=e=>{const{alignItems:t,button:r,classes:n,dense:i,disabled:a,disableGutters:u,disablePadding:s,divider:f,hasSecondaryAction:m,selected:x}=e;return Qn({root:["root",i&&"dense",!u&&"gutters",!s&&"padding",f&&"divider",a&&"disabled",r&&"button",t==="flex-start"&&"alignItemsFlexStart",m&&"secondaryAction",x&&"selected"],container:["container"]},jee,n)},Yee=xr("div",{name:"MuiListItem",slot:"Root",overridesResolver:Xee})(({theme:e,ownerState:t})=>Xe({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&Xe({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${Uee.root}`]:{paddingRight:48}},{[`&.${Ug.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Ug.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:El(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Ug.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:El(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Ug.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.alignItems==="flex-start"&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ug.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:El(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:El(e.palette.primary.main,e.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48})),Jee=xr("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),iP=V.forwardRef(function(t,r){const n=di({props:t,name:"MuiListItem"}),{alignItems:i="center",autoFocus:a=!1,button:u=!1,children:s,className:f,component:m,components:x={},componentsProps:w={},ContainerComponent:S="li",ContainerProps:{className:C}={},dense:L=!1,disabled:k=!1,disableGutters:$=!1,disablePadding:M=!1,divider:z=!1,focusVisibleClassName:B,secondaryAction:q,selected:te=!1,slotProps:K={},slots:ee={}}=n,Q=sn(n.ContainerProps,Gee),ge=sn(n,Kee),Y=V.useContext(pm),Z=V.useMemo(()=>({dense:L||Y.dense||!1,alignItems:i,disableGutters:$}),[i,Y.dense,L,$]),re=V.useRef(null);Uu(()=>{a&&re.current&&re.current.focus()},[a]);const ye=V.Children.toArray(s),fe=ye.length&&A1(ye[ye.length-1],["ListItemSecondaryAction"]),Ae=Xe({},n,{alignItems:i,autoFocus:a,button:u,dense:Z.dense,disabled:k,disableGutters:$,disablePadding:M,divider:z,hasSecondaryAction:fe,selected:te}),ke=Zee(Ae),Oe=Ba(re,r),_e=ee.root||x.Root||Yee,Ne=K.root||w.root||{},Ke=Xe({className:Zr(ke.root,Ne.className,f),disabled:k},ge);let pt=m||"li";return u&&(Ke.component=m||"div",Ke.focusVisibleClassName=Zr(Ug.focusVisible,B),pt=S5),fe?(pt=!Ke.component&&!m?"div":pt,S==="li"&&(pt==="li"?pt="div":Ke.component==="li"&&(Ke.component="div")),$e.jsx(pm.Provider,{value:Z,children:$e.jsxs(Jee,Xe({as:S,className:Zr(ke.container,C),ref:Oe,ownerState:Ae},Q,{children:[$e.jsx(_e,Xe({},Ne,!eh(_e)&&{as:pt,ownerState:Xe({},Ae,Ne.ownerState)},Ke,{children:ye})),ye.pop()]}))})):$e.jsx(pm.Provider,{value:Z,children:$e.jsxs(_e,Xe({},Ne,{as:pt,ref:Oe},!eh(_e)&&{ownerState:Xe({},Ae,Ne.ownerState)},Ke,{children:[ye,q&&$e.jsx(bz,{children:q})]}))})});function Qee(e){return Gn("MuiListItemIcon",e)}Un("MuiListItemIcon",["root","alignItemsFlexStart"]);const ete=["className"],tte=e=>{const{alignItems:t,classes:r}=e;return Qn({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},Qee,r)},rte=xr("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(({theme:e,ownerState:t})=>Xe({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex"},t.alignItems==="flex-start"&&{marginTop:8})),xz=V.forwardRef(function(t,r){const n=di({props:t,name:"MuiListItemIcon"}),{className:i}=n,a=sn(n,ete),u=V.useContext(pm),s=Xe({},n,{alignItems:u.alignItems}),f=tte(s);return $e.jsx(rte,Xe({className:Zr(f.root,i),ownerState:s,ref:r},a))});function nte(e){return Gn("MuiListItemText",e)}const KM=Un("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),ite=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],ote=e=>{const{classes:t,inset:r,primary:n,secondary:i,dense:a}=e;return Qn({root:["root",r&&"inset",a&&"dense",n&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},nte,t)},ate=xr("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${KM.primary}`]:t.primary},{[`& .${KM.secondary}`]:t.secondary},t.root,r.inset&&t.inset,r.primary&&r.secondary&&t.multiline,r.dense&&t.dense]}})(({ownerState:e})=>Xe({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),oP=V.forwardRef(function(t,r){const n=di({props:t,name:"MuiListItemText"}),{children:i,className:a,disableTypography:u=!1,inset:s=!1,primary:f,primaryTypographyProps:m,secondary:x,secondaryTypographyProps:w}=n,S=sn(n,ite),{dense:C}=V.useContext(pm);let L=f??i,k=x;const $=Xe({},n,{disableTypography:u,inset:s,primary:!!L,secondary:!!k,dense:C}),M=ote($);return L!=null&&L.type!==zh&&!u&&(L=$e.jsx(zh,Xe({variant:C?"body2":"body1",className:M.primary,component:m!=null&&m.variant?void 0:"span",display:"block"},m,{children:L}))),k!=null&&k.type!==zh&&!u&&(k=$e.jsx(zh,Xe({variant:"body2",className:M.secondary,color:"text.secondary",display:"block"},w,{children:k}))),$e.jsxs(ate,Xe({className:Zr(M.root,a),ownerState:$,ref:r},S,{children:[L,k]}))}),ste=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function i3(e,t,r){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:r?null:e.firstChild}function XM(e,t,r){return e===t?r?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:r?null:e.lastChild}function _z(e,t){if(t===void 0)return!0;let r=e.innerText;return r===void 0&&(r=e.textContent),r=r.trim().toLowerCase(),r.length===0?!1:t.repeating?r[0]===t.keys[0]:r.indexOf(t.keys.join(""))===0}function Iv(e,t,r,n,i,a){let u=!1,s=i(e,t,t?r:!1);for(;s;){if(s===e.firstChild){if(u)return!1;u=!0}const f=n?!1:s.disabled||s.getAttribute("aria-disabled")==="true";if(!s.hasAttribute("tabindex")||!_z(s,a)||f)s=i(e,s,r);else return s.focus(),!0}return!1}const lte=V.forwardRef(function(t,r){const{actions:n,autoFocus:i=!1,autoFocusItem:a=!1,children:u,className:s,disabledItemsFocusable:f=!1,disableListWrap:m=!1,onKeyDown:x,variant:w="selectedMenu"}=t,S=sn(t,ste),C=V.useRef(null),L=V.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Uu(()=>{i&&C.current.focus()},[i]),V.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(B,q)=>{const te=!C.current.style.width;if(B.clientHeight<C.current.clientHeight&&te){const K=`${HB(ca(B))}px`;C.current.style[q.direction==="rtl"?"paddingLeft":"paddingRight"]=K,C.current.style.width=`calc(100% + ${K})`}return C.current}}),[]);const k=B=>{const q=C.current,te=B.key,K=ca(q).activeElement;if(te==="ArrowDown")B.preventDefault(),Iv(q,K,m,f,i3);else if(te==="ArrowUp")B.preventDefault(),Iv(q,K,m,f,XM);else if(te==="Home")B.preventDefault(),Iv(q,null,m,f,i3);else if(te==="End")B.preventDefault(),Iv(q,null,m,f,XM);else if(te.length===1){const ee=L.current,Q=te.toLowerCase(),ge=performance.now();ee.keys.length>0&&(ge-ee.lastTime>500?(ee.keys=[],ee.repeating=!0,ee.previousKeyMatched=!0):ee.repeating&&Q!==ee.keys[0]&&(ee.repeating=!1)),ee.lastTime=ge,ee.keys.push(Q);const Y=K&&!ee.repeating&&_z(K,ee);ee.previousKeyMatched&&(Y||Iv(q,K,!1,f,i3,ee))?B.preventDefault():ee.previousKeyMatched=!1}x&&x(B)},$=Ba(C,r);let M=-1;V.Children.forEach(u,(B,q)=>{if(!V.isValidElement(B)){M===q&&(M+=1,M>=u.length&&(M=-1));return}B.props.disabled||(w==="selectedMenu"&&B.props.selected||M===-1)&&(M=q),M===q&&(B.props.disabled||B.props.muiSkipListHighlight||B.type.muiSkipListHighlight)&&(M+=1,M>=u.length&&(M=-1))});const z=V.Children.map(u,(B,q)=>{if(q===M){const te={};return a&&(te.autoFocus=!0),B.props.tabIndex===void 0&&w==="selectedMenu"&&(te.tabIndex=0),V.cloneElement(B,te)}return B});return $e.jsx(nP,Xe({role:"menu",ref:$,className:s,onKeyDown:k,tabIndex:i?0:-1},S,{children:z}))});function ute(e){return Gn("MuiPopover",e)}Un("MuiPopover",["root","paper"]);const cte=["onEntering"],dte=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],hte=["slotProps"];function ZM(e,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=e.height/2:t==="bottom"&&(r=e.height),r}function YM(e,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=e.width/2:t==="right"&&(r=e.width),r}function JM(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function o3(e){return typeof e=="function"?e():e}const fte=e=>{const{classes:t}=e;return Qn({root:["root"],paper:["paper"]},ute,t)},pte=xr(eP,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),wz=xr(Im,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),mte=V.forwardRef(function(t,r){var n,i,a;const u=di({props:t,name:"MuiPopover"}),{action:s,anchorEl:f,anchorOrigin:m={vertical:"top",horizontal:"left"},anchorPosition:x,anchorReference:w="anchorEl",children:S,className:C,container:L,elevation:k=8,marginThreshold:$=16,open:M,PaperProps:z={},slots:B,slotProps:q,transformOrigin:te={vertical:"top",horizontal:"left"},TransitionComponent:K=yz,transitionDuration:ee="auto",TransitionProps:{onEntering:Q}={},disableScrollLock:ge=!1}=u,Y=sn(u.TransitionProps,cte),Z=sn(u,dte),re=(n=q==null?void 0:q.paper)!=null?n:z,ye=V.useRef(),fe=Ba(ye,re.ref),Ae=Xe({},u,{anchorOrigin:m,anchorReference:w,elevation:k,marginThreshold:$,externalPaperSlotProps:re,transformOrigin:te,TransitionComponent:K,transitionDuration:ee,TransitionProps:Y}),ke=fte(Ae),Oe=V.useCallback(()=>{if(w==="anchorPosition")return x;const Ct=o3(f),lt=(Ct&&Ct.nodeType===1?Ct:ca(ye.current).body).getBoundingClientRect();return{top:lt.top+ZM(lt,m.vertical),left:lt.left+YM(lt,m.horizontal)}},[f,m.horizontal,m.vertical,x,w]),_e=V.useCallback(Ct=>({vertical:ZM(Ct,te.vertical),horizontal:YM(Ct,te.horizontal)}),[te.horizontal,te.vertical]),Ne=V.useCallback(Ct=>{const Et={width:Ct.offsetWidth,height:Ct.offsetHeight},lt=_e(Et);if(w==="none")return{top:null,left:null,transformOrigin:JM(lt)};const ce=Oe();let ur=ce.top-lt.vertical,qt=ce.left-lt.horizontal;const wt=ur+Et.height,Mt=qt+Et.width,It=ou(o3(f)),Gt=It.innerHeight-$,Lt=It.innerWidth-$;if($!==null&&ur<$){const Jt=ur-$;ur-=Jt,lt.vertical+=Jt}else if($!==null&&wt>Gt){const Jt=wt-Gt;ur-=Jt,lt.vertical+=Jt}if($!==null&&qt<$){const Jt=qt-$;qt-=Jt,lt.horizontal+=Jt}else if(Mt>Lt){const Jt=Mt-Lt;qt-=Jt,lt.horizontal+=Jt}return{top:`${Math.round(ur)}px`,left:`${Math.round(qt)}px`,transformOrigin:JM(lt)}},[f,w,Oe,_e,$]),[Ke,pt]=V.useState(M),ae=V.useCallback(()=>{const Ct=ye.current;if(!Ct)return;const Et=Ne(Ct);Et.top!==null&&(Ct.style.top=Et.top),Et.left!==null&&(Ct.style.left=Et.left),Ct.style.transformOrigin=Et.transformOrigin,pt(!0)},[Ne]);V.useEffect(()=>(ge&&window.addEventListener("scroll",ae),()=>window.removeEventListener("scroll",ae)),[f,ge,ae]);const me=(Ct,Et)=>{Q&&Q(Ct,Et),ae()},we=()=>{pt(!1)};V.useEffect(()=>{M&&ae()}),V.useImperativeHandle(s,()=>M?{updatePosition:()=>{ae()}}:null,[M,ae]),V.useEffect(()=>{if(!M)return;const Ct=Kw(()=>{ae()}),Et=ou(f);return Et.addEventListener("resize",Ct),()=>{Ct.clear(),Et.removeEventListener("resize",Ct)}},[f,M,ae]);let Re=ee;ee==="auto"&&!K.muiSupportAuto&&(Re=void 0);const Fe=L||(f?ca(o3(f)).body:void 0),rt=(i=B==null?void 0:B.root)!=null?i:pte,Ve=(a=B==null?void 0:B.paper)!=null?a:wz,We=Zl({elementType:Ve,externalSlotProps:Xe({},re,{style:Ke?re.style:Xe({},re.style,{opacity:0})}),additionalProps:{elevation:k,ref:fe},ownerState:Ae,className:Zr(ke.paper,re==null?void 0:re.className)}),nt=Zl({elementType:rt,externalSlotProps:(q==null?void 0:q.root)||{},externalForwardedProps:Z,additionalProps:{ref:r,slotProps:{backdrop:{invisible:!0}},container:Fe,open:M},ownerState:Ae,className:Zr(ke.root,C)}),{slotProps:ut}=nt,bt=sn(nt,hte);return $e.jsx(rt,Xe({},bt,!eh(rt)&&{slotProps:ut,disableScrollLock:ge},{children:$e.jsx(K,Xe({appear:!0,in:M,onEntering:me,onExited:we,timeout:Re},Y,{children:$e.jsx(Ve,Xe({},We,{children:S}))}))}))});function gte(e){return Gn("MuiMenu",e)}Un("MuiMenu",["root","paper","list"]);const yte=["onEntering"],vte=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],bte={vertical:"top",horizontal:"right"},xte={vertical:"top",horizontal:"left"},_te=e=>{const{classes:t}=e;return Qn({root:["root"],paper:["paper"],list:["list"]},gte,t)},wte=xr(mte,{shouldForwardProp:e=>cl(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Ste=xr(wz,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Cte=xr(lte,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),Ete=V.forwardRef(function(t,r){var n,i;const a=di({props:t,name:"MuiMenu"}),{autoFocus:u=!0,children:s,className:f,disableAutoFocusItem:m=!1,MenuListProps:x={},onClose:w,open:S,PaperProps:C={},PopoverClasses:L,transitionDuration:k="auto",TransitionProps:{onEntering:$}={},variant:M="selectedMenu",slots:z={},slotProps:B={}}=a,q=sn(a.TransitionProps,yte),te=sn(a,vte),K=af(),ee=K.direction==="rtl",Q=Xe({},a,{autoFocus:u,disableAutoFocusItem:m,MenuListProps:x,onEntering:$,PaperProps:C,transitionDuration:k,TransitionProps:q,variant:M}),ge=_te(Q),Y=u&&!m&&S,Z=V.useRef(null),re=(Ne,Ke)=>{Z.current&&Z.current.adjustStyleForScrollbar(Ne,K),$&&$(Ne,Ke)},ye=Ne=>{Ne.key==="Tab"&&(Ne.preventDefault(),w&&w(Ne,"tabKeyDown"))};let fe=-1;V.Children.map(s,(Ne,Ke)=>{V.isValidElement(Ne)&&(Ne.props.disabled||(M==="selectedMenu"&&Ne.props.selected||fe===-1)&&(fe=Ke))});const Ae=(n=z.paper)!=null?n:Ste,ke=(i=B.paper)!=null?i:C,Oe=Zl({elementType:z.root,externalSlotProps:B.root,ownerState:Q,className:[ge.root,f]}),_e=Zl({elementType:Ae,externalSlotProps:ke,ownerState:Q,className:ge.paper});return $e.jsx(wte,Xe({onClose:w,anchorOrigin:{vertical:"bottom",horizontal:ee?"right":"left"},transformOrigin:ee?bte:xte,slots:{paper:Ae,root:z.root},slotProps:{root:Oe,paper:_e},open:S,ref:r,transitionDuration:k,TransitionProps:Xe({onEntering:re},q),ownerState:Q},te,{classes:L,children:$e.jsx(Cte,Xe({onKeyDown:ye,actions:Z,autoFocus:u&&(fe===-1||m),autoFocusItem:Y,variant:M},x,{className:Zr(ge.list,x.className),children:s}))}))});function Ate(e){return Gn("MuiNativeSelect",e)}const aP=Un("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Tte=["className","disabled","error","IconComponent","inputRef","variant"],Pte=e=>{const{classes:t,variant:r,disabled:n,multiple:i,open:a,error:u}=e,s={select:["select",r,n&&"disabled",i&&"multiple",u&&"error"],icon:["icon",`icon${Vr(r)}`,a&&"iconOpen",n&&"disabled"]};return Qn(s,Ate,t)},Sz=({ownerState:e,theme:t})=>Xe({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":Xe({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${aP.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},e.variant==="filled"&&{"&&&":{paddingRight:32}},e.variant==="outlined"&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),kte=xr("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:cl,overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.select,t[r.variant],r.error&&t.error,{[`&.${aP.multiple}`]:t.multiple}]}})(Sz),Cz=({ownerState:e,theme:t})=>Xe({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${aP.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},e.variant==="filled"&&{right:7},e.variant==="outlined"&&{right:7}),Ite=xr("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${Vr(r.variant)}`],r.open&&t.iconOpen]}})(Cz),Lte=V.forwardRef(function(t,r){const{className:n,disabled:i,error:a,IconComponent:u,inputRef:s,variant:f="standard"}=t,m=sn(t,Tte),x=Xe({},t,{disabled:i,variant:f,error:a}),w=Pte(x);return $e.jsxs(V.Fragment,{children:[$e.jsx(kte,Xe({ownerState:x,className:Zr(w.select,n),disabled:i,ref:s||r},m)),t.multiple?null:$e.jsx(Ite,{as:u,ownerState:x,className:w.icon})]})});var QM;const Mte=["children","classes","className","label","notched"],Rte=xr("fieldset",{shouldForwardProp:cl})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Dte=xr("legend",{shouldForwardProp:cl})(({ownerState:e,theme:t})=>Xe({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&Xe({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function Ote(e){const{className:t,label:r,notched:n}=e,i=sn(e,Mte),a=r!=null&&r!=="",u=Xe({},e,{notched:n,withLabel:a});return $e.jsx(Rte,Xe({"aria-hidden":!0,className:t,ownerState:u},i,{children:$e.jsx(Dte,{ownerState:u,children:a?$e.jsx("span",{children:r}):QM||(QM=$e.jsx("span",{className:"notranslate",children:"​"}))})}))}const Nte=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Fte=e=>{const{classes:t}=e,n=Qn({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},bJ,t);return Xe({},t,n)},$te=xr(A5,{shouldForwardProp:e=>cl(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:C5})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return Xe({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Tf.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Tf.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:r}},[`&.${Tf.focused} .${Tf.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${Tf.error} .${Tf.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${Tf.disabled} .${Tf.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&Xe({padding:"16.5px 14px"},t.size==="small"&&{padding:"8.5px 14px"}))}),Bte=xr(Ote,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),zte=xr(T5,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:E5})(({theme:e,ownerState:t})=>Xe({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),sP=V.forwardRef(function(t,r){var n,i,a,u,s;const f=di({props:t,name:"MuiOutlinedInput"}),{components:m={},fullWidth:x=!1,inputComponent:w="input",label:S,multiline:C=!1,notched:L,slots:k={},type:$="text"}=f,M=sn(f,Nte),z=Fte(f),B=$m(),q=Ly({props:f,muiFormControl:B,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),te=Xe({},f,{color:q.color||"primary",disabled:q.disabled,error:q.error,focused:q.focused,formControl:B,fullWidth:x,hiddenLabel:q.hiddenLabel,multiline:C,size:q.size,type:$}),K=(n=(i=k.root)!=null?i:m.Root)!=null?n:$te,ee=(a=(u=k.input)!=null?u:m.Input)!=null?a:zte;return $e.jsx(QT,Xe({slots:{root:K,input:ee},renderSuffix:Q=>$e.jsx(Bte,{ownerState:te,className:z.notchedOutline,label:S!=null&&S!==""&&q.required?s||(s=$e.jsxs(V.Fragment,{children:[S," ","*"]})):S,notched:typeof L<"u"?L:!!(Q.startAdornment||Q.filled||Q.focused)}),fullWidth:x,inputComponent:w,multiline:C,ref:r,type:$},M,{classes:Xe({},z,{notchedOutline:null})}))});sP.muiName="Input";function jte(e){return Gn("MuiSelect",e)}const Lv=Un("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var eR;const Ute=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Vte=xr("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`&.${Lv.select}`]:t.select},{[`&.${Lv.select}`]:t[r.variant]},{[`&.${Lv.error}`]:t.error},{[`&.${Lv.multiple}`]:t.multiple}]}})(Sz,{[`&.${Lv.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),qte=xr("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${Vr(r.variant)}`],r.open&&t.iconOpen]}})(Cz),Hte=xr("input",{shouldForwardProp:e=>GT(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function tR(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function Wte(e){return e==null||typeof e=="string"&&!e.trim()}const Gte=e=>{const{classes:t,variant:r,disabled:n,multiple:i,open:a,error:u}=e,s={select:["select",r,n&&"disabled",i&&"multiple",u&&"error"],icon:["icon",`icon${Vr(r)}`,a&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return Qn(s,jte,t)},Kte=V.forwardRef(function(t,r){var n;const{"aria-describedby":i,"aria-label":a,autoFocus:u,autoWidth:s,children:f,className:m,defaultOpen:x,defaultValue:w,disabled:S,displayEmpty:C,error:L=!1,IconComponent:k,inputRef:$,labelId:M,MenuProps:z={},multiple:B,name:q,onBlur:te,onChange:K,onClose:ee,onFocus:Q,onOpen:ge,open:Y,readOnly:Z,renderValue:re,SelectDisplayProps:ye={},tabIndex:fe,value:Ae,variant:ke="standard"}=t,Oe=sn(t,Ute),[_e,Ne]=sb({controlled:Ae,default:w,name:"Select"}),[Ke,pt]=sb({controlled:Y,default:x,name:"Select"}),ae=V.useRef(null),me=V.useRef(null),[we,Re]=V.useState(null),{current:Fe}=V.useRef(Y!=null),[rt,Ve]=V.useState(),We=Ba(r,$),nt=V.useCallback(ot=>{me.current=ot,ot&&Re(ot)},[]),ut=we==null?void 0:we.parentNode;V.useImperativeHandle(We,()=>({focus:()=>{me.current.focus()},node:ae.current,value:_e}),[_e]),V.useEffect(()=>{x&&Ke&&we&&!Fe&&(Ve(s?null:ut.clientWidth),me.current.focus())},[we,s]),V.useEffect(()=>{u&&me.current.focus()},[u]),V.useEffect(()=>{if(!M)return;const ot=ca(me.current).getElementById(M);if(ot){const kt=()=>{getSelection().isCollapsed&&me.current.focus()};return ot.addEventListener("click",kt),()=>{ot.removeEventListener("click",kt)}}},[M]);const bt=(ot,kt)=>{ot?ge&&ge(kt):ee&&ee(kt),Fe||(Ve(s?null:ut.clientWidth),pt(ot))},Ct=ot=>{ot.button===0&&(ot.preventDefault(),me.current.focus(),bt(!0,ot))},Et=ot=>{bt(!1,ot)},lt=V.Children.toArray(f),ce=ot=>{const kt=lt.find(Dt=>Dt.props.value===ot.target.value);kt!==void 0&&(Ne(kt.props.value),K&&K(ot,kt))},ur=ot=>kt=>{let Dt;if(kt.currentTarget.hasAttribute("tabindex")){if(B){Dt=Array.isArray(_e)?_e.slice():[];const cr=_e.indexOf(ot.props.value);cr===-1?Dt.push(ot.props.value):Dt.splice(cr,1)}else Dt=ot.props.value;if(ot.props.onClick&&ot.props.onClick(kt),_e!==Dt&&(Ne(Dt),K)){const cr=kt.nativeEvent||kt,Wr=new cr.constructor(cr.type,cr);Object.defineProperty(Wr,"target",{writable:!0,value:{value:Dt,name:q}}),K(Wr,ot)}B||bt(!1,kt)}},qt=ot=>{Z||[" ","ArrowUp","ArrowDown","Enter"].indexOf(ot.key)!==-1&&(ot.preventDefault(),bt(!0,ot))},wt=we!==null&&Ke,Mt=ot=>{!wt&&te&&(Object.defineProperty(ot,"target",{writable:!0,value:{value:_e,name:q}}),te(ot))};delete Oe["aria-invalid"];let It,Gt;const Lt=[];let Jt=!1;(N_({value:_e})||C)&&(re?It=re(_e):Jt=!0);const _r=lt.map(ot=>{if(!V.isValidElement(ot))return null;let kt;if(B){if(!Array.isArray(_e))throw new Error(ju(2));kt=_e.some(Dt=>tR(Dt,ot.props.value)),kt&&Jt&&Lt.push(ot.props.children)}else kt=tR(_e,ot.props.value),kt&&Jt&&(Gt=ot.props.children);return V.cloneElement(ot,{"aria-selected":kt?"true":"false",onClick:ur(ot),onKeyUp:Dt=>{Dt.key===" "&&Dt.preventDefault(),ot.props.onKeyUp&&ot.props.onKeyUp(Dt)},role:"option",selected:kt,value:void 0,"data-value":ot.props.value})});Jt&&(B?Lt.length===0?It=null:It=Lt.reduce((ot,kt,Dt)=>(ot.push(kt),Dt<Lt.length-1&&ot.push(", "),ot),[]):It=Gt);let Cr=rt;!s&&Fe&&we&&(Cr=ut.clientWidth);let Ir;typeof fe<"u"?Ir=fe:Ir=S?null:0;const Ze=ye.id||(q?`mui-component-select-${q}`:void 0),gt=Xe({},t,{variant:ke,value:_e,open:wt,error:L}),Ft=Gte(gt),At=Xe({},z.PaperProps,(n=z.slotProps)==null?void 0:n.paper),Ar=Xw();return $e.jsxs(V.Fragment,{children:[$e.jsx(Vte,Xe({ref:nt,tabIndex:Ir,role:"combobox","aria-controls":Ar,"aria-disabled":S?"true":void 0,"aria-expanded":wt?"true":"false","aria-haspopup":"listbox","aria-label":a,"aria-labelledby":[M,Ze].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:qt,onMouseDown:S||Z?null:Ct,onBlur:Mt,onFocus:Q},ye,{ownerState:gt,className:Zr(ye.className,Ft.select,m),id:Ze,children:Wte(It)?eR||(eR=$e.jsx("span",{className:"notranslate",children:"​"})):It})),$e.jsx(Hte,Xe({"aria-invalid":L,value:Array.isArray(_e)?_e.join(","):_e,name:q,ref:ae,"aria-hidden":!0,onChange:ce,tabIndex:-1,disabled:S,className:Ft.nativeInput,autoFocus:u,ownerState:gt},Oe)),$e.jsx(qte,{as:k,className:Ft.icon,ownerState:gt}),$e.jsx(Ete,Xe({id:`menu-${q||""}`,anchorEl:ut,open:wt,onClose:Et,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},z,{MenuListProps:Xe({"aria-labelledby":M,role:"listbox","aria-multiselectable":B?"true":void 0,disableListWrap:!0,id:Ar},z.MenuListProps),slotProps:Xe({},z.slotProps,{paper:Xe({},At,{style:Xe({minWidth:Cr},At!=null?At.style:null)})}),children:_r}))]})}),Xte=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Zte=["root"],Yte=e=>{const{classes:t}=e;return t},lP={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>cl(e)&&e!=="variant",slot:"Root"},Jte=xr(rP,lP)(""),Qte=xr(sP,lP)(""),ere=xr(tP,lP)(""),Ez=V.forwardRef(function(t,r){const n=di({name:"MuiSelect",props:t}),{autoWidth:i=!1,children:a,classes:u={},className:s,defaultOpen:f=!1,displayEmpty:m=!1,IconComponent:x=_J,id:w,input:S,inputProps:C,label:L,labelId:k,MenuProps:$,multiple:M=!1,native:z=!1,onClose:B,onOpen:q,open:te,renderValue:K,SelectDisplayProps:ee,variant:Q="outlined"}=n,ge=sn(n,Xte),Y=z?Lte:Kte,Z=$m(),re=Ly({props:n,muiFormControl:Z,states:["variant","error"]}),ye=re.variant||Q,fe=Xe({},n,{variant:ye,classes:u}),Ae=Yte(fe),ke=sn(Ae,Zte),Oe=S||{standard:$e.jsx(Jte,{ownerState:fe}),outlined:$e.jsx(Qte,{label:L,ownerState:fe}),filled:$e.jsx(ere,{ownerState:fe})}[ye],_e=Ba(r,Oe.ref);return $e.jsx(V.Fragment,{children:V.cloneElement(Oe,Xe({inputComponent:Y,inputProps:Xe({children:a,error:re.error,IconComponent:x,variant:ye,type:void 0,multiple:M},z?{id:w}:{autoWidth:i,defaultOpen:f,displayEmpty:m,labelId:k,MenuProps:$,onClose:B,onOpen:q,open:te,renderValue:K,SelectDisplayProps:Xe({id:w},ee)},C,{classes:C?$a(ke,C.classes):ke},S?S.props.inputProps:{})},(M&&z||m)&&ye==="outlined"?{notched:!0}:{},{ref:_e,className:Zr(Oe.props.className,s,Ae.root)},!S&&{variant:ye},ge))})});Ez.muiName="Select";const tre=e=>!e||!eh(e);function rre(e){return Gn("MuiSlider",e)}const ed=Un("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),nre=e=>{const{open:t}=e;return{offset:Zr(t&&ed.valueLabelOpen),circle:ed.valueLabelCircle,label:ed.valueLabelLabel}};function ire(e){const{children:t,className:r,value:n}=e,i=nre(e);return t?V.cloneElement(t,{className:Zr(t.props.className)},$e.jsxs(V.Fragment,{children:[t.props.children,$e.jsx("span",{className:Zr(i.offset,r),"aria-hidden":!0,children:$e.jsx("span",{className:i.circle,children:$e.jsx("span",{className:i.label,children:n})})})]})):null}const ore=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","shiftStep","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"];function rR(e){return e}const are=xr("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`color${Vr(r.color)}`],r.size!=="medium"&&t[`size${Vr(r.size)}`],r.marked&&t.marked,r.orientation==="vertical"&&t.vertical,r.track==="inverted"&&t.trackInverted,r.track===!1&&t.trackFalse]}})(({theme:e,ownerState:t})=>Xe({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:(e.vars||e).palette[t.color].main,WebkitTapHighlightColor:"transparent"},t.orientation==="horizontal"&&Xe({height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}},t.size==="small"&&{height:2},t.marked&&{marginBottom:20}),t.orientation==="vertical"&&Xe({height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}},t.size==="small"&&{width:2},t.marked&&{marginRight:44}),{"@media print":{colorAdjust:"exact"},[`&.${ed.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${ed.dragging}`]:{[`& .${ed.thumb}, & .${ed.track}`]:{transition:"none"}}})),sre=xr("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(e,t)=>t.rail})(({ownerState:e})=>Xe({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38},e.orientation==="horizontal"&&{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"},e.orientation==="vertical"&&{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"},e.track==="inverted"&&{opacity:1})),lre=xr("span",{name:"MuiSlider",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light"?ez(e.palette[t.color].main,.62):QB(e.palette[t.color].main,.5);return Xe({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest})},t.size==="small"&&{border:"none"},t.orientation==="horizontal"&&{height:"inherit",top:"50%",transform:"translateY(-50%)"},t.orientation==="vertical"&&{width:"inherit",left:"50%",transform:"translateX(-50%)"},t.track===!1&&{display:"none"},t.track==="inverted"&&{backgroundColor:e.vars?e.vars.palette.Slider[`${t.color}Track`]:r,borderColor:e.vars?e.vars.palette.Slider[`${t.color}Track`]:r})}),ure=xr("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.thumb,t[`thumbColor${Vr(r.color)}`],r.size!=="medium"&&t[`thumbSize${Vr(r.size)}`]]}})(({theme:e,ownerState:t})=>Xe({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest})},t.size==="small"&&{width:12,height:12},t.orientation==="horizontal"&&{top:"50%",transform:"translate(-50%, -50%)"},t.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 50%)"},{"&::before":Xe({position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},t.size==="small"&&{boxShadow:"none"}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&:hover, &.${ed.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.16)`:El(e.palette[t.color].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${ed.active}`]:{boxShadow:`0px 0px 0px 14px ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.16)`:El(e.palette[t.color].main,.16)}`},[`&.${ed.disabled}`]:{"&:hover":{boxShadow:"none"}}})),cre=xr(ire,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(e,t)=>t.valueLabel})(({theme:e,ownerState:t})=>Xe({[`&.${ed.valueLabelOpen}`]:{transform:`${t.orientation==="vertical"?"translateY(-50%)":"translateY(-100%)"} scale(1)`},zIndex:1,whiteSpace:"nowrap"},e.typography.body2,{fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),transform:`${t.orientation==="vertical"?"translateY(-50%)":"translateY(-100%)"} scale(0)`,position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem"},t.orientation==="horizontal"&&{top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"}},t.orientation==="vertical"&&{right:t.size==="small"?"20px":"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"}},t.size==="small"&&{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"})),dre=xr("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>GT(e)&&e!=="markActive",overridesResolver:(e,t)=>{const{markActive:r}=e;return[t.mark,r&&t.markActive]}})(({theme:e,ownerState:t,markActive:r})=>Xe({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},t.orientation==="horizontal"&&{top:"50%",transform:"translate(-1px, -50%)"},t.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 1px)"},r&&{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8})),hre=xr("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>GT(e)&&e!=="markLabelActive",overridesResolver:(e,t)=>t.markLabel})(({theme:e,ownerState:t,markLabelActive:r})=>Xe({},e.typography.body2,{color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap"},t.orientation==="horizontal"&&{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}},t.orientation==="vertical"&&{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}},r&&{color:(e.vars||e).palette.text.primary})),fre=e=>{const{disabled:t,dragging:r,marked:n,orientation:i,track:a,classes:u,color:s,size:f}=e,m={root:["root",t&&"disabled",r&&"dragging",n&&"marked",i==="vertical"&&"vertical",a==="inverted"&&"trackInverted",a===!1&&"trackFalse",s&&`color${Vr(s)}`,f&&`size${Vr(f)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",f&&`thumbSize${Vr(f)}`,s&&`thumbColor${Vr(s)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return Qn(m,rre,u)},pre=({children:e})=>e,mre=V.forwardRef(function(t,r){var n,i,a,u,s,f,m,x,w,S,C,L,k,$,M,z,B,q,te,K,ee,Q,ge,Y;const Z=di({props:t,name:"MuiSlider"}),ye=af().direction==="rtl",{"aria-label":fe,"aria-valuetext":Ae,"aria-labelledby":ke,component:Oe="span",components:_e={},componentsProps:Ne={},color:Ke="primary",classes:pt,className:ae,disableSwap:me=!1,disabled:we=!1,getAriaLabel:Re,getAriaValueText:Fe,marks:rt=!1,max:Ve=100,min:We=0,orientation:nt="horizontal",shiftStep:ut=10,size:bt="medium",step:Ct=1,scale:Et=rR,slotProps:lt,slots:ce,track:ur="normal",valueLabelDisplay:qt="off",valueLabelFormat:wt=rR}=Z,Mt=sn(Z,ore),It=Xe({},Z,{isRtl:ye,max:Ve,min:We,classes:pt,disabled:we,disableSwap:me,orientation:nt,marks:rt,color:Ke,size:bt,step:Ct,shiftStep:ut,scale:Et,track:ur,valueLabelDisplay:qt,valueLabelFormat:wt}),{axisProps:Gt,getRootProps:Lt,getHiddenInputProps:Jt,getThumbProps:_r,open:Cr,active:Ir,axis:Ze,focusedThumbIndex:gt,range:Ft,dragging:At,marks:Ar,values:ot,trackOffset:kt,trackLeap:Dt,getThumbStyle:cr}=lJ(Xe({},It,{rootRef:r}));It.marked=Ar.length>0&&Ar.some(gr=>gr.label),It.dragging=At,It.focusedThumbIndex=gt;const Wr=fre(It),nr=(n=(i=ce==null?void 0:ce.root)!=null?i:_e.Root)!=null?n:are,ei=(a=(u=ce==null?void 0:ce.rail)!=null?u:_e.Rail)!=null?a:sre,On=(s=(f=ce==null?void 0:ce.track)!=null?f:_e.Track)!=null?s:lre,hi=(m=(x=ce==null?void 0:ce.thumb)!=null?x:_e.Thumb)!=null?m:ure,Vn=(w=(S=ce==null?void 0:ce.valueLabel)!=null?S:_e.ValueLabel)!=null?w:cre,je=(C=(L=ce==null?void 0:ce.mark)!=null?L:_e.Mark)!=null?C:dre,se=(k=($=ce==null?void 0:ce.markLabel)!=null?$:_e.MarkLabel)!=null?k:hre,de=(M=(z=ce==null?void 0:ce.input)!=null?z:_e.Input)!=null?M:"input",Pe=(B=lt==null?void 0:lt.root)!=null?B:Ne.root,ze=(q=lt==null?void 0:lt.rail)!=null?q:Ne.rail,it=(te=lt==null?void 0:lt.track)!=null?te:Ne.track,ct=(K=lt==null?void 0:lt.thumb)!=null?K:Ne.thumb,pe=(ee=lt==null?void 0:lt.valueLabel)!=null?ee:Ne.valueLabel,ve=(Q=lt==null?void 0:lt.mark)!=null?Q:Ne.mark,Be=(ge=lt==null?void 0:lt.markLabel)!=null?ge:Ne.markLabel,Ye=(Y=lt==null?void 0:lt.input)!=null?Y:Ne.input,et=Zl({elementType:nr,getSlotProps:Lt,externalSlotProps:Pe,externalForwardedProps:Mt,additionalProps:Xe({},tre(nr)&&{as:Oe}),ownerState:Xe({},It,Pe==null?void 0:Pe.ownerState),className:[Wr.root,ae]}),St=Zl({elementType:ei,externalSlotProps:ze,ownerState:It,className:Wr.rail}),Bt=Zl({elementType:On,externalSlotProps:it,additionalProps:{style:Xe({},Gt[Ze].offset(kt),Gt[Ze].leap(Dt))},ownerState:Xe({},It,it==null?void 0:it.ownerState),className:Wr.track}),Ot=Zl({elementType:hi,getSlotProps:_r,externalSlotProps:ct,ownerState:Xe({},It,ct==null?void 0:ct.ownerState),className:Wr.thumb}),Yt=Zl({elementType:Vn,externalSlotProps:pe,ownerState:Xe({},It,pe==null?void 0:pe.ownerState),className:Wr.valueLabel}),$t=Zl({elementType:je,externalSlotProps:ve,ownerState:It,className:Wr.mark}),Qt=Zl({elementType:se,externalSlotProps:Be,ownerState:It,className:Wr.markLabel}),hr=Zl({elementType:de,getSlotProps:Jt,externalSlotProps:Ye,ownerState:It});return $e.jsxs(nr,Xe({},et,{children:[$e.jsx(ei,Xe({},St)),$e.jsx(On,Xe({},Bt)),Ar.filter(gr=>gr.value>=We&&gr.value<=Ve).map((gr,yr)=>{const vr=O_(gr.value,We,Ve),Tr=Gt[Ze].offset(vr);let zr;return ur===!1?zr=ot.indexOf(gr.value)!==-1:zr=ur==="normal"&&(Ft?gr.value>=ot[0]&&gr.value<=ot[ot.length-1]:gr.value<=ot[0])||ur==="inverted"&&(Ft?gr.value<=ot[0]||gr.value>=ot[ot.length-1]:gr.value>=ot[0]),$e.jsxs(V.Fragment,{children:[$e.jsx(je,Xe({"data-index":yr},$t,!eh(je)&&{markActive:zr},{style:Xe({},Tr,$t.style),className:Zr($t.className,zr&&Wr.markActive)})),gr.label!=null?$e.jsx(se,Xe({"aria-hidden":!0,"data-index":yr},Qt,!eh(se)&&{markLabelActive:zr},{style:Xe({},Tr,Qt.style),className:Zr(Wr.markLabel,Qt.className,zr&&Wr.markLabelActive),children:gr.label})):null]},yr)}),ot.map((gr,yr)=>{const vr=O_(gr,We,Ve),Tr=Gt[Ze].offset(vr),zr=qt==="off"?pre:Vn;return $e.jsx(zr,Xe({},!eh(zr)&&{valueLabelFormat:wt,valueLabelDisplay:qt,value:typeof wt=="function"?wt(Et(gr),yr):wt,index:yr,open:Cr===yr||Ir===yr||qt==="on",disabled:we},Yt,{children:$e.jsx(hi,Xe({"data-index":yr},Ot,{className:Zr(Wr.thumb,Ot.className,Ir===yr&&Wr.active,gt===yr&&Wr.focusVisible),style:Xe({},Tr,cr(yr),Ot.style),children:$e.jsx(de,Xe({"data-index":yr,"aria-label":Re?Re(yr):fe,"aria-valuenow":Et(gr),"aria-labelledby":ke,"aria-valuetext":Fe?Fe(Et(gr),yr):Ae,value:ot[yr]},hr))}))}),yr)})]}))}),gre=["anchor","classes","className","width","style"],yre=xr("div",{shouldForwardProp:cl})(({theme:e,ownerState:t})=>Xe({position:"fixed",top:0,left:0,bottom:0,zIndex:e.zIndex.drawer-1},t.anchor==="left"&&{right:"auto"},t.anchor==="right"&&{left:"auto",right:0},t.anchor==="top"&&{bottom:"auto",right:0},t.anchor==="bottom"&&{top:"auto",bottom:0,right:0})),vre=V.forwardRef(function(t,r){const{anchor:n,classes:i={},className:a,width:u,style:s}=t,f=sn(t,gre),m=t;return $e.jsx(yre,Xe({className:Zr("PrivateSwipeArea-root",i.root,i[`anchor${Vr(n)}`],a),ref:r,style:Xe({[Kp(n)?"width":"height"]:u},s),ownerState:m},f))}),bre=["BackdropProps"],xre=["anchor","disableBackdropTransition","disableDiscovery","disableSwipeToOpen","hideBackdrop","hysteresis","allowSwipeInChildren","minFlingVelocity","ModalProps","onClose","onOpen","open","PaperProps","SwipeAreaProps","swipeAreaWidth","transitionDuration","variant"],cx=3,a3=20;let kh=null;function s3(e,t,r){return e==="right"?r.body.offsetWidth-t[0].pageX:t[0].pageX}function l3(e,t,r){return e==="bottom"?r.innerHeight-t[0].clientY:t[0].clientY}function Mv(e,t){return e?t.clientWidth:t.clientHeight}function nR(e,t,r,n){return Math.min(Math.max(r?t-e:n+t-e,0),n)}function _re(e,t){const r=[];for(;e&&e!==t.parentElement;){const n=ou(t).getComputedStyle(e);n.getPropertyValue("position")==="absolute"||n.getPropertyValue("overflow-x")==="hidden"||(e.clientWidth>0&&e.scrollWidth>e.clientWidth||e.clientHeight>0&&e.scrollHeight>e.clientHeight)&&r.push(e),e=e.parentElement}return r}function wre({domTreeShapes:e,start:t,current:r,anchor:n}){const i={scrollPosition:{x:"scrollLeft",y:"scrollTop"},scrollLength:{x:"scrollWidth",y:"scrollHeight"},clientLength:{x:"clientWidth",y:"clientHeight"}};return e.some(a=>{let u=r>=t;(n==="top"||n==="left")&&(u=!u);const s=n==="left"||n==="right"?"x":"y",f=Math.round(a[i.scrollPosition[s]]),m=f>0,x=f+a[i.clientLength[s]]<a[i.scrollLength[s]];return!!(u&&x||!u&&m)})}const Sre=typeof navigator<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent),Cre=V.forwardRef(function(t,r){const n=JB({name:"MuiSwipeableDrawer",props:t}),i=af(),a={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:u="left",disableBackdropTransition:s=!1,disableDiscovery:f=!1,disableSwipeToOpen:m=Sre,hideBackdrop:x,hysteresis:w=.52,allowSwipeInChildren:S=!1,minFlingVelocity:C=450,ModalProps:{BackdropProps:L}={},onClose:k,onOpen:$,open:M=!1,PaperProps:z={},SwipeAreaProps:B,swipeAreaWidth:q=20,transitionDuration:te=a,variant:K="temporary"}=n,ee=sn(n.ModalProps,bre),Q=sn(n,xre),[ge,Y]=V.useState(!1),Z=V.useRef({isSwiping:null}),re=V.useRef(),ye=V.useRef(),fe=V.useRef(),Ae=Ba(z.ref,fe),ke=V.useRef(!1),Oe=V.useRef();Uu(()=>{Oe.current=null},[M]);const _e=V.useCallback((me,we={})=>{const{mode:Re=null,changeTransition:Fe=!0}=we,rt=i1(i,u),Ve=["right","bottom"].indexOf(rt)!==-1?1:-1,We=Kp(u),nt=We?`translate(${Ve*me}px, 0)`:`translate(0, ${Ve*me}px)`,ut=fe.current.style;ut.webkitTransform=nt,ut.transform=nt;let bt="";if(Re&&(bt=i.transitions.create("all",km({easing:void 0,style:void 0,timeout:te},{mode:Re}))),Fe&&(ut.webkitTransition=bt,ut.transition=bt),!s&&!x){const Ct=ye.current.style;Ct.opacity=1-me/Mv(We,fe.current),Fe&&(Ct.webkitTransition=bt,Ct.transition=bt)}},[u,s,x,i,te]),Ne=Fu(me=>{if(!ke.current)return;if(kh=null,ke.current=!1,up.flushSync(()=>{Y(!1)}),!Z.current.isSwiping){Z.current.isSwiping=null;return}Z.current.isSwiping=null;const we=i1(i,u),Re=Kp(u);let Fe;Re?Fe=s3(we,me.changedTouches,ca(me.currentTarget)):Fe=l3(we,me.changedTouches,ou(me.currentTarget));const rt=Re?Z.current.startX:Z.current.startY,Ve=Mv(Re,fe.current),We=nR(Fe,rt,M,Ve),nt=We/Ve;if(Math.abs(Z.current.velocity)>C&&(Oe.current=Math.abs((Ve-We)/Z.current.velocity)*1e3),M){Z.current.velocity>C||nt>w?k():_e(0,{mode:"exit"});return}Z.current.velocity<-C||1-nt>w?$():_e(Mv(Re,fe.current),{mode:"enter"})}),Ke=(me=!1)=>{if(!ge){(me||!(f&&S))&&up.flushSync(()=>{Y(!0)});const we=Kp(u);!M&&fe.current&&_e(Mv(we,fe.current)+(f?15:-a3),{changeTransition:!1}),Z.current.velocity=0,Z.current.lastTime=null,Z.current.lastTranslate=null,Z.current.paperHit=!1,ke.current=!0}},pt=Fu(me=>{if(!fe.current||!ke.current||kh!==null&&kh!==Z.current)return;Ke(!0);const we=i1(i,u),Re=Kp(u),Fe=s3(we,me.touches,ca(me.currentTarget)),rt=l3(we,me.touches,ou(me.currentTarget));if(M&&fe.current.contains(me.target)&&kh===null){const bt=_re(me.target,fe.current);if(wre({domTreeShapes:bt,start:Re?Z.current.startX:Z.current.startY,current:Re?Fe:rt,anchor:u})){kh=!0;return}kh=Z.current}if(Z.current.isSwiping==null){const bt=Math.abs(Fe-Z.current.startX),Ct=Math.abs(rt-Z.current.startY),Et=Re?bt>Ct&&bt>cx:Ct>bt&&Ct>cx;if(Et&&me.cancelable&&me.preventDefault(),Et===!0||(Re?Ct>cx:bt>cx)){if(Z.current.isSwiping=Et,!Et){Ne(me);return}Z.current.startX=Fe,Z.current.startY=rt,!f&&!M&&(Re?Z.current.startX-=a3:Z.current.startY-=a3)}}if(!Z.current.isSwiping)return;const Ve=Mv(Re,fe.current);let We=Re?Z.current.startX:Z.current.startY;M&&!Z.current.paperHit&&(We=Math.min(We,Ve));const nt=nR(Re?Fe:rt,We,M,Ve);if(M)if(Z.current.paperHit)nt===0&&(Z.current.startX=Fe,Z.current.startY=rt);else if(Re?Fe<Ve:rt<Ve)Z.current.paperHit=!0,Z.current.startX=Fe,Z.current.startY=rt;else return;Z.current.lastTranslate===null&&(Z.current.lastTranslate=nt,Z.current.lastTime=performance.now()+1);const ut=(nt-Z.current.lastTranslate)/(performance.now()-Z.current.lastTime)*1e3;Z.current.velocity=Z.current.velocity*.4+ut*.6,Z.current.lastTranslate=nt,Z.current.lastTime=performance.now(),me.cancelable&&me.preventDefault(),_e(nt)}),ae=Fu(me=>{if(me.defaultPrevented||me.defaultMuiPrevented||M&&(x||!ye.current.contains(me.target))&&!fe.current.contains(me.target))return;const we=i1(i,u),Re=Kp(u),Fe=s3(we,me.touches,ca(me.currentTarget)),rt=l3(we,me.touches,ou(me.currentTarget));if(!M){var Ve;if(m||!(me.target===re.current||(Ve=fe.current)!=null&&Ve.contains(me.target)&&(typeof S=="function"?S(me,re.current,fe.current):S)))return;if(Re){if(Fe>q)return}else if(rt>q)return}me.defaultMuiPrevented=!0,kh=null,Z.current.startX=Fe,Z.current.startY=rt,Ke()});return V.useEffect(()=>{if(K==="temporary"){const me=ca(fe.current);return me.addEventListener("touchstart",ae),me.addEventListener("touchmove",pt,{passive:!M}),me.addEventListener("touchend",Ne),()=>{me.removeEventListener("touchstart",ae),me.removeEventListener("touchmove",pt,{passive:!M}),me.removeEventListener("touchend",Ne)}}},[K,M,ae,pt,Ne]),V.useEffect(()=>()=>{kh===Z.current&&(kh=null)},[]),V.useEffect(()=>{M||Y(!1)},[M]),$e.jsxs(V.Fragment,{children:[$e.jsx(mz,Xe({open:K==="temporary"&&ge?!0:M,variant:K,ModalProps:Xe({BackdropProps:Xe({},L,{ref:ye})},K==="temporary"&&{keepMounted:!0},ee),hideBackdrop:x,PaperProps:Xe({},z,{style:Xe({pointerEvents:K==="temporary"&&!M&&!S?"none":""},z.style),ref:Ae}),anchor:u,transitionDuration:Oe.current||te,onClose:k,ref:r},Q)),!m&&K==="temporary"&&$e.jsx(tJ,{children:$e.jsx(vre,Xe({anchor:u,ref:re,width:q},B))})]})});function Ere(e){return Gn("MuiTextField",e)}Un("MuiTextField",["root"]);const Are=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Tre={standard:rP,filled:tP,outlined:sP},Pre=e=>{const{classes:t}=e;return Qn({root:["root"]},Ere,t)},kre=xr(JQ,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Ire=V.forwardRef(function(t,r){const n=di({props:t,name:"MuiTextField"}),{autoComplete:i,autoFocus:a=!1,children:u,className:s,color:f="primary",defaultValue:m,disabled:x=!1,error:w=!1,FormHelperTextProps:S,fullWidth:C=!1,helperText:L,id:k,InputLabelProps:$,inputProps:M,InputProps:z,inputRef:B,label:q,maxRows:te,minRows:K,multiline:ee=!1,name:Q,onBlur:ge,onChange:Y,onFocus:Z,placeholder:re,required:ye=!1,rows:fe,select:Ae=!1,SelectProps:ke,type:Oe,value:_e,variant:Ne="outlined"}=n,Ke=sn(n,Are),pt=Xe({},n,{autoFocus:a,color:f,disabled:x,error:w,fullWidth:C,multiline:ee,required:ye,select:Ae,variant:Ne}),ae=Pre(pt),me={};Ne==="outlined"&&($&&typeof $.shrink<"u"&&(me.notched=$.shrink),me.label=q),Ae&&((!ke||!ke.native)&&(me.id=void 0),me["aria-describedby"]=void 0);const we=Xw(k),Re=L&&we?`${we}-helper-text`:void 0,Fe=q&&we?`${we}-label`:void 0,rt=Tre[Ne],Ve=$e.jsx(rt,Xe({"aria-describedby":Re,autoComplete:i,autoFocus:a,defaultValue:m,fullWidth:C,multiline:ee,name:Q,rows:fe,maxRows:te,minRows:K,type:Oe,value:_e,id:we,inputRef:B,onBlur:ge,onChange:Y,onFocus:Z,placeholder:re,inputProps:M},me,z));return $e.jsxs(kre,Xe({className:Zr(ae.root,s),disabled:x,error:w,fullWidth:C,ref:r,required:ye,color:f,variant:Ne,ownerState:pt},Ke,{children:[q!=null&&q!==""&&$e.jsx(Nee,Xe({htmlFor:we,id:Fe},$,{children:q})),Ae?$e.jsx(Ez,Xe({"aria-describedby":Re,id:we,labelId:Fe,value:_e,input:Ve},ke,{children:u})):Ve,L&&$e.jsx(nee,Xe({id:Re},S,{children:L}))]}))});var Az={exports:{}};(function(e){function t(r){return r&&r.__esModule?r:{default:r}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(Az);var sf=Az.exports,u3={};function vi(){return vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vi.apply(this,arguments)}function sh(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function rA(){return rA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rA.apply(this,arguments)}var Lre=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Mre=jb(function(e){return Lre.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),Tz=V.createContext(typeof HTMLElement<"u"?SB({key:"css"}):null);Tz.Provider;var Rre=function(t){return V.forwardRef(function(r,n){var i=V.useContext(Tz);return t(r,i,n)})},Pz=V.createContext({}),Dre=/[A-Z]|^ms/g,Ore=/_EMO_([^_]+?)_([^]*?)_EMO_/g,kz=function(t){return t.charCodeAt(1)===45},iR=function(t){return t!=null&&typeof t!="boolean"},c3=jb(function(e){return kz(e)?e:e.replace(Dre,"-$&").toLowerCase()}),oR=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(Ore,function(n,i,a){return Hd={name:i,styles:a,next:Hd},i})}return NT[t]!==1&&!kz(t)&&typeof r=="number"&&r!==0?r+"px":r};function db(e,t,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return Hd={name:r.name,styles:r.styles,next:Hd},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)Hd={name:n.name,styles:n.styles,next:Hd},n=n.next;var i=r.styles+";";return i}return Nre(e,t,r)}case"function":{if(e!==void 0){var a=Hd,u=r(e);return Hd=a,db(e,t,u)}break}}if(t==null)return r;var s=t[r];return s!==void 0?s:r}function Nre(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=db(e,t,r[i])+";";else for(var a in r){var u=r[a];if(typeof u!="object")t!=null&&t[u]!==void 0?n+=a+"{"+t[u]+"}":iR(u)&&(n+=c3(a)+":"+oR(a,u)+";");else if(Array.isArray(u)&&typeof u[0]=="string"&&(t==null||t[u[0]]===void 0))for(var s=0;s<u.length;s++)iR(u[s])&&(n+=c3(a)+":"+oR(a,u[s])+";");else{var f=db(e,t,u);switch(a){case"animation":case"animationName":{n+=c3(a)+":"+f+";";break}default:n+=a+"{"+f+"}"}}}return n}var aR=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Hd,Fre=function(t,r,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,a="";Hd=void 0;var u=t[0];u==null||u.raw===void 0?(i=!1,a+=db(n,r,u)):a+=u[0];for(var s=1;s<t.length;s++)a+=db(n,r,t[s]),i&&(a+=u[s]);aR.lastIndex=0;for(var f="",m;(m=aR.exec(a))!==null;)f+="-"+m[1];var x=OT(a)+f;return{name:x,styles:a,next:Hd}},$re=Mre,Bre=function(t){return t!=="theme"},sR=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?$re:Bre},lR=function(t,r,n){var i;if(r){var a=r.shouldForwardProp;i=t.__emotion_forwardProp&&a?function(u){return t.__emotion_forwardProp(u)&&a(u)}:a}return typeof i!="function"&&n&&(i=t.__emotion_forwardProp),i},zre=function(t){var r=t.cache,n=t.serialized,i=t.isStringTag;return RT(r,n,i),MB(function(){return DT(r,n,i)}),null},jre=function e(t,r){var n=t.__emotion_real===t,i=n&&t.__emotion_base||t,a,u;r!==void 0&&(a=r.label,u=r.target);var s=lR(t,r,n),f=s||sR(i),m=!f("as");return function(){var x=arguments,w=n&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(a!==void 0&&w.push("label:"+a+";"),x[0]==null||x[0].raw===void 0)w.push.apply(w,x);else{w.push(x[0][0]);for(var S=x.length,C=1;C<S;C++)w.push(x[C],x[0][C])}var L=Rre(function(k,$,M){var z=m&&k.as||i,B="",q=[],te=k;if(k.theme==null){te={};for(var K in k)te[K]=k[K];te.theme=V.useContext(Pz)}typeof k.className=="string"?B=PB($.registered,q,k.className):k.className!=null&&(B=k.className+" ");var ee=Fre(w.concat(q),$.registered,te);B+=$.key+"-"+ee.name,u!==void 0&&(B+=" "+u);var Q=m&&s===void 0?sR(z):f,ge={};for(var Y in k)m&&Y==="as"||Q(Y)&&(ge[Y]=k[Y]);return ge.className=B,ge.ref=M,V.createElement(V.Fragment,null,V.createElement(zre,{cache:$,serialized:ee,isStringTag:typeof z=="string"}),V.createElement(z,ge))});return L.displayName=a!==void 0?a:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",L.defaultProps=t.defaultProps,L.__emotion_real=L,L.__emotion_base=i,L.__emotion_styles=w,L.__emotion_forwardProp=s,Object.defineProperty(L,"toString",{value:function(){return"."+u}}),L.withComponent=function(k,$){return e(k,rA({},r,$,{shouldForwardProp:lR(L,$,!0)})).apply(void 0,w)},L}},Ure=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],nA=jre.bind();Ure.forEach(function(e){nA[e]=nA(e)});function Vre(e,t){return nA(e,t)}const qre=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},Hre=["values","unit","step"],Wre=e=>{const t=Object.keys(e).map(r=>({key:r,val:e[r]}))||[];return t.sort((r,n)=>r.val-n.val),t.reduce((r,n)=>vi({},r,{[n.key]:n.val}),{})};function Gre(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5}=e,i=sh(e,Hre),a=Wre(t),u=Object.keys(a);function s(S){return`@media (min-width:${typeof t[S]=="number"?t[S]:S}${r})`}function f(S){return`@media (max-width:${(typeof t[S]=="number"?t[S]:S)-n/100}${r})`}function m(S,C){const L=u.indexOf(C);return`@media (min-width:${typeof t[S]=="number"?t[S]:S}${r}) and (max-width:${(L!==-1&&typeof t[u[L]]=="number"?t[u[L]]:C)-n/100}${r})`}function x(S){return u.indexOf(S)+1<u.length?m(S,u[u.indexOf(S)+1]):s(S)}function w(S){const C=u.indexOf(S);return C===0?s(u[1]):C===u.length-1?f(u[C]):m(S,u[u.indexOf(S)+1]).replace("@media","@media not all and")}return vi({keys:u,values:a,up:s,down:f,between:m,only:x,not:w,unit:r},i)}const Kre={borderRadius:4};function M1(e,t){return t?$a(e,t,{clone:!1}):e}const uP={xs:0,sm:600,md:900,lg:1200,xl:1536},uR={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${uP[e]}px)`};function Yh(e,t,r){const n=e.theme||{};if(Array.isArray(t)){const a=n.breakpoints||uR;return t.reduce((u,s,f)=>(u[a.up(a.keys[f])]=r(t[f]),u),{})}if(typeof t=="object"){const a=n.breakpoints||uR;return Object.keys(t).reduce((u,s)=>{if(Object.keys(a.values||uP).indexOf(s)!==-1){const f=a.up(s);u[f]=r(t[s],s)}else{const f=s;u[f]=t[f]}return u},{})}return r(t)}function Xre(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((n,i)=>{const a=e.up(i);return n[a]={},n},{}))||{}}function Zre(e,t){return e.reduce((r,n)=>{const i=r[n];return(!i||Object.keys(i).length===0)&&delete r[n],r},t)}function P5(e,t,r=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&r){const n=`vars.${t}`.split(".").reduce((i,a)=>i&&i[a]?i[a]:null,e);if(n!=null)return n}return t.split(".").reduce((n,i)=>n&&n[i]!=null?n[i]:null,e)}function F_(e,t,r,n=r){let i;return typeof e=="function"?i=e(r):Array.isArray(e)?i=e[r]||n:i=P5(e,r)||n,t&&(i=t(i,n,e)),i}function wa(e){const{prop:t,cssProperty:r=e.prop,themeKey:n,transform:i}=e,a=u=>{if(u[t]==null)return null;const s=u[t],f=u.theme,m=P5(f,n)||{};return Yh(u,s,w=>{let S=F_(m,i,w);return w===S&&typeof w=="string"&&(S=F_(m,i,`${t}${w==="default"?"":Vr(w)}`,w)),r===!1?S:{[r]:S}})};return a.propTypes={},a.filterProps=[t],a}function Yre(e){const t={};return r=>(t[r]===void 0&&(t[r]=e(r)),t[r])}const Jre={m:"margin",p:"padding"},Qre={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},cR={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},ene=Yre(e=>{if(e.length>2)if(cR[e])e=cR[e];else return[e];const[t,r]=e.split(""),n=Jre[t],i=Qre[r]||"";return Array.isArray(i)?i.map(a=>n+a):[n+i]}),cP=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],dP=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...cP,...dP];function Gb(e,t,r,n){var i;const a=(i=P5(e,t,!1))!=null?i:r;return typeof a=="number"?u=>typeof u=="string"?u:a*u:Array.isArray(a)?u=>typeof u=="string"?u:a[u]:typeof a=="function"?a:()=>{}}function Iz(e){return Gb(e,"spacing",8)}function Kb(e,t){if(typeof t=="string"||t==null)return t;const r=Math.abs(t),n=e(r);return t>=0?n:typeof n=="number"?-n:`-${n}`}function tne(e,t){return r=>e.reduce((n,i)=>(n[i]=Kb(t,r),n),{})}function rne(e,t,r,n){if(t.indexOf(r)===-1)return null;const i=ene(r),a=tne(i,n),u=e[r];return Yh(e,u,a)}function Lz(e,t){const r=Iz(e.theme);return Object.keys(e).map(n=>rne(e,t,n,r)).reduce(M1,{})}function na(e){return Lz(e,cP)}na.propTypes={};na.filterProps=cP;function ia(e){return Lz(e,dP)}ia.propTypes={};ia.filterProps=dP;function nne(e=8){if(e.mui)return e;const t=Iz({spacing:e}),r=(...n)=>(n.length===0?[1]:n).map(a=>{const u=t(a);return typeof u=="number"?`${u}px`:u}).join(" ");return r.mui=!0,r}function k5(...e){const t=e.reduce((n,i)=>(i.filterProps.forEach(a=>{n[a]=i}),n),{}),r=n=>Object.keys(n).reduce((i,a)=>t[a]?M1(i,t[a](n)):i,{});return r.propTypes={},r.filterProps=e.reduce((n,i)=>n.concat(i.filterProps),[]),r}function yc(e){return typeof e!="number"?e:`${e}px solid`}function Pc(e,t){return wa({prop:e,themeKey:"borders",transform:t})}const ine=Pc("border",yc),one=Pc("borderTop",yc),ane=Pc("borderRight",yc),sne=Pc("borderBottom",yc),lne=Pc("borderLeft",yc),une=Pc("borderColor"),cne=Pc("borderTopColor"),dne=Pc("borderRightColor"),hne=Pc("borderBottomColor"),fne=Pc("borderLeftColor"),pne=Pc("outline",yc),mne=Pc("outlineColor"),I5=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Gb(e.theme,"shape.borderRadius",4),r=n=>({borderRadius:Kb(t,n)});return Yh(e,e.borderRadius,r)}return null};I5.propTypes={};I5.filterProps=["borderRadius"];k5(ine,one,ane,sne,lne,une,cne,dne,hne,fne,I5,pne,mne);const L5=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Gb(e.theme,"spacing",8),r=n=>({gap:Kb(t,n)});return Yh(e,e.gap,r)}return null};L5.propTypes={};L5.filterProps=["gap"];const M5=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Gb(e.theme,"spacing",8),r=n=>({columnGap:Kb(t,n)});return Yh(e,e.columnGap,r)}return null};M5.propTypes={};M5.filterProps=["columnGap"];const R5=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Gb(e.theme,"spacing",8),r=n=>({rowGap:Kb(t,n)});return Yh(e,e.rowGap,r)}return null};R5.propTypes={};R5.filterProps=["rowGap"];const gne=wa({prop:"gridColumn"}),yne=wa({prop:"gridRow"}),vne=wa({prop:"gridAutoFlow"}),bne=wa({prop:"gridAutoColumns"}),xne=wa({prop:"gridAutoRows"}),_ne=wa({prop:"gridTemplateColumns"}),wne=wa({prop:"gridTemplateRows"}),Sne=wa({prop:"gridTemplateAreas"}),Cne=wa({prop:"gridArea"});k5(L5,M5,R5,gne,yne,vne,bne,xne,_ne,wne,Sne,Cne);function O0(e,t){return t==="grey"?t:e}const Ene=wa({prop:"color",themeKey:"palette",transform:O0}),Ane=wa({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:O0}),Tne=wa({prop:"backgroundColor",themeKey:"palette",transform:O0});k5(Ene,Ane,Tne);function Du(e){return e<=1&&e!==0?`${e*100}%`:e}const Pne=wa({prop:"width",transform:Du}),hP=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=r=>{var n,i;const a=((n=e.theme)==null||(n=n.breakpoints)==null||(n=n.values)==null?void 0:n[r])||uP[r];return a?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${a}${e.theme.breakpoints.unit}`}:{maxWidth:a}:{maxWidth:Du(r)}};return Yh(e,e.maxWidth,t)}return null};hP.filterProps=["maxWidth"];const kne=wa({prop:"minWidth",transform:Du}),Ine=wa({prop:"height",transform:Du}),Lne=wa({prop:"maxHeight",transform:Du}),Mne=wa({prop:"minHeight",transform:Du});wa({prop:"size",cssProperty:"width",transform:Du});wa({prop:"size",cssProperty:"height",transform:Du});const Rne=wa({prop:"boxSizing"});k5(Pne,hP,kne,Ine,Lne,Mne,Rne);const fP={border:{themeKey:"borders",transform:yc},borderTop:{themeKey:"borders",transform:yc},borderRight:{themeKey:"borders",transform:yc},borderBottom:{themeKey:"borders",transform:yc},borderLeft:{themeKey:"borders",transform:yc},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:yc},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:I5},color:{themeKey:"palette",transform:O0},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:O0},backgroundColor:{themeKey:"palette",transform:O0},p:{style:ia},pt:{style:ia},pr:{style:ia},pb:{style:ia},pl:{style:ia},px:{style:ia},py:{style:ia},padding:{style:ia},paddingTop:{style:ia},paddingRight:{style:ia},paddingBottom:{style:ia},paddingLeft:{style:ia},paddingX:{style:ia},paddingY:{style:ia},paddingInline:{style:ia},paddingInlineStart:{style:ia},paddingInlineEnd:{style:ia},paddingBlock:{style:ia},paddingBlockStart:{style:ia},paddingBlockEnd:{style:ia},m:{style:na},mt:{style:na},mr:{style:na},mb:{style:na},ml:{style:na},mx:{style:na},my:{style:na},margin:{style:na},marginTop:{style:na},marginRight:{style:na},marginBottom:{style:na},marginLeft:{style:na},marginX:{style:na},marginY:{style:na},marginInline:{style:na},marginInlineStart:{style:na},marginInlineEnd:{style:na},marginBlock:{style:na},marginBlockStart:{style:na},marginBlockEnd:{style:na},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:L5},rowGap:{style:R5},columnGap:{style:M5},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Du},maxWidth:{style:hP},minWidth:{transform:Du},height:{transform:Du},maxHeight:{transform:Du},minHeight:{transform:Du},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Dne(...e){const t=e.reduce((n,i)=>n.concat(Object.keys(i)),[]),r=new Set(t);return e.every(n=>r.size===Object.keys(n).length)}function One(e,t){return typeof e=="function"?e(t):e}function Nne(){function e(r,n,i,a){const u={[r]:n,theme:i},s=a[r];if(!s)return{[r]:n};const{cssProperty:f=r,themeKey:m,transform:x,style:w}=s;if(n==null)return null;if(m==="typography"&&n==="inherit")return{[r]:n};const S=P5(i,m)||{};return w?w(u):Yh(u,n,L=>{let k=F_(S,x,L);return L===k&&typeof L=="string"&&(k=F_(S,x,`${r}${L==="default"?"":Vr(L)}`,L)),f===!1?k:{[f]:k}})}function t(r){var n;const{sx:i,theme:a={}}=r||{};if(!i)return null;const u=(n=a.unstable_sxConfig)!=null?n:fP;function s(f){let m=f;if(typeof f=="function")m=f(a);else if(typeof f!="object")return f;if(!m)return null;const x=Xre(a.breakpoints),w=Object.keys(x);let S=x;return Object.keys(m).forEach(C=>{const L=One(m[C],a);if(L!=null)if(typeof L=="object")if(u[C])S=M1(S,e(C,L,a,u));else{const k=Yh({theme:a},L,$=>({[C]:$}));Dne(k,L)?S[C]=t({sx:L,theme:a}):S=M1(S,k)}else S=M1(S,e(C,L,a,u))}),Zre(w,S)}return Array.isArray(i)?i.map(s):s(i)}return t}const D5=Nne();D5.filterProps=["sx"];function Fne(e,t){const r=this;return r.vars&&typeof r.getColorSchemeSelector=="function"?{[r.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:r.palette.mode===e?t:{}}const $ne=["breakpoints","palette","spacing","shape"];function pP(e={},...t){const{breakpoints:r={},palette:n={},spacing:i,shape:a={}}=e,u=sh(e,$ne),s=Gre(r),f=nne(i);let m=$a({breakpoints:s,direction:"ltr",components:{},palette:vi({mode:"light"},n),spacing:f,shape:vi({},Kre,a)},u);return m.applyStyles=Fne,m=t.reduce((x,w)=>$a(x,w),m),m.unstable_sxConfig=vi({},fP,u==null?void 0:u.unstable_sxConfig),m.unstable_sx=function(w){return D5({sx:w,theme:this})},m}function Bne(e){return Object.keys(e).length===0}function zne(e=null){const t=V.useContext(Pz);return!t||Bne(t)?e:t}const jne=pP();function Une(e=jne){return zne(e)}const Vne=["ownerState"],qne=["variants"],Hne=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Wne(e){return Object.keys(e).length===0}function Gne(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Kx(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Kne=pP(),Xne=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function dx({defaultTheme:e,theme:t,themeId:r}){return Wne(t)?e:t[r]||t}function Zne(e){return e?(t,r)=>r[e]:null}function Xx(e,t){let{ownerState:r}=t,n=sh(t,Vne);const i=typeof e=="function"?e(vi({ownerState:r},n)):e;if(Array.isArray(i))return i.flatMap(a=>Xx(a,vi({ownerState:r},n)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:a=[]}=i;let s=sh(i,qne);return a.forEach(f=>{let m=!0;typeof f.props=="function"?m=f.props(vi({ownerState:r},n)):Object.keys(f.props).forEach(x=>{(r==null?void 0:r[x])!==f.props[x]&&n[x]!==f.props[x]&&(m=!1)}),m&&(Array.isArray(s)||(s=[s]),s.push(typeof f.style=="function"?f.style(vi({ownerState:r},n)):f.style))}),s}return i}function Yne(e={}){const{themeId:t,defaultTheme:r=Kne,rootShouldForwardProp:n=Kx,slotShouldForwardProp:i=Kx}=e,a=u=>D5(vi({},u,{theme:dx(vi({},u,{defaultTheme:r,themeId:t}))}));return a.__mui_systemSx=!0,(u,s={})=>{qre(u,te=>te.filter(K=>!(K!=null&&K.__mui_systemSx)));const{name:f,slot:m,skipVariantsResolver:x,skipSx:w,overridesResolver:S=Zne(Xne(m))}=s,C=sh(s,Hne),L=x!==void 0?x:m&&m!=="Root"&&m!=="root"||!1,k=w||!1;let $,M=Kx;m==="Root"||m==="root"?M=n:m?M=i:Gne(u)&&(M=void 0);const z=Vre(u,vi({shouldForwardProp:M,label:$},C)),B=te=>typeof te=="function"&&te.__emotion_real!==te||Fh(te)?K=>Xx(te,vi({},K,{theme:dx({theme:K.theme,defaultTheme:r,themeId:t})})):te,q=(te,...K)=>{let ee=B(te);const Q=K?K.map(B):[];f&&S&&Q.push(Z=>{const re=dx(vi({},Z,{defaultTheme:r,themeId:t}));if(!re.components||!re.components[f]||!re.components[f].styleOverrides)return null;const ye=re.components[f].styleOverrides,fe={};return Object.entries(ye).forEach(([Ae,ke])=>{fe[Ae]=Xx(ke,vi({},Z,{theme:re}))}),S(Z,fe)}),f&&!L&&Q.push(Z=>{var re;const ye=dx(vi({},Z,{defaultTheme:r,themeId:t})),fe=ye==null||(re=ye.components)==null||(re=re[f])==null?void 0:re.variants;return Xx({variants:fe},vi({},Z,{theme:ye}))}),k||Q.push(a);const ge=Q.length-K.length;if(Array.isArray(te)&&ge>0){const Z=new Array(ge).fill("");ee=[...te,...Z],ee.raw=[...te.raw,...Z]}const Y=z(ee,...Q);return u.muiName&&(Y.muiName=u.muiName),Y};return z.withConfig&&(q.withConfig=z.withConfig),q}}function Jne(e){const{theme:t,name:r,props:n}=e;return!t||!t.components||!t.components[r]||!t.components[r].defaultProps?n:Yw(t.components[r].defaultProps,n)}function Qne({props:e,name:t,defaultTheme:r,themeId:n}){let i=Une(r);return n&&(i=i[n]||i),Jne({theme:i,name:t,props:e})}function Mz(e,t=0,r=1){return Gp(e,t,r)}function eie(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(t);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function py(e){if(e.type)return e;if(e.charAt(0)==="#")return py(eie(e));const t=e.indexOf("("),r=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error(ju(9,e));let n=e.substring(t+1,e.length-1),i;if(r==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(ju(10,i))}else n=n.split(",");return n=n.map(a=>parseFloat(a)),{type:r,values:n,colorSpace:i}}function mP(e){const{type:t,colorSpace:r}=e;let{values:n}=e;return t.indexOf("rgb")!==-1?n=n.map((i,a)=>a<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),t.indexOf("color")!==-1?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${t}(${n})`}function tie(e){e=py(e);const{values:t}=e,r=t[0],n=t[1]/100,i=t[2]/100,a=n*Math.min(i,1-i),u=(m,x=(m+r/30)%12)=>i-a*Math.max(Math.min(x-3,9-x,1),-1);let s="rgb";const f=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return e.type==="hsla"&&(s+="a",f.push(t[3])),mP({type:s,values:f})}function dR(e){e=py(e);let t=e.type==="hsl"||e.type==="hsla"?py(tie(e)).values:e.values;return t=t.map(r=>(e.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function rie(e,t){const r=dR(e),n=dR(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function nie(e,t){if(e=py(e),t=Mz(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]*=1-t;return mP(e)}function iie(e,t){if(e=py(e),t=Mz(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return mP(e)}function oie(e,t){return vi({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const hb={black:"#000",white:"#fff"},aie={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},wg={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Sg={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Rv={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Cg={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Eg={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Ag={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},sie=["mode","contrastThreshold","tonalOffset"],hR={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:hb.white,default:hb.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},d3={text:{primary:hb.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:hb.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function fR(e,t,r,n){const i=n.light||n,a=n.dark||n*1.5;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:t==="light"?e.light=iie(e.main,i):t==="dark"&&(e.dark=nie(e.main,a)))}function lie(e="light"){return e==="dark"?{main:Cg[200],light:Cg[50],dark:Cg[400]}:{main:Cg[700],light:Cg[400],dark:Cg[800]}}function uie(e="light"){return e==="dark"?{main:wg[200],light:wg[50],dark:wg[400]}:{main:wg[500],light:wg[300],dark:wg[700]}}function cie(e="light"){return e==="dark"?{main:Sg[500],light:Sg[300],dark:Sg[700]}:{main:Sg[700],light:Sg[400],dark:Sg[800]}}function die(e="light"){return e==="dark"?{main:Eg[400],light:Eg[300],dark:Eg[700]}:{main:Eg[700],light:Eg[500],dark:Eg[900]}}function hie(e="light"){return e==="dark"?{main:Ag[400],light:Ag[300],dark:Ag[700]}:{main:Ag[800],light:Ag[500],dark:Ag[900]}}function fie(e="light"){return e==="dark"?{main:Rv[400],light:Rv[300],dark:Rv[700]}:{main:"#ed6c02",light:Rv[500],dark:Rv[900]}}function pie(e){const{mode:t="light",contrastThreshold:r=3,tonalOffset:n=.2}=e,i=sh(e,sie),a=e.primary||lie(t),u=e.secondary||uie(t),s=e.error||cie(t),f=e.info||die(t),m=e.success||hie(t),x=e.warning||fie(t);function w(k){return rie(k,d3.text.primary)>=r?d3.text.primary:hR.text.primary}const S=({color:k,name:$,mainShade:M=500,lightShade:z=300,darkShade:B=700})=>{if(k=vi({},k),!k.main&&k[M]&&(k.main=k[M]),!k.hasOwnProperty("main"))throw new Error(ju(11,$?` (${$})`:"",M));if(typeof k.main!="string")throw new Error(ju(12,$?` (${$})`:"",JSON.stringify(k.main)));return fR(k,"light",z,n),fR(k,"dark",B,n),k.contrastText||(k.contrastText=w(k.main)),k},C={dark:d3,light:hR};return $a(vi({common:vi({},hb),mode:t,primary:S({color:a,name:"primary"}),secondary:S({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:S({color:s,name:"error"}),warning:S({color:x,name:"warning"}),info:S({color:f,name:"info"}),success:S({color:m,name:"success"}),grey:aie,contrastThreshold:r,getContrastText:w,augmentColor:S,tonalOffset:n},C[t]),i)}const mie=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function gie(e){return Math.round(e*1e5)/1e5}const pR={textTransform:"uppercase"},mR='"Roboto", "Helvetica", "Arial", sans-serif';function yie(e,t){const r=typeof t=="function"?t(e):t,{fontFamily:n=mR,fontSize:i=14,fontWeightLight:a=300,fontWeightRegular:u=400,fontWeightMedium:s=500,fontWeightBold:f=700,htmlFontSize:m=16,allVariants:x,pxToRem:w}=r,S=sh(r,mie),C=i/14,L=w||(M=>`${M/m*C}rem`),k=(M,z,B,q,te)=>vi({fontFamily:n,fontWeight:M,fontSize:L(z),lineHeight:B},n===mR?{letterSpacing:`${gie(q/z)}em`}:{},te,x),$={h1:k(a,96,1.167,-1.5),h2:k(a,60,1.2,-.5),h3:k(u,48,1.167,0),h4:k(u,34,1.235,.25),h5:k(u,24,1.334,0),h6:k(s,20,1.6,.15),subtitle1:k(u,16,1.75,.15),subtitle2:k(s,14,1.57,.1),body1:k(u,16,1.5,.15),body2:k(u,14,1.43,.15),button:k(s,14,1.75,.4,pR),caption:k(u,12,1.66,.4),overline:k(u,12,2.66,1,pR),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return $a(vi({htmlFontSize:m,pxToRem:L,fontFamily:n,fontSize:i,fontWeightLight:a,fontWeightRegular:u,fontWeightMedium:s,fontWeightBold:f},$),S,{clone:!1})}const vie=.2,bie=.14,xie=.12;function Lo(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${vie})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${bie})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${xie})`].join(",")}const _ie=["none",Lo(0,2,1,-1,0,1,1,0,0,1,3,0),Lo(0,3,1,-2,0,2,2,0,0,1,5,0),Lo(0,3,3,-2,0,3,4,0,0,1,8,0),Lo(0,2,4,-1,0,4,5,0,0,1,10,0),Lo(0,3,5,-1,0,5,8,0,0,1,14,0),Lo(0,3,5,-1,0,6,10,0,0,1,18,0),Lo(0,4,5,-2,0,7,10,1,0,2,16,1),Lo(0,5,5,-3,0,8,10,1,0,3,14,2),Lo(0,5,6,-3,0,9,12,1,0,3,16,2),Lo(0,6,6,-3,0,10,14,1,0,4,18,3),Lo(0,6,7,-4,0,11,15,1,0,4,20,3),Lo(0,7,8,-4,0,12,17,2,0,5,22,4),Lo(0,7,8,-4,0,13,19,2,0,5,24,4),Lo(0,7,9,-4,0,14,21,2,0,5,26,4),Lo(0,8,9,-5,0,15,22,2,0,6,28,5),Lo(0,8,10,-5,0,16,24,2,0,6,30,5),Lo(0,8,11,-5,0,17,26,2,0,6,32,5),Lo(0,9,11,-5,0,18,28,2,0,7,34,6),Lo(0,9,12,-6,0,19,29,2,0,7,36,6),Lo(0,10,13,-6,0,20,31,3,0,8,38,7),Lo(0,10,13,-6,0,21,33,3,0,8,40,7),Lo(0,10,14,-6,0,22,35,3,0,8,42,7),Lo(0,11,14,-7,0,23,36,3,0,9,44,8),Lo(0,11,15,-7,0,24,38,3,0,9,46,8)],wie=["duration","easing","delay"],Sie={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Cie={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function gR(e){return`${Math.round(e)}ms`}function Eie(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function Aie(e){const t=vi({},Sie,e.easing),r=vi({},Cie,e.duration);return vi({getAutoHeightDuration:Eie,create:(i=["all"],a={})=>{const{duration:u=r.standard,easing:s=t.easeInOut,delay:f=0}=a;return sh(a,wie),(Array.isArray(i)?i:[i]).map(m=>`${m} ${typeof u=="string"?u:gR(u)} ${s} ${typeof f=="string"?f:gR(f)}`).join(",")}},e,{easing:t,duration:r})}const Tie={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Pie=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function kie(e={},...t){const{mixins:r={},palette:n={},transitions:i={},typography:a={}}=e,u=sh(e,Pie);if(e.vars)throw new Error(ju(18));const s=pie(n),f=pP(e);let m=$a(f,{mixins:oie(f.breakpoints,r),palette:s,shadows:_ie.slice(),typography:yie(s,a),transitions:Aie(i),zIndex:vi({},Tie)});return m=$a(m,u),m=t.reduce((x,w)=>$a(x,w),m),m.unstable_sxConfig=vi({},fP,u==null?void 0:u.unstable_sxConfig),m.unstable_sx=function(w){return D5({sx:w,theme:this})},m}const Rz=kie(),Dz="$$material";function Iie({props:e,name:t}){return Qne({props:e,name:t,defaultTheme:Rz,themeId:Dz})}const Lie=e=>Kx(e)&&e!=="classes",Mie=Yne({themeId:Dz,defaultTheme:Rz,rootShouldForwardProp:Lie});function Rie(e){return Gn("MuiSvgIcon",e)}Un("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Die=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Oie=e=>{const{color:t,fontSize:r,classes:n}=e,i={root:["root",t!=="inherit"&&`color${Vr(t)}`,`fontSize${Vr(r)}`]};return Qn(i,Rie,n)},Nie=Mie("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="inherit"&&t[`color${Vr(r.color)}`],t[`fontSize${Vr(r.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var r,n,i,a,u,s,f,m,x,w,S,C,L;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(r=e.transitions)==null||(n=r.create)==null?void 0:n.call(r,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((a=e.typography)==null||(u=a.pxToRem)==null?void 0:u.call(a,20))||"1.25rem",medium:((s=e.typography)==null||(f=s.pxToRem)==null?void 0:f.call(s,24))||"1.5rem",large:((m=e.typography)==null||(x=m.pxToRem)==null?void 0:x.call(m,35))||"2.1875rem"}[t.fontSize],color:(w=(S=(e.vars||e).palette)==null||(S=S[t.color])==null?void 0:S.main)!=null?w:{action:(C=(e.vars||e).palette)==null||(C=C.action)==null?void 0:C.active,disabled:(L=(e.vars||e).palette)==null||(L=L.action)==null?void 0:L.disabled,inherit:void 0}[t.color]}}),iA=V.forwardRef(function(t,r){const n=Iie({props:t,name:"MuiSvgIcon"}),{children:i,className:a,color:u="inherit",component:s="svg",fontSize:f="medium",htmlColor:m,inheritViewBox:x=!1,titleAccess:w,viewBox:S="0 0 24 24"}=n,C=sh(n,Die),L=V.isValidElement(i)&&i.type==="svg",k=vi({},n,{color:u,component:s,fontSize:f,instanceFontSize:t.fontSize,inheritViewBox:x,viewBox:S,hasSvgAsChild:L}),$={};x||($.viewBox=S);const M=Oie(k);return $e.jsxs(Nie,vi({as:s,className:Zr(M.root,a),focusable:"false",color:m,"aria-hidden":w?void 0:!0,role:w?"img":void 0,ref:r},$,C,L&&i.props,{ownerState:k,children:[L?i.props.children:i,w?$e.jsx("title",{children:w}):null]}))});iA.muiName="SvgIcon";function Xb(e,t){function r(n,i){return $e.jsx(iA,vi({"data-testid":`${t}Icon`,ref:i},n,{children:e}))}return r.muiName=iA.muiName,V.memo(V.forwardRef(r))}const Fie={configure:e=>{Jw.configure(e)}},$ie=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Vr,createChainedFunction:GE,createSvgIcon:Xb,debounce:Kw,deprecatedPropType:MK,isMuiElement:A1,ownerDocument:ca,ownerWindow:ou,requirePropFactory:RK,setRef:M_,unstable_ClassNameGenerator:Fie,unstable_useEnhancedEffect:Uu,unstable_useId:Xw,unsupportedProp:OK,useControlled:sb,useEventCallback:Fu,useForkRef:Ba,useIsFocusVisible:$T},Symbol.toStringTag,{value:"Module"})),Bie=Y8($ie);var yR;function lf(){return yR||(yR=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=Bie}(u3)),u3}const zie="modulepreload",jie=function(e){return"/react-map-components-apps/multi_tab/"+e},vR={},oA=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),s=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=Promise.allSettled(r.map(f=>{if(f=jie(f),f in vR)return;vR[f]=!0;const m=f.endsWith(".css"),x=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${x}`))return;const w=document.createElement("link");if(w.rel=m?"stylesheet":zie,m||(w.as="script"),w.crossOrigin="",w.href=f,s&&w.setAttribute("nonce",s),document.head.appendChild(w),m)return new Promise((S,C)=>{w.addEventListener("load",S),w.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(u){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=u,window.dispatchEvent(s),!s.defaultPrevented)throw u}return i.then(u=>{for(const s of u||[])s.status==="rejected"&&a(s.reason);return t().catch(a)})};function Ui(e){"@babel/helpers - typeof";return Ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ui(e)}var eu=Uint8Array,Al=Uint16Array,fb=Uint32Array,O5=new eu([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),N5=new eu([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),aA=new eu([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Oz=function(e,t){for(var r=new Al(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new fb(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return[r,i]},Nz=Oz(O5,2),Fz=Nz[0],sA=Nz[1];Fz[28]=258,sA[258]=28;var $z=Oz(N5,0),Uie=$z[0],bR=$z[1],lA=new Al(32768);for(var So=0;So<32768;++So){var Pf=(So&43690)>>>1|(So&21845)<<1;Pf=(Pf&52428)>>>2|(Pf&13107)<<2,Pf=(Pf&61680)>>>4|(Pf&3855)<<4,lA[So]=((Pf&65280)>>>8|(Pf&255)<<8)>>>1}var th=function(e,t,r){for(var n=e.length,i=0,a=new Al(t);i<n;++i)++a[e[i]-1];var u=new Al(t);for(i=0;i<t;++i)u[i]=u[i-1]+a[i-1]<<1;var s;if(r){s=new Al(1<<t);var f=15-t;for(i=0;i<n;++i)if(e[i])for(var m=i<<4|e[i],x=t-e[i],w=u[e[i]-1]++<<x,S=w|(1<<x)-1;w<=S;++w)s[lA[w]>>>f]=m}else for(s=new Al(n),i=0;i<n;++i)s[i]=lA[u[e[i]-1]++]>>>15-e[i];return s},dp=new eu(288);for(var So=0;So<144;++So)dp[So]=8;for(var So=144;So<256;++So)dp[So]=9;for(var So=256;So<280;++So)dp[So]=7;for(var So=280;So<288;++So)dp[So]=8;var pb=new eu(32);for(var So=0;So<32;++So)pb[So]=5;var Vie=th(dp,9,0),qie=th(dp,9,1),Hie=th(pb,5,0),Wie=th(pb,5,1),h3=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Vc=function(e,t,r){var n=t/8>>0;return(e[n]|e[n+1]<<8)>>>(t&7)&r},f3=function(e,t){var r=t/8>>0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>>(t&7)},gP=function(e){return(e/8>>0)+(e&7&&1)},Bz=function(e,t,r){(r==null||r>e.length)&&(r=e.length);var n=new(e instanceof Al?Al:e instanceof fb?fb:eu)(r-t);return n.set(e.subarray(t,r)),n},Gie=function(e,t,r){var n=e.length,i=!t||r,a=!r||r.i;r||(r={}),t||(t=new eu(n*3));var u=function(Fe){var rt=t.length;if(Fe>rt){var Ve=new eu(Math.max(rt*2,Fe));Ve.set(t),t=Ve}},s=r.f||0,f=r.p||0,m=r.b||0,x=r.l,w=r.d,S=r.m,C=r.n,L=n*8;do{if(!x){r.f=s=Vc(e,f,1);var k=Vc(e,f+1,3);if(f+=3,k)if(k==1)x=qie,w=Wie,S=9,C=5;else if(k==2){var B=Vc(e,f,31)+257,q=Vc(e,f+10,15)+4,te=B+Vc(e,f+5,31)+1;f+=14;for(var K=new eu(te),ee=new eu(19),Q=0;Q<q;++Q)ee[aA[Q]]=Vc(e,f+Q*3,7);f+=q*3;var ge=h3(ee),Y=(1<<ge)-1;if(!a&&f+te*(ge+7)>L)break;for(var Z=th(ee,ge,1),Q=0;Q<te;){var re=Z[Vc(e,f,Y)];f+=re&15;var $=re>>>4;if($<16)K[Q++]=$;else{var ye=0,fe=0;for($==16?(fe=3+Vc(e,f,3),f+=2,ye=K[Q-1]):$==17?(fe=3+Vc(e,f,7),f+=3):$==18&&(fe=11+Vc(e,f,127),f+=7);fe--;)K[Q++]=ye}}var Ae=K.subarray(0,B),ke=K.subarray(B);S=h3(Ae),C=h3(ke),x=th(Ae,S,1),w=th(ke,C,1)}else throw"invalid block type";else{var $=gP(f)+4,M=e[$-4]|e[$-3]<<8,z=$+M;if(z>n){if(a)throw"unexpected EOF";break}i&&u(m+M),t.set(e.subarray($,z),m),r.b=m+=M,r.p=f=z*8;continue}if(f>L)throw"unexpected EOF"}i&&u(m+131072);for(var Oe=(1<<S)-1,_e=(1<<C)-1,Ne=S+C+18;a||f+Ne<L;){var ye=x[f3(e,f)&Oe],Ke=ye>>>4;if(f+=ye&15,f>L)throw"unexpected EOF";if(!ye)throw"invalid length/literal";if(Ke<256)t[m++]=Ke;else if(Ke==256){x=null;break}else{var pt=Ke-254;if(Ke>264){var Q=Ke-257,ae=O5[Q];pt=Vc(e,f,(1<<ae)-1)+Fz[Q],f+=ae}var me=w[f3(e,f)&_e],we=me>>>4;if(!me)throw"invalid distance";f+=me&15;var ke=Uie[we];if(we>3){var ae=N5[we];ke+=f3(e,f)&(1<<ae)-1,f+=ae}if(f>L)throw"unexpected EOF";i&&u(m+131072);for(var Re=m+pt;m<Re;m+=4)t[m]=t[m-ke],t[m+1]=t[m+1-ke],t[m+2]=t[m+2-ke],t[m+3]=t[m+3-ke];m=Re}}r.l=x,r.p=f,r.b=m,x&&(s=1,r.m=S,r.d=w,r.n=C)}while(!s);return m==t.length?t:Bz(t,0,m)},Ih=function(e,t,r){r<<=t&7;var n=t/8>>0;e[n]|=r,e[n+1]|=r>>>8},Dv=function(e,t,r){r<<=t&7;var n=t/8>>0;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},p3=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,a=r.slice();if(!i)return[new eu(0),0];if(i==1){var u=new eu(r[0].s+1);return u[r[0].s]=1,[u,1]}r.sort(function(te,K){return te.f-K.f}),r.push({s:-1,f:25001});var s=r[0],f=r[1],m=0,x=1,w=2;for(r[0]={s:-1,f:s.f+f.f,l:s,r:f};x!=i-1;)s=r[r[m].f<r[w].f?m++:w++],f=r[m!=x&&r[m].f<r[w].f?m++:w++],r[x++]={s:-1,f:s.f+f.f,l:s,r:f};for(var S=a[0].s,n=1;n<i;++n)a[n].s>S&&(S=a[n].s);var C=new Al(S+1),L=uA(r[x-1],C,0);if(L>t){var n=0,k=0,$=L-t,M=1<<$;for(a.sort(function(K,ee){return C[ee.s]-C[K.s]||K.f-ee.f});n<i;++n){var z=a[n].s;if(C[z]>t)k+=M-(1<<L-C[z]),C[z]=t;else break}for(k>>>=$;k>0;){var B=a[n].s;C[B]<t?k-=1<<t-C[B]++-1:++n}for(;n>=0&&k;--n){var q=a[n].s;C[q]==t&&(--C[q],++k)}L=t}return[new eu(C),L]},uA=function(e,t,r){return e.s==-1?Math.max(uA(e.l,t,r+1),uA(e.r,t,r+1)):t[e.s]=r},xR=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Al(++t),n=0,i=e[0],a=1,u=function(f){r[n++]=f},s=1;s<=t;++s)if(e[s]==i&&s!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)u(32754);a>2&&(u(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(u(i),--a;a>6;a-=6)u(8304);a>2&&(u(a-3<<5|8208),a=0)}for(;a--;)u(i);a=1,i=e[s]}return[r.subarray(0,n),t]},Ov=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},cA=function(e,t,r){var n=r.length,i=gP(t+2);e[i]=n&255,e[i+1]=n>>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<n;++a)e[i+a+4]=r[a];return(i+4+n)*8},_R=function(e,t,r,n,i,a,u,s,f,m,x){Ih(t,x++,r),++i[256];for(var w=p3(i,15),S=w[0],C=w[1],L=p3(a,15),k=L[0],$=L[1],M=xR(S),z=M[0],B=M[1],q=xR(k),te=q[0],K=q[1],ee=new Al(19),Q=0;Q<z.length;++Q)ee[z[Q]&31]++;for(var Q=0;Q<te.length;++Q)ee[te[Q]&31]++;for(var ge=p3(ee,7),Y=ge[0],Z=ge[1],re=19;re>4&&!Y[aA[re-1]];--re);var ye=m+5<<3,fe=Ov(i,dp)+Ov(a,pb)+u,Ae=Ov(i,S)+Ov(a,k)+u+14+3*re+Ov(ee,Y)+(2*ee[16]+3*ee[17]+7*ee[18]);if(ye<=fe&&ye<=Ae)return cA(t,x,e.subarray(f,f+m));var ke,Oe,_e,Ne;if(Ih(t,x,1+(Ae<fe)),x+=2,Ae<fe){ke=th(S,C,0),Oe=S,_e=th(k,$,0),Ne=k;var Ke=th(Y,Z,0);Ih(t,x,B-257),Ih(t,x+5,K-1),Ih(t,x+10,re-4),x+=14;for(var Q=0;Q<re;++Q)Ih(t,x+3*Q,Y[aA[Q]]);x+=3*re;for(var pt=[z,te],ae=0;ae<2;++ae)for(var me=pt[ae],Q=0;Q<me.length;++Q){var we=me[Q]&31;Ih(t,x,Ke[we]),x+=Y[we],we>15&&(Ih(t,x,me[Q]>>>5&127),x+=me[Q]>>>12)}}else ke=Vie,Oe=dp,_e=Hie,Ne=pb;for(var Q=0;Q<s;++Q)if(n[Q]>255){var we=n[Q]>>>18&31;Dv(t,x,ke[we+257]),x+=Oe[we+257],we>7&&(Ih(t,x,n[Q]>>>23&31),x+=O5[we]);var Re=n[Q]&31;Dv(t,x,_e[Re]),x+=Ne[Re],Re>3&&(Dv(t,x,n[Q]>>>5&8191),x+=N5[Re])}else Dv(t,x,ke[n[Q]]),x+=Oe[n[Q]];return Dv(t,x,ke[256]),x+Oe[256]},Kie=new fb([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Xie=function(e,t,r,n,i,a){var u=e.length,s=new eu(n+u+5*(1+Math.floor(u/7e3))+i),f=s.subarray(n,s.length-i),m=0;if(!t||u<8)for(var x=0;x<=u;x+=65535){var w=x+65535;w<u?m=cA(f,m,e.subarray(x,w)):(f[x]=a,m=cA(f,m,e.subarray(x,u)))}else{for(var S=Kie[t-1],C=S>>>13,L=S&8191,k=(1<<r)-1,$=new Al(32768),M=new Al(k+1),z=Math.ceil(r/3),B=2*z,q=function(Et){return(e[Et]^e[Et+1]<<z^e[Et+2]<<B)&k},te=new fb(25e3),K=new Al(288),ee=new Al(32),Q=0,ge=0,x=0,Y=0,Z=0,re=0;x<u;++x){var ye=q(x),fe=x&32767,Ae=M[ye];if($[fe]=Ae,M[ye]=fe,Z<=x){var ke=u-x;if((Q>7e3||Y>24576)&&ke>423){m=_R(e,f,0,te,K,ee,ge,Y,re,x-re,m),Y=Q=ge=0,re=x;for(var Oe=0;Oe<286;++Oe)K[Oe]=0;for(var Oe=0;Oe<30;++Oe)ee[Oe]=0}var _e=2,Ne=0,Ke=L,pt=fe-Ae&32767;if(ke>2&&ye==q(x-pt))for(var ae=Math.min(C,ke)-1,me=Math.min(32767,x),we=Math.min(258,ke);pt<=me&&--Ke&&fe!=Ae;){if(e[x+_e]==e[x+_e-pt]){for(var Re=0;Re<we&&e[x+Re]==e[x+Re-pt];++Re);if(Re>_e){if(_e=Re,Ne=pt,Re>ae)break;for(var Fe=Math.min(pt,Re-2),rt=0,Oe=0;Oe<Fe;++Oe){var Ve=x-pt+Oe+32768&32767,We=$[Ve],nt=Ve-We+32768&32767;nt>rt&&(rt=nt,Ae=Ve)}}}fe=Ae,Ae=$[fe],pt+=fe-Ae+32768&32767}if(Ne){te[Y++]=268435456|sA[_e]<<18|bR[Ne];var ut=sA[_e]&31,bt=bR[Ne]&31;ge+=O5[ut]+N5[bt],++K[257+ut],++ee[bt],Z=x+_e,++Q}else te[Y++]=e[x],++K[e[x]]}}m=_R(e,f,a,te,K,ee,ge,Y,re,x-re,m)}return Bz(s,0,n+gP(m)+i)},Zie=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,a=r.length,u=0;u!=a;){for(var s=Math.min(u+5552,a);u<s;++u)n+=r[u],i+=n;n%=65521,i%=65521}e=n,t=i},d:function(){return(e>>>8<<16|(t&255)<<8|t>>>8)+((e&255)<<23)*2}}},Yie=function(e,t,r,n,i){return Xie(e,t.level==null?6:t.level,t.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):12+t.mem,r,n,!i)},Jie=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},Qie=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;e[0]=120,e[1]=n<<6|(n?32-2*n:1)},eoe=function(e){if((e[0]&15)!=8||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(e[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function dA(e,t){t===void 0&&(t={});var r=Zie();r.p(e);var n=Yie(e,t,2,4);return Qie(n,t),Jie(n,n.length-4,r.d()),n}function toe(e,t){return Gie((eoe(e),e.subarray(2,-4)),t)}var _n=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function m3(){_n.console&&typeof _n.console.log=="function"&&_n.console.log.apply(_n.console,arguments)}var ao={log:m3,warn:function(e){_n.console&&(typeof _n.console.warn=="function"?_n.console.warn.apply(_n.console,arguments):m3.call(null,arguments))},error:function(e){_n.console&&(typeof _n.console.error=="function"?_n.console.error.apply(_n.console,arguments):m3(e))}};function g3(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Hp(n.response,t,r)},n.onerror=function(){ao.error("could not download file")},n.send()}function wR(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function hx(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var R1,hA,Hp=_n.saveAs||((typeof window>"u"?"undefined":Ui(window))!=="object"||window!==_n?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=_n.URL||_n.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?wR(i.href)?g3(e,t,r):hx(i,i.target="_blank"):hx(i)):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){hx(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(wR(e))g3(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){hx(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:Ui(a)!=="object"&&(ao.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return g3(e,t,r);var i=e.type==="application/octet-stream",a=/constructor/i.test(_n.HTMLElement)||_n.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||i&&a)&&(typeof FileReader>"u"?"undefined":Ui(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var x=s.result;x=u?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=x:location=x,n=null},s.readAsDataURL(e)}else{var f=_n.URL||_n.webkitURL,m=f.createObjectURL(e);n?n.location=m:location.href=m,n=null,setTimeout(function(){f.revokeObjectURL(m)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function zz(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,u=i.exec(e);u&&(t=a(u),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),f=this.g.toString(16),m=this.b.toString(16);return s.length==1&&(s="0"+s),f.length==1&&(f="0"+f),m.length==1&&(m="0"+m),"#"+s+f+m}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function y3(e,t){var r=e[0],n=e[1],i=e[2],a=e[3];r=tl(r,n,i,a,t[0],7,-680876936),a=tl(a,r,n,i,t[1],12,-389564586),i=tl(i,a,r,n,t[2],17,606105819),n=tl(n,i,a,r,t[3],22,-1044525330),r=tl(r,n,i,a,t[4],7,-176418897),a=tl(a,r,n,i,t[5],12,1200080426),i=tl(i,a,r,n,t[6],17,-1473231341),n=tl(n,i,a,r,t[7],22,-45705983),r=tl(r,n,i,a,t[8],7,1770035416),a=tl(a,r,n,i,t[9],12,-1958414417),i=tl(i,a,r,n,t[10],17,-42063),n=tl(n,i,a,r,t[11],22,-1990404162),r=tl(r,n,i,a,t[12],7,1804603682),a=tl(a,r,n,i,t[13],12,-40341101),i=tl(i,a,r,n,t[14],17,-1502002290),r=rl(r,n=tl(n,i,a,r,t[15],22,1236535329),i,a,t[1],5,-165796510),a=rl(a,r,n,i,t[6],9,-1069501632),i=rl(i,a,r,n,t[11],14,643717713),n=rl(n,i,a,r,t[0],20,-373897302),r=rl(r,n,i,a,t[5],5,-701558691),a=rl(a,r,n,i,t[10],9,38016083),i=rl(i,a,r,n,t[15],14,-660478335),n=rl(n,i,a,r,t[4],20,-405537848),r=rl(r,n,i,a,t[9],5,568446438),a=rl(a,r,n,i,t[14],9,-1019803690),i=rl(i,a,r,n,t[3],14,-187363961),n=rl(n,i,a,r,t[8],20,1163531501),r=rl(r,n,i,a,t[13],5,-1444681467),a=rl(a,r,n,i,t[2],9,-51403784),i=rl(i,a,r,n,t[7],14,1735328473),r=nl(r,n=rl(n,i,a,r,t[12],20,-1926607734),i,a,t[5],4,-378558),a=nl(a,r,n,i,t[8],11,-2022574463),i=nl(i,a,r,n,t[11],16,1839030562),n=nl(n,i,a,r,t[14],23,-35309556),r=nl(r,n,i,a,t[1],4,-1530992060),a=nl(a,r,n,i,t[4],11,1272893353),i=nl(i,a,r,n,t[7],16,-155497632),n=nl(n,i,a,r,t[10],23,-1094730640),r=nl(r,n,i,a,t[13],4,681279174),a=nl(a,r,n,i,t[0],11,-358537222),i=nl(i,a,r,n,t[3],16,-722521979),n=nl(n,i,a,r,t[6],23,76029189),r=nl(r,n,i,a,t[9],4,-640364487),a=nl(a,r,n,i,t[12],11,-421815835),i=nl(i,a,r,n,t[15],16,530742520),r=il(r,n=nl(n,i,a,r,t[2],23,-995338651),i,a,t[0],6,-198630844),a=il(a,r,n,i,t[7],10,1126891415),i=il(i,a,r,n,t[14],15,-1416354905),n=il(n,i,a,r,t[5],21,-57434055),r=il(r,n,i,a,t[12],6,1700485571),a=il(a,r,n,i,t[3],10,-1894986606),i=il(i,a,r,n,t[10],15,-1051523),n=il(n,i,a,r,t[1],21,-2054922799),r=il(r,n,i,a,t[8],6,1873313359),a=il(a,r,n,i,t[15],10,-30611744),i=il(i,a,r,n,t[6],15,-1560198380),n=il(n,i,a,r,t[13],21,1309151649),r=il(r,n,i,a,t[4],6,-145523070),a=il(a,r,n,i,t[11],10,-1120210379),i=il(i,a,r,n,t[2],15,718787259),n=il(n,i,a,r,t[9],21,-343485551),e[0]=Yf(r,e[0]),e[1]=Yf(n,e[1]),e[2]=Yf(i,e[2]),e[3]=Yf(a,e[3])}function F5(e,t,r,n,i,a){return t=Yf(Yf(t,e),Yf(n,a)),Yf(t<<i|t>>>32-i,r)}function tl(e,t,r,n,i,a,u){return F5(t&r|~t&n,e,t,i,a,u)}function rl(e,t,r,n,i,a,u){return F5(t&n|r&~n,e,t,i,a,u)}function nl(e,t,r,n,i,a,u){return F5(t^r^n,e,t,i,a,u)}function il(e,t,r,n,i,a,u){return F5(r^(t|~n),e,t,i,a,u)}function jz(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)y3(n,roe(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(y3(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,y3(n,i),n}function roe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}R1=_n.atob.bind(_n),hA=_n.btoa.bind(_n);var SR="0123456789abcdef".split("");function noe(e){for(var t="",r=0;r<4;r++)t+=SR[e>>8*r+4&15]+SR[e>>8*r&15];return t}function ioe(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function fA(e){return jz(e).map(ioe).join("")}var ooe=function(e){for(var t=0;t<e.length;t++)e[t]=noe(e[t]);return e.join("")}(jz("hello"))!="5d41402abc4b2a76b9719d911017c592";function Yf(e,t){if(ooe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function pA(e,t){var r,n,i,a;if(e!==r){for(var u=(i=e,a=1+(256/e.length>>0),new Array(a+1).join(i)),s=[],f=0;f<256;f++)s[f]=f;var m=0;for(f=0;f<256;f++){var x=s[f];m=(m+x+u.charCodeAt(f))%256,s[f]=s[m],s[m]=x}r=e,n=s}else s=n;var w=t.length,S=0,C=0,L="";for(f=0;f<w;f++)C=(C+(x=s[S=(S+1)%256]))%256,s[S]=s[C],s[C]=x,u=s[(s[S]+s[C])%256],L+=String.fromCharCode(t.charCodeAt(f)^u);return L}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var CR={print:4,modify:8,copy:16,"annot-forms":32};function Vg(e,t,r,n){this.v=1,this.r=2;var i=192;e.forEach(function(s){if(CR.perm!==void 0)throw new Error("Invalid permission: "+s);i+=CR[s]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var a=(t+this.padding).substr(0,32),u=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,u),this.P=-(1+(255^i)),this.encryptionKey=fA(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=pA(this.encryptionKey,this.padding)}function qg(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=e[n]}return t}function ER(e){if(Ui(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var a=Math.random().toString(35);return t[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[r]){var u=t[r][a];try{u[0].apply(e,n)}catch(s){_n.console&&ao.error("jsPDF PubSub Error",s.message,s)}u[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function $_(e){if(!(this instanceof $_))return new $_(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function Uz(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Xp(e,t,r,n,i){if(!(this instanceof Xp))return new Xp(e,t,r,n,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,Uz.call(this,n,i)}function _0(e,t,r,n,i){if(!(this instanceof _0))return new _0(e,t,r,n,i);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,Uz.call(this,n,i)}function wn(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],u=[],s=1,f=16,m="S",x=null;Ui(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,i=e.format||i,a=e.compress||e.compressPdf||a,(x=e.encryption||null)!==null&&(x.userPassword=x.userPassword||"",x.ownerPassword=x.ownerPassword||"",x.userPermissions=x.userPermissions||[]),s=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(f=e.floatPrecision),m=e.defaultPathOperation||"S"),u=e.filters||(a===!0?["FlateEncode"]:u),n=n||"mm",r=(""+(r||"P")).toLowerCase();var w=e.putOnlyUsedFonts||!1,S={},C={internal:{},__private__:{}};C.__private__.PubSub=ER;var L="1.3",k=C.__private__.getPdfVersion=function(){return L};C.__private__.setPdfVersion=function(j){L=j};var $={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};C.__private__.getPageFormats=function(){return $};var M=C.__private__.getPageFormat=function(j){return $[j]};i=i||"a4";var z={COMPAT:"compat",ADVANCED:"advanced"},B=z.COMPAT;function q(){this.saveGraphicsState(),ce(new pe(At,0,0,-At,0,rs()*At).toString()+" cm"),this.setFontSize(this.getFontSize()/At),m="n",B=z.ADVANCED}function te(){this.restoreGraphicsState(),m="S",B=z.COMPAT}var K=C.__private__.combineFontStyleAndFontWeight=function(j,be){if(j=="bold"&&be=="normal"||j=="bold"&&be==400||j=="normal"&&be=="italic"||j=="bold"&&be=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return be&&(j=be==400||be==="normal"?j==="italic"?"italic":"normal":be!=700&&be!=="bold"||j!=="normal"?(be==700?"bold":be)+""+j:"bold"),j};C.advancedAPI=function(j){var be=B===z.COMPAT;return be&&q.call(this),typeof j!="function"||(j(this),be&&te.call(this)),this},C.compatAPI=function(j){var be=B===z.ADVANCED;return be&&te.call(this),typeof j!="function"||(j(this),be&&q.call(this)),this},C.isAdvancedAPI=function(){return B===z.ADVANCED};var ee,Q=function(j){if(B!==z.ADVANCED)throw new Error(j+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ge=C.roundToPrecision=C.__private__.roundToPrecision=function(j,be){var qe=t||be;if(isNaN(j)||isNaN(qe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return j.toFixed(qe).replace(/0+$/,"")};ee=C.hpf=C.__private__.hpf=typeof f=="number"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return ge(j,f)}:f==="smart"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return ge(j,j>-1&&j<1?16:5)}:function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return ge(j,16)};var Y=C.f2=C.__private__.f2=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f2");return ge(j,2)},Z=C.__private__.f3=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f3");return ge(j,3)},re=C.scale=C.__private__.scale=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.scale");return B===z.COMPAT?j*At:B===z.ADVANCED?j:void 0},ye=function(j){return B===z.COMPAT?rs()-j:B===z.ADVANCED?j:void 0},fe=function(j){return re(ye(j))};C.__private__.setPrecision=C.setPrecision=function(j){typeof parseInt(j,10)=="number"&&(t=parseInt(j,10))};var Ae,ke="00000000000000000000000000000000",Oe=C.__private__.getFileId=function(){return ke},_e=C.__private__.setFileId=function(j){return ke=j!==void 0&&/^[a-fA-F0-9]{32}$/.test(j)?j.toUpperCase():ke.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),x!==null&&(Rr=new Vg(x.userPermissions,x.userPassword,x.ownerPassword,ke)),ke};C.setFileId=function(j){return _e(j),this},C.getFileId=function(){return Oe()};var Ne=C.__private__.convertDateToPDFDate=function(j){var be=j.getTimezoneOffset(),qe=be<0?"+":"-",ht=Math.floor(Math.abs(be/60)),xt=Math.abs(be%60),Nt=[qe,we(ht),"'",we(xt),"'"].join("");return["D:",j.getFullYear(),we(j.getMonth()+1),we(j.getDate()),we(j.getHours()),we(j.getMinutes()),we(j.getSeconds()),Nt].join("")},Ke=C.__private__.convertPDFDateToDate=function(j){var be=parseInt(j.substr(2,4),10),qe=parseInt(j.substr(6,2),10)-1,ht=parseInt(j.substr(8,2),10),xt=parseInt(j.substr(10,2),10),Nt=parseInt(j.substr(12,2),10),ir=parseInt(j.substr(14,2),10);return new Date(be,qe,ht,xt,Nt,ir,0)},pt=C.__private__.setCreationDate=function(j){var be;if(j===void 0&&(j=new Date),j instanceof Date)be=Ne(j);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(j))throw new Error("Invalid argument passed to jsPDF.setCreationDate");be=j}return Ae=be},ae=C.__private__.getCreationDate=function(j){var be=Ae;return j==="jsDate"&&(be=Ke(Ae)),be};C.setCreationDate=function(j){return pt(j),this},C.getCreationDate=function(j){return ae(j)};var me,we=C.__private__.padd2=function(j){return("0"+parseInt(j)).slice(-2)},Re=C.__private__.padd2Hex=function(j){return("00"+(j=j.toString())).substr(j.length)},Fe=0,rt=[],Ve=[],We=0,nt=[],ut=[],bt=!1,Ct=Ve,Et=function(){Fe=0,We=0,Ve=[],rt=[],nt=[],Yt=St(),$t=St()};C.__private__.setCustomOutputDestination=function(j){bt=!0,Ct=j};var lt=function(j){bt||(Ct=j)};C.__private__.resetCustomOutputDestination=function(){bt=!1,Ct=Ve};var ce=C.__private__.out=function(j){return j=j.toString(),We+=j.length+1,Ct.push(j),Ct},ur=C.__private__.write=function(j){return ce(arguments.length===1?j.toString():Array.prototype.join.call(arguments," "))},qt=C.__private__.getArrayBuffer=function(j){for(var be=j.length,qe=new ArrayBuffer(be),ht=new Uint8Array(qe);be--;)ht[be]=j.charCodeAt(be);return qe},wt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];C.__private__.getStandardFonts=function(){return wt};var Mt=e.fontSize||16;C.__private__.setFontSize=C.setFontSize=function(j){return Mt=B===z.ADVANCED?j/At:j,this};var It,Gt=C.__private__.getFontSize=C.getFontSize=function(){return B===z.COMPAT?Mt:Mt*At},Lt=e.R2L||!1;C.__private__.setR2L=C.setR2L=function(j){return Lt=j,this},C.__private__.getR2L=C.getR2L=function(){return Lt};var Jt,_r=C.__private__.setZoomMode=function(j){var be=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(j))It=j;else if(isNaN(j)){if(be.indexOf(j)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+j+'" is not recognized.');It=j}else It=parseInt(j,10)};C.__private__.getZoomMode=function(){return It};var Cr,Ir=C.__private__.setPageMode=function(j){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(j)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+j+'" is not recognized.');Jt=j};C.__private__.getPageMode=function(){return Jt};var Ze=C.__private__.setLayoutMode=function(j){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(j)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+j+'" is not recognized.');Cr=j};C.__private__.getLayoutMode=function(){return Cr},C.__private__.setDisplayMode=C.setDisplayMode=function(j,be,qe){return _r(j),Ze(be),Ir(qe),this};var gt={title:"",subject:"",author:"",keywords:"",creator:""};C.__private__.getDocumentProperty=function(j){if(Object.keys(gt).indexOf(j)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return gt[j]},C.__private__.getDocumentProperties=function(){return gt},C.__private__.setDocumentProperties=C.setProperties=C.setDocumentProperties=function(j){for(var be in gt)gt.hasOwnProperty(be)&&j[be]&&(gt[be]=j[be]);return this},C.__private__.setDocumentProperty=function(j,be){if(Object.keys(gt).indexOf(j)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return gt[j]=be};var Ft,At,Ar,ot,kt,Dt={},cr={},Wr=[],nr={},ei={},On={},hi={},Vn=null,je=0,se=[],de=new ER(C),Pe=e.hotfixes||[],ze={},it={},ct=[],pe=function j(be,qe,ht,xt,Nt,ir){if(!(this instanceof j))return new j(be,qe,ht,xt,Nt,ir);isNaN(be)&&(be=1),isNaN(qe)&&(qe=0),isNaN(ht)&&(ht=0),isNaN(xt)&&(xt=1),isNaN(Nt)&&(Nt=0),isNaN(ir)&&(ir=0),this._matrix=[be,qe,ht,xt,Nt,ir]};Object.defineProperty(pe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(pe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(pe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(pe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(pe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(pe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(pe.prototype,"a",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(pe.prototype,"b",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(pe.prototype,"c",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(pe.prototype,"d",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(pe.prototype,"e",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(pe.prototype,"f",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(pe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(pe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(pe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(pe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),pe.prototype.join=function(j){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(ee).join(j)},pe.prototype.multiply=function(j){var be=j.sx*this.sx+j.shy*this.shx,qe=j.sx*this.shy+j.shy*this.sy,ht=j.shx*this.sx+j.sy*this.shx,xt=j.shx*this.shy+j.sy*this.sy,Nt=j.tx*this.sx+j.ty*this.shx+this.tx,ir=j.tx*this.shy+j.ty*this.sy+this.ty;return new pe(be,qe,ht,xt,Nt,ir)},pe.prototype.decompose=function(){var j=this.sx,be=this.shy,qe=this.shx,ht=this.sy,xt=this.tx,Nt=this.ty,ir=Math.sqrt(j*j+be*be),Pr=(j/=ir)*qe+(be/=ir)*ht;qe-=j*Pr,ht-=be*Pr;var Yr=Math.sqrt(qe*qe+ht*ht);return Pr/=Yr,j*(ht/=Yr)<be*(qe/=Yr)&&(j=-j,be=-be,Pr=-Pr,ir=-ir),{scale:new pe(ir,0,0,Yr,0,0),translate:new pe(1,0,0,1,xt,Nt),rotate:new pe(j,be,-be,j,0,0),skew:new pe(1,0,Pr,1,0,0)}},pe.prototype.toString=function(j){return this.join(" ")},pe.prototype.inversed=function(){var j=this.sx,be=this.shy,qe=this.shx,ht=this.sy,xt=this.tx,Nt=this.ty,ir=1/(j*ht-be*qe),Pr=ht*ir,Yr=-be*ir,fn=-qe*ir,pn=j*ir;return new pe(Pr,Yr,fn,pn,-Pr*xt-fn*Nt,-Yr*xt-pn*Nt)},pe.prototype.applyToPoint=function(j){var be=j.x*this.sx+j.y*this.shx+this.tx,qe=j.x*this.shy+j.y*this.sy+this.ty;return new qa(be,qe)},pe.prototype.applyToRectangle=function(j){var be=this.applyToPoint(j),qe=this.applyToPoint(new qa(j.x+j.w,j.y+j.h));return new gu(be.x,be.y,qe.x-be.x,qe.y-be.y)},pe.prototype.clone=function(){var j=this.sx,be=this.shy,qe=this.shx,ht=this.sy,xt=this.tx,Nt=this.ty;return new pe(j,be,qe,ht,xt,Nt)},C.Matrix=pe;var ve=C.matrixMult=function(j,be){return be.multiply(j)},Be=new pe(1,0,0,1,0,0);C.unitMatrix=C.identityMatrix=Be;var Ye=function(j,be){if(!ei[j]){var qe=(be instanceof Xp?"Sh":"P")+(Object.keys(nr).length+1).toString(10);be.id=qe,ei[j]=qe,nr[qe]=be,de.publish("addPattern",be)}};C.ShadingPattern=Xp,C.TilingPattern=_0,C.addShadingPattern=function(j,be){return Q("addShadingPattern()"),Ye(j,be),this},C.beginTilingPattern=function(j){Q("beginTilingPattern()"),bs(j.boundingBox[0],j.boundingBox[1],j.boundingBox[2]-j.boundingBox[0],j.boundingBox[3]-j.boundingBox[1],j.matrix)},C.endTilingPattern=function(j,be){Q("endTilingPattern()"),be.stream=ut[me].join(`
`),Ye(j,be),de.publish("endTilingPattern",be),ct.pop().restore()};var et=C.__private__.newObject=function(){var j=St();return Bt(j,!0),j},St=C.__private__.newObjectDeferred=function(){return Fe++,rt[Fe]=function(){return We},Fe},Bt=function(j,be){return be=typeof be=="boolean"&&be,rt[j]=We,be&&ce(j+" 0 obj"),j},Ot=C.__private__.newAdditionalObject=function(){var j={objId:St(),content:""};return nt.push(j),j},Yt=St(),$t=St(),Qt=C.__private__.decodeColorString=function(j){var be=j.split(" ");if(be.length!==2||be[1]!=="g"&&be[1]!=="G")be.length===5&&(be[4]==="k"||be[4]==="K")&&(be=[(1-be[0])*(1-be[3]),(1-be[1])*(1-be[3]),(1-be[2])*(1-be[3]),"r"]);else{var qe=parseFloat(be[0]);be=[qe,qe,qe,"r"]}for(var ht="#",xt=0;xt<3;xt++)ht+=("0"+Math.floor(255*parseFloat(be[xt])).toString(16)).slice(-2);return ht},hr=C.__private__.encodeColorString=function(j){var be;typeof j=="string"&&(j={ch1:j});var qe=j.ch1,ht=j.ch2,xt=j.ch3,Nt=j.ch4,ir=j.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof qe=="string"&&qe.charAt(0)!=="#"){var Pr=new zz(qe);if(Pr.ok)qe=Pr.toHex();else if(!/^\d*\.?\d*$/.test(qe))throw new Error('Invalid color "'+qe+'" passed to jsPDF.encodeColorString.')}if(typeof qe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(qe)&&(qe="#"+qe[1]+qe[1]+qe[2]+qe[2]+qe[3]+qe[3]),typeof qe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(qe)){var Yr=parseInt(qe.substr(1),16);qe=Yr>>16&255,ht=Yr>>8&255,xt=255&Yr}if(ht===void 0||Nt===void 0&&qe===ht&&ht===xt)if(typeof qe=="string")be=qe+" "+ir[0];else switch(j.precision){case 2:be=Y(qe/255)+" "+ir[0];break;case 3:default:be=Z(qe/255)+" "+ir[0]}else if(Nt===void 0||Ui(Nt)==="object"){if(Nt&&!isNaN(Nt.a)&&Nt.a===0)return be=["1.","1.","1.",ir[1]].join(" ");if(typeof qe=="string")be=[qe,ht,xt,ir[1]].join(" ");else switch(j.precision){case 2:be=[Y(qe/255),Y(ht/255),Y(xt/255),ir[1]].join(" ");break;default:case 3:be=[Z(qe/255),Z(ht/255),Z(xt/255),ir[1]].join(" ")}}else if(typeof qe=="string")be=[qe,ht,xt,Nt,ir[2]].join(" ");else switch(j.precision){case 2:be=[Y(qe),Y(ht),Y(xt),Y(Nt),ir[2]].join(" ");break;case 3:default:be=[Z(qe),Z(ht),Z(xt),Z(Nt),ir[2]].join(" ")}return be},gr=C.__private__.getFilters=function(){return u},yr=C.__private__.putStream=function(j){var be=(j=j||{}).data||"",qe=j.filters||gr(),ht=j.alreadyAppliedFilters||[],xt=j.addLength1||!1,Nt=be.length,ir=j.objectId,Pr=function(Yo){return Yo};if(x!==null&&ir===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");x!==null&&(Pr=Rr.encryptor(ir,0));var Yr={};qe===!0&&(qe=["FlateEncode"]);var fn=j.additionalKeyValues||[],pn=(Yr=wn.API.processDataByFilters!==void 0?wn.API.processDataByFilters(be,qe):{data:be,reverseChain:[]}).reverseChain+(Array.isArray(ht)?ht.join(" "):ht.toString());if(Yr.data.length!==0&&(fn.push({key:"Length",value:Yr.data.length}),xt===!0&&fn.push({key:"Length1",value:Nt})),pn.length!=0)if(pn.split("/").length-1==1)fn.push({key:"Filter",value:pn});else{fn.push({key:"Filter",value:"["+pn+"]"});for(var mn=0;mn<fn.length;mn+=1)if(fn[mn].key==="DecodeParms"){for(var Xn=[],Ai=0;Ai<Yr.reverseChain.split("/").length-1;Ai+=1)Xn.push("null");Xn.push(fn[mn].value),fn[mn].value="["+Xn.join(" ")+"]"}}ce("<<");for(var gn=0;gn<fn.length;gn++)ce("/"+fn[gn].key+" "+fn[gn].value);ce(">>"),Yr.data.length!==0&&(ce("stream"),ce(Pr(Yr.data)),ce("endstream"))},vr=C.__private__.putPage=function(j){var be=j.number,qe=j.data,ht=j.objId,xt=j.contentsObjId;Bt(ht,!0),ce("<</Type /Page"),ce("/Parent "+j.rootDictionaryObjId+" 0 R"),ce("/Resources "+j.resourceDictionaryObjId+" 0 R"),ce("/MediaBox ["+parseFloat(ee(j.mediaBox.bottomLeftX))+" "+parseFloat(ee(j.mediaBox.bottomLeftY))+" "+ee(j.mediaBox.topRightX)+" "+ee(j.mediaBox.topRightY)+"]"),j.cropBox!==null&&ce("/CropBox ["+ee(j.cropBox.bottomLeftX)+" "+ee(j.cropBox.bottomLeftY)+" "+ee(j.cropBox.topRightX)+" "+ee(j.cropBox.topRightY)+"]"),j.bleedBox!==null&&ce("/BleedBox ["+ee(j.bleedBox.bottomLeftX)+" "+ee(j.bleedBox.bottomLeftY)+" "+ee(j.bleedBox.topRightX)+" "+ee(j.bleedBox.topRightY)+"]"),j.trimBox!==null&&ce("/TrimBox ["+ee(j.trimBox.bottomLeftX)+" "+ee(j.trimBox.bottomLeftY)+" "+ee(j.trimBox.topRightX)+" "+ee(j.trimBox.topRightY)+"]"),j.artBox!==null&&ce("/ArtBox ["+ee(j.artBox.bottomLeftX)+" "+ee(j.artBox.bottomLeftY)+" "+ee(j.artBox.topRightX)+" "+ee(j.artBox.topRightY)+"]"),typeof j.userUnit=="number"&&j.userUnit!==1&&ce("/UserUnit "+j.userUnit),de.publish("putPage",{objId:ht,pageContext:se[be],pageNumber:be,page:qe}),ce("/Contents "+xt+" 0 R"),ce(">>"),ce("endobj");var Nt=qe.join(`
`);return B===z.ADVANCED&&(Nt+=`
Q`),Bt(xt,!0),yr({data:Nt,filters:gr(),objectId:xt}),ce("endobj"),ht},Tr=C.__private__.putPages=function(){var j,be,qe=[];for(j=1;j<=je;j++)se[j].objId=St(),se[j].contentsObjId=St();for(j=1;j<=je;j++)qe.push(vr({number:j,data:ut[j],objId:se[j].objId,contentsObjId:se[j].contentsObjId,mediaBox:se[j].mediaBox,cropBox:se[j].cropBox,bleedBox:se[j].bleedBox,trimBox:se[j].trimBox,artBox:se[j].artBox,userUnit:se[j].userUnit,rootDictionaryObjId:Yt,resourceDictionaryObjId:$t}));Bt(Yt,!0),ce("<</Type /Pages");var ht="/Kids [";for(be=0;be<je;be++)ht+=qe[be]+" 0 R ";ce(ht+"]"),ce("/Count "+je),ce(">>"),ce("endobj"),de.publish("postPutPages")},zr=function(j){de.publish("putFont",{font:j,out:ce,newObject:et,putStream:yr}),j.isAlreadyPutted!==!0&&(j.objectNumber=et(),ce("<<"),ce("/Type /Font"),ce("/BaseFont /"+qg(j.postScriptName)),ce("/Subtype /Type1"),typeof j.encoding=="string"&&ce("/Encoding /"+j.encoding),ce("/FirstChar 32"),ce("/LastChar 255"),ce(">>"),ce("endobj"))},Kn=function(){for(var j in Dt)Dt.hasOwnProperty(j)&&(w===!1||w===!0&&S.hasOwnProperty(j))&&zr(Dt[j])},fi=function(j){j.objectNumber=et();var be=[];be.push({key:"Type",value:"/XObject"}),be.push({key:"Subtype",value:"/Form"}),be.push({key:"BBox",value:"["+[ee(j.x),ee(j.y),ee(j.x+j.width),ee(j.y+j.height)].join(" ")+"]"}),be.push({key:"Matrix",value:"["+j.matrix.toString()+"]"});var qe=j.pages[1].join(`
`);yr({data:qe,additionalKeyValues:be,objectId:j.objectNumber}),ce("endobj")},Hn=function(){for(var j in ze)ze.hasOwnProperty(j)&&fi(ze[j])},so=function(j,be){var qe,ht=[],xt=1/(be-1);for(qe=0;qe<1;qe+=xt)ht.push(qe);if(ht.push(1),j[0].offset!=0){var Nt={offset:0,color:j[0].color};j.unshift(Nt)}if(j[j.length-1].offset!=1){var ir={offset:1,color:j[j.length-1].color};j.push(ir)}for(var Pr="",Yr=0,fn=0;fn<ht.length;fn++){for(qe=ht[fn];qe>j[Yr+1].offset;)Yr++;var pn=j[Yr].offset,mn=(qe-pn)/(j[Yr+1].offset-pn),Xn=j[Yr].color,Ai=j[Yr+1].color;Pr+=Re(Math.round((1-mn)*Xn[0]+mn*Ai[0]).toString(16))+Re(Math.round((1-mn)*Xn[1]+mn*Ai[1]).toString(16))+Re(Math.round((1-mn)*Xn[2]+mn*Ai[2]).toString(16))}return Pr.trim()},In=function(j,be){be||(be=21);var qe=et(),ht=so(j.colors,be),xt=[];xt.push({key:"FunctionType",value:"0"}),xt.push({key:"Domain",value:"[0.0 1.0]"}),xt.push({key:"Size",value:"["+be+"]"}),xt.push({key:"BitsPerSample",value:"8"}),xt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),xt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),yr({data:ht,additionalKeyValues:xt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:qe}),ce("endobj"),j.objectNumber=et(),ce("<< /ShadingType "+j.type),ce("/ColorSpace /DeviceRGB");var Nt="/Coords ["+ee(parseFloat(j.coords[0]))+" "+ee(parseFloat(j.coords[1]))+" ";j.type===2?Nt+=ee(parseFloat(j.coords[2]))+" "+ee(parseFloat(j.coords[3])):Nt+=ee(parseFloat(j.coords[2]))+" "+ee(parseFloat(j.coords[3]))+" "+ee(parseFloat(j.coords[4]))+" "+ee(parseFloat(j.coords[5])),ce(Nt+="]"),j.matrix&&ce("/Matrix ["+j.matrix.toString()+"]"),ce("/Function "+qe+" 0 R"),ce("/Extend [true true]"),ce(">>"),ce("endobj")},ja=function(j,be){var qe=St(),ht=et();be.push({resourcesOid:qe,objectOid:ht}),j.objectNumber=ht;var xt=[];xt.push({key:"Type",value:"/Pattern"}),xt.push({key:"PatternType",value:"1"}),xt.push({key:"PaintType",value:"1"}),xt.push({key:"TilingType",value:"1"}),xt.push({key:"BBox",value:"["+j.boundingBox.map(ee).join(" ")+"]"}),xt.push({key:"XStep",value:ee(j.xStep)}),xt.push({key:"YStep",value:ee(j.yStep)}),xt.push({key:"Resources",value:qe+" 0 R"}),j.matrix&&xt.push({key:"Matrix",value:"["+j.matrix.toString()+"]"}),yr({data:j.stream,additionalKeyValues:xt,objectId:j.objectNumber}),ce("endobj")},To=function(j){var be;for(be in nr)nr.hasOwnProperty(be)&&(nr[be]instanceof Xp?In(nr[be]):nr[be]instanceof _0&&ja(nr[be],j))},Ln=function(j){for(var be in j.objectNumber=et(),ce("<<"),j)switch(be){case"opacity":ce("/ca "+Y(j[be]));break;case"stroke-opacity":ce("/CA "+Y(j[be]))}ce(">>"),ce("endobj")},eo=function(){var j;for(j in On)On.hasOwnProperty(j)&&Ln(On[j])},Mn=function(){for(var j in ce("/XObject <<"),ze)ze.hasOwnProperty(j)&&ze[j].objectNumber>=0&&ce("/"+j+" "+ze[j].objectNumber+" 0 R");de.publish("putXobjectDict"),ce(">>")},xn=function(){Rr.oid=et(),ce("<<"),ce("/Filter /Standard"),ce("/V "+Rr.v),ce("/R "+Rr.r),ce("/U <"+Rr.toHexString(Rr.U)+">"),ce("/O <"+Rr.toHexString(Rr.O)+">"),ce("/P "+Rr.P),ce(">>"),ce("endobj")},Wn=function(){for(var j in ce("/Font <<"),Dt)Dt.hasOwnProperty(j)&&(w===!1||w===!0&&S.hasOwnProperty(j))&&ce("/"+j+" "+Dt[j].objectNumber+" 0 R");ce(">>")},Fo=function(){if(Object.keys(nr).length>0){for(var j in ce("/Shading <<"),nr)nr.hasOwnProperty(j)&&nr[j]instanceof Xp&&nr[j].objectNumber>=0&&ce("/"+j+" "+nr[j].objectNumber+" 0 R");de.publish("putShadingPatternDict"),ce(">>")}},Rn=function(j){if(Object.keys(nr).length>0){for(var be in ce("/Pattern <<"),nr)nr.hasOwnProperty(be)&&nr[be]instanceof C.TilingPattern&&nr[be].objectNumber>=0&&nr[be].objectNumber<j&&ce("/"+be+" "+nr[be].objectNumber+" 0 R");de.publish("putTilingPatternDict"),ce(">>")}},zn=function(){if(Object.keys(On).length>0){var j;for(j in ce("/ExtGState <<"),On)On.hasOwnProperty(j)&&On[j].objectNumber>=0&&ce("/"+j+" "+On[j].objectNumber+" 0 R");de.publish("putGStateDict"),ce(">>")}},ai=function(j){Bt(j.resourcesOid,!0),ce("<<"),ce("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Wn(),Fo(),Rn(j.objectOid),zn(),Mn(),ce(">>"),ce("endobj")},Ko=function(){var j=[];Kn(),eo(),Hn(),To(j),de.publish("putResources"),j.forEach(ai),ai({resourcesOid:$t,objectOid:Number.MAX_SAFE_INTEGER}),de.publish("postPutResources")},Li=function(){de.publish("putAdditionalObjects");for(var j=0;j<nt.length;j++){var be=nt[j];Bt(be.objId,!0),ce(be.content),ce("endobj")}de.publish("postPutAdditionalObjects")},du=function(j){cr[j.fontName]=cr[j.fontName]||{},cr[j.fontName][j.fontStyle]=j.id},Xo=function(j,be,qe,ht,xt){var Nt={id:"F"+(Object.keys(Dt).length+1).toString(10),postScriptName:j,fontName:be,fontStyle:qe,encoding:ht,isStandardFont:xt||!1,metadata:{}};return de.publish("addFont",{font:Nt,instance:this}),Dt[Nt.id]=Nt,du(Nt),Nt.id},hu=function(j){for(var be=0,qe=wt.length;be<qe;be++){var ht=Xo.call(this,j[be][0],j[be][1],j[be][2],wt[be][3],!0);w===!1&&(S[ht]=!0);var xt=j[be][0].split("-");du({id:ht,fontName:xt[0],fontStyle:xt[1]||""})}de.publish("addFonts",{fonts:Dt,dictionary:cr})},Wi=function(j){return j.foo=function(){try{return j.apply(this,arguments)}catch(ht){var be=ht.stack||"";~be.indexOf(" at ")&&(be=be.split(" at ")[1]);var qe="Error in function "+be.split(`
`)[0].split("<")[0]+": "+ht.message;if(!_n.console)throw new Error(qe);_n.console.error(qe,ht),_n.alert&&alert(qe)}},j.foo.bar=j,j.foo},fu=function(j,be){var qe,ht,xt,Nt,ir,Pr,Yr,fn,pn;if(xt=(be=be||{}).sourceEncoding||"Unicode",ir=be.outputEncoding,(be.autoencode||ir)&&Dt[Ft].metadata&&Dt[Ft].metadata[xt]&&Dt[Ft].metadata[xt].encoding&&(Nt=Dt[Ft].metadata[xt].encoding,!ir&&Dt[Ft].encoding&&(ir=Dt[Ft].encoding),!ir&&Nt.codePages&&(ir=Nt.codePages[0]),typeof ir=="string"&&(ir=Nt[ir]),ir)){for(Yr=!1,Pr=[],qe=0,ht=j.length;qe<ht;qe++)(fn=ir[j.charCodeAt(qe)])?Pr.push(String.fromCharCode(fn)):Pr.push(j[qe]),Pr[qe].charCodeAt(0)>>8&&(Yr=!0);j=Pr.join("")}for(qe=j.length;Yr===void 0&&qe!==0;)j.charCodeAt(qe-1)>>8&&(Yr=!0),qe--;if(!Yr)return j;for(Pr=be.noBOM?[]:[254,255],qe=0,ht=j.length;qe<ht;qe++){if((pn=(fn=j.charCodeAt(qe))>>8)>>8)throw new Error("Character at position "+qe+" of string '"+j+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Pr.push(pn),Pr.push(fn-(pn<<8))}return String.fromCharCode.apply(void 0,Pr)},$o=C.__private__.pdfEscape=C.pdfEscape=function(j,be){return fu(j,be).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ms=C.__private__.beginPage=function(j){ut[++je]=[],se[je]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(j[0]),topRightY:Number(j[1])}},O(je),lt(ut[me])},gs=function(j,be){var qe,ht,xt;switch(r=be||r,typeof j=="string"&&(qe=M(j.toLowerCase()),Array.isArray(qe)&&(ht=qe[0],xt=qe[1])),Array.isArray(j)&&(ht=j[0]*At,xt=j[1]*At),isNaN(ht)&&(ht=i[0],xt=i[1]),(ht>14400||xt>14400)&&(ao.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ht=Math.min(14400,ht),xt=Math.min(14400,xt)),i=[ht,xt],r.substr(0,1)){case"l":xt>ht&&(i=[xt,ht]);break;case"p":ht>xt&&(i=[xt,ht])}ms(i),md(Ml),ce(Ea),Zu!==0&&ce(Zu+" J"),mu!==0&&ce(mu+" j"),de.publish("addPage",{pageNumber:je})},Nn=function(j){j>0&&j<=je&&(ut.splice(j,1),se.splice(j,1),je--,me>je&&(me=je),this.setPage(me))},O=function(j){j>0&&j<=je&&(me=j)},X=C.__private__.getNumberOfPages=C.getNumberOfPages=function(){return ut.length-1},Ce=function(j,be,qe){var ht,xt=void 0;return qe=qe||{},j=j!==void 0?j:Dt[Ft].fontName,be=be!==void 0?be:Dt[Ft].fontStyle,ht=j.toLowerCase(),cr[ht]!==void 0&&cr[ht][be]!==void 0?xt=cr[ht][be]:cr[j]!==void 0&&cr[j][be]!==void 0?xt=cr[j][be]:qe.disableWarning===!1&&ao.warn("Unable to look up font label for font '"+j+"', '"+be+"'. Refer to getFontList() for available fonts."),xt||qe.noFallback||(xt=cr.times[be])==null&&(xt=cr.times.normal),xt},Ge=C.__private__.putInfo=function(){var j=et(),be=function(ht){return ht};for(var qe in x!==null&&(be=Rr.encryptor(j,0)),ce("<<"),ce("/Producer ("+$o(be("jsPDF "+wn.version))+")"),gt)gt.hasOwnProperty(qe)&&gt[qe]&&ce("/"+qe.substr(0,1).toUpperCase()+qe.substr(1)+" ("+$o(be(gt[qe]))+")");ce("/CreationDate ("+$o(be(Ae))+")"),ce(">>"),ce("endobj")},st=C.__private__.putCatalog=function(j){var be=(j=j||{}).rootDictionaryObjId||Yt;switch(et(),ce("<<"),ce("/Type /Catalog"),ce("/Pages "+be+" 0 R"),It||(It="fullwidth"),It){case"fullwidth":ce("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ce("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ce("/OpenAction [3 0 R /Fit]");break;case"original":ce("/OpenAction [3 0 R /XYZ null null 1]");break;default:var qe=""+It;qe.substr(qe.length-1)==="%"&&(It=parseInt(It)/100),typeof It=="number"&&ce("/OpenAction [3 0 R /XYZ null null "+Y(It)+"]")}switch(Cr||(Cr="continuous"),Cr){case"continuous":ce("/PageLayout /OneColumn");break;case"single":ce("/PageLayout /SinglePage");break;case"two":case"twoleft":ce("/PageLayout /TwoColumnLeft");break;case"tworight":ce("/PageLayout /TwoColumnRight")}Jt&&ce("/PageMode /"+Jt),de.publish("putCatalog"),ce(">>"),ce("endobj")},dt=C.__private__.putTrailer=function(){ce("trailer"),ce("<<"),ce("/Size "+(Fe+1)),ce("/Root "+Fe+" 0 R"),ce("/Info "+(Fe-1)+" 0 R"),x!==null&&ce("/Encrypt "+Rr.oid+" 0 R"),ce("/ID [ <"+ke+"> <"+ke+"> ]"),ce(">>")},yt=C.__private__.putHeader=function(){ce("%PDF-"+L),ce("%ºß¬à")},Xt=C.__private__.putXRef=function(){var j="0000000000";ce("xref"),ce("0 "+(Fe+1)),ce("0000000000 65535 f ");for(var be=1;be<=Fe;be++)typeof rt[be]=="function"?ce((j+rt[be]()).slice(-10)+" 00000 n "):rt[be]!==void 0?ce((j+rt[be]).slice(-10)+" 00000 n "):ce("0000000000 00000 n ")},tr=C.__private__.buildDocument=function(){Et(),lt(Ve),de.publish("buildDocument"),yt(),Tr(),Li(),Ko(),x!==null&&xn(),Ge(),st();var j=We;return Xt(),dt(),ce("startxref"),ce(""+j),ce("%%EOF"),lt(ut[me]),Ve.join(`
`)},mr=C.__private__.getBlob=function(j){return new Blob([qt(j)],{type:"application/pdf"})},pr=C.output=C.__private__.output=Wi(function(j,be){switch(typeof(be=be||{})=="string"?be={filename:be}:be.filename=be.filename||"generated.pdf",j){case void 0:return tr();case"save":C.save(be.filename);break;case"arraybuffer":return qt(tr());case"blob":return mr(tr());case"bloburi":case"bloburl":if(_n.URL!==void 0&&typeof _n.URL.createObjectURL=="function")return _n.URL&&_n.URL.createObjectURL(mr(tr()))||void 0;ao.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var qe="",ht=tr();try{qe=hA(ht)}catch{qe=hA(unescape(encodeURIComponent(ht)))}return"data:application/pdf;filename="+be.filename+";base64,"+qe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(_n)==="[object Window]"){var xt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Nt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';be.pdfObjectUrl&&(xt=be.pdfObjectUrl,Nt="");var ir='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+xt+'"'+Nt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(be)+");<\/script></body></html>",Pr=_n.open();return Pr!==null&&Pr.document.write(ir),Pr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(_n)==="[object Window]"){var Yr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(be.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+be.filename+'" width="500px" height="400px" /></body></html>',fn=_n.open();if(fn!==null){fn.document.write(Yr);var pn=this;fn.document.documentElement.querySelector("#pdfViewer").onload=function(){fn.document.title=be.filename,fn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(pn.output("bloburl"))}}return fn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(_n)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var mn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",be)+'"></iframe></body></html>',Xn=_n.open();if(Xn!==null&&(Xn.document.write(mn),Xn.document.title=be.filename),Xn||typeof safari>"u")return Xn;break;case"datauri":case"dataurl":return _n.document.location.href=this.output("datauristring",be);default:return null}}),dr=function(j){return Array.isArray(Pe)===!0&&Pe.indexOf(j)>-1};switch(n){case"pt":At=1;break;case"mm":At=72/25.4;break;case"cm":At=72/2.54;break;case"in":At=72;break;case"px":At=dr("px_scaling")==1?.75:96/72;break;case"pc":case"em":At=12;break;case"ex":At=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);At=n}var Rr=null;pt(),_e();var si=function(j){return x!==null?Rr.encryptor(j,0):function(be){return be}},Gr=C.__private__.getPageInfo=C.getPageInfo=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:se[j].objId,pageNumber:j,pageContext:se[j]}},Sr=C.__private__.getPageInfoByObjId=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var be in se)if(se[be].objId===j)break;return Gr(be)},Ut=C.__private__.getCurrentPageInfo=C.getCurrentPageInfo=function(){return{objId:se[me].objId,pageNumber:me,pageContext:se[me]}};C.addPage=function(){return gs.apply(this,arguments),this},C.setPage=function(){return O.apply(this,arguments),lt.call(this,ut[me]),this},C.insertPage=function(j){return this.addPage(),this.movePage(me,j),this},C.movePage=function(j,be){var qe,ht;if(j>be){qe=ut[j],ht=se[j];for(var xt=j;xt>be;xt--)ut[xt]=ut[xt-1],se[xt]=se[xt-1];ut[be]=qe,se[be]=ht,this.setPage(be)}else if(j<be){qe=ut[j],ht=se[j];for(var Nt=j;Nt<be;Nt++)ut[Nt]=ut[Nt+1],se[Nt]=se[Nt+1];ut[be]=qe,se[be]=ht,this.setPage(be)}return this},C.deletePage=function(){return Nn.apply(this,arguments),this},C.__private__.text=C.text=function(j,be,qe,ht,xt){var Nt,ir,Pr,Yr,fn,pn,mn,Xn,Ai,gn=(ht=ht||{}).scope||this;if(typeof j=="number"&&typeof be=="number"&&(typeof qe=="string"||Array.isArray(qe))){var Yo=qe;qe=be,be=j,j=Yo}if(arguments[3]instanceof pe?(Q("The transform parameter of text() with a Matrix value"),Ai=xt):(Pr=arguments[4],Yr=arguments[5],Ui(mn=arguments[3])==="object"&&mn!==null||(typeof Pr=="string"&&(Yr=Pr,Pr=null),typeof mn=="string"&&(Yr=mn,mn=null),typeof mn=="number"&&(Pr=mn,mn=null),ht={flags:mn,angle:Pr,align:Yr})),isNaN(be)||isNaN(qe)||j==null)throw new Error("Invalid arguments passed to jsPDF.text");if(j.length===0)return gn;var qr="",Po=!1,Tn=typeof ht.lineHeightFactor=="number"?ht.lineHeightFactor:vs,Fn=gn.internal.scaleFactor;function Bs(Si){return Si=Si.split("	").join(Array(ht.TabLen||9).join(" ")),$o(Si,mn)}function fl(Si){for(var gi,ln=Si.concat(),cn=[],Qo=ln.length;Qo--;)typeof(gi=ln.shift())=="string"?cn.push(gi):Array.isArray(Si)&&(gi.length===1||gi[1]===void 0&&gi[2]===void 0)?cn.push(gi[0]):cn.push([gi[0],gi[1],gi[2]]);return cn}function zs(Si,gi){var ln;if(typeof Si=="string")ln=gi(Si)[0];else if(Array.isArray(Si)){for(var cn,Qo,go=Si.concat(),Ni=[],ro=go.length;ro--;)typeof(cn=go.shift())=="string"?Ni.push(gi(cn)[0]):Array.isArray(cn)&&typeof cn[0]=="string"&&(Qo=gi(cn[0],cn[1],cn[2]),Ni.push([Qo[0],Qo[1],Qo[2]]));ln=Ni}return ln}var pl=!1,Aa=!0;if(typeof j=="string")pl=!0;else if(Array.isArray(j)){var da=j.concat();ir=[];for(var Bo,Oi=da.length;Oi--;)(typeof(Bo=da.shift())!="string"||Array.isArray(Bo)&&typeof Bo[0]!="string")&&(Aa=!1);pl=Aa}if(pl===!1)throw new Error('Type of text must be string or Array. "'+j+'" is not recognized.');typeof j=="string"&&(j=j.match(/[\r?\n]/)?j.split(/\r\n|\r|\n/g):[j]);var $l=Mt/gn.internal.scaleFactor,Ta=$l*(Tn-1);switch(ht.baseline){case"bottom":qe-=Ta;break;case"top":qe+=$l-Ta;break;case"hanging":qe+=$l-2*Ta;break;case"middle":qe+=$l/2-Ta}if((pn=ht.maxWidth||0)>0&&(typeof j=="string"?j=gn.splitTextToSize(j,pn):Object.prototype.toString.call(j)==="[object Array]"&&(j=j.reduce(function(Si,gi){return Si.concat(gn.splitTextToSize(gi,pn))},[]))),Nt={text:j,x:be,y:qe,options:ht,mutex:{pdfEscape:$o,activeFontKey:Ft,fonts:Dt,activeFontSize:Mt}},de.publish("preProcessText",Nt),j=Nt.text,Pr=(ht=Nt.options).angle,!(Ai instanceof pe)&&Pr&&typeof Pr=="number"){Pr*=Math.PI/180,ht.rotationDirection===0&&(Pr=-Pr),B===z.ADVANCED&&(Pr=-Pr);var Ha=Math.cos(Pr),ml=Math.sin(Pr);Ai=new pe(Ha,ml,-ml,Ha,0,0)}else Pr&&Pr instanceof pe&&(Ai=Pr);B!==z.ADVANCED||Ai||(Ai=Be),(fn=ht.charSpace||hl)!==void 0&&(qr+=ee(re(fn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Xn=ht.horizontalScale)!==void 0&&(qr+=ee(100*Xn)+` Tz
`),ht.lang;var to=-1,js=ht.renderingMode!==void 0?ht.renderingMode:ht.stroke,Us=gn.internal.getCurrentPageInfo().pageContext;switch(js){case 0:case!1:case"fill":to=0;break;case 1:case!0:case"stroke":to=1;break;case 2:case"fillThenStroke":to=2;break;case 3:case"invisible":to=3;break;case 4:case"fillAndAddForClipping":to=4;break;case 5:case"strokeAndAddPathForClipping":to=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":to=6;break;case 7:case"addToPathForClipping":to=7}var Bl=Us.usedRenderingMode!==void 0?Us.usedRenderingMode:-1;to!==-1?qr+=to+` Tr
`:Bl!==-1&&(qr+=`0 Tr
`),to!==-1&&(Us.usedRenderingMode=to),Yr=ht.align||"left";var zo,Pa=Mt*Tn,Rc=gn.internal.pageSize.getWidth(),Dc=Dt[Ft];fn=ht.charSpace||hl,pn=ht.maxWidth||0,mn=Object.assign({autoencode:!0,noBOM:!0},ht.flags);var at=[];if(Object.prototype.toString.call(j)==="[object Array]"){var Tt;ir=fl(j),Yr!=="left"&&(zo=ir.map(function(Si){return gn.getStringUnitWidth(Si,{font:Dc,charSpace:fn,fontSize:Mt,doKerning:!1})*Mt/Fn}));var lr,$r=0;if(Yr==="right"){be-=zo[0],j=[],Oi=ir.length;for(var Dn=0;Dn<Oi;Dn++)Dn===0?(lr=En(be),Tt=ts(qe)):(lr=re($r-zo[Dn]),Tt=-Pa),j.push([ir[Dn],lr,Tt]),$r=zo[Dn]}else if(Yr==="center"){be-=zo[0]/2,j=[],Oi=ir.length;for(var bn=0;bn<Oi;bn++)bn===0?(lr=En(be),Tt=ts(qe)):(lr=re(($r-zo[bn])/2),Tt=-Pa),j.push([ir[bn],lr,Tt]),$r=zo[bn]}else if(Yr==="left"){j=[],Oi=ir.length;for(var ti=0;ti<Oi;ti++)j.push(ir[ti])}else{if(Yr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');j=[],Oi=ir.length,pn=pn!==0?pn:Rc;for(var Zn=0;Zn<Oi;Zn++)Tt=Zn===0?ts(qe):-Pa,lr=Zn===0?En(be):0,Zn<Oi-1?at.push(ee(re((pn-zo[Zn])/(ir[Zn].split(" ").length-1)))):at.push(0),j.push([ir[Zn],lr,Tt])}}var jo=typeof ht.R2L=="boolean"?ht.R2L:Lt;jo===!0&&(j=zs(j,function(Si,gi,ln){return[Si.split("").reverse().join(""),gi,ln]})),Nt={text:j,x:be,y:qe,options:ht,mutex:{pdfEscape:$o,activeFontKey:Ft,fonts:Dt,activeFontSize:Mt}},de.publish("postProcessText",Nt),j=Nt.text,Po=Nt.mutex.isHex||!1;var _i=Dt[Ft].encoding;_i!=="WinAnsiEncoding"&&_i!=="StandardEncoding"||(j=zs(j,function(Si,gi,ln){return[Bs(Si),gi,ln]})),ir=fl(j),j=[];for(var li,Ti,Ki,wi=0,Jo=1,Uo=Array.isArray(ir[0])?Jo:wi,ha="",Wa=function(Si,gi,ln){var cn="";return ln instanceof pe?(ln=typeof ht.angle=="number"?ve(ln,new pe(1,0,0,1,Si,gi)):ve(new pe(1,0,0,1,Si,gi),ln),B===z.ADVANCED&&(ln=ve(new pe(1,0,0,-1,0,0),ln)),cn=ln.join(" ")+` Tm
`):cn=ee(Si)+" "+ee(gi)+` Td
`,cn},mo=0;mo<ir.length;mo++){switch(ha="",Uo){case Jo:Ki=(Po?"<":"(")+ir[mo][0]+(Po?">":")"),li=parseFloat(ir[mo][1]),Ti=parseFloat(ir[mo][2]);break;case wi:Ki=(Po?"<":"(")+ir[mo]+(Po?">":")"),li=En(be),Ti=ts(qe)}at!==void 0&&at[mo]!==void 0&&(ha=at[mo]+` Tw
`),mo===0?j.push(ha+Wa(li,Ti,Ai)+Ki):Uo===wi?j.push(ha+Ki):Uo===Jo&&j.push(ha+Wa(li,Ti,Ai)+Ki)}j=Uo===wi?j.join(` Tj
T* `):j.join(` Tj
`),j+=` Tj
`;var ns=`BT
/`;return ns+=Ft+" "+Mt+` Tf
`,ns+=ee(Mt*Tn)+` TL
`,ns+=Dl+`
`,ns+=qr,ns+=j,ce(ns+="ET"),S[Ft]=!0,gn};var Dr=C.__private__.clip=C.clip=function(j){return ce(j==="evenodd"?"W*":"W"),this};C.clipEvenOdd=function(){return Dr("evenodd")},C.__private__.discardPath=C.discardPath=function(){return ce("n"),this};var Cn=C.__private__.isValidStyle=function(j){var be=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(j)!==-1&&(be=!0),be};C.__private__.setDefaultPathOperation=C.setDefaultPathOperation=function(j){return Cn(j)&&(m=j),this};var Gi=C.__private__.getStyle=C.getStyle=function(j){var be=m;switch(j){case"D":case"S":be="S";break;case"F":be="f";break;case"FD":case"DF":be="B";break;case"f":case"f*":case"B":case"B*":be=j}return be},pi=C.close=function(){return ce("h"),this};C.stroke=function(){return ce("S"),this},C.fill=function(j){return Ll("f",j),this},C.fillEvenOdd=function(j){return Ll("f*",j),this},C.fillStroke=function(j){return Ll("B",j),this},C.fillStrokeEvenOdd=function(j){return Ll("B*",j),this};var Ll=function(j,be){Ui(be)==="object"?pd(be,j):ce(j)},Ku=function(j){j===null||B===z.ADVANCED&&j===void 0||(j=Gi(j),ce(j))};function mi(j,be,qe,ht,xt){var Nt=new _0(be||this.boundingBox,qe||this.xStep,ht||this.yStep,this.gState,xt||this.matrix);Nt.stream=this.stream;var ir=j+"$$"+this.cloneIndex+++"$$";return Ye(ir,Nt),Nt}var pd=function(j,be){var qe=ei[j.key],ht=nr[qe];if(ht instanceof Xp)ce("q"),ce(dh(be)),ht.gState&&C.setGState(ht.gState),ce(j.matrix.toString()+" cm"),ce("/"+qe+" sh"),ce("Q");else if(ht instanceof _0){var xt=new pe(1,0,0,-1,0,rs());j.matrix&&(xt=xt.multiply(j.matrix||Be),qe=mi.call(ht,j.key,j.boundingBox,j.xStep,j.yStep,xt).id),ce("q"),ce("/Pattern cs"),ce("/"+qe+" scn"),ht.gState&&C.setGState(ht.gState),ce(be),ce("Q")}},dh=function(j){switch(j){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ca=C.moveTo=function(j,be){return ce(ee(re(j))+" "+ee(fe(be))+" m"),this},Qa=C.lineTo=function(j,be){return ce(ee(re(j))+" "+ee(fe(be))+" l"),this},ys=C.curveTo=function(j,be,qe,ht,xt,Nt){return ce([ee(re(j)),ee(fe(be)),ee(re(qe)),ee(fe(ht)),ee(re(xt)),ee(fe(Nt)),"c"].join(" ")),this};C.__private__.line=C.line=function(j,be,qe,ht,xt){if(isNaN(j)||isNaN(be)||isNaN(qe)||isNaN(ht)||!Cn(xt))throw new Error("Invalid arguments passed to jsPDF.line");return B===z.COMPAT?this.lines([[qe-j,ht-be]],j,be,[1,1],xt||"S"):this.lines([[qe-j,ht-be]],j,be,[1,1]).stroke()},C.__private__.lines=C.lines=function(j,be,qe,ht,xt,Nt){var ir,Pr,Yr,fn,pn,mn,Xn,Ai,gn,Yo,qr,Po;if(typeof j=="number"&&(Po=qe,qe=be,be=j,j=Po),ht=ht||[1,1],Nt=Nt||!1,isNaN(be)||isNaN(qe)||!Array.isArray(j)||!Array.isArray(ht)||!Cn(xt)||typeof Nt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ca(be,qe),ir=ht[0],Pr=ht[1],fn=j.length,Yo=be,qr=qe,Yr=0;Yr<fn;Yr++)(pn=j[Yr]).length===2?(Yo=pn[0]*ir+Yo,qr=pn[1]*Pr+qr,Qa(Yo,qr)):(mn=pn[0]*ir+Yo,Xn=pn[1]*Pr+qr,Ai=pn[2]*ir+Yo,gn=pn[3]*Pr+qr,Yo=pn[4]*ir+Yo,qr=pn[5]*Pr+qr,ys(mn,Xn,Ai,gn,Yo,qr));return Nt&&pi(),Ku(xt),this},C.path=function(j){for(var be=0;be<j.length;be++){var qe=j[be],ht=qe.c;switch(qe.op){case"m":Ca(ht[0],ht[1]);break;case"l":Qa(ht[0],ht[1]);break;case"c":ys.apply(this,ht);break;case"h":pi()}}return this},C.__private__.rect=C.rect=function(j,be,qe,ht,xt){if(isNaN(j)||isNaN(be)||isNaN(qe)||isNaN(ht)||!Cn(xt))throw new Error("Invalid arguments passed to jsPDF.rect");return B===z.COMPAT&&(ht=-ht),ce([ee(re(j)),ee(fe(be)),ee(re(qe)),ee(re(ht)),"re"].join(" ")),Ku(xt),this},C.__private__.triangle=C.triangle=function(j,be,qe,ht,xt,Nt,ir){if(isNaN(j)||isNaN(be)||isNaN(qe)||isNaN(ht)||isNaN(xt)||isNaN(Nt)||!Cn(ir))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[qe-j,ht-be],[xt-qe,Nt-ht],[j-xt,be-Nt]],j,be,[1,1],ir,!0),this},C.__private__.roundedRect=C.roundedRect=function(j,be,qe,ht,xt,Nt,ir){if(isNaN(j)||isNaN(be)||isNaN(qe)||isNaN(ht)||isNaN(xt)||isNaN(Nt)||!Cn(ir))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Pr=4/3*(Math.SQRT2-1);return xt=Math.min(xt,.5*qe),Nt=Math.min(Nt,.5*ht),this.lines([[qe-2*xt,0],[xt*Pr,0,xt,Nt-Nt*Pr,xt,Nt],[0,ht-2*Nt],[0,Nt*Pr,-xt*Pr,Nt,-xt,Nt],[2*xt-qe,0],[-xt*Pr,0,-xt,-Nt*Pr,-xt,-Nt],[0,2*Nt-ht],[0,-Nt*Pr,xt*Pr,-Nt,xt,-Nt]],j+xt,be,[1,1],ir,!0),this},C.__private__.ellipse=C.ellipse=function(j,be,qe,ht,xt){if(isNaN(j)||isNaN(be)||isNaN(qe)||isNaN(ht)||!Cn(xt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Nt=4/3*(Math.SQRT2-1)*qe,ir=4/3*(Math.SQRT2-1)*ht;return Ca(j+qe,be),ys(j+qe,be-ir,j+Nt,be-ht,j,be-ht),ys(j-Nt,be-ht,j-qe,be-ir,j-qe,be),ys(j-qe,be+ir,j-Nt,be+ht,j,be+ht),ys(j+Nt,be+ht,j+qe,be+ir,j+qe,be),Ku(xt),this},C.__private__.circle=C.circle=function(j,be,qe,ht){if(isNaN(j)||isNaN(be)||isNaN(qe)||!Cn(ht))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(j,be,qe,qe,ht)},C.setFont=function(j,be,qe){return qe&&(be=K(be,qe)),Ft=Ce(j,be,{disableWarning:!1}),this};var pu=C.__private__.getFont=C.getFont=function(){return Dt[Ce.apply(C,arguments)]};C.__private__.getFontList=C.getFontList=function(){var j,be,qe={};for(j in cr)if(cr.hasOwnProperty(j))for(be in qe[j]=[],cr[j])cr[j].hasOwnProperty(be)&&qe[j].push(be);return qe},C.addFont=function(j,be,qe,ht,xt){var Nt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Nt.indexOf(arguments[3])!==-1?xt=arguments[3]:arguments[3]&&Nt.indexOf(arguments[3])==-1&&(qe=K(qe,ht)),xt=xt||"Identity-H",Xo.call(this,j,be,qe,xt)};var vs,Ml=e.lineWidth||.200025,Zo=C.__private__.getLineWidth=C.getLineWidth=function(){return Ml},md=C.__private__.setLineWidth=C.setLineWidth=function(j){return Ml=j,ce(ee(re(j))+" w"),this};C.__private__.setLineDash=wn.API.setLineDash=wn.API.setLineDashPattern=function(j,be){if(j=j||[],be=be||0,isNaN(be)||!Array.isArray(j))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return j=j.map(function(qe){return ee(re(qe))}).join(" "),be=ee(re(be)),ce("["+j+"] "+be+" d"),this};var Xu=C.__private__.getLineHeight=C.getLineHeight=function(){return Mt*vs};C.__private__.getLineHeight=C.getLineHeight=function(){return Mt*vs};var Fs=C.__private__.setLineHeightFactor=C.setLineHeightFactor=function(j){return typeof(j=j||1.15)=="number"&&(vs=j),this},es=C.__private__.getLineHeightFactor=C.getLineHeightFactor=function(){return vs};Fs(e.lineHeight);var En=C.__private__.getHorizontalCoordinate=function(j){return re(j)},ts=C.__private__.getVerticalCoordinate=function(j){return B===z.ADVANCED?j:se[me].mediaBox.topRightY-se[me].mediaBox.bottomLeftY-re(j)},hh=C.__private__.getHorizontalCoordinateString=C.getHorizontalCoordinateString=function(j){return ee(En(j))},Ua=C.__private__.getVerticalCoordinateString=C.getVerticalCoordinateString=function(j){return ee(ts(j))},Ea=e.strokeColor||"0 G";C.__private__.getStrokeColor=C.getDrawColor=function(){return Qt(Ea)},C.__private__.setStrokeColor=C.setDrawColor=function(j,be,qe,ht){return Ea=hr({ch1:j,ch2:be,ch3:qe,ch4:ht,pdfColorType:"draw",precision:2}),ce(Ea),this};var Rl=e.fillColor||"0 g";C.__private__.getFillColor=C.getFillColor=function(){return Qt(Rl)},C.__private__.setFillColor=C.setFillColor=function(j,be,qe,ht){return Rl=hr({ch1:j,ch2:be,ch3:qe,ch4:ht,pdfColorType:"fill",precision:2}),ce(Rl),this};var Dl=e.textColor||"0 g",Va=C.__private__.getTextColor=C.getTextColor=function(){return Qt(Dl)};C.__private__.setTextColor=C.setTextColor=function(j,be,qe,ht){return Dl=hr({ch1:j,ch2:be,ch3:qe,ch4:ht,pdfColorType:"text",precision:3}),this};var hl=e.charSpace,Lc=C.__private__.getCharSpace=C.getCharSpace=function(){return parseFloat(hl||0)};C.__private__.setCharSpace=C.setCharSpace=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return hl=j,this};var Zu=0;C.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},C.__private__.setLineCap=C.setLineCap=function(j){var be=C.CapJoinStyles[j];if(be===void 0)throw new Error("Line cap style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zu=be,ce(be+" J"),this};var mu=0;C.__private__.setLineJoin=C.setLineJoin=function(j){var be=C.CapJoinStyles[j];if(be===void 0)throw new Error("Line join style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return mu=be,ce(be+" j"),this},C.__private__.setLineMiterLimit=C.__private__.setMiterLimit=C.setLineMiterLimit=C.setMiterLimit=function(j){if(j=j||0,isNaN(j))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ce(ee(re(j))+" M"),this},C.GState=$_,C.setGState=function(j){(j=typeof j=="string"?On[hi[j]]:Ol(null,j)).equals(Vn)||(ce("/"+j.id+" gs"),Vn=j)};var Ol=function(j,be){if(!j||!hi[j]){var qe=!1;for(var ht in On)if(On.hasOwnProperty(ht)&&On[ht].equals(be)){qe=!0;break}if(qe)be=On[ht];else{var xt="GS"+(Object.keys(On).length+1).toString(10);On[xt]=be,be.id=xt}return j&&(hi[j]=be.id),de.publish("addGState",be),be}};C.addGState=function(j,be){return Ol(j,be),this},C.saveGraphicsState=function(){return ce("q"),Wr.push({key:Ft,size:Mt,color:Dl}),this},C.restoreGraphicsState=function(){ce("Q");var j=Wr.pop();return Ft=j.key,Mt=j.size,Dl=j.color,Vn=null,this},C.setCurrentTransformationMatrix=function(j){return ce(j.toString()+" cm"),this},C.comment=function(j){return ce("#"+j),this};var qa=function(j,be){var qe=j||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return qe},set:function(Nt){isNaN(Nt)||(qe=parseFloat(Nt))}});var ht=be||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ht},set:function(Nt){isNaN(Nt)||(ht=parseFloat(Nt))}});var xt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return xt},set:function(Nt){xt=Nt.toString()}}),this},gu=function(j,be,qe,ht){qa.call(this,j,be),this.type="rect";var xt=qe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return xt},set:function(ir){isNaN(ir)||(xt=parseFloat(ir))}});var Nt=ht||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Nt},set:function(ir){isNaN(ir)||(Nt=parseFloat(ir))}}),this},Mc=function(){this.page=je,this.currentPage=me,this.pages=ut.slice(0),this.pagesContext=se.slice(0),this.x=Ar,this.y=ot,this.matrix=kt,this.width=$s(me),this.height=rs(me),this.outputDestination=Ct,this.id="",this.objectNumber=-1};Mc.prototype.restore=function(){je=this.page,me=this.currentPage,se=this.pagesContext,ut=this.pages,Ar=this.x,ot=this.y,kt=this.matrix,yu(me,this.width),Fl(me,this.height),Ct=this.outputDestination};var bs=function(j,be,qe,ht,xt){ct.push(new Mc),je=me=0,ut=[],Ar=j,ot=be,kt=xt,ms([qe,ht])},Nl=function(j){if(it[j])ct.pop().restore();else{var be=new Mc,qe="Xo"+(Object.keys(ze).length+1).toString(10);be.id=qe,it[j]=qe,ze[qe]=be,de.publish("addFormObject",be),ct.pop().restore()}};for(var Yu in C.beginFormObject=function(j,be,qe,ht,xt){return bs(j,be,qe,ht,xt),this},C.endFormObject=function(j){return Nl(j),this},C.doFormObject=function(j,be){var qe=ze[it[j]];return ce("q"),ce(be.toString()+" cm"),ce("/"+qe.id+" Do"),ce("Q"),this},C.getFormObject=function(j){var be=ze[it[j]];return{x:be.x,y:be.y,width:be.width,height:be.height,matrix:be.matrix}},C.save=function(j,be){return j=j||"generated.pdf",(be=be||{}).returnPromise=be.returnPromise||!1,be.returnPromise===!1?(Hp(mr(tr()),j),typeof Hp.unload=="function"&&_n.setTimeout&&setTimeout(Hp.unload,911),this):new Promise(function(qe,ht){try{var xt=Hp(mr(tr()),j);typeof Hp.unload=="function"&&_n.setTimeout&&setTimeout(Hp.unload,911),qe(xt)}catch(Nt){ht(Nt.message)}})},wn.API)wn.API.hasOwnProperty(Yu)&&(Yu==="events"&&wn.API.events.length?function(j,be){var qe,ht,xt;for(xt=be.length-1;xt!==-1;xt--)qe=be[xt][0],ht=be[xt][1],j.subscribe.apply(j,[qe].concat(typeof ht=="function"?[ht]:ht))}(de,wn.API.events):C[Yu]=wn.API[Yu]);var $s=C.getPageWidth=function(j){return(se[j=j||me].mediaBox.topRightX-se[j].mediaBox.bottomLeftX)/At},yu=C.setPageWidth=function(j,be){se[j].mediaBox.topRightX=be*At+se[j].mediaBox.bottomLeftX},rs=C.getPageHeight=function(j){return(se[j=j||me].mediaBox.topRightY-se[j].mediaBox.bottomLeftY)/At},Fl=C.setPageHeight=function(j,be){se[j].mediaBox.topRightY=be*At+se[j].mediaBox.bottomLeftY};return C.internal={pdfEscape:$o,getStyle:Gi,getFont:pu,getFontSize:Gt,getCharSpace:Lc,getTextColor:Va,getLineHeight:Xu,getLineHeightFactor:es,getLineWidth:Zo,write:ur,getHorizontalCoordinate:En,getVerticalCoordinate:ts,getCoordinateString:hh,getVerticalCoordinateString:Ua,collections:{},newObject:et,newAdditionalObject:Ot,newObjectDeferred:St,newObjectDeferredBegin:Bt,getFilters:gr,putStream:yr,events:de,scaleFactor:At,pageSize:{getWidth:function(){return $s(me)},setWidth:function(j){yu(me,j)},getHeight:function(){return rs(me)},setHeight:function(j){Fl(me,j)}},encryptionOptions:x,encryption:Rr,getEncryptor:si,output:pr,getNumberOfPages:X,pages:ut,out:ce,f2:Y,f3:Z,getPageInfo:Gr,getPageInfoByObjId:Sr,getCurrentPageInfo:Ut,getPDFVersion:k,Point:qa,Rectangle:gu,Matrix:pe,hasHotfix:dr},Object.defineProperty(C.internal.pageSize,"width",{get:function(){return $s(me)},set:function(j){yu(me,j)},enumerable:!0,configurable:!0}),Object.defineProperty(C.internal.pageSize,"height",{get:function(){return rs(me)},set:function(j){Fl(me,j)},enumerable:!0,configurable:!0}),hu.call(C,wt),Ft="F1",gs(i,r),de.publish("initialized"),C}Vg.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Vg.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Vg.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Vg.prototype.processOwnerPassword=function(e,t){return pA(fA(t).substr(0,5),e)},Vg.prototype.encryptor=function(e,t){var r=fA(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return pA(r,n)}},$_.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Ui(e)!==Ui(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},wn.API={events:[]},wn.version="2.5.1";var la=wn.API,yP=1,Bm=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Tg=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},$n=function(e){return e.toFixed(2)},kf=function(e){return e.toFixed(5)};la.__acroform__={};var au=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},AR=function(e){return e*yP},Fd=function(e){var t=new qz,r=Xr.internal.getHeight(e)||0,n=Xr.internal.getWidth(e)||0;return t.BBox=[0,0,Number($n(n)),Number($n(r))],t},aoe=la.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},soe=la.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},loe=la.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},ya=la.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return loe(e,t-1)},va=la.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return aoe(e,t-1)},ba=la.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return soe(e,t-1)},uoe=la.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],a=e[1],u=e[2],s=e[3],f={};return f.lowerLeft_X=r(i)||0,f.lowerLeft_Y=n(a+s)||0,f.upperRight_X=r(i+u)||0,f.upperRight_Y=n(a)||0,[Number($n(f.lowerLeft_X)),Number($n(f.lowerLeft_Y)),Number($n(f.upperRight_X)),Number($n(f.upperRight_Y))]},coe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=mA(e,r),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+$n(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Fd(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},mA=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(Z){return Z.split(`
`)}):i.map(function(Z){return[Z]});var a=r,u=Xr.internal.getHeight(e)||0;u=u<0?-u:u;var s=Xr.internal.getWidth(e)||0;s=s<0?-s:s;var f=function(Z,re,ye){if(Z+1<i.length){var fe=re+" "+i[Z+1][0];return fx(fe,e,ye).width<=s-4}return!1};a++;e:for(;a>0;){t="",a--;var m,x,w=fx("3",e,a).height,S=e.multiline?u-a:(u-w)/2,C=S+=2,L=0,k=0,$=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+fx(t,e,a=12).width+", FieldWidth:"+s+`
`;break}for(var M="",z=0,B=0;B<i.length;B++)if(i.hasOwnProperty(B)){var q=!1;if(i[B].length!==1&&$!==i[B].length-1){if((w+2)*(z+2)+2>u)continue e;M+=i[B][$],q=!0,k=B,B--}else{M=(M+=i[B][$]+" ").substr(M.length-1)==" "?M.substr(0,M.length-1):M;var te=parseInt(B),K=f(te,M,a),ee=B>=i.length-1;if(K&&!ee){M+=" ",$=0;continue}if(K||ee){if(ee)k=te;else if(e.multiline&&(w+2)*(z+2)+2>u)continue e}else{if(!e.multiline||(w+2)*(z+2)+2>u)continue e;k=te}}for(var Q="",ge=L;ge<=k;ge++){var Y=i[ge];if(e.multiline){if(ge===k){Q+=Y[$]+" ",$=($+1)%Y.length;continue}if(ge===L){Q+=Y[Y.length-1]+" ";continue}}Q+=Y[0]+" "}switch(Q=Q.substr(Q.length-1)==" "?Q.substr(0,Q.length-1):Q,x=fx(Q,e,a).width,e.textAlign){case"right":m=s-x-2;break;case"center":m=(s-x)/2;break;case"left":default:m=2}t+=$n(m)+" "+$n(C)+` Td
`,t+="("+Bm(Q)+`) Tj
`,t+=-$n(m)+` 0 Td
`,C=-(a+2),x=0,L=q?k:k+1,z++,M=""}break}return n.text=t,n.fontSize=a,n},fx=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},doe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},hoe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},foe=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,i=e[r];t.internal.newObjectDeferredBegin(i.objId,!0),Ui(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[n]}},poe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(ld.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(doe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");yP=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Hz,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&hoe(a,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var u in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(u)){var s=n[u],f=[],m=s.Rect;if(s.Rect&&(s.Rect=uoe(s.Rect,i)),i.internal.newObjectDeferredBegin(s.objId,!0),s.DA=Xr.createDefaultAppearanceStream(s),Ui(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(f=s.getKeyValueListForStream()),s.Rect=m,s.hasAppearanceStream&&!s.appearanceStreamContent){var x=coe(s);f.push({key:"AP",value:"<</N "+x+">>"}),i.internal.acroformPlugin.xForms.push(x)}if(s.appearanceStreamContent){var w="";for(var S in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(S)){var C=s.appearanceStreamContent[S];if(w+="/"+S+" ",w+="<<",Object.keys(C).length>=1||Array.isArray(C)){for(var u in C)if(C.hasOwnProperty(u)){var L=C[u];typeof L=="function"&&(L=L.call(i,s)),w+="/"+u+" "+L+" ",i.internal.acroformPlugin.xForms.indexOf(L)>=0||i.internal.acroformPlugin.xForms.push(L)}}else typeof(L=C)=="function"&&(L=L.call(i,s)),w+="/"+u+" "+L,i.internal.acroformPlugin.xForms.indexOf(L)>=0||i.internal.acroformPlugin.xForms.push(L);w+=">>"}f.push({key:"AP",value:`<<
`+w+">>"})}i.internal.putStream({additionalKeyValues:f,objectId:s.objId}),i.internal.out("endobj")}a&&foe(i.internal.acroformPlugin.xForms,i)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},Vz=la.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(u){return u};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),Ui(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),i+="("+Bm(n(e[a].toString()))+")"):i+=e[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},v3=function(e,t,r){var n=function(i){return i};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Bm(n(e))+")"},Zd=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Zd.prototype.toString=function(){return this.objId+" 0 R"},Zd.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Zd.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:Vz(i,this.objId,this.scope)}):i instanceof Zd?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:n,value:i}))}return e};var qz=function(){Zd.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};au(qz,Zd);var Hz=function(){Zd.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Bm(r(e))+")"}},set:function(r){e=r}})};au(Hz,Zd);var ld=function e(){Zd.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(M){if(isNaN(M))throw new Error('Invalid value "'+M+'" for attribute F supplied.');t=M}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ya(t,3)},set:function(M){M?this.F=va(t,3):this.F=ba(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(M){if(isNaN(M))throw new Error('Invalid value "'+M+'" for attribute Ff supplied.');r=M}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(M){n=M!==void 0?M:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(M){n[0]=M}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(M){n[1]=M}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(M){n[2]=M}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(M){n[3]=M}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(M){switch(M){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=M;break;default:throw new Error('Invalid value "'+M+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof B_)return;a="FieldObject"+e.FieldNum++}var M=function(z){return z};return this.scope&&(M=this.scope.internal.getEncryptor(this.objId)),"("+Bm(M(a))+")"},set:function(M){a=M.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(M){a=M}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(M){u=M}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(M){s=M}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(M){f=M}});var m=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return m===void 0?50/yP:m},set:function(M){m=M}});var x="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return x},set:function(M){x=M}});var w="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!w||this instanceof B_||this instanceof mm))return v3(w,this.objId,this.scope)},set:function(M){M=M.toString(),w=M}});var S=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(S)return this instanceof cs?S:v3(S,this.objId,this.scope)},set:function(M){M=M.toString(),S=this instanceof cs?M:M.substr(0,1)==="("?Tg(M.substr(1,M.length-2)):Tg(M)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof cs?Tg(S.substr(1,S.length-1)):S},set:function(M){M=M.toString(),S=this instanceof cs?"/"+M:M}});var C=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(C)return C},set:function(M){this.V=M}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(C)return this instanceof cs?C:v3(C,this.objId,this.scope)},set:function(M){M=M.toString(),C=this instanceof cs?M:M.substr(0,1)==="("?Tg(M.substr(1,M.length-2)):Tg(M)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof cs?Tg(C.substr(1,C.length-1)):C},set:function(M){M=M.toString(),C=this instanceof cs?"/"+M:M}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var L,k=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return k},set:function(M){M=!!M,k=M}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(L)return L},set:function(M){L=M}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,1)},set:function(M){M?this.Ff=va(this.Ff,1):this.Ff=ba(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,2)},set:function(M){M?this.Ff=va(this.Ff,2):this.Ff=ba(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,3)},set:function(M){M?this.Ff=va(this.Ff,3):this.Ff=ba(this.Ff,3)}});var $=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if($!==null)return $},set:function(M){if([0,1,2].indexOf(M)===-1)throw new Error('Invalid value "'+M+'" for attribute Q supplied.');$=M}}),Object.defineProperty(this,"textAlign",{get:function(){var M;switch($){case 0:default:M="left";break;case 1:M="center";break;case 2:M="right"}return M},configurable:!0,enumerable:!0,set:function(M){switch(M){case"right":case 2:$=2;break;case"center":case 1:$=1;break;case"left":case 0:default:$=0}}})};au(ld,Zd);var N0=function(){ld.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Vz(t,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(a,u,s){s||(s=1);for(var f,m=[];f=u.exec(a);)m.push(f[s]);return m}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,18)},set:function(r){r?this.Ff=va(this.Ff,18):this.Ff=ba(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=va(this.Ff,19):this.Ff=ba(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,20)},set:function(r){r?(this.Ff=va(this.Ff,20),t.sort()):this.Ff=ba(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,22)},set:function(r){r?this.Ff=va(this.Ff,22):this.Ff=ba(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,23)},set:function(r){r?this.Ff=va(this.Ff,23):this.Ff=ba(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,27)},set:function(r){r?this.Ff=va(this.Ff,27):this.Ff=ba(this.Ff,27)}}),this.hasAppearanceStream=!1};au(N0,ld);var F0=function(){N0.call(this),this.fontName="helvetica",this.combo=!1};au(F0,N0);var $0=function(){F0.call(this),this.combo=!0};au($0,F0);var Zx=function(){$0.call(this),this.edit=!0};au(Zx,$0);var cs=function(){ld.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,15)},set:function(r){r?this.Ff=va(this.Ff,15):this.Ff=ba(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,16)},set:function(r){r?this.Ff=va(this.Ff,16):this.Ff=ba(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,17)},set:function(r){r?this.Ff=va(this.Ff,17):this.Ff=ba(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,26)},set:function(r){r?this.Ff=va(this.Ff,26):this.Ff=ba(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+Bm(r(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Ui(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};au(cs,ld);var Yx=function(){cs.call(this),this.pushButton=!0};au(Yx,cs);var B0=function(){cs.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};au(B0,cs);var B_=function(){var e,t;ld.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(s){return s};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,u=[];for(a in u.push("<<"),n)u.push("/"+a+" ("+Bm(i(n[a]))+")");return u.push(">>"),u.join(`
`)},set:function(i){Ui(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Xr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};au(B_,ld),B0.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},B0.prototype.createOption=function(e){var t=new B_;return t.Parent=this,t.optionName=e,this.Kids.push(t),moe.call(this.scope,t),t};var Jx=function(){cs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Xr.CheckBox.createAppearanceStream()};au(Jx,cs);var mm=function(){ld.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,13)},set:function(t){t?this.Ff=va(this.Ff,13):this.Ff=ba(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,21)},set:function(t){t?this.Ff=va(this.Ff,21):this.Ff=ba(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,23)},set:function(t){t?this.Ff=va(this.Ff,23):this.Ff=ba(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,24)},set:function(t){t?this.Ff=va(this.Ff,24):this.Ff=ba(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,25)},set:function(t){t?this.Ff=va(this.Ff,25):this.Ff=ba(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,26)},set:function(t){t?this.Ff=va(this.Ff,26):this.Ff=ba(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};au(mm,ld);var Qx=function(){mm.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ya(this.Ff,14)},set:function(e){e?this.Ff=va(this.Ff,14):this.Ff=ba(this.Ff,14)}}),this.password=!0};au(Qx,mm);var Xr={CheckBox:{createAppearanceStream:function(){return{N:{On:Xr.CheckBox.YesNormal},D:{On:Xr.CheckBox.YesPushDown,Off:Xr.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Fd(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=mA(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+$n(Xr.internal.getWidth(e))+" "+$n(Xr.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+$n(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Fd(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],a=Xr.internal.getHeight(e),u=Xr.internal.getWidth(e),s=mA(e,e.caption);return i.push("1 g"),i.push("0 0 "+$n(u)+" "+$n(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+$n(u-1)+" "+$n(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+$n(s.fontSize)+" Tf "+n),i.push(s.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Fd(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+$n(Xr.internal.getWidth(e))+" "+$n(Xr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Xr.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Xr.RadioButton.Circle.YesNormal,t.D[e]=Xr.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Fd(e);t.scope=e.scope;var r=[],n=Xr.internal.getWidth(e)<=Xr.internal.getHeight(e)?Xr.internal.getWidth(e)/4:Xr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Xr.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+kf(Xr.internal.getWidth(e)/2)+" "+kf(Xr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Fd(e);t.scope=e.scope;var r=[],n=Xr.internal.getWidth(e)<=Xr.internal.getHeight(e)?Xr.internal.getWidth(e)/4:Xr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Xr.internal.Bezier_C).toFixed(5)),u=Number((n*Xr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+kf(Xr.internal.getWidth(e)/2)+" "+kf(Xr.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+kf(Xr.internal.getWidth(e)/2)+" "+kf(Xr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+u+" "+u+" "+n+" 0 "+n+" c"),r.push("-"+u+" "+n+" -"+n+" "+u+" -"+n+" 0 c"),r.push("-"+n+" -"+u+" -"+u+" -"+n+" 0 -"+n+" c"),r.push(u+" -"+n+" "+n+" -"+u+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Fd(e);t.scope=e.scope;var r=[],n=Xr.internal.getWidth(e)<=Xr.internal.getHeight(e)?Xr.internal.getWidth(e)/4:Xr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Xr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+kf(Xr.internal.getWidth(e)/2)+" "+kf(Xr.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Xr.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Xr.RadioButton.Cross.YesNormal,t.D[e]=Xr.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Fd(e);t.scope=e.scope;var r=[],n=Xr.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+$n(Xr.internal.getWidth(e)-2)+" "+$n(Xr.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push($n(n.x1.x)+" "+$n(n.x1.y)+" m"),r.push($n(n.x2.x)+" "+$n(n.x2.y)+" l"),r.push($n(n.x4.x)+" "+$n(n.x4.y)+" m"),r.push($n(n.x3.x)+" "+$n(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Fd(e);t.scope=e.scope;var r=Xr.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+$n(Xr.internal.getWidth(e))+" "+$n(Xr.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+$n(Xr.internal.getWidth(e)-2)+" "+$n(Xr.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push($n(r.x1.x)+" "+$n(r.x1.y)+" m"),n.push($n(r.x2.x)+" "+$n(r.x2.y)+" l"),n.push($n(r.x4.x)+" "+$n(r.x4.y)+" m"),n.push($n(r.x3.x)+" "+$n(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Fd(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+$n(Xr.internal.getWidth(e))+" "+$n(Xr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Xr.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Xr.internal.getWidth(e),r=Xr.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Xr.internal.getWidth=function(e){var t=0;return Ui(e)==="object"&&(t=AR(e.Rect[2])),t},Xr.internal.getHeight=function(e){var t=0;return Ui(e)==="object"&&(t=AR(e.Rect[3])),t};var moe=la.addField=function(e){if(poe(this,e),!(e instanceof ld))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};la.AcroFormChoiceField=N0,la.AcroFormListBox=F0,la.AcroFormComboBox=$0,la.AcroFormEditBox=Zx,la.AcroFormButton=cs,la.AcroFormPushButton=Yx,la.AcroFormRadioButton=B0,la.AcroFormCheckBox=Jx,la.AcroFormTextField=mm,la.AcroFormPasswordField=Qx,la.AcroFormAppearance=Xr,la.AcroForm={ChoiceField:N0,ListBox:F0,ComboBox:$0,EditBox:Zx,Button:cs,PushButton:Yx,RadioButton:B0,CheckBox:Jx,TextField:mm,PasswordField:Qx,Appearance:Xr},wn.AcroForm={ChoiceField:N0,ListBox:F0,ComboBox:$0,EditBox:Zx,Button:cs,PushButton:Yx,RadioButton:B0,CheckBox:Jx,TextField:mm,PasswordField:Qx,Appearance:Xr};function Wz(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(Z,re){var ye,fe,Ae,ke,Oe,_e=t;if((re=re||t)==="RGBA"||Z.data!==void 0&&Z.data instanceof Uint8ClampedArray&&"height"in Z&&"width"in Z)return"RGBA";if(K(Z))for(Oe in r)for(Ae=r[Oe],ye=0;ye<Ae.length;ye+=1){for(ke=!0,fe=0;fe<Ae[ye].length;fe+=1)if(Ae[ye][fe]!==void 0&&Ae[ye][fe]!==Z[fe]){ke=!1;break}if(ke===!0){_e=Oe;break}}else for(Oe in r)for(Ae=r[Oe],ye=0;ye<Ae.length;ye+=1){for(ke=!0,fe=0;fe<Ae[ye].length;fe+=1)if(Ae[ye][fe]!==void 0&&Ae[ye][fe]!==Z.charCodeAt(fe)){ke=!1;break}if(ke===!0){_e=Oe;break}}return _e===t&&re!==t&&(_e=re),_e},i=function Z(re){for(var ye=this.internal.write,fe=this.internal.putStream,Ae=(0,this.internal.getFilters)();Ae.indexOf("FlateEncode")!==-1;)Ae.splice(Ae.indexOf("FlateEncode"),1);re.objectId=this.internal.newObject();var ke=[];if(ke.push({key:"Type",value:"/XObject"}),ke.push({key:"Subtype",value:"/Image"}),ke.push({key:"Width",value:re.width}),ke.push({key:"Height",value:re.height}),re.colorSpace===$.INDEXED?ke.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(re.palette.length/3-1)+" "+("sMask"in re&&re.sMask!==void 0?re.objectId+2:re.objectId+1)+" 0 R]"}):(ke.push({key:"ColorSpace",value:"/"+re.colorSpace}),re.colorSpace===$.DEVICE_CMYK&&ke.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ke.push({key:"BitsPerComponent",value:re.bitsPerComponent}),"decodeParameters"in re&&re.decodeParameters!==void 0&&ke.push({key:"DecodeParms",value:"<<"+re.decodeParameters+">>"}),"transparency"in re&&Array.isArray(re.transparency)){for(var Oe="",_e=0,Ne=re.transparency.length;_e<Ne;_e++)Oe+=re.transparency[_e]+" "+re.transparency[_e]+" ";ke.push({key:"Mask",value:"["+Oe+"]"})}re.sMask!==void 0&&ke.push({key:"SMask",value:re.objectId+1+" 0 R"});var Ke=re.filter!==void 0?["/"+re.filter]:void 0;if(fe({data:re.data,additionalKeyValues:ke,alreadyAppliedFilters:Ke,objectId:re.objectId}),ye("endobj"),"sMask"in re&&re.sMask!==void 0){var pt="/Predictor "+re.predictor+" /Colors 1 /BitsPerComponent "+re.bitsPerComponent+" /Columns "+re.width,ae={width:re.width,height:re.height,colorSpace:"DeviceGray",bitsPerComponent:re.bitsPerComponent,decodeParameters:pt,data:re.sMask};"filter"in re&&(ae.filter=re.filter),Z.call(this,ae)}if(re.colorSpace===$.INDEXED){var me=this.internal.newObject();fe({data:Q(new Uint8Array(re.palette)),objectId:me}),ye("endobj")}},a=function(){var Z=this.internal.collections.addImage_images;for(var re in Z)i.call(this,Z[re])},u=function(){var Z,re=this.internal.collections.addImage_images,ye=this.internal.write;for(var fe in re)ye("/I"+(Z=re[fe]).index,Z.objectId,"0","R")},s=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",u))},f=function(){var Z=this.internal.collections.addImage_images;return s.call(this),Z},m=function(){return Object.keys(this.internal.collections.addImage_images).length},x=function(Z){return typeof e["process"+Z.toUpperCase()]=="function"},w=function(Z){return Ui(Z)==="object"&&Z.nodeType===1},S=function(Z,re){if(Z.nodeName==="IMG"&&Z.hasAttribute("src")){var ye=""+Z.getAttribute("src");if(ye.indexOf("data:image/")===0)return R1(unescape(ye).split("base64,").pop());var fe=e.loadFile(ye,!0);if(fe!==void 0)return fe}if(Z.nodeName==="CANVAS"){if(Z.width===0||Z.height===0)throw new Error("Given canvas must have data. Canvas width: "+Z.width+", height: "+Z.height);var Ae;switch(re){case"PNG":Ae="image/png";break;case"WEBP":Ae="image/webp";break;case"JPEG":case"JPG":default:Ae="image/jpeg"}return R1(Z.toDataURL(Ae,1).split("base64,").pop())}},C=function(Z){var re=this.internal.collections.addImage_images;if(re){for(var ye in re)if(Z===re[ye].alias)return re[ye]}},L=function(Z,re,ye){return Z||re||(Z=-96,re=-96),Z<0&&(Z=-1*ye.width*72/Z/this.internal.scaleFactor),re<0&&(re=-1*ye.height*72/re/this.internal.scaleFactor),Z===0&&(Z=re*ye.width/ye.height),re===0&&(re=Z*ye.height/ye.width),[Z,re]},k=function(Z,re,ye,fe,Ae,ke){var Oe=L.call(this,ye,fe,Ae),_e=this.internal.getCoordinateString,Ne=this.internal.getVerticalCoordinateString,Ke=f.call(this);if(ye=Oe[0],fe=Oe[1],Ke[Ae.index]=Ae,ke){ke*=Math.PI/180;var pt=Math.cos(ke),ae=Math.sin(ke),me=function(Re){return Re.toFixed(4)},we=[me(pt),me(ae),me(-1*ae),me(pt),0,0,"cm"]}this.internal.write("q"),ke?(this.internal.write([1,"0","0",1,_e(Z),Ne(re+fe),"cm"].join(" ")),this.internal.write(we.join(" ")),this.internal.write([_e(ye),"0","0",_e(fe),"0","0","cm"].join(" "))):this.internal.write([_e(ye),"0","0",_e(fe),_e(Z),Ne(re+fe),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ae.index+" Do"),this.internal.write("Q")},$=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var M=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},z=e.__addimage__.sHashCode=function(Z){var re,ye,fe=0;if(typeof Z=="string")for(ye=Z.length,re=0;re<ye;re++)fe=(fe<<5)-fe+Z.charCodeAt(re),fe|=0;else if(K(Z))for(ye=Z.byteLength/2,re=0;re<ye;re++)fe=(fe<<5)-fe+Z[re],fe|=0;return fe},B=e.__addimage__.validateStringAsBase64=function(Z){(Z=Z||"").toString().trim();var re=!0;return Z.length===0&&(re=!1),Z.length%4!=0&&(re=!1),/^[A-Za-z0-9+/]+$/.test(Z.substr(0,Z.length-2))===!1&&(re=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Z.substr(-2))===!1&&(re=!1),re},q=e.__addimage__.extractImageFromDataUrl=function(Z){var re=(Z=Z||"").split("base64,"),ye=null;if(re.length===2){var fe=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(re[0]);Array.isArray(fe)&&(ye={mimeType:fe[1],charset:fe[2],data:re[1]})}return ye},te=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(Z){return te()&&Z instanceof ArrayBuffer};var K=e.__addimage__.isArrayBufferView=function(Z){return te()&&typeof Uint32Array<"u"&&(Z instanceof Int8Array||Z instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&Z instanceof Uint8ClampedArray||Z instanceof Int16Array||Z instanceof Uint16Array||Z instanceof Int32Array||Z instanceof Uint32Array||Z instanceof Float32Array||Z instanceof Float64Array)},ee=e.__addimage__.binaryStringToUint8Array=function(Z){for(var re=Z.length,ye=new Uint8Array(re),fe=0;fe<re;fe++)ye[fe]=Z.charCodeAt(fe);return ye},Q=e.__addimage__.arrayBufferToBinaryString=function(Z){for(var re="",ye=K(Z)?Z:new Uint8Array(Z),fe=0;fe<ye.length;fe+=8192)re+=String.fromCharCode.apply(null,ye.subarray(fe,fe+8192));return re};e.addImage=function(){var Z,re,ye,fe,Ae,ke,Oe,_e,Ne;if(typeof arguments[1]=="number"?(re=t,ye=arguments[1],fe=arguments[2],Ae=arguments[3],ke=arguments[4],Oe=arguments[5],_e=arguments[6],Ne=arguments[7]):(re=arguments[1],ye=arguments[2],fe=arguments[3],Ae=arguments[4],ke=arguments[5],Oe=arguments[6],_e=arguments[7],Ne=arguments[8]),Ui(Z=arguments[0])==="object"&&!w(Z)&&"imageData"in Z){var Ke=Z;Z=Ke.imageData,re=Ke.format||re||t,ye=Ke.x||ye||0,fe=Ke.y||fe||0,Ae=Ke.w||Ke.width||Ae,ke=Ke.h||Ke.height||ke,Oe=Ke.alias||Oe,_e=Ke.compression||_e,Ne=Ke.rotation||Ke.angle||Ne}var pt=this.internal.getFilters();if(_e===void 0&&pt.indexOf("FlateEncode")!==-1&&(_e="SLOW"),isNaN(ye)||isNaN(fe))throw new Error("Invalid coordinates passed to jsPDF.addImage");s.call(this);var ae=ge.call(this,Z,re,Oe,_e);return k.call(this,ye,fe,Ae,ke,ae,Ne),this};var ge=function(Z,re,ye,fe){var Ae,ke,Oe;if(typeof Z=="string"&&n(Z)===t){Z=unescape(Z);var _e=Y(Z,!1);(_e!==""||(_e=e.loadFile(Z,!0))!==void 0)&&(Z=_e)}if(w(Z)&&(Z=S(Z,re)),re=n(Z,re),!x(re))throw new Error("addImage does not support files of type '"+re+"', please ensure that a plugin for '"+re+"' support is added.");if(((Oe=ye)==null||Oe.length===0)&&(ye=function(Ne){return typeof Ne=="string"||K(Ne)?z(Ne):K(Ne.data)?z(Ne.data):null}(Z)),(Ae=C.call(this,ye))||(te()&&(Z instanceof Uint8Array||re==="RGBA"||(ke=Z,Z=ee(Z))),Ae=this["process"+re.toUpperCase()](Z,m.call(this),ye,function(Ne){return Ne&&typeof Ne=="string"&&(Ne=Ne.toUpperCase()),Ne in e.image_compression?Ne:M.NONE}(fe),ke)),!Ae)throw new Error("An unknown error occurred whilst processing the image.");return Ae},Y=e.__addimage__.convertBase64ToBinaryString=function(Z,re){var ye;re=typeof re!="boolean"||re;var fe,Ae="";if(typeof Z=="string"){fe=(ye=q(Z))!==null?ye.data:Z;try{Ae=R1(fe)}catch(ke){if(re)throw B(fe)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ke.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Ae};e.getImageProperties=function(Z){var re,ye,fe="";if(w(Z)&&(Z=S(Z)),typeof Z=="string"&&n(Z)===t&&((fe=Y(Z,!1))===""&&(fe=e.loadFile(Z)||""),Z=fe),ye=n(Z),!x(ye))throw new Error("addImage does not support files of type '"+ye+"', please ensure that a plugin for '"+ye+"' support is added.");if(!te()||Z instanceof Uint8Array||(Z=ee(Z)),!(re=this["process"+ye.toUpperCase()](Z)))throw new Error("An unknown error occurred whilst processing the image");return re.fileType=ye,re}})(wn.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};wn.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,i,a,u=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(r.objId),m=r.pageContext.annotations,x=!1,w=0;w<m.length&&!x;w++)switch((n=m[w]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(x=!0);break;case"reference":case"text":case"freetext":x=!0}if(x!=0){this.internal.write("/Annots [");for(var S=0;S<m.length;S++){n=m[S];var C=this.internal.pdfEscape,L=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var k=this.internal.newAdditionalObject(),$=this.internal.newAdditionalObject(),M=this.internal.getEncryptor(k.objId),z=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+u(n.bounds.x)+" "+s(n.bounds.y+n.bounds.h)+" "+u(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y)+"] ")+"/Contents ("+C(M(n.contents))+")",a+=" /Popup "+$.objId+" 0 R",a+=" /P "+f.objId+" 0 R",a+=" /T ("+C(M(z))+") >>",k.content=a;var B=k.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+u(n.bounds.x+30)+" "+s(n.bounds.y+n.bounds.h)+" "+u(n.bounds.x+n.bounds.w+30)+" "+s(n.bounds.y)+"] ")+" /Parent "+B,n.open&&(a+=" /Open true"),a+=" >>",$.content=a,this.internal.write(k.objId,"0 R",$.objId,"0 R");break;case"freetext":i="/Rect ["+u(n.bounds.x)+" "+s(n.bounds.y)+" "+u(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y+n.bounds.h)+"] ";var q=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+C(L(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+q+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var te=this.annotations._nameMap[n.options.name];n.options.pageNumber=te.page,n.options.top=te.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+C(L(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var K=s(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+K+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,i,a,u){var s=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,m=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:f(r),y:m(n),w:f(r+i),h:m(n+a)},options:u,type:"link"})},e.textWithLink=function(r,n,i,a){var u,s,f=this.getTextWidth(r),m=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){s=a.maxWidth;var x=this.splitTextToSize(r,s).length;u=Math.ceil(m*x)}else s=f,u=m;return this.text(r,n,i,a),i+=.2*m,a.align==="center"&&(n-=f/2),a.align==="right"&&(n-=f),this.link(n,i-m,s,u,a),f},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(wn.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(k){return t[k.charCodeAt(0)]!==void 0},u=e.__arabicParser__.isArabicLetter=function(k){return typeof k=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(k)},s=e.__arabicParser__.isArabicEndLetter=function(k){return u(k)&&a(k)&&t[k.charCodeAt(0)].length<=2},f=e.__arabicParser__.isArabicAlfLetter=function(k){return u(k)&&i.indexOf(k.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(k){return u(k)&&a(k)&&t[k.charCodeAt(0)].length>=1};var m=e.__arabicParser__.arabicLetterHasFinalForm=function(k){return u(k)&&a(k)&&t[k.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(k){return u(k)&&a(k)&&t[k.charCodeAt(0)].length>=3};var x=e.__arabicParser__.arabicLetterHasMedialForm=function(k){return u(k)&&a(k)&&t[k.charCodeAt(0)].length==4},w=e.__arabicParser__.resolveLigatures=function(k){var $=0,M=r,z="",B=0;for($=0;$<k.length;$+=1)M[k.charCodeAt($)]!==void 0?(B++,typeof(M=M[k.charCodeAt($)])=="number"&&(z+=String.fromCharCode(M),M=r,B=0),$===k.length-1&&(M=r,z+=k.charAt($-(B-1)),$-=B-1,B=0)):(M=r,z+=k.charAt($-B),$-=B,B=0);return z};e.__arabicParser__.isArabicDiacritic=function(k){return k!==void 0&&n[k.charCodeAt(0)]!==void 0};var S=e.__arabicParser__.getCorrectForm=function(k,$,M){return u(k)?a(k)===!1?-1:!m(k)||!u($)&&!u(M)||!u(M)&&s($)||s(k)&&!u($)||s(k)&&f($)||s(k)&&s($)?0:x(k)&&u($)&&!s($)&&u(M)&&m(M)?3:s(k)||!u(M)?1:2:-1},C=function(k){var $=0,M=0,z=0,B="",q="",te="",K=(k=k||"").split("\\s+"),ee=[];for($=0;$<K.length;$+=1){for(ee.push(""),M=0;M<K[$].length;M+=1)B=K[$][M],q=K[$][M-1],te=K[$][M+1],u(B)?(z=S(B,q,te),ee[$]+=z!==-1?String.fromCharCode(t[B.charCodeAt(0)][z]):B):ee[$]+=B;ee[$]=w(ee[$])}return ee.join(" ")},L=e.__arabicParser__.processArabic=e.processArabic=function(){var k,$=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,M=[];if(Array.isArray($)){var z=0;for(M=[],z=0;z<$.length;z+=1)Array.isArray($[z])?M.push([C($[z][0]),$[z][1],$[z][2]]):M.push([C($[z])]);k=M}else k=C($);return typeof arguments[0]=="string"?k:(arguments[0].text=k,arguments[0])};e.events.push(["preProcessText",L])}(wn.API),wn.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(s){r=s}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(s){n=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(s){i=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(s){a=s}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(s){u=s}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(wn.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(k){f=k}});var m=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return m},set:function(k){m=k}});var x=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return x},set:function(k){x=k}});var w=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return w},set:function(k){w=k}});var S=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return S},set:function(k){S=k}});var C=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return C},set:function(k){C=k}});var L=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return L},set:function(k){L=k}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(f){return n.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},e.getTextDimensions=function(f,m){n.call(this);var x=(m=m||{}).fontSize||this.getFontSize(),w=m.font||this.getFont(),S=m.scaleFactor||this.internal.scaleFactor,C=0,L=0,k=0,$=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var M=m.maxWidth;M>0?typeof f=="string"?f=this.splitTextToSize(f,M):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(B,q){return B.concat($.splitTextToSize(q,M))},[])):f=Array.isArray(f)?f:[f];for(var z=0;z<f.length;z++)C<(k=this.getStringUnitWidth(f[z],{font:w})*x)&&(C=k);return C!==0&&(L=f.length),{w:C/=S,h:Math.max((L*x*this.getLineHeightFactor()-x*(this.getLineHeightFactor()-1))/S,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var f=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=e.cell=function(){var f;f=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var m=this.internal.__cell__.lastCell,x=this.internal.__cell__.padding,w=this.internal.__cell__.margins||t,S=this.internal.__cell__.tableHeaderRow,C=this.internal.__cell__.printHeaders;return m.lineNumber!==void 0&&(m.lineNumber===f.lineNumber?(f.x=(m.x||0)+(m.width||0),f.y=m.y||0):m.y+m.height+f.height+w.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=w.top,C&&S&&(this.printHeaderRow(f.lineNumber,!0),f.y+=S[0].height)):f.y=m.y+m.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,r===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-x,f.y+x,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+x,{align:"center",baseline:"top",maxWidth:f.width-x-x}):this.text(f.text,f.x+x,f.y+x,{align:"left",baseline:"top",maxWidth:f.width-x-x})),this.internal.__cell__.lastCell=f,this};e.table=function(f,m,x,w,S){if(n.call(this),!x)throw new Error("No data for PDF table.");var C,L,k,$,M=[],z=[],B=[],q={},te={},K=[],ee=[],Q=(S=S||{}).autoSize||!1,ge=S.printHeaders!==!1,Y=S.css&&S.css["font-size"]!==void 0?16*S.css["font-size"]:S.fontSize||12,Z=S.margins||Object.assign({width:this.getPageWidth()},t),re=typeof S.padding=="number"?S.padding:3,ye=S.headerBackgroundColor||"#c8c8c8",fe=S.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=ge,this.internal.__cell__.margins=Z,this.internal.__cell__.table_font_size=Y,this.internal.__cell__.padding=re,this.internal.__cell__.headerBackgroundColor=ye,this.internal.__cell__.headerTextColor=fe,this.setFontSize(Y),w==null)z=M=Object.keys(x[0]),B=M.map(function(){return"left"});else if(Array.isArray(w)&&Ui(w[0])==="object")for(M=w.map(function(Ke){return Ke.name}),z=w.map(function(Ke){return Ke.prompt||Ke.name||""}),B=w.map(function(Ke){return Ke.align||"left"}),C=0;C<w.length;C+=1)te[w[C].name]=w[C].width*(19.049976/25.4);else Array.isArray(w)&&typeof w[0]=="string"&&(z=M=w,B=M.map(function(){return"left"}));if(Q||Array.isArray(w)&&typeof w[0]=="string")for(C=0;C<M.length;C+=1){for(q[$=M[C]]=x.map(function(Ke){return Ke[$]}),this.setFont(void 0,"bold"),K.push(this.getTextDimensions(z[C],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),L=q[$],this.setFont(void 0,"normal"),k=0;k<L.length;k+=1)K.push(this.getTextDimensions(L[k],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);te[$]=Math.max.apply(null,K)+re+re,K=[]}if(ge){var Ae={};for(C=0;C<M.length;C+=1)Ae[M[C]]={},Ae[M[C]].text=z[C],Ae[M[C]].align=B[C];var ke=s.call(this,Ae,te);ee=M.map(function(Ke){return new a(f,m,te[Ke],ke,Ae[Ke].text,void 0,Ae[Ke].align)}),this.setTableHeaderRow(ee),this.printHeaderRow(1,!1)}var Oe=w.reduce(function(Ke,pt){return Ke[pt.name]=pt.align,Ke},{});for(C=0;C<x.length;C+=1){"rowStart"in S&&S.rowStart instanceof Function&&S.rowStart({row:C,data:x[C]},this);var _e=s.call(this,x[C],te);for(k=0;k<M.length;k+=1){var Ne=x[C][M[k]];"cellStart"in S&&S.cellStart instanceof Function&&S.cellStart({row:C,col:k,data:Ne},this),u.call(this,new a(f,m,te[M[k]],_e,Ne,C+2,Oe[M[k]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=m,this};var s=function(f,m){var x=this.internal.__cell__.padding,w=this.internal.__cell__.table_font_size,S=this.internal.scaleFactor;return Object.keys(f).map(function(C){var L=f[C];return this.splitTextToSize(L.hasOwnProperty("text")?L.text:L,m[C]-x-x)},this).map(function(C){return this.getLineHeightFactor()*C.length*w/S+x+x},this).reduce(function(C,L){return Math.max(C,L)},0)};e.setTableHeaderRow=function(f){n.call(this),this.internal.__cell__.tableHeaderRow=f},e.printHeaderRow=function(f,m){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var x;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var w=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(w[0],w[1],w[2],w[3],void 0,-1)}this.setFont(void 0,"bold");for(var S=[],C=0;C<this.internal.__cell__.tableHeaderRow.length;C+=1){x=this.internal.__cell__.tableHeaderRow[C].clone(),m&&(x.y=this.internal.__cell__.margins.top||0,S.push(x)),x.lineNumber=f;var L=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,x),this.setTextColor(L)}S.length>0&&this.setTableHeaderRow(S),this.setFont(void 0,"normal"),r=!1}}(wn.API);var Gz={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Kz=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],gA=Wz(Kz),Xz=[100,200,300,400,500,600,700,800,900],goe=Wz(Xz);function yA(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return Gz[a=a||"normal"]?a:"normal"}(e.style),n=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(a){return typeof gA[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,r,n].join(" ")}}}function TR(e,t,r,n){var i;for(i=r;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=r;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var yoe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},PR={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function kR(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function voe(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",i=Object.assign({},yoe,r.genericFontFamilies||{}),a=null,u=null,s=0;s<t.length;++s)if(i[(a=yA(t[s])).family]&&(a.family=i[a.family]),e.hasOwnProperty(a.family)){u=e[a.family];break}if(!(u=u||e[n]))throw new Error("Could not find a font-family for the rule '"+kR(a)+"' and default family '"+n+"'.");if(u=function(f,m){if(m[f])return m[f];var x=gA[f],w=x<=gA.normal?-1:1,S=TR(m,Kz,x,w);if(!S)throw new Error("Could not find a matching font-stretch value for "+f);return S}(a.stretch,u),u=function(f,m){if(m[f])return m[f];for(var x=Gz[f],w=0;w<x.length;++w)if(m[x[w]])return m[x[w]];throw new Error("Could not find a matching font-style for "+f)}(a.style,u),!(u=function(f,m){if(m[f])return m[f];if(f===400&&m[500])return m[500];if(f===500&&m[400])return m[400];var x=goe[f],w=TR(m,Xz,x,f<400?-1:1);if(!w)throw new Error("Could not find a matching font-weight for value "+f);return w}(a.weight,u)))throw new Error("Failed to resolve a font for the rule '"+kR(a)+"'.");return u}function IR(e){return e.trimLeft()}function boe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function xoe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var px,LR,MR,b3=["times"];(function(e){var t,r,n,i,a,u,s,f,m,x=function(ae){return ae=ae||{},this.isStrokeTransparent=ae.isStrokeTransparent||!1,this.strokeOpacity=ae.strokeOpacity||1,this.strokeStyle=ae.strokeStyle||"#000000",this.fillStyle=ae.fillStyle||"#000000",this.isFillTransparent=ae.isFillTransparent||!1,this.fillOpacity=ae.fillOpacity||1,this.font=ae.font||"10px sans-serif",this.textBaseline=ae.textBaseline||"alphabetic",this.textAlign=ae.textAlign||"left",this.lineWidth=ae.lineWidth||1,this.lineJoin=ae.lineJoin||"miter",this.lineCap=ae.lineCap||"butt",this.path=ae.path||[],this.transform=ae.transform!==void 0?ae.transform.clone():new f,this.globalCompositeOperation=ae.globalCompositeOperation||"normal",this.globalAlpha=ae.globalAlpha||1,this.clip_path=ae.clip_path||[],this.currentPoint=ae.currentPoint||new u,this.miterLimit=ae.miterLimit||10,this.lastPoint=ae.lastPoint||new u,this.lineDashOffset=ae.lineDashOffset||0,this.lineDash=ae.lineDash||[],this.margin=ae.margin||[0,0,0,0],this.prevPageLastElemOffset=ae.prevPageLastElemOffset||0,this.ignoreClearRect=typeof ae.ignoreClearRect!="boolean"||ae.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new w(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,u=this.internal.Point,s=this.internal.Rectangle,f=this.internal.Matrix,m=new x}]);var w=function(ae){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var me=ae;Object.defineProperty(this,"pdf",{get:function(){return me}});var we=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return we},set:function(lt){we=!!lt}});var Re=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Re},set:function(lt){Re=!!lt}});var Fe=0;Object.defineProperty(this,"posX",{get:function(){return Fe},set:function(lt){isNaN(lt)||(Fe=lt)}});var rt=0;Object.defineProperty(this,"posY",{get:function(){return rt},set:function(lt){isNaN(lt)||(rt=lt)}}),Object.defineProperty(this,"margin",{get:function(){return m.margin},set:function(lt){var ce;typeof lt=="number"?ce=[lt,lt,lt,lt]:((ce=new Array(4))[0]=lt[0],ce[1]=lt.length>=2?lt[1]:ce[0],ce[2]=lt.length>=3?lt[2]:ce[0],ce[3]=lt.length>=4?lt[3]:ce[1]),m.margin=ce}});var Ve=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ve},set:function(lt){Ve=lt}});var We=0;Object.defineProperty(this,"lastBreak",{get:function(){return We},set:function(lt){We=lt}});var nt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return nt},set:function(lt){nt=lt}}),Object.defineProperty(this,"ctx",{get:function(){return m},set:function(lt){lt instanceof x&&(m=lt)}}),Object.defineProperty(this,"path",{get:function(){return m.path},set:function(lt){m.path=lt}});var ut=[];Object.defineProperty(this,"ctxStack",{get:function(){return ut},set:function(lt){ut=lt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(lt){var ce;ce=S(lt),this.ctx.fillStyle=ce.style,this.ctx.isFillTransparent=ce.a===0,this.ctx.fillOpacity=ce.a,this.pdf.setFillColor(ce.r,ce.g,ce.b,{a:ce.a}),this.pdf.setTextColor(ce.r,ce.g,ce.b,{a:ce.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(lt){var ce=S(lt);this.ctx.strokeStyle=ce.style,this.ctx.isStrokeTransparent=ce.a===0,this.ctx.strokeOpacity=ce.a,ce.a===0?this.pdf.setDrawColor(255,255,255):(ce.a,this.pdf.setDrawColor(ce.r,ce.g,ce.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(lt){["butt","round","square"].indexOf(lt)!==-1&&(this.ctx.lineCap=lt,this.pdf.setLineCap(lt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(lt){isNaN(lt)||(this.ctx.lineWidth=lt,this.pdf.setLineWidth(lt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(lt){["bevel","round","miter"].indexOf(lt)!==-1&&(this.ctx.lineJoin=lt,this.pdf.setLineJoin(lt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(lt){isNaN(lt)||(this.ctx.miterLimit=lt,this.pdf.setMiterLimit(lt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(lt){this.ctx.textBaseline=lt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(lt){["right","end","center","left","start"].indexOf(lt)!==-1&&(this.ctx.textAlign=lt)}});var bt=null;function Ct(lt,ce){if(bt===null){var ur=function(qt){var wt=[];return Object.keys(qt).forEach(function(Mt){qt[Mt].forEach(function(It){var Gt=null;switch(It){case"bold":Gt={family:Mt,weight:"bold"};break;case"italic":Gt={family:Mt,style:"italic"};break;case"bolditalic":Gt={family:Mt,weight:"bold",style:"italic"};break;case"":case"normal":Gt={family:Mt}}Gt!==null&&(Gt.ref={name:Mt,style:It},wt.push(Gt))})}),wt}(lt.getFontList());bt=function(qt){for(var wt={},Mt=0;Mt<qt.length;++Mt){var It=yA(qt[Mt]),Gt=It.family,Lt=It.stretch,Jt=It.style,_r=It.weight;wt[Gt]=wt[Gt]||{},wt[Gt][Lt]=wt[Gt][Lt]||{},wt[Gt][Lt][Jt]=wt[Gt][Lt][Jt]||{},wt[Gt][Lt][Jt][_r]=It}return wt}(ur.concat(ce))}return bt}var Et=null;Object.defineProperty(this,"fontFaces",{get:function(){return Et},set:function(lt){bt=null,Et=lt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(lt){var ce;if(this.ctx.font=lt,(ce=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(lt))!==null){var ur=ce[1],qt=(ce[2],ce[3]),wt=ce[4],Mt=(ce[5],ce[6]),It=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(wt)[2];wt=Math.floor(It==="px"?parseFloat(wt)*this.pdf.internal.scaleFactor:It==="em"?parseFloat(wt)*this.pdf.getFontSize():parseFloat(wt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(wt);var Gt=function(gt){var Ft,At,Ar=[],ot=gt.trim();if(ot==="")return b3;if(ot in PR)return[PR[ot]];for(;ot!=="";){switch(At=null,Ft=(ot=IR(ot)).charAt(0)){case'"':case"'":At=boe(ot.substring(1),Ft);break;default:At=xoe(ot)}if(At===null||(Ar.push(At[0]),(ot=IR(At[1]))!==""&&ot.charAt(0)!==","))return b3;ot=ot.replace(/^,/,"")}return Ar}(Mt);if(this.fontFaces){var Lt=voe(Ct(this.pdf,this.fontFaces),Gt.map(function(gt){return{family:gt,stretch:"normal",weight:qt,style:ur}}));this.pdf.setFont(Lt.ref.name,Lt.ref.style)}else{var Jt="";(qt==="bold"||parseInt(qt,10)>=700||ur==="bold")&&(Jt="bold"),ur==="italic"&&(Jt+="italic"),Jt.length===0&&(Jt="normal");for(var _r="",Cr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ir=0;Ir<Gt.length;Ir++){if(this.pdf.internal.getFont(Gt[Ir],Jt,{noFallback:!0,disableWarning:!0})!==void 0){_r=Gt[Ir];break}if(Jt==="bolditalic"&&this.pdf.internal.getFont(Gt[Ir],"bold",{noFallback:!0,disableWarning:!0})!==void 0)_r=Gt[Ir],Jt="bold";else if(this.pdf.internal.getFont(Gt[Ir],"normal",{noFallback:!0,disableWarning:!0})!==void 0){_r=Gt[Ir],Jt="normal";break}}if(_r===""){for(var Ze=0;Ze<Gt.length;Ze++)if(Cr[Gt[Ze]]){_r=Cr[Gt[Ze]];break}}_r=_r===""?"Times":_r,this.pdf.setFont(_r,Jt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(lt){this.ctx.globalCompositeOperation=lt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(lt){this.ctx.globalAlpha=lt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(lt){this.ctx.lineDashOffset=lt,pt.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(lt){this.ctx.lineDash=lt,pt.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(lt){this.ctx.ignoreClearRect=!!lt}})};w.prototype.setLineDash=function(ae){this.lineDash=ae},w.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},w.prototype.fill=function(){q.call(this,"fill",!1)},w.prototype.stroke=function(){q.call(this,"stroke",!1)},w.prototype.beginPath=function(){this.path=[{type:"begin"}]},w.prototype.moveTo=function(ae,me){if(isNaN(ae)||isNaN(me))throw ao.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var we=this.ctx.transform.applyToPoint(new u(ae,me));this.path.push({type:"mt",x:we.x,y:we.y}),this.ctx.lastPoint=new u(ae,me)},w.prototype.closePath=function(){var ae=new u(0,0),me=0;for(me=this.path.length-1;me!==-1;me--)if(this.path[me].type==="begin"&&Ui(this.path[me+1])==="object"&&typeof this.path[me+1].x=="number"){ae=new u(this.path[me+1].x,this.path[me+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(ae.x,ae.y)},w.prototype.lineTo=function(ae,me){if(isNaN(ae)||isNaN(me))throw ao.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var we=this.ctx.transform.applyToPoint(new u(ae,me));this.path.push({type:"lt",x:we.x,y:we.y}),this.ctx.lastPoint=new u(we.x,we.y)},w.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),q.call(this,null,!0)},w.prototype.quadraticCurveTo=function(ae,me,we,Re){if(isNaN(we)||isNaN(Re)||isNaN(ae)||isNaN(me))throw ao.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Fe=this.ctx.transform.applyToPoint(new u(we,Re)),rt=this.ctx.transform.applyToPoint(new u(ae,me));this.path.push({type:"qct",x1:rt.x,y1:rt.y,x:Fe.x,y:Fe.y}),this.ctx.lastPoint=new u(Fe.x,Fe.y)},w.prototype.bezierCurveTo=function(ae,me,we,Re,Fe,rt){if(isNaN(Fe)||isNaN(rt)||isNaN(ae)||isNaN(me)||isNaN(we)||isNaN(Re))throw ao.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ve=this.ctx.transform.applyToPoint(new u(Fe,rt)),We=this.ctx.transform.applyToPoint(new u(ae,me)),nt=this.ctx.transform.applyToPoint(new u(we,Re));this.path.push({type:"bct",x1:We.x,y1:We.y,x2:nt.x,y2:nt.y,x:Ve.x,y:Ve.y}),this.ctx.lastPoint=new u(Ve.x,Ve.y)},w.prototype.arc=function(ae,me,we,Re,Fe,rt){if(isNaN(ae)||isNaN(me)||isNaN(we)||isNaN(Re)||isNaN(Fe))throw ao.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(rt=!!rt,!this.ctx.transform.isIdentity){var Ve=this.ctx.transform.applyToPoint(new u(ae,me));ae=Ve.x,me=Ve.y;var We=this.ctx.transform.applyToPoint(new u(0,we)),nt=this.ctx.transform.applyToPoint(new u(0,0));we=Math.sqrt(Math.pow(We.x-nt.x,2)+Math.pow(We.y-nt.y,2))}Math.abs(Fe-Re)>=2*Math.PI&&(Re=0,Fe=2*Math.PI),this.path.push({type:"arc",x:ae,y:me,radius:we,startAngle:Re,endAngle:Fe,counterclockwise:rt})},w.prototype.arcTo=function(ae,me,we,Re,Fe){throw new Error("arcTo not implemented.")},w.prototype.rect=function(ae,me,we,Re){if(isNaN(ae)||isNaN(me)||isNaN(we)||isNaN(Re))throw ao.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(ae,me),this.lineTo(ae+we,me),this.lineTo(ae+we,me+Re),this.lineTo(ae,me+Re),this.lineTo(ae,me),this.lineTo(ae+we,me),this.lineTo(ae,me)},w.prototype.fillRect=function(ae,me,we,Re){if(isNaN(ae)||isNaN(me)||isNaN(we)||isNaN(Re))throw ao.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!C.call(this)){var Fe={};this.lineCap!=="butt"&&(Fe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Fe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(ae,me,we,Re),this.fill(),Fe.hasOwnProperty("lineCap")&&(this.lineCap=Fe.lineCap),Fe.hasOwnProperty("lineJoin")&&(this.lineJoin=Fe.lineJoin)}},w.prototype.strokeRect=function(ae,me,we,Re){if(isNaN(ae)||isNaN(me)||isNaN(we)||isNaN(Re))throw ao.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");L.call(this)||(this.beginPath(),this.rect(ae,me,we,Re),this.stroke())},w.prototype.clearRect=function(ae,me,we,Re){if(isNaN(ae)||isNaN(me)||isNaN(we)||isNaN(Re))throw ao.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(ae,me,we,Re))},w.prototype.save=function(ae){ae=typeof ae!="boolean"||ae;for(var me=this.pdf.internal.getCurrentPageInfo().pageNumber,we=0;we<this.pdf.internal.getNumberOfPages();we++)this.pdf.setPage(we+1),this.pdf.internal.out("q");if(this.pdf.setPage(me),ae){this.ctx.fontSize=this.pdf.internal.getFontSize();var Re=new x(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Re}},w.prototype.restore=function(ae){ae=typeof ae!="boolean"||ae;for(var me=this.pdf.internal.getCurrentPageInfo().pageNumber,we=0;we<this.pdf.internal.getNumberOfPages();we++)this.pdf.setPage(we+1),this.pdf.internal.out("Q");this.pdf.setPage(me),ae&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},w.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var S=function(ae){var me,we,Re,Fe;if(ae.isCanvasGradient===!0&&(ae=ae.getColor()),!ae)return{r:0,g:0,b:0,a:0,style:ae};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(ae))me=0,we=0,Re=0,Fe=0;else{var rt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(ae);if(rt!==null)me=parseInt(rt[1]),we=parseInt(rt[2]),Re=parseInt(rt[3]),Fe=1;else if((rt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(ae))!==null)me=parseInt(rt[1]),we=parseInt(rt[2]),Re=parseInt(rt[3]),Fe=parseFloat(rt[4]);else{if(Fe=1,typeof ae=="string"&&ae.charAt(0)!=="#"){var Ve=new zz(ae);ae=Ve.ok?Ve.toHex():"#000000"}ae.length===4?(me=ae.substring(1,2),me+=me,we=ae.substring(2,3),we+=we,Re=ae.substring(3,4),Re+=Re):(me=ae.substring(1,3),we=ae.substring(3,5),Re=ae.substring(5,7)),me=parseInt(me,16),we=parseInt(we,16),Re=parseInt(Re,16)}}return{r:me,g:we,b:Re,a:Fe,style:ae}},C=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},L=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};w.prototype.fillText=function(ae,me,we,Re){if(isNaN(me)||isNaN(we)||typeof ae!="string")throw ao.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Re=isNaN(Re)?void 0:Re,!C.call(this)){var Fe=_e(this.ctx.transform.rotation),rt=this.ctx.transform.scaleX;re.call(this,{text:ae,x:me,y:we,scale:rt,angle:Fe,align:this.textAlign,maxWidth:Re})}},w.prototype.strokeText=function(ae,me,we,Re){if(isNaN(me)||isNaN(we)||typeof ae!="string")throw ao.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!L.call(this)){Re=isNaN(Re)?void 0:Re;var Fe=_e(this.ctx.transform.rotation),rt=this.ctx.transform.scaleX;re.call(this,{text:ae,x:me,y:we,scale:rt,renderingMode:"stroke",angle:Fe,align:this.textAlign,maxWidth:Re})}},w.prototype.measureText=function(ae){if(typeof ae!="string")throw ao.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var me=this.pdf,we=this.pdf.internal.scaleFactor,Re=me.internal.getFontSize(),Fe=me.getStringUnitWidth(ae)*Re/me.internal.scaleFactor,rt=function(Ve){var We=(Ve=Ve||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return We}}),this};return new rt({width:Fe*=Math.round(96*we/72*1e4)/1e4})},w.prototype.scale=function(ae,me){if(isNaN(ae)||isNaN(me))throw ao.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var we=new f(ae,0,0,me,0,0);this.ctx.transform=this.ctx.transform.multiply(we)},w.prototype.rotate=function(ae){if(isNaN(ae))throw ao.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var me=new f(Math.cos(ae),Math.sin(ae),-Math.sin(ae),Math.cos(ae),0,0);this.ctx.transform=this.ctx.transform.multiply(me)},w.prototype.translate=function(ae,me){if(isNaN(ae)||isNaN(me))throw ao.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var we=new f(1,0,0,1,ae,me);this.ctx.transform=this.ctx.transform.multiply(we)},w.prototype.transform=function(ae,me,we,Re,Fe,rt){if(isNaN(ae)||isNaN(me)||isNaN(we)||isNaN(Re)||isNaN(Fe)||isNaN(rt))throw ao.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ve=new f(ae,me,we,Re,Fe,rt);this.ctx.transform=this.ctx.transform.multiply(Ve)},w.prototype.setTransform=function(ae,me,we,Re,Fe,rt){ae=isNaN(ae)?1:ae,me=isNaN(me)?0:me,we=isNaN(we)?0:we,Re=isNaN(Re)?1:Re,Fe=isNaN(Fe)?0:Fe,rt=isNaN(rt)?0:rt,this.ctx.transform=new f(ae,me,we,Re,Fe,rt)};var k=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};w.prototype.drawImage=function(ae,me,we,Re,Fe,rt,Ve,We,nt){var ut=this.pdf.getImageProperties(ae),bt=1,Ct=1,Et=1,lt=1;Re!==void 0&&We!==void 0&&(Et=We/Re,lt=nt/Fe,bt=ut.width/Re*We/Re,Ct=ut.height/Fe*nt/Fe),rt===void 0&&(rt=me,Ve=we,me=0,we=0),Re!==void 0&&We===void 0&&(We=Re,nt=Fe),Re===void 0&&We===void 0&&(We=ut.width,nt=ut.height);for(var ce,ur=this.ctx.transform.decompose(),qt=_e(ur.rotate.shx),wt=new f,Mt=(wt=(wt=(wt=wt.multiply(ur.translate)).multiply(ur.skew)).multiply(ur.scale)).applyToRectangle(new s(rt-me*Et,Ve-we*lt,Re*bt,Fe*Ct)),It=$.call(this,Mt),Gt=[],Lt=0;Lt<It.length;Lt+=1)Gt.indexOf(It[Lt])===-1&&Gt.push(It[Lt]);if(B(Gt),this.autoPaging)for(var Jt=Gt[0],_r=Gt[Gt.length-1],Cr=Jt;Cr<_r+1;Cr++){this.pdf.setPage(Cr);var Ir=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ze=Cr===1?this.posY+this.margin[0]:this.margin[0],gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],At=Cr===1?0:gt+(Cr-2)*Ft;if(this.ctx.clip_path.length!==0){var Ar=this.path;ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=z(ce,this.posX+this.margin[3],-At+Ze+this.ctx.prevPageLastElemOffset),te.call(this,"fill",!0),this.path=Ar}var ot=JSON.parse(JSON.stringify(Mt));ot=z([ot],this.posX+this.margin[3],-At+Ze+this.ctx.prevPageLastElemOffset)[0];var kt=(Cr>Jt||Cr<_r)&&k.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ir,Ft,null).clip().discardPath()),this.pdf.addImage(ae,"JPEG",ot.x,ot.y,ot.w,ot.h,null,null,qt),kt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(ae,"JPEG",Mt.x,Mt.y,Mt.w,Mt.h,null,null,qt)};var $=function(ae,me,we){var Re=[];me=me||this.pdf.internal.pageSize.width,we=we||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Fe=this.posY+this.ctx.prevPageLastElemOffset;switch(ae.type){default:case"mt":case"lt":Re.push(Math.floor((ae.y+Fe)/we)+1);break;case"arc":Re.push(Math.floor((ae.y+Fe-ae.radius)/we)+1),Re.push(Math.floor((ae.y+Fe+ae.radius)/we)+1);break;case"qct":var rt=Ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ae.x1,ae.y1,ae.x,ae.y);Re.push(Math.floor((rt.y+Fe)/we)+1),Re.push(Math.floor((rt.y+rt.h+Fe)/we)+1);break;case"bct":var Ve=Ke(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ae.x1,ae.y1,ae.x2,ae.y2,ae.x,ae.y);Re.push(Math.floor((Ve.y+Fe)/we)+1),Re.push(Math.floor((Ve.y+Ve.h+Fe)/we)+1);break;case"rect":Re.push(Math.floor((ae.y+Fe)/we)+1),Re.push(Math.floor((ae.y+ae.h+Fe)/we)+1)}for(var We=0;We<Re.length;We+=1)for(;this.pdf.internal.getNumberOfPages()<Re[We];)M.call(this);return Re},M=function(){var ae=this.fillStyle,me=this.strokeStyle,we=this.font,Re=this.lineCap,Fe=this.lineWidth,rt=this.lineJoin;this.pdf.addPage(),this.fillStyle=ae,this.strokeStyle=me,this.font=we,this.lineCap=Re,this.lineWidth=Fe,this.lineJoin=rt},z=function(ae,me,we){for(var Re=0;Re<ae.length;Re++)switch(ae[Re].type){case"bct":ae[Re].x2+=me,ae[Re].y2+=we;case"qct":ae[Re].x1+=me,ae[Re].y1+=we;case"mt":case"lt":case"arc":default:ae[Re].x+=me,ae[Re].y+=we}return ae},B=function(ae){return ae.sort(function(me,we){return me-we})},q=function(ae,me){for(var we,Re,Fe=this.fillStyle,rt=this.strokeStyle,Ve=this.lineCap,We=this.lineWidth,nt=Math.abs(We*this.ctx.transform.scaleX),ut=this.lineJoin,bt=JSON.parse(JSON.stringify(this.path)),Ct=JSON.parse(JSON.stringify(this.path)),Et=[],lt=0;lt<Ct.length;lt++)if(Ct[lt].x!==void 0)for(var ce=$.call(this,Ct[lt]),ur=0;ur<ce.length;ur+=1)Et.indexOf(ce[ur])===-1&&Et.push(ce[ur]);for(var qt=0;qt<Et.length;qt++)for(;this.pdf.internal.getNumberOfPages()<Et[qt];)M.call(this);if(B(Et),this.autoPaging)for(var wt=Et[0],Mt=Et[Et.length-1],It=wt;It<Mt+1;It++){this.pdf.setPage(It),this.fillStyle=Fe,this.strokeStyle=rt,this.lineCap=Ve,this.lineWidth=nt,this.lineJoin=ut;var Gt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Lt=It===1?this.posY+this.margin[0]:this.margin[0],Jt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_r=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Cr=It===1?0:Jt+(It-2)*_r;if(this.ctx.clip_path.length!==0){var Ir=this.path;we=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=z(we,this.posX+this.margin[3],-Cr+Lt+this.ctx.prevPageLastElemOffset),te.call(this,ae,!0),this.path=Ir}if(Re=JSON.parse(JSON.stringify(bt)),this.path=z(Re,this.posX+this.margin[3],-Cr+Lt+this.ctx.prevPageLastElemOffset),me===!1||It===0){var Ze=(It>wt||It<Mt)&&k.call(this);Ze&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Gt,_r,null).clip().discardPath()),te.call(this,ae,me),Ze&&this.pdf.restoreGraphicsState()}this.lineWidth=We}else this.lineWidth=nt,te.call(this,ae,me),this.lineWidth=We;this.path=bt},te=function(ae,me){if((ae!=="stroke"||me||!L.call(this))&&(ae==="stroke"||me||!C.call(this))){for(var we,Re,Fe=[],rt=this.path,Ve=0;Ve<rt.length;Ve++){var We=rt[Ve];switch(We.type){case"begin":Fe.push({begin:!0});break;case"close":Fe.push({close:!0});break;case"mt":Fe.push({start:We,deltas:[],abs:[]});break;case"lt":var nt=Fe.length;if(rt[Ve-1]&&!isNaN(rt[Ve-1].x)&&(we=[We.x-rt[Ve-1].x,We.y-rt[Ve-1].y],nt>0)){for(;nt>=0;nt--)if(Fe[nt-1].close!==!0&&Fe[nt-1].begin!==!0){Fe[nt-1].deltas.push(we),Fe[nt-1].abs.push(We);break}}break;case"bct":we=[We.x1-rt[Ve-1].x,We.y1-rt[Ve-1].y,We.x2-rt[Ve-1].x,We.y2-rt[Ve-1].y,We.x-rt[Ve-1].x,We.y-rt[Ve-1].y],Fe[Fe.length-1].deltas.push(we);break;case"qct":var ut=rt[Ve-1].x+2/3*(We.x1-rt[Ve-1].x),bt=rt[Ve-1].y+2/3*(We.y1-rt[Ve-1].y),Ct=We.x+2/3*(We.x1-We.x),Et=We.y+2/3*(We.y1-We.y),lt=We.x,ce=We.y;we=[ut-rt[Ve-1].x,bt-rt[Ve-1].y,Ct-rt[Ve-1].x,Et-rt[Ve-1].y,lt-rt[Ve-1].x,ce-rt[Ve-1].y],Fe[Fe.length-1].deltas.push(we);break;case"arc":Fe.push({deltas:[],abs:[],arc:!0}),Array.isArray(Fe[Fe.length-1].abs)&&Fe[Fe.length-1].abs.push(We)}}Re=me?null:ae==="stroke"?"stroke":"fill";for(var ur=!1,qt=0;qt<Fe.length;qt++)if(Fe[qt].arc)for(var wt=Fe[qt].abs,Mt=0;Mt<wt.length;Mt++){var It=wt[Mt];It.type==="arc"?Q.call(this,It.x,It.y,It.radius,It.startAngle,It.endAngle,It.counterclockwise,void 0,me,!ur):ye.call(this,It.x,It.y),ur=!0}else if(Fe[qt].close===!0)this.pdf.internal.out("h"),ur=!1;else if(Fe[qt].begin!==!0){var Gt=Fe[qt].start.x,Lt=Fe[qt].start.y;fe.call(this,Fe[qt].deltas,Gt,Lt),ur=!0}Re&&ge.call(this,Re),me&&Y.call(this)}},K=function(ae){var me=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,we=me*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return ae-we;case"top":return ae+me-we;case"hanging":return ae+me-2*we;case"middle":return ae+me/2-we;case"ideographic":return ae;case"alphabetic":default:return ae}},ee=function(ae){return ae+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};w.prototype.createLinearGradient=function(){var ae=function(){};return ae.colorStops=[],ae.addColorStop=function(me,we){this.colorStops.push([me,we])},ae.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},ae.isCanvasGradient=!0,ae},w.prototype.createPattern=function(){return this.createLinearGradient()},w.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Q=function(ae,me,we,Re,Fe,rt,Ve,We,nt){for(var ut=ke.call(this,we,Re,Fe,rt),bt=0;bt<ut.length;bt++){var Ct=ut[bt];bt===0&&(nt?Z.call(this,Ct.x1+ae,Ct.y1+me):ye.call(this,Ct.x1+ae,Ct.y1+me)),Ae.call(this,ae,me,Ct.x2,Ct.y2,Ct.x3,Ct.y3,Ct.x4,Ct.y4)}We?Y.call(this):ge.call(this,Ve)},ge=function(ae){switch(ae){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Y=function(){this.pdf.clip(),this.pdf.discardPath()},Z=function(ae,me){this.pdf.internal.out(r(ae)+" "+n(me)+" m")},re=function(ae){var me;switch(ae.align){case"right":case"end":me="right";break;case"center":me="center";break;case"left":case"start":default:me="left"}var we=this.pdf.getTextDimensions(ae.text),Re=K.call(this,ae.y),Fe=ee.call(this,Re)-we.h,rt=this.ctx.transform.applyToPoint(new u(ae.x,Re)),Ve=this.ctx.transform.decompose(),We=new f;We=(We=(We=We.multiply(Ve.translate)).multiply(Ve.skew)).multiply(Ve.scale);for(var nt,ut,bt,Ct=this.ctx.transform.applyToRectangle(new s(ae.x,Re,we.w,we.h)),Et=We.applyToRectangle(new s(ae.x,Fe,we.w,we.h)),lt=$.call(this,Et),ce=[],ur=0;ur<lt.length;ur+=1)ce.indexOf(lt[ur])===-1&&ce.push(lt[ur]);if(B(ce),this.autoPaging)for(var qt=ce[0],wt=ce[ce.length-1],Mt=qt;Mt<wt+1;Mt++){this.pdf.setPage(Mt);var It=Mt===1?this.posY+this.margin[0]:this.margin[0],Gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Lt=this.pdf.internal.pageSize.height-this.margin[2],Jt=Lt-this.margin[0],_r=this.pdf.internal.pageSize.width-this.margin[1],Cr=_r-this.margin[3],Ir=Mt===1?0:Gt+(Mt-2)*Jt;if(this.ctx.clip_path.length!==0){var Ze=this.path;nt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=z(nt,this.posX+this.margin[3],-1*Ir+It),te.call(this,"fill",!0),this.path=Ze}var gt=z([JSON.parse(JSON.stringify(Et))],this.posX+this.margin[3],-Ir+It+this.ctx.prevPageLastElemOffset)[0];ae.scale>=.01&&(ut=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ut*ae.scale),bt=this.lineWidth,this.lineWidth=bt*ae.scale);var Ft=this.autoPaging!=="text";if(Ft||gt.y+gt.h<=Lt){if(Ft||gt.y>=It&&gt.x<=_r){var At=Ft?ae.text:this.pdf.splitTextToSize(ae.text,ae.maxWidth||_r-gt.x)[0],Ar=z([JSON.parse(JSON.stringify(Ct))],this.posX+this.margin[3],-Ir+It+this.ctx.prevPageLastElemOffset)[0],ot=Ft&&(Mt>qt||Mt<wt)&&k.call(this);ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Cr,Jt,null).clip().discardPath()),this.pdf.text(At,Ar.x,Ar.y,{angle:ae.angle,align:me,renderingMode:ae.renderingMode}),ot&&this.pdf.restoreGraphicsState()}}else gt.y<Lt&&(this.ctx.prevPageLastElemOffset+=Lt-gt.y);ae.scale>=.01&&(this.pdf.setFontSize(ut),this.lineWidth=bt)}else ae.scale>=.01&&(ut=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ut*ae.scale),bt=this.lineWidth,this.lineWidth=bt*ae.scale),this.pdf.text(ae.text,rt.x+this.posX,rt.y+this.posY,{angle:ae.angle,align:me,renderingMode:ae.renderingMode,maxWidth:ae.maxWidth}),ae.scale>=.01&&(this.pdf.setFontSize(ut),this.lineWidth=bt)},ye=function(ae,me,we,Re){we=we||0,Re=Re||0,this.pdf.internal.out(r(ae+we)+" "+n(me+Re)+" l")},fe=function(ae,me,we){return this.pdf.lines(ae,me,we,null,null)},Ae=function(ae,me,we,Re,Fe,rt,Ve,We){this.pdf.internal.out([t(i(we+ae)),t(a(Re+me)),t(i(Fe+ae)),t(a(rt+me)),t(i(Ve+ae)),t(a(We+me)),"c"].join(" "))},ke=function(ae,me,we,Re){for(var Fe=2*Math.PI,rt=Math.PI/2;me>we;)me-=Fe;var Ve=Math.abs(we-me);Ve<Fe&&Re&&(Ve=Fe-Ve);for(var We=[],nt=Re?-1:1,ut=me;Ve>1e-5;){var bt=ut+nt*Math.min(Ve,rt);We.push(Oe.call(this,ae,ut,bt)),Ve-=Math.abs(bt-ut),ut=bt}return We},Oe=function(ae,me,we){var Re=(we-me)/2,Fe=ae*Math.cos(Re),rt=ae*Math.sin(Re),Ve=Fe,We=-rt,nt=Ve*Ve+We*We,ut=nt+Ve*Fe+We*rt,bt=4/3*(Math.sqrt(2*nt*ut)-ut)/(Ve*rt-We*Fe),Ct=Ve-bt*We,Et=We+bt*Ve,lt=Ct,ce=-Et,ur=Re+me,qt=Math.cos(ur),wt=Math.sin(ur);return{x1:ae*Math.cos(me),y1:ae*Math.sin(me),x2:Ct*qt-Et*wt,y2:Ct*wt+Et*qt,x3:lt*qt-ce*wt,y3:lt*wt+ce*qt,x4:ae*Math.cos(we),y4:ae*Math.sin(we)}},_e=function(ae){return 180*ae/Math.PI},Ne=function(ae,me,we,Re,Fe,rt){var Ve=ae+.5*(we-ae),We=me+.5*(Re-me),nt=Fe+.5*(we-Fe),ut=rt+.5*(Re-rt),bt=Math.min(ae,Fe,Ve,nt),Ct=Math.max(ae,Fe,Ve,nt),Et=Math.min(me,rt,We,ut),lt=Math.max(me,rt,We,ut);return new s(bt,Et,Ct-bt,lt-Et)},Ke=function(ae,me,we,Re,Fe,rt,Ve,We){var nt,ut,bt,Ct,Et,lt,ce,ur,qt,wt,Mt,It,Gt,Lt,Jt=we-ae,_r=Re-me,Cr=Fe-we,Ir=rt-Re,Ze=Ve-Fe,gt=We-rt;for(ut=0;ut<41;ut++)qt=(ce=(bt=ae+(nt=ut/40)*Jt)+nt*((Et=we+nt*Cr)-bt))+nt*(Et+nt*(Fe+nt*Ze-Et)-ce),wt=(ur=(Ct=me+nt*_r)+nt*((lt=Re+nt*Ir)-Ct))+nt*(lt+nt*(rt+nt*gt-lt)-ur),ut==0?(Mt=qt,It=wt,Gt=qt,Lt=wt):(Mt=Math.min(Mt,qt),It=Math.min(It,wt),Gt=Math.max(Gt,qt),Lt=Math.max(Lt,wt));return new s(Math.round(Mt),Math.round(It),Math.round(Gt-Mt),Math.round(Lt-It))},pt=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var ae,me,we=(ae=this.ctx.lineDash,me=this.ctx.lineDashOffset,JSON.stringify({lineDash:ae,lineDashOffset:me}));this.prevLineDash!==we&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=we)}}})(wn.API),function(e){var t=function(a){var u,s,f,m,x,w,S,C,L,k;for(s=[],f=0,m=(a+=u="\0\0\0\0".slice(a.length%4||4)).length;m>f;f+=4)(x=(a.charCodeAt(f)<<24)+(a.charCodeAt(f+1)<<16)+(a.charCodeAt(f+2)<<8)+a.charCodeAt(f+3))!==0?(w=(x=((x=((x=((x=(x-(k=x%85))/85)-(L=x%85))/85)-(C=x%85))/85)-(S=x%85))/85)%85,s.push(w+33,S+33,C+33,L+33,k+33)):s.push(122);return function($,M){for(var z=M;z>0;z--)$.pop()}(s,u.length),String.fromCharCode.apply(String,s)+"~>"},r=function(a){var u,s,f,m,x,w=String,S="length",C=255,L="charCodeAt",k="slice",$="replace";for(a[k](-2),a=a[k](0,-2)[$](/\s/g,"")[$]("z","!!!!!"),f=[],m=0,x=(a+=u="uuuuu"[k](a[S]%5||5))[S];x>m;m+=5)s=52200625*(a[L](m)-33)+614125*(a[L](m+1)-33)+7225*(a[L](m+2)-33)+85*(a[L](m+3)-33)+(a[L](m+4)-33),f.push(C&s>>24,C&s>>16,C&s>>8,C&s);return function(M,z){for(var B=z;B>0;B--)M.pop()}(f,u[S]),w.fromCharCode.apply(w,f)},n=function(a){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),u.test(a)===!1)return"";for(var s="",f=0;f<a.length;f+=2)s+=String.fromCharCode("0x"+(a[f]+a[f+1]));return s},i=function(a){for(var u=new Uint8Array(a.length),s=a.length;s--;)u[s]=a.charCodeAt(s);return a=(u=dA(u)).reduce(function(f,m){return f+String.fromCharCode(m)},"")};e.processDataByFilters=function(a,u){var s=0,f=a||"",m=[];for(typeof(u=u||[])=="string"&&(u=[u]),s=0;s<u.length;s+=1)switch(u[s]){case"ASCII85Decode":case"/ASCII85Decode":f=r(f),m.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=t(f),m.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=n(f),m.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=f.split("").map(function(x){return("0"+x.charCodeAt().toString(16)).slice(-2)}).join("")+">",m.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=i(f),m.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[s]+'" is not implemented')}return{data:f,reverseChain:m.reverse().join(" ")}}}(wn.API),function(e){e.loadFile=function(t,r,n){return function(i,a,u){a=a!==!1,u=typeof u=="function"?u:function(){};var s=void 0;try{s=function(f,m,x){var w=new XMLHttpRequest,S=0,C=function(L){var k=L.length,$=[],M=String.fromCharCode;for(S=0;S<k;S+=1)$.push(M(255&L.charCodeAt(S)));return $.join("")};if(w.open("GET",f,!m),w.overrideMimeType("text/plain; charset=x-user-defined"),m===!1&&(w.onload=function(){w.status===200?x(C(this.responseText)):x(void 0)}),w.send(null),m&&w.status===200)return C(w.responseText)}(i,a,u)}catch{}return s}(t,r,n)},e.loadImageFile=e.loadFile}(wn.API),function(e){function t(){return(_n.html2canvas?Promise.resolve(_n.html2canvas):oA(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))}).then(function(u){return u.default?u.default:u})}function r(){return(_n.DOMPurify?Promise.resolve(_n.DOMPurify):oA(()=>import("./purify.es-DZPxG8F7.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load dompurify: "+u))}).then(function(u){return u.default?u.default:u})}var n=function(u){var s=Ui(u);return s==="undefined"?"undefined":s==="string"||u instanceof String?"string":s==="number"||u instanceof Number?"number":s==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":s==="object"?"object":"unknown"},i=function(u,s){var f=document.createElement(u);for(var m in s.className&&(f.className=s.className),s.innerHTML&&s.dompurify&&(f.innerHTML=s.dompurify.sanitize(s.innerHTML)),s.style)f.style[m]=s.style[m];return f},a=function u(s){var f=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),m=u.convert(Promise.resolve(),f);return m=(m=m.setProgress(1,u,1,[u])).set(s)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(u,s){return u.__proto__=s||a.prototype,u},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(u,s){return this.then(function(){switch(s=s||function(f){switch(n(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(u)){case"string":return this.then(r).then(function(f){return this.set({src:i("div",{innerHTML:u,dompurify:f})})});case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}})},a.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},s=function f(m,x){for(var w=m.nodeType===3?document.createTextNode(m.nodeValue):m.cloneNode(!1),S=m.firstChild;S;S=S.nextSibling)x!==!0&&S.nodeType===1&&S.nodeName==="SCRIPT"||w.appendChild(f(S,x));return m.nodeType===1&&(m.nodeName==="CANVAS"?(w.width=m.width,w.height=m.height,w.getContext("2d").drawImage(m,0,0)):m.nodeName!=="TEXTAREA"&&m.nodeName!=="SELECT"||(w.value=m.value),w.addEventListener("load",function(){w.scrollTop=m.scrollTop,w.scrollLeft=m.scrollLeft},!0)),w}(this.prop.src,this.opt.html2canvas.javascriptEnabled);s.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(s),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(t).then(function(s){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,s(this.prop.container,f)}).then(function(s){(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(t).then(function(s){var f=this.opt.jsPDF,m=this.opt.fontFaces,x=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,w=Object.assign({async:!0,allowTaint:!0,scale:x,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete w.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=m,m)for(var S=0;S<m.length;++S){var C=m[S],L=C.src.find(function(k){return k.format==="truetype"});L&&f.addFont(L.url,C.ref.name,C.ref.style)}return w.windowHeight=w.windowHeight||0,w.windowHeight=w.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):w.windowHeight,f.context2d.save(!0),s(this.prop.container,w)}).then(function(s){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(u,s,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(u,s):this.outputPdf(u,s)},a.prototype.outputPdf=function(u,s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(u,s)})},a.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}})},a.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(u){if(n(u)!=="object")return this;var s=Object.keys(u||{}).map(function(f){if(f in a.template.prop)return function(){this.prop[f]=u[f]};switch(f){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[f]=u[f]}}},this);return this.then(function(){return this.thenList(s)})},a.prototype.get=function(u,s){return this.then(function(){var f=u in a.template.prop?this.prop[u]:this.opt[u];return s?s(f):f})},a.prototype.setMargin=function(u){return this.then(function(){switch(n(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u}).then(this.setPageSize)},a.prototype.setPageSize=function(u){function s(f,m){return Math.floor(f*m/72*96)}return this.then(function(){(u=u||wn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:s(u.inner.width,u.k),height:s(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u})},a.prototype.setProgress=function(u,s,f,m){return u!=null&&(this.progress.val=u),s!=null&&(this.progress.state=s),f!=null&&(this.progress.n=f),m!=null&&(this.progress.stack=m),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(u,s,f,m){return this.setProgress(u?this.progress.val+u:null,s||null,f?this.progress.n+f:null,m?this.progress.stack.concat(m):null)},a.prototype.then=function(u,s){var f=this;return this.thenCore(u,s,function(m,x){return f.updateProgress(null,null,1,[m]),Promise.prototype.then.call(this,function(w){return f.updateProgress(null,m),w}).then(m,x).then(function(w){return f.updateProgress(1),w})})},a.prototype.thenCore=function(u,s,f){f=f||Promise.prototype.then,u&&(u=u.bind(this)),s&&(s=s.bind(this));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),x=f.call(m,u,s);return a.convert(x,this.__proto__)},a.prototype.thenExternal=function(u,s){return Promise.prototype.then.call(this,u,s)},a.prototype.thenList=function(u){var s=this;return u.forEach(function(f){s=s.thenCore(f)}),s},a.prototype.catch=function(u){u&&(u=u.bind(this));var s=Promise.prototype.catch.call(this,u);return a.convert(s,this)},a.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},a.prototype.error=function(u){return this.then(function(){throw new Error(u)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,wn.getPageSize=function(u,s,f){if(Ui(u)==="object"){var m=u;u=m.orientation,s=m.unit||s,f=m.format||f}s=s||"mm",f=f||"a4",u=(""+(u||"P")).toLowerCase();var x,w=(""+f).toLowerCase(),S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(s){case"pt":x=1;break;case"mm":x=72/25.4;break;case"cm":x=72/2.54;break;case"in":x=72;break;case"px":x=.75;break;case"pc":case"em":x=12;break;case"ex":x=6;break;default:throw"Invalid unit: "+s}var C,L=0,k=0;if(S.hasOwnProperty(w))L=S[w][1]/x,k=S[w][0]/x;else try{L=f[1],k=f[0]}catch{throw new Error("Invalid format: "+f)}if(u==="p"||u==="portrait")u="p",k>L&&(C=k,k=L,L=C);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",L>k&&(C=k,k=L,L=C)}return{width:k,height:L,unit:s,k:x,orientation:u}},e.html=function(u,s){(s=s||{}).callback=s.callback||function(){},s.html2canvas=s.html2canvas||{},s.html2canvas.canvas=s.html2canvas.canvas||this.canvas,s.jsPDF=s.jsPDF||this,s.fontFaces=s.fontFaces?s.fontFaces.map(yA):null;var f=new a(s);return s.worker?f:f.from(u).doCallback()}}(wn.API),wn.API.addJS=function(e){return MR=e,this.internal.events.subscribe("postPutResources",function(){px=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(px+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),LR=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+MR+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){px!==void 0&&LR!==void 0&&this.internal.out("/Names <</JavaScript "+px+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var u=i[a],s=n.exec(u);if(s!=null){var f=s[1];r.internal.newObjectDeferredBegin(f,!1)}r.internal.write(u)}if(this.outline.createNamedDestinations){var m=this.internal.pages.length,x=[];for(a=0;a<m;a++){var w=r.internal.newObject();x.push(w);var S=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+S.objId+" 0 R /XYZ null null null]>> endobj")}var C=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<x.length;a++)r.internal.write("(page_"+(a+1)+")"+x[a]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+C+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var u={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(u),u},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var u=n.children[a];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var s=this.count=this.count_r({count:0},u);if(s>0&&this.line("/Count "+s),u.options&&u.options.pageNumber){var f=r.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var m=0;m<n.children.length;m++)this.renderItems(n.children[m])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(wn.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,i,a,u,s){var f,m=this.decode.DCT_DECODE,x=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=u||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(f=function(w){for(var S,C=256*w.charCodeAt(4)+w.charCodeAt(5),L=w.length,k={width:0,height:0,numcomponents:1},$=4;$<L;$+=2){if($+=C,t.indexOf(w.charCodeAt($+1))!==-1){S=256*w.charCodeAt($+5)+w.charCodeAt($+6),k={width:256*w.charCodeAt($+7)+w.charCodeAt($+8),height:S,numcomponents:w.charCodeAt($+9)};break}C=256*w.charCodeAt($+2)+w.charCodeAt($+3)}return k}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}x={data:r,width:f.width,height:f.height,colorSpace:s,bitsPerComponent:8,filter:m,index:n,alias:i}}return x}}(wn.API);var Pg,mx,RR,DR,OR,_oe=function(){var e,t,r;function n(a){var u,s,f,m,x,w,S,C,L,k,$,M,z,B;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},w=null;;){switch(u=this.readUInt32(),L=(function(){var q,te;for(te=[],q=0;q<4;++q)te.push(String.fromCharCode(this.data[this.pos++]));return te}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(u);break;case"fcTL":w&&this.animation.frames.push(w),this.pos+=4,w={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},x=this.readUInt16(),m=this.readUInt16()||100,w.delay=1e3*x/m,w.disposeOp=this.data[this.pos++],w.blendOp=this.data[this.pos++],w.data=[];break;case"IDAT":case"fdAT":for(L==="fdAT"&&(this.pos+=4,u-=4),a=(w!=null?w.data:void 0)||this.imgData,M=0;0<=u?M<u:M>u;0<=u?++M:--M)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(f=this.palette.length/3,this.transparency.indexed=this.read(u),this.transparency.indexed.length>f)throw new Error("More transparent colors than palette size");if((k=f-this.transparency.indexed.length)>0)for(z=0;0<=k?z<k:z>k;0<=k?++z:--z)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(u)[0];break;case 2:this.transparency.rgb=this.read(u)}break;case"tEXt":S=($=this.read(u)).indexOf(0),C=String.fromCharCode.apply(String,$.slice(0,S)),this.text[C]=String.fromCharCode.apply(String,$.slice(S+1));break;case"IEND":return w&&this.animation.frames.push(w),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(B=this.colorType)===4||B===6,s=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*s,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=u}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(a){var u,s;for(s=[],u=0;0<=a?u<a:u>a;0<=a?++u:--u)s.push(this.data[this.pos++]);return s},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(a){var u=this.pixelBitlength/8,s=new Uint8Array(this.width*this.height*u),f=0,m=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function x(w,S,C,L){var k,$,M,z,B,q,te,K,ee,Q,ge,Y,Z,re,ye,fe,Ae,ke,Oe,_e,Ne,Ke=Math.ceil((m.width-w)/C),pt=Math.ceil((m.height-S)/L),ae=m.width==Ke&&m.height==pt;for(re=u*Ke,Y=ae?s:new Uint8Array(re*pt),q=a.length,Z=0,$=0;Z<pt&&f<q;){switch(a[f++]){case 0:for(z=Ae=0;Ae<re;z=Ae+=1)Y[$++]=a[f++];break;case 1:for(z=ke=0;ke<re;z=ke+=1)k=a[f++],B=z<u?0:Y[$-u],Y[$++]=(k+B)%256;break;case 2:for(z=Oe=0;Oe<re;z=Oe+=1)k=a[f++],M=(z-z%u)/u,ye=Z&&Y[(Z-1)*re+M*u+z%u],Y[$++]=(ye+k)%256;break;case 3:for(z=_e=0;_e<re;z=_e+=1)k=a[f++],M=(z-z%u)/u,B=z<u?0:Y[$-u],ye=Z&&Y[(Z-1)*re+M*u+z%u],Y[$++]=(k+Math.floor((B+ye)/2))%256;break;case 4:for(z=Ne=0;Ne<re;z=Ne+=1)k=a[f++],M=(z-z%u)/u,B=z<u?0:Y[$-u],Z===0?ye=fe=0:(ye=Y[(Z-1)*re+M*u+z%u],fe=M&&Y[(Z-1)*re+(M-1)*u+z%u]),te=B+ye-fe,K=Math.abs(te-B),Q=Math.abs(te-ye),ge=Math.abs(te-fe),ee=K<=Q&&K<=ge?B:Q<=ge?ye:fe,Y[$++]=(k+ee)%256;break;default:throw new Error("Invalid filter algorithm: "+a[f-1])}if(!ae){var me=((S+Z*L)*m.width+w)*u,we=Z*re;for(z=0;z<Ke;z+=1){for(var Re=0;Re<u;Re+=1)s[me++]=Y[we++];me+=(C-1)*u}}Z++}}return a=toe(a),m.interlaceMethod==1?(x(0,0,8,8),x(4,0,8,8),x(0,4,4,8),x(2,0,4,4),x(0,2,2,4),x(1,0,2,2),x(0,1,1,2)):x(0,0,1,1),s},n.prototype.decodePalette=function(){var a,u,s,f,m,x,w,S,C;for(s=this.palette,x=this.transparency.indexed||[],m=new Uint8Array((x.length||0)+s.length),f=0,a=0,u=w=0,S=s.length;w<S;u=w+=3)m[f++]=s[u],m[f++]=s[u+1],m[f++]=s[u+2],m[f++]=(C=x[a++])!=null?C:255;return m},n.prototype.copyToImageData=function(a,u){var s,f,m,x,w,S,C,L,k,$,M;if(f=this.colors,k=null,s=this.hasAlphaChannel,this.palette.length&&(k=(M=this._decodedPalette)!=null?M:this._decodedPalette=this.decodePalette(),f=4,s=!0),L=(m=a.data||a).length,w=k||u,x=S=0,f===1)for(;x<L;)C=k?4*u[x/4]:S,$=w[C++],m[x++]=$,m[x++]=$,m[x++]=$,m[x++]=s?w[C++]:255,S=C;else for(;x<L;)C=k?4*u[x/4]:S,m[x++]=w[C++],m[x++]=w[C++],m[x++]=w[C++],m[x++]=s?w[C++]:255,S=C},n.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(_n)==="[object Window]"){try{t=_n.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(a){var u;if(i()===!0)return r.width=a.width,r.height=a.height,r.clearRect(0,0,a.width,a.height),r.putImageData(a,0,0),(u=new Image).src=t.toDataURL(),u;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(a){var u,s,f,m,x,w,S,C;if(this.animation){for(C=[],s=x=0,w=(S=this.animation.frames).length;x<w;s=++x)u=S[s],f=a.createImageData(u.width,u.height),m=this.decodePixels(new Uint8Array(u.data)),this.copyToImageData(f,m),u.imageData=f,C.push(u.image=e(f));return C}},n.prototype.renderFrame=function(a,u){var s,f,m;return s=(f=this.animation.frames)[u],m=f[u-1],u===0&&a.clearRect(0,0,this.width,this.height),(m!=null?m.disposeOp:void 0)===1?a.clearRect(m.xOffset,m.yOffset,m.width,m.height):(m!=null?m.disposeOp:void 0)===2&&a.putImageData(m.imageData,m.xOffset,m.yOffset),s.blendOp===0&&a.clearRect(s.xOffset,s.yOffset,s.width,s.height),a.drawImage(s.image,s.xOffset,s.yOffset)},n.prototype.animate=function(a){var u,s,f,m,x,w,S=this;return s=0,w=this.animation,m=w.numFrames,f=w.frames,x=w.numPlays,(u=function(){var C,L;if(C=s++%m,L=f[C],S.renderFrame(a,C),m>1&&s/m<x)return S.animation._timeout=setTimeout(u,L.delay)})()},n.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},n.prototype.render=function(a){var u,s;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,u=a.getContext("2d"),this.animation?(this.decodeFrames(u),this.animate(u)):(s=u.createImageData(this.width,this.height),this.copyToImageData(s,this.decodePixels()),u.putImageData(s,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function woe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,u=1<<(7&i)+1;e[t++],e[t++];var s=null,f=null;a&&(s=t,f=u,t+=3*u);var m=!0,x=[],w=0,S=null,C=0,L=null;for(this.width=r,this.height=n;m&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,L=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((Z=e[t++])>=0))throw Error("Invalid block size");if(Z===0)break;t+=Z}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var k=e[t++];w=e[t++]|e[t++]<<8,S=e[t++],!(1&k)&&(S=null),C=k>>2&7,t++;break;case 254:for(;;){if(!((Z=e[t++])>=0))throw Error("Invalid block size");if(Z===0)break;t+=Z}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var $=e[t++]|e[t++]<<8,M=e[t++]|e[t++]<<8,z=e[t++]|e[t++]<<8,B=e[t++]|e[t++]<<8,q=e[t++],te=q>>6&1,K=1<<(7&q)+1,ee=s,Q=f,ge=!1;q>>7&&(ge=!0,ee=t,Q=K,t+=3*K);var Y=t;for(t++;;){var Z;if(!((Z=e[t++])>=0))throw Error("Invalid block size");if(Z===0)break;t+=Z}x.push({x:$,y:M,width:z,height:B,has_local_palette:ge,palette_offset:ee,palette_size:Q,data_offset:Y,data_length:t-Y,transparent_index:S,interlaced:!!te,delay:w,disposal:C});break;case 59:m=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return x.length},this.loopCount=function(){return L},this.frameInfo=function(re){if(re<0||re>=x.length)throw new Error("Frame index out of range.");return x[re]},this.decodeAndBlitFrameBGRA=function(re,ye){var fe=this.frameInfo(re),Ae=fe.width*fe.height,ke=new Uint8Array(Ae);NR(e,fe.data_offset,ke,Ae);var Oe=fe.palette_offset,_e=fe.transparent_index;_e===null&&(_e=256);var Ne=fe.width,Ke=r-Ne,pt=Ne,ae=4*(fe.y*r+fe.x),me=4*((fe.y+fe.height)*r+fe.x),we=ae,Re=4*Ke;fe.interlaced===!0&&(Re+=4*r*7);for(var Fe=8,rt=0,Ve=ke.length;rt<Ve;++rt){var We=ke[rt];if(pt===0&&(pt=Ne,(we+=Re)>=me&&(Re=4*Ke+4*r*(Fe-1),we=ae+(Ne+Ke)*(Fe<<1),Fe>>=1)),We===_e)we+=4;else{var nt=e[Oe+3*We],ut=e[Oe+3*We+1],bt=e[Oe+3*We+2];ye[we++]=bt,ye[we++]=ut,ye[we++]=nt,ye[we++]=255}--pt}},this.decodeAndBlitFrameRGBA=function(re,ye){var fe=this.frameInfo(re),Ae=fe.width*fe.height,ke=new Uint8Array(Ae);NR(e,fe.data_offset,ke,Ae);var Oe=fe.palette_offset,_e=fe.transparent_index;_e===null&&(_e=256);var Ne=fe.width,Ke=r-Ne,pt=Ne,ae=4*(fe.y*r+fe.x),me=4*((fe.y+fe.height)*r+fe.x),we=ae,Re=4*Ke;fe.interlaced===!0&&(Re+=4*r*7);for(var Fe=8,rt=0,Ve=ke.length;rt<Ve;++rt){var We=ke[rt];if(pt===0&&(pt=Ne,(we+=Re)>=me&&(Re=4*Ke+4*r*(Fe-1),we=ae+(Ne+Ke)*(Fe<<1),Fe>>=1)),We===_e)we+=4;else{var nt=e[Oe+3*We],ut=e[Oe+3*We+1],bt=e[Oe+3*We+2];ye[we++]=nt,ye[we++]=ut,ye[we++]=bt,ye[we++]=255}--pt}}}function NR(e,t,r,n){for(var i=e[t++],a=1<<i,u=a+1,s=u+1,f=i+1,m=(1<<f)-1,x=0,w=0,S=0,C=e[t++],L=new Int32Array(4096),k=null;;){for(;x<16&&C!==0;)w|=e[t++]<<x,x+=8,C===1?C=e[t++]:--C;if(x<f)break;var $=w&m;if(w>>=f,x-=f,$!==a){if($===u)break;for(var M=$<s?$:k,z=0,B=M;B>a;)B=L[B]>>8,++z;var q=B;if(S+z+(M!==$?1:0)>n)return void ao.log("Warning, gif stream longer than expected.");r[S++]=q;var te=S+=z;for(M!==$&&(r[S++]=q),B=M;z--;)B=L[B],r[--te]=255&B,B>>=8;k!==null&&s<4096&&(L[s++]=k<<8|q,s>=m+1&&f<12&&(++f,m=m<<1|1)),k=$}else s=u+1,m=(1<<(f=i+1))-1,k=null}return S!==n&&ao.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function x3(e){var t,r,n,i,a,u=Math.floor,s=new Array(64),f=new Array(64),m=new Array(64),x=new Array(64),w=new Array(65535),S=new Array(65535),C=new Array(64),L=new Array(64),k=[],$=0,M=7,z=new Array(64),B=new Array(64),q=new Array(64),te=new Array(256),K=new Array(2048),ee=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Q=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],ge=[0,1,2,3,4,5,6,7,8,9,10,11],Y=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Z=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],re=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ye=[0,1,2,3,4,5,6,7,8,9,10,11],fe=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ae=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ke(ae,me){for(var we=0,Re=0,Fe=new Array,rt=1;rt<=16;rt++){for(var Ve=1;Ve<=ae[rt];Ve++)Fe[me[Re]]=[],Fe[me[Re]][0]=we,Fe[me[Re]][1]=rt,Re++,we++;we*=2}return Fe}function Oe(ae){for(var me=ae[0],we=ae[1]-1;we>=0;)me&1<<we&&($|=1<<M),we--,--M<0&&($==255?(_e(255),_e(0)):_e($),M=7,$=0)}function _e(ae){k.push(ae)}function Ne(ae){_e(ae>>8&255),_e(255&ae)}function Ke(ae,me,we,Re,Fe){for(var rt,Ve=Fe[0],We=Fe[240],nt=function(wt,Mt){var It,Gt,Lt,Jt,_r,Cr,Ir,Ze,gt,Ft,At=0;for(gt=0;gt<8;++gt){It=wt[At],Gt=wt[At+1],Lt=wt[At+2],Jt=wt[At+3],_r=wt[At+4],Cr=wt[At+5],Ir=wt[At+6];var Ar=It+(Ze=wt[At+7]),ot=It-Ze,kt=Gt+Ir,Dt=Gt-Ir,cr=Lt+Cr,Wr=Lt-Cr,nr=Jt+_r,ei=Jt-_r,On=Ar+nr,hi=Ar-nr,Vn=kt+cr,je=kt-cr;wt[At]=On+Vn,wt[At+4]=On-Vn;var se=.707106781*(je+hi);wt[At+2]=hi+se,wt[At+6]=hi-se;var de=.382683433*((On=ei+Wr)-(je=Dt+ot)),Pe=.5411961*On+de,ze=1.306562965*je+de,it=.707106781*(Vn=Wr+Dt),ct=ot+it,pe=ot-it;wt[At+5]=pe+Pe,wt[At+3]=pe-Pe,wt[At+1]=ct+ze,wt[At+7]=ct-ze,At+=8}for(At=0,gt=0;gt<8;++gt){It=wt[At],Gt=wt[At+8],Lt=wt[At+16],Jt=wt[At+24],_r=wt[At+32],Cr=wt[At+40],Ir=wt[At+48];var ve=It+(Ze=wt[At+56]),Be=It-Ze,Ye=Gt+Ir,et=Gt-Ir,St=Lt+Cr,Bt=Lt-Cr,Ot=Jt+_r,Yt=Jt-_r,$t=ve+Ot,Qt=ve-Ot,hr=Ye+St,gr=Ye-St;wt[At]=$t+hr,wt[At+32]=$t-hr;var yr=.707106781*(gr+Qt);wt[At+16]=Qt+yr,wt[At+48]=Qt-yr;var vr=.382683433*(($t=Yt+Bt)-(gr=et+Be)),Tr=.5411961*$t+vr,zr=1.306562965*gr+vr,Kn=.707106781*(hr=Bt+et),fi=Be+Kn,Hn=Be-Kn;wt[At+40]=Hn+Tr,wt[At+24]=Hn-Tr,wt[At+8]=fi+zr,wt[At+56]=fi-zr,At++}for(gt=0;gt<64;++gt)Ft=wt[gt]*Mt[gt],C[gt]=Ft>0?Ft+.5|0:Ft-.5|0;return C}(ae,me),ut=0;ut<64;++ut)L[ee[ut]]=nt[ut];var bt=L[0]-we;we=L[0],bt==0?Oe(Re[0]):(Oe(Re[S[rt=32767+bt]]),Oe(w[rt]));for(var Ct=63;Ct>0&&L[Ct]==0;)Ct--;if(Ct==0)return Oe(Ve),we;for(var Et,lt=1;lt<=Ct;){for(var ce=lt;L[lt]==0&&lt<=Ct;)++lt;var ur=lt-ce;if(ur>=16){Et=ur>>4;for(var qt=1;qt<=Et;++qt)Oe(We);ur&=15}rt=32767+L[lt],Oe(Fe[(ur<<4)+S[rt]]),Oe(w[rt]),lt++}return Ct!=63&&Oe(Ve),we}function pt(ae){ae=Math.min(Math.max(ae,1),100),a!=ae&&(function(me){for(var we=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Re=0;Re<64;Re++){var Fe=u((we[Re]*me+50)/100);Fe=Math.min(Math.max(Fe,1),255),s[ee[Re]]=Fe}for(var rt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ve=0;Ve<64;Ve++){var We=u((rt[Ve]*me+50)/100);We=Math.min(Math.max(We,1),255),f[ee[Ve]]=We}for(var nt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ut=0,bt=0;bt<8;bt++)for(var Ct=0;Ct<8;Ct++)m[ut]=1/(s[ee[ut]]*nt[bt]*nt[Ct]*8),x[ut]=1/(f[ee[ut]]*nt[bt]*nt[Ct]*8),ut++}(ae<50?Math.floor(5e3/ae):Math.floor(200-2*ae)),a=ae)}this.encode=function(ae,me){me&&pt(me),k=new Array,$=0,M=7,Ne(65496),Ne(65504),Ne(16),_e(74),_e(70),_e(73),_e(70),_e(0),_e(1),_e(1),_e(0),Ne(1),Ne(1),_e(0),_e(0),function(){Ne(65499),Ne(132),_e(0);for(var Gt=0;Gt<64;Gt++)_e(s[Gt]);_e(1);for(var Lt=0;Lt<64;Lt++)_e(f[Lt])}(),function(Gt,Lt){Ne(65472),Ne(17),_e(8),Ne(Lt),Ne(Gt),_e(3),_e(1),_e(17),_e(0),_e(2),_e(17),_e(1),_e(3),_e(17),_e(1)}(ae.width,ae.height),function(){Ne(65476),Ne(418),_e(0);for(var Gt=0;Gt<16;Gt++)_e(Q[Gt+1]);for(var Lt=0;Lt<=11;Lt++)_e(ge[Lt]);_e(16);for(var Jt=0;Jt<16;Jt++)_e(Y[Jt+1]);for(var _r=0;_r<=161;_r++)_e(Z[_r]);_e(1);for(var Cr=0;Cr<16;Cr++)_e(re[Cr+1]);for(var Ir=0;Ir<=11;Ir++)_e(ye[Ir]);_e(17);for(var Ze=0;Ze<16;Ze++)_e(fe[Ze+1]);for(var gt=0;gt<=161;gt++)_e(Ae[gt])}(),Ne(65498),Ne(12),_e(3),_e(1),_e(0),_e(2),_e(17),_e(3),_e(17),_e(0),_e(63),_e(0);var we=0,Re=0,Fe=0;$=0,M=7,this.encode.displayName="_encode_";for(var rt,Ve,We,nt,ut,bt,Ct,Et,lt,ce=ae.data,ur=ae.width,qt=ae.height,wt=4*ur,Mt=0;Mt<qt;){for(rt=0;rt<wt;){for(ut=wt*Mt+rt,Ct=-1,Et=0,lt=0;lt<64;lt++)bt=ut+(Et=lt>>3)*wt+(Ct=4*(7&lt)),Mt+Et>=qt&&(bt-=wt*(Mt+1+Et-qt)),rt+Ct>=wt&&(bt-=rt+Ct-wt+4),Ve=ce[bt++],We=ce[bt++],nt=ce[bt++],z[lt]=(K[Ve]+K[We+256>>0]+K[nt+512>>0]>>16)-128,B[lt]=(K[Ve+768>>0]+K[We+1024>>0]+K[nt+1280>>0]>>16)-128,q[lt]=(K[Ve+1280>>0]+K[We+1536>>0]+K[nt+1792>>0]>>16)-128;we=Ke(z,m,we,t,n),Re=Ke(B,x,Re,r,i),Fe=Ke(q,x,Fe,r,i),rt+=32}Mt+=8}if(M>=0){var It=[];It[1]=M+1,It[0]=(1<<M+1)-1,Oe(It)}return Ne(65497),new Uint8Array(k)},e=e||50,function(){for(var ae=String.fromCharCode,me=0;me<256;me++)te[me]=ae(me)}(),t=ke(Q,ge),r=ke(re,ye),n=ke(Y,Z),i=ke(fe,Ae),function(){for(var ae=1,me=2,we=1;we<=15;we++){for(var Re=ae;Re<me;Re++)S[32767+Re]=we,w[32767+Re]=[],w[32767+Re][1]=we,w[32767+Re][0]=Re;for(var Fe=-(me-1);Fe<=-ae;Fe++)S[32767+Fe]=we,w[32767+Fe]=[],w[32767+Fe][1]=we,w[32767+Fe][0]=me-1+Fe;ae<<=1,me<<=1}}(),function(){for(var ae=0;ae<256;ae++)K[ae]=19595*ae,K[ae+256>>0]=38470*ae,K[ae+512>>0]=7471*ae+32768,K[ae+768>>0]=-11059*ae,K[ae+1024>>0]=-21709*ae,K[ae+1280>>0]=32768*ae+8421375,K[ae+1536>>0]=-27439*ae,K[ae+1792>>0]=-5329*ae}(),pt(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function qc(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function FR(e){function t(Q){if(!Q)throw Error("assert :P")}function r(Q,ge,Y){for(var Z=0;4>Z;Z++)if(Q[ge+Z]!=Y.charCodeAt(Z))return!0;return!1}function n(Q,ge,Y,Z,re){for(var ye=0;ye<re;ye++)Q[ge+ye]=Y[Z+ye]}function i(Q,ge,Y,Z){for(var re=0;re<Z;re++)Q[ge+re]=Y}function a(Q){return new Int32Array(Q)}function u(Q,ge){for(var Y=[],Z=0;Z<Q;Z++)Y.push(new ge);return Y}function s(Q,ge){var Y=[];return function Z(re,ye,fe){for(var Ae=fe[ye],ke=0;ke<Ae&&(re.push(fe.length>ye+1?[]:new ge),!(fe.length<ye+1));ke++)Z(re[ke],ye+1,fe)}(Y,0,Q),Y}var f=function(){var Q=this;function ge(A,R){for(var y=1<<R-1>>>0;A&y;)y>>>=1;return y?(A&y-1)+y:A}function Y(A,R,y,o,d){t(!(o%y));do A[R+(o-=y)]=d;while(0<o)}function Z(A,R,y,o,d){if(t(2328>=d),512>=d)var p=a(512);else if((p=a(d))==null)return 0;return function(v,b,P,I,N,U){var G,W,oe=b,le=1<<P,ie=a(16),he=a(16);for(t(N!=0),t(I!=null),t(v!=null),t(0<P),W=0;W<N;++W){if(15<I[W])return 0;++ie[I[W]]}if(ie[0]==N)return 0;for(he[1]=0,G=1;15>G;++G){if(ie[G]>1<<G)return 0;he[G+1]=he[G]+ie[G]}for(W=0;W<N;++W)G=I[W],0<I[W]&&(U[he[G]++]=W);if(he[15]==1)return(I=new re).g=0,I.value=U[0],Y(v,oe,1,le,I),le;var Te,Ie=-1,De=le-1,Le=0,Ue=1,tt=1,Je=1<<P;for(W=0,G=1,N=2;G<=P;++G,N<<=1){if(Ue+=tt<<=1,0>(tt-=ie[G]))return 0;for(;0<ie[G];--ie[G])(I=new re).g=G,I.value=U[W++],Y(v,oe+Le,N,Je,I),Le=ge(Le,G)}for(G=P+1,N=2;15>=G;++G,N<<=1){if(Ue+=tt<<=1,0>(tt-=ie[G]))return 0;for(;0<ie[G];--ie[G]){if(I=new re,(Le&De)!=Ie){for(oe+=Je,Te=1<<(Ie=G)-P;15>Ie&&!(0>=(Te-=ie[Ie]));)++Ie,Te<<=1;le+=Je=1<<(Te=Ie-P),v[b+(Ie=Le&De)].g=Te+P,v[b+Ie].value=oe-b-Ie}I.g=G-P,I.value=U[W++],Y(v,oe+(Le>>P),N,Je,I),Le=ge(Le,G)}}return Ue!=2*he[15]-1?0:le}(A,R,y,o,d,p)}function re(){this.value=this.g=0}function ye(){this.value=this.g=0}function fe(){this.G=u(5,re),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(Oi,ye)}function Ae(A,R,y,o){t(A!=null),t(R!=null),t(2147483648>o),A.Ca=254,A.I=0,A.b=-8,A.Ka=0,A.oa=R,A.pa=y,A.Jd=R,A.Yc=y+o,A.Zc=4<=o?y+o-4+1:y,rt(A)}function ke(A,R){for(var y=0;0<R--;)y|=We(A,128)<<R;return y}function Oe(A,R){var y=ke(A,R);return Ve(A)?-y:y}function _e(A,R,y,o){var d,p=0;for(t(A!=null),t(R!=null),t(4294967288>o),A.Sb=o,A.Ra=0,A.u=0,A.h=0,4<o&&(o=4),d=0;d<o;++d)p+=R[y+d]<<8*d;A.Ra=p,A.bb=o,A.oa=R,A.pa=y}function Ne(A){for(;8<=A.u&&A.bb<A.Sb;)A.Ra>>>=8,A.Ra+=A.oa[A.pa+A.bb]<<Ha-8>>>0,++A.bb,A.u-=8;we(A)&&(A.h=1,A.u=0)}function Ke(A,R){if(t(0<=R),!A.h&&R<=Ta){var y=me(A)&$l[R];return A.u+=R,Ne(A),y}return A.h=1,A.u=0}function pt(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function ae(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function me(A){return A.Ra>>>(A.u&Ha-1)>>>0}function we(A){return t(A.bb<=A.Sb),A.h||A.bb==A.Sb&&A.u>Ha}function Re(A,R){A.u=R,A.h=we(A)}function Fe(A){A.u>=ml&&(t(A.u>=ml),Ne(A))}function rt(A){t(A!=null&&A.oa!=null),A.pa<A.Zc?(A.I=(A.oa[A.pa++]|A.I<<8)>>>0,A.b+=8):(t(A!=null&&A.oa!=null),A.pa<A.Yc?(A.b+=8,A.I=A.oa[A.pa++]|A.I<<8):A.Ka?A.b=0:(A.I<<=8,A.b+=8,A.Ka=1))}function Ve(A){return ke(A,1)}function We(A,R){var y=A.Ca;0>A.b&&rt(A);var o=A.b,d=y*R>>>8,p=(A.I>>>o>d)+0;for(p?(y-=d,A.I-=d+1<<o>>>0):y=d+1,o=y,d=0;256<=o;)d+=8,o>>=8;return o=7^d+to[o],A.b-=o,A.Ca=(y<<o)-1,p}function nt(A,R,y){A[R+0]=y>>24&255,A[R+1]=y>>16&255,A[R+2]=y>>8&255,A[R+3]=y>>0&255}function ut(A,R){return A[R+0]<<0|A[R+1]<<8}function bt(A,R){return ut(A,R)|A[R+2]<<16}function Ct(A,R){return ut(A,R)|ut(A,R+2)<<16}function Et(A,R){var y=1<<R;return t(A!=null),t(0<R),A.X=a(y),A.X==null?0:(A.Mb=32-R,A.Xa=R,1)}function lt(A,R){t(A!=null),t(R!=null),t(A.Xa==R.Xa),n(R.X,0,A.X,0,1<<R.Xa)}function ce(){this.X=[],this.Xa=this.Mb=0}function ur(A,R,y,o){t(y!=null),t(o!=null);var d=y[0],p=o[0];return d==0&&(d=(A*p+R/2)/R),p==0&&(p=(R*d+A/2)/A),0>=d||0>=p?0:(y[0]=d,o[0]=p,1)}function qt(A,R){return A+(1<<R)-1>>>R}function wt(A,R){return((4278255360&A)+(4278255360&R)>>>0&4278255360)+((16711935&A)+(16711935&R)>>>0&16711935)>>>0}function Mt(A,R){Q[R]=function(y,o,d,p,v,b,P){var I;for(I=0;I<v;++I){var N=Q[A](b[P+I-1],d,p+I);b[P+I]=wt(y[o+I],N)}}}function It(){this.ud=this.hd=this.jd=0}function Gt(A,R){return((4278124286&(A^R))>>>1)+(A&R)>>>0}function Lt(A){return 0<=A&&256>A?A:0>A?0:255<A?255:void 0}function Jt(A,R){return Lt(A+(A-R+.5>>1))}function _r(A,R,y){return Math.abs(R-y)-Math.abs(A-y)}function Cr(A,R,y,o,d,p,v){for(o=p[v-1],y=0;y<d;++y)p[v+y]=o=wt(A[R+y],o)}function Ir(A,R,y,o,d){var p;for(p=0;p<y;++p){var v=A[R+p],b=v>>8&255,P=16711935&(P=(P=16711935&v)+((b<<16)+b));o[d+p]=(4278255360&v)+P>>>0}}function Ze(A,R){R.jd=A>>0&255,R.hd=A>>8&255,R.ud=A>>16&255}function gt(A,R,y,o,d,p){var v;for(v=0;v<o;++v){var b=R[y+v],P=b>>>8,I=b,N=255&(N=(N=b>>>16)+((A.jd<<24>>24)*(P<<24>>24)>>>5));I=255&(I=(I=I+((A.hd<<24>>24)*(P<<24>>24)>>>5))+((A.ud<<24>>24)*(N<<24>>24)>>>5)),d[p+v]=(4278255360&b)+(N<<16)+I}}function Ft(A,R,y,o,d){Q[R]=function(p,v,b,P,I,N,U,G,W){for(P=U;P<G;++P)for(U=0;U<W;++U)I[N++]=d(b[o(p[v++])])},Q[A]=function(p,v,b,P,I,N,U){var G=8>>p.b,W=p.Ea,oe=p.K[0],le=p.w;if(8>G)for(p=(1<<p.b)-1,le=(1<<G)-1;v<b;++v){var ie,he=0;for(ie=0;ie<W;++ie)ie&p||(he=o(P[I++])),N[U++]=d(oe[he&le]),he>>=G}else Q["VP8LMapColor"+y](P,I,oe,le,N,U,v,b,W)}}function At(A,R,y,o,d){for(y=R+y;R<y;){var p=A[R++];o[d++]=p>>16&255,o[d++]=p>>8&255,o[d++]=p>>0&255}}function Ar(A,R,y,o,d){for(y=R+y;R<y;){var p=A[R++];o[d++]=p>>16&255,o[d++]=p>>8&255,o[d++]=p>>0&255,o[d++]=p>>24&255}}function ot(A,R,y,o,d){for(y=R+y;R<y;){var p=(v=A[R++])>>16&240|v>>12&15,v=v>>0&240|v>>28&15;o[d++]=p,o[d++]=v}}function kt(A,R,y,o,d){for(y=R+y;R<y;){var p=(v=A[R++])>>16&248|v>>13&7,v=v>>5&224|v>>3&31;o[d++]=p,o[d++]=v}}function Dt(A,R,y,o,d){for(y=R+y;R<y;){var p=A[R++];o[d++]=p>>0&255,o[d++]=p>>8&255,o[d++]=p>>16&255}}function cr(A,R,y,o,d,p){if(p==0)for(y=R+y;R<y;)nt(o,((p=A[R++])[0]>>24|p[1]>>8&65280|p[2]<<8&16711680|p[3]<<24)>>>0),d+=32;else n(o,d,A,R,y)}function Wr(A,R){Q[R][0]=Q[A+"0"],Q[R][1]=Q[A+"1"],Q[R][2]=Q[A+"2"],Q[R][3]=Q[A+"3"],Q[R][4]=Q[A+"4"],Q[R][5]=Q[A+"5"],Q[R][6]=Q[A+"6"],Q[R][7]=Q[A+"7"],Q[R][8]=Q[A+"8"],Q[R][9]=Q[A+"9"],Q[R][10]=Q[A+"10"],Q[R][11]=Q[A+"11"],Q[R][12]=Q[A+"12"],Q[R][13]=Q[A+"13"],Q[R][14]=Q[A+"0"],Q[R][15]=Q[A+"0"]}function nr(A){return A==yd||A==Oc||A==vd||A==ph}function ei(){this.eb=[],this.size=this.A=this.fb=0}function On(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function hi(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ei,this.f.kb=new On,this.sd=null}function Vn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function je(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function se(A){return alert("todo:WebPSamplerProcessPlane"),A.T}function de(A,R){var y=A.T,o=R.ba.f.RGBA,d=o.eb,p=o.fb+A.ka*o.A,v=vn[R.ba.S],b=A.y,P=A.O,I=A.f,N=A.N,U=A.ea,G=A.W,W=R.cc,oe=R.dc,le=R.Mc,ie=R.Nc,he=A.ka,Te=A.ka+A.T,Ie=A.U,De=Ie+1>>1;for(he==0?v(b,P,null,null,I,N,U,G,I,N,U,G,d,p,null,null,Ie):(v(R.ec,R.fc,b,P,W,oe,le,ie,I,N,U,G,d,p-o.A,d,p,Ie),++y);he+2<Te;he+=2)W=I,oe=N,le=U,ie=G,N+=A.Rc,G+=A.Rc,p+=2*o.A,v(b,(P+=2*A.fa)-A.fa,b,P,W,oe,le,ie,I,N,U,G,d,p-o.A,d,p,Ie);return P+=A.fa,A.j+Te<A.o?(n(R.ec,R.fc,b,P,Ie),n(R.cc,R.dc,I,N,De),n(R.Mc,R.Nc,U,G,De),y--):1&Te||v(b,P,null,null,I,N,U,G,I,N,U,G,d,p+o.A,null,null,Ie),y}function Pe(A,R,y){var o=A.F,d=[A.J];if(o!=null){var p=A.U,v=R.ba.S,b=v==gd||v==vd;R=R.ba.f.RGBA;var P=[0],I=A.ka;P[0]=A.T,A.Kb&&(I==0?--P[0]:(--I,d[0]-=A.width),A.j+A.ka+A.T==A.o&&(P[0]=A.o-A.j-I));var N=R.eb;I=R.fb+I*R.A,A=ro(o,d[0],A.width,p,P,N,I+(b?0:3),R.A),t(y==P),A&&nr(v)&&go(N,I,b,p,P,R.A)}return 0}function ze(A){var R=A.ma,y=R.ba.S,o=11>y,d=y==zl||y==Hs||y==gd||y==fh||y==12||nr(y);if(R.memory=null,R.Ib=null,R.Jb=null,R.Nd=null,!Aa(R.Oa,A,d?11:12))return 0;if(d&&nr(y)&&ir(),A.da)alert("todo:use_scaling");else{if(o){if(R.Ib=se,A.Kb){if(y=A.U+1>>1,R.memory=a(A.U+2*y),R.memory==null)return 0;R.ec=R.memory,R.fc=0,R.cc=R.ec,R.dc=R.fc+A.U,R.Mc=R.cc,R.Nc=R.dc+y,R.Ib=de,ir()}}else alert("todo:EmitYUV");d&&(R.Jb=Pe,o&&xt())}if(o&&!Pi){for(A=0;256>A;++A)wd[A]=89858*(A-128)+mf>>yh,Ym[A]=-22014*(A-128)+mf,yf[A]=-45773*(A-128),gf[A]=113618*(A-128)+mf>>yh;for(A=$c;A<Ip;++A)R=76283*(A-16)+mf>>yh,vh[A-$c]=Tn(R,255),bh[A-$c]=Tn(R+8>>4,15);Pi=1}return 1}function it(A){var R=A.ma,y=A.U,o=A.T;return t(!(1&A.ka)),0>=y||0>=o?0:(y=R.Ib(A,R),R.Jb!=null&&R.Jb(A,R,y),R.Dc+=y,1)}function ct(A){A.ma.memory=null}function pe(A,R,y,o){return Ke(A,8)!=47?0:(R[0]=Ke(A,14)+1,y[0]=Ke(A,14)+1,o[0]=Ke(A,1),Ke(A,3)!=0?0:!A.h)}function ve(A,R){if(4>A)return A+1;var y=A-2>>1;return(2+(1&A)<<y)+Ke(R,y)+1}function Be(A,R){return 120<R?R-120:1<=(y=((y=Ws[R-1])>>4)*A+(8-(15&y)))?y:1;var y}function Ye(A,R,y){var o=me(y),d=A[R+=255&o].g-8;return 0<d&&(Re(y,y.u+8),o=me(y),R+=A[R].value,R+=o&(1<<d)-1),Re(y,y.u+A[R].g),A[R].value}function et(A,R,y){return y.g+=A.g,y.value+=A.value<<R>>>0,t(8>=y.g),A.g}function St(A,R,y){var o=A.xc;return t((R=o==0?0:A.vc[A.md*(y>>o)+(R>>o)])<A.Wb),A.Ya[R]}function Bt(A,R,y,o){var d=A.ab,p=A.c*R,v=A.C;R=v+R;var b=y,P=o;for(o=A.Ta,y=A.Ua;0<d--;){var I=A.gc[d],N=v,U=R,G=b,W=P,oe=(P=o,b=y,I.Ea);switch(t(N<U),t(U<=I.nc),I.hc){case 2:Bl(G,W,(U-N)*oe,P,b);break;case 0:var le=N,ie=U,he=P,Te=b,Ie=(Je=I).Ea;le==0&&(js(G,W,null,null,1,he,Te),Cr(G,W+1,0,0,Ie-1,he,Te+1),W+=Ie,Te+=Ie,++le);for(var De=1<<Je.b,Le=De-1,Ue=qt(Ie,Je.b),tt=Je.K,Je=Je.w+(le>>Je.b)*Ue;le<ie;){var Pt=tt,zt=Je,Ht=1;for(Us(G,W,he,Te-Ie,1,he,Te);Ht<Ie;){var Zt=(Ht&~Le)+De;Zt>Ie&&(Zt=Ie),(0,at[Pt[zt++]>>8&15])(G,W+ +Ht,he,Te+Ht-Ie,Zt-Ht,he,Te+Ht),Ht=Zt}W+=Ie,Te+=Ie,++le&Le||(Je+=Ue)}U!=I.nc&&n(P,b-oe,P,b+(U-N-1)*oe,oe);break;case 1:for(oe=G,ie=W,Ie=(G=I.Ea)-(Te=G&~(he=(W=1<<I.b)-1)),le=qt(G,I.b),De=I.K,I=I.w+(N>>I.b)*le;N<U;){for(Le=De,Ue=I,tt=new It,Je=ie+Te,Pt=ie+G;ie<Je;)Ze(Le[Ue++],tt),Tt(tt,oe,ie,W,P,b),ie+=W,b+=W;ie<Pt&&(Ze(Le[Ue++],tt),Tt(tt,oe,ie,Ie,P,b),ie+=Ie,b+=Ie),++N&he||(I+=le)}break;case 3:if(G==P&&W==b&&0<I.b){for(ie=P,G=oe=b+(U-N)*oe-(Te=(U-N)*qt(I.Ea,I.b)),W=P,he=b,le=[],Te=(Ie=Te)-1;0<=Te;--Te)le[Te]=W[he+Te];for(Te=Ie-1;0<=Te;--Te)ie[G+Te]=le[Te];zo(I,N,U,P,oe,P,b)}else zo(I,N,U,G,W,P,b)}b=o,P=y}P!=y&&n(o,y,b,P,p)}function Ot(A,R){var y=A.V,o=A.Ba+A.c*A.C,d=R-A.C;if(t(R<=A.l.o),t(16>=d),0<d){var p=A.l,v=A.Ta,b=A.Ua,P=p.width;if(Bt(A,d,y,o),d=b=[b],t((y=A.C)<(o=R)),t(p.v<p.va),o>p.o&&(o=p.o),y<p.j){var I=p.j-y;y=p.j,d[0]+=I*P}if(y>=o?y=0:(d[0]+=4*p.v,p.ka=y-p.j,p.U=p.va-p.v,p.T=o-y,y=1),y){if(b=b[0],11>(y=A.ca).S){var N=y.f.RGBA,U=(o=y.S,d=p.U,p=p.T,I=N.eb,N.A),G=p;for(N=N.fb+A.Ma*N.A;0<G--;){var W=v,oe=b,le=d,ie=I,he=N;switch(o){case gl:lr(W,oe,le,ie,he);break;case zl:$r(W,oe,le,ie,he);break;case yd:$r(W,oe,le,ie,he),go(ie,he,0,le,1,0);break;case vu:ti(W,oe,le,ie,he);break;case Hs:cr(W,oe,le,ie,he,1);break;case Oc:cr(W,oe,le,ie,he,1),go(ie,he,0,le,1,0);break;case gd:cr(W,oe,le,ie,he,0);break;case vd:cr(W,oe,le,ie,he,0),go(ie,he,1,le,1,0);break;case fh:Dn(W,oe,le,ie,he);break;case ph:Dn(W,oe,le,ie,he),Ni(ie,he,le,1,0);break;case Qu:bn(W,oe,le,ie,he);break;default:t(0)}b+=P,N+=U}A.Ma+=p}else alert("todo:EmitRescaledRowsYUVA");t(A.Ma<=y.height)}}A.C=R,t(A.C<=A.i)}function Yt(A){var R;if(0<A.ua)return 0;for(R=0;R<A.Wb;++R){var y=A.Ya[R].G,o=A.Ya[R].H;if(0<y[1][o[1]+0].g||0<y[2][o[2]+0].g||0<y[3][o[3]+0].g)return 0}return 1}function $t(A,R,y,o,d,p){if(A.Z!=0){var v=A.qd,b=A.rd;for(t(Vl[A.Z]!=null);R<y;++R)Vl[A.Z](v,b,o,d,o,d,p),v=o,b=d,d+=p;A.qd=v,A.rd=b}}function Qt(A,R){var y=A.l.ma,o=y.Z==0||y.Z==1?A.l.j:A.C;if(o=A.C<o?o:A.C,t(R<=A.l.o),R>o){var d=A.l.width,p=y.ca,v=y.tb+d*o,b=A.V,P=A.Ba+A.c*o,I=A.gc;t(A.ab==1),t(I[0].hc==3),Rc(I[0],o,R,b,P,p,v),$t(y,o,R,p,v,d)}A.C=A.Ma=R}function hr(A,R,y,o,d,p,v){var b=A.$/o,P=A.$%o,I=A.m,N=A.s,U=y+A.$,G=U;d=y+o*d;var W=y+o*p,oe=280+N.ua,le=A.Pb?b:16777216,ie=0<N.ua?N.Wa:null,he=N.wc,Te=U<W?St(N,P,b):null;t(A.C<p),t(W<=d);var Ie=!1;e:for(;;){for(;Ie||U<W;){var De=0;if(b>=le){var Le=U-y;t((le=A).Pb),le.wd=le.m,le.xd=Le,0<le.s.ua&&lt(le.s.Wa,le.s.vb),le=b+Cp}if(P&he||(Te=St(N,P,b)),t(Te!=null),Te.Qb&&(R[U]=Te.qb,Ie=!0),!Ie)if(Fe(I),Te.jc){De=I,Le=R;var Ue=U,tt=Te.pd[me(De)&Oi-1];t(Te.jc),256>tt.g?(Re(De,De.u+tt.g),Le[Ue]=tt.value,De=0):(Re(De,De.u+tt.g-256),t(256<=tt.value),De=tt.value),De==0&&(Ie=!0)}else De=Ye(Te.G[0],Te.H[0],I);if(I.h)break;if(Ie||256>De){if(!Ie)if(Te.nd)R[U]=(Te.qb|De<<8)>>>0;else{if(Fe(I),Ie=Ye(Te.G[1],Te.H[1],I),Fe(I),Le=Ye(Te.G[2],Te.H[2],I),Ue=Ye(Te.G[3],Te.H[3],I),I.h)break;R[U]=(Ue<<24|Ie<<16|De<<8|Le)>>>0}if(Ie=!1,++U,++P>=o&&(P=0,++b,v!=null&&b<=p&&!(b%16)&&v(A,b),ie!=null))for(;G<U;)De=R[G++],ie.X[(506832829*De&4294967295)>>>ie.Mb]=De}else if(280>De){if(De=ve(De-256,I),Le=Ye(Te.G[4],Te.H[4],I),Fe(I),Le=Be(o,Le=ve(Le,I)),I.h)break;if(U-y<Le||d-U<De)break e;for(Ue=0;Ue<De;++Ue)R[U+Ue]=R[U+Ue-Le];for(U+=De,P+=De;P>=o;)P-=o,++b,v!=null&&b<=p&&!(b%16)&&v(A,b);if(t(U<=d),P&he&&(Te=St(N,P,b)),ie!=null)for(;G<U;)De=R[G++],ie.X[(506832829*De&4294967295)>>>ie.Mb]=De}else{if(!(De<oe))break e;for(Ie=De-280,t(ie!=null);G<U;)De=R[G++],ie.X[(506832829*De&4294967295)>>>ie.Mb]=De;De=U,t(!(Ie>>>(Le=ie).Xa)),R[De]=Le.X[Ie],Ie=!0}Ie||t(I.h==we(I))}if(A.Pb&&I.h&&U<d)t(A.m.h),A.a=5,A.m=A.wd,A.$=A.xd,0<A.s.ua&&lt(A.s.vb,A.s.Wa);else{if(I.h)break e;v!=null&&v(A,b>p?p:b),A.a=0,A.$=U-y}return 1}return A.a=3,0}function gr(A){t(A!=null),A.vc=null,A.yc=null,A.Ya=null;var R=A.Wa;R!=null&&(R.X=null),A.vb=null,t(A!=null)}function yr(){var A=new Nl;return A==null?null:(A.a=0,A.xb=Nc,Wr("Predictor","VP8LPredictors"),Wr("Predictor","VP8LPredictors_C"),Wr("PredictorAdd","VP8LPredictorsAdd"),Wr("PredictorAdd","VP8LPredictorsAdd_C"),Bl=Ir,Tt=gt,lr=At,$r=Ar,Dn=ot,bn=kt,ti=Dt,Q.VP8LMapColor32b=Pa,Q.VP8LMapColor8b=Dc,A)}function vr(A,R,y,o,d){var p=1,v=[A],b=[R],P=o.m,I=o.s,N=null,U=0;e:for(;;){if(y)for(;p&&Ke(P,1);){var G=v,W=b,oe=o,le=1,ie=oe.m,he=oe.gc[oe.ab],Te=Ke(ie,2);if(oe.Oc&1<<Te)p=0;else{switch(oe.Oc|=1<<Te,he.hc=Te,he.Ea=G[0],he.nc=W[0],he.K=[null],++oe.ab,t(4>=oe.ab),Te){case 0:case 1:he.b=Ke(ie,3)+2,le=vr(qt(he.Ea,he.b),qt(he.nc,he.b),0,oe,he.K),he.K=he.K[0];break;case 3:var Ie,De=Ke(ie,8)+1,Le=16<De?0:4<De?1:2<De?2:3;if(G[0]=qt(he.Ea,Le),he.b=Le,Ie=le=vr(De,1,0,oe,he.K)){var Ue,tt=De,Je=he,Pt=1<<(8>>Je.b),zt=a(Pt);if(zt==null)Ie=0;else{var Ht=Je.K[0],Zt=Je.w;for(zt[0]=Je.K[0][0],Ue=1;Ue<1*tt;++Ue)zt[Ue]=wt(Ht[Zt+Ue],zt[Ue-1]);for(;Ue<4*Pt;++Ue)zt[Ue]=0;Je.K[0]=null,Je.K[0]=zt,Ie=1}}le=Ie;break;case 2:break;default:t(0)}p=le}}if(v=v[0],b=b[0],p&&Ke(P,1)&&!(p=1<=(U=Ke(P,4))&&11>=U)){o.a=3;break e}var Kt;if(Kt=p)t:{var Wt,er,Nr,or=o,ar=v,jr=b,on=U,en=y,dn=or.m,An=or.s,ri=[null],$i=1,jn=0,no=jl[on];r:for(;;){if(en&&Ke(dn,1)){var ni=Ke(dn,3)+2,Xi=qt(ar,ni),vo=qt(jr,ni),Ga=Xi*vo;if(!vr(Xi,vo,0,or,ri))break r;for(ri=ri[0],An.xc=ni,Wt=0;Wt<Ga;++Wt){var Cs=ri[Wt]>>8&65535;ri[Wt]=Cs,Cs>=$i&&($i=Cs+1)}}if(dn.h)break r;for(er=0;5>er;++er){var Bi=mh[er];!er&&0<on&&(Bi+=1<<on),jn<Bi&&(jn=Bi)}var tc=u($i*no,re),Es=$i,_h=u(Es,fe);if(_h==null)var Sd=null;else t(65536>=Es),Sd=_h;var ka=a(jn);if(Sd==null||ka==null||tc==null){or.a=1;break r}var Ka=tc;for(Wt=Nr=0;Wt<$i;++Wt){var ea=Sd[Wt],Ia=ea.G,uo=ea.H,pa=0,La=1,Bn=0;for(er=0;5>er;++er){Bi=mh[er],Ia[er]=Ka,uo[er]=Nr,!er&&0<on&&(Bi+=1<<on);i:{var ql,rc=Bi,xu=or,Cd=ka,Ky=Ka,Jm=Nr,Hl=0,_u=xu.m,vf=Ke(_u,1);if(i(Cd,0,0,rc),vf){var wh=Ke(_u,1)+1,bf=Ke(_u,1),Sh=Ke(_u,bf==0?1:8);Cd[Sh]=1,wh==2&&(Cd[Sh=Ke(_u,8)]=1);var wu=1}else{var Ed=a(19),Lp=Ke(_u,4)+4;if(19<Lp){xu.a=3;var Mp=0;break i}for(ql=0;ql<Lp;++ql)Ed[Gm[ql]]=Ke(_u,3);var Qm=void 0,Rp=void 0,eg=xu,Dp=Ed,Bc=rc,nc=Cd,bl=0,As=eg.m,Xy=8,Ad=u(128,re);n:for(;Z(Ad,0,7,Dp,19);){if(Ke(As,1)){var BS=2+2*Ke(As,3);if((Qm=2+Ke(As,BS))>Bc)break n}else Qm=Bc;for(Rp=0;Rp<Bc&&Qm--;){Fe(As);var Zy=Ad[0+(127&me(As))];Re(As,As.u+Zy.g);var zi=Zy.value;if(16>zi)nc[Rp++]=zi,zi!=0&&(Xy=zi);else{var Yy=zi==16,Jy=zi-16,Ch=Sp[Jy],Td=Ke(As,wp[Jy])+Ch;if(Rp+Td>Bc)break n;for(var tg=Yy?Xy:0;0<Td--;)nc[Rp++]=tg}}bl=1;break n}bl||(eg.a=3),wu=bl}(wu=wu&&!_u.h)&&(Hl=Z(Ky,Jm,8,Cd,rc)),wu&&Hl!=0?Mp=Hl:(xu.a=3,Mp=0)}if(Mp==0)break r;if(La&&bd[er]==1&&(La=Ka[Nr].g==0),pa+=Ka[Nr].g,Nr+=Mp,3>=er){var Eh,rg=ka[0];for(Eh=1;Eh<Bi;++Eh)ka[Eh]>rg&&(rg=ka[Eh]);Bn+=rg}}if(ea.nd=La,ea.Qb=0,La&&(ea.qb=(Ia[3][uo[3]+0].value<<24|Ia[1][uo[1]+0].value<<16|Ia[2][uo[2]+0].value)>>>0,pa==0&&256>Ia[0][uo[0]+0].value&&(ea.Qb=1,ea.qb+=Ia[0][uo[0]+0].value<<8)),ea.jc=!ea.Qb&&6>Bn,ea.jc){var ng,ic=ea;for(ng=0;ng<Oi;++ng){var Pd=ng,oc=ic.pd[Pd],ig=ic.G[0][ic.H[0]+Pd];256<=ig.value?(oc.g=ig.g+256,oc.value=ig.value):(oc.g=0,oc.value=0,Pd>>=et(ig,8,oc),Pd>>=et(ic.G[1][ic.H[1]+Pd],16,oc),Pd>>=et(ic.G[2][ic.H[2]+Pd],0,oc),et(ic.G[3][ic.H[3]+Pd],24,oc))}}}An.vc=ri,An.Wb=$i,An.Ya=Sd,An.yc=tc,Kt=1;break t}Kt=0}if(!(p=Kt)){o.a=3;break e}if(0<U){if(I.ua=1<<U,!Et(I.Wa,U)){o.a=1,p=0;break e}}else I.ua=0;var Op=o,Qy=v,y2=b,kd=Op.s,ev=kd.xc;if(Op.c=Qy,Op.i=y2,kd.md=qt(Qy,ev),kd.wc=ev==0?-1:(1<<ev)-1,y){o.xb=_d;break e}if((N=a(v*b))==null){o.a=1,p=0;break e}p=(p=hr(o,N,0,v,b,b,null))&&!P.h;break e}return p?(d!=null?d[0]=N:(t(N==null),t(y)),o.$=0,y||gr(I)):gr(I),p}function Tr(A,R){var y=A.c*A.i,o=y+R+16*R;return t(A.c<=R),A.V=a(o),A.V==null?(A.Ta=null,A.Ua=0,A.a=1,0):(A.Ta=A.V,A.Ua=A.Ba+y+R,1)}function zr(A,R){var y=A.C,o=R-y,d=A.V,p=A.Ba+A.c*y;for(t(R<=A.l.o);0<o;){var v=16<o?16:o,b=A.l.ma,P=A.l.width,I=P*v,N=b.ca,U=b.tb+P*y,G=A.Ta,W=A.Ua;Bt(A,v,d,p),xs(G,W,N,U,I),$t(b,y,y+v,N,U,P),o-=v,d+=v*A.c,y+=v}t(y==R),A.C=A.Ma=R}function Kn(){this.ub=this.yd=this.td=this.Rb=0}function fi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Hn(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function so(){this.Yb=function(){var A=[];return function R(y,o,d){for(var p=d[o],v=0;v<p&&(y.push(d.length>o+1?[]:0),!(d.length<o+1));v++)R(y[v],o+1,d)}(A,0,[3,11]),A}()}function In(){this.jb=a(3),this.Wc=s([4,8],so),this.Xc=s([4,17],so)}function ja(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function To(){this.ld=this.La=this.dd=this.tc=0}function Ln(){this.Na=this.la=0}function eo(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Mn(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function xn(){this.uc=this.M=this.Nb=0,this.wa=Array(new To),this.Y=0,this.ya=Array(new Mn),this.aa=0,this.l=new Rn}function Wn(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Fo(){this.cb=this.a=0,this.sc="",this.m=new pt,this.Od=new Kn,this.Kc=new fi,this.ed=new ja,this.Qa=new Hn,this.Ic=this.$c=this.Aa=0,this.D=new xn,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,pt),this.ia=0,this.pb=u(4,eo),this.Pa=new In,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Wn),this.Hd=0,this.rb=Array(new Ln),this.sb=0,this.wa=Array(new To),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Mn),this.L=this.aa=0,this.gd=s([4,2],To),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Rn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function zn(){var A=new Fo;return A!=null&&(A.a=0,A.sc="OK",A.cb=0,A.Xb=0,gh||(gh=du)),A}function ai(A,R,y){return A.a==0&&(A.a=R,A.sc=y,A.cb=0),0}function Ko(A,R,y){return 3<=y&&A[R+0]==157&&A[R+1]==1&&A[R+2]==42}function Li(A,R){if(A==null)return 0;if(A.a=0,A.sc="OK",R==null)return ai(A,2,"null VP8Io passed to VP8GetHeaders()");var y=R.data,o=R.w,d=R.ha;if(4>d)return ai(A,7,"Truncated header.");var p=y[o+0]|y[o+1]<<8|y[o+2]<<16,v=A.Od;if(v.Rb=!(1&p),v.td=p>>1&7,v.yd=p>>4&1,v.ub=p>>5,3<v.td)return ai(A,3,"Incorrect keyframe parameters.");if(!v.yd)return ai(A,4,"Frame not displayable.");o+=3,d-=3;var b=A.Kc;if(v.Rb){if(7>d)return ai(A,7,"cannot parse picture header");if(!Ko(y,o,d))return ai(A,3,"Bad code word");b.c=16383&(y[o+4]<<8|y[o+3]),b.Td=y[o+4]>>6,b.i=16383&(y[o+6]<<8|y[o+5]),b.Ud=y[o+6]>>6,o+=7,d-=7,A.za=b.c+15>>4,A.Ub=b.i+15>>4,R.width=b.c,R.height=b.i,R.Da=0,R.j=0,R.v=0,R.va=R.width,R.o=R.height,R.da=0,R.ib=R.width,R.hb=R.height,R.U=R.width,R.T=R.height,i((p=A.Pa).jb,0,255,p.jb.length),t((p=A.Qa)!=null),p.Cb=0,p.Bb=0,p.Fb=1,i(p.Zb,0,0,p.Zb.length),i(p.Lb,0,0,p.Lb)}if(v.ub>d)return ai(A,7,"bad partition length");Ae(p=A.m,y,o,v.ub),o+=v.ub,d-=v.ub,v.Rb&&(b.Ld=Ve(p),b.Kd=Ve(p)),b=A.Qa;var P,I=A.Pa;if(t(p!=null),t(b!=null),b.Cb=Ve(p),b.Cb){if(b.Bb=Ve(p),Ve(p)){for(b.Fb=Ve(p),P=0;4>P;++P)b.Zb[P]=Ve(p)?Oe(p,7):0;for(P=0;4>P;++P)b.Lb[P]=Ve(p)?Oe(p,6):0}if(b.Bb)for(P=0;3>P;++P)I.jb[P]=Ve(p)?ke(p,8):255}else b.Bb=0;if(p.Ka)return ai(A,3,"cannot parse segment header");if((b=A.ed).zd=Ve(p),b.Tb=ke(p,6),b.wb=ke(p,3),b.Pc=Ve(p),b.Pc&&Ve(p)){for(I=0;4>I;++I)Ve(p)&&(b.vd[I]=Oe(p,6));for(I=0;4>I;++I)Ve(p)&&(b.od[I]=Oe(p,6))}if(A.L=b.Tb==0?0:b.zd?1:2,p.Ka)return ai(A,3,"cannot parse filter header");var N=d;if(d=P=o,o=P+N,b=N,A.Xb=(1<<ke(A.m,2))-1,N<3*(I=A.Xb))y=7;else{for(P+=3*I,b-=3*I,N=0;N<I;++N){var U=y[d+0]|y[d+1]<<8|y[d+2]<<16;U>b&&(U=b),Ae(A.Jc[+N],y,P,U),P+=U,b-=U,d+=3}Ae(A.Jc[+I],y,P,b),y=P<o?0:5}if(y!=0)return ai(A,y,"cannot parse partitions");for(y=ke(P=A.m,7),d=Ve(P)?Oe(P,4):0,o=Ve(P)?Oe(P,4):0,b=Ve(P)?Oe(P,4):0,I=Ve(P)?Oe(P,4):0,P=Ve(P)?Oe(P,4):0,N=A.Qa,U=0;4>U;++U){if(N.Cb){var G=N.Zb[U];N.Fb||(G+=y)}else{if(0<U){A.pb[U]=A.pb[0];continue}G=y}var W=A.pb[U];W.Sc[0]=_s[Tn(G+d,127)],W.Sc[1]=bu[Tn(G+0,127)],W.Eb[0]=2*_s[Tn(G+o,127)],W.Eb[1]=101581*bu[Tn(G+b,127)]>>16,8>W.Eb[1]&&(W.Eb[1]=8),W.Qc[0]=_s[Tn(G+I,117)],W.Qc[1]=bu[Tn(G+P,127)],W.lc=G+P}if(!v.Rb)return ai(A,4,"Not a key frame.");for(Ve(p),v=A.Pa,y=0;4>y;++y){for(d=0;8>d;++d)for(o=0;3>o;++o)for(b=0;11>b;++b)I=We(p,Gs[y][d][o][b])?ke(p,8):Ap[y][d][o][b],v.Wc[y][d].Yb[o][b]=I;for(d=0;17>d;++d)v.Xc[y][d]=v.Wc[y][kr[d]]}return A.kc=Ve(p),A.kc&&(A.Bd=ke(p,8)),A.cb=1}function du(A,R,y,o,d,p,v){var b=R[d].Yb[y];for(y=0;16>d;++d){if(!We(A,b[y+0]))return d;for(;!We(A,b[y+1]);)if(b=R[++d].Yb[0],y=0,d==16)return 16;var P=R[d+1].Yb;if(We(A,b[y+2])){var I=A,N=0;if(We(I,(G=b)[(U=y)+3]))if(We(I,G[U+6])){for(b=0,U=2*(N=We(I,G[U+8]))+(G=We(I,G[U+9+N])),N=0,G=Wy[U];G[b];++b)N+=N+We(I,G[b]);N+=3+(8<<U)}else We(I,G[U+7])?(N=7+2*We(I,165),N+=We(I,145)):N=5+We(I,159);else N=We(I,G[U+4])?3+We(I,G[U+5]):2;b=P[2]}else N=1,b=P[1];P=v+Km[d],0>(I=A).b&&rt(I);var U,G=I.b,W=(U=I.Ca>>1)-(I.I>>G)>>31;--I.b,I.Ca+=W,I.Ca|=1,I.I-=(U+1&W)<<G,p[P]=((N^W)-W)*o[(0<d)+0]}return 16}function Xo(A){var R=A.rb[A.sb-1];R.la=0,R.Na=0,i(A.zc,0,0,A.zc.length),A.ja=0}function hu(A,R){if(A==null)return 0;if(R==null)return ai(A,2,"NULL VP8Io parameter in VP8Decode().");if(!A.cb&&!Li(A,R))return 0;if(t(A.cb),R.ac==null||R.ac(R)){R.ob&&(A.L=0);var y=ec[A.L];if(A.L==2?(A.yb=0,A.zb=0):(A.yb=R.v-y>>4,A.zb=R.j-y>>4,0>A.yb&&(A.yb=0),0>A.zb&&(A.zb=0)),A.Va=R.o+15+y>>4,A.Hb=R.va+15+y>>4,A.Hb>A.za&&(A.Hb=A.za),A.Va>A.Ub&&(A.Va=A.Ub),0<A.L){var o=A.ed;for(y=0;4>y;++y){var d;if(A.Qa.Cb){var p=A.Qa.Lb[y];A.Qa.Fb||(p+=o.Tb)}else p=o.Tb;for(d=0;1>=d;++d){var v=A.gd[y][d],b=p;if(o.Pc&&(b+=o.vd[0],d&&(b+=o.od[0])),0<(b=0>b?0:63<b?63:b)){var P=b;0<o.wb&&(P=4<o.wb?P>>2:P>>1)>9-o.wb&&(P=9-o.wb),1>P&&(P=1),v.dd=P,v.tc=2*b+P,v.ld=40<=b?2:15<=b?1:0}else v.tc=0;v.La=d}}}y=0}else ai(A,6,"Frame setup failed"),y=A.a;if(y=y==0){if(y){A.$c=0,0<A.Aa||(A.Ic=Qr);e:{y=A.Ic,o=4*(P=A.za);var I=32*P,N=P+1,U=0<A.L?P*(0<A.Aa?2:1):0,G=(A.Aa==2?2:1)*P;if((v=o+832+(d=3*(16*y+ec[A.L])/2*I)+(p=A.Fa!=null&&0<A.Fa.length?A.Kc.c*A.Kc.i:0))!=v)y=0;else{if(v>A.Vb){if(A.Vb=0,A.Ec=a(v),A.Fc=0,A.Ec==null){y=ai(A,1,"no memory during frame initialization.");break e}A.Vb=v}v=A.Ec,b=A.Fc,A.Ac=v,A.Bc=b,b+=o,A.Gd=u(I,Wn),A.Hd=0,A.rb=u(N+1,Ln),A.sb=1,A.wa=U?u(U,To):null,A.Y=0,A.D.Nb=0,A.D.wa=A.wa,A.D.Y=A.Y,0<A.Aa&&(A.D.Y+=P),t(!0),A.oc=v,A.pc=b,b+=832,A.ya=u(G,Mn),A.aa=0,A.D.ya=A.ya,A.D.aa=A.aa,A.Aa==2&&(A.D.aa+=P),A.R=16*P,A.B=8*P,P=(I=ec[A.L])*A.R,I=I/2*A.B,A.sa=v,A.ta=b+P,A.qa=A.sa,A.ra=A.ta+16*y*A.R+I,A.Ha=A.qa,A.Ia=A.ra+8*y*A.B+I,A.$c=0,b+=d,A.mb=p?v:null,A.nb=p?b:null,t(b+p<=A.Fc+A.Vb),Xo(A),i(A.Ac,A.Bc,0,o),y=1}}if(y){if(R.ka=0,R.y=A.sa,R.O=A.ta,R.f=A.qa,R.N=A.ra,R.ea=A.Ha,R.Vd=A.Ia,R.fa=A.R,R.Rc=A.B,R.F=null,R.J=0,!is){for(y=-255;255>=y;++y)Vs[255+y]=0>y?-y:y;for(y=-1020;1020>=y;++y)yi[1020+y]=-128>y?-128:127<y?127:y;for(y=-112;112>=y;++y)fa[112+y]=-16>y?-16:15<y?15:y;for(y=-255;510>=y;++y)yo[255+y]=0>y?0:255<y?255:y;is=1}Zn=Ge,jo=Nn,li=O,Ti=X,Ki=Ce,_i=gs,wi=Rl,Jo=Dl,Uo=Lc,ha=Zu,Wa=Va,mo=hl,ns=mu,Si=Ol,gi=es,ln=En,cn=ts,Qo=hh,ws[0]=Cn,ws[1]=dt,ws[2]=Ut,ws[3]=Dr,ws[4]=Gi,ws[5]=Ll,ws[6]=pi,ws[7]=Ku,ws[8]=pd,ws[9]=mi,yl[0]=dr,yl[1]=Xt,yl[2]=tr,yl[3]=mr,yl[4]=Rr,yl[5]=si,yl[6]=Gr,Ul[0]=ys,Ul[1]=yt,Ul[2]=dh,Ul[3]=Ca,Ul[4]=vs,Ul[5]=pu,Ul[6]=Ml,y=1}else y=0}y&&(y=function(W,oe){for(W.M=0;W.M<W.Va;++W.M){var le,ie=W.Jc[W.M&W.Xb],he=W.m,Te=W;for(le=0;le<Te.za;++le){var Ie=he,De=Te,Le=De.Ac,Ue=De.Bc+4*le,tt=De.zc,Je=De.ya[De.aa+le];if(De.Qa.Bb?Je.$b=We(Ie,De.Pa.jb[0])?2+We(Ie,De.Pa.jb[2]):We(Ie,De.Pa.jb[1]):Je.$b=0,De.kc&&(Je.Ad=We(Ie,De.Bd)),Je.Za=!We(Ie,145)+0,Je.Za){var Pt=Je.Ob,zt=0;for(De=0;4>De;++De){var Ht,Zt=tt[0+De];for(Ht=0;4>Ht;++Ht){Zt=xd[Le[Ue+Ht]][Zt];for(var Kt=Ep[We(Ie,Zt[0])];0<Kt;)Kt=Ep[2*Kt+We(Ie,Zt[Kt])];Zt=-Kt,Le[Ue+Ht]=Zt}n(Pt,zt,Le,Ue,4),zt+=4,tt[0+De]=Zt}}else Zt=We(Ie,156)?We(Ie,128)?1:3:We(Ie,163)?2:0,Je.Ob[0]=Zt,i(Le,Ue,Zt,4),i(tt,0,Zt,4);Je.Dd=We(Ie,142)?We(Ie,114)?We(Ie,183)?1:3:2:0}if(Te.m.Ka)return ai(W,7,"Premature end-of-partition0 encountered.");for(;W.ja<W.za;++W.ja){if(Te=ie,Ie=(he=W).rb[he.sb-1],Le=he.rb[he.sb+he.ja],le=he.ya[he.aa+he.ja],Ue=he.kc?le.Ad:0)Ie.la=Le.la=0,le.Za||(Ie.Na=Le.Na=0),le.Hc=0,le.Gc=0,le.ia=0;else{var Wt,er;if(Ie=Le,Le=Te,Ue=he.Pa.Xc,tt=he.ya[he.aa+he.ja],Je=he.pb[tt.$b],De=tt.ad,Pt=0,zt=he.rb[he.sb-1],Zt=Ht=0,i(De,Pt,0,384),tt.Za)var Nr=0,or=Ue[3];else{Kt=a(16);var ar=Ie.Na+zt.Na;if(ar=gh(Le,Ue[1],ar,Je.Eb,0,Kt,0),Ie.Na=zt.Na=(0<ar)+0,1<ar)Zn(Kt,0,De,Pt);else{var jr=Kt[0]+3>>3;for(Kt=0;256>Kt;Kt+=16)De[Pt+Kt]=jr}Nr=1,or=Ue[0]}var on=15&Ie.la,en=15&zt.la;for(Kt=0;4>Kt;++Kt){var dn=1&en;for(jr=er=0;4>jr;++jr)on=on>>1|(dn=(ar=gh(Le,or,ar=dn+(1&on),Je.Sc,Nr,De,Pt))>Nr)<<7,er=er<<2|(3<ar?3:1<ar?2:De[Pt+0]!=0),Pt+=16;on>>=4,en=en>>1|dn<<7,Ht=(Ht<<8|er)>>>0}for(or=on,Nr=en>>4,Wt=0;4>Wt;Wt+=2){for(er=0,on=Ie.la>>4+Wt,en=zt.la>>4+Wt,Kt=0;2>Kt;++Kt){for(dn=1&en,jr=0;2>jr;++jr)ar=dn+(1&on),on=on>>1|(dn=0<(ar=gh(Le,Ue[2],ar,Je.Qc,0,De,Pt)))<<3,er=er<<2|(3<ar?3:1<ar?2:De[Pt+0]!=0),Pt+=16;on>>=2,en=en>>1|dn<<5}Zt|=er<<4*Wt,or|=on<<4<<Wt,Nr|=(240&en)<<Wt}Ie.la=or,zt.la=Nr,tt.Hc=Ht,tt.Gc=Zt,tt.ia=43690&Zt?0:Je.ia,Ue=!(Ht|Zt)}if(0<he.L&&(he.wa[he.Y+he.ja]=he.gd[le.$b][le.Za],he.wa[he.Y+he.ja].La|=!Ue),Te.Ka)return ai(W,7,"Premature end-of-file encountered.")}if(Xo(W),he=oe,Te=1,le=(ie=W).D,Ie=0<ie.L&&ie.M>=ie.zb&&ie.M<=ie.Va,ie.Aa==0)e:{if(le.M=ie.M,le.uc=Ie,zs(ie,le),Te=1,le=(er=ie.D).Nb,Ie=(Zt=ec[ie.L])*ie.R,Le=Zt/2*ie.B,Kt=16*le*ie.R,jr=8*le*ie.B,Ue=ie.sa,tt=ie.ta-Ie+Kt,Je=ie.qa,De=ie.ra-Le+jr,Pt=ie.Ha,zt=ie.Ia-Le+jr,en=(on=er.M)==0,Ht=on>=ie.Va-1,ie.Aa==2&&zs(ie,er),er.uc)for(dn=(ar=ie).D.M,t(ar.D.uc),er=ar.yb;er<ar.Hb;++er){Nr=er,or=dn;var An=(ri=(Bi=ar).D).Nb;Wt=Bi.R;var ri=ri.wa[ri.Y+Nr],$i=Bi.sa,jn=Bi.ta+16*An*Wt+16*Nr,no=ri.dd,ni=ri.tc;if(ni!=0)if(t(3<=ni),Bi.L==1)0<Nr&&ln($i,jn,Wt,ni+4),ri.La&&Qo($i,jn,Wt,ni),0<or&&gi($i,jn,Wt,ni+4),ri.La&&cn($i,jn,Wt,ni);else{var Xi=Bi.B,vo=Bi.qa,Ga=Bi.ra+8*An*Xi+8*Nr,Cs=Bi.Ha,Bi=Bi.Ia+8*An*Xi+8*Nr;An=ri.ld,0<Nr&&(Jo($i,jn,Wt,ni+4,no,An),ha(vo,Ga,Cs,Bi,Xi,ni+4,no,An)),ri.La&&(mo($i,jn,Wt,ni,no,An),Si(vo,Ga,Cs,Bi,Xi,ni,no,An)),0<or&&(wi($i,jn,Wt,ni+4,no,An),Uo(vo,Ga,Cs,Bi,Xi,ni+4,no,An)),ri.La&&(Wa($i,jn,Wt,ni,no,An),ns(vo,Ga,Cs,Bi,Xi,ni,no,An))}}if(ie.ia&&alert("todo:DitherRow"),he.put!=null){if(er=16*on,on=16*(on+1),en?(he.y=ie.sa,he.O=ie.ta+Kt,he.f=ie.qa,he.N=ie.ra+jr,he.ea=ie.Ha,he.W=ie.Ia+jr):(er-=Zt,he.y=Ue,he.O=tt,he.f=Je,he.N=De,he.ea=Pt,he.W=zt),Ht||(on-=Zt),on>he.o&&(on=he.o),he.F=null,he.J=null,ie.Fa!=null&&0<ie.Fa.length&&er<on&&(he.J=Fl(ie,he,er,on-er),he.F=ie.mb,he.F==null&&he.F.length==0)){Te=ai(ie,3,"Could not decode alpha data.");break e}er<he.j&&(Zt=he.j-er,er=he.j,t(!(1&Zt)),he.O+=ie.R*Zt,he.N+=ie.B*(Zt>>1),he.W+=ie.B*(Zt>>1),he.F!=null&&(he.J+=he.width*Zt)),er<on&&(he.O+=he.v,he.N+=he.v>>1,he.W+=he.v>>1,he.F!=null&&(he.J+=he.v),he.ka=er-he.j,he.U=he.va-he.v,he.T=on-er,Te=he.put(he))}le+1!=ie.Ic||Ht||(n(ie.sa,ie.ta-Ie,Ue,tt+16*ie.R,Ie),n(ie.qa,ie.ra-Le,Je,De+8*ie.B,Le),n(ie.Ha,ie.Ia-Le,Pt,zt+8*ie.B,Le))}if(!Te)return ai(W,6,"Output aborted.")}return 1}(A,R)),R.bc!=null&&R.bc(R),y&=1}return y?(A.cb=0,y):0}function Wi(A,R,y,o,d){d=A[R+y+32*o]+(d>>3),A[R+y+32*o]=-256&d?0>d?0:255:d}function fu(A,R,y,o,d,p){Wi(A,R,0,y,o+d),Wi(A,R,1,y,o+p),Wi(A,R,2,y,o-p),Wi(A,R,3,y,o-d)}function $o(A){return(20091*A>>16)+A}function ms(A,R,y,o){var d,p=0,v=a(16);for(d=0;4>d;++d){var b=A[R+0]+A[R+8],P=A[R+0]-A[R+8],I=(35468*A[R+4]>>16)-$o(A[R+12]),N=$o(A[R+4])+(35468*A[R+12]>>16);v[p+0]=b+N,v[p+1]=P+I,v[p+2]=P-I,v[p+3]=b-N,p+=4,R++}for(d=p=0;4>d;++d)b=(A=v[p+0]+4)+v[p+8],P=A-v[p+8],I=(35468*v[p+4]>>16)-$o(v[p+12]),Wi(y,o,0,0,b+(N=$o(v[p+4])+(35468*v[p+12]>>16))),Wi(y,o,1,0,P+I),Wi(y,o,2,0,P-I),Wi(y,o,3,0,b-N),p++,o+=32}function gs(A,R,y,o){var d=A[R+0]+4,p=35468*A[R+4]>>16,v=$o(A[R+4]),b=35468*A[R+1]>>16;fu(y,o,0,d+v,A=$o(A[R+1]),b),fu(y,o,1,d+p,A,b),fu(y,o,2,d-p,A,b),fu(y,o,3,d-v,A,b)}function Nn(A,R,y,o,d){ms(A,R,y,o),d&&ms(A,R+16,y,o+4)}function O(A,R,y,o){jo(A,R+0,y,o,1),jo(A,R+32,y,o+128,1)}function X(A,R,y,o){var d;for(A=A[R+0]+4,d=0;4>d;++d)for(R=0;4>R;++R)Wi(y,o,R,d,A)}function Ce(A,R,y,o){A[R+0]&&Ti(A,R+0,y,o),A[R+16]&&Ti(A,R+16,y,o+4),A[R+32]&&Ti(A,R+32,y,o+128),A[R+48]&&Ti(A,R+48,y,o+128+4)}function Ge(A,R,y,o){var d,p=a(16);for(d=0;4>d;++d){var v=A[R+0+d]+A[R+12+d],b=A[R+4+d]+A[R+8+d],P=A[R+4+d]-A[R+8+d],I=A[R+0+d]-A[R+12+d];p[0+d]=v+b,p[8+d]=v-b,p[4+d]=I+P,p[12+d]=I-P}for(d=0;4>d;++d)v=(A=p[0+4*d]+3)+p[3+4*d],b=p[1+4*d]+p[2+4*d],P=p[1+4*d]-p[2+4*d],I=A-p[3+4*d],y[o+0]=v+b>>3,y[o+16]=I+P>>3,y[o+32]=v-b>>3,y[o+48]=I-P>>3,o+=64}function st(A,R,y){var o,d=R-32,p=lo,v=255-A[d-1];for(o=0;o<y;++o){var b,P=p,I=v+A[R-1];for(b=0;b<y;++b)A[R+b]=P[I+A[d+b]];R+=32}}function dt(A,R){st(A,R,4)}function yt(A,R){st(A,R,8)}function Xt(A,R){st(A,R,16)}function tr(A,R){var y;for(y=0;16>y;++y)n(A,R+32*y,A,R-32,16)}function mr(A,R){var y;for(y=16;0<y;--y)i(A,R,A[R-1],16),R+=32}function pr(A,R,y){var o;for(o=0;16>o;++o)i(R,y+32*o,A,16)}function dr(A,R){var y,o=16;for(y=0;16>y;++y)o+=A[R-1+32*y]+A[R+y-32];pr(o>>5,A,R)}function Rr(A,R){var y,o=8;for(y=0;16>y;++y)o+=A[R-1+32*y];pr(o>>4,A,R)}function si(A,R){var y,o=8;for(y=0;16>y;++y)o+=A[R+y-32];pr(o>>4,A,R)}function Gr(A,R){pr(128,A,R)}function Sr(A,R,y){return A+2*R+y+2>>2}function Ut(A,R){var y,o=R-32;for(o=new Uint8Array([Sr(A[o-1],A[o+0],A[o+1]),Sr(A[o+0],A[o+1],A[o+2]),Sr(A[o+1],A[o+2],A[o+3]),Sr(A[o+2],A[o+3],A[o+4])]),y=0;4>y;++y)n(A,R+32*y,o,0,o.length)}function Dr(A,R){var y=A[R-1],o=A[R-1+32],d=A[R-1+64],p=A[R-1+96];nt(A,R+0,16843009*Sr(A[R-1-32],y,o)),nt(A,R+32,16843009*Sr(y,o,d)),nt(A,R+64,16843009*Sr(o,d,p)),nt(A,R+96,16843009*Sr(d,p,p))}function Cn(A,R){var y,o=4;for(y=0;4>y;++y)o+=A[R+y-32]+A[R-1+32*y];for(o>>=3,y=0;4>y;++y)i(A,R+32*y,o,4)}function Gi(A,R){var y=A[R-1+0],o=A[R-1+32],d=A[R-1+64],p=A[R-1-32],v=A[R+0-32],b=A[R+1-32],P=A[R+2-32],I=A[R+3-32];A[R+0+96]=Sr(o,d,A[R-1+96]),A[R+1+96]=A[R+0+64]=Sr(y,o,d),A[R+2+96]=A[R+1+64]=A[R+0+32]=Sr(p,y,o),A[R+3+96]=A[R+2+64]=A[R+1+32]=A[R+0+0]=Sr(v,p,y),A[R+3+64]=A[R+2+32]=A[R+1+0]=Sr(b,v,p),A[R+3+32]=A[R+2+0]=Sr(P,b,v),A[R+3+0]=Sr(I,P,b)}function pi(A,R){var y=A[R+1-32],o=A[R+2-32],d=A[R+3-32],p=A[R+4-32],v=A[R+5-32],b=A[R+6-32],P=A[R+7-32];A[R+0+0]=Sr(A[R+0-32],y,o),A[R+1+0]=A[R+0+32]=Sr(y,o,d),A[R+2+0]=A[R+1+32]=A[R+0+64]=Sr(o,d,p),A[R+3+0]=A[R+2+32]=A[R+1+64]=A[R+0+96]=Sr(d,p,v),A[R+3+32]=A[R+2+64]=A[R+1+96]=Sr(p,v,b),A[R+3+64]=A[R+2+96]=Sr(v,b,P),A[R+3+96]=Sr(b,P,P)}function Ll(A,R){var y=A[R-1+0],o=A[R-1+32],d=A[R-1+64],p=A[R-1-32],v=A[R+0-32],b=A[R+1-32],P=A[R+2-32],I=A[R+3-32];A[R+0+0]=A[R+1+64]=p+v+1>>1,A[R+1+0]=A[R+2+64]=v+b+1>>1,A[R+2+0]=A[R+3+64]=b+P+1>>1,A[R+3+0]=P+I+1>>1,A[R+0+96]=Sr(d,o,y),A[R+0+64]=Sr(o,y,p),A[R+0+32]=A[R+1+96]=Sr(y,p,v),A[R+1+32]=A[R+2+96]=Sr(p,v,b),A[R+2+32]=A[R+3+96]=Sr(v,b,P),A[R+3+32]=Sr(b,P,I)}function Ku(A,R){var y=A[R+0-32],o=A[R+1-32],d=A[R+2-32],p=A[R+3-32],v=A[R+4-32],b=A[R+5-32],P=A[R+6-32],I=A[R+7-32];A[R+0+0]=y+o+1>>1,A[R+1+0]=A[R+0+64]=o+d+1>>1,A[R+2+0]=A[R+1+64]=d+p+1>>1,A[R+3+0]=A[R+2+64]=p+v+1>>1,A[R+0+32]=Sr(y,o,d),A[R+1+32]=A[R+0+96]=Sr(o,d,p),A[R+2+32]=A[R+1+96]=Sr(d,p,v),A[R+3+32]=A[R+2+96]=Sr(p,v,b),A[R+3+64]=Sr(v,b,P),A[R+3+96]=Sr(b,P,I)}function mi(A,R){var y=A[R-1+0],o=A[R-1+32],d=A[R-1+64],p=A[R-1+96];A[R+0+0]=y+o+1>>1,A[R+2+0]=A[R+0+32]=o+d+1>>1,A[R+2+32]=A[R+0+64]=d+p+1>>1,A[R+1+0]=Sr(y,o,d),A[R+3+0]=A[R+1+32]=Sr(o,d,p),A[R+3+32]=A[R+1+64]=Sr(d,p,p),A[R+3+64]=A[R+2+64]=A[R+0+96]=A[R+1+96]=A[R+2+96]=A[R+3+96]=p}function pd(A,R){var y=A[R-1+0],o=A[R-1+32],d=A[R-1+64],p=A[R-1+96],v=A[R-1-32],b=A[R+0-32],P=A[R+1-32],I=A[R+2-32];A[R+0+0]=A[R+2+32]=y+v+1>>1,A[R+0+32]=A[R+2+64]=o+y+1>>1,A[R+0+64]=A[R+2+96]=d+o+1>>1,A[R+0+96]=p+d+1>>1,A[R+3+0]=Sr(b,P,I),A[R+2+0]=Sr(v,b,P),A[R+1+0]=A[R+3+32]=Sr(y,v,b),A[R+1+32]=A[R+3+64]=Sr(o,y,v),A[R+1+64]=A[R+3+96]=Sr(d,o,y),A[R+1+96]=Sr(p,d,o)}function dh(A,R){var y;for(y=0;8>y;++y)n(A,R+32*y,A,R-32,8)}function Ca(A,R){var y;for(y=0;8>y;++y)i(A,R,A[R-1],8),R+=32}function Qa(A,R,y){var o;for(o=0;8>o;++o)i(R,y+32*o,A,8)}function ys(A,R){var y,o=8;for(y=0;8>y;++y)o+=A[R+y-32]+A[R-1+32*y];Qa(o>>4,A,R)}function pu(A,R){var y,o=4;for(y=0;8>y;++y)o+=A[R+y-32];Qa(o>>3,A,R)}function vs(A,R){var y,o=4;for(y=0;8>y;++y)o+=A[R-1+32*y];Qa(o>>3,A,R)}function Ml(A,R){Qa(128,A,R)}function Zo(A,R,y){var o=A[R-y],d=A[R+0],p=3*(d-o)+Ju[1020+A[R-2*y]-A[R+y]],v=qs[112+(p+4>>3)];A[R-y]=lo[255+o+qs[112+(p+3>>3)]],A[R+0]=lo[255+d-v]}function md(A,R,y,o){var d=A[R+0],p=A[R+y];return Fi[255+A[R-2*y]-A[R-y]]>o||Fi[255+p-d]>o}function Xu(A,R,y,o){return 4*Fi[255+A[R-y]-A[R+0]]+Fi[255+A[R-2*y]-A[R+y]]<=o}function Fs(A,R,y,o,d){var p=A[R-3*y],v=A[R-2*y],b=A[R-y],P=A[R+0],I=A[R+y],N=A[R+2*y],U=A[R+3*y];return 4*Fi[255+b-P]+Fi[255+v-I]>o?0:Fi[255+A[R-4*y]-p]<=d&&Fi[255+p-v]<=d&&Fi[255+v-b]<=d&&Fi[255+U-N]<=d&&Fi[255+N-I]<=d&&Fi[255+I-P]<=d}function es(A,R,y,o){var d=2*o+1;for(o=0;16>o;++o)Xu(A,R+o,y,d)&&Zo(A,R+o,y)}function En(A,R,y,o){var d=2*o+1;for(o=0;16>o;++o)Xu(A,R+o*y,1,d)&&Zo(A,R+o*y,1)}function ts(A,R,y,o){var d;for(d=3;0<d;--d)es(A,R+=4*y,y,o)}function hh(A,R,y,o){var d;for(d=3;0<d;--d)En(A,R+=4,y,o)}function Ua(A,R,y,o,d,p,v,b){for(p=2*p+1;0<d--;){if(Fs(A,R,y,p,v))if(md(A,R,y,b))Zo(A,R,y);else{var P=A,I=R,N=y,U=P[I-2*N],G=P[I-N],W=P[I+0],oe=P[I+N],le=P[I+2*N],ie=27*(Te=Ju[1020+3*(W-G)+Ju[1020+U-oe]])+63>>7,he=18*Te+63>>7,Te=9*Te+63>>7;P[I-3*N]=lo[255+P[I-3*N]+Te],P[I-2*N]=lo[255+U+he],P[I-N]=lo[255+G+ie],P[I+0]=lo[255+W-ie],P[I+N]=lo[255+oe-he],P[I+2*N]=lo[255+le-Te]}R+=o}}function Ea(A,R,y,o,d,p,v,b){for(p=2*p+1;0<d--;){if(Fs(A,R,y,p,v))if(md(A,R,y,b))Zo(A,R,y);else{var P=A,I=R,N=y,U=P[I-N],G=P[I+0],W=P[I+N],oe=qs[112+((le=3*(G-U))+4>>3)],le=qs[112+(le+3>>3)],ie=oe+1>>1;P[I-2*N]=lo[255+P[I-2*N]+ie],P[I-N]=lo[255+U+le],P[I+0]=lo[255+G-oe],P[I+N]=lo[255+W-ie]}R+=o}}function Rl(A,R,y,o,d,p){Ua(A,R,y,1,16,o,d,p)}function Dl(A,R,y,o,d,p){Ua(A,R,1,y,16,o,d,p)}function Va(A,R,y,o,d,p){var v;for(v=3;0<v;--v)Ea(A,R+=4*y,y,1,16,o,d,p)}function hl(A,R,y,o,d,p){var v;for(v=3;0<v;--v)Ea(A,R+=4,1,y,16,o,d,p)}function Lc(A,R,y,o,d,p,v,b){Ua(A,R,d,1,8,p,v,b),Ua(y,o,d,1,8,p,v,b)}function Zu(A,R,y,o,d,p,v,b){Ua(A,R,1,d,8,p,v,b),Ua(y,o,1,d,8,p,v,b)}function mu(A,R,y,o,d,p,v,b){Ea(A,R+4*d,d,1,8,p,v,b),Ea(y,o+4*d,d,1,8,p,v,b)}function Ol(A,R,y,o,d,p,v,b){Ea(A,R+4,1,d,8,p,v,b),Ea(y,o+4,1,d,8,p,v,b)}function qa(){this.ba=new hi,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new je,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function gu(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Mc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function bs(){this.ua=0,this.Wa=new ce,this.vb=new ce,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new fe,this.yc=new re}function Nl(){this.xb=this.a=0,this.l=new Rn,this.ca=new hi,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new ae,this.Pb=0,this.wd=new ae,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new bs,this.ab=0,this.gc=u(4,Mc),this.Oc=0}function Yu(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Rn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function $s(A,R,y,o,d,p,v){for(A=A==null?0:A[R+0],R=0;R<v;++R)d[p+R]=A+y[o+R]&255,A=d[p+R]}function yu(A,R,y,o,d,p,v){var b;if(A==null)$s(null,null,y,o,d,p,v);else for(b=0;b<v;++b)d[p+b]=A[R+b]+y[o+b]&255}function rs(A,R,y,o,d,p,v){if(A==null)$s(null,null,y,o,d,p,v);else{var b,P=A[R+0],I=P,N=P;for(b=0;b<v;++b)I=N+(P=A[R+b])-I,N=y[o+b]+(-256&I?0>I?0:255:I)&255,I=P,d[p+b]=N}}function Fl(A,R,y,o){var d=R.width,p=R.o;if(t(A!=null&&R!=null),0>y||0>=o||y+o>p)return null;if(!A.Cc){if(A.ga==null){var v;if(A.ga=new Yu,(v=A.ga==null)||(v=R.width*R.o,t(A.Gb.length==0),A.Gb=a(v),A.Uc=0,A.Gb==null?v=0:(A.mb=A.Gb,A.nb=A.Uc,A.rc=null,v=1),v=!v),!v){v=A.ga;var b=A.Fa,P=A.P,I=A.qc,N=A.mb,U=A.nb,G=P+1,W=I-1,oe=v.l;if(t(b!=null&&N!=null&&R!=null),Vl[0]=null,Vl[1]=$s,Vl[2]=yu,Vl[3]=rs,v.ca=N,v.tb=U,v.c=R.width,v.i=R.height,t(0<v.c&&0<v.i),1>=I)R=0;else if(v.$a=b[P+0]>>0&3,v.Z=b[P+0]>>2&3,v.Lc=b[P+0]>>4&3,P=b[P+0]>>6&3,0>v.$a||1<v.$a||4<=v.Z||1<v.Lc||P)R=0;else if(oe.put=it,oe.ac=ze,oe.bc=ct,oe.ma=v,oe.width=R.width,oe.height=R.height,oe.Da=R.Da,oe.v=R.v,oe.va=R.va,oe.j=R.j,oe.o=R.o,v.$a)e:{t(v.$a==1),R=yr();t:for(;;){if(R==null){R=0;break e}if(t(v!=null),v.mc=R,R.c=v.c,R.i=v.i,R.l=v.l,R.l.ma=v,R.l.width=v.c,R.l.height=v.i,R.a=0,_e(R.m,b,G,W),!vr(v.c,v.i,1,R,null)||(R.ab==1&&R.gc[0].hc==3&&Yt(R.s)?(v.ic=1,b=R.c*R.i,R.Ta=null,R.Ua=0,R.V=a(b),R.Ba=0,R.V==null?(R.a=1,R=0):R=1):(v.ic=0,R=Tr(R,v.c)),!R))break t;R=1;break e}v.mc=null,R=0}else R=W>=v.c*v.i;v=!R}if(v)return null;A.ga.Lc!=1?A.Ga=0:o=p-y}t(A.ga!=null),t(y+o<=p);e:{if(R=(b=A.ga).c,p=b.l.o,b.$a==0){if(G=A.rc,W=A.Vc,oe=A.Fa,P=A.P+1+y*R,I=A.mb,N=A.nb+y*R,t(P<=A.P+A.qc),b.Z!=0)for(t(Vl[b.Z]!=null),v=0;v<o;++v)Vl[b.Z](G,W,oe,P,I,N,R),G=I,W=N,N+=R,P+=R;else for(v=0;v<o;++v)n(I,N,oe,P,R),G=I,W=N,N+=R,P+=R;A.rc=G,A.Vc=W}else{if(t(b.mc!=null),R=y+o,t((v=b.mc)!=null),t(R<=v.i),v.C>=R)R=1;else if(b.ic||xt(),b.ic){b=v.V,G=v.Ba,W=v.c;var le=v.i,ie=(oe=1,P=v.$/W,I=v.$%W,N=v.m,U=v.s,v.$),he=W*le,Te=W*R,Ie=U.wc,De=ie<Te?St(U,I,P):null;t(ie<=he),t(R<=le),t(Yt(U));t:for(;;){for(;!N.h&&ie<Te;){if(I&Ie||(De=St(U,I,P)),t(De!=null),Fe(N),256>(le=Ye(De.G[0],De.H[0],N)))b[G+ie]=le,++ie,++I>=W&&(I=0,++P<=R&&!(P%16)&&Qt(v,P));else{if(!(280>le)){oe=0;break t}le=ve(le-256,N);var Le,Ue=Ye(De.G[4],De.H[4],N);if(Fe(N),!(ie>=(Ue=Be(W,Ue=ve(Ue,N)))&&he-ie>=le)){oe=0;break t}for(Le=0;Le<le;++Le)b[G+ie+Le]=b[G+ie+Le-Ue];for(ie+=le,I+=le;I>=W;)I-=W,++P<=R&&!(P%16)&&Qt(v,P);ie<Te&&I&Ie&&(De=St(U,I,P))}t(N.h==we(N))}Qt(v,P>R?R:P);break t}!oe||N.h&&ie<he?(oe=0,v.a=N.h?5:3):v.$=ie,R=oe}else R=hr(v,v.V,v.Ba,v.c,v.i,R,zr);if(!R){o=0;break e}}y+o>=p&&(A.Cc=1),o=1}if(!o)return null;if(A.Cc&&((o=A.ga)!=null&&(o.mc=null),A.ga=null,0<A.Ga))return alert("todo:WebPDequantizeLevels"),null}return A.nb+y*d}function j(A,R,y,o,d,p){for(;0<d--;){var v,b=A,P=R+(y?1:0),I=A,N=R+(y?0:3);for(v=0;v<o;++v){var U=I[N+4*v];U!=255&&(U*=32897,b[P+4*v+0]=b[P+4*v+0]*U>>23,b[P+4*v+1]=b[P+4*v+1]*U>>23,b[P+4*v+2]=b[P+4*v+2]*U>>23)}R+=p}}function be(A,R,y,o,d){for(;0<o--;){var p;for(p=0;p<y;++p){var v=A[R+2*p+0],b=15&(I=A[R+2*p+1]),P=4369*b,I=(240&I|I>>4)*P>>16;A[R+2*p+0]=(240&v|v>>4)*P>>16&240|(15&v|v<<4)*P>>16>>4&15,A[R+2*p+1]=240&I|b}R+=d}}function qe(A,R,y,o,d,p,v,b){var P,I,N=255;for(I=0;I<d;++I){for(P=0;P<o;++P){var U=A[R+P];p[v+4*P]=U,N&=U}R+=y,v+=b}return N!=255}function ht(A,R,y,o,d){var p;for(p=0;p<d;++p)y[o+p]=A[R+p]>>8}function xt(){go=j,Ni=be,ro=qe,xs=ht}function Nt(A,R,y){Q[A]=function(o,d,p,v,b,P,I,N,U,G,W,oe,le,ie,he,Te,Ie){var De,Le=Ie-1>>1,Ue=b[P+0]|I[N+0]<<16,tt=U[G+0]|W[oe+0]<<16;t(o!=null);var Je=3*Ue+tt+131074>>2;for(R(o[d+0],255&Je,Je>>16,le,ie),p!=null&&(Je=3*tt+Ue+131074>>2,R(p[v+0],255&Je,Je>>16,he,Te)),De=1;De<=Le;++De){var Pt=b[P+De]|I[N+De]<<16,zt=U[G+De]|W[oe+De]<<16,Ht=Ue+Pt+tt+zt+524296,Zt=Ht+2*(Pt+tt)>>3;Je=Zt+Ue>>1,Ue=(Ht=Ht+2*(Ue+zt)>>3)+Pt>>1,R(o[d+2*De-1],255&Je,Je>>16,le,ie+(2*De-1)*y),R(o[d+2*De-0],255&Ue,Ue>>16,le,ie+(2*De-0)*y),p!=null&&(Je=Ht+tt>>1,Ue=Zt+zt>>1,R(p[v+2*De-1],255&Je,Je>>16,he,Te+(2*De-1)*y),R(p[v+2*De+0],255&Ue,Ue>>16,he,Te+(2*De+0)*y)),Ue=Pt,tt=zt}1&Ie||(Je=3*Ue+tt+131074>>2,R(o[d+Ie-1],255&Je,Je>>16,le,ie+(Ie-1)*y),p!=null&&(Je=3*tt+Ue+131074>>2,R(p[v+Ie-1],255&Je,Je>>16,he,Te+(Ie-1)*y)))}}function ir(){vn[gl]=Tp,vn[zl]=pf,vn[vu]=Gy,vn[Hs]=Xm,vn[gd]=Fc,vn[fh]=Pp,vn[Qu]=kp,vn[yd]=pf,vn[Oc]=Xm,vn[vd]=Fc,vn[ph]=Pp}function Pr(A){return A&~Ss?0>A?0:255:A>>Zm}function Yr(A,R){return Pr((19077*A>>8)+(26149*R>>8)-14234)}function fn(A,R,y){return Pr((19077*A>>8)-(6419*R>>8)-(13320*y>>8)+8708)}function pn(A,R){return Pr((19077*A>>8)+(33050*R>>8)-17685)}function mn(A,R,y,o,d){o[d+0]=Yr(A,y),o[d+1]=fn(A,R,y),o[d+2]=pn(A,R)}function Xn(A,R,y,o,d){o[d+0]=pn(A,R),o[d+1]=fn(A,R,y),o[d+2]=Yr(A,y)}function Ai(A,R,y,o,d){var p=fn(A,R,y);R=p<<3&224|pn(A,R)>>3,o[d+0]=248&Yr(A,y)|p>>5,o[d+1]=R}function gn(A,R,y,o,d){var p=240&pn(A,R)|15;o[d+0]=240&Yr(A,y)|fn(A,R,y)>>4,o[d+1]=p}function Yo(A,R,y,o,d){o[d+0]=255,mn(A,R,y,o,d+1)}function qr(A,R,y,o,d){Xn(A,R,y,o,d),o[d+3]=255}function Po(A,R,y,o,d){mn(A,R,y,o,d),o[d+3]=255}function Tn(A,R){return 0>A?0:A>R?R:A}function Fn(A,R,y){Q[A]=function(o,d,p,v,b,P,I,N,U){for(var G=N+(-2&U)*y;N!=G;)R(o[d+0],p[v+0],b[P+0],I,N),R(o[d+1],p[v+0],b[P+0],I,N+y),d+=2,++v,++P,N+=2*y;1&U&&R(o[d+0],p[v+0],b[P+0],I,N)}}function Bs(A,R,y){return y==0?A==0?R==0?6:5:R==0?4:0:y}function fl(A,R,y,o,d){switch(A>>>30){case 3:jo(R,y,o,d,0);break;case 2:_i(R,y,o,d);break;case 1:Ti(R,y,o,d)}}function zs(A,R){var y,o,d=R.M,p=R.Nb,v=A.oc,b=A.pc+40,P=A.oc,I=A.pc+584,N=A.oc,U=A.pc+600;for(y=0;16>y;++y)v[b+32*y-1]=129;for(y=0;8>y;++y)P[I+32*y-1]=129,N[U+32*y-1]=129;for(0<d?v[b-1-32]=P[I-1-32]=N[U-1-32]=129:(i(v,b-32-1,127,21),i(P,I-32-1,127,9),i(N,U-32-1,127,9)),o=0;o<A.za;++o){var G=R.ya[R.aa+o];if(0<o){for(y=-1;16>y;++y)n(v,b+32*y-4,v,b+32*y+12,4);for(y=-1;8>y;++y)n(P,I+32*y-4,P,I+32*y+4,4),n(N,U+32*y-4,N,U+32*y+4,4)}var W=A.Gd,oe=A.Hd+o,le=G.ad,ie=G.Hc;if(0<d&&(n(v,b-32,W[oe].y,0,16),n(P,I-32,W[oe].f,0,8),n(N,U-32,W[oe].ea,0,8)),G.Za){var he=v,Te=b-32+16;for(0<d&&(o>=A.za-1?i(he,Te,W[oe].y[15],4):n(he,Te,W[oe+1].y,0,4)),y=0;4>y;y++)he[Te+128+y]=he[Te+256+y]=he[Te+384+y]=he[Te+0+y];for(y=0;16>y;++y,ie<<=2)he=v,Te=b+vl[y],ws[G.Ob[y]](he,Te),fl(ie,le,16*+y,he,Te)}else if(he=Bs(o,d,G.Ob[0]),yl[he](v,b),ie!=0)for(y=0;16>y;++y,ie<<=2)fl(ie,le,16*+y,v,b+vl[y]);for(y=G.Gc,he=Bs(o,d,G.Dd),Ul[he](P,I),Ul[he](N,U),ie=le,he=P,Te=I,255&(G=y>>0)&&(170&G?li(ie,256,he,Te):Ki(ie,256,he,Te)),G=N,ie=U,255&(y>>=8)&&(170&y?li(le,320,G,ie):Ki(le,320,G,ie)),d<A.Ub-1&&(n(W[oe].y,0,v,b+480,16),n(W[oe].f,0,P,I+224,8),n(W[oe].ea,0,N,U+224,8)),y=8*p*A.B,W=A.sa,oe=A.ta+16*o+16*p*A.R,le=A.qa,G=A.ra+8*o+y,ie=A.Ha,he=A.Ia+8*o+y,y=0;16>y;++y)n(W,oe+y*A.R,v,b+32*y,16);for(y=0;8>y;++y)n(le,G+y*A.B,P,I+32*y,8),n(ie,he+y*A.B,N,U+32*y,8)}}function pl(A,R,y,o,d,p,v,b,P){var I=[0],N=[0],U=0,G=P!=null?P.kd:0,W=P??new gu;if(A==null||12>y)return 7;W.data=A,W.w=R,W.ha=y,R=[R],y=[y],W.gb=[W.gb];e:{var oe=R,le=y,ie=W.gb;if(t(A!=null),t(le!=null),t(ie!=null),ie[0]=0,12<=le[0]&&!r(A,oe[0],"RIFF")){if(r(A,oe[0]+8,"WEBP")){ie=3;break e}var he=Ct(A,oe[0]+4);if(12>he||4294967286<he){ie=3;break e}if(G&&he>le[0]-8){ie=7;break e}ie[0]=he,oe[0]+=12,le[0]-=12}ie=0}if(ie!=0)return ie;for(he=0<W.gb[0],y=y[0];;){e:{var Te=A;le=R,ie=y;var Ie=I,De=N,Le=oe=[0];if((Je=U=[U])[0]=0,8>ie[0])ie=7;else{if(!r(Te,le[0],"VP8X")){if(Ct(Te,le[0]+4)!=10){ie=3;break e}if(18>ie[0]){ie=7;break e}var Ue=Ct(Te,le[0]+8),tt=1+bt(Te,le[0]+12);if(2147483648<=tt*(Te=1+bt(Te,le[0]+15))){ie=3;break e}Le!=null&&(Le[0]=Ue),Ie!=null&&(Ie[0]=tt),De!=null&&(De[0]=Te),le[0]+=18,ie[0]-=18,Je[0]=1}ie=0}}if(U=U[0],oe=oe[0],ie!=0)return ie;if(le=!!(2&oe),!he&&U)return 3;if(p!=null&&(p[0]=!!(16&oe)),v!=null&&(v[0]=le),b!=null&&(b[0]=0),v=I[0],oe=N[0],U&&le&&P==null){ie=0;break}if(4>y){ie=7;break}if(he&&U||!he&&!U&&!r(A,R[0],"ALPH")){y=[y],W.na=[W.na],W.P=[W.P],W.Sa=[W.Sa];e:{Ue=A,ie=R,he=y;var Je=W.gb;Ie=W.na,De=W.P,Le=W.Sa,tt=22,t(Ue!=null),t(he!=null),Te=ie[0];var Pt=he[0];for(t(Ie!=null),t(Le!=null),Ie[0]=null,De[0]=null,Le[0]=0;;){if(ie[0]=Te,he[0]=Pt,8>Pt){ie=7;break e}var zt=Ct(Ue,Te+4);if(4294967286<zt){ie=3;break e}var Ht=8+zt+1&-2;if(tt+=Ht,0<Je&&tt>Je){ie=3;break e}if(!r(Ue,Te,"VP8 ")||!r(Ue,Te,"VP8L")){ie=0;break e}if(Pt[0]<Ht){ie=7;break e}r(Ue,Te,"ALPH")||(Ie[0]=Ue,De[0]=Te+8,Le[0]=zt),Te+=Ht,Pt-=Ht}}if(y=y[0],W.na=W.na[0],W.P=W.P[0],W.Sa=W.Sa[0],ie!=0)break}y=[y],W.Ja=[W.Ja],W.xa=[W.xa];e:if(Je=A,ie=R,he=y,Ie=W.gb[0],De=W.Ja,Le=W.xa,Ue=ie[0],Te=!r(Je,Ue,"VP8 "),tt=!r(Je,Ue,"VP8L"),t(Je!=null),t(he!=null),t(De!=null),t(Le!=null),8>he[0])ie=7;else{if(Te||tt){if(Je=Ct(Je,Ue+4),12<=Ie&&Je>Ie-12){ie=3;break e}if(G&&Je>he[0]-8){ie=7;break e}De[0]=Je,ie[0]+=8,he[0]-=8,Le[0]=tt}else Le[0]=5<=he[0]&&Je[Ue+0]==47&&!(Je[Ue+4]>>5),De[0]=he[0];ie=0}if(y=y[0],W.Ja=W.Ja[0],W.xa=W.xa[0],R=R[0],ie!=0)break;if(4294967286<W.Ja)return 3;if(b==null||le||(b[0]=W.xa?2:1),v=[v],oe=[oe],W.xa){if(5>y){ie=7;break}b=v,G=oe,le=p,A==null||5>y?A=0:5<=y&&A[R+0]==47&&!(A[R+4]>>5)?(he=[0],Je=[0],Ie=[0],_e(De=new ae,A,R,y),pe(De,he,Je,Ie)?(b!=null&&(b[0]=he[0]),G!=null&&(G[0]=Je[0]),le!=null&&(le[0]=Ie[0]),A=1):A=0):A=0}else{if(10>y){ie=7;break}b=oe,A==null||10>y||!Ko(A,R+3,y-3)?A=0:(G=A[R+0]|A[R+1]<<8|A[R+2]<<16,le=16383&(A[R+7]<<8|A[R+6]),A=16383&(A[R+9]<<8|A[R+8]),1&G||3<(G>>1&7)||!(G>>4&1)||G>>5>=W.Ja||!le||!A?A=0:(v&&(v[0]=le),b&&(b[0]=A),A=1))}if(!A||(v=v[0],oe=oe[0],U&&(I[0]!=v||N[0]!=oe)))return 3;P!=null&&(P[0]=W,P.offset=R-P.w,t(4294967286>R-P.w),t(P.offset==P.ha-y));break}return ie==0||ie==7&&U&&P==null?(p!=null&&(p[0]|=W.na!=null&&0<W.na.length),o!=null&&(o[0]=v),d!=null&&(d[0]=oe),0):ie}function Aa(A,R,y){var o=R.width,d=R.height,p=0,v=0,b=o,P=d;if(R.Da=A!=null&&0<A.Da,R.Da&&(b=A.cd,P=A.bd,p=A.v,v=A.j,11>y||(p&=-2,v&=-2),0>p||0>v||0>=b||0>=P||p+b>o||v+P>d))return 0;if(R.v=p,R.j=v,R.va=p+b,R.o=v+P,R.U=b,R.T=P,R.da=A!=null&&0<A.da,R.da){if(!ur(b,P,y=[A.ib],p=[A.hb]))return 0;R.ib=y[0],R.hb=p[0]}return R.ob=A!=null&&A.ob,R.Kb=A==null||!A.Sd,R.da&&(R.ob=R.ib<3*o/4&&R.hb<3*d/4,R.Kb=0),1}function da(A){if(A==null)return 2;if(11>A.S){var R=A.f.RGBA;R.fb+=(A.height-1)*R.A,R.A=-R.A}else R=A.f.kb,A=A.height,R.O+=(A-1)*R.fa,R.fa=-R.fa,R.N+=(A-1>>1)*R.Ab,R.Ab=-R.Ab,R.W+=(A-1>>1)*R.Db,R.Db=-R.Db,R.F!=null&&(R.J+=(A-1)*R.lb,R.lb=-R.lb);return 0}function Bo(A,R,y,o){if(o==null||0>=A||0>=R)return 2;if(y!=null){if(y.Da){var d=y.cd,p=y.bd,v=-2&y.v,b=-2&y.j;if(0>v||0>b||0>=d||0>=p||v+d>A||b+p>R)return 2;A=d,R=p}if(y.da){if(!ur(A,R,d=[y.ib],p=[y.hb]))return 2;A=d[0],R=p[0]}}o.width=A,o.height=R;e:{var P=o.width,I=o.height;if(A=o.S,0>=P||0>=I||!(A>=gl&&13>A))A=2;else{if(0>=o.Rd&&o.sd==null){v=p=d=R=0;var N=(b=P*xh[A])*I;if(11>A||(p=(I+1)/2*(R=(P+1)/2),A==12&&(v=(d=P)*I)),(I=a(N+2*p+v))==null){A=1;break e}o.sd=I,11>A?((P=o.f.RGBA).eb=I,P.fb=0,P.A=b,P.size=N):((P=o.f.kb).y=I,P.O=0,P.fa=b,P.Fd=N,P.f=I,P.N=0+N,P.Ab=R,P.Cd=p,P.ea=I,P.W=0+N+p,P.Db=R,P.Ed=p,A==12&&(P.F=I,P.J=0+N+2*p),P.Tc=v,P.lb=d)}if(R=1,d=o.S,p=o.width,v=o.height,d>=gl&&13>d)if(11>d)A=o.f.RGBA,R&=(b=Math.abs(A.A))*(v-1)+p<=A.size,R&=b>=p*xh[d],R&=A.eb!=null;else{A=o.f.kb,b=(p+1)/2,N=(v+1)/2,P=Math.abs(A.fa),I=Math.abs(A.Ab);var U=Math.abs(A.Db),G=Math.abs(A.lb),W=G*(v-1)+p;R&=P*(v-1)+p<=A.Fd,R&=I*(N-1)+b<=A.Cd,R=(R&=U*(N-1)+b<=A.Ed)&P>=p&I>=b&U>=b,R&=A.y!=null,R&=A.f!=null,R&=A.ea!=null,d==12&&(R&=G>=p,R&=W<=A.Tc,R&=A.F!=null)}else R=0;A=R?0:2}}return A!=0||y!=null&&y.fd&&(A=da(o)),A}var Oi=64,$l=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ta=24,Ha=32,ml=8,to=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Mt("Predictor0","PredictorAdd0"),Q.Predictor0=function(){return 4278190080},Q.Predictor1=function(A){return A},Q.Predictor2=function(A,R,y){return R[y+0]},Q.Predictor3=function(A,R,y){return R[y+1]},Q.Predictor4=function(A,R,y){return R[y-1]},Q.Predictor5=function(A,R,y){return Gt(Gt(A,R[y+1]),R[y+0])},Q.Predictor6=function(A,R,y){return Gt(A,R[y-1])},Q.Predictor7=function(A,R,y){return Gt(A,R[y+0])},Q.Predictor8=function(A,R,y){return Gt(R[y-1],R[y+0])},Q.Predictor9=function(A,R,y){return Gt(R[y+0],R[y+1])},Q.Predictor10=function(A,R,y){return Gt(Gt(A,R[y-1]),Gt(R[y+0],R[y+1]))},Q.Predictor11=function(A,R,y){var o=R[y+0];return 0>=_r(o>>24&255,A>>24&255,(R=R[y-1])>>24&255)+_r(o>>16&255,A>>16&255,R>>16&255)+_r(o>>8&255,A>>8&255,R>>8&255)+_r(255&o,255&A,255&R)?o:A},Q.Predictor12=function(A,R,y){var o=R[y+0];return(Lt((A>>24&255)+(o>>24&255)-((R=R[y-1])>>24&255))<<24|Lt((A>>16&255)+(o>>16&255)-(R>>16&255))<<16|Lt((A>>8&255)+(o>>8&255)-(R>>8&255))<<8|Lt((255&A)+(255&o)-(255&R)))>>>0},Q.Predictor13=function(A,R,y){var o=R[y-1];return(Jt((A=Gt(A,R[y+0]))>>24&255,o>>24&255)<<24|Jt(A>>16&255,o>>16&255)<<16|Jt(A>>8&255,o>>8&255)<<8|Jt(A>>0&255,o>>0&255))>>>0};var js=Q.PredictorAdd0;Q.PredictorAdd1=Cr,Mt("Predictor2","PredictorAdd2"),Mt("Predictor3","PredictorAdd3"),Mt("Predictor4","PredictorAdd4"),Mt("Predictor5","PredictorAdd5"),Mt("Predictor6","PredictorAdd6"),Mt("Predictor7","PredictorAdd7"),Mt("Predictor8","PredictorAdd8"),Mt("Predictor9","PredictorAdd9"),Mt("Predictor10","PredictorAdd10"),Mt("Predictor11","PredictorAdd11"),Mt("Predictor12","PredictorAdd12"),Mt("Predictor13","PredictorAdd13");var Us=Q.PredictorAdd2;Ft("ColorIndexInverseTransform","MapARGB","32b",function(A){return A>>8&255},function(A){return A}),Ft("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(A){return A},function(A){return A>>8&255});var Bl,zo=Q.ColorIndexInverseTransform,Pa=Q.MapARGB,Rc=Q.VP8LColorIndexInverseTransformAlpha,Dc=Q.MapAlpha,at=Q.VP8LPredictorsAdd=[];at.length=16,(Q.VP8LPredictors=[]).length=16,(Q.VP8LPredictorsAdd_C=[]).length=16,(Q.VP8LPredictors_C=[]).length=16;var Tt,lr,$r,Dn,bn,ti,Zn,jo,_i,li,Ti,Ki,wi,Jo,Uo,ha,Wa,mo,ns,Si,gi,ln,cn,Qo,go,Ni,ro,xs,Vs=a(511),yi=a(2041),fa=a(225),yo=a(767),is=0,Ju=yi,qs=fa,lo=yo,Fi=Vs,gl=0,zl=1,vu=2,Hs=3,gd=4,fh=5,Qu=6,yd=7,Oc=8,vd=9,ph=10,wp=[2,3,7],Sp=[3,3,11],mh=[280,256,256,256,40],bd=[0,1,1,1,0],Gm=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ws=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],jl=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Cp=8,_s=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],bu=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],gh=null,Wy=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Km=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ep=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ap=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],xd=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Gs=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],kr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],yl=[],ws=[],Ul=[],_d=1,Nc=2,Vl=[],vn=[];Nt("UpsampleRgbLinePair",mn,3),Nt("UpsampleBgrLinePair",Xn,3),Nt("UpsampleRgbaLinePair",Po,4),Nt("UpsampleBgraLinePair",qr,4),Nt("UpsampleArgbLinePair",Yo,4),Nt("UpsampleRgba4444LinePair",gn,2),Nt("UpsampleRgb565LinePair",Ai,2);var Tp=Q.UpsampleRgbLinePair,Gy=Q.UpsampleBgrLinePair,pf=Q.UpsampleRgbaLinePair,Xm=Q.UpsampleBgraLinePair,Fc=Q.UpsampleArgbLinePair,Pp=Q.UpsampleRgba4444LinePair,kp=Q.UpsampleRgb565LinePair,yh=16,mf=1<<yh-1,$c=-227,Ip=482,Zm=6,Ss=(256<<Zm)-1,Pi=0,wd=a(256),gf=a(256),yf=a(256),Ym=a(256),vh=a(Ip-$c),bh=a(Ip-$c);Fn("YuvToRgbRow",mn,3),Fn("YuvToBgrRow",Xn,3),Fn("YuvToRgbaRow",Po,4),Fn("YuvToBgraRow",qr,4),Fn("YuvToArgbRow",Yo,4),Fn("YuvToRgba4444Row",gn,2),Fn("YuvToRgb565Row",Ai,2);var vl=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ec=[0,2,8],Fr=[8,7,6,4,4,2,2,2,1,1,1,1],Qr=1;this.WebPDecodeRGBA=function(A,R,y,o,d){var p=zl,v=new qa,b=new hi;v.ba=b,b.S=p,b.width=[b.width],b.height=[b.height];var P=b.width,I=b.height,N=new Vn;if(N==null||A==null)var U=2;else t(N!=null),U=pl(A,R,y,N.width,N.height,N.Pd,N.Qd,N.format,null);if(U!=0?P=0:(P!=null&&(P[0]=N.width[0]),I!=null&&(I[0]=N.height[0]),P=1),P){b.width=b.width[0],b.height=b.height[0],o!=null&&(o[0]=b.width),d!=null&&(d[0]=b.height);e:{if(o=new Rn,(d=new gu).data=A,d.w=R,d.ha=y,d.kd=1,R=[0],t(d!=null),((A=pl(d.data,d.w,d.ha,null,null,null,R,null,d))==0||A==7)&&R[0]&&(A=4),(R=A)==0){if(t(v!=null),o.data=d.data,o.w=d.w+d.offset,o.ha=d.ha-d.offset,o.put=it,o.ac=ze,o.bc=ct,o.ma=v,d.xa){if((A=yr())==null){v=1;break e}if(function(G,W){var oe=[0],le=[0],ie=[0];t:for(;;){if(G==null)return 0;if(W==null)return G.a=2,0;if(G.l=W,G.a=0,_e(G.m,W.data,W.w,W.ha),!pe(G.m,oe,le,ie)){G.a=3;break t}if(G.xb=Nc,W.width=oe[0],W.height=le[0],!vr(oe[0],le[0],1,G,null))break t;return 1}return t(G.a!=0),0}(A,o)){if(o=(R=Bo(o.width,o.height,v.Oa,v.ba))==0){t:{o=A;r:for(;;){if(o==null){o=0;break t}if(t(o.s.yc!=null),t(o.s.Ya!=null),t(0<o.s.Wb),t((y=o.l)!=null),t((d=y.ma)!=null),o.xb!=0){if(o.ca=d.ba,o.tb=d.tb,t(o.ca!=null),!Aa(d.Oa,y,Hs)){o.a=2;break r}if(!Tr(o,y.width)||y.da)break r;if((y.da||nr(o.ca.S))&&xt(),11>o.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),o.ca.f.kb.F!=null&&xt()),o.Pb&&0<o.s.ua&&o.s.vb.X==null&&!Et(o.s.vb,o.s.Wa.Xa)){o.a=1;break r}o.xb=0}if(!hr(o,o.V,o.Ba,o.c,o.i,y.o,Ot))break r;d.Dc=o.Ma,o=1;break t}t(o.a!=0),o=0}o=!o}o&&(R=A.a)}else R=A.a}else{if((A=new zn)==null){v=1;break e}if(A.Fa=d.na,A.P=d.P,A.qc=d.Sa,Li(A,o)){if((R=Bo(o.width,o.height,v.Oa,v.ba))==0){if(A.Aa=0,y=v.Oa,t((d=A)!=null),y!=null){if(0<(P=0>(P=y.Md)?0:100<P?255:255*P/100)){for(I=N=0;4>I;++I)12>(U=d.pb[I]).lc&&(U.ia=P*Fr[0>U.lc?0:U.lc]>>3),N|=U.ia;N&&(alert("todo:VP8InitRandom"),d.ia=1)}d.Ga=y.Id,100<d.Ga?d.Ga=100:0>d.Ga&&(d.Ga=0)}hu(A,o)||(R=A.a)}}else R=A.a}R==0&&v.Oa!=null&&v.Oa.fd&&(R=da(v.ba))}v=R}p=v!=0?null:11>p?b.f.RGBA.eb:b.f.kb.y}else p=null;return p};var xh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function m(Q,ge){for(var Y="",Z=0;Z<4;Z++)Y+=String.fromCharCode(Q[ge++]);return Y}function x(Q,ge){return(Q[ge+0]<<0|Q[ge+1]<<8|Q[ge+2]<<16)>>>0}function w(Q,ge){return(Q[ge+0]<<0|Q[ge+1]<<8|Q[ge+2]<<16|Q[ge+3]<<24)>>>0}new f;var S=[0],C=[0],L=[],k=new f,$=e,M=function(Q,ge){var Y={},Z=0,re=!1,ye=0,fe=0;if(Y.frames=[],!function(me,we,Re,Fe){for(var rt=0;rt<Fe;rt++)if(me[we+rt]!=Re.charCodeAt(rt))return!0;return!1}(Q,ge,"RIFF",4)){var Ae,ke;for(w(Q,ge+=4),ge+=8;ge<Q.length;){var Oe=m(Q,ge),_e=w(Q,ge+=4);ge+=4;var Ne=_e+(1&_e);switch(Oe){case"VP8 ":case"VP8L":Y.frames[Z]===void 0&&(Y.frames[Z]={}),(ae=Y.frames[Z]).src_off=re?fe:ge-8,ae.src_size=ye+_e+8,Z++,re&&(re=!1,ye=0,fe=0);break;case"VP8X":(ae=Y.header={}).feature_flags=Q[ge];var Ke=ge+4;ae.canvas_width=1+x(Q,Ke),Ke+=3,ae.canvas_height=1+x(Q,Ke),Ke+=3;break;case"ALPH":re=!0,ye=Ne+8,fe=ge-8;break;case"ANIM":(ae=Y.header).bgcolor=w(Q,ge),Ke=ge+4,ae.loop_count=(Ae=Q)[(ke=Ke)+0]<<0|Ae[ke+1]<<8,Ke+=2;break;case"ANMF":var pt,ae;(ae=Y.frames[Z]={}).offset_x=2*x(Q,ge),ge+=3,ae.offset_y=2*x(Q,ge),ge+=3,ae.width=1+x(Q,ge),ge+=3,ae.height=1+x(Q,ge),ge+=3,ae.duration=x(Q,ge),ge+=3,pt=Q[ge++],ae.dispose=1&pt,ae.blend=pt>>1&1}Oe!="ANMF"&&(ge+=Ne)}return Y}}($,0);M.response=$,M.rgbaoutput=!0,M.dataurl=!1;var z=M.header?M.header:null,B=M.frames?M.frames:null;if(z){z.loop_counter=z.loop_count,S=[z.canvas_height],C=[z.canvas_width];for(var q=0;q<B.length&&B[q].blend!=0;q++);}var te=B[0],K=k.WebPDecodeRGBA($,te.src_off,te.src_size,C,S);te.rgba=K,te.imgwidth=C[0],te.imgheight=S[0];for(var ee=0;ee<C[0]*S[0]*4;ee++)L[ee]=K[ee];return this.width=C,this.height=S,this.data=L,this}(function(e){var t=function(){return typeof dA=="function"},r=function(S,C,L,k){var $=4,M=u;switch(k){case e.image_compression.FAST:$=1,M=a;break;case e.image_compression.MEDIUM:$=6,M=s;break;case e.image_compression.SLOW:$=9,M=f}S=n(S,C,L,M);var z=dA(S,{level:$});return e.__addimage__.arrayBufferToBinaryString(z)},n=function(S,C,L,k){for(var $,M,z,B=S.length/C,q=new Uint8Array(S.length+B),te=x(),K=0;K<B;K+=1){if(z=K*C,$=S.subarray(z,z+C),k)q.set(k($,L,M),z+K);else{for(var ee,Q=te.length,ge=[];ee<Q;ee+=1)ge[ee]=te[ee]($,L,M);var Y=w(ge.concat());q.set(ge[Y],z+K)}M=$}return q},i=function(S){var C=Array.apply([],S);return C.unshift(0),C},a=function(S,C){var L,k=[],$=S.length;k[0]=1;for(var M=0;M<$;M+=1)L=S[M-C]||0,k[M+1]=S[M]-L+256&255;return k},u=function(S,C,L){var k,$=[],M=S.length;$[0]=2;for(var z=0;z<M;z+=1)k=L&&L[z]||0,$[z+1]=S[z]-k+256&255;return $},s=function(S,C,L){var k,$,M=[],z=S.length;M[0]=3;for(var B=0;B<z;B+=1)k=S[B-C]||0,$=L&&L[B]||0,M[B+1]=S[B]+256-(k+$>>>1)&255;return M},f=function(S,C,L){var k,$,M,z,B=[],q=S.length;B[0]=4;for(var te=0;te<q;te+=1)k=S[te-C]||0,$=L&&L[te]||0,M=L&&L[te-C]||0,z=m(k,$,M),B[te+1]=S[te]-z+256&255;return B},m=function(S,C,L){if(S===C&&C===L)return S;var k=Math.abs(C-L),$=Math.abs(S-L),M=Math.abs(S+C-L-L);return k<=$&&k<=M?S:$<=M?C:L},x=function(){return[i,a,u,s,f]},w=function(S){var C=S.map(function(L){return L.reduce(function(k,$){return k+Math.abs($)},0)});return C.indexOf(Math.min.apply(null,C))};e.processPNG=function(S,C,L,k){var $,M,z,B,q,te,K,ee,Q,ge,Y,Z,re,ye,fe,Ae=this.decode.FLATE_DECODE,ke="";if(this.__addimage__.isArrayBuffer(S)&&(S=new Uint8Array(S)),this.__addimage__.isArrayBufferView(S)){if(S=(z=new _oe(S)).imgData,M=z.bits,$=z.colorSpace,q=z.colors,[4,6].indexOf(z.colorType)!==-1){if(z.bits===8){Q=(ee=z.pixelBitlength==32?new Uint32Array(z.decodePixels().buffer):z.pixelBitlength==16?new Uint16Array(z.decodePixels().buffer):new Uint8Array(z.decodePixels().buffer)).length,Y=new Uint8Array(Q*z.colors),ge=new Uint8Array(Q);var Oe,_e=z.pixelBitlength-z.bits;for(ye=0,fe=0;ye<Q;ye++){for(re=ee[ye],Oe=0;Oe<_e;)Y[fe++]=re>>>Oe&255,Oe+=z.bits;ge[ye]=re>>>Oe&255}}if(z.bits===16){Q=(ee=new Uint32Array(z.decodePixels().buffer)).length,Y=new Uint8Array(Q*(32/z.pixelBitlength)*z.colors),ge=new Uint8Array(Q*(32/z.pixelBitlength)),Z=z.colors>1,ye=0,fe=0;for(var Ne=0;ye<Q;)re=ee[ye++],Y[fe++]=re>>>0&255,Z&&(Y[fe++]=re>>>16&255,re=ee[ye++],Y[fe++]=re>>>0&255),ge[Ne++]=re>>>16&255;M=8}k!==e.image_compression.NONE&&t()?(S=r(Y,z.width*z.colors,z.colors,k),K=r(ge,z.width,1,k)):(S=Y,K=ge,Ae=void 0)}if(z.colorType===3&&($=this.color_spaces.INDEXED,te=z.palette,z.transparency.indexed)){var Ke=z.transparency.indexed,pt=0;for(ye=0,Q=Ke.length;ye<Q;++ye)pt+=Ke[ye];if((pt/=255)===Q-1&&Ke.indexOf(0)!==-1)B=[Ke.indexOf(0)];else if(pt!==Q){for(ee=z.decodePixels(),ge=new Uint8Array(ee.length),ye=0,Q=ee.length;ye<Q;ye++)ge[ye]=Ke[ee[ye]];K=r(ge,z.width,1)}}var ae=function(me){var we;switch(me){case e.image_compression.FAST:we=11;break;case e.image_compression.MEDIUM:we=13;break;case e.image_compression.SLOW:we=14;break;default:we=12}return we}(k);return Ae===this.decode.FLATE_DECODE&&(ke="/Predictor "+ae+" "),ke+="/Colors "+q+" /BitsPerComponent "+M+" /Columns "+z.width,(this.__addimage__.isArrayBuffer(S)||this.__addimage__.isArrayBufferView(S))&&(S=this.__addimage__.arrayBufferToBinaryString(S)),(K&&this.__addimage__.isArrayBuffer(K)||this.__addimage__.isArrayBufferView(K))&&(K=this.__addimage__.arrayBufferToBinaryString(K)),{alias:L,data:S,index:C,filter:Ae,decodeParameters:ke,transparency:B,palette:te,sMask:K,predictor:ae,width:z.width,height:z.height,bitsPerComponent:M,colorSpace:$}}}})(wn.API),function(e){e.processGIF89A=function(t,r,n,i){var a=new woe(t),u=a.width,s=a.height,f=[];a.decodeAndBlitFrameRGBA(0,f);var m={data:f,width:u,height:s},x=new x3(100).encode(m,100);return e.processJPEG.call(this,x,r,n,i)},e.processGIF87A=e.processGIF89A}(wn.API),qc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},qc.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){ao.log("bit decode error:"+r)}},qc.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),u=n*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var f=this.palette[a>>7-s&1];this.data[u+4*s]=f.blue,this.data[u+4*s+1]=f.green,this.data[u+4*s+2]=f.red,this.data[u+4*s+3]=255}r!==0&&(this.pos+=4-r)}},qc.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),u=n*this.width*4+2*i*4,s=a>>4,f=15&a,m=this.palette[s];if(this.data[u]=m.blue,this.data[u+1]=m.green,this.data[u+2]=m.red,this.data[u+3]=255,2*i+1>=this.width)break;m=this.palette[f],this.data[u+4]=m.blue,this.data[u+4+1]=m.green,this.data[u+4+2]=m.red,this.data[u+4+3]=255}t!==0&&(this.pos+=4-t)}},qc.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var u=this.palette[i];this.data[a]=u.red,this.data[a+1]=u.green,this.data[a+2]=u.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},qc.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(a&t)/t*255|0,s=(a>>5&t)/t*255|0,f=(a>>10&t)/t*255|0,m=a>>15?255:0,x=n*this.width*4+4*i;this.data[x]=f,this.data[x+1]=s,this.data[x+2]=u,this.data[x+3]=m}this.pos+=e}},qc.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(u&t)/t*255|0,f=(u>>5&r)/r*255|0,m=(u>>11)/t*255|0,x=i*this.width*4+4*a;this.data[x]=m,this.data[x+1]=f,this.data[x+2]=s,this.data[x+3]=255}this.pos+=e}},qc.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*r;this.data[u]=a,this.data[u+1]=i,this.data[u+2]=n,this.data[u+3]=255}this.pos+=this.width%4}},qc.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=u}},qc.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,i){var a=new qc(t,!1),u=a.width,s=a.height,f={data:a.getData(),width:u,height:s},m=new x3(100).encode(f,100);return e.processJPEG.call(this,m,r,n,i)}}(wn.API),FR.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,i){var a=new FR(t),u=a.width,s=a.height,f={data:a.getData(),width:u,height:s},m=new x3(100).encode(f,100);return e.processJPEG.call(this,m,r,n,i)}}(wn.API),wn.API.processRGBA=function(e,t,r){for(var n=e.data,i=n.length,a=new Uint8Array(i/4*3),u=new Uint8Array(i/4),s=0,f=0,m=0;m<i;m+=4){var x=n[m],w=n[m+1],S=n[m+2],C=n[m+3];a[s++]=x,a[s++]=w,a[s++]=S,u[f++]=C}var L=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:L,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},wn.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Pg=wn.API,mx=Pg.getCharWidthsArray=function(e,t){var r,n,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),u=t.charSpace||this.internal.getCharSpace(),s=t.widths?t.widths:i.metadata.Unicode.widths,f=s.fof?s.fof:1,m=t.kerning?t.kerning:i.metadata.Unicode.kerning,x=m.fof?m.fof:1,w=t.doKerning!==!1,S=0,C=e.length,L=0,k=s[0]||f,$=[];for(r=0;r<C;r++)n=e.charCodeAt(r),typeof i.metadata.widthOfString=="function"?$.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+u*(1e3/a)||0)/1e3):(S=w&&Ui(m[n])==="object"&&!isNaN(parseInt(m[n][L],10))?m[n][L]/x:0,$.push((s[n]||k)/f+S)),L=n;return $},RR=Pg.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Pg.processArabic&&(e=Pg.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,i)/r:mx.apply(this,arguments).reduce(function(a,u){return a+u},0)},DR=function(e,t,r,n){for(var i=[],a=0,u=e.length,s=0;a!==u&&s+t[a]<r;)s+=t[a],a++;i.push(e.slice(0,a));var f=a;for(s=0;a!==u;)s+t[a]>n&&(i.push(e.slice(f,a)),s=0,f=a),s+=t[a],a++;return f!==a&&i.push(e.slice(f,a)),i},OR=function(e,t,r){r||(r={});var n,i,a,u,s,f,m,x=[],w=[x],S=r.textIndent||0,C=0,L=0,k=e.split(" "),$=mx.apply(this,[" ",r])[0];if(f=r.lineIndent===-1?k[0].length+2:r.lineIndent||0){var M=Array(f).join(" "),z=[];k.map(function(q){(q=q.split(/\s*\n/)).length>1?z=z.concat(q.map(function(te,K){return(K&&te.length?`
`:"")+te})):z.push(q[0])}),k=z,f=RR.apply(this,[M,r])}for(a=0,u=k.length;a<u;a++){var B=0;if(n=k[a],f&&n[0]==`
`&&(n=n.substr(1),B=1),S+C+(L=(i=mx.apply(this,[n,r])).reduce(function(q,te){return q+te},0))>t||B){if(L>t){for(s=DR.apply(this,[n,i,t-(S+C),t]),x.push(s.shift()),x=[s.pop()];s.length;)w.push([s.shift()]);L=i.slice(n.length-(x[0]?x[0].length:0)).reduce(function(q,te){return q+te},0)}else x=[n];w.push(x),S=L+f,C=$}else x.push(n),S+=C+L,C=$}return m=f?function(q,te){return(te?M:"")+q.join(" ")}:function(q){return q.join(" ")},w.map(m)},Pg.splitTextToSize=function(e,t,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(x){if(x.widths&&x.kerning)return{widths:x.widths,kerning:x.kerning};var w=this.internal.getFont(x.fontName,x.fontStyle);return w.metadata.Unicode?{widths:w.metadata.Unicode.widths||{0:1},kerning:w.metadata.Unicode.kerning||{}}:{font:w.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var u=1*this.internal.scaleFactor*t/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var s,f,m=[];for(s=0,f=n.length;s<f;s++)m=m.concat(OR.apply(this,[n[s],u,a]));return m},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},i=0;i<t.length;i++)r[t[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=t[i];var a=function(w){return"0x"+parseInt(w,10).toString(16)},u=e.__fontmetrics__.compress=function(w){var S,C,L,k,$=["{"];for(var M in w){if(S=w[M],isNaN(parseInt(M,10))?C="'"+M+"'":(M=parseInt(M,10),C=(C=a(M).slice(2)).slice(0,-1)+n[C.slice(-1)]),typeof S=="number")S<0?(L=a(S).slice(3),k="-"):(L=a(S).slice(2),k=""),L=k+L.slice(0,-1)+n[L.slice(-1)];else{if(Ui(S)!=="object")throw new Error("Don't know what to do with value type "+Ui(S)+".");L=u(S)}$.push(C+L)}return $.push("}"),$.join("")},s=e.__fontmetrics__.uncompress=function(w){if(typeof w!="string")throw new Error("Invalid argument passed to uncompress.");for(var S,C,L,k,$={},M=1,z=$,B=[],q="",te="",K=w.length-1,ee=1;ee<K;ee+=1)(k=w[ee])=="'"?S?(L=S.join(""),S=void 0):S=[]:S?S.push(k):k=="{"?(B.push([z,L]),z={},L=void 0):k=="}"?((C=B.pop())[0][C[1]]=z,L=void 0,z=C[0]):k=="-"?M=-1:L===void 0?r.hasOwnProperty(k)?(q+=r[k],L=parseInt(q,16)*M,M=1,q=""):q+=k:r.hasOwnProperty(k)?(te+=r[k],z[L]=parseInt(te,16)*M,M=1,L=void 0,te=""):te+=k;return $},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:s("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},m={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},x={Unicode:{"Courier-Oblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":s("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":s("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:s("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:s("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":s("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":s("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(w){var S=w.font,C=x.Unicode[S.postScriptName];C&&(S.metadata.Unicode={},S.metadata.Unicode.widths=C.widths,S.metadata.Unicode.kerning=C.kerning);var L=m.Unicode[S.postScriptName];L&&(S.metadata.Unicode.encoding=L,S.encoding=L.codePages[0])}])}(wn.API),function(e){var t=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};e.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(u,s){s=/^\x00\x01\x00\x00/.test(s)?t(s):t(R1(s)),u.metadata=e.API.TTFFont.open(s),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(i,n)}}])}(wn),function(e){function t(){return(_n.canvg?Promise.resolve(_n.canvg):oA(()=>import("./index.es-Bc-GfdWv.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}wn.API.addSvgAsImage=function(r,n,i,a,u,s,f,m){if(isNaN(n)||isNaN(i))throw ao.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(u))throw ao.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var x=document.createElement("canvas");x.width=a,x.height=u;var w=x.getContext("2d");w.fillStyle="#fff",w.fillRect(0,0,x.width,x.height);var S={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},C=this;return t().then(function(L){return L.fromString(w,r,S)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(L){return L.render(S)}).then(function(){C.addImage(x.toDataURL("image/jpeg",1),n,i,a,u,f,m)})}}(),wn.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,r);return this},wn.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,i,a,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(u),f=[],m=0,x=0,w=0;function S(L,k){var $,M=!1;for($=0;$<L.length;$+=1)L[$]===k&&(M=!0);return M}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var C=s.length;for(w=0;w<C;w+=1)r[s[w]].value=r[s[w]].defaultValue,r[s[w]].explicitSet=!1}if(Ui(e)==="object"){for(i in e)if(a=e[i],S(s,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&S(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(m=0;m<a.length;m+=1)if(n=!0,a[m].length===1&&typeof a[m][0]=="number")f.push(String(a[m]-1));else if(a[m].length>1){for(x=0;x<a[m].length;x+=1)typeof a[m][x]!="number"&&(n=!1);n===!0&&f.push([a[m][0]-1,a[m][1]-1].join(" "))}r[i].value="["+f.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var L,k=[];for(L in r)r[L].explicitSet===!0&&(r[L].type==="name"?k.push("/"+L+" /"+r[L].value):k.push("/"+L+" "+r[L].value));k.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+k.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),u=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),m=a.length+u.length+s.length+i.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+m+" >>"),this.internal.write("stream"),this.internal.write(i+a+u+s+f),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(wn.API),function(e){var t=e.API,r=t.pdfEscape16=function(a,u){for(var s,f=u.metadata.Unicode.widths,m=["","0","00","000","0000"],x=[""],w=0,S=a.length;w<S;++w){if(s=u.metadata.characterToGlyph(a.charCodeAt(w)),u.metadata.glyIdsUsed.push(s),u.metadata.toUnicode[s]=a.charCodeAt(w),f.indexOf(s)==-1&&(f.push(s),f.push([parseInt(u.metadata.widthOfGlyph(s),10)])),s=="0")return x.join("");s=s.toString(16),x.push(m[4-s.length],s)}return x.join("")},n=function(a){var u,s,f,m,x,w,S;for(x=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],w=0,S=(s=Object.keys(a).sort(function(C,L){return C-L})).length;w<S;w++)u=s[w],f.length>=100&&(x+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),a[u]!==void 0&&a[u]!==null&&typeof a[u].toString=="function"&&(m=("0000"+a[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),f.push("<"+u+"><"+m+">"));return f.length&&(x+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),x+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(u){var s=u.font,f=u.out,m=u.newObject,x=u.putStream;if(s.metadata instanceof e.API.TTFFont&&s.encoding==="Identity-H"){for(var w=s.metadata.Unicode.widths,S=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),C="",L=0;L<S.length;L++)C+=String.fromCharCode(S[L]);var k=m();x({data:C,addLength1:!0,objectId:k}),f("endobj");var $=m();x({data:n(s.metadata.toUnicode),addLength1:!0,objectId:$}),f("endobj");var M=m();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+qg(s.fontName)),f("/FontFile2 "+k+" 0 R"),f("/FontBBox "+e.API.PDFObject.convert(s.metadata.bbox)),f("/Flags "+s.metadata.flags),f("/StemV "+s.metadata.stemV),f("/ItalicAngle "+s.metadata.italicAngle),f("/Ascent "+s.metadata.ascender),f("/Descent "+s.metadata.decender),f("/CapHeight "+s.metadata.capHeight),f(">>"),f("endobj");var z=m();f("<<"),f("/Type /Font"),f("/BaseFont /"+qg(s.fontName)),f("/FontDescriptor "+M+" 0 R"),f("/W "+e.API.PDFObject.convert(w)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+s.encoding+")"),f(">>"),f(">>"),f("endobj"),s.objectNumber=m(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+$+" 0 R"),f("/BaseFont /"+qg(s.fontName)),f("/Encoding /"+s.encoding),f("/DescendantFonts ["+z+" 0 R]"),f(">>"),f("endobj"),s.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(u){var s=u.font,f=u.out,m=u.newObject,x=u.putStream;if(s.metadata instanceof e.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var w=s.metadata.rawData,S="",C=0;C<w.length;C++)S+=String.fromCharCode(w[C]);var L=m();x({data:S,addLength1:!0,objectId:L}),f("endobj");var k=m();x({data:n(s.metadata.toUnicode),addLength1:!0,objectId:k}),f("endobj");var $=m();f("<<"),f("/Descent "+s.metadata.decender),f("/CapHeight "+s.metadata.capHeight),f("/StemV "+s.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+L+" 0 R"),f("/Flags 96"),f("/FontBBox "+e.API.PDFObject.convert(s.metadata.bbox)),f("/FontName /"+qg(s.fontName)),f("/ItalicAngle "+s.metadata.italicAngle),f("/Ascent "+s.metadata.ascender),f(">>"),f("endobj"),s.objectNumber=m();for(var M=0;M<s.metadata.hmtx.widths.length;M++)s.metadata.hmtx.widths[M]=parseInt(s.metadata.hmtx.widths[M]*(1e3/s.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+k+" 0 R/BaseFont/"+qg(s.fontName)+"/FontDescriptor "+$+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),f("endobj"),s.isAlreadyPutted=!0}})(a)}]);var i=function(a){var u,s=a.text||"",f=a.x,m=a.y,x=a.options||{},w=a.mutex||{},S=w.pdfEscape,C=w.activeFontKey,L=w.fonts,k=C,$="",M=0,z="",B=L[k].encoding;if(L[k].encoding!=="Identity-H")return{text:s,x:f,y:m,options:x,mutex:w};for(z=s,k=C,Array.isArray(s)&&(z=s[0]),M=0;M<z.length;M+=1)L[k].metadata.hasOwnProperty("cmap")&&(u=L[k].metadata.cmap.unicode.codeMap[z[M].charCodeAt(0)]),u||z[M].charCodeAt(0)<256&&L[k].metadata.hasOwnProperty("Unicode")?$+=z[M]:$+="";var q="";return parseInt(k.slice(1))<14||B==="WinAnsiEncoding"?q=S($,k).split("").map(function(te){return te.charCodeAt(0).toString(16)}).join(""):B==="Identity-H"&&(q=r($,L[k])),w.isHex=!0,{text:q,x:f,y:m,options:x,mutex:w}};t.events.push(["postProcessText",function(a){var u=a.text||"",s=[],f={text:u,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(u)){var m=0;for(m=0;m<u.length;m+=1)Array.isArray(u[m])&&u[m].length===3?s.push([i(Object.assign({},f,{text:u[m][0]})).text,u[m][1],u[m][2]]):s.push(i(Object.assign({},f,{text:u[m]})).text);a.text=s}else a.text=i(Object.assign({},f,{text:u})).text}])}(wn),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(wn.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var i,a,u,s,f,m,x,w=t,S=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],C=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],L={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},k={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},$=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],M=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),z=!1,B=0;this.__bidiEngine__={};var q=function(Z){var re=Z.charCodeAt(),ye=re>>8,fe=k[ye];return fe!==void 0?w[256*fe+(255&re)]:ye===252||ye===253?"AL":M.test(ye)?"L":ye===8?"R":"N"},te=function(Z){for(var re,ye=0;ye<Z.length;ye++){if((re=q(Z.charAt(ye)))==="L")return!1;if(re==="R")return!0}return!1},K=function(Z,re,ye,fe){var Ae,ke,Oe,_e,Ne=re[fe];switch(Ne){case"L":case"R":z=!1;break;case"N":case"AN":break;case"EN":z&&(Ne="AN");break;case"AL":z=!0,Ne="R";break;case"WS":Ne="N";break;case"CS":fe<1||fe+1>=re.length||(Ae=ye[fe-1])!=="EN"&&Ae!=="AN"||(ke=re[fe+1])!=="EN"&&ke!=="AN"?Ne="N":z&&(ke="AN"),Ne=ke===Ae?ke:"N";break;case"ES":Ne=(Ae=fe>0?ye[fe-1]:"B")==="EN"&&fe+1<re.length&&re[fe+1]==="EN"?"EN":"N";break;case"ET":if(fe>0&&ye[fe-1]==="EN"){Ne="EN";break}if(z){Ne="N";break}for(Oe=fe+1,_e=re.length;Oe<_e&&re[Oe]==="ET";)Oe++;Ne=Oe<_e&&re[Oe]==="EN"?"EN":"N";break;case"NSM":if(u&&!s){for(_e=re.length,Oe=fe+1;Oe<_e&&re[Oe]==="NSM";)Oe++;if(Oe<_e){var Ke=Z[fe],pt=Ke>=1425&&Ke<=2303||Ke===64286;if(Ae=re[Oe],pt&&(Ae==="R"||Ae==="AL")){Ne="R";break}}}Ne=fe<1||(Ae=re[fe-1])==="B"?"N":ye[fe-1];break;case"B":z=!1,i=!0,Ne=B;break;case"S":a=!0,Ne="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":z=!1;break;case"BN":Ne="N"}return Ne},ee=function(Z,re,ye){var fe=Z.split("");return ye&&Q(fe,ye,{hiLevel:B}),fe.reverse(),re&&re.reverse(),fe.join("")},Q=function(Z,re,ye){var fe,Ae,ke,Oe,_e,Ne=-1,Ke=Z.length,pt=0,ae=[],me=B?C:S,we=[];for(z=!1,i=!1,a=!1,Ae=0;Ae<Ke;Ae++)we[Ae]=q(Z[Ae]);for(ke=0;ke<Ke;ke++){if(_e=pt,ae[ke]=K(Z,we,ae,ke),fe=240&(pt=me[_e][L[ae[ke]]]),pt&=15,re[ke]=Oe=me[pt][5],fe>0)if(fe===16){for(Ae=Ne;Ae<ke;Ae++)re[Ae]=1;Ne=-1}else Ne=-1;if(me[pt][6])Ne===-1&&(Ne=ke);else if(Ne>-1){for(Ae=Ne;Ae<ke;Ae++)re[Ae]=Oe;Ne=-1}we[ke]==="B"&&(re[ke]=0),ye.hiLevel|=Oe}a&&function(Re,Fe,rt){for(var Ve=0;Ve<rt;Ve++)if(Re[Ve]==="S"){Fe[Ve]=B;for(var We=Ve-1;We>=0&&Re[We]==="WS";We--)Fe[We]=B}}(we,re,Ke)},ge=function(Z,re,ye,fe,Ae){if(!(Ae.hiLevel<Z)){if(Z===1&&B===1&&!i)return re.reverse(),void(ye&&ye.reverse());for(var ke,Oe,_e,Ne,Ke=re.length,pt=0;pt<Ke;){if(fe[pt]>=Z){for(_e=pt+1;_e<Ke&&fe[_e]>=Z;)_e++;for(Ne=pt,Oe=_e-1;Ne<Oe;Ne++,Oe--)ke=re[Ne],re[Ne]=re[Oe],re[Oe]=ke,ye&&(ke=ye[Ne],ye[Ne]=ye[Oe],ye[Oe]=ke);pt=_e}pt++}}},Y=function(Z,re,ye){var fe=Z.split(""),Ae={hiLevel:B};return ye||(ye=[]),Q(fe,ye,Ae),function(ke,Oe,_e){if(_e.hiLevel!==0&&x)for(var Ne,Ke=0;Ke<ke.length;Ke++)Oe[Ke]===1&&(Ne=$.indexOf(ke[Ke]))>=0&&(ke[Ke]=$[Ne+1])}(fe,ye,Ae),ge(2,fe,re,ye,Ae),ge(1,fe,re,ye,Ae),fe.join("")};return this.__bidiEngine__.doBidiReorder=function(Z,re,ye){if(function(Ae,ke){if(ke)for(var Oe=0;Oe<Ae.length;Oe++)ke[Oe]=Oe;s===void 0&&(s=te(Ae)),m===void 0&&(m=te(Ae))}(Z,re),u||!f||m)if(u&&f&&s^m)B=s?1:0,Z=ee(Z,re,ye);else if(!u&&f&&m)B=s?1:0,Z=Y(Z,re,ye),Z=ee(Z,re);else if(!u||s||f||m){if(u&&!f&&s^m)Z=ee(Z,re),s?(B=0,Z=Y(Z,re,ye)):(B=1,Z=Y(Z,re,ye),Z=ee(Z,re));else if(u&&s&&!f&&m)B=1,Z=Y(Z,re,ye),Z=ee(Z,re);else if(!u&&!f&&s^m){var fe=x;s?(B=1,Z=Y(Z,re,ye),B=0,x=!1,Z=Y(Z,re,ye),x=fe):(B=0,Z=Y(Z,re,ye),Z=ee(Z,re),B=1,x=!1,Z=Y(Z,re,ye),x=fe,Z=ee(Z,re))}}else B=0,Z=Y(Z,re,ye);else B=s?1:0,Z=Y(Z,re,ye);return Z},this.__bidiEngine__.setOptions=function(Z){Z&&(u=Z.isInputVisual,f=Z.isOutputVisual,s=Z.isInputRtl,m=Z.isOutputRtl,x=Z.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var i=n.text,a=(n.x,n.y,n.options||{}),u=(n.mutex,a.lang,[]);if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var s=0;for(u=[],s=0;s<i.length;s+=1)Object.prototype.toString.call(i[s])==="[object Array]"?u.push([r.doBidiReorder(i[s][0]),i[s][1],i[s][2]]):u.push([r.doBidiReorder(i[s])]);n.text=u}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(wn),wn.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new hp(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Foe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Soe(this.contents),this.head=new Eoe(this),this.name=new Ioe(this),this.cmap=new Zz(this),this.toUnicode={},this.hhea=new Aoe(this),this.maxp=new Loe(this),this.hmtx=new Moe(this),this.post=new Poe(this),this.os2=new Toe(this),this.loca=new Noe(this),this.glyf=new Roe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,s,f,m;for(m=[],u=0,s=(f=this.bbox).length;u<s;u++)t=f[u],m.push(Math.round(t*this.scaleFactor));return m}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var i,a,u,s;for(u=0,a=0,s=(t=""+t).length;0<=s?a<s:a>s;a=0<=s?++a:--a)i=t.charCodeAt(a),u+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return u*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var ud,hp=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,i;for(i=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(t.charCodeAt(r)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,i,a,u,s,f;return t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),u=this.readByte(),s=this.readByte(),f=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^u)+256*(255^s)+(255^f)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*u+256*s+f},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,i,a;for(a=[],n=0,i=t.length;n<i;n++)r=t[n],a.push(this.writeByte(r));return a},e}(),Soe=function(){var e;function t(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,i,a,u,s,f,m,x,w,S,C,L,k;for(k in C=Object.keys(r).length,f=Math.log(2),w=16*Math.floor(Math.log(C)/f),u=Math.floor(w/f),x=16*C-w,(i=new hp).writeInt(this.scalarType),i.writeShort(C),i.writeShort(w),i.writeShort(u),i.writeShort(x),a=16*C,m=i.pos+a,s=null,L=[],r)for(S=r[k],i.writeString(k),i.writeInt(e(S)),i.writeInt(m),i.writeInt(S.length),L=L.concat(S),k==="head"&&(s=m),m+=S.length;m%4;)L.push(0),m++;return i.write(L),n=2981146554-e(i.data),i.pos=s+8,i.writeUInt32(n),i.data},e=function(r){var n,i,a,u;for(r=Yz.call(r);r.length%4;)r.push(0);for(a=new hp(r),i=0,n=0,u=r.length;n<u;n=n+=4)i+=a.readUInt32();return 4294967295&i},t}(),Coe={}.hasOwnProperty,lh=function(e,t){for(var r in t)Coe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};ud=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Eoe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return lh(t,ud),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new hp).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),$R=function(){function e(t,r){var n,i,a,u,s,f,m,x,w,S,C,L,k,$,M,z,B;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),w=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=t.readByte();break;case 4:for(C=t.readUInt16(),S=C/2,t.pos+=6,a=function(){var q,te;for(te=[],f=q=0;0<=S?q<S:q>S;f=0<=S?++q:--q)te.push(t.readUInt16());return te}(),t.pos+=2,k=function(){var q,te;for(te=[],f=q=0;0<=S?q<S:q>S;f=0<=S?++q:--q)te.push(t.readUInt16());return te}(),m=function(){var q,te;for(te=[],f=q=0;0<=S?q<S:q>S;f=0<=S?++q:--q)te.push(t.readUInt16());return te}(),x=function(){var q,te;for(te=[],f=q=0;0<=S?q<S:q>S;f=0<=S?++q:--q)te.push(t.readUInt16());return te}(),i=(this.length-t.pos+this.offset)/2,s=function(){var q,te;for(te=[],f=q=0;0<=i?q<i:q>i;f=0<=i?++q:--q)te.push(t.readUInt16());return te}(),f=M=0,B=a.length;M<B;f=++M)for($=a[f],n=z=L=k[f];L<=$?z<=$:z>=$;n=L<=$?++z:--z)x[f]===0?u=n+m[f]:(u=s[x[f]/2+(n-L)-(S-f)]||0)!==0&&(u+=m[f]),this.codeMap[n]=65535&u}t.pos=w}return e.encode=function(t,r){var n,i,a,u,s,f,m,x,w,S,C,L,k,$,M,z,B,q,te,K,ee,Q,ge,Y,Z,re,ye,fe,Ae,ke,Oe,_e,Ne,Ke,pt,ae,me,we,Re,Fe,rt,Ve,We,nt,ut,bt;switch(fe=new hp,u=Object.keys(t).sort(function(Ct,Et){return Ct-Et}),r){case"macroman":for(k=0,$=function(){var Ct=[];for(L=0;L<256;++L)Ct.push(0);return Ct}(),z={0:0},a={},Ae=0,Ne=u.length;Ae<Ne;Ae++)z[We=t[i=u[Ae]]]==null&&(z[We]=++k),a[i]={old:t[i],new:z[t[i]]},$[i]=z[t[i]];return fe.writeUInt16(1),fe.writeUInt16(0),fe.writeUInt32(12),fe.writeUInt16(0),fe.writeUInt16(262),fe.writeUInt16(0),fe.write($),{charMap:a,subtable:fe.data,maxGlyphID:k+1};case"unicode":for(re=[],w=[],B=0,z={},n={},M=m=null,ke=0,Ke=u.length;ke<Ke;ke++)z[te=t[i=u[ke]]]==null&&(z[te]=++B),n[i]={old:te,new:z[te]},s=z[te]-i,M!=null&&s===m||(M&&w.push(M),re.push(i),m=s),M=i;for(M&&w.push(M),w.push(65535),re.push(65535),Y=2*(ge=re.length),Q=2*Math.pow(Math.log(ge)/Math.LN2,2),S=Math.log(Q/2)/Math.LN2,ee=2*ge-Q,f=[],K=[],C=[],L=Oe=0,pt=re.length;Oe<pt;L=++Oe){if(Z=re[L],x=w[L],Z===65535){f.push(0),K.push(0);break}if(Z-(ye=n[Z].new)>=32768)for(f.push(0),K.push(2*(C.length+ge-L)),i=_e=Z;Z<=x?_e<=x:_e>=x;i=Z<=x?++_e:--_e)C.push(n[i].new);else f.push(ye-Z),K.push(0)}for(fe.writeUInt16(3),fe.writeUInt16(1),fe.writeUInt32(12),fe.writeUInt16(4),fe.writeUInt16(16+8*ge+2*C.length),fe.writeUInt16(0),fe.writeUInt16(Y),fe.writeUInt16(Q),fe.writeUInt16(S),fe.writeUInt16(ee),rt=0,ae=w.length;rt<ae;rt++)i=w[rt],fe.writeUInt16(i);for(fe.writeUInt16(0),Ve=0,me=re.length;Ve<me;Ve++)i=re[Ve],fe.writeUInt16(i);for(nt=0,we=f.length;nt<we;nt++)s=f[nt],fe.writeUInt16(s);for(ut=0,Re=K.length;ut<Re;ut++)q=K[ut],fe.writeUInt16(q);for(bt=0,Fe=C.length;bt<Fe;bt++)k=C[bt],fe.writeUInt16(k);return{charMap:n,subtable:fe.data,maxGlyphID:B+1}}},e}(),Zz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return lh(t,ud),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,i,a;for(r.pos=this.offset,this.version=r.readUInt16(),a=r.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)n=new $R(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var i,a;return n==null&&(n="macroman"),i=$R.encode(r,n),(a=new hp).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},t}(),Aoe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return lh(t,ud),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),Toe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return lh(t,ud),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(r.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(r.readInt());return i}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(r.readInt());return i}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),Poe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return lh(t,ud),t.prototype.tag="post",t.prototype.parse=function(r){var n,i,a;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var u;for(i=r.readUInt16(),this.glyphNameIndex=[],u=0;0<=i?u<i:u>i;u=0<=i?++u:--u)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],a=[];r.pos<this.offset+this.length;)n=r.readByte(),a.push(this.names.push(r.readString(n)));return a;case 151552:return i=r.readUInt16(),this.offsets=r.read(i);case 196608:break;case 262144:return this.map=(function(){var s,f,m;for(m=[],u=s=0,f=this.file.maxp.numGlyphs;0<=f?s<f:s>f;u=0<=f?++s:--s)m.push(r.readUInt32());return m}).call(this)}},t}(),koe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Ioe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return lh(t,ud),t.prototype.tag="name",t.prototype.parse=function(r){var n,i,a,u,s,f,m,x,w,S,C;for(r.pos=this.offset,r.readShort(),n=r.readShort(),f=r.readShort(),i=[],u=0;0<=n?u<n:u>n;u=0<=n?++u:--u)i.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+f+r.readShort()});for(m={},u=w=0,S=i.length;w<S;u=++w)a=i[u],r.pos=a.offset,x=r.readString(a.length),s=new koe(x,a),m[C=a.nameID]==null&&(m[C]=[]),m[a.nameID].push(s);this.strings=m,this.copyright=m[0],this.fontFamily=m[1],this.fontSubfamily=m[2],this.uniqueSubfamily=m[3],this.fontName=m[4],this.version=m[5];try{this.postscriptName=m[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=m[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=m[7],this.manufacturer=m[8],this.designer=m[9],this.description=m[10],this.vendorUrl=m[11],this.designerUrl=m[12],this.license=m[13],this.licenseUrl=m[14],this.preferredFamily=m[15],this.preferredSubfamily=m[17],this.compatibleFull=m[18],this.sampleText=m[19]},t}(),Loe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return lh(t,ud),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),Moe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return lh(t,ud),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,i,a,u,s,f,m;for(r.pos=this.offset,this.metrics=[],n=0,f=this.file.hhea.numberOfMetrics;0<=f?n<f:n>f;n=0<=f?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var x,w;for(w=[],n=x=0;0<=a?x<a:x>a;n=0<=a?++x:--x)w.push(r.readInt16());return w}(),this.widths=(function(){var x,w,S,C;for(C=[],x=0,w=(S=this.metrics).length;x<w;x++)u=S[x],C.push(u.advance);return C}).call(this),i=this.widths[this.widths.length-1],m=[],n=s=0;0<=a?s<a:s>a;n=0<=a?++s:--s)m.push(this.widths.push(i));return m},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),Yz=[].slice,Roe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return lh(t,ud),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,i,a,u,s,f,m,x,w,S;return r in this.cache?this.cache[r]:(u=this.file.loca,n=this.file.contents,i=u.indexOf(r),(a=u.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+i,s=(f=new hp(n.read(a))).readShort(),x=f.readShort(),S=f.readShort(),m=f.readShort(),w=f.readShort(),this.cache[r]=s===-1?new Ooe(f,x,S,m,w):new Doe(f,s,x,S,m,w),this.cache[r]))},t.prototype.encode=function(r,n,i){var a,u,s,f,m;for(s=[],u=[],f=0,m=n.length;f<m;f++)a=r[n[f]],u.push(s.length),a&&(s=s.concat(a.encode(i)));return u.push(s.length),{table:s,offsets:u}},t}(),Doe=function(){function e(t,r,n,i,a,u){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=u,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Ooe=function(){function e(t,r,n,i,a){var u,s;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;s=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&s;)u.pos+=1&s?4:2,128&s?u.pos+=8:64&s?u.pos+=4:8&s&&(u.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new hp(Yz.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),Noe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return lh(t,ud),t.prototype.tag="loca",t.prototype.parse=function(r){var n,i;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var a,u;for(u=[],i=0,a=this.length;i<a;i+=2)u.push(2*r.readUInt16());return u}).call(this):(function(){var a,u;for(u=[],i=0,a=this.length;i<a;i+=4)u.push(r.readUInt32());return u}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var i=new Uint32Array(this.offsets.length),a=0,u=0,s=0;s<i.length;++s)if(i[s]=a,u<n.length&&n[u]==s){++u,i[s]=a;var f=this.offsets[s],m=this.offsets[s+1]-f;m>0&&(a+=m)}for(var x=new Array(4*i.length),w=0;w<i.length;++w)x[4*w+3]=255&i[w],x[4*w+2]=(65280&i[w])>>8,x[4*w+1]=(16711680&i[w])>>16,x[4*w]=(4278190080&i[w])>>24;return x},t}(),Foe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)n=a[r],t[r]=i[n];return t},e.prototype.glyphsFor=function(t){var r,n,i,a,u,s,f;for(i={},u=0,s=t.length;u<s;u++)i[a=t[u]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in f=this.glyphsFor(r))n=f[a],i[a]=n;return i},e.prototype.encode=function(t,r){var n,i,a,u,s,f,m,x,w,S,C,L,k,$,M;for(i in n=Zz.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(t),C={0:0},M=n.charMap)C[(f=M[i]).old]=f.new;for(L in S=n.maxGlyphID,u)L in C||(C[L]=S++);return x=function(z){var B,q;for(B in q={},z)q[z[B]]=B;return q}(C),w=Object.keys(x).sort(function(z,B){return z-B}),k=function(){var z,B,q;for(q=[],z=0,B=w.length;z<B;z++)s=w[z],q.push(x[s]);return q}(),a=this.font.glyf.encode(u,k,C),m=this.font.loca.encode(a.offsets,k),$={cmap:this.font.cmap.raw(),glyf:a.table,loca:m,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&($["OS/2"]=this.font.os2.raw()),this.font.directory.encode($)},e}();wn.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,i,a,u;if(Array.isArray(r))return"["+function(){var s,f,m;for(m=[],s=0,f=r.length;s<f;s++)n=r[s],m.push(t.convert(n));return m}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)u=r[i],a.push("/"+i+" "+t.convert(u));return a.push(">>"),a.join(`
`)}return""+r},t}();function $oe(e,t){t===void 0&&(t={});var r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}var Boe={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Gd,function(){var r=function(O,X){var Ce={drag:[],click:[],mousemove:[],mousedown:[],mouseup:[],mouseout:[],keydown:[],keyup:[],touchstart:[],touchmove:[],touchend:[],tap:[]},Ge={on:function(dt,yt,Xt){if(Ce[dt]===void 0)throw new Error("Invalid event type: "+dt);Ce[dt].push({selector:yt,fn:Xt})},render:function(dt){X.store.featureChanged(dt)}},st=function(dt,yt){for(var Xt=Ce[dt],tr=Xt.length;tr--;){var mr=Xt[tr];if(mr.selector(yt)){mr.fn.call(Ge,yt)||X.store.render(),X.ui.updateMapClasses();break}}};return O.start.call(Ge),{render:O.render,stop:function(){O.stop&&O.stop()},trash:function(){O.trash&&(O.trash(),X.store.render())},combineFeatures:function(){O.combineFeatures&&O.combineFeatures()},uncombineFeatures:function(){O.uncombineFeatures&&O.uncombineFeatures()},drag:function(dt){st("drag",dt)},click:function(dt){st("click",dt)},mousemove:function(dt){st("mousemove",dt)},mousedown:function(dt){st("mousedown",dt)},mouseup:function(dt){st("mouseup",dt)},mouseout:function(dt){st("mouseout",dt)},keydown:function(dt){st("keydown",dt)},keyup:function(dt){st("keyup",dt)},touchstart:function(dt){st("touchstart",dt)},touchmove:function(dt){st("touchmove",dt)},touchend:function(dt){st("touchend",dt)},tap:function(dt){st("tap",dt)}}};function n(O){return O&&O.__esModule&&Object.prototype.hasOwnProperty.call(O,"default")?O.default:O}function i(O){if(O.__esModule)return O;var X=O.default;if(typeof X=="function"){var Ce=function Ge(){if(this instanceof Ge){var st=[null];st.push.apply(st,arguments);var dt=Function.bind.apply(X,st);return new dt}return X.apply(this,arguments)};Ce.prototype=X.prototype}else Ce={};return Object.defineProperty(Ce,"__esModule",{value:!0}),Object.keys(O).forEach(function(Ge){var st=Object.getOwnPropertyDescriptor(O,Ge);Object.defineProperty(Ce,Ge,st.get?st:{enumerable:!0,get:function(){return O[Ge]}})}),Ce}var a={},u={RADIUS:6378137,FLATTENING:1/298.257223563,POLAR_RADIUS:63567523142e-4},s=u;function f(O){var X=0;if(O&&O.length>0){X+=Math.abs(m(O[0]));for(var Ce=1;Ce<O.length;Ce++)X-=Math.abs(m(O[Ce]))}return X}function m(O){var X,Ce,Ge,st,dt,yt,Xt=0,tr=O.length;if(tr>2){for(yt=0;yt<tr;yt++)yt===tr-2?(Ge=tr-2,st=tr-1,dt=0):yt===tr-1?(Ge=tr-1,st=0,dt=1):(Ge=yt,st=yt+1,dt=yt+2),X=O[Ge],Ce=O[st],Xt+=(x(O[dt][0])-x(X[0]))*Math.sin(x(Ce[1]));Xt=Xt*s.RADIUS*s.RADIUS/2}return Xt}function x(O){return O*Math.PI/180}a.geometry=function O(X){var Ce,Ge=0;switch(X.type){case"Polygon":return f(X.coordinates);case"MultiPolygon":for(Ce=0;Ce<X.coordinates.length;Ce++)Ge+=f(X.coordinates[Ce]);return Ge;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(Ce=0;Ce<X.geometries.length;Ce++)Ge+=O(X.geometries[Ce]);return Ge}},a.ring=m;var w={CONTROL_BASE:"mapboxgl-ctrl",CONTROL_PREFIX:"mapboxgl-ctrl-",CONTROL_BUTTON:"mapbox-gl-draw_ctrl-draw-btn",CONTROL_BUTTON_LINE:"mapbox-gl-draw_line",CONTROL_BUTTON_POLYGON:"mapbox-gl-draw_polygon",CONTROL_BUTTON_POINT:"mapbox-gl-draw_point",CONTROL_BUTTON_TRASH:"mapbox-gl-draw_trash",CONTROL_BUTTON_COMBINE_FEATURES:"mapbox-gl-draw_combine",CONTROL_BUTTON_UNCOMBINE_FEATURES:"mapbox-gl-draw_uncombine",CONTROL_GROUP:"mapboxgl-ctrl-group",ATTRIBUTION:"mapboxgl-ctrl-attrib",ACTIVE_BUTTON:"active",BOX_SELECT:"mapbox-gl-draw_boxselect"},S={HOT:"mapbox-gl-draw-hot",COLD:"mapbox-gl-draw-cold"},C={ADD:"add",MOVE:"move",DRAG:"drag",POINTER:"pointer",NONE:"none"},L={POLYGON:"polygon",LINE:"line_string",POINT:"point"},k={FEATURE:"Feature",POLYGON:"Polygon",LINE_STRING:"LineString",POINT:"Point",FEATURE_COLLECTION:"FeatureCollection",MULTI_PREFIX:"Multi",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon"},$={DRAW_LINE_STRING:"draw_line_string",DRAW_POLYGON:"draw_polygon",DRAW_POINT:"draw_point",SIMPLE_SELECT:"simple_select",DIRECT_SELECT:"direct_select",STATIC:"static"},M={CREATE:"draw.create",DELETE:"draw.delete",UPDATE:"draw.update",SELECTION_CHANGE:"draw.selectionchange",MODE_CHANGE:"draw.modechange",ACTIONABLE:"draw.actionable",RENDER:"draw.render",COMBINE_FEATURES:"draw.combine",UNCOMBINE_FEATURES:"draw.uncombine"},z={MOVE:"move",CHANGE_COORDINATES:"change_coordinates"},B={FEATURE:"feature",MIDPOINT:"midpoint",VERTEX:"vertex"},q={ACTIVE:"true",INACTIVE:"false"},te=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate"],K=-85,ee=Object.freeze({__proto__:null,classes:w,sources:S,cursors:C,types:L,geojsonTypes:k,modes:$,events:M,updateActions:z,meta:B,activeStates:q,interactions:te,LAT_MIN:-90,LAT_RENDERED_MIN:K,LAT_MAX:90,LAT_RENDERED_MAX:85,LNG_MIN:-270,LNG_MAX:270}),Q={Point:0,LineString:1,MultiLineString:1,Polygon:2};function ge(O,X){var Ce=Q[O.geometry.type]-Q[X.geometry.type];return Ce===0&&O.geometry.type===k.POLYGON?O.area-X.area:Ce}function Y(O){return O.map(function(X){return X.geometry.type===k.POLYGON&&(X.area=a.geometry({type:k.FEATURE,property:{},geometry:X.geometry})),X}).sort(ge).map(function(X){return delete X.area,X})}function Z(O,X){return X===void 0&&(X=0),[[O.point.x-X,O.point.y-X],[O.point.x+X,O.point.y+X]]}function re(O){if(this._items={},this._nums={},this._length=O?O.length:0,O)for(var X=0,Ce=O.length;X<Ce;X++)this.add(O[X]),O[X]!==void 0&&(typeof O[X]=="string"?this._items[O[X]]=X:this._nums[O[X]]=X)}re.prototype.add=function(O){return this.has(O)||(this._length++,typeof O=="string"?this._items[O]=this._length:this._nums[O]=this._length),this},re.prototype.delete=function(O){return this.has(O)===!1||(this._length--,delete this._items[O],delete this._nums[O]),this},re.prototype.has=function(O){return(typeof O=="string"||typeof O=="number")&&(this._items[O]!==void 0||this._nums[O]!==void 0)},re.prototype.values=function(){var O=this,X=[];return Object.keys(this._items).forEach(function(Ce){X.push({k:Ce,v:O._items[Ce]})}),Object.keys(this._nums).forEach(function(Ce){X.push({k:JSON.parse(Ce),v:O._nums[Ce]})}),X.sort(function(Ce,Ge){return Ce.v-Ge.v}).map(function(Ce){return Ce.k})},re.prototype.clear=function(){return this._length=0,this._items={},this._nums={},this};var ye=[B.FEATURE,B.MIDPOINT,B.VERTEX],fe={click:function(O,X,Ce){return Ae(O,X,Ce,Ce.options.clickBuffer)},touch:function(O,X,Ce){return Ae(O,X,Ce,Ce.options.touchBuffer)}};function Ae(O,X,Ce,Ge){if(Ce.map===null)return[];var st=O?Z(O,Ge):X,dt={};Ce.options.styles&&(dt.layers=Ce.options.styles.map(function(mr){return mr.id}).filter(function(mr){return Ce.map.getLayer(mr)!=null}));var yt=Ce.map.queryRenderedFeatures(st,dt).filter(function(mr){return ye.indexOf(mr.properties.meta)!==-1}),Xt=new re,tr=[];return yt.forEach(function(mr){var pr=mr.properties.id;Xt.has(pr)||(Xt.add(pr),tr.push(mr))}),Y(tr)}function ke(O,X){var Ce=fe.click(O,null,X),Ge={mouse:C.NONE};return Ce[0]&&(Ge.mouse=Ce[0].properties.active===q.ACTIVE?C.MOVE:C.POINTER,Ge.feature=Ce[0].properties.meta),X.events.currentModeName().indexOf("draw")!==-1&&(Ge.mouse=C.ADD),X.ui.queueMapClasses(Ge),X.ui.updateMapClasses(),Ce[0]}function Oe(O,X){var Ce=O.x-X.x,Ge=O.y-X.y;return Math.sqrt(Ce*Ce+Ge*Ge)}function _e(O,X,Ce){Ce===void 0&&(Ce={});var Ge=Ce.fineTolerance!=null?Ce.fineTolerance:4,st=Ce.grossTolerance!=null?Ce.grossTolerance:12,dt=Ce.interval!=null?Ce.interval:500;O.point=O.point||X.point,O.time=O.time||X.time;var yt=Oe(O.point,X.point);return yt<Ge||yt<st&&X.time-O.time<dt}function Ne(O,X,Ce){Ce===void 0&&(Ce={});var Ge=Ce.tolerance!=null?Ce.tolerance:25,st=Ce.interval!=null?Ce.interval:250;return O.point=O.point||X.point,O.time=O.time||X.time,Oe(O.point,X.point)<Ge&&X.time-O.time<st}var Ke={exports:{}},pt=Ke.exports=function(O,X){if(X||(X=16),O===void 0&&(O=128),O<=0)return"0";for(var Ce=Math.log(Math.pow(2,O))/Math.log(X),Ge=2;Ce===1/0;Ge*=2)Ce=Math.log(Math.pow(2,O/Ge))/Math.log(X)*Ge;var st=Ce-Math.floor(Ce),dt="";for(Ge=0;Ge<Math.floor(Ce);Ge++)dt=Math.floor(Math.random()*X).toString(X)+dt;if(st){var yt=Math.pow(X,st);dt=Math.floor(Math.random()*yt).toString(X)+dt}var Xt=parseInt(dt,X);return Xt!==1/0&&Xt>=Math.pow(2,O)?pt(O,X):dt};pt.rack=function(O,X,Ce){var Ge=function(dt){var yt=0;do{if(yt++>10){if(!Ce)throw new Error("too many ID collisions, use more bits");O+=Ce}var Xt=pt(O,X)}while(Object.hasOwnProperty.call(st,Xt));return st[Xt]=dt,Xt},st=Ge.hats={};return Ge.get=function(dt){return Ge.hats[dt]},Ge.set=function(dt,yt){return Ge.hats[dt]=yt,Ge},Ge.bits=O||128,Ge.base=X||16,Ge};var ae=n(Ke.exports),me=function(O,X){this.ctx=O,this.properties=X.properties||{},this.coordinates=X.geometry.coordinates,this.id=X.id||ae(),this.type=X.geometry.type};me.prototype.changed=function(){this.ctx.store.featureChanged(this.id)},me.prototype.incomingCoords=function(O){this.setCoordinates(O)},me.prototype.setCoordinates=function(O){this.coordinates=O,this.changed()},me.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.coordinates))},me.prototype.setProperty=function(O,X){this.properties[O]=X},me.prototype.toGeoJSON=function(){return JSON.parse(JSON.stringify({id:this.id,type:k.FEATURE,properties:this.properties,geometry:{coordinates:this.getCoordinates(),type:this.type}}))},me.prototype.internal=function(O){var X={id:this.id,meta:B.FEATURE,"meta:type":this.type,active:q.INACTIVE,mode:O};if(this.ctx.options.userProperties)for(var Ce in this.properties)X["user_"+Ce]=this.properties[Ce];return{type:k.FEATURE,properties:X,geometry:{coordinates:this.getCoordinates(),type:this.type}}};var we=function(O,X){me.call(this,O,X)};(we.prototype=Object.create(me.prototype)).isValid=function(){return typeof this.coordinates[0]=="number"&&typeof this.coordinates[1]=="number"},we.prototype.updateCoordinate=function(O,X,Ce){this.coordinates=arguments.length===3?[X,Ce]:[O,X],this.changed()},we.prototype.getCoordinate=function(){return this.getCoordinates()};var Re=function(O,X){me.call(this,O,X)};(Re.prototype=Object.create(me.prototype)).isValid=function(){return this.coordinates.length>1},Re.prototype.addCoordinate=function(O,X,Ce){this.changed();var Ge=parseInt(O,10);this.coordinates.splice(Ge,0,[X,Ce])},Re.prototype.getCoordinate=function(O){var X=parseInt(O,10);return JSON.parse(JSON.stringify(this.coordinates[X]))},Re.prototype.removeCoordinate=function(O){this.changed(),this.coordinates.splice(parseInt(O,10),1)},Re.prototype.updateCoordinate=function(O,X,Ce){var Ge=parseInt(O,10);this.coordinates[Ge]=[X,Ce],this.changed()};var Fe=function(O,X){me.call(this,O,X),this.coordinates=this.coordinates.map(function(Ce){return Ce.slice(0,-1)})};(Fe.prototype=Object.create(me.prototype)).isValid=function(){return this.coordinates.length!==0&&this.coordinates.every(function(O){return O.length>2})},Fe.prototype.incomingCoords=function(O){this.coordinates=O.map(function(X){return X.slice(0,-1)}),this.changed()},Fe.prototype.setCoordinates=function(O){this.coordinates=O,this.changed()},Fe.prototype.addCoordinate=function(O,X,Ce){this.changed();var Ge=O.split(".").map(function(st){return parseInt(st,10)});this.coordinates[Ge[0]].splice(Ge[1],0,[X,Ce])},Fe.prototype.removeCoordinate=function(O){this.changed();var X=O.split(".").map(function(Ge){return parseInt(Ge,10)}),Ce=this.coordinates[X[0]];Ce&&(Ce.splice(X[1],1),Ce.length<3&&this.coordinates.splice(X[0],1))},Fe.prototype.getCoordinate=function(O){var X=O.split(".").map(function(Ge){return parseInt(Ge,10)}),Ce=this.coordinates[X[0]];return JSON.parse(JSON.stringify(Ce[X[1]]))},Fe.prototype.getCoordinates=function(){return this.coordinates.map(function(O){return O.concat([O[0]])})},Fe.prototype.updateCoordinate=function(O,X,Ce){this.changed();var Ge=O.split("."),st=parseInt(Ge[0],10),dt=parseInt(Ge[1],10);this.coordinates[st]===void 0&&(this.coordinates[st]=[]),this.coordinates[st][dt]=[X,Ce]};var rt={MultiPoint:we,MultiLineString:Re,MultiPolygon:Fe},Ve=function(O,X,Ce,Ge,st){var dt=Ce.split("."),yt=parseInt(dt[0],10),Xt=dt[1]?dt.slice(1).join("."):null;return O[yt][X](Xt,Ge,st)},We=function(O,X){if(me.call(this,O,X),delete this.coordinates,this.model=rt[X.geometry.type],this.model===void 0)throw new TypeError(X.geometry.type+" is not a valid type");this.features=this._coordinatesToFeatures(X.geometry.coordinates)};function nt(O){this.map=O.map,this.drawConfig=JSON.parse(JSON.stringify(O.options||{})),this._ctx=O}(We.prototype=Object.create(me.prototype))._coordinatesToFeatures=function(O){var X=this,Ce=this.model.bind(this);return O.map(function(Ge){return new Ce(X.ctx,{id:ae(),type:k.FEATURE,properties:{},geometry:{coordinates:Ge,type:X.type.replace("Multi","")}})})},We.prototype.isValid=function(){return this.features.every(function(O){return O.isValid()})},We.prototype.setCoordinates=function(O){this.features=this._coordinatesToFeatures(O),this.changed()},We.prototype.getCoordinate=function(O){return Ve(this.features,"getCoordinate",O)},We.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.features.map(function(O){return O.type===k.POLYGON?O.getCoordinates():O.coordinates})))},We.prototype.updateCoordinate=function(O,X,Ce){Ve(this.features,"updateCoordinate",O,X,Ce),this.changed()},We.prototype.addCoordinate=function(O,X,Ce){Ve(this.features,"addCoordinate",O,X,Ce),this.changed()},We.prototype.removeCoordinate=function(O){Ve(this.features,"removeCoordinate",O),this.changed()},We.prototype.getFeatures=function(){return this.features},nt.prototype.setSelected=function(O){return this._ctx.store.setSelected(O)},nt.prototype.setSelectedCoordinates=function(O){var X=this;this._ctx.store.setSelectedCoordinates(O),O.reduce(function(Ce,Ge){return Ce[Ge.feature_id]===void 0&&(Ce[Ge.feature_id]=!0,X._ctx.store.get(Ge.feature_id).changed()),Ce},{})},nt.prototype.getSelected=function(){return this._ctx.store.getSelected()},nt.prototype.getSelectedIds=function(){return this._ctx.store.getSelectedIds()},nt.prototype.isSelected=function(O){return this._ctx.store.isSelected(O)},nt.prototype.getFeature=function(O){return this._ctx.store.get(O)},nt.prototype.select=function(O){return this._ctx.store.select(O)},nt.prototype.deselect=function(O){return this._ctx.store.deselect(O)},nt.prototype.deleteFeature=function(O,X){return X===void 0&&(X={}),this._ctx.store.delete(O,X)},nt.prototype.addFeature=function(O){return this._ctx.store.add(O)},nt.prototype.clearSelectedFeatures=function(){return this._ctx.store.clearSelected()},nt.prototype.clearSelectedCoordinates=function(){return this._ctx.store.clearSelectedCoordinates()},nt.prototype.setActionableState=function(O){O===void 0&&(O={});var X={trash:O.trash||!1,combineFeatures:O.combineFeatures||!1,uncombineFeatures:O.uncombineFeatures||!1};return this._ctx.events.actionable(X)},nt.prototype.changeMode=function(O,X,Ce){return X===void 0&&(X={}),Ce===void 0&&(Ce={}),this._ctx.events.changeMode(O,X,Ce)},nt.prototype.updateUIClasses=function(O){return this._ctx.ui.queueMapClasses(O)},nt.prototype.activateUIButton=function(O){return this._ctx.ui.setActiveButton(O)},nt.prototype.featuresAt=function(O,X,Ce){if(Ce===void 0&&(Ce="click"),Ce!=="click"&&Ce!=="touch")throw new Error("invalid buffer type");return fe[Ce](O,X,this._ctx)},nt.prototype.newFeature=function(O){var X=O.geometry.type;return X===k.POINT?new we(this._ctx,O):X===k.LINE_STRING?new Re(this._ctx,O):X===k.POLYGON?new Fe(this._ctx,O):new We(this._ctx,O)},nt.prototype.isInstanceOf=function(O,X){if(O===k.POINT)return X instanceof we;if(O===k.LINE_STRING)return X instanceof Re;if(O===k.POLYGON)return X instanceof Fe;if(O==="MultiFeature")return X instanceof We;throw new Error("Unknown feature class: "+O)},nt.prototype.doRender=function(O){return this._ctx.store.featureChanged(O)},nt.prototype.onSetup=function(){},nt.prototype.onDrag=function(){},nt.prototype.onClick=function(){},nt.prototype.onMouseMove=function(){},nt.prototype.onMouseDown=function(){},nt.prototype.onMouseUp=function(){},nt.prototype.onMouseOut=function(){},nt.prototype.onKeyUp=function(){},nt.prototype.onKeyDown=function(){},nt.prototype.onTouchStart=function(){},nt.prototype.onTouchMove=function(){},nt.prototype.onTouchEnd=function(){},nt.prototype.onTap=function(){},nt.prototype.onStop=function(){},nt.prototype.onTrash=function(){},nt.prototype.onCombineFeature=function(){},nt.prototype.onUncombineFeature=function(){},nt.prototype.toDisplayFeatures=function(){throw new Error("You must overwrite toDisplayFeatures")};var ut={drag:"onDrag",click:"onClick",mousemove:"onMouseMove",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseout:"onMouseOut",keyup:"onKeyUp",keydown:"onKeyDown",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd",tap:"onTap"},bt=Object.keys(ut);function Ct(O){var X=Object.keys(O);return function(Ce,Ge){Ge===void 0&&(Ge={});var st={},dt=X.reduce(function(yt,Xt){return yt[Xt]=O[Xt],yt},new nt(Ce));return{start:function(){var yt=this;st=dt.onSetup(Ge),bt.forEach(function(Xt){var tr,mr=ut[Xt],pr=function(){return!1};O[mr]&&(pr=function(){return!0}),yt.on(Xt,pr,(tr=mr,function(dr){return dt[tr](st,dr)}))})},stop:function(){dt.onStop(st)},trash:function(){dt.onTrash(st)},combineFeatures:function(){dt.onCombineFeatures(st)},uncombineFeatures:function(){dt.onUncombineFeatures(st)},render:function(yt,Xt){dt.toDisplayFeatures(st,yt,Xt)}}}}function Et(O){return[].concat(O).filter(function(X){return X!==void 0})}function lt(){var O=this;if(!(O.ctx.map&&O.ctx.map.getSource(S.HOT)!==void 0))return tr();var X=O.ctx.events.currentModeName();O.ctx.ui.queueMapClasses({mode:X});var Ce=[],Ge=[];O.isDirty?Ge=O.getAllIds():(Ce=O.getChangedIds().filter(function(mr){return O.get(mr)!==void 0}),Ge=O.sources.hot.filter(function(mr){return mr.properties.id&&Ce.indexOf(mr.properties.id)===-1&&O.get(mr.properties.id)!==void 0}).map(function(mr){return mr.properties.id})),O.sources.hot=[];var st=O.sources.cold.length;O.sources.cold=O.isDirty?[]:O.sources.cold.filter(function(mr){var pr=mr.properties.id||mr.properties.parent;return Ce.indexOf(pr)===-1});var dt=st!==O.sources.cold.length||Ge.length>0;function yt(mr,pr){var dr=O.get(mr).internal(X);O.ctx.events.currentModeRender(dr,function(Rr){O.sources[pr].push(Rr)})}if(Ce.forEach(function(mr){return yt(mr,"hot")}),Ge.forEach(function(mr){return yt(mr,"cold")}),dt&&O.ctx.map.getSource(S.COLD).setData({type:k.FEATURE_COLLECTION,features:O.sources.cold}),O.ctx.map.getSource(S.HOT).setData({type:k.FEATURE_COLLECTION,features:O.sources.hot}),O._emitSelectionChange&&(O.ctx.map.fire(M.SELECTION_CHANGE,{features:O.getSelected().map(function(mr){return mr.toGeoJSON()}),points:O.getSelectedCoordinates().map(function(mr){return{type:k.FEATURE,properties:{},geometry:{type:k.POINT,coordinates:mr.coordinates}}})}),O._emitSelectionChange=!1),O._deletedFeaturesToEmit.length){var Xt=O._deletedFeaturesToEmit.map(function(mr){return mr.toGeoJSON()});O._deletedFeaturesToEmit=[],O.ctx.map.fire(M.DELETE,{features:Xt})}function tr(){O.isDirty=!1,O.clearChangedIds()}tr(),O.ctx.map.fire(M.RENDER,{})}function ce(O){var X,Ce=this;this._features={},this._featureIds=new re,this._selectedFeatureIds=new re,this._selectedCoordinates=[],this._changedFeatureIds=new re,this._deletedFeaturesToEmit=[],this._emitSelectionChange=!1,this._mapInitialConfig={},this.ctx=O,this.sources={hot:[],cold:[]},this.render=function(){X||(X=requestAnimationFrame(function(){X=null,lt.call(Ce)}))},this.isDirty=!1}function ur(O,X){var Ce=O._selectedCoordinates.filter(function(Ge){return O._selectedFeatureIds.has(Ge.feature_id)});O._selectedCoordinates.length===Ce.length||X.silent||(O._emitSelectionChange=!0),O._selectedCoordinates=Ce}ce.prototype.createRenderBatch=function(){var O=this,X=this.render,Ce=0;return this.render=function(){Ce++},function(){O.render=X,Ce>0&&O.render()}},ce.prototype.setDirty=function(){return this.isDirty=!0,this},ce.prototype.featureChanged=function(O){return this._changedFeatureIds.add(O),this},ce.prototype.getChangedIds=function(){return this._changedFeatureIds.values()},ce.prototype.clearChangedIds=function(){return this._changedFeatureIds.clear(),this},ce.prototype.getAllIds=function(){return this._featureIds.values()},ce.prototype.add=function(O){return this.featureChanged(O.id),this._features[O.id]=O,this._featureIds.add(O.id),this},ce.prototype.delete=function(O,X){var Ce=this;return X===void 0&&(X={}),Et(O).forEach(function(Ge){Ce._featureIds.has(Ge)&&(Ce._featureIds.delete(Ge),Ce._selectedFeatureIds.delete(Ge),X.silent||Ce._deletedFeaturesToEmit.indexOf(Ce._features[Ge])===-1&&Ce._deletedFeaturesToEmit.push(Ce._features[Ge]),delete Ce._features[Ge],Ce.isDirty=!0)}),ur(this,X),this},ce.prototype.get=function(O){return this._features[O]},ce.prototype.getAll=function(){var O=this;return Object.keys(this._features).map(function(X){return O._features[X]})},ce.prototype.select=function(O,X){var Ce=this;return X===void 0&&(X={}),Et(O).forEach(function(Ge){Ce._selectedFeatureIds.has(Ge)||(Ce._selectedFeatureIds.add(Ge),Ce._changedFeatureIds.add(Ge),X.silent||(Ce._emitSelectionChange=!0))}),this},ce.prototype.deselect=function(O,X){var Ce=this;return X===void 0&&(X={}),Et(O).forEach(function(Ge){Ce._selectedFeatureIds.has(Ge)&&(Ce._selectedFeatureIds.delete(Ge),Ce._changedFeatureIds.add(Ge),X.silent||(Ce._emitSelectionChange=!0))}),ur(this,X),this},ce.prototype.clearSelected=function(O){return O===void 0&&(O={}),this.deselect(this._selectedFeatureIds.values(),{silent:O.silent}),this},ce.prototype.setSelected=function(O,X){var Ce=this;return X===void 0&&(X={}),O=Et(O),this.deselect(this._selectedFeatureIds.values().filter(function(Ge){return O.indexOf(Ge)===-1}),{silent:X.silent}),this.select(O.filter(function(Ge){return!Ce._selectedFeatureIds.has(Ge)}),{silent:X.silent}),this},ce.prototype.setSelectedCoordinates=function(O){return this._selectedCoordinates=O,this._emitSelectionChange=!0,this},ce.prototype.clearSelectedCoordinates=function(){return this._selectedCoordinates=[],this._emitSelectionChange=!0,this},ce.prototype.getSelectedIds=function(){return this._selectedFeatureIds.values()},ce.prototype.getSelected=function(){var O=this;return this._selectedFeatureIds.values().map(function(X){return O.get(X)})},ce.prototype.getSelectedCoordinates=function(){var O=this;return this._selectedCoordinates.map(function(X){return{coordinates:O.get(X.feature_id).getCoordinate(X.coord_path)}})},ce.prototype.isSelected=function(O){return this._selectedFeatureIds.has(O)},ce.prototype.setFeatureProperty=function(O,X,Ce){this.get(O).setProperty(X,Ce),this.featureChanged(O)},ce.prototype.storeMapConfig=function(){var O=this;te.forEach(function(X){O.ctx.map[X]&&(O._mapInitialConfig[X]=O.ctx.map[X].isEnabled())})},ce.prototype.restoreMapConfig=function(){var O=this;Object.keys(this._mapInitialConfig).forEach(function(X){O._mapInitialConfig[X]?O.ctx.map[X].enable():O.ctx.map[X].disable()})},ce.prototype.getInitialConfigValue=function(O){return this._mapInitialConfig[O]===void 0||this._mapInitialConfig[O]};var qt=function(){for(var O=arguments,X={},Ce=0;Ce<arguments.length;Ce++){var Ge=O[Ce];for(var st in Ge)wt.call(Ge,st)&&(X[st]=Ge[st])}return X},wt=Object.prototype.hasOwnProperty,Mt=n(qt),It=["mode","feature","mouse"];function Gt(O){var X=null,Ce=null,Ge={onRemove:function(){return O.map.off("load",Ge.connect),clearInterval(Ce),Ge.removeLayers(),O.store.restoreMapConfig(),O.ui.removeButtons(),O.events.removeEventListeners(),O.ui.clearMapClasses(),O.boxZoomInitial&&O.map.boxZoom.enable(),O.map=null,O.container=null,O.store=null,X&&X.parentNode&&X.parentNode.removeChild(X),X=null,this},connect:function(){O.map.off("load",Ge.connect),clearInterval(Ce),Ge.addLayers(),O.store.storeMapConfig(),O.events.addEventListeners()},onAdd:function(st){var dt=st.fire;return st.fire=function(yt,Xt){var tr=arguments;return dt.length===1&&arguments.length!==1&&(tr=[Mt({},{type:yt},Xt)]),dt.apply(st,tr)},O.map=st,O.events=function(yt){var Xt=Object.keys(yt.options.modes).reduce(function(Ut,Dr){return Ut[Dr]=Ct(yt.options.modes[Dr]),Ut},{}),tr={},mr={},pr={},dr=null,Rr=null;pr.drag=function(Ut,Dr){Dr({point:Ut.point,time:new Date().getTime()})?(yt.ui.queueMapClasses({mouse:C.DRAG}),Rr.drag(Ut)):Ut.originalEvent.stopPropagation()},pr.mousedrag=function(Ut){pr.drag(Ut,function(Dr){return!_e(tr,Dr)})},pr.touchdrag=function(Ut){pr.drag(Ut,function(Dr){return!Ne(mr,Dr)})},pr.mousemove=function(Ut){if((Ut.originalEvent.buttons!==void 0?Ut.originalEvent.buttons:Ut.originalEvent.which)===1)return pr.mousedrag(Ut);var Dr=ke(Ut,yt);Ut.featureTarget=Dr,Rr.mousemove(Ut)},pr.mousedown=function(Ut){tr={time:new Date().getTime(),point:Ut.point};var Dr=ke(Ut,yt);Ut.featureTarget=Dr,Rr.mousedown(Ut)},pr.mouseup=function(Ut){var Dr=ke(Ut,yt);Ut.featureTarget=Dr,_e(tr,{point:Ut.point,time:new Date().getTime()})?Rr.click(Ut):Rr.mouseup(Ut)},pr.mouseout=function(Ut){Rr.mouseout(Ut)},pr.touchstart=function(Ut){if(yt.options.touchEnabled){mr={time:new Date().getTime(),point:Ut.point};var Dr=fe.touch(Ut,null,yt)[0];Ut.featureTarget=Dr,Rr.touchstart(Ut)}},pr.touchmove=function(Ut){if(yt.options.touchEnabled)return Rr.touchmove(Ut),pr.touchdrag(Ut)},pr.touchend=function(Ut){if(Ut.originalEvent.preventDefault(),yt.options.touchEnabled){var Dr=fe.touch(Ut,null,yt)[0];Ut.featureTarget=Dr,Ne(mr,{time:new Date().getTime(),point:Ut.point})?Rr.tap(Ut):Rr.touchend(Ut)}};var si=function(Ut){return!(Ut===8||Ut===46||Ut>=48&&Ut<=57)};function Gr(Ut,Dr,Cn){Cn===void 0&&(Cn={}),Rr.stop();var Gi=Xt[Ut];if(Gi===void 0)throw new Error(Ut+" is not valid");dr=Ut;var pi=Gi(yt,Dr);Rr=r(pi,yt),Cn.silent||yt.map.fire(M.MODE_CHANGE,{mode:Ut}),yt.store.setDirty(),yt.store.render()}pr.keydown=function(Ut){(Ut.srcElement||Ut.target).classList.contains("mapboxgl-canvas")&&(Ut.keyCode!==8&&Ut.keyCode!==46||!yt.options.controls.trash?si(Ut.keyCode)?Rr.keydown(Ut):Ut.keyCode===49&&yt.options.controls.point?Gr($.DRAW_POINT):Ut.keyCode===50&&yt.options.controls.line_string?Gr($.DRAW_LINE_STRING):Ut.keyCode===51&&yt.options.controls.polygon&&Gr($.DRAW_POLYGON):(Ut.preventDefault(),Rr.trash()))},pr.keyup=function(Ut){si(Ut.keyCode)&&Rr.keyup(Ut)},pr.zoomend=function(){yt.store.changeZoom()},pr.data=function(Ut){if(Ut.dataType==="style"){var Dr=yt.setup,Cn=yt.map,Gi=yt.options,pi=yt.store;Gi.styles.some(function(Ll){return Cn.getLayer(Ll.id)})||(Dr.addLayers(),pi.setDirty(),pi.render())}};var Sr={trash:!1,combineFeatures:!1,uncombineFeatures:!1};return{start:function(){dr=yt.options.defaultMode,Rr=r(Xt[dr](yt),yt)},changeMode:Gr,actionable:function(Ut){var Dr=!1;Object.keys(Ut).forEach(function(Cn){if(Sr[Cn]===void 0)throw new Error("Invalid action type");Sr[Cn]!==Ut[Cn]&&(Dr=!0),Sr[Cn]=Ut[Cn]}),Dr&&yt.map.fire(M.ACTIONABLE,{actions:Sr})},currentModeName:function(){return dr},currentModeRender:function(Ut,Dr){return Rr.render(Ut,Dr)},fire:function(Ut,Dr){pr[Ut]&&pr[Ut](Dr)},addEventListeners:function(){yt.map.on("mousemove",pr.mousemove),yt.map.on("mousedown",pr.mousedown),yt.map.on("mouseup",pr.mouseup),yt.map.on("data",pr.data),yt.map.on("touchmove",pr.touchmove),yt.map.on("touchstart",pr.touchstart),yt.map.on("touchend",pr.touchend),yt.container.addEventListener("mouseout",pr.mouseout),yt.options.keybindings&&(yt.container.addEventListener("keydown",pr.keydown),yt.container.addEventListener("keyup",pr.keyup))},removeEventListeners:function(){yt.map.off("mousemove",pr.mousemove),yt.map.off("mousedown",pr.mousedown),yt.map.off("mouseup",pr.mouseup),yt.map.off("data",pr.data),yt.map.off("touchmove",pr.touchmove),yt.map.off("touchstart",pr.touchstart),yt.map.off("touchend",pr.touchend),yt.container.removeEventListener("mouseout",pr.mouseout),yt.options.keybindings&&(yt.container.removeEventListener("keydown",pr.keydown),yt.container.removeEventListener("keyup",pr.keyup))},trash:function(Ut){Rr.trash(Ut)},combineFeatures:function(){Rr.combineFeatures()},uncombineFeatures:function(){Rr.uncombineFeatures()},getMode:function(){return dr}}}(O),O.ui=function(yt){var Xt={},tr=null,mr={mode:null,feature:null,mouse:null},pr={mode:null,feature:null,mouse:null};function dr(Ut){pr=Mt(pr,Ut)}function Rr(){var Ut,Dr;if(yt.container){var Cn=[],Gi=[];It.forEach(function(pi){pr[pi]!==mr[pi]&&(Cn.push(pi+"-"+mr[pi]),pr[pi]!==null&&Gi.push(pi+"-"+pr[pi]))}),Cn.length>0&&(Ut=yt.container.classList).remove.apply(Ut,Cn),Gi.length>0&&(Dr=yt.container.classList).add.apply(Dr,Gi),mr=Mt(mr,pr)}}function si(Ut,Dr){Dr===void 0&&(Dr={});var Cn=document.createElement("button");return Cn.className=w.CONTROL_BUTTON+" "+Dr.className,Cn.setAttribute("title",Dr.title),Dr.container.appendChild(Cn),Cn.addEventListener("click",function(Gi){if(Gi.preventDefault(),Gi.stopPropagation(),Gi.target===tr)return Gr(),void Dr.onDeactivate();Sr(Ut),Dr.onActivate()},!0),Cn}function Gr(){tr&&(tr.classList.remove(w.ACTIVE_BUTTON),tr=null)}function Sr(Ut){Gr();var Dr=Xt[Ut];Dr&&Dr&&Ut!=="trash"&&(Dr.classList.add(w.ACTIVE_BUTTON),tr=Dr)}return{setActiveButton:Sr,queueMapClasses:dr,updateMapClasses:Rr,clearMapClasses:function(){dr({mode:null,feature:null,mouse:null}),Rr()},addButtons:function(){var Ut=yt.options.controls,Dr=document.createElement("div");return Dr.className=w.CONTROL_GROUP+" "+w.CONTROL_BASE,Ut&&(Ut[L.LINE]&&(Xt[L.LINE]=si(L.LINE,{container:Dr,className:w.CONTROL_BUTTON_LINE,title:"LineString tool "+(yt.options.keybindings?"(l)":""),onActivate:function(){return yt.events.changeMode($.DRAW_LINE_STRING)},onDeactivate:function(){return yt.events.trash()}})),Ut[L.POLYGON]&&(Xt[L.POLYGON]=si(L.POLYGON,{container:Dr,className:w.CONTROL_BUTTON_POLYGON,title:"Polygon tool "+(yt.options.keybindings?"(p)":""),onActivate:function(){return yt.events.changeMode($.DRAW_POLYGON)},onDeactivate:function(){return yt.events.trash()}})),Ut[L.POINT]&&(Xt[L.POINT]=si(L.POINT,{container:Dr,className:w.CONTROL_BUTTON_POINT,title:"Marker tool "+(yt.options.keybindings?"(m)":""),onActivate:function(){return yt.events.changeMode($.DRAW_POINT)},onDeactivate:function(){return yt.events.trash()}})),Ut.trash&&(Xt.trash=si("trash",{container:Dr,className:w.CONTROL_BUTTON_TRASH,title:"Delete",onActivate:function(){yt.events.trash()}})),Ut.combine_features&&(Xt.combine_features=si("combineFeatures",{container:Dr,className:w.CONTROL_BUTTON_COMBINE_FEATURES,title:"Combine",onActivate:function(){yt.events.combineFeatures()}})),Ut.uncombine_features&&(Xt.uncombine_features=si("uncombineFeatures",{container:Dr,className:w.CONTROL_BUTTON_UNCOMBINE_FEATURES,title:"Uncombine",onActivate:function(){yt.events.uncombineFeatures()}}))),Dr},removeButtons:function(){Object.keys(Xt).forEach(function(Ut){var Dr=Xt[Ut];Dr.parentNode&&Dr.parentNode.removeChild(Dr),delete Xt[Ut]})}}}(O),O.container=st.getContainer(),O.store=new ce(O),X=O.ui.addButtons(),O.options.boxSelect&&(O.boxZoomInitial=st.boxZoom.isEnabled(),st.boxZoom.disable(),st.dragPan.disable(),st.dragPan.enable()),st.loaded()?Ge.connect():(st.on("load",Ge.connect),Ce=setInterval(function(){st.loaded()&&Ge.connect()},16)),O.events.start(),X},addLayers:function(){O.map.addSource(S.COLD,{data:{type:k.FEATURE_COLLECTION,features:[]},type:"geojson"}),O.map.addSource(S.HOT,{data:{type:k.FEATURE_COLLECTION,features:[]},type:"geojson"}),O.options.styles.forEach(function(st){O.map.addLayer(st)}),O.store.setDirty(!0),O.store.render()},removeLayers:function(){O.options.styles.forEach(function(st){O.map.getLayer(st.id)&&O.map.removeLayer(st.id)}),O.map.getSource(S.COLD)&&O.map.removeSource(S.COLD),O.map.getSource(S.HOT)&&O.map.removeSource(S.HOT)}};return O.setup=Ge,Ge}var Lt=[{id:"gl-draw-polygon-fill-inactive",type:"fill",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],paint:{"fill-color":"#3bb2d0","fill-outline-color":"#3bb2d0","fill-opacity":.1}},{id:"gl-draw-polygon-fill-active",type:"fill",filter:["all",["==","active","true"],["==","$type","Polygon"]],paint:{"fill-color":"#fbb03b","fill-outline-color":"#fbb03b","fill-opacity":.1}},{id:"gl-draw-polygon-midpoint",type:"circle",filter:["all",["==","$type","Point"],["==","meta","midpoint"]],paint:{"circle-radius":3,"circle-color":"#fbb03b"}},{id:"gl-draw-polygon-stroke-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},{id:"gl-draw-polygon-stroke-active",type:"line",filter:["all",["==","active","true"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fbb03b","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-line-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","LineString"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},{id:"gl-draw-line-active",type:"line",filter:["all",["==","$type","LineString"],["==","active","true"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fbb03b","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-polygon-and-line-vertex-stroke-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-color":"#fff"}},{id:"gl-draw-polygon-and-line-vertex-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#fbb03b"}},{id:"gl-draw-point-point-stroke-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-opacity":1,"circle-color":"#fff"}},{id:"gl-draw-point-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#3bb2d0"}},{id:"gl-draw-point-stroke-active",type:"circle",filter:["all",["==","$type","Point"],["==","active","true"],["!=","meta","midpoint"]],paint:{"circle-radius":7,"circle-color":"#fff"}},{id:"gl-draw-point-active",type:"circle",filter:["all",["==","$type","Point"],["!=","meta","midpoint"],["==","active","true"]],paint:{"circle-radius":5,"circle-color":"#fbb03b"}},{id:"gl-draw-polygon-fill-static",type:"fill",filter:["all",["==","mode","static"],["==","$type","Polygon"]],paint:{"fill-color":"#404040","fill-outline-color":"#404040","fill-opacity":.1}},{id:"gl-draw-polygon-stroke-static",type:"line",filter:["all",["==","mode","static"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},{id:"gl-draw-line-static",type:"line",filter:["all",["==","mode","static"],["==","$type","LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},{id:"gl-draw-point-static",type:"circle",filter:["all",["==","mode","static"],["==","$type","Point"]],paint:{"circle-radius":5,"circle-color":"#404040"}}];function Jt(O){return function(X){var Ce=X.featureTarget;return!!Ce&&!!Ce.properties&&Ce.properties.meta===O}}function _r(O){return!!O.originalEvent&&!!O.originalEvent.shiftKey&&O.originalEvent.button===0}function Cr(O){return!!O.featureTarget&&!!O.featureTarget.properties&&O.featureTarget.properties.active===q.ACTIVE&&O.featureTarget.properties.meta===B.FEATURE}function Ir(O){return!!O.featureTarget&&!!O.featureTarget.properties&&O.featureTarget.properties.active===q.INACTIVE&&O.featureTarget.properties.meta===B.FEATURE}function Ze(O){return O.featureTarget===void 0}function gt(O){return!!O.featureTarget&&!!O.featureTarget.properties&&O.featureTarget.properties.meta===B.FEATURE}function Ft(O){var X=O.featureTarget;return!!X&&!!X.properties&&X.properties.meta===B.VERTEX}function At(O){return!!O.originalEvent&&O.originalEvent.shiftKey===!0}function Ar(O){return O.keyCode===27}function ot(O){return O.keyCode===13}var kt=Object.freeze({__proto__:null,isOfMetaType:Jt,isShiftMousedown:_r,isActiveFeature:Cr,isInactiveFeature:Ir,noTarget:Ze,isFeature:gt,isVertex:Ft,isShiftDown:At,isEscapeKey:Ar,isEnterKey:ot,isTrue:function(){return!0}}),Dt=cr;function cr(O,X){this.x=O,this.y=X}cr.prototype={clone:function(){return new cr(this.x,this.y)},add:function(O){return this.clone()._add(O)},sub:function(O){return this.clone()._sub(O)},multByPoint:function(O){return this.clone()._multByPoint(O)},divByPoint:function(O){return this.clone()._divByPoint(O)},mult:function(O){return this.clone()._mult(O)},div:function(O){return this.clone()._div(O)},rotate:function(O){return this.clone()._rotate(O)},rotateAround:function(O,X){return this.clone()._rotateAround(O,X)},matMult:function(O){return this.clone()._matMult(O)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(O){return this.x===O.x&&this.y===O.y},dist:function(O){return Math.sqrt(this.distSqr(O))},distSqr:function(O){var X=O.x-this.x,Ce=O.y-this.y;return X*X+Ce*Ce},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(O){return Math.atan2(this.y-O.y,this.x-O.x)},angleWith:function(O){return this.angleWithSep(O.x,O.y)},angleWithSep:function(O,X){return Math.atan2(this.x*X-this.y*O,this.x*O+this.y*X)},_matMult:function(O){var X=O[0]*this.x+O[1]*this.y,Ce=O[2]*this.x+O[3]*this.y;return this.x=X,this.y=Ce,this},_add:function(O){return this.x+=O.x,this.y+=O.y,this},_sub:function(O){return this.x-=O.x,this.y-=O.y,this},_mult:function(O){return this.x*=O,this.y*=O,this},_div:function(O){return this.x/=O,this.y/=O,this},_multByPoint:function(O){return this.x*=O.x,this.y*=O.y,this},_divByPoint:function(O){return this.x/=O.x,this.y/=O.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var O=this.y;return this.y=this.x,this.x=-O,this},_rotate:function(O){var X=Math.cos(O),Ce=Math.sin(O),Ge=X*this.x-Ce*this.y,st=Ce*this.x+X*this.y;return this.x=Ge,this.y=st,this},_rotateAround:function(O,X){var Ce=Math.cos(O),Ge=Math.sin(O),st=X.x+Ce*(this.x-X.x)-Ge*(this.y-X.y),dt=X.y+Ge*(this.x-X.x)+Ce*(this.y-X.y);return this.x=st,this.y=dt,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},cr.convert=function(O){return O instanceof cr?O:Array.isArray(O)?new cr(O[0],O[1]):O};var Wr=n(Dt);function nr(O,X){var Ce=X.getBoundingClientRect();return new Wr(O.clientX-Ce.left-(X.clientLeft||0),O.clientY-Ce.top-(X.clientTop||0))}function ei(O,X,Ce,Ge){return{type:k.FEATURE,properties:{meta:B.VERTEX,parent:O,coord_path:Ce,active:Ge?q.ACTIVE:q.INACTIVE},geometry:{type:k.POINT,coordinates:X}}}function On(O,X,Ce){var Ge=X.geometry.coordinates,st=Ce.geometry.coordinates;if(Ge[1]>85||Ge[1]<K||st[1]>85||st[1]<K)return null;var dt={lng:(Ge[0]+st[0])/2,lat:(Ge[1]+st[1])/2};return{type:k.FEATURE,properties:{meta:B.MIDPOINT,parent:O,lng:dt.lng,lat:dt.lat,coord_path:Ce.properties.coord_path},geometry:{type:k.POINT,coordinates:[dt.lng,dt.lat]}}}function hi(O,X,Ce){X===void 0&&(X={}),Ce===void 0&&(Ce=null);var Ge,st=O.geometry,dt=st.type,yt=st.coordinates,Xt=O.properties&&O.properties.id,tr=[];function mr(dr,Rr){var si="",Gr=null;dr.forEach(function(Sr,Ut){var Dr=Rr!=null?Rr+"."+Ut:String(Ut),Cn=ei(Xt,Sr,Dr,pr(Dr));if(X.midpoints&&Gr){var Gi=On(Xt,Gr,Cn);Gi&&tr.push(Gi)}Gr=Cn;var pi=JSON.stringify(Sr);si!==pi&&tr.push(Cn),Ut===0&&(si=pi)})}function pr(dr){return!!X.selectedPaths&&X.selectedPaths.indexOf(dr)!==-1}return dt===k.POINT?tr.push(ei(Xt,yt,Ce,pr(Ce))):dt===k.POLYGON?yt.forEach(function(dr,Rr){mr(dr,Ce!==null?Ce+"."+Rr:String(Rr))}):dt===k.LINE_STRING?mr(yt,Ce):dt.indexOf(k.MULTI_PREFIX)===0&&(Ge=dt.replace(k.MULTI_PREFIX,""),yt.forEach(function(dr,Rr){var si={type:k.FEATURE,properties:O.properties,geometry:{type:Ge,coordinates:dr}};tr=tr.concat(hi(si,X,Rr))})),tr}var Vn={enable:function(O){setTimeout(function(){O.map&&O.map.doubleClickZoom&&O._ctx&&O._ctx.store&&O._ctx.store.getInitialConfigValue&&O._ctx.store.getInitialConfigValue("doubleClickZoom")&&O.map.doubleClickZoom.enable()},0)},disable:function(O){setTimeout(function(){O.map&&O.map.doubleClickZoom&&O.map.doubleClickZoom.disable()},0)}},je={exports:{}},se=function(O){if(!O||!O.type)return null;var X=de[O.type];if(!X)return null;if(X==="geometry")return{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:O}]};if(X==="feature")return{type:"FeatureCollection",features:[O]};if(X==="featurecollection")return O},de={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featurecollection"},Pe=n(se),ze=Object.freeze({__proto__:null,default:function O(X){switch(X&&X.type||null){case"FeatureCollection":return X.features=X.features.reduce(function(Ce,Ge){return Ce.concat(O(Ge))},[]),X;case"Feature":return X.geometry?O(X.geometry).map(function(Ce){var Ge={type:"Feature",properties:JSON.parse(JSON.stringify(X.properties)),geometry:Ce};return X.id!==void 0&&(Ge.id=X.id),Ge}):[X];case"MultiPoint":return X.coordinates.map(function(Ce){return{type:"Point",coordinates:Ce}});case"MultiPolygon":return X.coordinates.map(function(Ce){return{type:"Polygon",coordinates:Ce}});case"MultiLineString":return X.coordinates.map(function(Ce){return{type:"LineString",coordinates:Ce}});case"GeometryCollection":return X.geometries.map(O).reduce(function(Ce,Ge){return Ce.concat(Ge)},[]);case"Point":case"Polygon":case"LineString":return[X]}}}),it=se,ct=i(ze),pe=function(O){return function X(Ce){return Array.isArray(Ce)&&Ce.length&&typeof Ce[0]=="number"?[Ce]:Ce.reduce(function(Ge,st){return Array.isArray(st)&&Array.isArray(st[0])?Ge.concat(X(st)):(Ge.push(st),Ge)},[])}(O)};ct instanceof Function||(ct=ct.default);var ve={exports:{}},Be=ve.exports=function(O){return new Ye(O)};function Ye(O){this.value=O}function et(O,X,Ce){var Ge=[],st=[],dt=!0;return function yt(Xt){var tr=Ce?St(Xt):Xt,mr={},pr=!0,dr={node:tr,node_:Xt,path:[].concat(Ge),parent:st[st.length-1],parents:st,key:Ge.slice(-1)[0],isRoot:Ge.length===0,level:Ge.length,circular:null,update:function(Gr,Sr){dr.isRoot||(dr.parent.node[dr.key]=Gr),dr.node=Gr,Sr&&(pr=!1)},delete:function(Gr){delete dr.parent.node[dr.key],Gr&&(pr=!1)},remove:function(Gr){Yt(dr.parent.node)?dr.parent.node.splice(dr.key,1):delete dr.parent.node[dr.key],Gr&&(pr=!1)},keys:null,before:function(Gr){mr.before=Gr},after:function(Gr){mr.after=Gr},pre:function(Gr){mr.pre=Gr},post:function(Gr){mr.post=Gr},stop:function(){dt=!1},block:function(){pr=!1}};if(!dt)return dr;function Rr(){if(typeof dr.node=="object"&&dr.node!==null){dr.keys&&dr.node_===dr.node||(dr.keys=Bt(dr.node)),dr.isLeaf=dr.keys.length==0;for(var Gr=0;Gr<st.length;Gr++)if(st[Gr].node_===Xt){dr.circular=st[Gr];break}}else dr.isLeaf=!0,dr.keys=null;dr.notLeaf=!dr.isLeaf,dr.notRoot=!dr.isRoot}Rr();var si=X.call(dr,dr.node);return si!==void 0&&dr.update&&dr.update(si),mr.before&&mr.before.call(dr,dr.node),pr&&(typeof dr.node!="object"||dr.node===null||dr.circular||(st.push(dr),Rr(),$t(dr.keys,function(Gr,Sr){Ge.push(Gr),mr.pre&&mr.pre.call(dr,dr.node[Gr],Gr);var Ut=yt(dr.node[Gr]);Ce&&Qt.call(dr.node,Gr)&&(dr.node[Gr]=Ut.node),Ut.isLast=Sr==dr.keys.length-1,Ut.isFirst=Sr==0,mr.post&&mr.post.call(dr,Ut),Ge.pop()}),st.pop()),mr.after&&mr.after.call(dr,dr.node)),dr}(O).node}function St(O){if(typeof O=="object"&&O!==null){var X;if(Yt(O))X=[];else if(Ot(O)==="[object Date]")X=new Date(O.getTime?O.getTime():O);else if(function(st){return Ot(st)==="[object RegExp]"}(O))X=new RegExp(O);else if(function(st){return Ot(st)==="[object Error]"}(O))X={message:O.message};else if(function(st){return Ot(st)==="[object Boolean]"}(O))X=new Boolean(O);else if(function(st){return Ot(st)==="[object Number]"}(O))X=new Number(O);else if(function(st){return Ot(st)==="[object String]"}(O))X=new String(O);else if(Object.create&&Object.getPrototypeOf)X=Object.create(Object.getPrototypeOf(O));else if(O.constructor===Object)X={};else{var Ce=O.constructor&&O.constructor.prototype||O.__proto__||{},Ge=function(){};Ge.prototype=Ce,X=new Ge}return $t(Bt(O),function(st){X[st]=O[st]}),X}return O}Ye.prototype.get=function(O){for(var X=this.value,Ce=0;Ce<O.length;Ce++){var Ge=O[Ce];if(!X||!Qt.call(X,Ge)){X=void 0;break}X=X[Ge]}return X},Ye.prototype.has=function(O){for(var X=this.value,Ce=0;Ce<O.length;Ce++){var Ge=O[Ce];if(!X||!Qt.call(X,Ge))return!1;X=X[Ge]}return!0},Ye.prototype.set=function(O,X){for(var Ce=this.value,Ge=0;Ge<O.length-1;Ge++){var st=O[Ge];Qt.call(Ce,st)||(Ce[st]={}),Ce=Ce[st]}return Ce[O[Ge]]=X,X},Ye.prototype.map=function(O){return et(this.value,O,!0)},Ye.prototype.forEach=function(O){return this.value=et(this.value,O,!1),this.value},Ye.prototype.reduce=function(O,X){var Ce=arguments.length===1,Ge=Ce?this.value:X;return this.forEach(function(st){this.isRoot&&Ce||(Ge=O.call(this,Ge,st))}),Ge},Ye.prototype.paths=function(){var O=[];return this.forEach(function(X){O.push(this.path)}),O},Ye.prototype.nodes=function(){var O=[];return this.forEach(function(X){O.push(this.node)}),O},Ye.prototype.clone=function(){var O=[],X=[];return function Ce(Ge){for(var st=0;st<O.length;st++)if(O[st]===Ge)return X[st];if(typeof Ge=="object"&&Ge!==null){var dt=St(Ge);return O.push(Ge),X.push(dt),$t(Bt(Ge),function(yt){dt[yt]=Ce(Ge[yt])}),O.pop(),X.pop(),dt}return Ge}(this.value)};var Bt=Object.keys||function(O){var X=[];for(var Ce in O)X.push(Ce);return X};function Ot(O){return Object.prototype.toString.call(O)}var Yt=Array.isArray||function(O){return Object.prototype.toString.call(O)==="[object Array]"},$t=function(O,X){if(O.forEach)return O.forEach(X);for(var Ce=0;Ce<O.length;Ce++)X(O[Ce],Ce,O)};$t(Bt(Ye.prototype),function(O){Be[O]=function(X){var Ce=[].slice.call(arguments,1),Ge=new Ye(X);return Ge[O].apply(Ge,Ce)}});var Qt=Object.hasOwnProperty||function(O,X){return X in O},hr=ve.exports,gr=yr;function yr(O){if(!(this instanceof yr))return new yr(O);this._bbox=O||[1/0,1/0,-1/0,-1/0],this._valid=!!O}yr.prototype.include=function(O){return this._valid=!0,this._bbox[0]=Math.min(this._bbox[0],O[0]),this._bbox[1]=Math.min(this._bbox[1],O[1]),this._bbox[2]=Math.max(this._bbox[2],O[0]),this._bbox[3]=Math.max(this._bbox[3],O[1]),this},yr.prototype.equals=function(O){var X;return X=O instanceof yr?O.bbox():O,this._bbox[0]==X[0]&&this._bbox[1]==X[1]&&this._bbox[2]==X[2]&&this._bbox[3]==X[3]},yr.prototype.center=function(O){return this._valid?[(this._bbox[0]+this._bbox[2])/2,(this._bbox[1]+this._bbox[3])/2]:null},yr.prototype.union=function(O){var X;return this._valid=!0,X=O instanceof yr?O.bbox():O,this._bbox[0]=Math.min(this._bbox[0],X[0]),this._bbox[1]=Math.min(this._bbox[1],X[1]),this._bbox[2]=Math.max(this._bbox[2],X[2]),this._bbox[3]=Math.max(this._bbox[3],X[3]),this},yr.prototype.bbox=function(){return this._valid?this._bbox:null},yr.prototype.contains=function(O){if(!O)return this._fastContains();if(!this._valid)return null;var X=O[0],Ce=O[1];return this._bbox[0]<=X&&this._bbox[1]<=Ce&&this._bbox[2]>=X&&this._bbox[3]>=Ce},yr.prototype.intersect=function(O){return this._valid?(X=O instanceof yr?O.bbox():O,!(this._bbox[0]>X[2]||this._bbox[2]<X[0]||this._bbox[3]<X[1]||this._bbox[1]>X[3])):null;var X},yr.prototype._fastContains=function(){if(!this._valid)return new Function("return null;");var O="return "+this._bbox[0]+"<= ll[0] &&"+this._bbox[1]+"<= ll[1] &&"+this._bbox[2]+">= ll[0] &&"+this._bbox[3]+">= ll[1]";return new Function("ll",O)},yr.prototype.polygon=function(){return this._valid?{type:"Polygon",coordinates:[[[this._bbox[0],this._bbox[1]],[this._bbox[2],this._bbox[1]],[this._bbox[2],this._bbox[3]],[this._bbox[0],this._bbox[3]],[this._bbox[0],this._bbox[1]]]]}:null};var vr=function(O){if(!O)return[];var X=ct(it(O)),Ce=[];return X.features.forEach(function(Ge){Ge.geometry&&(Ce=Ce.concat(pe(Ge.geometry.coordinates)))}),Ce},Tr=hr,zr=gr,Kn={features:["FeatureCollection"],coordinates:["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],geometry:["Feature"],geometries:["GeometryCollection"]},fi=Object.keys(Kn);function Hn(O){for(var X=zr(),Ce=vr(O),Ge=0;Ge<Ce.length;Ge++)X.include(Ce[Ge]);return X}je.exports=function(O){return Hn(O).bbox()},je.exports.polygon=function(O){return Hn(O).polygon()},je.exports.bboxify=function(O){return Tr(O).map(function(X){X&&fi.some(function(Ce){return!!X[Ce]&&Kn[Ce].indexOf(X.type)!==-1})&&(X.bbox=Hn(X).bbox(),this.update(X))})};var so=n(je.exports),In=-90;function ja(O,X){var Ce=In,Ge=90,st=In,dt=90,yt=270,Xt=-270;O.forEach(function(mr){var pr=so(mr),dr=pr[1],Rr=pr[3],si=pr[0],Gr=pr[2];dr>Ce&&(Ce=dr),Rr<Ge&&(Ge=Rr),Rr>st&&(st=Rr),dr<dt&&(dt=dr),si<yt&&(yt=si),Gr>Xt&&(Xt=Gr)});var tr=X;return Ce+tr.lat>85&&(tr.lat=85-Ce),st+tr.lat>90&&(tr.lat=90-st),Ge+tr.lat<-85&&(tr.lat=-85-Ge),dt+tr.lat<In&&(tr.lat=In-dt),yt+tr.lng<=-270&&(tr.lng+=360*Math.ceil(Math.abs(tr.lng)/360)),Xt+tr.lng>=270&&(tr.lng-=360*Math.ceil(Math.abs(tr.lng)/360)),tr}function To(O,X){var Ce=ja(O.map(function(Ge){return Ge.toGeoJSON()}),X);O.forEach(function(Ge){var st,dt=Ge.getCoordinates(),yt=function(tr){var mr={lng:tr[0]+Ce.lng,lat:tr[1]+Ce.lat};return[mr.lng,mr.lat]},Xt=function(tr){return tr.map(function(mr){return yt(mr)})};Ge.type===k.POINT?st=yt(dt):Ge.type===k.LINE_STRING||Ge.type===k.MULTI_POINT?st=dt.map(yt):Ge.type===k.POLYGON||Ge.type===k.MULTI_LINE_STRING?st=dt.map(Xt):Ge.type===k.MULTI_POLYGON&&(st=dt.map(function(tr){return tr.map(function(mr){return Xt(mr)})})),Ge.incomingCoords(st)})}var Ln={onSetup:function(O){var X=this,Ce={dragMoveLocation:null,boxSelectStartLocation:null,boxSelectElement:void 0,boxSelecting:!1,canBoxSelect:!1,dragMoving:!1,canDragMove:!1,initiallySelectedFeatureIds:O.featureIds||[]};return this.setSelected(Ce.initiallySelectedFeatureIds.filter(function(Ge){return X.getFeature(Ge)!==void 0})),this.fireActionable(),this.setActionableState({combineFeatures:!0,uncombineFeatures:!0,trash:!0}),Ce},fireUpdate:function(){this.map.fire(M.UPDATE,{action:z.MOVE,features:this.getSelected().map(function(O){return O.toGeoJSON()})})},fireActionable:function(){var O=this,X=this.getSelected(),Ce=X.filter(function(Xt){return O.isInstanceOf("MultiFeature",Xt)}),Ge=!1;if(X.length>1){Ge=!0;var st=X[0].type.replace("Multi","");X.forEach(function(Xt){Xt.type.replace("Multi","")!==st&&(Ge=!1)})}var dt=Ce.length>0,yt=X.length>0;this.setActionableState({combineFeatures:Ge,uncombineFeatures:dt,trash:yt})},getUniqueIds:function(O){return O.length?O.map(function(X){return X.properties.id}).filter(function(X){return X!==void 0}).reduce(function(X,Ce){return X.add(Ce),X},new re).values():[]},stopExtendedInteractions:function(O){O.boxSelectElement&&(O.boxSelectElement.parentNode&&O.boxSelectElement.parentNode.removeChild(O.boxSelectElement),O.boxSelectElement=null),this.map.dragPan.enable(),O.boxSelecting=!1,O.canBoxSelect=!1,O.dragMoving=!1,O.canDragMove=!1},onStop:function(){Vn.enable(this)},onMouseMove:function(O,X){return gt(X)&&O.dragMoving&&this.fireUpdate(),this.stopExtendedInteractions(O),!0},onMouseOut:function(O){return!O.dragMoving||this.fireUpdate()}};Ln.onTap=Ln.onClick=function(O,X){return Ze(X)?this.clickAnywhere(O,X):Jt(B.VERTEX)(X)?this.clickOnVertex(O,X):gt(X)?this.clickOnFeature(O,X):void 0},Ln.clickAnywhere=function(O){var X=this,Ce=this.getSelectedIds();Ce.length&&(this.clearSelectedFeatures(),Ce.forEach(function(Ge){return X.doRender(Ge)})),Vn.enable(this),this.stopExtendedInteractions(O)},Ln.clickOnVertex=function(O,X){this.changeMode($.DIRECT_SELECT,{featureId:X.featureTarget.properties.parent,coordPath:X.featureTarget.properties.coord_path,startPos:X.lngLat}),this.updateUIClasses({mouse:C.MOVE})},Ln.startOnActiveFeature=function(O,X){this.stopExtendedInteractions(O),this.map.dragPan.disable(),this.doRender(X.featureTarget.properties.id),O.canDragMove=!0,O.dragMoveLocation=X.lngLat},Ln.clickOnFeature=function(O,X){var Ce=this;Vn.disable(this),this.stopExtendedInteractions(O);var Ge=At(X),st=this.getSelectedIds(),dt=X.featureTarget.properties.id,yt=this.isSelected(dt);if(!Ge&&yt&&this.getFeature(dt).type!==k.POINT)return this.changeMode($.DIRECT_SELECT,{featureId:dt});yt&&Ge?(this.deselect(dt),this.updateUIClasses({mouse:C.POINTER}),st.length===1&&Vn.enable(this)):!yt&&Ge?(this.select(dt),this.updateUIClasses({mouse:C.MOVE})):yt||Ge||(st.forEach(function(Xt){return Ce.doRender(Xt)}),this.setSelected(dt),this.updateUIClasses({mouse:C.MOVE})),this.doRender(dt)},Ln.onMouseDown=function(O,X){return Cr(X)?this.startOnActiveFeature(O,X):this.drawConfig.boxSelect&&_r(X)?this.startBoxSelect(O,X):void 0},Ln.startBoxSelect=function(O,X){this.stopExtendedInteractions(O),this.map.dragPan.disable(),O.boxSelectStartLocation=nr(X.originalEvent,this.map.getContainer()),O.canBoxSelect=!0},Ln.onTouchStart=function(O,X){if(Cr(X))return this.startOnActiveFeature(O,X)},Ln.onDrag=function(O,X){return O.canDragMove?this.dragMove(O,X):this.drawConfig.boxSelect&&O.canBoxSelect?this.whileBoxSelect(O,X):void 0},Ln.whileBoxSelect=function(O,X){O.boxSelecting=!0,this.updateUIClasses({mouse:C.ADD}),O.boxSelectElement||(O.boxSelectElement=document.createElement("div"),O.boxSelectElement.classList.add(w.BOX_SELECT),this.map.getContainer().appendChild(O.boxSelectElement));var Ce=nr(X.originalEvent,this.map.getContainer()),Ge=Math.min(O.boxSelectStartLocation.x,Ce.x),st=Math.max(O.boxSelectStartLocation.x,Ce.x),dt=Math.min(O.boxSelectStartLocation.y,Ce.y),yt=Math.max(O.boxSelectStartLocation.y,Ce.y),Xt="translate("+Ge+"px, "+dt+"px)";O.boxSelectElement.style.transform=Xt,O.boxSelectElement.style.WebkitTransform=Xt,O.boxSelectElement.style.width=st-Ge+"px",O.boxSelectElement.style.height=yt-dt+"px"},Ln.dragMove=function(O,X){O.dragMoving=!0,X.originalEvent.stopPropagation();var Ce={lng:X.lngLat.lng-O.dragMoveLocation.lng,lat:X.lngLat.lat-O.dragMoveLocation.lat};To(this.getSelected(),Ce),O.dragMoveLocation=X.lngLat},Ln.onTouchEnd=Ln.onMouseUp=function(O,X){var Ce=this;if(O.dragMoving)this.fireUpdate();else if(O.boxSelecting){var Ge=[O.boxSelectStartLocation,nr(X.originalEvent,this.map.getContainer())],st=this.featuresAt(null,Ge,"click"),dt=this.getUniqueIds(st).filter(function(yt){return!Ce.isSelected(yt)});dt.length&&(this.select(dt),dt.forEach(function(yt){return Ce.doRender(yt)}),this.updateUIClasses({mouse:C.MOVE}))}this.stopExtendedInteractions(O)},Ln.toDisplayFeatures=function(O,X,Ce){X.properties.active=this.isSelected(X.properties.id)?q.ACTIVE:q.INACTIVE,Ce(X),this.fireActionable(),X.properties.active===q.ACTIVE&&X.geometry.type!==k.POINT&&hi(X).forEach(Ce)},Ln.onTrash=function(){this.deleteFeature(this.getSelectedIds()),this.fireActionable()},Ln.onCombineFeatures=function(){var O=this.getSelected();if(!(O.length===0||O.length<2)){for(var X=[],Ce=[],Ge=O[0].type.replace("Multi",""),st=0;st<O.length;st++){var dt=O[st];if(dt.type.replace("Multi","")!==Ge)return;dt.type.includes("Multi")?dt.getCoordinates().forEach(function(Xt){X.push(Xt)}):X.push(dt.getCoordinates()),Ce.push(dt.toGeoJSON())}if(Ce.length>1){var yt=this.newFeature({type:k.FEATURE,properties:Ce[0].properties,geometry:{type:"Multi"+Ge,coordinates:X}});this.addFeature(yt),this.deleteFeature(this.getSelectedIds(),{silent:!0}),this.setSelected([yt.id]),this.map.fire(M.COMBINE_FEATURES,{createdFeatures:[yt.toGeoJSON()],deletedFeatures:Ce})}this.fireActionable()}},Ln.onUncombineFeatures=function(){var O=this,X=this.getSelected();if(X.length!==0){for(var Ce=[],Ge=[],st=function(yt){var Xt=X[yt];O.isInstanceOf("MultiFeature",Xt)&&(Xt.getFeatures().forEach(function(tr){O.addFeature(tr),tr.properties=Xt.properties,Ce.push(tr.toGeoJSON()),O.select([tr.id])}),O.deleteFeature(Xt.id,{silent:!0}),Ge.push(Xt.toGeoJSON()))},dt=0;dt<X.length;dt++)st(dt);Ce.length>1&&this.map.fire(M.UNCOMBINE_FEATURES,{createdFeatures:Ce,deletedFeatures:Ge}),this.fireActionable()}};var eo=Jt(B.VERTEX),Mn=Jt(B.MIDPOINT),xn={fireUpdate:function(){this.map.fire(M.UPDATE,{action:z.CHANGE_COORDINATES,features:this.getSelected().map(function(O){return O.toGeoJSON()})})},fireActionable:function(O){this.setActionableState({combineFeatures:!1,uncombineFeatures:!1,trash:O.selectedCoordPaths.length>0})},startDragging:function(O,X){this.map.dragPan.disable(),O.canDragMove=!0,O.dragMoveLocation=X.lngLat},stopDragging:function(O){this.map.dragPan.enable(),O.dragMoving=!1,O.canDragMove=!1,O.dragMoveLocation=null},onVertex:function(O,X){this.startDragging(O,X);var Ce=X.featureTarget.properties,Ge=O.selectedCoordPaths.indexOf(Ce.coord_path);At(X)||Ge!==-1?At(X)&&Ge===-1&&O.selectedCoordPaths.push(Ce.coord_path):O.selectedCoordPaths=[Ce.coord_path];var st=this.pathsToCoordinates(O.featureId,O.selectedCoordPaths);this.setSelectedCoordinates(st)},onMidpoint:function(O,X){this.startDragging(O,X);var Ce=X.featureTarget.properties;O.feature.addCoordinate(Ce.coord_path,Ce.lng,Ce.lat),this.fireUpdate(),O.selectedCoordPaths=[Ce.coord_path]},pathsToCoordinates:function(O,X){return X.map(function(Ce){return{feature_id:O,coord_path:Ce}})},onFeature:function(O,X){O.selectedCoordPaths.length===0?this.startDragging(O,X):this.stopDragging(O)},dragFeature:function(O,X,Ce){To(this.getSelected(),Ce),O.dragMoveLocation=X.lngLat},dragVertex:function(O,X,Ce){for(var Ge=O.selectedCoordPaths.map(function(Xt){return O.feature.getCoordinate(Xt)}),st=ja(Ge.map(function(Xt){return{type:k.FEATURE,properties:{},geometry:{type:k.POINT,coordinates:Xt}}}),Ce),dt=0;dt<Ge.length;dt++){var yt=Ge[dt];O.feature.updateCoordinate(O.selectedCoordPaths[dt],yt[0]+st.lng,yt[1]+st.lat)}},clickNoTarget:function(){this.changeMode($.SIMPLE_SELECT)},clickInactive:function(){this.changeMode($.SIMPLE_SELECT)},clickActiveFeature:function(O){O.selectedCoordPaths=[],this.clearSelectedCoordinates(),O.feature.changed()},onSetup:function(O){var X=O.featureId,Ce=this.getFeature(X);if(!Ce)throw new Error("You must provide a featureId to enter direct_select mode");if(Ce.type===k.POINT)throw new TypeError("direct_select mode doesn't handle point features");var Ge={featureId:X,feature:Ce,dragMoveLocation:O.startPos||null,dragMoving:!1,canDragMove:!1,selectedCoordPaths:O.coordPath?[O.coordPath]:[]};return this.setSelectedCoordinates(this.pathsToCoordinates(X,Ge.selectedCoordPaths)),this.setSelected(X),Vn.disable(this),this.setActionableState({trash:!0}),Ge},onStop:function(){Vn.enable(this),this.clearSelectedCoordinates()},toDisplayFeatures:function(O,X,Ce){O.featureId===X.properties.id?(X.properties.active=q.ACTIVE,Ce(X),hi(X,{map:this.map,midpoints:!0,selectedPaths:O.selectedCoordPaths}).forEach(Ce)):(X.properties.active=q.INACTIVE,Ce(X)),this.fireActionable(O)},onTrash:function(O){O.selectedCoordPaths.sort(function(X,Ce){return Ce.localeCompare(X,"en",{numeric:!0})}).forEach(function(X){return O.feature.removeCoordinate(X)}),this.fireUpdate(),O.selectedCoordPaths=[],this.clearSelectedCoordinates(),this.fireActionable(O),O.feature.isValid()===!1&&(this.deleteFeature([O.featureId]),this.changeMode($.SIMPLE_SELECT,{}))},onMouseMove:function(O,X){var Ce=Cr(X),Ge=eo(X),st=Mn(X),dt=O.selectedCoordPaths.length===0;return Ce&&dt||Ge&&!dt?this.updateUIClasses({mouse:C.MOVE}):this.updateUIClasses({mouse:C.NONE}),(Ge||Ce||st)&&O.dragMoving&&this.fireUpdate(),this.stopDragging(O),!0},onMouseOut:function(O){return O.dragMoving&&this.fireUpdate(),!0}};xn.onTouchStart=xn.onMouseDown=function(O,X){return eo(X)?this.onVertex(O,X):Cr(X)?this.onFeature(O,X):Mn(X)?this.onMidpoint(O,X):void 0},xn.onDrag=function(O,X){if(O.canDragMove===!0){O.dragMoving=!0,X.originalEvent.stopPropagation();var Ce={lng:X.lngLat.lng-O.dragMoveLocation.lng,lat:X.lngLat.lat-O.dragMoveLocation.lat};O.selectedCoordPaths.length>0?this.dragVertex(O,X,Ce):this.dragFeature(O,X,Ce),O.dragMoveLocation=X.lngLat}},xn.onClick=function(O,X){return Ze(X)?this.clickNoTarget(O,X):Cr(X)?this.clickActiveFeature(O,X):Ir(X)?this.clickInactive(O,X):void this.stopDragging(O)},xn.onTap=function(O,X){return Ze(X)?this.clickNoTarget(O,X):Cr(X)?this.clickActiveFeature(O,X):Ir(X)?this.clickInactive(O,X):void 0},xn.onTouchEnd=xn.onMouseUp=function(O){O.dragMoving&&this.fireUpdate(),this.stopDragging(O)};var Wn={};function Fo(O,X){return!!O.lngLat&&O.lngLat.lng===X[0]&&O.lngLat.lat===X[1]}Wn.onSetup=function(){var O=this.newFeature({type:k.FEATURE,properties:{},geometry:{type:k.POINT,coordinates:[]}});return this.addFeature(O),this.clearSelectedFeatures(),this.updateUIClasses({mouse:C.ADD}),this.activateUIButton(L.POINT),this.setActionableState({trash:!0}),{point:O}},Wn.stopDrawingAndRemove=function(O){this.deleteFeature([O.point.id],{silent:!0}),this.changeMode($.SIMPLE_SELECT)},Wn.onTap=Wn.onClick=function(O,X){this.updateUIClasses({mouse:C.MOVE}),O.point.updateCoordinate("",X.lngLat.lng,X.lngLat.lat),this.map.fire(M.CREATE,{features:[O.point.toGeoJSON()]}),this.changeMode($.SIMPLE_SELECT,{featureIds:[O.point.id]})},Wn.onStop=function(O){this.activateUIButton(),O.point.getCoordinate().length||this.deleteFeature([O.point.id],{silent:!0})},Wn.toDisplayFeatures=function(O,X,Ce){var Ge=X.properties.id===O.point.id;if(X.properties.active=Ge?q.ACTIVE:q.INACTIVE,!Ge)return Ce(X)},Wn.onTrash=Wn.stopDrawingAndRemove,Wn.onKeyUp=function(O,X){if(Ar(X)||ot(X))return this.stopDrawingAndRemove(O,X)};var Rn={onSetup:function(){var O=this.newFeature({type:k.FEATURE,properties:{},geometry:{type:k.POLYGON,coordinates:[[]]}});return this.addFeature(O),this.clearSelectedFeatures(),Vn.disable(this),this.updateUIClasses({mouse:C.ADD}),this.activateUIButton(L.POLYGON),this.setActionableState({trash:!0}),{polygon:O,currentVertexPosition:0}},clickAnywhere:function(O,X){if(O.currentVertexPosition>0&&Fo(X,O.polygon.coordinates[0][O.currentVertexPosition-1]))return this.changeMode($.SIMPLE_SELECT,{featureIds:[O.polygon.id]});this.updateUIClasses({mouse:C.ADD}),O.polygon.updateCoordinate("0."+O.currentVertexPosition,X.lngLat.lng,X.lngLat.lat),O.currentVertexPosition++,O.polygon.updateCoordinate("0."+O.currentVertexPosition,X.lngLat.lng,X.lngLat.lat)},clickOnVertex:function(O){return this.changeMode($.SIMPLE_SELECT,{featureIds:[O.polygon.id]})},onMouseMove:function(O,X){O.polygon.updateCoordinate("0."+O.currentVertexPosition,X.lngLat.lng,X.lngLat.lat),Ft(X)&&this.updateUIClasses({mouse:C.POINTER})}};Rn.onTap=Rn.onClick=function(O,X){return Ft(X)?this.clickOnVertex(O,X):this.clickAnywhere(O,X)},Rn.onKeyUp=function(O,X){Ar(X)?(this.deleteFeature([O.polygon.id],{silent:!0}),this.changeMode($.SIMPLE_SELECT)):ot(X)&&this.changeMode($.SIMPLE_SELECT,{featureIds:[O.polygon.id]})},Rn.onStop=function(O){this.updateUIClasses({mouse:C.NONE}),Vn.enable(this),this.activateUIButton(),this.getFeature(O.polygon.id)!==void 0&&(O.polygon.removeCoordinate("0."+O.currentVertexPosition),O.polygon.isValid()?this.map.fire(M.CREATE,{features:[O.polygon.toGeoJSON()]}):(this.deleteFeature([O.polygon.id],{silent:!0}),this.changeMode($.SIMPLE_SELECT,{},{silent:!0})))},Rn.toDisplayFeatures=function(O,X,Ce){var Ge=X.properties.id===O.polygon.id;if(X.properties.active=Ge?q.ACTIVE:q.INACTIVE,!Ge)return Ce(X);if(X.geometry.coordinates.length!==0){var st=X.geometry.coordinates[0].length;if(!(st<3)){if(X.properties.meta=B.FEATURE,Ce(ei(O.polygon.id,X.geometry.coordinates[0][0],"0.0",!1)),st>3){var dt=X.geometry.coordinates[0].length-3;Ce(ei(O.polygon.id,X.geometry.coordinates[0][dt],"0."+dt,!1))}if(st<=4){var yt=[[X.geometry.coordinates[0][0][0],X.geometry.coordinates[0][0][1]],[X.geometry.coordinates[0][1][0],X.geometry.coordinates[0][1][1]]];if(Ce({type:k.FEATURE,properties:X.properties,geometry:{coordinates:yt,type:k.LINE_STRING}}),st===3)return}return Ce(X)}}},Rn.onTrash=function(O){this.deleteFeature([O.polygon.id],{silent:!0}),this.changeMode($.SIMPLE_SELECT)};var zn={onSetup:function(O){var X,Ce,Ge=(O=O||{}).featureId,st="forward";if(Ge){if(!(X=this.getFeature(Ge)))throw new Error("Could not find a feature with the provided featureId");var dt=O.from;if(dt&&dt.type==="Feature"&&dt.geometry&&dt.geometry.type==="Point"&&(dt=dt.geometry),dt&&dt.type==="Point"&&dt.coordinates&&dt.coordinates.length===2&&(dt=dt.coordinates),!dt||!Array.isArray(dt))throw new Error("Please use the `from` property to indicate which point to continue the line from");var yt=X.coordinates.length-1;if(X.coordinates[yt][0]===dt[0]&&X.coordinates[yt][1]===dt[1])Ce=yt+1,X.addCoordinate.apply(X,[Ce].concat(X.coordinates[yt]));else{if(X.coordinates[0][0]!==dt[0]||X.coordinates[0][1]!==dt[1])throw new Error("`from` should match the point at either the start or the end of the provided LineString");st="backwards",Ce=0,X.addCoordinate.apply(X,[Ce].concat(X.coordinates[0]))}}else X=this.newFeature({type:k.FEATURE,properties:{},geometry:{type:k.LINE_STRING,coordinates:[]}}),Ce=0,this.addFeature(X);return this.clearSelectedFeatures(),Vn.disable(this),this.updateUIClasses({mouse:C.ADD}),this.activateUIButton(L.LINE),this.setActionableState({trash:!0}),{line:X,currentVertexPosition:Ce,direction:st}},clickAnywhere:function(O,X){if(O.currentVertexPosition>0&&Fo(X,O.line.coordinates[O.currentVertexPosition-1])||O.direction==="backwards"&&Fo(X,O.line.coordinates[O.currentVertexPosition+1]))return this.changeMode($.SIMPLE_SELECT,{featureIds:[O.line.id]});this.updateUIClasses({mouse:C.ADD}),O.line.updateCoordinate(O.currentVertexPosition,X.lngLat.lng,X.lngLat.lat),O.direction==="forward"?(O.currentVertexPosition++,O.line.updateCoordinate(O.currentVertexPosition,X.lngLat.lng,X.lngLat.lat)):O.line.addCoordinate(0,X.lngLat.lng,X.lngLat.lat)},clickOnVertex:function(O){return this.changeMode($.SIMPLE_SELECT,{featureIds:[O.line.id]})},onMouseMove:function(O,X){O.line.updateCoordinate(O.currentVertexPosition,X.lngLat.lng,X.lngLat.lat),Ft(X)&&this.updateUIClasses({mouse:C.POINTER})}};zn.onTap=zn.onClick=function(O,X){if(Ft(X))return this.clickOnVertex(O,X);this.clickAnywhere(O,X)},zn.onKeyUp=function(O,X){ot(X)?this.changeMode($.SIMPLE_SELECT,{featureIds:[O.line.id]}):Ar(X)&&(this.deleteFeature([O.line.id],{silent:!0}),this.changeMode($.SIMPLE_SELECT))},zn.onStop=function(O){Vn.enable(this),this.activateUIButton(),this.getFeature(O.line.id)!==void 0&&(O.line.removeCoordinate(""+O.currentVertexPosition),O.line.isValid()?this.map.fire(M.CREATE,{features:[O.line.toGeoJSON()]}):(this.deleteFeature([O.line.id],{silent:!0}),this.changeMode($.SIMPLE_SELECT,{},{silent:!0})))},zn.onTrash=function(O){this.deleteFeature([O.line.id],{silent:!0}),this.changeMode($.SIMPLE_SELECT)},zn.toDisplayFeatures=function(O,X,Ce){var Ge=X.properties.id===O.line.id;if(X.properties.active=Ge?q.ACTIVE:q.INACTIVE,!Ge)return Ce(X);X.geometry.coordinates.length<2||(X.properties.meta=B.FEATURE,Ce(ei(O.line.id,X.geometry.coordinates[O.direction==="forward"?X.geometry.coordinates.length-2:1],""+(O.direction==="forward"?X.geometry.coordinates.length-2:1),!1)),Ce(X))};var ai={simple_select:Ln,direct_select:xn,draw_point:Wn,draw_polygon:Rn,draw_line_string:zn},Ko={defaultMode:$.SIMPLE_SELECT,keybindings:!0,touchEnabled:!0,clickBuffer:2,touchBuffer:25,boxSelect:!0,displayControlsDefault:!0,styles:Lt,modes:ai,controls:{},userProperties:!1},Li={point:!0,line_string:!0,polygon:!0,trash:!0,combine_features:!0,uncombine_features:!0},du={point:!1,line_string:!1,polygon:!1,trash:!1,combine_features:!1,uncombine_features:!1};function Xo(O,X){return O.map(function(Ce){return Ce.source?Ce:Mt(Ce,{id:Ce.id+"."+X,source:X==="hot"?S.HOT:S.COLD})})}var hu={exports:{}};(function(O,X){var Ce="__lodash_hash_undefined__",Ge=9007199254740991,st="[object Arguments]",dt="[object Array]",yt="[object Boolean]",Xt="[object Date]",tr="[object Error]",mr="[object Function]",pr="[object Map]",dr="[object Number]",Rr="[object Object]",si="[object Promise]",Gr="[object RegExp]",Sr="[object Set]",Ut="[object String]",Dr="[object Symbol]",Cn="[object WeakMap]",Gi="[object ArrayBuffer]",pi="[object DataView]",Ll=/^\[object .+?Constructor\]$/,Ku=/^(?:0|[1-9]\d*)$/,mi={};mi["[object Float32Array]"]=mi["[object Float64Array]"]=mi["[object Int8Array]"]=mi["[object Int16Array]"]=mi["[object Int32Array]"]=mi["[object Uint8Array]"]=mi["[object Uint8ClampedArray]"]=mi["[object Uint16Array]"]=mi["[object Uint32Array]"]=!0,mi[st]=mi[dt]=mi[Gi]=mi[yt]=mi[pi]=mi[Xt]=mi[tr]=mi[mr]=mi[pr]=mi[dr]=mi[Rr]=mi[Gr]=mi[Sr]=mi[Ut]=mi[Cn]=!1;var pd=typeof Gd=="object"&&Gd&&Gd.Object===Object&&Gd,dh=typeof self=="object"&&self&&self.Object===Object&&self,Ca=pd||dh||Function("return this")(),Qa=X&&!X.nodeType&&X,ys=Qa&&O&&!O.nodeType&&O,pu=ys&&ys.exports===Qa,vs=pu&&pd.process,Ml=function(){try{return vs&&vs.binding&&vs.binding("util")}catch{}}(),Zo=Ml&&Ml.isTypedArray;function md(at,Tt){for(var lr=-1,$r=at==null?0:at.length;++lr<$r;)if(Tt(at[lr],lr,at))return!0;return!1}function Xu(at){var Tt=-1,lr=Array(at.size);return at.forEach(function($r,Dn){lr[++Tt]=[Dn,$r]}),lr}function Fs(at){var Tt=-1,lr=Array(at.size);return at.forEach(function($r){lr[++Tt]=$r}),lr}var es,En,ts,hh=Array.prototype,Ua=Function.prototype,Ea=Object.prototype,Rl=Ca["__core-js_shared__"],Dl=Ua.toString,Va=Ea.hasOwnProperty,hl=(es=/[^.]+$/.exec(Rl&&Rl.keys&&Rl.keys.IE_PROTO||""))?"Symbol(src)_1."+es:"",Lc=Ea.toString,Zu=RegExp("^"+Dl.call(Va).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mu=pu?Ca.Buffer:void 0,Ol=Ca.Symbol,qa=Ca.Uint8Array,gu=Ea.propertyIsEnumerable,Mc=hh.splice,bs=Ol?Ol.toStringTag:void 0,Nl=Object.getOwnPropertySymbols,Yu=mu?mu.isBuffer:void 0,$s=(En=Object.keys,ts=Object,function(at){return En(ts(at))}),yu=da(Ca,"DataView"),rs=da(Ca,"Map"),Fl=da(Ca,"Promise"),j=da(Ca,"Set"),be=da(Ca,"WeakMap"),qe=da(Object,"create"),ht=Ta(yu),xt=Ta(rs),Nt=Ta(Fl),ir=Ta(j),Pr=Ta(be),Yr=Ol?Ol.prototype:void 0,fn=Yr?Yr.valueOf:void 0;function pn(at){var Tt=-1,lr=at==null?0:at.length;for(this.clear();++Tt<lr;){var $r=at[Tt];this.set($r[0],$r[1])}}function mn(at){var Tt=-1,lr=at==null?0:at.length;for(this.clear();++Tt<lr;){var $r=at[Tt];this.set($r[0],$r[1])}}function Xn(at){var Tt=-1,lr=at==null?0:at.length;for(this.clear();++Tt<lr;){var $r=at[Tt];this.set($r[0],$r[1])}}function Ai(at){var Tt=-1,lr=at==null?0:at.length;for(this.__data__=new Xn;++Tt<lr;)this.add(at[Tt])}function gn(at){var Tt=this.__data__=new mn(at);this.size=Tt.size}function Yo(at,Tt){var lr=to(at),$r=!lr&&ml(at),Dn=!lr&&!$r&&js(at),bn=!lr&&!$r&&!Dn&&Rc(at),ti=lr||$r||Dn||bn,Zn=ti?function(li,Ti){for(var Ki=-1,wi=Array(li);++Ki<li;)wi[Ki]=Ti(Ki);return wi}(at.length,String):[],jo=Zn.length;for(var _i in at)!Va.call(at,_i)||ti&&(_i=="length"||Dn&&(_i=="offset"||_i=="parent")||bn&&(_i=="buffer"||_i=="byteLength"||_i=="byteOffset")||$l(_i,jo))||Zn.push(_i);return Zn}function qr(at,Tt){for(var lr=at.length;lr--;)if(Ha(at[lr][0],Tt))return lr;return-1}function Po(at){return at==null?at===void 0?"[object Undefined]":"[object Null]":bs&&bs in Object(at)?function(Tt){var lr=Va.call(Tt,bs),$r=Tt[bs];try{Tt[bs]=void 0;var Dn=!0}catch{}var bn=Lc.call(Tt);return Dn&&(lr?Tt[bs]=$r:delete Tt[bs]),bn}(at):function(Tt){return Lc.call(Tt)}(at)}function Tn(at){return Pa(at)&&Po(at)==st}function Fn(at,Tt,lr,$r,Dn){return at===Tt||(at==null||Tt==null||!Pa(at)&&!Pa(Tt)?at!=at&&Tt!=Tt:function(bn,ti,Zn,jo,_i,li){var Ti=to(bn),Ki=to(ti),wi=Ti?dt:Oi(bn),Jo=Ki?dt:Oi(ti),Uo=(wi=wi==st?Rr:wi)==Rr,ha=(Jo=Jo==st?Rr:Jo)==Rr,Wa=wi==Jo;if(Wa&&js(bn)){if(!js(ti))return!1;Ti=!0,Uo=!1}if(Wa&&!Uo)return li||(li=new gn),Ti||Rc(bn)?zs(bn,ti,Zn,jo,_i,li):function(ln,cn,Qo,go,Ni,ro,xs){switch(Qo){case pi:if(ln.byteLength!=cn.byteLength||ln.byteOffset!=cn.byteOffset)return!1;ln=ln.buffer,cn=cn.buffer;case Gi:return!(ln.byteLength!=cn.byteLength||!ro(new qa(ln),new qa(cn)));case yt:case Xt:case dr:return Ha(+ln,+cn);case tr:return ln.name==cn.name&&ln.message==cn.message;case Gr:case Ut:return ln==cn+"";case pr:var Vs=Xu;case Sr:var yi=1&go;if(Vs||(Vs=Fs),ln.size!=cn.size&&!yi)return!1;var fa=xs.get(ln);if(fa)return fa==cn;go|=2,xs.set(ln,cn);var yo=zs(Vs(ln),Vs(cn),go,Ni,ro,xs);return xs.delete(ln),yo;case Dr:if(fn)return fn.call(ln)==fn.call(cn)}return!1}(bn,ti,wi,Zn,jo,_i,li);if(!(1&Zn)){var mo=Uo&&Va.call(bn,"__wrapped__"),ns=ha&&Va.call(ti,"__wrapped__");if(mo||ns){var Si=mo?bn.value():bn,gi=ns?ti.value():ti;return li||(li=new gn),_i(Si,gi,Zn,jo,li)}}return Wa?(li||(li=new gn),function(ln,cn,Qo,go,Ni,ro){var xs=1&Qo,Vs=pl(ln),yi=Vs.length,fa=pl(cn).length;if(yi!=fa&&!xs)return!1;for(var yo=yi;yo--;){var is=Vs[yo];if(!(xs?is in cn:Va.call(cn,is)))return!1}var Ju=ro.get(ln);if(Ju&&ro.get(cn))return Ju==cn;var qs=!0;ro.set(ln,cn),ro.set(cn,ln);for(var lo=xs;++yo<yi;){var Fi=ln[is=Vs[yo]],gl=cn[is];if(go)var zl=xs?go(gl,Fi,is,cn,ln,ro):go(Fi,gl,is,ln,cn,ro);if(!(zl===void 0?Fi===gl||Ni(Fi,gl,Qo,go,ro):zl)){qs=!1;break}lo||(lo=is=="constructor")}if(qs&&!lo){var vu=ln.constructor,Hs=cn.constructor;vu==Hs||!("constructor"in ln)||!("constructor"in cn)||typeof vu=="function"&&vu instanceof vu&&typeof Hs=="function"&&Hs instanceof Hs||(qs=!1)}return ro.delete(ln),ro.delete(cn),qs}(bn,ti,Zn,jo,_i,li)):!1}(at,Tt,lr,$r,Fn,Dn))}function Bs(at){return!(!zo(at)||function(Tt){return!!hl&&hl in Tt}(at))&&(Us(at)?Zu:Ll).test(Ta(at))}function fl(at){if(lr=(Tt=at)&&Tt.constructor,$r=typeof lr=="function"&&lr.prototype||Ea,Tt!==$r)return $s(at);var Tt,lr,$r,Dn=[];for(var bn in Object(at))Va.call(at,bn)&&bn!="constructor"&&Dn.push(bn);return Dn}function zs(at,Tt,lr,$r,Dn,bn){var ti=1&lr,Zn=at.length,jo=Tt.length;if(Zn!=jo&&!(ti&&jo>Zn))return!1;var _i=bn.get(at);if(_i&&bn.get(Tt))return _i==Tt;var li=-1,Ti=!0,Ki=2&lr?new Ai:void 0;for(bn.set(at,Tt),bn.set(Tt,at);++li<Zn;){var wi=at[li],Jo=Tt[li];if($r)var Uo=ti?$r(Jo,wi,li,Tt,at,bn):$r(wi,Jo,li,at,Tt,bn);if(Uo!==void 0){if(Uo)continue;Ti=!1;break}if(Ki){if(!md(Tt,function(ha,Wa){if(mo=Wa,!Ki.has(mo)&&(wi===ha||Dn(wi,ha,lr,$r,bn)))return Ki.push(Wa);var mo})){Ti=!1;break}}else if(wi!==Jo&&!Dn(wi,Jo,lr,$r,bn)){Ti=!1;break}}return bn.delete(at),bn.delete(Tt),Ti}function pl(at){return function(Tt,lr,$r){var Dn=lr(Tt);return to(Tt)?Dn:function(bn,ti){for(var Zn=-1,jo=ti.length,_i=bn.length;++Zn<jo;)bn[_i+Zn]=ti[Zn];return bn}(Dn,$r(Tt))}(at,Dc,Bo)}function Aa(at,Tt){var lr,$r,Dn=at.__data__;return(($r=typeof(lr=Tt))=="string"||$r=="number"||$r=="symbol"||$r=="boolean"?lr!=="__proto__":lr===null)?Dn[typeof Tt=="string"?"string":"hash"]:Dn.map}function da(at,Tt){var lr=function($r,Dn){return $r==null?void 0:$r[Dn]}(at,Tt);return Bs(lr)?lr:void 0}pn.prototype.clear=function(){this.__data__=qe?qe(null):{},this.size=0},pn.prototype.delete=function(at){var Tt=this.has(at)&&delete this.__data__[at];return this.size-=Tt?1:0,Tt},pn.prototype.get=function(at){var Tt=this.__data__;if(qe){var lr=Tt[at];return lr===Ce?void 0:lr}return Va.call(Tt,at)?Tt[at]:void 0},pn.prototype.has=function(at){var Tt=this.__data__;return qe?Tt[at]!==void 0:Va.call(Tt,at)},pn.prototype.set=function(at,Tt){var lr=this.__data__;return this.size+=this.has(at)?0:1,lr[at]=qe&&Tt===void 0?Ce:Tt,this},mn.prototype.clear=function(){this.__data__=[],this.size=0},mn.prototype.delete=function(at){var Tt=this.__data__,lr=qr(Tt,at);return!(lr<0)&&(lr==Tt.length-1?Tt.pop():Mc.call(Tt,lr,1),--this.size,!0)},mn.prototype.get=function(at){var Tt=this.__data__,lr=qr(Tt,at);return lr<0?void 0:Tt[lr][1]},mn.prototype.has=function(at){return qr(this.__data__,at)>-1},mn.prototype.set=function(at,Tt){var lr=this.__data__,$r=qr(lr,at);return $r<0?(++this.size,lr.push([at,Tt])):lr[$r][1]=Tt,this},Xn.prototype.clear=function(){this.size=0,this.__data__={hash:new pn,map:new(rs||mn),string:new pn}},Xn.prototype.delete=function(at){var Tt=Aa(this,at).delete(at);return this.size-=Tt?1:0,Tt},Xn.prototype.get=function(at){return Aa(this,at).get(at)},Xn.prototype.has=function(at){return Aa(this,at).has(at)},Xn.prototype.set=function(at,Tt){var lr=Aa(this,at),$r=lr.size;return lr.set(at,Tt),this.size+=lr.size==$r?0:1,this},Ai.prototype.add=Ai.prototype.push=function(at){return this.__data__.set(at,Ce),this},Ai.prototype.has=function(at){return this.__data__.has(at)},gn.prototype.clear=function(){this.__data__=new mn,this.size=0},gn.prototype.delete=function(at){var Tt=this.__data__,lr=Tt.delete(at);return this.size=Tt.size,lr},gn.prototype.get=function(at){return this.__data__.get(at)},gn.prototype.has=function(at){return this.__data__.has(at)},gn.prototype.set=function(at,Tt){var lr=this.__data__;if(lr instanceof mn){var $r=lr.__data__;if(!rs||$r.length<199)return $r.push([at,Tt]),this.size=++lr.size,this;lr=this.__data__=new Xn($r)}return lr.set(at,Tt),this.size=lr.size,this};var Bo=Nl?function(at){return at==null?[]:(at=Object(at),function(Tt,lr){for(var $r=-1,Dn=Tt==null?0:Tt.length,bn=0,ti=[];++$r<Dn;){var Zn=Tt[$r];lr(Zn,$r,Tt)&&(ti[bn++]=Zn)}return ti}(Nl(at),function(Tt){return gu.call(at,Tt)}))}:function(){return[]},Oi=Po;function $l(at,Tt){return!!(Tt=Tt??Ge)&&(typeof at=="number"||Ku.test(at))&&at>-1&&at%1==0&&at<Tt}function Ta(at){if(at!=null){try{return Dl.call(at)}catch{}try{return at+""}catch{}}return""}function Ha(at,Tt){return at===Tt||at!=at&&Tt!=Tt}(yu&&Oi(new yu(new ArrayBuffer(1)))!=pi||rs&&Oi(new rs)!=pr||Fl&&Oi(Fl.resolve())!=si||j&&Oi(new j)!=Sr||be&&Oi(new be)!=Cn)&&(Oi=function(at){var Tt=Po(at),lr=Tt==Rr?at.constructor:void 0,$r=lr?Ta(lr):"";if($r)switch($r){case ht:return pi;case xt:return pr;case Nt:return si;case ir:return Sr;case Pr:return Cn}return Tt});var ml=Tn(function(){return arguments}())?Tn:function(at){return Pa(at)&&Va.call(at,"callee")&&!gu.call(at,"callee")},to=Array.isArray,js=Yu||function(){return!1};function Us(at){if(!zo(at))return!1;var Tt=Po(at);return Tt==mr||Tt=="[object GeneratorFunction]"||Tt=="[object AsyncFunction]"||Tt=="[object Proxy]"}function Bl(at){return typeof at=="number"&&at>-1&&at%1==0&&at<=Ge}function zo(at){var Tt=typeof at;return at!=null&&(Tt=="object"||Tt=="function")}function Pa(at){return at!=null&&typeof at=="object"}var Rc=Zo?function(at){return function(Tt){return at(Tt)}}(Zo):function(at){return Pa(at)&&Bl(at.length)&&!!mi[Po(at)]};function Dc(at){return(Tt=at)!=null&&Bl(Tt.length)&&!Us(Tt)?Yo(at):fl(at);var Tt}O.exports=function(at,Tt){return Fn(at,Tt)}})(hu,hu.exports);var Wi=n(hu.exports);function fu(O,X){return O.length===X.length&&JSON.stringify(O.map(function(Ce){return Ce}).sort())===JSON.stringify(X.map(function(Ce){return Ce}).sort())}var $o={Polygon:Fe,LineString:Re,Point:we,MultiPolygon:We,MultiLineString:We,MultiPoint:We},ms=Object.freeze({__proto__:null,CommonSelectors:kt,constrainFeatureMovement:ja,createMidPoint:On,createSupplementaryPoints:hi,createVertex:ei,doubleClickZoom:Vn,euclideanDistance:Oe,featuresAt:fe,getFeatureAtAndSetCursors:ke,isClick:_e,isEventAtCoordinates:Fo,isTap:Ne,mapEventToBoundingBox:Z,ModeHandler:r,moveFeatures:To,sortFeatures:Y,stringSetsAreEqual:fu,StringSet:re,theme:Lt,toDenseArray:Et}),gs=function(O,X){var Ce={options:O=function(st){st===void 0&&(st={});var dt=Mt(st);return st.controls||(dt.controls={}),st.displayControlsDefault===!1?dt.controls=Mt(du,st.controls):dt.controls=Mt(Li,st.controls),(dt=Mt(Ko,dt)).styles=Xo(dt.styles,"cold").concat(Xo(dt.styles,"hot")),dt}(O)};X=function(st,dt){return dt.modes=$,dt.getFeatureIdsAt=function(yt){return fe.click({point:yt},null,st).map(function(Xt){return Xt.properties.id})},dt.getSelectedIds=function(){return st.store.getSelectedIds()},dt.getSelected=function(){return{type:k.FEATURE_COLLECTION,features:st.store.getSelectedIds().map(function(yt){return st.store.get(yt)}).map(function(yt){return yt.toGeoJSON()})}},dt.getSelectedPoints=function(){return{type:k.FEATURE_COLLECTION,features:st.store.getSelectedCoordinates().map(function(yt){return{type:k.FEATURE,properties:{},geometry:{type:k.POINT,coordinates:yt.coordinates}}})}},dt.set=function(yt){if(yt.type===void 0||yt.type!==k.FEATURE_COLLECTION||!Array.isArray(yt.features))throw new Error("Invalid FeatureCollection");var Xt=st.store.createRenderBatch(),tr=st.store.getAllIds().slice(),mr=dt.add(yt),pr=new re(mr);return(tr=tr.filter(function(dr){return!pr.has(dr)})).length&&dt.delete(tr),Xt(),mr},dt.add=function(yt){var Xt=JSON.parse(JSON.stringify(Pe(yt))).features.map(function(tr){if(tr.id=tr.id||ae(),tr.geometry===null)throw new Error("Invalid geometry: null");if(st.store.get(tr.id)===void 0||st.store.get(tr.id).type!==tr.geometry.type){var mr=$o[tr.geometry.type];if(mr===void 0)throw new Error("Invalid geometry type: "+tr.geometry.type+".");var pr=new mr(st,tr);st.store.add(pr)}else{var dr=st.store.get(tr.id);dr.properties=tr.properties,Wi(dr.properties,tr.properties)||st.store.featureChanged(dr.id),Wi(dr.getCoordinates(),tr.geometry.coordinates)||dr.incomingCoords(tr.geometry.coordinates)}return tr.id});return st.store.render(),Xt},dt.get=function(yt){var Xt=st.store.get(yt);if(Xt)return Xt.toGeoJSON()},dt.getAll=function(){return{type:k.FEATURE_COLLECTION,features:st.store.getAll().map(function(yt){return yt.toGeoJSON()})}},dt.delete=function(yt){return st.store.delete(yt,{silent:!0}),dt.getMode()!==$.DIRECT_SELECT||st.store.getSelectedIds().length?st.store.render():st.events.changeMode($.SIMPLE_SELECT,void 0,{silent:!0}),dt},dt.deleteAll=function(){return st.store.delete(st.store.getAllIds(),{silent:!0}),dt.getMode()===$.DIRECT_SELECT?st.events.changeMode($.SIMPLE_SELECT,void 0,{silent:!0}):st.store.render(),dt},dt.changeMode=function(yt,Xt){return Xt===void 0&&(Xt={}),yt===$.SIMPLE_SELECT&&dt.getMode()===$.SIMPLE_SELECT?(fu(Xt.featureIds||[],st.store.getSelectedIds())||(st.store.setSelected(Xt.featureIds,{silent:!0}),st.store.render()),dt):(yt===$.DIRECT_SELECT&&dt.getMode()===$.DIRECT_SELECT&&Xt.featureId===st.store.getSelectedIds()[0]||st.events.changeMode(yt,Xt,{silent:!0}),dt)},dt.getMode=function(){return st.events.getMode()},dt.trash=function(){return st.events.trash({silent:!0}),dt},dt.combineFeatures=function(){return st.events.combineFeatures({silent:!0}),dt},dt.uncombineFeatures=function(){return st.events.uncombineFeatures({silent:!0}),dt},dt.setFeatureProperty=function(yt,Xt,tr){return st.store.setFeatureProperty(yt,Xt,tr),dt},dt}(Ce,X),Ce.api=X;var Ge=Gt(Ce);return X.onAdd=Ge.onAdd,X.onRemove=Ge.onRemove,X.types=L,X.options=O,X};function Nn(O){gs(O,this)}return Nn.modes=ai,Nn.constants=ee,Nn.lib=ms,Nn})})(Boe);var vP={},zoe=sf;Object.defineProperty(vP,"__esModule",{value:!0});var Jz=vP.default=void 0,joe=zoe(lf()),Uoe=$e;Jz=vP.default=(0,joe.default)((0,Uoe.jsx)("path",{d:"M15 16v1.26l-6-3v-3.17L11.7 8H16V2h-6v4.9L7.3 10H3v6h5l7 3.5V22h6v-6z"}),"Polyline");var bP={},Voe=sf;Object.defineProperty(bP,"__esModule",{value:!0});var Qz=bP.default=void 0,qoe=Voe(lf()),Hoe=$e;Qz=bP.default=(0,qoe.default)((0,Hoe.jsx)("path",{d:"m2 9 4 12h12l4-12-10-7z"}),"Pentagon");const Woe=Xb($e.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),Goe=Xb($e.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),Koe=Xb($e.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}),"KeyboardArrowRight"),Xoe=Xb($e.jsx("path",{d:"M3 17v2h6v-2zM3 5v2h10V5zm10 16v-2h8v-2h-8v-2h-2v6zM7 9v2H3v2h4v2h2V9zm14 4v-2H11v2zm-6-4h2V7h4V5h-4V3h-2z"}),"Tune");var bc={},Zb={},Zoe=typeof Gd=="object"&&Gd&&Gd.Object===Object&&Gd,e7=Zoe,Yoe=e7,Joe=typeof self=="object"&&self&&self.Object===Object&&self,Qoe=Yoe||Joe||Function("return this")(),uh=Qoe,eae=uh,tae=eae.Symbol,Yb=tae,BR=Yb,t7=Object.prototype,rae=t7.hasOwnProperty,nae=t7.toString,Nv=BR?BR.toStringTag:void 0;function iae(e){var t=rae.call(e,Nv),r=e[Nv];try{e[Nv]=void 0;var n=!0}catch{}var i=nae.call(e);return n&&(t?e[Nv]=r:delete e[Nv]),i}var oae=iae,aae=Object.prototype,sae=aae.toString;function lae(e){return sae.call(e)}var uae=lae,zR=Yb,cae=oae,dae=uae,hae="[object Null]",fae="[object Undefined]",jR=zR?zR.toStringTag:void 0;function pae(e){return e==null?e===void 0?fae:hae:jR&&jR in Object(e)?cae(e):dae(e)}var zm=pae,mae=Array.isArray,cd=mae;function gae(e){return e!=null&&typeof e=="object"}var uf=gae,yae=zm,vae=cd,bae=uf,xae="[object String]";function _ae(e){return typeof e=="string"||!vae(e)&&bae(e)&&yae(e)==xae}var wae=_ae;function Sae(e){return function(t,r,n){for(var i=-1,a=Object(t),u=n(t),s=u.length;s--;){var f=u[e?s:++i];if(r(a[f],f,a)===!1)break}return t}}var Cae=Sae,Eae=Cae,Aae=Eae(),Tae=Aae;function Pae(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var kae=Pae,Iae=zm,Lae=uf,Mae="[object Arguments]";function Rae(e){return Lae(e)&&Iae(e)==Mae}var Dae=Rae,UR=Dae,Oae=uf,r7=Object.prototype,Nae=r7.hasOwnProperty,Fae=r7.propertyIsEnumerable,$ae=UR(function(){return arguments}())?UR:function(e){return Oae(e)&&Nae.call(e,"callee")&&!Fae.call(e,"callee")},n7=$ae,z_={exports:{}};function Bae(){return!1}var zae=Bae;z_.exports;(function(e,t){var r=uh,n=zae,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,u=a&&a.exports===i,s=u?r.Buffer:void 0,f=s?s.isBuffer:void 0,m=f||n;e.exports=m})(z_,z_.exports);var xP=z_.exports,jae=9007199254740991,Uae=/^(?:0|[1-9]\d*)$/;function Vae(e,t){var r=typeof e;return t=t??jae,!!t&&(r=="number"||r!="symbol"&&Uae.test(e))&&e>-1&&e%1==0&&e<t}var i7=Vae,qae=9007199254740991;function Hae(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=qae}var _P=Hae,Wae=zm,Gae=_P,Kae=uf,Xae="[object Arguments]",Zae="[object Array]",Yae="[object Boolean]",Jae="[object Date]",Qae="[object Error]",ese="[object Function]",tse="[object Map]",rse="[object Number]",nse="[object Object]",ise="[object RegExp]",ose="[object Set]",ase="[object String]",sse="[object WeakMap]",lse="[object ArrayBuffer]",use="[object DataView]",cse="[object Float32Array]",dse="[object Float64Array]",hse="[object Int8Array]",fse="[object Int16Array]",pse="[object Int32Array]",mse="[object Uint8Array]",gse="[object Uint8ClampedArray]",yse="[object Uint16Array]",vse="[object Uint32Array]",_o={};_o[cse]=_o[dse]=_o[hse]=_o[fse]=_o[pse]=_o[mse]=_o[gse]=_o[yse]=_o[vse]=!0;_o[Xae]=_o[Zae]=_o[lse]=_o[Yae]=_o[use]=_o[Jae]=_o[Qae]=_o[ese]=_o[tse]=_o[rse]=_o[nse]=_o[ise]=_o[ose]=_o[ase]=_o[sse]=!1;function bse(e){return Kae(e)&&Gae(e.length)&&!!_o[Wae(e)]}var xse=bse;function _se(e){return function(t){return e(t)}}var wP=_se,j_={exports:{}};j_.exports;(function(e,t){var r=e7,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,u=a&&r.process,s=function(){try{var f=i&&i.require&&i.require("util").types;return f||u&&u.binding&&u.binding("util")}catch{}}();e.exports=s})(j_,j_.exports);var SP=j_.exports,wse=xse,Sse=wP,VR=SP,qR=VR&&VR.isTypedArray,Cse=qR?Sse(qR):wse,o7=Cse,Ese=kae,Ase=n7,Tse=cd,Pse=xP,kse=i7,Ise=o7,Lse=Object.prototype,Mse=Lse.hasOwnProperty;function Rse(e,t){var r=Tse(e),n=!r&&Ase(e),i=!r&&!n&&Pse(e),a=!r&&!n&&!i&&Ise(e),u=r||n||i||a,s=u?Ese(e.length,String):[],f=s.length;for(var m in e)(t||Mse.call(e,m))&&!(u&&(m=="length"||i&&(m=="offset"||m=="parent")||a&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||kse(m,f)))&&s.push(m);return s}var a7=Rse,Dse=Object.prototype;function Ose(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Dse;return e===r}var CP=Ose;function Nse(e,t){return function(r){return e(t(r))}}var s7=Nse,Fse=s7,$se=Fse(Object.keys,Object),Bse=$se,zse=CP,jse=Bse,Use=Object.prototype,Vse=Use.hasOwnProperty;function qse(e){if(!zse(e))return jse(e);var t=[];for(var r in Object(e))Vse.call(e,r)&&r!="constructor"&&t.push(r);return t}var Hse=qse;function Wse(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var My=Wse,Gse=zm,Kse=My,Xse="[object AsyncFunction]",Zse="[object Function]",Yse="[object GeneratorFunction]",Jse="[object Proxy]";function Qse(e){if(!Kse(e))return!1;var t=Gse(e);return t==Zse||t==Yse||t==Xse||t==Jse}var l7=Qse,ele=l7,tle=_P;function rle(e){return e!=null&&tle(e.length)&&!ele(e)}var $5=rle,nle=a7,ile=Hse,ole=$5;function ale(e){return ole(e)?nle(e):ile(e)}var Jb=ale,sle=Tae,lle=Jb;function ule(e,t){return e&&sle(e,t,lle)}var u7=ule;function cle(e){return e}var c7=cle,dle=c7;function hle(e){return typeof e=="function"?e:dle}var fle=hle,ple=u7,mle=fle;function gle(e,t){return e&&ple(e,mle(t))}var EP=gle,yle=s7,vle=yle(Object.getPrototypeOf,Object),AP=vle,ble=zm,xle=AP,_le=uf,wle="[object Object]",Sle=Function.prototype,Cle=Object.prototype,d7=Sle.toString,Ele=Cle.hasOwnProperty,Ale=d7.call(Object);function Tle(e){if(!_le(e)||ble(e)!=wle)return!1;var t=xle(e);if(t===null)return!0;var r=Ele.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&d7.call(r)==Ale}var Ple=Tle;function kle(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var h7=kle;function Ile(){this.__data__=[],this.size=0}var Lle=Ile;function Mle(e,t){return e===t||e!==e&&t!==t}var TP=Mle,Rle=TP;function Dle(e,t){for(var r=e.length;r--;)if(Rle(e[r][0],t))return r;return-1}var B5=Dle,Ole=B5,Nle=Array.prototype,Fle=Nle.splice;function $le(e){var t=this.__data__,r=Ole(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Fle.call(t,r,1),--this.size,!0}var Ble=$le,zle=B5;function jle(e){var t=this.__data__,r=zle(t,e);return r<0?void 0:t[r][1]}var Ule=jle,Vle=B5;function qle(e){return Vle(this.__data__,e)>-1}var Hle=qle,Wle=B5;function Gle(e,t){var r=this.__data__,n=Wle(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Kle=Gle,Xle=Lle,Zle=Ble,Yle=Ule,Jle=Hle,Qle=Kle;function Ry(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ry.prototype.clear=Xle;Ry.prototype.delete=Zle;Ry.prototype.get=Yle;Ry.prototype.has=Jle;Ry.prototype.set=Qle;var z5=Ry,eue=z5;function tue(){this.__data__=new eue,this.size=0}var rue=tue;function nue(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var iue=nue;function oue(e){return this.__data__.get(e)}var aue=oue;function sue(e){return this.__data__.has(e)}var lue=sue,uue=uh,cue=uue["__core-js_shared__"],due=cue,_3=due,HR=function(){var e=/[^.]+$/.exec(_3&&_3.keys&&_3.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function hue(e){return!!HR&&HR in e}var fue=hue,pue=Function.prototype,mue=pue.toString;function gue(e){if(e!=null){try{return mue.call(e)}catch{}try{return e+""}catch{}}return""}var f7=gue,yue=l7,vue=fue,bue=My,xue=f7,_ue=/[\\^$.*+?()[\]{}|]/g,wue=/^\[object .+?Constructor\]$/,Sue=Function.prototype,Cue=Object.prototype,Eue=Sue.toString,Aue=Cue.hasOwnProperty,Tue=RegExp("^"+Eue.call(Aue).replace(_ue,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Pue(e){if(!bue(e)||vue(e))return!1;var t=yue(e)?Tue:wue;return t.test(xue(e))}var kue=Pue;function Iue(e,t){return e==null?void 0:e[t]}var Lue=Iue,Mue=kue,Rue=Lue;function Due(e,t){var r=Rue(e,t);return Mue(r)?r:void 0}var jm=Due,Oue=jm,Nue=uh,Fue=Oue(Nue,"Map"),PP=Fue,$ue=jm,Bue=$ue(Object,"create"),j5=Bue,WR=j5;function zue(){this.__data__=WR?WR(null):{},this.size=0}var jue=zue;function Uue(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Vue=Uue,que=j5,Hue="__lodash_hash_undefined__",Wue=Object.prototype,Gue=Wue.hasOwnProperty;function Kue(e){var t=this.__data__;if(que){var r=t[e];return r===Hue?void 0:r}return Gue.call(t,e)?t[e]:void 0}var Xue=Kue,Zue=j5,Yue=Object.prototype,Jue=Yue.hasOwnProperty;function Que(e){var t=this.__data__;return Zue?t[e]!==void 0:Jue.call(t,e)}var ece=Que,tce=j5,rce="__lodash_hash_undefined__";function nce(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=tce&&t===void 0?rce:t,this}var ice=nce,oce=jue,ace=Vue,sce=Xue,lce=ece,uce=ice;function Dy(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Dy.prototype.clear=oce;Dy.prototype.delete=ace;Dy.prototype.get=sce;Dy.prototype.has=lce;Dy.prototype.set=uce;var cce=Dy,GR=cce,dce=z5,hce=PP;function fce(){this.size=0,this.__data__={hash:new GR,map:new(hce||dce),string:new GR}}var pce=fce;function mce(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var gce=mce,yce=gce;function vce(e,t){var r=e.__data__;return yce(t)?r[typeof t=="string"?"string":"hash"]:r.map}var U5=vce,bce=U5;function xce(e){var t=bce(this,e).delete(e);return this.size-=t?1:0,t}var _ce=xce,wce=U5;function Sce(e){return wce(this,e).get(e)}var Cce=Sce,Ece=U5;function Ace(e){return Ece(this,e).has(e)}var Tce=Ace,Pce=U5;function kce(e,t){var r=Pce(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Ice=kce,Lce=pce,Mce=_ce,Rce=Cce,Dce=Tce,Oce=Ice;function Oy(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Oy.prototype.clear=Lce;Oy.prototype.delete=Mce;Oy.prototype.get=Rce;Oy.prototype.has=Dce;Oy.prototype.set=Oce;var kP=Oy,Nce=z5,Fce=PP,$ce=kP,Bce=200;function zce(e,t){var r=this.__data__;if(r instanceof Nce){var n=r.__data__;if(!Fce||n.length<Bce-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new $ce(n)}return r.set(e,t),this.size=r.size,this}var jce=zce,Uce=z5,Vce=rue,qce=iue,Hce=aue,Wce=lue,Gce=jce;function Ny(e){var t=this.__data__=new Uce(e);this.size=t.size}Ny.prototype.clear=Vce;Ny.prototype.delete=qce;Ny.prototype.get=Hce;Ny.prototype.has=Wce;Ny.prototype.set=Gce;var IP=Ny,Kce="__lodash_hash_undefined__";function Xce(e){return this.__data__.set(e,Kce),this}var Zce=Xce;function Yce(e){return this.__data__.has(e)}var Jce=Yce,Qce=kP,ede=Zce,tde=Jce;function U_(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Qce;++t<r;)this.add(e[t])}U_.prototype.add=U_.prototype.push=ede;U_.prototype.has=tde;var rde=U_;function nde(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var ide=nde;function ode(e,t){return e.has(t)}var ade=ode,sde=rde,lde=ide,ude=ade,cde=1,dde=2;function hde(e,t,r,n,i,a){var u=r&cde,s=e.length,f=t.length;if(s!=f&&!(u&&f>s))return!1;var m=a.get(e),x=a.get(t);if(m&&x)return m==t&&x==e;var w=-1,S=!0,C=r&dde?new sde:void 0;for(a.set(e,t),a.set(t,e);++w<s;){var L=e[w],k=t[w];if(n)var $=u?n(k,L,w,t,e,a):n(L,k,w,e,t,a);if($!==void 0){if($)continue;S=!1;break}if(C){if(!lde(t,function(M,z){if(!ude(C,z)&&(L===M||i(L,M,r,n,a)))return C.push(z)})){S=!1;break}}else if(!(L===k||i(L,k,r,n,a))){S=!1;break}}return a.delete(e),a.delete(t),S}var p7=hde,fde=uh,pde=fde.Uint8Array,m7=pde;function mde(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var gde=mde;function yde(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var vde=yde,KR=Yb,XR=m7,bde=TP,xde=p7,_de=gde,wde=vde,Sde=1,Cde=2,Ede="[object Boolean]",Ade="[object Date]",Tde="[object Error]",Pde="[object Map]",kde="[object Number]",Ide="[object RegExp]",Lde="[object Set]",Mde="[object String]",Rde="[object Symbol]",Dde="[object ArrayBuffer]",Ode="[object DataView]",ZR=KR?KR.prototype:void 0,w3=ZR?ZR.valueOf:void 0;function Nde(e,t,r,n,i,a,u){switch(r){case Ode:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Dde:return!(e.byteLength!=t.byteLength||!a(new XR(e),new XR(t)));case Ede:case Ade:case kde:return bde(+e,+t);case Tde:return e.name==t.name&&e.message==t.message;case Ide:case Mde:return e==t+"";case Pde:var s=_de;case Lde:var f=n&Sde;if(s||(s=wde),e.size!=t.size&&!f)return!1;var m=u.get(e);if(m)return m==t;n|=Cde,u.set(e,t);var x=xde(s(e),s(t),n,i,a,u);return u.delete(e),x;case Rde:if(w3)return w3.call(e)==w3.call(t)}return!1}var Fde=Nde;function $de(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var g7=$de,Bde=g7,zde=cd;function jde(e,t,r){var n=t(e);return zde(e)?n:Bde(n,r(e))}var y7=jde;function Ude(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var u=e[r];t(u,r,e)&&(a[i++]=u)}return a}var Vde=Ude;function qde(){return[]}var v7=qde,Hde=Vde,Wde=v7,Gde=Object.prototype,Kde=Gde.propertyIsEnumerable,YR=Object.getOwnPropertySymbols,Xde=YR?function(e){return e==null?[]:(e=Object(e),Hde(YR(e),function(t){return Kde.call(e,t)}))}:Wde,LP=Xde,Zde=y7,Yde=LP,Jde=Jb;function Qde(e){return Zde(e,Jde,Yde)}var b7=Qde,JR=b7,ehe=1,the=Object.prototype,rhe=the.hasOwnProperty;function nhe(e,t,r,n,i,a){var u=r&ehe,s=JR(e),f=s.length,m=JR(t),x=m.length;if(f!=x&&!u)return!1;for(var w=f;w--;){var S=s[w];if(!(u?S in t:rhe.call(t,S)))return!1}var C=a.get(e),L=a.get(t);if(C&&L)return C==t&&L==e;var k=!0;a.set(e,t),a.set(t,e);for(var $=u;++w<f;){S=s[w];var M=e[S],z=t[S];if(n)var B=u?n(z,M,S,t,e,a):n(M,z,S,e,t,a);if(!(B===void 0?M===z||i(M,z,r,n,a):B)){k=!1;break}$||($=S=="constructor")}if(k&&!$){var q=e.constructor,te=t.constructor;q!=te&&"constructor"in e&&"constructor"in t&&!(typeof q=="function"&&q instanceof q&&typeof te=="function"&&te instanceof te)&&(k=!1)}return a.delete(e),a.delete(t),k}var ihe=nhe,ohe=jm,ahe=uh,she=ohe(ahe,"DataView"),lhe=she,uhe=jm,che=uh,dhe=uhe(che,"Promise"),hhe=dhe,fhe=jm,phe=uh,mhe=fhe(phe,"Set"),ghe=mhe,yhe=jm,vhe=uh,bhe=yhe(vhe,"WeakMap"),xhe=bhe,vA=lhe,bA=PP,xA=hhe,_A=ghe,wA=xhe,x7=zm,Fy=f7,QR="[object Map]",_he="[object Object]",eD="[object Promise]",tD="[object Set]",rD="[object WeakMap]",nD="[object DataView]",whe=Fy(vA),She=Fy(bA),Che=Fy(xA),Ehe=Fy(_A),Ahe=Fy(wA),Wp=x7;(vA&&Wp(new vA(new ArrayBuffer(1)))!=nD||bA&&Wp(new bA)!=QR||xA&&Wp(xA.resolve())!=eD||_A&&Wp(new _A)!=tD||wA&&Wp(new wA)!=rD)&&(Wp=function(e){var t=x7(e),r=t==_he?e.constructor:void 0,n=r?Fy(r):"";if(n)switch(n){case whe:return nD;case She:return QR;case Che:return eD;case Ehe:return tD;case Ahe:return rD}return t});var V5=Wp,S3=IP,The=p7,Phe=Fde,khe=ihe,iD=V5,oD=cd,aD=xP,Ihe=o7,Lhe=1,sD="[object Arguments]",lD="[object Array]",gx="[object Object]",Mhe=Object.prototype,uD=Mhe.hasOwnProperty;function Rhe(e,t,r,n,i,a){var u=oD(e),s=oD(t),f=u?lD:iD(e),m=s?lD:iD(t);f=f==sD?gx:f,m=m==sD?gx:m;var x=f==gx,w=m==gx,S=f==m;if(S&&aD(e)){if(!aD(t))return!1;u=!0,x=!1}if(S&&!x)return a||(a=new S3),u||Ihe(e)?The(e,t,r,n,i,a):Phe(e,t,f,r,n,i,a);if(!(r&Lhe)){var C=x&&uD.call(e,"__wrapped__"),L=w&&uD.call(t,"__wrapped__");if(C||L){var k=C?e.value():e,$=L?t.value():t;return a||(a=new S3),i(k,$,r,n,a)}}return S?(a||(a=new S3),khe(e,t,r,n,i,a)):!1}var Dhe=Rhe,Ohe=Dhe,cD=uf;function _7(e,t,r,n,i){return e===t?!0:e==null||t==null||!cD(e)&&!cD(t)?e!==e&&t!==t:Ohe(e,t,r,n,_7,i)}var w7=_7,Nhe=IP,Fhe=w7,$he=1,Bhe=2;function zhe(e,t,r,n){var i=r.length,a=i,u=!n;if(e==null)return!a;for(e=Object(e);i--;){var s=r[i];if(u&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){s=r[i];var f=s[0],m=e[f],x=s[1];if(u&&s[2]){if(m===void 0&&!(f in e))return!1}else{var w=new Nhe;if(n)var S=n(m,x,f,e,t,w);if(!(S===void 0?Fhe(x,m,$he|Bhe,n,w):S))return!1}}return!0}var jhe=zhe,Uhe=My;function Vhe(e){return e===e&&!Uhe(e)}var S7=Vhe,qhe=S7,Hhe=Jb;function Whe(e){for(var t=Hhe(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,qhe(i)]}return t}var Ghe=Whe;function Khe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var C7=Khe,Xhe=jhe,Zhe=Ghe,Yhe=C7;function Jhe(e){var t=Zhe(e);return t.length==1&&t[0][2]?Yhe(t[0][0],t[0][1]):function(r){return r===e||Xhe(r,e,t)}}var Qhe=Jhe,efe=zm,tfe=uf,rfe="[object Symbol]";function nfe(e){return typeof e=="symbol"||tfe(e)&&efe(e)==rfe}var MP=nfe,ife=cd,ofe=MP,afe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sfe=/^\w*$/;function lfe(e,t){if(ife(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||ofe(e)?!0:sfe.test(e)||!afe.test(e)||t!=null&&e in Object(t)}var RP=lfe,E7=kP,ufe="Expected a function";function DP(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(ufe);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var u=e.apply(this,n);return r.cache=a.set(i,u)||a,u};return r.cache=new(DP.Cache||E7),r}DP.Cache=E7;var cfe=DP,dfe=cfe,hfe=500;function ffe(e){var t=dfe(e,function(n){return r.size===hfe&&r.clear(),n}),r=t.cache;return t}var pfe=ffe,mfe=pfe,gfe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yfe=/\\(\\)?/g,vfe=mfe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(gfe,function(r,n,i,a){t.push(i?a.replace(yfe,"$1"):n||r)}),t}),bfe=vfe,dD=Yb,xfe=h7,_fe=cd,wfe=MP,Sfe=1/0,hD=dD?dD.prototype:void 0,fD=hD?hD.toString:void 0;function A7(e){if(typeof e=="string")return e;if(_fe(e))return xfe(e,A7)+"";if(wfe(e))return fD?fD.call(e):"";var t=e+"";return t=="0"&&1/e==-Sfe?"-0":t}var Cfe=A7,Efe=Cfe;function Afe(e){return e==null?"":Efe(e)}var Tfe=Afe,Pfe=cd,kfe=RP,Ife=bfe,Lfe=Tfe;function Mfe(e,t){return Pfe(e)?e:kfe(e,t)?[e]:Ife(Lfe(e))}var T7=Mfe,Rfe=MP,Dfe=1/0;function Ofe(e){if(typeof e=="string"||Rfe(e))return e;var t=e+"";return t=="0"&&1/e==-Dfe?"-0":t}var q5=Ofe,Nfe=T7,Ffe=q5;function $fe(e,t){t=Nfe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Ffe(t[r++])];return r&&r==n?e:void 0}var P7=$fe,Bfe=P7;function zfe(e,t,r){var n=e==null?void 0:Bfe(e,t);return n===void 0?r:n}var jfe=zfe;function Ufe(e,t){return e!=null&&t in Object(e)}var Vfe=Ufe,qfe=T7,Hfe=n7,Wfe=cd,Gfe=i7,Kfe=_P,Xfe=q5;function Zfe(e,t,r){t=qfe(t,e);for(var n=-1,i=t.length,a=!1;++n<i;){var u=Xfe(t[n]);if(!(a=e!=null&&r(e,u)))break;e=e[u]}return a||++n!=i?a:(i=e==null?0:e.length,!!i&&Kfe(i)&&Gfe(u,i)&&(Wfe(e)||Hfe(e)))}var Yfe=Zfe,Jfe=Vfe,Qfe=Yfe;function epe(e,t){return e!=null&&Qfe(e,t,Jfe)}var tpe=epe,rpe=w7,npe=jfe,ipe=tpe,ope=RP,ape=S7,spe=C7,lpe=q5,upe=1,cpe=2;function dpe(e,t){return ope(e)&&ape(t)?spe(lpe(e),t):function(r){var n=npe(r,e);return n===void 0&&n===t?ipe(r,e):rpe(t,n,upe|cpe)}}var hpe=dpe;function fpe(e){return function(t){return t==null?void 0:t[e]}}var ppe=fpe,mpe=P7;function gpe(e){return function(t){return mpe(t,e)}}var ype=gpe,vpe=ppe,bpe=ype,xpe=RP,_pe=q5;function wpe(e){return xpe(e)?vpe(_pe(e)):bpe(e)}var Spe=wpe,Cpe=Qhe,Epe=hpe,Ape=c7,Tpe=cd,Ppe=Spe;function kpe(e){return typeof e=="function"?e:e==null?Ape:typeof e=="object"?Tpe(e)?Epe(e[0],e[1]):Cpe(e):Ppe(e)}var Ipe=kpe,Lpe=$5;function Mpe(e,t){return function(r,n){if(r==null)return r;if(!Lpe(r))return e(r,n);for(var i=r.length,a=t?i:-1,u=Object(r);(t?a--:++a<i)&&n(u[a],a,u)!==!1;);return r}}var Rpe=Mpe,Dpe=u7,Ope=Rpe,Npe=Ope(Dpe),Fpe=Npe,$pe=Fpe,Bpe=$5;function zpe(e,t){var r=-1,n=Bpe(e)?Array(e.length):[];return $pe(e,function(i,a,u){n[++r]=t(i,a,u)}),n}var jpe=zpe,Upe=h7,Vpe=Ipe,qpe=jpe,Hpe=cd;function Wpe(e,t){var r=Hpe(e)?Upe:qpe;return r(e,Vpe(t))}var Gpe=Wpe;Object.defineProperty(Zb,"__esModule",{value:!0});Zb.flattenNames=void 0;var Kpe=wae,Xpe=H5(Kpe),Zpe=EP,Ype=H5(Zpe),Jpe=Ple,Qpe=H5(Jpe),eme=Gpe,tme=H5(eme);function H5(e){return e&&e.__esModule?e:{default:e}}var rme=Zb.flattenNames=function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[];return(0,tme.default)(t,function(n){Array.isArray(n)?e(n).map(function(i){return r.push(i)}):(0,Qpe.default)(n)?(0,Ype.default)(n,function(i,a){i===!0&&r.push(a),r.push(a+"-"+i)}):(0,Xpe.default)(n)&&r.push(n)}),r};Zb.default=rme;var Qb={};function nme(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var ime=nme,ome=jm,ame=function(){try{var e=ome(Object,"defineProperty");return e({},"",{}),e}catch{}}(),sme=ame,pD=sme;function lme(e,t,r){t=="__proto__"&&pD?pD(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var k7=lme,ume=k7,cme=TP,dme=Object.prototype,hme=dme.hasOwnProperty;function fme(e,t,r){var n=e[t];(!(hme.call(e,t)&&cme(n,r))||r===void 0&&!(t in e))&&ume(e,t,r)}var I7=fme,pme=I7,mme=k7;function gme(e,t,r,n){var i=!r;r||(r={});for(var a=-1,u=t.length;++a<u;){var s=t[a],f=n?n(r[s],e[s],s,r,e):void 0;f===void 0&&(f=e[s]),i?mme(r,s,f):pme(r,s,f)}return r}var W5=gme,yme=W5,vme=Jb;function bme(e,t){return e&&yme(t,vme(t),e)}var xme=bme;function _me(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var wme=_me,Sme=My,Cme=CP,Eme=wme,Ame=Object.prototype,Tme=Ame.hasOwnProperty;function Pme(e){if(!Sme(e))return Eme(e);var t=Cme(e),r=[];for(var n in e)n=="constructor"&&(t||!Tme.call(e,n))||r.push(n);return r}var kme=Pme,Ime=a7,Lme=kme,Mme=$5;function Rme(e){return Mme(e)?Ime(e,!0):Lme(e)}var OP=Rme,Dme=W5,Ome=OP;function Nme(e,t){return e&&Dme(t,Ome(t),e)}var Fme=Nme,V_={exports:{}};V_.exports;(function(e,t){var r=uh,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,u=a?r.Buffer:void 0,s=u?u.allocUnsafe:void 0;function f(m,x){if(x)return m.slice();var w=m.length,S=s?s(w):new m.constructor(w);return m.copy(S),S}e.exports=f})(V_,V_.exports);var $me=V_.exports;function Bme(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var zme=Bme,jme=W5,Ume=LP;function Vme(e,t){return jme(e,Ume(e),t)}var qme=Vme,Hme=g7,Wme=AP,Gme=LP,Kme=v7,Xme=Object.getOwnPropertySymbols,Zme=Xme?function(e){for(var t=[];e;)Hme(t,Gme(e)),e=Wme(e);return t}:Kme,L7=Zme,Yme=W5,Jme=L7;function Qme(e,t){return Yme(e,Jme(e),t)}var ege=Qme,tge=y7,rge=L7,nge=OP;function ige(e){return tge(e,nge,rge)}var oge=ige,age=Object.prototype,sge=age.hasOwnProperty;function lge(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&sge.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var uge=lge,mD=m7;function cge(e){var t=new e.constructor(e.byteLength);return new mD(t).set(new mD(e)),t}var NP=cge,dge=NP;function hge(e,t){var r=t?dge(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var fge=hge,pge=/\w*$/;function mge(e){var t=new e.constructor(e.source,pge.exec(e));return t.lastIndex=e.lastIndex,t}var gge=mge,gD=Yb,yD=gD?gD.prototype:void 0,vD=yD?yD.valueOf:void 0;function yge(e){return vD?Object(vD.call(e)):{}}var vge=yge,bge=NP;function xge(e,t){var r=t?bge(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var _ge=xge,wge=NP,Sge=fge,Cge=gge,Ege=vge,Age=_ge,Tge="[object Boolean]",Pge="[object Date]",kge="[object Map]",Ige="[object Number]",Lge="[object RegExp]",Mge="[object Set]",Rge="[object String]",Dge="[object Symbol]",Oge="[object ArrayBuffer]",Nge="[object DataView]",Fge="[object Float32Array]",$ge="[object Float64Array]",Bge="[object Int8Array]",zge="[object Int16Array]",jge="[object Int32Array]",Uge="[object Uint8Array]",Vge="[object Uint8ClampedArray]",qge="[object Uint16Array]",Hge="[object Uint32Array]";function Wge(e,t,r){var n=e.constructor;switch(t){case Oge:return wge(e);case Tge:case Pge:return new n(+e);case Nge:return Sge(e,r);case Fge:case $ge:case Bge:case zge:case jge:case Uge:case Vge:case qge:case Hge:return Age(e,r);case kge:return new n;case Ige:case Rge:return new n(e);case Lge:return Cge(e);case Mge:return new n;case Dge:return Ege(e)}}var Gge=Wge,Kge=My,bD=Object.create,Xge=function(){function e(){}return function(t){if(!Kge(t))return{};if(bD)return bD(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),Zge=Xge,Yge=Zge,Jge=AP,Qge=CP;function e0e(e){return typeof e.constructor=="function"&&!Qge(e)?Yge(Jge(e)):{}}var t0e=e0e,r0e=V5,n0e=uf,i0e="[object Map]";function o0e(e){return n0e(e)&&r0e(e)==i0e}var a0e=o0e,s0e=a0e,l0e=wP,xD=SP,_D=xD&&xD.isMap,u0e=_D?l0e(_D):s0e,c0e=u0e,d0e=V5,h0e=uf,f0e="[object Set]";function p0e(e){return h0e(e)&&d0e(e)==f0e}var m0e=p0e,g0e=m0e,y0e=wP,wD=SP,SD=wD&&wD.isSet,v0e=SD?y0e(SD):g0e,b0e=v0e,x0e=IP,_0e=ime,w0e=I7,S0e=xme,C0e=Fme,E0e=$me,A0e=zme,T0e=qme,P0e=ege,k0e=b7,I0e=oge,L0e=V5,M0e=uge,R0e=Gge,D0e=t0e,O0e=cd,N0e=xP,F0e=c0e,$0e=My,B0e=b0e,z0e=Jb,j0e=OP,U0e=1,V0e=2,q0e=4,M7="[object Arguments]",H0e="[object Array]",W0e="[object Boolean]",G0e="[object Date]",K0e="[object Error]",R7="[object Function]",X0e="[object GeneratorFunction]",Z0e="[object Map]",Y0e="[object Number]",D7="[object Object]",J0e="[object RegExp]",Q0e="[object Set]",eye="[object String]",tye="[object Symbol]",rye="[object WeakMap]",nye="[object ArrayBuffer]",iye="[object DataView]",oye="[object Float32Array]",aye="[object Float64Array]",sye="[object Int8Array]",lye="[object Int16Array]",uye="[object Int32Array]",cye="[object Uint8Array]",dye="[object Uint8ClampedArray]",hye="[object Uint16Array]",fye="[object Uint32Array]",co={};co[M7]=co[H0e]=co[nye]=co[iye]=co[W0e]=co[G0e]=co[oye]=co[aye]=co[sye]=co[lye]=co[uye]=co[Z0e]=co[Y0e]=co[D7]=co[J0e]=co[Q0e]=co[eye]=co[tye]=co[cye]=co[dye]=co[hye]=co[fye]=!0;co[K0e]=co[R7]=co[rye]=!1;function e_(e,t,r,n,i,a){var u,s=t&U0e,f=t&V0e,m=t&q0e;if(r&&(u=i?r(e,n,i,a):r(e)),u!==void 0)return u;if(!$0e(e))return e;var x=O0e(e);if(x){if(u=M0e(e),!s)return A0e(e,u)}else{var w=L0e(e),S=w==R7||w==X0e;if(N0e(e))return E0e(e,s);if(w==D7||w==M7||S&&!i){if(u=f||S?{}:D0e(e),!s)return f?P0e(e,C0e(u,e)):T0e(e,S0e(u,e))}else{if(!co[w])return i?e:{};u=R0e(e,w,s)}}a||(a=new x0e);var C=a.get(e);if(C)return C;a.set(e,u),B0e(e)?e.forEach(function($){u.add(e_($,t,r,$,e,a))}):F0e(e)&&e.forEach(function($,M){u.set(M,e_($,t,r,M,e,a))});var L=m?f?I0e:k0e:f?j0e:z0e,k=x?void 0:L(e);return _0e(k||e,function($,M){k&&(M=$,$=e[M]),w0e(u,M,e_($,t,r,M,e,a))}),u}var pye=e_,mye=pye,gye=1,yye=4;function vye(e){return mye(e,gye|yye)}var bye=vye;Object.defineProperty(Qb,"__esModule",{value:!0});Qb.mergeClasses=void 0;var xye=EP,_ye=O7(xye),wye=bye,Sye=O7(wye),Cye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function O7(e){return e&&e.__esModule?e:{default:e}}var Eye=Qb.mergeClasses=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=t.default&&(0,Sye.default)(t.default)||{};return r.map(function(i){var a=t[i];return a&&(0,_ye.default)(a,function(u,s){n[s]||(n[s]={}),n[s]=Cye({},n[s],a[s])}),i}),n};Qb.default=Eye;var e2={};Object.defineProperty(e2,"__esModule",{value:!0});e2.autoprefix=void 0;var Aye=EP,CD=Pye(Aye),Tye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function Pye(e){return e&&e.__esModule?e:{default:e}}var kye={borderRadius:function(t){return{msBorderRadius:t,MozBorderRadius:t,OBorderRadius:t,WebkitBorderRadius:t,borderRadius:t}},boxShadow:function(t){return{msBoxShadow:t,MozBoxShadow:t,OBoxShadow:t,WebkitBoxShadow:t,boxShadow:t}},userSelect:function(t){return{WebkitTouchCallout:t,KhtmlUserSelect:t,MozUserSelect:t,msUserSelect:t,WebkitUserSelect:t,userSelect:t}},flex:function(t){return{WebkitBoxFlex:t,MozBoxFlex:t,WebkitFlex:t,msFlex:t,flex:t}},flexBasis:function(t){return{WebkitFlexBasis:t,flexBasis:t}},justifyContent:function(t){return{WebkitJustifyContent:t,justifyContent:t}},transition:function(t){return{msTransition:t,MozTransition:t,OTransition:t,WebkitTransition:t,transition:t}},transform:function(t){return{msTransform:t,MozTransform:t,OTransform:t,WebkitTransform:t,transform:t}},absolute:function(t){var r=t&&t.split(" ");return{position:"absolute",top:r&&r[0],right:r&&r[1],bottom:r&&r[2],left:r&&r[3]}},extend:function(t,r){var n=r[t];return n||{extend:t}}},Iye=e2.autoprefix=function(t){var r={};return(0,CD.default)(t,function(n,i){var a={};(0,CD.default)(n,function(u,s){var f=kye[s];f?a=Tye({},a,f(u)):a[s]=u}),r[i]=a}),r};e2.default=Iye;var t2={};Object.defineProperty(t2,"__esModule",{value:!0});t2.hover=void 0;var Lye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mye=V,C3=Rye(Mye);function Rye(e){return e&&e.__esModule?e:{default:e}}function Dye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ED(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Oye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Nye=t2.hover=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(n){Oye(i,n);function i(){var a,u,s,f;Dye(this,i);for(var m=arguments.length,x=Array(m),w=0;w<m;w++)x[w]=arguments[w];return f=(u=(s=ED(this,(a=i.__proto__||Object.getPrototypeOf(i)).call.apply(a,[this].concat(x))),s),s.state={hover:!1},s.handleMouseOver=function(){return s.setState({hover:!0})},s.handleMouseOut=function(){return s.setState({hover:!1})},s.render=function(){return C3.default.createElement(r,{onMouseOver:s.handleMouseOver,onMouseOut:s.handleMouseOut},C3.default.createElement(t,Lye({},s.props,s.state)))},u),ED(s,f)}return i}(C3.default.Component)};t2.default=Nye;var r2={};Object.defineProperty(r2,"__esModule",{value:!0});r2.active=void 0;var Fye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$ye=V,E3=Bye($ye);function Bye(e){return e&&e.__esModule?e:{default:e}}function zye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AD(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function jye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Uye=r2.active=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(n){jye(i,n);function i(){var a,u,s,f;zye(this,i);for(var m=arguments.length,x=Array(m),w=0;w<m;w++)x[w]=arguments[w];return f=(u=(s=AD(this,(a=i.__proto__||Object.getPrototypeOf(i)).call.apply(a,[this].concat(x))),s),s.state={active:!1},s.handleMouseDown=function(){return s.setState({active:!0})},s.handleMouseUp=function(){return s.setState({active:!1})},s.render=function(){return E3.default.createElement(r,{onMouseDown:s.handleMouseDown,onMouseUp:s.handleMouseUp},E3.default.createElement(t,Fye({},s.props,s.state)))},u),AD(s,f)}return i}(E3.default.Component)};r2.default=Uye;var FP={};Object.defineProperty(FP,"__esModule",{value:!0});var Vye=function(t,r){var n={},i=function(u){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;n[u]=s};return t===0&&i("first-child"),t===r-1&&i("last-child"),(t===0||t%2===0)&&i("even"),Math.abs(t%2)===1&&i("odd"),i("nth-child",t),n};FP.default=Vye;Object.defineProperty(bc,"__esModule",{value:!0});bc.ReactCSS=bc.loop=bc.handleActive=$P=bc.handleHover=bc.hover=void 0;var qye=Zb,Hye=$y(qye),Wye=Qb,Gye=$y(Wye),Kye=e2,Xye=$y(Kye),Zye=t2,N7=$y(Zye),Yye=r2,Jye=$y(Yye),Qye=FP,eve=$y(Qye);function $y(e){return e&&e.__esModule?e:{default:e}}bc.hover=N7.default;var $P=bc.handleHover=N7.default;bc.handleActive=Jye.default;bc.loop=eve.default;var tve=bc.ReactCSS=function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var a=(0,Hye.default)(n),u=(0,Gye.default)(t,a);return(0,Xye.default)(u)},kn=bc.default=tve,rve=function(t,r,n,i,a){var u=a.clientWidth,s=a.clientHeight,f=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,m=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,x=f-(a.getBoundingClientRect().left+window.pageXOffset),w=m-(a.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var S=void 0;if(w<0?S=0:w>s?S=1:S=Math.round(w*100/s)/100,r.a!==S)return{h:r.h,s:r.s,l:r.l,a:S,source:"rgb"}}else{var C=void 0;if(x<0?C=0:x>u?C=1:C=Math.round(x*100/u)/100,i!==C)return{h:r.h,s:r.s,l:r.l,a:C,source:"rgb"}}return null},A3={},nve=function(t,r,n,i){if(typeof document>"u"&&!i)return null;var a=i?new i:document.createElement("canvas");a.width=n*2,a.height=n*2;var u=a.getContext("2d");return u?(u.fillStyle=t,u.fillRect(0,0,a.width,a.height),u.fillStyle=r,u.fillRect(0,0,n,n),u.translate(n,n),u.fillRect(0,0,n,n),a.toDataURL()):null},ive=function(t,r,n,i){var a=t+"-"+r+"-"+n+(i?"-server":"");if(A3[a])return A3[a];var u=nve(t,r,n,i);return A3[a]=u,u},TD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},By=function(t){var r=t.white,n=t.grey,i=t.size,a=t.renderers,u=t.borderRadius,s=t.boxShadow,f=t.children,m=kn({default:{grid:{borderRadius:u,boxShadow:s,absolute:"0px 0px 0px 0px",background:"url("+ive(r,n,i,a.canvas)+") center left"}}});return V.isValidElement(f)?Se.cloneElement(f,TD({},f.props,{style:TD({},f.props.style,m.grid)})):Se.createElement("div",{style:m.grid})};By.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var ove=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ave=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function sve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PD(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function lve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var BP=function(e){lve(t,e);function t(){var r,n,i,a;sve(this,t);for(var u=arguments.length,s=Array(u),f=0;f<u;f++)s[f]=arguments[f];return a=(n=(i=PD(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this].concat(s))),i),i.handleChange=function(m){var x=rve(m,i.props.hsl,i.props.direction,i.props.a,i.container);x&&typeof i.props.onChange=="function"&&i.props.onChange(x,m)},i.handleMouseDown=function(m){i.handleChange(m),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},n),PD(i,a)}return ave(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var n=this,i=this.props.rgb,a=kn({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:ove({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return Se.createElement("div",{style:a.alpha},Se.createElement("div",{style:a.checkboard},Se.createElement(By,{renderers:this.props.renderers})),Se.createElement("div",{style:a.gradient}),Se.createElement("div",{style:a.container,ref:function(s){return n.container=s},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},Se.createElement("div",{style:a.pointer},this.props.pointer?Se.createElement(this.props.pointer,this.props):Se.createElement("div",{style:a.slider}))))}}]),t}(V.PureComponent||V.Component),uve=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function cve(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hve(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function fve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var pve=1,F7=38,mve=40,gve=[F7,mve],yve=function(t){return gve.indexOf(t)>-1},vve=function(t){return Number(String(t).replace(/%/g,""))},bve=1,ci=function(e){fve(t,e);function t(r){dve(this,t);var n=hve(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(i){n.setUpdatedValue(i.target.value,i)},n.handleKeyDown=function(i){var a=vve(i.target.value);if(!isNaN(a)&&yve(i.keyCode)){var u=n.getArrowOffset(),s=i.keyCode===F7?a+u:a-u;n.setUpdatedValue(s,i)}},n.handleDrag=function(i){if(n.props.dragLabel){var a=Math.round(n.props.value+i.movementX);a>=0&&a<=n.props.dragMax&&n.props.onChange&&n.props.onChange(n.getValueObjectWithLabel(a),i)}},n.handleMouseDown=function(i){n.props.dragLabel&&(i.preventDefault(),n.handleDrag(i),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(r.value).toUpperCase(),blurValue:String(r.value).toUpperCase()},n.inputId="rc-editable-input-"+bve++,n}return uve(t,[{key:"componentDidUpdate",value:function(n,i){this.props.value!==this.state.value&&(n.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(n){return cve({},this.props.label,n)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||pve}},{key:"setUpdatedValue",value:function(n,i){var a=this.props.label?this.getValueObjectWithLabel(n):n;this.props.onChange&&this.props.onChange(a,i),this.setState({value:n})}},{key:"render",value:function(){var n=this,i=kn({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return Se.createElement("div",{style:i.wrap},Se.createElement("input",{id:this.inputId,style:i.input,ref:function(u){return n.input=u},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?Se.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(V.PureComponent||V.Component),xve=function(t,r,n,i){var a=i.clientWidth,u=i.clientHeight,s=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,f=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,m=s-(i.getBoundingClientRect().left+window.pageXOffset),x=f-(i.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var w=void 0;if(x<0)w=359;else if(x>u)w=0;else{var S=-(x*100/u)+100;w=360*S/100}if(n.h!==w)return{h:w,s:n.s,l:n.l,a:n.a,source:"hsl"}}else{var C=void 0;if(m<0)C=0;else if(m>a)C=359;else{var L=m*100/a;C=360*L/100}if(n.h!==C)return{h:C,s:n.s,l:n.l,a:n.a,source:"hsl"}}return null},_ve=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function wve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kD(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Sve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var zy=function(e){Sve(t,e);function t(){var r,n,i,a;wve(this,t);for(var u=arguments.length,s=Array(u),f=0;f<u;f++)s[f]=arguments[f];return a=(n=(i=kD(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this].concat(s))),i),i.handleChange=function(m){var x=xve(m,i.props.direction,i.props.hsl,i.container);x&&typeof i.props.onChange=="function"&&i.props.onChange(x,m)},i.handleMouseDown=function(m){i.handleChange(m),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},n),kD(i,a)}return _ve(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var n=this,i=this.props.direction,a=i===void 0?"horizontal":i,u=kn({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:a==="vertical"});return Se.createElement("div",{style:u.hue},Se.createElement("div",{className:"hue-"+a,style:u.container,ref:function(f){return n.container=f},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},Se.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),Se.createElement("div",{style:u.pointer},this.props.pointer?Se.createElement(this.props.pointer,this.props):Se.createElement("div",{style:u.slider}))))}}]),t}(V.PureComponent||V.Component);function Cve(){this.__data__=[],this.size=0}function n2(e,t){return e===t||e!==e&&t!==t}function G5(e,t){for(var r=e.length;r--;)if(n2(e[r][0],t))return r;return-1}var Eve=Array.prototype,Ave=Eve.splice;function Tve(e){var t=this.__data__,r=G5(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Ave.call(t,r,1),--this.size,!0}function Pve(e){var t=this.__data__,r=G5(t,e);return r<0?void 0:t[r][1]}function kve(e){return G5(this.__data__,e)>-1}function Ive(e,t){var r=this.__data__,n=G5(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function cf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}cf.prototype.clear=Cve;cf.prototype.delete=Tve;cf.prototype.get=Pve;cf.prototype.has=kve;cf.prototype.set=Ive;function Lve(){this.__data__=new cf,this.size=0}function Mve(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function Rve(e){return this.__data__.get(e)}function Dve(e){return this.__data__.has(e)}var $7=typeof global=="object"&&global&&global.Object===Object&&global,Ove=typeof self=="object"&&self&&self.Object===Object&&self,dd=$7||Ove||Function("return this")(),fp=dd.Symbol,B7=Object.prototype,Nve=B7.hasOwnProperty,Fve=B7.toString,Fv=fp?fp.toStringTag:void 0;function $ve(e){var t=Nve.call(e,Fv),r=e[Fv];try{e[Fv]=void 0;var n=!0}catch{}var i=Fve.call(e);return n&&(t?e[Fv]=r:delete e[Fv]),i}var Bve=Object.prototype,zve=Bve.toString;function jve(e){return zve.call(e)}var Uve="[object Null]",Vve="[object Undefined]",ID=fp?fp.toStringTag:void 0;function Um(e){return e==null?e===void 0?Vve:Uve:ID&&ID in Object(e)?$ve(e):jve(e)}function Ec(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var qve="[object AsyncFunction]",Hve="[object Function]",Wve="[object GeneratorFunction]",Gve="[object Proxy]";function zP(e){if(!Ec(e))return!1;var t=Um(e);return t==Hve||t==Wve||t==qve||t==Gve}var T3=dd["__core-js_shared__"],LD=function(){var e=/[^.]+$/.exec(T3&&T3.keys&&T3.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Kve(e){return!!LD&&LD in e}var Xve=Function.prototype,Zve=Xve.toString;function Vm(e){if(e!=null){try{return Zve.call(e)}catch{}try{return e+""}catch{}}return""}var Yve=/[\\^$.*+?()[\]{}|]/g,Jve=/^\[object .+?Constructor\]$/,Qve=Function.prototype,e1e=Object.prototype,t1e=Qve.toString,r1e=e1e.hasOwnProperty,n1e=RegExp("^"+t1e.call(r1e).replace(Yve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function i1e(e){if(!Ec(e)||Kve(e))return!1;var t=zP(e)?n1e:Jve;return t.test(Vm(e))}function o1e(e,t){return e==null?void 0:e[t]}function qm(e,t){var r=o1e(e,t);return i1e(r)?r:void 0}var mb=qm(dd,"Map"),gb=qm(Object,"create");function a1e(){this.__data__=gb?gb(null):{},this.size=0}function s1e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var l1e="__lodash_hash_undefined__",u1e=Object.prototype,c1e=u1e.hasOwnProperty;function d1e(e){var t=this.__data__;if(gb){var r=t[e];return r===l1e?void 0:r}return c1e.call(t,e)?t[e]:void 0}var h1e=Object.prototype,f1e=h1e.hasOwnProperty;function p1e(e){var t=this.__data__;return gb?t[e]!==void 0:f1e.call(t,e)}var m1e="__lodash_hash_undefined__";function g1e(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=gb&&t===void 0?m1e:t,this}function Lm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Lm.prototype.clear=a1e;Lm.prototype.delete=s1e;Lm.prototype.get=d1e;Lm.prototype.has=p1e;Lm.prototype.set=g1e;function y1e(){this.size=0,this.__data__={hash:new Lm,map:new(mb||cf),string:new Lm}}function v1e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function K5(e,t){var r=e.__data__;return v1e(t)?r[typeof t=="string"?"string":"hash"]:r.map}function b1e(e){var t=K5(this,e).delete(e);return this.size-=t?1:0,t}function x1e(e){return K5(this,e).get(e)}function _1e(e){return K5(this,e).has(e)}function w1e(e,t){var r=K5(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function df(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}df.prototype.clear=y1e;df.prototype.delete=b1e;df.prototype.get=x1e;df.prototype.has=_1e;df.prototype.set=w1e;var S1e=200;function C1e(e,t){var r=this.__data__;if(r instanceof cf){var n=r.__data__;if(!mb||n.length<S1e-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new df(n)}return r.set(e,t),this.size=r.size,this}function rh(e){var t=this.__data__=new cf(e);this.size=t.size}rh.prototype.clear=Lve;rh.prototype.delete=Mve;rh.prototype.get=Rve;rh.prototype.has=Dve;rh.prototype.set=C1e;var q_=function(){try{var e=qm(Object,"defineProperty");return e({},"",{}),e}catch{}}();function jP(e,t,r){t=="__proto__"&&q_?q_(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function SA(e,t,r){(r!==void 0&&!n2(e[t],r)||r===void 0&&!(t in e))&&jP(e,t,r)}function E1e(e){return function(t,r,n){for(var i=-1,a=Object(t),u=n(t),s=u.length;s--;){var f=u[++i];if(r(a[f],f,a)===!1)break}return t}}var z7=E1e(),j7=typeof exports=="object"&&exports&&!exports.nodeType&&exports,MD=j7&&typeof module=="object"&&module&&!module.nodeType&&module,A1e=MD&&MD.exports===j7,RD=A1e?dd.Buffer:void 0;RD&&RD.allocUnsafe;function T1e(e,t){return e.slice()}var H_=dd.Uint8Array;function P1e(e){var t=new e.constructor(e.byteLength);return new H_(t).set(new H_(e)),t}function k1e(e,t){var r=P1e(e.buffer);return new e.constructor(r,e.byteOffset,e.length)}function I1e(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var DD=Object.create,L1e=function(){function e(){}return function(t){if(!Ec(t))return{};if(DD)return DD(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function U7(e,t){return function(r){return e(t(r))}}var V7=U7(Object.getPrototypeOf,Object),M1e=Object.prototype;function UP(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||M1e;return e===r}function R1e(e){return typeof e.constructor=="function"&&!UP(e)?L1e(V7(e)):{}}function pp(e){return e!=null&&typeof e=="object"}var D1e="[object Arguments]";function OD(e){return pp(e)&&Um(e)==D1e}var q7=Object.prototype,O1e=q7.hasOwnProperty,N1e=q7.propertyIsEnumerable,W_=OD(function(){return arguments}())?OD:function(e){return pp(e)&&O1e.call(e,"callee")&&!N1e.call(e,"callee")},Vu=Array.isArray,F1e=9007199254740991;function VP(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=F1e}function jy(e){return e!=null&&VP(e.length)&&!zP(e)}function $1e(e){return pp(e)&&jy(e)}function B1e(){return!1}var H7=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ND=H7&&typeof module=="object"&&module&&!module.nodeType&&module,z1e=ND&&ND.exports===H7,FD=z1e?dd.Buffer:void 0,j1e=FD?FD.isBuffer:void 0,G_=j1e||B1e,U1e="[object Object]",V1e=Function.prototype,q1e=Object.prototype,W7=V1e.toString,H1e=q1e.hasOwnProperty,W1e=W7.call(Object);function G1e(e){if(!pp(e)||Um(e)!=U1e)return!1;var t=V7(e);if(t===null)return!0;var r=H1e.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&W7.call(r)==W1e}var K1e="[object Arguments]",X1e="[object Array]",Z1e="[object Boolean]",Y1e="[object Date]",J1e="[object Error]",Q1e="[object Function]",ebe="[object Map]",tbe="[object Number]",rbe="[object Object]",nbe="[object RegExp]",ibe="[object Set]",obe="[object String]",abe="[object WeakMap]",sbe="[object ArrayBuffer]",lbe="[object DataView]",ube="[object Float32Array]",cbe="[object Float64Array]",dbe="[object Int8Array]",hbe="[object Int16Array]",fbe="[object Int32Array]",pbe="[object Uint8Array]",mbe="[object Uint8ClampedArray]",gbe="[object Uint16Array]",ybe="[object Uint32Array]",wo={};wo[ube]=wo[cbe]=wo[dbe]=wo[hbe]=wo[fbe]=wo[pbe]=wo[mbe]=wo[gbe]=wo[ybe]=!0;wo[K1e]=wo[X1e]=wo[sbe]=wo[Z1e]=wo[lbe]=wo[Y1e]=wo[J1e]=wo[Q1e]=wo[ebe]=wo[tbe]=wo[rbe]=wo[nbe]=wo[ibe]=wo[obe]=wo[abe]=!1;function vbe(e){return pp(e)&&VP(e.length)&&!!wo[Um(e)]}function bbe(e){return function(t){return e(t)}}var G7=typeof exports=="object"&&exports&&!exports.nodeType&&exports,D1=G7&&typeof module=="object"&&module&&!module.nodeType&&module,xbe=D1&&D1.exports===G7,P3=xbe&&$7.process,$D=function(){try{var e=D1&&D1.require&&D1.require("util").types;return e||P3&&P3.binding&&P3.binding("util")}catch{}}(),BD=$D&&$D.isTypedArray,qP=BD?bbe(BD):vbe;function CA(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var _be=Object.prototype,wbe=_be.hasOwnProperty;function Sbe(e,t,r){var n=e[t];(!(wbe.call(e,t)&&n2(n,r))||r===void 0&&!(t in e))&&jP(e,t,r)}function Cbe(e,t,r,n){var i=!r;r||(r={});for(var a=-1,u=t.length;++a<u;){var s=t[a],f=void 0;f===void 0&&(f=e[s]),i?jP(r,s,f):Sbe(r,s,f)}return r}function Ebe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Abe=9007199254740991,Tbe=/^(?:0|[1-9]\d*)$/;function HP(e,t){var r=typeof e;return t=t??Abe,!!t&&(r=="number"||r!="symbol"&&Tbe.test(e))&&e>-1&&e%1==0&&e<t}var Pbe=Object.prototype,kbe=Pbe.hasOwnProperty;function K7(e,t){var r=Vu(e),n=!r&&W_(e),i=!r&&!n&&G_(e),a=!r&&!n&&!i&&qP(e),u=r||n||i||a,s=u?Ebe(e.length,String):[],f=s.length;for(var m in e)(t||kbe.call(e,m))&&!(u&&(m=="length"||i&&(m=="offset"||m=="parent")||a&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||HP(m,f)))&&s.push(m);return s}function Ibe(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var Lbe=Object.prototype,Mbe=Lbe.hasOwnProperty;function Rbe(e){if(!Ec(e))return Ibe(e);var t=UP(e),r=[];for(var n in e)n=="constructor"&&(t||!Mbe.call(e,n))||r.push(n);return r}function X7(e){return jy(e)?K7(e,!0):Rbe(e)}function Dbe(e){return Cbe(e,X7(e))}function Obe(e,t,r,n,i,a,u){var s=CA(e,r),f=CA(t,r),m=u.get(f);if(m){SA(e,r,m);return}var x=a?a(s,f,r+"",e,t,u):void 0,w=x===void 0;if(w){var S=Vu(f),C=!S&&G_(f),L=!S&&!C&&qP(f);x=f,S||C||L?Vu(s)?x=s:$1e(s)?x=I1e(s):C?(w=!1,x=T1e(f)):L?(w=!1,x=k1e(f)):x=[]:G1e(f)||W_(f)?(x=s,W_(s)?x=Dbe(s):(!Ec(s)||zP(s))&&(x=R1e(f))):w=!1}w&&(u.set(f,x),i(x,f,n,a,u),u.delete(f)),SA(e,r,x)}function Z7(e,t,r,n,i){e!==t&&z7(t,function(a,u){if(i||(i=new rh),Ec(a))Obe(e,t,u,r,Z7,n,i);else{var s=n?n(CA(e,u),a,u+"",e,t,i):void 0;s===void 0&&(s=a),SA(e,u,s)}},X7)}function X5(e){return e}function Nbe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var zD=Math.max;function Fbe(e,t,r){return t=zD(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=zD(n.length-t,0),u=Array(a);++i<a;)u[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(u),Nbe(e,this,s)}}function $be(e){return function(){return e}}var Bbe=q_?function(e,t){return q_(e,"toString",{configurable:!0,enumerable:!1,value:$be(t),writable:!0})}:X5,zbe=800,jbe=16,Ube=Date.now;function Vbe(e){var t=0,r=0;return function(){var n=Ube(),i=jbe-(n-r);if(r=n,i>0){if(++t>=zbe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var qbe=Vbe(Bbe);function Hbe(e,t){return qbe(Fbe(e,t,X5),e+"")}function Wbe(e,t,r){if(!Ec(r))return!1;var n=typeof t;return(n=="number"?jy(r)&&HP(t,r.length):n=="string"&&t in r)?n2(r[t],e):!1}function Gbe(e){return Hbe(function(t,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,u=i>2?r[2]:void 0;for(a=e.length>3&&typeof a=="function"?(i--,a):void 0,u&&Wbe(r[0],r[1],u)&&(a=i<3?void 0:a,i=1),t=Object(t);++n<i;){var s=r[n];s&&e(t,s,n,a)}return t})}var su=Gbe(function(e,t,r){Z7(e,t,r)}),i2=function(t){var r=t.zDepth,n=t.radius,i=t.background,a=t.children,u=t.styles,s=u===void 0?{}:u,f=kn(su({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+r+"px "+r*4+"px rgba(0,0,0,.24)",borderRadius:n,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},s),{"zDepth-1":r===1});return Se.createElement("div",{style:f.wrap},Se.createElement("div",{style:f.bg}),Se.createElement("div",{style:f.content},a))};i2.propTypes={background:sr.string,zDepth:sr.oneOf([0,1,2,3,4,5]),radius:sr.number,styles:sr.object};i2.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var k3=function(){return dd.Date.now()},Kbe=/\s/;function Xbe(e){for(var t=e.length;t--&&Kbe.test(e.charAt(t)););return t}var Zbe=/^\s+/;function Ybe(e){return e&&e.slice(0,Xbe(e)+1).replace(Zbe,"")}var Jbe="[object Symbol]";function Z5(e){return typeof e=="symbol"||pp(e)&&Um(e)==Jbe}var jD=NaN,Qbe=/^[-+]0x[0-9a-f]+$/i,e2e=/^0b[01]+$/i,t2e=/^0o[0-7]+$/i,r2e=parseInt;function UD(e){if(typeof e=="number")return e;if(Z5(e))return jD;if(Ec(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ec(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Ybe(e);var r=e2e.test(e);return r||t2e.test(e)?r2e(e.slice(2),r?2:8):Qbe.test(e)?jD:+e}var n2e="Expected a function",i2e=Math.max,o2e=Math.min;function Y7(e,t,r){var n,i,a,u,s,f,m=0,x=!1,w=!1,S=!0;if(typeof e!="function")throw new TypeError(n2e);t=UD(t)||0,Ec(r)&&(x=!!r.leading,w="maxWait"in r,a=w?i2e(UD(r.maxWait)||0,t):a,S="trailing"in r?!!r.trailing:S);function C(K){var ee=n,Q=i;return n=i=void 0,m=K,u=e.apply(Q,ee),u}function L(K){return m=K,s=setTimeout(M,t),x?C(K):u}function k(K){var ee=K-f,Q=K-m,ge=t-ee;return w?o2e(ge,a-Q):ge}function $(K){var ee=K-f,Q=K-m;return f===void 0||ee>=t||ee<0||w&&Q>=a}function M(){var K=k3();if($(K))return z(K);s=setTimeout(M,k(K))}function z(K){return s=void 0,S&&n?C(K):(n=i=void 0,u)}function B(){s!==void 0&&clearTimeout(s),m=0,n=f=i=s=void 0}function q(){return s===void 0?u:z(k3())}function te(){var K=k3(),ee=$(K);if(n=arguments,i=this,f=K,ee){if(s===void 0)return L(f);if(w)return clearTimeout(s),s=setTimeout(M,t),C(f)}return s===void 0&&(s=setTimeout(M,t)),u}return te.cancel=B,te.flush=q,te}var a2e="Expected a function";function s2e(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(a2e);return Ec(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Y7(e,t,{leading:n,maxWait:t,trailing:i})}var l2e=function(t,r,n){var i=n.getBoundingClientRect(),a=i.width,u=i.height,s=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,f=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,m=s-(n.getBoundingClientRect().left+window.pageXOffset),x=f-(n.getBoundingClientRect().top+window.pageYOffset);m<0?m=0:m>a&&(m=a),x<0?x=0:x>u&&(x=u);var w=m/a,S=1-x/u;return{h:r.h,s:w,v:S,a:r.a,source:"hsv"}},u2e=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function c2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d2e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function h2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Y5=function(e){h2e(t,e);function t(r){c2e(this,t);var n=d2e(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return n.handleChange=function(i){typeof n.props.onChange=="function"&&n.throttle(n.props.onChange,l2e(i,n.props.hsl,n.container),i)},n.handleMouseDown=function(i){n.handleChange(i);var a=n.getContainerRenderWindow();a.addEventListener("mousemove",n.handleChange),a.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=s2e(function(i,a,u){i(a,u)},50),n}return u2e(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var n=this.container,i=window;!i.document.contains(n)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var n=this.getContainerRenderWindow();n.removeEventListener("mousemove",this.handleChange),n.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var n=this,i=this.props.style||{},a=i.color,u=i.white,s=i.black,f=i.pointer,m=i.circle,x=kn({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:a,white:u,black:s,pointer:f,circle:m}},{custom:!!this.props.style});return Se.createElement("div",{style:x.color,ref:function(S){return n.container=S},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},Se.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),Se.createElement("div",{style:x.white,className:"saturation-white"},Se.createElement("div",{style:x.black,className:"saturation-black"}),Se.createElement("div",{style:x.pointer},this.props.pointer?Se.createElement(this.props.pointer,this.props):Se.createElement("div",{style:x.circle}))))}}]),t}(V.PureComponent||V.Component);function f2e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var p2e=U7(Object.keys,Object),m2e=Object.prototype,g2e=m2e.hasOwnProperty;function y2e(e){if(!UP(e))return p2e(e);var t=[];for(var r in Object(e))g2e.call(e,r)&&r!="constructor"&&t.push(r);return t}function WP(e){return jy(e)?K7(e):y2e(e)}function v2e(e,t){return e&&z7(e,t,WP)}function b2e(e,t){return function(r,n){if(r==null)return r;if(!jy(r))return e(r,n);for(var i=r.length,a=-1,u=Object(r);++a<i&&n(u[a],a,u)!==!1;);return r}}var J7=b2e(v2e);function x2e(e){return typeof e=="function"?e:X5}function _2e(e,t){var r=Vu(e)?f2e:J7;return r(e,x2e(t))}function K_(e){"@babel/helpers - typeof";return K_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K_(e)}var w2e=/^\s+/,S2e=/\s+$/;function nn(e,t){if(e=e||"",t=t||{},e instanceof nn)return e;if(!(this instanceof nn))return new nn(e,t);var r=C2e(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||r.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}nn.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),r,n,i,a,u,s;return r=t.r/255,n=t.g/255,i=t.b/255,r<=.03928?a=r/12.92:a=Math.pow((r+.055)/1.055,2.4),n<=.03928?u=n/12.92:u=Math.pow((n+.055)/1.055,2.4),i<=.03928?s=i/12.92:s=Math.pow((i+.055)/1.055,2.4),.2126*a+.7152*u+.0722*s},setAlpha:function(t){return this._a=Q7(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=qD(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=qD(this._r,this._g,this._b),r=Math.round(t.h*360),n=Math.round(t.s*100),i=Math.round(t.v*100);return this._a==1?"hsv("+r+", "+n+"%, "+i+"%)":"hsva("+r+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=VD(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=VD(this._r,this._g,this._b),r=Math.round(t.h*360),n=Math.round(t.s*100),i=Math.round(t.l*100);return this._a==1?"hsl("+r+", "+n+"%, "+i+"%)":"hsla("+r+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return HD(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return P2e(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Do(this._r,255)*100)+"%",g:Math.round(Do(this._g,255)*100)+"%",b:Math.round(Do(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Do(this._r,255)*100)+"%, "+Math.round(Do(this._g,255)*100)+"%, "+Math.round(Do(this._b,255)*100)+"%)":"rgba("+Math.round(Do(this._r,255)*100)+"%, "+Math.round(Do(this._g,255)*100)+"%, "+Math.round(Do(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:z2e[HD(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var r="#"+WD(this._r,this._g,this._b,this._a),n=r,i=this._gradientType?"GradientType = 1, ":"";if(t){var a=nn(t);n="#"+WD(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+r+",endColorstr="+n+")"},toString:function(t){var r=!!t;t=t||this._format;var n=!1,i=this._a<1&&this._a>=0,a=!r&&i&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return a?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(n=this.toRgbString()),t==="prgb"&&(n=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(n=this.toHexString()),t==="hex3"&&(n=this.toHexString(!0)),t==="hex4"&&(n=this.toHex8String(!0)),t==="hex8"&&(n=this.toHex8String()),t==="name"&&(n=this.toName()),t==="hsl"&&(n=this.toHslString()),t==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return nn(this.toString())},_applyModification:function(t,r){var n=t.apply(null,[this].concat([].slice.call(r)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(M2e,arguments)},brighten:function(){return this._applyModification(R2e,arguments)},darken:function(){return this._applyModification(D2e,arguments)},desaturate:function(){return this._applyModification(k2e,arguments)},saturate:function(){return this._applyModification(I2e,arguments)},greyscale:function(){return this._applyModification(L2e,arguments)},spin:function(){return this._applyModification(O2e,arguments)},_applyCombination:function(t,r){return t.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination($2e,arguments)},complement:function(){return this._applyCombination(N2e,arguments)},monochromatic:function(){return this._applyCombination(B2e,arguments)},splitcomplement:function(){return this._applyCombination(F2e,arguments)},triad:function(){return this._applyCombination(GD,[3])},tetrad:function(){return this._applyCombination(GD,[4])}};nn.fromRatio=function(e,t){if(K_(e)=="object"){var r={};for(var n in e)e.hasOwnProperty(n)&&(n==="a"?r[n]=e[n]:r[n]=o1(e[n]));e=r}return nn(e,t)};function C2e(e){var t={r:0,g:0,b:0},r=1,n=null,i=null,a=null,u=!1,s=!1;return typeof e=="string"&&(e=q2e(e)),K_(e)=="object"&&(Lh(e.r)&&Lh(e.g)&&Lh(e.b)?(t=E2e(e.r,e.g,e.b),u=!0,s=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Lh(e.h)&&Lh(e.s)&&Lh(e.v)?(n=o1(e.s),i=o1(e.v),t=T2e(e.h,n,i),u=!0,s="hsv"):Lh(e.h)&&Lh(e.s)&&Lh(e.l)&&(n=o1(e.s),a=o1(e.l),t=A2e(e.h,n,a),u=!0,s="hsl"),e.hasOwnProperty("a")&&(r=e.a)),r=Q7(r),{ok:u,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:r}}function E2e(e,t,r){return{r:Do(e,255)*255,g:Do(t,255)*255,b:Do(r,255)*255}}function VD(e,t,r){e=Do(e,255),t=Do(t,255),r=Do(r,255);var n=Math.max(e,t,r),i=Math.min(e,t,r),a,u,s=(n+i)/2;if(n==i)a=u=0;else{var f=n-i;switch(u=s>.5?f/(2-n-i):f/(n+i),n){case e:a=(t-r)/f+(t<r?6:0);break;case t:a=(r-e)/f+2;break;case r:a=(e-t)/f+4;break}a/=6}return{h:a,s:u,l:s}}function A2e(e,t,r){var n,i,a;e=Do(e,360),t=Do(t,100),r=Do(r,100);function u(m,x,w){return w<0&&(w+=1),w>1&&(w-=1),w<1/6?m+(x-m)*6*w:w<1/2?x:w<2/3?m+(x-m)*(2/3-w)*6:m}if(t===0)n=i=a=r;else{var s=r<.5?r*(1+t):r+t-r*t,f=2*r-s;n=u(f,s,e+1/3),i=u(f,s,e),a=u(f,s,e-1/3)}return{r:n*255,g:i*255,b:a*255}}function qD(e,t,r){e=Do(e,255),t=Do(t,255),r=Do(r,255);var n=Math.max(e,t,r),i=Math.min(e,t,r),a,u,s=n,f=n-i;if(u=n===0?0:f/n,n==i)a=0;else{switch(n){case e:a=(t-r)/f+(t<r?6:0);break;case t:a=(r-e)/f+2;break;case r:a=(e-t)/f+4;break}a/=6}return{h:a,s:u,v:s}}function T2e(e,t,r){e=Do(e,360)*6,t=Do(t,100),r=Do(r,100);var n=Math.floor(e),i=e-n,a=r*(1-t),u=r*(1-i*t),s=r*(1-(1-i)*t),f=n%6,m=[r,u,a,a,s,r][f],x=[s,r,r,u,a,a][f],w=[a,a,s,r,r,u][f];return{r:m*255,g:x*255,b:w*255}}function HD(e,t,r,n){var i=[td(Math.round(e).toString(16)),td(Math.round(t).toString(16)),td(Math.round(r).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function P2e(e,t,r,n,i){var a=[td(Math.round(e).toString(16)),td(Math.round(t).toString(16)),td(Math.round(r).toString(16)),td(e9(n))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function WD(e,t,r,n){var i=[td(e9(n)),td(Math.round(e).toString(16)),td(Math.round(t).toString(16)),td(Math.round(r).toString(16))];return i.join("")}nn.equals=function(e,t){return!e||!t?!1:nn(e).toRgbString()==nn(t).toRgbString()};nn.random=function(){return nn.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function k2e(e,t){t=t===0?0:t||10;var r=nn(e).toHsl();return r.s-=t/100,r.s=J5(r.s),nn(r)}function I2e(e,t){t=t===0?0:t||10;var r=nn(e).toHsl();return r.s+=t/100,r.s=J5(r.s),nn(r)}function L2e(e){return nn(e).desaturate(100)}function M2e(e,t){t=t===0?0:t||10;var r=nn(e).toHsl();return r.l+=t/100,r.l=J5(r.l),nn(r)}function R2e(e,t){t=t===0?0:t||10;var r=nn(e).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(t/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(t/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(t/100)))),nn(r)}function D2e(e,t){t=t===0?0:t||10;var r=nn(e).toHsl();return r.l-=t/100,r.l=J5(r.l),nn(r)}function O2e(e,t){var r=nn(e).toHsl(),n=(r.h+t)%360;return r.h=n<0?360+n:n,nn(r)}function N2e(e){var t=nn(e).toHsl();return t.h=(t.h+180)%360,nn(t)}function GD(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var r=nn(e).toHsl(),n=[nn(e)],i=360/t,a=1;a<t;a++)n.push(nn({h:(r.h+a*i)%360,s:r.s,l:r.l}));return n}function F2e(e){var t=nn(e).toHsl(),r=t.h;return[nn(e),nn({h:(r+72)%360,s:t.s,l:t.l}),nn({h:(r+216)%360,s:t.s,l:t.l})]}function $2e(e,t,r){t=t||6,r=r||30;var n=nn(e).toHsl(),i=360/r,a=[nn(e)];for(n.h=(n.h-(i*t>>1)+720)%360;--t;)n.h=(n.h+i)%360,a.push(nn(n));return a}function B2e(e,t){t=t||6;for(var r=nn(e).toHsv(),n=r.h,i=r.s,a=r.v,u=[],s=1/t;t--;)u.push(nn({h:n,s:i,v:a})),a=(a+s)%1;return u}nn.mix=function(e,t,r){r=r===0?0:r||50;var n=nn(e).toRgb(),i=nn(t).toRgb(),a=r/100,u={r:(i.r-n.r)*a+n.r,g:(i.g-n.g)*a+n.g,b:(i.b-n.b)*a+n.b,a:(i.a-n.a)*a+n.a};return nn(u)};nn.readability=function(e,t){var r=nn(e),n=nn(t);return(Math.max(r.getLuminance(),n.getLuminance())+.05)/(Math.min(r.getLuminance(),n.getLuminance())+.05)};nn.isReadable=function(e,t,r){var n=nn.readability(e,t),i,a;switch(a=!1,i=H2e(r),i.level+i.size){case"AAsmall":case"AAAlarge":a=n>=4.5;break;case"AAlarge":a=n>=3;break;case"AAAsmall":a=n>=7;break}return a};nn.mostReadable=function(e,t,r){var n=null,i=0,a,u,s,f;r=r||{},u=r.includeFallbackColors,s=r.level,f=r.size;for(var m=0;m<t.length;m++)a=nn.readability(e,t[m]),a>i&&(i=a,n=nn(t[m]));return nn.isReadable(e,n,{level:s,size:f})||!u?n:(r.includeFallbackColors=!1,nn.mostReadable(e,["#fff","#000"],r))};var EA=nn.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},z2e=nn.hexNames=j2e(EA);function j2e(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}function Q7(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Do(e,t){U2e(e)&&(e="100%");var r=V2e(e);return e=Math.min(t,Math.max(0,parseFloat(e))),r&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function J5(e){return Math.min(1,Math.max(0,e))}function Pu(e){return parseInt(e,16)}function U2e(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function V2e(e){return typeof e=="string"&&e.indexOf("%")!=-1}function td(e){return e.length==1?"0"+e:""+e}function o1(e){return e<=1&&(e=e*100+"%"),e}function e9(e){return Math.round(parseFloat(e)*255).toString(16)}function KD(e){return Pu(e)/255}var Hc=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",r="(?:"+t+")|(?:"+e+")",n="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Lh(e){return!!Hc.CSS_UNIT.exec(e)}function q2e(e){e=e.replace(w2e,"").replace(S2e,"").toLowerCase();var t=!1;if(EA[e])e=EA[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=Hc.rgb.exec(e))?{r:r[1],g:r[2],b:r[3]}:(r=Hc.rgba.exec(e))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=Hc.hsl.exec(e))?{h:r[1],s:r[2],l:r[3]}:(r=Hc.hsla.exec(e))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=Hc.hsv.exec(e))?{h:r[1],s:r[2],v:r[3]}:(r=Hc.hsva.exec(e))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=Hc.hex8.exec(e))?{r:Pu(r[1]),g:Pu(r[2]),b:Pu(r[3]),a:KD(r[4]),format:t?"name":"hex8"}:(r=Hc.hex6.exec(e))?{r:Pu(r[1]),g:Pu(r[2]),b:Pu(r[3]),format:t?"name":"hex"}:(r=Hc.hex4.exec(e))?{r:Pu(r[1]+""+r[1]),g:Pu(r[2]+""+r[2]),b:Pu(r[3]+""+r[3]),a:KD(r[4]+""+r[4]),format:t?"name":"hex8"}:(r=Hc.hex3.exec(e))?{r:Pu(r[1]+""+r[1]),g:Pu(r[2]+""+r[2]),b:Pu(r[3]+""+r[3]),format:t?"name":"hex"}:!1}function H2e(e){var t,r;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:t,size:r}}var XD=function(t){var r=["r","g","b","a","h","s","l","v"],n=0,i=0;return _2e(r,function(a){if(t[a]&&(n+=1,isNaN(t[a])||(i+=1),a==="s"||a==="l")){var u=/^\d+%$/;u.test(t[a])&&(i+=1)}}),n===i?t:!1},a1=function(t,r){var n=t.hex?nn(t.hex):nn(t),i=n.toHsl(),a=n.toHsv(),u=n.toRgb(),s=n.toHex();i.s===0&&(i.h=r||0,a.h=r||0);var f=s==="000000"&&u.a===0;return{hsl:i,hex:f?"transparent":"#"+s,rgb:u,hsv:a,oldHue:t.h||r||i.h,source:t.source}},xp=function(t){if(t==="transparent")return!0;var r=String(t).charAt(0)==="#"?1:0;return t.length!==4+r&&t.length<7+r&&nn(t).isValid()},GP=function(t){if(!t)return"#fff";var r=a1(t);if(r.hex==="transparent")return"rgba(0,0,0,0.4)";var n=(r.rgb.r*299+r.rgb.g*587+r.rgb.b*114)/1e3;return n>=128?"#000":"#fff"},I3=function(t,r){var n=t.replace("°","");return nn(r+" ("+n+")")._ok},$v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W2e=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function G2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K2e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function X2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var lu=function(t){var r=function(n){X2e(i,n);function i(a){G2e(this,i);var u=K2e(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return u.handleChange=function(s,f){var m=XD(s);if(m){var x=a1(s,s.h||u.state.oldHue);u.setState(x),u.props.onChangeComplete&&u.debounce(u.props.onChangeComplete,x,f),u.props.onChange&&u.props.onChange(x,f)}},u.handleSwatchHover=function(s,f){var m=XD(s);if(m){var x=a1(s,s.h||u.state.oldHue);u.props.onSwatchHover&&u.props.onSwatchHover(x,f)}},u.state=$v({},a1(a.color,0)),u.debounce=Y7(function(s,f,m){s(f,m)},100),u}return W2e(i,[{key:"render",value:function(){var u={};return this.props.onSwatchHover&&(u.onSwatchHover=this.handleSwatchHover),Se.createElement(t,$v({},this.props,this.state,{onChange:this.handleChange},u))}}],[{key:"getDerivedStateFromProps",value:function(u,s){return $v({},a1(u.color,s.oldHue))}}]),i}(V.PureComponent||V.Component);return r.propTypes=$v({},t.propTypes),r.defaultProps=$v({},t.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),r},Z2e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y2e=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function J2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZD(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Q2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var exe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(n){Q2e(i,n);function i(){var a,u,s,f;J2e(this,i);for(var m=arguments.length,x=Array(m),w=0;w<m;w++)x[w]=arguments[w];return f=(u=(s=ZD(this,(a=i.__proto__||Object.getPrototypeOf(i)).call.apply(a,[this].concat(x))),s),s.state={focus:!1},s.handleFocus=function(){return s.setState({focus:!0})},s.handleBlur=function(){return s.setState({focus:!1})},u),ZD(s,f)}return Y2e(i,[{key:"render",value:function(){return Se.createElement(r,{onFocus:this.handleFocus,onBlur:this.handleBlur},Se.createElement(t,Z2e({},this.props,this.state)))}}]),i}(Se.Component)},YD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},txe=13,rxe=function(t){var r=t.color,n=t.style,i=t.onClick,a=i===void 0?function(){}:i,u=t.onHover,s=t.title,f=s===void 0?r:s,m=t.children,x=t.focus,w=t.focusStyle,S=w===void 0?{}:w,C=r==="transparent",L=kn({default:{swatch:YD({background:r,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,x?S:{})}}),k=function(q){return a(r,q)},$=function(q){return q.keyCode===txe&&a(r,q)},M=function(q){return u(r,q)},z={};return u&&(z.onMouseOver=M),Se.createElement("div",YD({style:L.swatch,onClick:k,title:f,tabIndex:0,onKeyDown:$},z),m,C&&Se.createElement(By,{borderRadius:L.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const Hm=exe(rxe);var nxe=function(t){var r=t.direction,n=kn({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:r==="vertical"});return Se.createElement("div",{style:n.picker})},ixe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t9=function(t){var r=t.rgb,n=t.hsl,i=t.width,a=t.height,u=t.onChange,s=t.direction,f=t.style,m=t.renderers,x=t.pointer,w=t.className,S=w===void 0?"":w,C=kn({default:{picker:{position:"relative",width:i,height:a},alpha:{radius:"2px",style:f}}});return Se.createElement("div",{style:C.picker,className:"alpha-picker "+S},Se.createElement(BP,ixe({},C.alpha,{rgb:r,hsl:n,pointer:x,renderers:m,onChange:u,direction:s})))};t9.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:nxe};lu(t9);function r9(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var oxe="__lodash_hash_undefined__";function axe(e){return this.__data__.set(e,oxe),this}function sxe(e){return this.__data__.has(e)}function X_(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new df;++t<r;)this.add(e[t])}X_.prototype.add=X_.prototype.push=axe;X_.prototype.has=sxe;function lxe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function uxe(e,t){return e.has(t)}var cxe=1,dxe=2;function n9(e,t,r,n,i,a){var u=r&cxe,s=e.length,f=t.length;if(s!=f&&!(u&&f>s))return!1;var m=a.get(e),x=a.get(t);if(m&&x)return m==t&&x==e;var w=-1,S=!0,C=r&dxe?new X_:void 0;for(a.set(e,t),a.set(t,e);++w<s;){var L=e[w],k=t[w];if(n)var $=u?n(k,L,w,t,e,a):n(L,k,w,e,t,a);if($!==void 0){if($)continue;S=!1;break}if(C){if(!lxe(t,function(M,z){if(!uxe(C,z)&&(L===M||i(L,M,r,n,a)))return C.push(z)})){S=!1;break}}else if(!(L===k||i(L,k,r,n,a))){S=!1;break}}return a.delete(e),a.delete(t),S}function hxe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}function fxe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var pxe=1,mxe=2,gxe="[object Boolean]",yxe="[object Date]",vxe="[object Error]",bxe="[object Map]",xxe="[object Number]",_xe="[object RegExp]",wxe="[object Set]",Sxe="[object String]",Cxe="[object Symbol]",Exe="[object ArrayBuffer]",Axe="[object DataView]",JD=fp?fp.prototype:void 0,L3=JD?JD.valueOf:void 0;function Txe(e,t,r,n,i,a,u){switch(r){case Axe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Exe:return!(e.byteLength!=t.byteLength||!a(new H_(e),new H_(t)));case gxe:case yxe:case xxe:return n2(+e,+t);case vxe:return e.name==t.name&&e.message==t.message;case _xe:case Sxe:return e==t+"";case bxe:var s=hxe;case wxe:var f=n&pxe;if(s||(s=fxe),e.size!=t.size&&!f)return!1;var m=u.get(e);if(m)return m==t;n|=mxe,u.set(e,t);var x=n9(s(e),s(t),n,i,a,u);return u.delete(e),x;case Cxe:if(L3)return L3.call(e)==L3.call(t)}return!1}function Pxe(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function kxe(e,t,r){var n=t(e);return Vu(e)?n:Pxe(n,r(e))}function Ixe(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var u=e[r];t(u,r,e)&&(a[i++]=u)}return a}function Lxe(){return[]}var Mxe=Object.prototype,Rxe=Mxe.propertyIsEnumerable,QD=Object.getOwnPropertySymbols,Dxe=QD?function(e){return e==null?[]:(e=Object(e),Ixe(QD(e),function(t){return Rxe.call(e,t)}))}:Lxe;function eO(e){return kxe(e,WP,Dxe)}var Oxe=1,Nxe=Object.prototype,Fxe=Nxe.hasOwnProperty;function $xe(e,t,r,n,i,a){var u=r&Oxe,s=eO(e),f=s.length,m=eO(t),x=m.length;if(f!=x&&!u)return!1;for(var w=f;w--;){var S=s[w];if(!(u?S in t:Fxe.call(t,S)))return!1}var C=a.get(e),L=a.get(t);if(C&&L)return C==t&&L==e;var k=!0;a.set(e,t),a.set(t,e);for(var $=u;++w<f;){S=s[w];var M=e[S],z=t[S];if(n)var B=u?n(z,M,S,t,e,a):n(M,z,S,e,t,a);if(!(B===void 0?M===z||i(M,z,r,n,a):B)){k=!1;break}$||($=S=="constructor")}if(k&&!$){var q=e.constructor,te=t.constructor;q!=te&&"constructor"in e&&"constructor"in t&&!(typeof q=="function"&&q instanceof q&&typeof te=="function"&&te instanceof te)&&(k=!1)}return a.delete(e),a.delete(t),k}var AA=qm(dd,"DataView"),TA=qm(dd,"Promise"),PA=qm(dd,"Set"),kA=qm(dd,"WeakMap"),tO="[object Map]",Bxe="[object Object]",rO="[object Promise]",nO="[object Set]",iO="[object WeakMap]",oO="[object DataView]",zxe=Vm(AA),jxe=Vm(mb),Uxe=Vm(TA),Vxe=Vm(PA),qxe=Vm(kA),Of=Um;(AA&&Of(new AA(new ArrayBuffer(1)))!=oO||mb&&Of(new mb)!=tO||TA&&Of(TA.resolve())!=rO||PA&&Of(new PA)!=nO||kA&&Of(new kA)!=iO)&&(Of=function(e){var t=Um(e),r=t==Bxe?e.constructor:void 0,n=r?Vm(r):"";if(n)switch(n){case zxe:return oO;case jxe:return tO;case Uxe:return rO;case Vxe:return nO;case qxe:return iO}return t});var Hxe=1,aO="[object Arguments]",sO="[object Array]",yx="[object Object]",Wxe=Object.prototype,lO=Wxe.hasOwnProperty;function Gxe(e,t,r,n,i,a){var u=Vu(e),s=Vu(t),f=u?sO:Of(e),m=s?sO:Of(t);f=f==aO?yx:f,m=m==aO?yx:m;var x=f==yx,w=m==yx,S=f==m;if(S&&G_(e)){if(!G_(t))return!1;u=!0,x=!1}if(S&&!x)return a||(a=new rh),u||qP(e)?n9(e,t,r,n,i,a):Txe(e,t,f,r,n,i,a);if(!(r&Hxe)){var C=x&&lO.call(e,"__wrapped__"),L=w&&lO.call(t,"__wrapped__");if(C||L){var k=C?e.value():e,$=L?t.value():t;return a||(a=new rh),i(k,$,r,n,a)}}return S?(a||(a=new rh),$xe(e,t,r,n,i,a)):!1}function KP(e,t,r,n,i){return e===t?!0:e==null||t==null||!pp(e)&&!pp(t)?e!==e&&t!==t:Gxe(e,t,r,n,KP,i)}var Kxe=1,Xxe=2;function Zxe(e,t,r,n){var i=r.length,a=i;if(e==null)return!a;for(e=Object(e);i--;){var u=r[i];if(u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<a;){u=r[i];var s=u[0],f=e[s],m=u[1];if(u[2]){if(f===void 0&&!(s in e))return!1}else{var x=new rh,w;if(!(w===void 0?KP(m,f,Kxe|Xxe,n,x):w))return!1}}return!0}function i9(e){return e===e&&!Ec(e)}function Yxe(e){for(var t=WP(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,i9(i)]}return t}function o9(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}function Jxe(e){var t=Yxe(e);return t.length==1&&t[0][2]?o9(t[0][0],t[0][1]):function(r){return r===e||Zxe(r,e,t)}}var Qxe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,e_e=/^\w*$/;function XP(e,t){if(Vu(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Z5(e)?!0:e_e.test(e)||!Qxe.test(e)||t!=null&&e in Object(t)}var t_e="Expected a function";function ZP(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(t_e);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var u=e.apply(this,n);return r.cache=a.set(i,u)||a,u};return r.cache=new(ZP.Cache||df),r}ZP.Cache=df;var r_e=500;function n_e(e){var t=ZP(e,function(n){return r.size===r_e&&r.clear(),n}),r=t.cache;return t}var i_e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o_e=/\\(\\)?/g,a_e=n_e(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(i_e,function(r,n,i,a){t.push(i?a.replace(o_e,"$1"):n||r)}),t}),s_e=1/0,uO=fp?fp.prototype:void 0,cO=uO?uO.toString:void 0;function a9(e){if(typeof e=="string")return e;if(Vu(e))return r9(e,a9)+"";if(Z5(e))return cO?cO.call(e):"";var t=e+"";return t=="0"&&1/e==-s_e?"-0":t}function l_e(e){return e==null?"":a9(e)}function s9(e,t){return Vu(e)?e:XP(e,t)?[e]:a_e(l_e(e))}var u_e=1/0;function Q5(e){if(typeof e=="string"||Z5(e))return e;var t=e+"";return t=="0"&&1/e==-u_e?"-0":t}function l9(e,t){t=s9(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Q5(t[r++])];return r&&r==n?e:void 0}function c_e(e,t,r){var n=e==null?void 0:l9(e,t);return n===void 0?r:n}function d_e(e,t){return e!=null&&t in Object(e)}function h_e(e,t,r){t=s9(t,e);for(var n=-1,i=t.length,a=!1;++n<i;){var u=Q5(t[n]);if(!(a=e!=null&&r(e,u)))break;e=e[u]}return a||++n!=i?a:(i=e==null?0:e.length,!!i&&VP(i)&&HP(u,i)&&(Vu(e)||W_(e)))}function f_e(e,t){return e!=null&&h_e(e,t,d_e)}var p_e=1,m_e=2;function g_e(e,t){return XP(e)&&i9(t)?o9(Q5(e),t):function(r){var n=c_e(r,e);return n===void 0&&n===t?f_e(r,e):KP(t,n,p_e|m_e)}}function y_e(e){return function(t){return t==null?void 0:t[e]}}function v_e(e){return function(t){return l9(t,e)}}function b_e(e){return XP(e)?y_e(Q5(e)):v_e(e)}function x_e(e){return typeof e=="function"?e:e==null?X5:typeof e=="object"?Vu(e)?g_e(e[0],e[1]):Jxe(e):b_e(e)}function __e(e,t){var r=-1,n=jy(e)?Array(e.length):[];return J7(e,function(i,a,u){n[++r]=t(i,a,u)}),n}function Wm(e,t){var r=Vu(e)?r9:__e;return r(e,x_e(t))}var w_e=function(t){var r=t.colors,n=t.onClick,i=t.onSwatchHover,a=kn({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return Se.createElement("div",{style:a.swatches},Wm(r,function(u){return Se.createElement(Hm,{key:u,color:u,style:a.swatch,onClick:n,onHover:i,focusStyle:{boxShadow:"0 0 4px "+u}})}),Se.createElement("div",{style:a.clear}))},YP=function(t){var r=t.onChange,n=t.onSwatchHover,i=t.hex,a=t.colors,u=t.width,s=t.triangle,f=t.styles,m=f===void 0?{}:f,x=t.className,w=x===void 0?"":x,S=i==="transparent",C=function($,M){xp($)&&r({hex:$,source:"hex"},M)},L=kn(su({default:{card:{width:u,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:GP(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},m),{"hide-triangle":s==="hide"});return Se.createElement("div",{style:L.card,className:"block-picker "+w},Se.createElement("div",{style:L.triangle}),Se.createElement("div",{style:L.head},S&&Se.createElement(By,{borderRadius:"6px 6px 0 0"}),Se.createElement("div",{style:L.label},i)),Se.createElement("div",{style:L.body},Se.createElement(w_e,{colors:a,onClick:C,onSwatchHover:n}),Se.createElement(ci,{style:{input:L.input},value:i,onChange:C})))};YP.propTypes={width:sr.oneOfType([sr.string,sr.number]),colors:sr.arrayOf(sr.string),triangle:sr.oneOf(["top","hide"]),styles:sr.object};YP.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};lu(YP);var Hg={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},Wg={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},Gg={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},Kg={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},Xg={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},Zg={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},Yg={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},Jg={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},Qg={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},s1={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},e0={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},t0={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},r0={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},n0={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},i0={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},o0={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},a0={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},s0={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},u9=function(t){var r=t.color,n=t.onClick,i=t.onSwatchHover,a=t.hover,u=t.active,s=t.circleSize,f=t.circleSpacing,m=kn({default:{swatch:{width:s,height:s,marginRight:f,marginBottom:f,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(s/2+1)+"px "+r,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+r}}},{hover:a,active:u});return Se.createElement("div",{style:m.swatch},Se.createElement(Hm,{style:m.Swatch,color:r,onClick:n,onHover:i,focusStyle:{boxShadow:m.Swatch.boxShadow+", 0 0 5px "+r}}))};u9.defaultProps={circleSize:28,circleSpacing:14};const S_e=$P(u9);var JP=function(t){var r=t.width,n=t.onChange,i=t.onSwatchHover,a=t.colors,u=t.hex,s=t.circleSize,f=t.styles,m=f===void 0?{}:f,x=t.circleSpacing,w=t.className,S=w===void 0?"":w,C=kn(su({default:{card:{width:r,display:"flex",flexWrap:"wrap",marginRight:-x,marginBottom:-x}}},m)),L=function($,M){return n({hex:$,source:"hex"},M)};return Se.createElement("div",{style:C.card,className:"circle-picker "+S},Wm(a,function(k){return Se.createElement(S_e,{key:k,color:k,onClick:L,onSwatchHover:i,active:u===k.toLowerCase(),circleSize:s,circleSpacing:x})}))};JP.propTypes={width:sr.oneOfType([sr.string,sr.number]),circleSize:sr.number,circleSpacing:sr.number,styles:sr.object};JP.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Hg[500],Wg[500],Gg[500],Kg[500],Xg[500],Zg[500],Yg[500],Jg[500],Qg[500],s1[500],e0[500],t0[500],r0[500],n0[500],i0[500],o0[500],a0[500],s0[500]],styles:{}};lu(JP);function dO(e){return e===void 0}var c9={};Object.defineProperty(c9,"__esModule",{value:!0});var hO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C_e=V,fO=E_e(C_e);function E_e(e){return e&&e.__esModule?e:{default:e}}function A_e(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var vx=24,T_e=c9.default=function(e){var t=e.fill,r=t===void 0?"currentColor":t,n=e.width,i=n===void 0?vx:n,a=e.height,u=a===void 0?vx:a,s=e.style,f=s===void 0?{}:s,m=A_e(e,["fill","width","height","style"]);return fO.default.createElement("svg",hO({viewBox:"0 0 "+vx+" "+vx,style:hO({fill:r,width:i,height:u},f)},m),fO.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},P_e=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function k_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I_e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function L_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d9=function(e){L_e(t,e);function t(r){k_e(this,t);var n=I_e(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.toggleViews=function(){n.state.view==="hex"?n.setState({view:"rgb"}):n.state.view==="rgb"?n.setState({view:"hsl"}):n.state.view==="hsl"&&(n.props.hsl.a===1?n.setState({view:"hex"}):n.setState({view:"rgb"}))},n.handleChange=function(i,a){i.hex?xp(i.hex)&&n.props.onChange({hex:i.hex,source:"hex"},a):i.r||i.g||i.b?n.props.onChange({r:i.r||n.props.rgb.r,g:i.g||n.props.rgb.g,b:i.b||n.props.rgb.b,source:"rgb"},a):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),n.props.onChange({h:n.props.hsl.h,s:n.props.hsl.s,l:n.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},a)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),n.props.onChange({h:i.h||n.props.hsl.h,s:Number(dO(i.s)?n.props.hsl.s:i.s),l:Number(dO(i.l)?n.props.hsl.l:i.l),source:"hsl"},a))},n.showHighlight=function(i){i.currentTarget.style.background="#eee"},n.hideHighlight=function(i){i.currentTarget.style.background="transparent"},r.hsl.a!==1&&r.view==="hex"?n.state={view:"rgb"}:n.state={view:r.view},n}return P_e(t,[{key:"render",value:function(){var n=this,i=kn({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),a=void 0;return this.state.view==="hex"?a=Se.createElement("div",{style:i.fields,className:"flexbox-fix"},Se.createElement("div",{style:i.field},Se.createElement(ci,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?a=Se.createElement("div",{style:i.fields,className:"flexbox-fix"},Se.createElement("div",{style:i.field},Se.createElement(ci,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),Se.createElement("div",{style:i.field},Se.createElement(ci,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),Se.createElement("div",{style:i.field},Se.createElement(ci,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),Se.createElement("div",{style:i.alpha},Se.createElement(ci,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(a=Se.createElement("div",{style:i.fields,className:"flexbox-fix"},Se.createElement("div",{style:i.field},Se.createElement(ci,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),Se.createElement("div",{style:i.field},Se.createElement(ci,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),Se.createElement("div",{style:i.field},Se.createElement(ci,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),Se.createElement("div",{style:i.alpha},Se.createElement(ci,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),Se.createElement("div",{style:i.wrap,className:"flexbox-fix"},a,Se.createElement("div",{style:i.toggle},Se.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(s){return n.icon=s}},Se.createElement(T_e,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),t}(Se.Component);d9.defaultProps={view:"hex"};var pO=function(){var t=kn({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return Se.createElement("div",{style:t.picker})},M_e=function(){var t=kn({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return Se.createElement("div",{style:t.picker})},QP=function(t){var r=t.width,n=t.onChange,i=t.disableAlpha,a=t.rgb,u=t.hsl,s=t.hsv,f=t.hex,m=t.renderers,x=t.styles,w=x===void 0?{}:x,S=t.className,C=S===void 0?"":S,L=t.defaultView,k=kn(su({default:{picker:{width:r,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+a.r+", "+a.g+", "+a.b+", "+a.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},w),{disableAlpha:i});return Se.createElement("div",{style:k.picker,className:"chrome-picker "+C},Se.createElement("div",{style:k.saturation},Se.createElement(Y5,{style:k.Saturation,hsl:u,hsv:s,pointer:M_e,onChange:n})),Se.createElement("div",{style:k.body},Se.createElement("div",{style:k.controls,className:"flexbox-fix"},Se.createElement("div",{style:k.color},Se.createElement("div",{style:k.swatch},Se.createElement("div",{style:k.active}),Se.createElement(By,{renderers:m}))),Se.createElement("div",{style:k.toggles},Se.createElement("div",{style:k.hue},Se.createElement(zy,{style:k.Hue,hsl:u,pointer:pO,onChange:n})),Se.createElement("div",{style:k.alpha},Se.createElement(BP,{style:k.Alpha,rgb:a,hsl:u,pointer:pO,renderers:m,onChange:n})))),Se.createElement(d9,{rgb:a,hsl:u,hex:f,view:L,onChange:n,disableAlpha:i})))};QP.propTypes={width:sr.oneOfType([sr.string,sr.number]),disableAlpha:sr.bool,styles:sr.object,defaultView:sr.oneOf(["hex","rgb","hsl"])};QP.defaultProps={width:225,disableAlpha:!1,styles:{}};const R_e=lu(QP);var D_e=function(t){var r=t.color,n=t.onClick,i=n===void 0?function(){}:n,a=t.onSwatchHover,u=t.active,s=kn({default:{color:{background:r,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:GP(r),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:u,"color-#FFFFFF":r==="#FFFFFF",transparent:r==="transparent"});return Se.createElement(Hm,{style:s.color,color:r,onClick:i,onHover:a,focusStyle:{boxShadow:"0 0 4px "+r}},Se.createElement("div",{style:s.dot}))},O_e=function(t){var r=t.hex,n=t.rgb,i=t.onChange,a=kn({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:r},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),u=function(f,m){f.r||f.g||f.b?i({r:f.r||n.r,g:f.g||n.g,b:f.b||n.b,source:"rgb"},m):i({hex:f.hex,source:"hex"},m)};return Se.createElement("div",{style:a.fields,className:"flexbox-fix"},Se.createElement("div",{style:a.active}),Se.createElement(ci,{style:{wrap:a.HEXwrap,input:a.HEXinput,label:a.HEXlabel},label:"hex",value:r,onChange:u}),Se.createElement(ci,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"r",value:n.r,onChange:u}),Se.createElement(ci,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"g",value:n.g,onChange:u}),Se.createElement(ci,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"b",value:n.b,onChange:u}))},ek=function(t){var r=t.onChange,n=t.onSwatchHover,i=t.colors,a=t.hex,u=t.rgb,s=t.styles,f=s===void 0?{}:s,m=t.className,x=m===void 0?"":m,w=kn(su({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},f)),S=function(L,k){L.hex?xp(L.hex)&&r({hex:L.hex,source:"hex"},k):r(L,k)};return Se.createElement(i2,{style:w.Compact,styles:f},Se.createElement("div",{style:w.compact,className:"compact-picker "+x},Se.createElement("div",null,Wm(i,function(C){return Se.createElement(D_e,{key:C,color:C,active:C.toLowerCase()===a,onClick:S,onSwatchHover:n})}),Se.createElement("div",{style:w.clear})),Se.createElement(O_e,{hex:a,rgb:u,onChange:S})))};ek.propTypes={colors:sr.arrayOf(sr.string),styles:sr.object};ek.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};lu(ek);var N_e=function(t){var r=t.hover,n=t.color,i=t.onClick,a=t.onSwatchHover,u={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},s=kn({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:u}},{hover:r});return Se.createElement("div",{style:s.swatch},Se.createElement(Hm,{color:n,onClick:i,onHover:a,focusStyle:u}))};const F_e=$P(N_e);var tk=function(t){var r=t.width,n=t.colors,i=t.onChange,a=t.onSwatchHover,u=t.triangle,s=t.styles,f=s===void 0?{}:s,m=t.className,x=m===void 0?"":m,w=kn(su({default:{card:{width:r,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},f),{"hide-triangle":u==="hide","top-left-triangle":u==="top-left","top-right-triangle":u==="top-right","bottom-left-triangle":u==="bottom-left","bottom-right-triangle":u==="bottom-right"}),S=function(L,k){return i({hex:L,source:"hex"},k)};return Se.createElement("div",{style:w.card,className:"github-picker "+x},Se.createElement("div",{style:w.triangleShadow}),Se.createElement("div",{style:w.triangle}),Wm(n,function(C){return Se.createElement(F_e,{color:C,key:C,onClick:S,onSwatchHover:a})}))};tk.propTypes={width:sr.oneOfType([sr.string,sr.number]),colors:sr.arrayOf(sr.string),triangle:sr.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:sr.object};tk.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};lu(tk);var $_e=function(t){var r=t.direction,n=kn({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:r==="vertical"});return Se.createElement("div",{style:n.picker})},B_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rk=function(t){var r=t.width,n=t.height,i=t.onChange,a=t.hsl,u=t.direction,s=t.pointer,f=t.styles,m=f===void 0?{}:f,x=t.className,w=x===void 0?"":x,S=kn(su({default:{picker:{position:"relative",width:r,height:n},hue:{radius:"2px"}}},m)),C=function(k){return i({a:1,h:k.h,l:.5,s:1})};return Se.createElement("div",{style:S.picker,className:"hue-picker "+w},Se.createElement(zy,B_e({},S.hue,{hsl:a,pointer:s,onChange:C,direction:u})))};rk.propTypes={styles:sr.object};rk.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:$_e,styles:{}};lu(rk);var z_e=function(t){var r=t.onChange,n=t.hex,i=t.rgb,a=t.styles,u=a===void 0?{}:a,s=t.className,f=s===void 0?"":s,m=kn(su({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},u)),x=function(S,C){S.hex?xp(S.hex)&&r({hex:S.hex,source:"hex"},C):(S.r||S.g||S.b)&&r({r:S.r||i.r,g:S.g||i.g,b:S.b||i.b,source:"rgb"},C)};return Se.createElement(i2,{styles:u},Se.createElement("div",{style:m.material,className:"material-picker "+f},Se.createElement(ci,{style:{wrap:m.HEXwrap,input:m.HEXinput,label:m.HEXlabel},label:"hex",value:n,onChange:x}),Se.createElement("div",{style:m.split,className:"flexbox-fix"},Se.createElement("div",{style:m.third},Se.createElement(ci,{style:{wrap:m.RGBwrap,input:m.RGBinput,label:m.RGBlabel},label:"r",value:i.r,onChange:x})),Se.createElement("div",{style:m.third},Se.createElement(ci,{style:{wrap:m.RGBwrap,input:m.RGBinput,label:m.RGBlabel},label:"g",value:i.g,onChange:x})),Se.createElement("div",{style:m.third},Se.createElement(ci,{style:{wrap:m.RGBwrap,input:m.RGBinput,label:m.RGBlabel},label:"b",value:i.b,onChange:x})))))};lu(z_e);var j_e=function(t){var r=t.onChange,n=t.rgb,i=t.hsv,a=t.hex,u=kn({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),s=function(m,x){m["#"]?xp(m["#"])&&r({hex:m["#"],source:"hex"},x):m.r||m.g||m.b?r({r:m.r||n.r,g:m.g||n.g,b:m.b||n.b,source:"rgb"},x):(m.h||m.s||m.v)&&r({h:m.h||i.h,s:m.s||i.s,v:m.v||i.v,source:"hsv"},x)};return Se.createElement("div",{style:u.fields},Se.createElement(ci,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"h",value:Math.round(i.h),onChange:s}),Se.createElement(ci,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:s}),Se.createElement(ci,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:s}),Se.createElement("div",{style:u.divider}),Se.createElement(ci,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:n.r,onChange:s}),Se.createElement(ci,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:n.g,onChange:s}),Se.createElement(ci,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:n.b,onChange:s}),Se.createElement("div",{style:u.divider}),Se.createElement(ci,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"#",value:a.replace("#",""),onChange:s}),Se.createElement("div",{style:u.fieldSymbols},Se.createElement("div",{style:u.symbol},"°"),Se.createElement("div",{style:u.symbol},"%"),Se.createElement("div",{style:u.symbol},"%")))},U_e=function(t){var r=t.hsl,n=kn({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":r.l>.5});return Se.createElement("div",{style:n.picker})},V_e=function(){var t=kn({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return Se.createElement("div",{style:t.pointer},Se.createElement("div",{style:t.left},Se.createElement("div",{style:t.leftInside})),Se.createElement("div",{style:t.right},Se.createElement("div",{style:t.rightInside})))},mO=function(t){var r=t.onClick,n=t.label,i=t.children,a=t.active,u=kn({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:a});return Se.createElement("div",{style:u.button,onClick:r},n||i)},q_e=function(t){var r=t.rgb,n=t.currentColor,i=kn({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+r.r+","+r.g+", "+r.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return Se.createElement("div",null,Se.createElement("div",{style:i.label},"new"),Se.createElement("div",{style:i.swatches},Se.createElement("div",{style:i.new}),Se.createElement("div",{style:i.current})),Se.createElement("div",{style:i.label},"current"))},H_e=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function W_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G_e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function K_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var nk=function(e){K_e(t,e);function t(r){W_e(this,t);var n=G_e(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={currentColor:r.hex},n}return H_e(t,[{key:"render",value:function(){var n=this.props,i=n.styles,a=i===void 0?{}:i,u=n.className,s=u===void 0?"":u,f=kn(su({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},a));return Se.createElement("div",{style:f.picker,className:"photoshop-picker "+s},Se.createElement("div",{style:f.head},this.props.header),Se.createElement("div",{style:f.body,className:"flexbox-fix"},Se.createElement("div",{style:f.saturation},Se.createElement(Y5,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:U_e,onChange:this.props.onChange})),Se.createElement("div",{style:f.hue},Se.createElement(zy,{direction:"vertical",hsl:this.props.hsl,pointer:V_e,onChange:this.props.onChange})),Se.createElement("div",{style:f.controls},Se.createElement("div",{style:f.top,className:"flexbox-fix"},Se.createElement("div",{style:f.previews},Se.createElement(q_e,{rgb:this.props.rgb,currentColor:this.state.currentColor})),Se.createElement("div",{style:f.actions},Se.createElement(mO,{label:"OK",onClick:this.props.onAccept,active:!0}),Se.createElement(mO,{label:"Cancel",onClick:this.props.onCancel}),Se.createElement(j_e,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(Se.Component);nk.propTypes={header:sr.string,styles:sr.object};nk.defaultProps={header:"Color Picker",styles:{}};lu(nk);var X_e=function(t){var r=t.onChange,n=t.rgb,i=t.hsl,a=t.hex,u=t.disableAlpha,s=kn({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:u}),f=function(x,w){x.hex?xp(x.hex)&&r({hex:x.hex,source:"hex"},w):x.r||x.g||x.b?r({r:x.r||n.r,g:x.g||n.g,b:x.b||n.b,a:n.a,source:"rgb"},w):x.a&&(x.a<0?x.a=0:x.a>100&&(x.a=100),x.a/=100,r({h:i.h,s:i.s,l:i.l,a:x.a,source:"rgb"},w))};return Se.createElement("div",{style:s.fields,className:"flexbox-fix"},Se.createElement("div",{style:s.double},Se.createElement(ci,{style:{input:s.input,label:s.label},label:"hex",value:a.replace("#",""),onChange:f})),Se.createElement("div",{style:s.single},Se.createElement(ci,{style:{input:s.input,label:s.label},label:"r",value:n.r,onChange:f,dragLabel:"true",dragMax:"255"})),Se.createElement("div",{style:s.single},Se.createElement(ci,{style:{input:s.input,label:s.label},label:"g",value:n.g,onChange:f,dragLabel:"true",dragMax:"255"})),Se.createElement("div",{style:s.single},Se.createElement(ci,{style:{input:s.input,label:s.label},label:"b",value:n.b,onChange:f,dragLabel:"true",dragMax:"255"})),Se.createElement("div",{style:s.alpha},Se.createElement(ci,{style:{input:s.input,label:s.label},label:"a",value:Math.round(n.a*100),onChange:f,dragLabel:"true",dragMax:"100"})))},Z_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h9=function(t){var r=t.colors,n=t.onClick,i=n===void 0?function(){}:n,a=t.onSwatchHover,u=kn({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!r||!r.length}),s=function(m,x){i({hex:m,source:"hex"},x)};return Se.createElement("div",{style:u.colors,className:"flexbox-fix"},r.map(function(f){var m=typeof f=="string"?{color:f}:f,x=""+m.color+(m.title||"");return Se.createElement("div",{key:x,style:u.swatchWrap},Se.createElement(Hm,Z_e({},m,{style:u.swatch,onClick:s,onHover:a,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+m.color}})))}))};h9.propTypes={colors:sr.arrayOf(sr.oneOfType([sr.string,sr.shape({color:sr.string,title:sr.string})])).isRequired};var Y_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ik=function(t){var r=t.width,n=t.rgb,i=t.hex,a=t.hsv,u=t.hsl,s=t.onChange,f=t.onSwatchHover,m=t.disableAlpha,x=t.presetColors,w=t.renderers,S=t.styles,C=S===void 0?{}:S,L=t.className,k=L===void 0?"":L,$=kn(su({default:Y_e({picker:{width:r,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},C),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},C),{disableAlpha:m});return Se.createElement("div",{style:$.picker,className:"sketch-picker "+k},Se.createElement("div",{style:$.saturation},Se.createElement(Y5,{style:$.Saturation,hsl:u,hsv:a,onChange:s})),Se.createElement("div",{style:$.controls,className:"flexbox-fix"},Se.createElement("div",{style:$.sliders},Se.createElement("div",{style:$.hue},Se.createElement(zy,{style:$.Hue,hsl:u,onChange:s})),Se.createElement("div",{style:$.alpha},Se.createElement(BP,{style:$.Alpha,rgb:n,hsl:u,renderers:w,onChange:s}))),Se.createElement("div",{style:$.color},Se.createElement(By,null),Se.createElement("div",{style:$.activeColor}))),Se.createElement(X_e,{rgb:n,hsl:u,hex:i,onChange:s,disableAlpha:m}),Se.createElement(h9,{colors:x,onClick:s,onSwatchHover:f}))};ik.propTypes={disableAlpha:sr.bool,width:sr.oneOfType([sr.string,sr.number]),styles:sr.object};ik.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};lu(ik);var Bv=function(t){var r=t.hsl,n=t.offset,i=t.onClick,a=i===void 0?function(){}:i,u=t.active,s=t.first,f=t.last,m=kn({default:{swatch:{height:"12px",background:"hsl("+r.h+", 50%, "+n*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:u,first:s,last:f}),x=function(S){return a({h:r.h,s:.5,l:n,source:"hsl"},S)};return Se.createElement("div",{style:m.swatch,onClick:x})},J_e=function(t){var r=t.onClick,n=t.hsl,i=kn({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),a=.1;return Se.createElement("div",{style:i.swatches},Se.createElement("div",{style:i.swatch},Se.createElement(Bv,{hsl:n,offset:".80",active:Math.abs(n.l-.8)<a&&Math.abs(n.s-.5)<a,onClick:r,first:!0})),Se.createElement("div",{style:i.swatch},Se.createElement(Bv,{hsl:n,offset:".65",active:Math.abs(n.l-.65)<a&&Math.abs(n.s-.5)<a,onClick:r})),Se.createElement("div",{style:i.swatch},Se.createElement(Bv,{hsl:n,offset:".50",active:Math.abs(n.l-.5)<a&&Math.abs(n.s-.5)<a,onClick:r})),Se.createElement("div",{style:i.swatch},Se.createElement(Bv,{hsl:n,offset:".35",active:Math.abs(n.l-.35)<a&&Math.abs(n.s-.5)<a,onClick:r})),Se.createElement("div",{style:i.swatch},Se.createElement(Bv,{hsl:n,offset:".20",active:Math.abs(n.l-.2)<a&&Math.abs(n.s-.5)<a,onClick:r,last:!0})),Se.createElement("div",{style:i.clear}))},Q_e=function(){var t=kn({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return Se.createElement("div",{style:t.picker})},ok=function(t){var r=t.hsl,n=t.onChange,i=t.pointer,a=t.styles,u=a===void 0?{}:a,s=t.className,f=s===void 0?"":s,m=kn(su({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},u));return Se.createElement("div",{style:m.wrap||{},className:"slider-picker "+f},Se.createElement("div",{style:m.hue},Se.createElement(zy,{style:m.Hue,hsl:r,pointer:i,onChange:n})),Se.createElement("div",{style:m.swatches},Se.createElement(J_e,{hsl:r,onClick:n})))};ok.propTypes={styles:sr.object};ok.defaultProps={pointer:Q_e,styles:{}};lu(ok);var f9={};Object.defineProperty(f9,"__esModule",{value:!0});var gO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ewe=V,yO=twe(ewe);function twe(e){return e&&e.__esModule?e:{default:e}}function rwe(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var bx=24,nwe=f9.default=function(e){var t=e.fill,r=t===void 0?"currentColor":t,n=e.width,i=n===void 0?bx:n,a=e.height,u=a===void 0?bx:a,s=e.style,f=s===void 0?{}:s,m=rwe(e,["fill","width","height","style"]);return yO.default.createElement("svg",gO({viewBox:"0 0 "+bx+" "+bx,style:gO({fill:r,width:i,height:u},f)},m),yO.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},iwe=function(t){var r=t.color,n=t.onClick,i=n===void 0?function(){}:n,a=t.onSwatchHover,u=t.first,s=t.last,f=t.active,m=kn({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:r,marginBottom:"1px"},check:{color:GP(r),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:u,last:s,active:f,"color-#FFFFFF":r==="#FFFFFF",transparent:r==="transparent"});return Se.createElement(Hm,{color:r,style:m.color,onClick:i,onHover:a,focusStyle:{boxShadow:"0 0 4px "+r}},Se.createElement("div",{style:m.check},Se.createElement(nwe,null)))},owe=function(t){var r=t.onClick,n=t.onSwatchHover,i=t.group,a=t.active,u=kn({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return Se.createElement("div",{style:u.group},Wm(i,function(s,f){return Se.createElement(iwe,{key:s,color:s,active:s.toLowerCase()===a,first:f===0,last:f===i.length-1,onClick:r,onSwatchHover:n})}))},ak=function(t){var r=t.width,n=t.height,i=t.onChange,a=t.onSwatchHover,u=t.colors,s=t.hex,f=t.styles,m=f===void 0?{}:f,x=t.className,w=x===void 0?"":x,S=kn(su({default:{picker:{width:r,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},m)),C=function(k,$){return i({hex:k,source:"hex"},$)};return Se.createElement("div",{style:S.picker,className:"swatches-picker "+w},Se.createElement(i2,null,Se.createElement("div",{style:S.overflow},Se.createElement("div",{style:S.body},Wm(u,function(L){return Se.createElement(owe,{key:L.toString(),group:L,active:s,onClick:C,onSwatchHover:a})}),Se.createElement("div",{style:S.clear})))))};ak.propTypes={width:sr.oneOfType([sr.string,sr.number]),height:sr.oneOfType([sr.string,sr.number]),colors:sr.arrayOf(sr.arrayOf(sr.string)),styles:sr.object};ak.defaultProps={width:320,height:240,colors:[[Hg[900],Hg[700],Hg[500],Hg[300],Hg[100]],[Wg[900],Wg[700],Wg[500],Wg[300],Wg[100]],[Gg[900],Gg[700],Gg[500],Gg[300],Gg[100]],[Kg[900],Kg[700],Kg[500],Kg[300],Kg[100]],[Xg[900],Xg[700],Xg[500],Xg[300],Xg[100]],[Zg[900],Zg[700],Zg[500],Zg[300],Zg[100]],[Yg[900],Yg[700],Yg[500],Yg[300],Yg[100]],[Jg[900],Jg[700],Jg[500],Jg[300],Jg[100]],[Qg[900],Qg[700],Qg[500],Qg[300],Qg[100]],["#194D33",s1[700],s1[500],s1[300],s1[100]],[e0[900],e0[700],e0[500],e0[300],e0[100]],[t0[900],t0[700],t0[500],t0[300],t0[100]],[r0[900],r0[700],r0[500],r0[300],r0[100]],[n0[900],n0[700],n0[500],n0[300],n0[100]],[i0[900],i0[700],i0[500],i0[300],i0[100]],[o0[900],o0[700],o0[500],o0[300],o0[100]],[a0[900],a0[700],a0[500],a0[300],a0[100]],[s0[900],s0[700],s0[500],s0[300],s0[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};lu(ak);var sk=function(t){var r=t.onChange,n=t.onSwatchHover,i=t.hex,a=t.colors,u=t.width,s=t.triangle,f=t.styles,m=f===void 0?{}:f,x=t.className,w=x===void 0?"":x,S=kn(su({default:{card:{width:u,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},m),{"hide-triangle":s==="hide","top-left-triangle":s==="top-left","top-right-triangle":s==="top-right"}),C=function(k,$){xp(k)&&r({hex:k,source:"hex"},$)};return Se.createElement("div",{style:S.card,className:"twitter-picker "+w},Se.createElement("div",{style:S.triangleShadow}),Se.createElement("div",{style:S.triangle}),Se.createElement("div",{style:S.body},Wm(a,function(L,k){return Se.createElement(Hm,{key:k,color:L,hex:L,style:S.swatch,onClick:C,onHover:n,focusStyle:{boxShadow:"0 0 4px "+L}})}),Se.createElement("div",{style:S.hash},"#"),Se.createElement(ci,{label:null,style:{input:S.input},value:i.replace("#",""),onChange:C}),Se.createElement("div",{style:S.clear})))};sk.propTypes={width:sr.oneOfType([sr.string,sr.number]),triangle:sr.oneOf(["hide","top-left","top-right"]),colors:sr.arrayOf(sr.string),styles:sr.object};sk.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};lu(sk);var lk=function(t){var r=kn({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(t.hsl.h)+", "+Math.round(t.hsl.s*100)+"%, "+Math.round(t.hsl.l*100)+"%)"}}});return Se.createElement("div",{style:r.picker})};lk.propTypes={hsl:sr.shape({h:sr.number,s:sr.number,l:sr.number,a:sr.number})};lk.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var uk=function(t){var r=kn({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(t.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return Se.createElement("div",{style:r.picker})};uk.propTypes={hsl:sr.shape({h:sr.number,s:sr.number,l:sr.number,a:sr.number})};uk.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var awe=function(t){var r=t.onChange,n=t.rgb,i=t.hsl,a=t.hex,u=t.hsv,s=function(C,L){if(C.hex)xp(C.hex)&&r({hex:C.hex,source:"hex"},L);else if(C.rgb){var k=C.rgb.split(",");I3(C.rgb,"rgb")&&r({r:k[0],g:k[1],b:k[2],a:1,source:"rgb"},L)}else if(C.hsv){var $=C.hsv.split(",");I3(C.hsv,"hsv")&&($[2]=$[2].replace("%",""),$[1]=$[1].replace("%",""),$[0]=$[0].replace("°",""),$[1]==1?$[1]=.01:$[2]==1&&($[2]=.01),r({h:Number($[0]),s:Number($[1]),v:Number($[2]),source:"hsv"},L))}else if(C.hsl){var M=C.hsl.split(",");I3(C.hsl,"hsl")&&(M[2]=M[2].replace("%",""),M[1]=M[1].replace("%",""),M[0]=M[0].replace("°",""),w[1]==1?w[1]=.01:w[2]==1&&(w[2]=.01),r({h:Number(M[0]),s:Number(M[1]),v:Number(M[2]),source:"hsl"},L))}},f=kn({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),m=n.r+", "+n.g+", "+n.b,x=Math.round(i.h)+"°, "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",w=Math.round(u.h)+"°, "+Math.round(u.s*100)+"%, "+Math.round(u.v*100)+"%";return Se.createElement("div",{style:f.wrap,className:"flexbox-fix"},Se.createElement("div",{style:f.fields},Se.createElement("div",{style:f.double},Se.createElement(ci,{style:{input:f.input,label:f.label},label:"hex",value:a,onChange:s})),Se.createElement("div",{style:f.column},Se.createElement("div",{style:f.single},Se.createElement(ci,{style:{input:f.input2,label:f.label2},label:"rgb",value:m,onChange:s})),Se.createElement("div",{style:f.single},Se.createElement(ci,{style:{input:f.input2,label:f.label2},label:"hsv",value:w,onChange:s})),Se.createElement("div",{style:f.single},Se.createElement(ci,{style:{input:f.input2,label:f.label2},label:"hsl",value:x,onChange:s})))))},ck=function(t){var r=t.width,n=t.onChange,i=t.rgb,a=t.hsl,u=t.hsv,s=t.hex,f=t.header,m=t.styles,x=m===void 0?{}:m,w=t.className,S=w===void 0?"":w,C=kn(su({default:{picker:{width:r,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},x));return Se.createElement("div",{style:C.picker,className:"google-picker "+S},Se.createElement("div",{style:C.head},f),Se.createElement("div",{style:C.swatch}),Se.createElement("div",{style:C.saturation},Se.createElement(Y5,{hsl:a,hsv:u,pointer:lk,onChange:n})),Se.createElement("div",{style:C.body},Se.createElement("div",{style:C.controls,className:"flexbox-fix"},Se.createElement("div",{style:C.hue},Se.createElement(zy,{style:C.Hue,hsl:a,radius:"4px",pointer:uk,onChange:n}))),Se.createElement(awe,{rgb:i,hsl:a,hex:s,hsv:u,onChange:n})))};ck.propTypes={width:sr.oneOfType([sr.string,sr.number]),styles:sr.object,header:sr.string};ck.defaultProps={width:652,styles:{},header:"Color picker"};lu(ck);var dk={},swe=sf;Object.defineProperty(dk,"__esModule",{value:!0});var p9=dk.default=void 0,lwe=swe(lf()),uwe=$e;p9=dk.default=(0,lwe.default)((0,uwe.jsx)("path",{d:"M3 17v2h6v-2zM3 5v2h10V5zm10 16v-2h8v-2h-8v-2h-2v6zM7 9v2H3v2h4v2h2V9zm14 4v-2H11v2zm-6-4h2V7h4V5h-4V3h-2z"}),"Tune");function cwe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return V.useMemo(()=>n=>{t.forEach(i=>i(n))},t)}const dwe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function hwe(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function fwe(e){return"nodeType"in e}function m9(e){var t,r;return e?hwe(e)?e:fwe(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}const o2=dwe?V.useLayoutEffect:V.useEffect;function g9(e){const t=V.useRef(e);return o2(()=>{t.current=e}),V.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t.current==null?void 0:t.current(...n)},[])}function IA(e,t){t===void 0&&(t=[e]);const r=V.useRef(e);return o2(()=>{r.current!==e&&(r.current=e)},t),r}function LA(e){const t=g9(e),r=V.useRef(null),n=V.useCallback(i=>{i!==r.current&&(t==null||t(i,r.current)),r.current=i},[]);return[r,n]}let M3={};function y9(e,t){return V.useMemo(()=>{const r=M3[e]==null?0:M3[e]+1;return M3[e]=r,e+"-"+r},[e,t])}function pwe(e){if(!e)return!1;const{KeyboardEvent:t}=m9(e.target);return t&&e instanceof t}const yb=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[yb.Translate.toString(e),yb.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}});var O1;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(O1||(O1={}));function vO(){}const mwe=Object.freeze({x:0,y:0});function gwe(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function ywe(e,t,r){const n=gwe(t);if(!n)return e;const{scaleX:i,scaleY:a,x:u,y:s}=n,f=e.left-u-(1-i)*parseFloat(r),m=e.top-s-(1-a)*parseFloat(r.slice(r.indexOf(" ")+1)),x=i?e.width/i:e.width,w=a?e.height/a:e.height;return{width:x,height:w,top:m,right:f+x,bottom:m+w,left:f}}const vwe={ignoreTransform:!1};function hk(e,t){t===void 0&&(t=vwe);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:m,transformOrigin:x}=m9(e).getComputedStyle(e);m&&(r=ywe(r,m,x))}const{top:n,left:i,width:a,height:u,bottom:s,right:f}=r;return{top:n,left:i,width:a,height:u,bottom:s,right:f}}function bO(e){return hk(e,{ignoreTransform:!0})}var w0;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(w0||(w0={}));var xO;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(xO||(xO={}));var Jc;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"})(Jc||(Jc={}));Jc.Space,Jc.Enter,Jc.Esc,Jc.Space,Jc.Enter;var _O;(function(e){e[e.RightClick=2]="RightClick"})(_O||(_O={}));var wO;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(wO||(wO={}));var SO;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(SO||(SO={}));w0.Backward+"",w0.Forward+"",w0.Backward+"",w0.Forward+"";var MA;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(MA||(MA={}));var RA;(function(e){e.Optimized="optimized"})(RA||(RA={}));function bwe(e){let{callback:t,disabled:r}=e;const n=g9(t),i=V.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(n)},[r]);return V.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function xwe(e,t){return V.useMemo(()=>e.reduce((r,n)=>{let{eventName:i,handler:a}=n;return r[i]=u=>{a(u,t)},r},{}),[e,t])}MA.WhileDragging,RA.Optimized;const _we={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:vO,draggableNodes:new Map,over:null,measureDroppableContainers:vO},v9=V.createContext(_we),wwe=V.createContext({...mwe,scaleX:1,scaleY:1});var CO;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(CO||(CO={}));const Swe=V.createContext(null),EO="button",Cwe="Droppable";function Ewe(e){let{id:t,data:r,disabled:n=!1,attributes:i}=e;const a=y9(Cwe),{activators:u,activatorEvent:s,active:f,activeNodeRect:m,ariaDescribedById:x,draggableNodes:w,over:S}=V.useContext(v9),{role:C=EO,roleDescription:L="draggable",tabIndex:k=0}=i??{},$=(f==null?void 0:f.id)===t,M=V.useContext($?wwe:Swe),[z,B]=LA(),[q,te]=LA(),K=xwe(u,t),ee=IA(r);o2(()=>(w.set(t,{id:t,key:a,node:z,activatorNode:q,data:ee}),()=>{const ge=w.get(t);ge&&ge.key===a&&w.delete(t)}),[w,t]);const Q=V.useMemo(()=>({role:C,tabIndex:k,"aria-disabled":n,"aria-pressed":$&&C===EO?!0:void 0,"aria-roledescription":L,"aria-describedby":x.draggable}),[n,C,k,$,L,x.draggable]);return{active:f,activatorEvent:s,activeNodeRect:m,attributes:Q,isDragging:$,listeners:n?void 0:K,node:z,over:S,setNodeRef:B,setActivatorNodeRef:te,transform:M}}const Awe="Droppable",Twe={timeout:25};function Pwe(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:i}=e;const a=y9(Awe),{active:u,dispatch:s,over:f,measureDroppableContainers:m}=V.useContext(v9),x=V.useRef({disabled:r}),w=V.useRef(!1),S=V.useRef(null),C=V.useRef(null),{disabled:L,updateMeasurementsFor:k,timeout:$}={...Twe,...i},M=IA(k??n),z=V.useCallback(()=>{if(!w.current){w.current=!0;return}C.current!=null&&clearTimeout(C.current),C.current=setTimeout(()=>{m(Array.isArray(M.current)?M.current:[M.current]),C.current=null},$)},[$]),B=bwe({callback:z,disabled:L||!u}),q=V.useCallback((Q,ge)=>{B&&(ge&&(B.unobserve(ge),w.current=!1),Q&&B.observe(Q))},[B]),[te,K]=LA(q),ee=IA(t);return V.useEffect(()=>{!B||!te.current||(B.disconnect(),w.current=!1,B.observe(te.current))},[te,B]),o2(()=>(s({type:O1.RegisterDroppable,element:{id:n,key:a,disabled:r,node:te,rect:S,data:ee}}),()=>s({type:O1.UnregisterDroppable,key:a,id:n})),[n]),V.useEffect(()=>{r!==x.current.disabled&&(s({type:O1.SetDroppableDisabled,id:n,key:a,disabled:r}),x.current.disabled=r)},[n,a,r,s]),{active:u,rect:S,isOver:(f==null?void 0:f.id)===n,node:te,over:f,setNodeRef:K}}function b9(e,t,r){const n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function xx(e){return e!==null&&e>=0}const kwe=e=>{let{rects:t,activeIndex:r,overIndex:n,index:i}=e;const a=b9(t,n,r),u=t[i],s=a[i];return!s||!u?null:{x:s.left-u.left,y:s.top-u.top,scaleX:s.width/u.width,scaleY:s.height/u.height}},Iwe="Sortable",Lwe=Se.createContext({activeIndex:-1,containerId:Iwe,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:kwe,disabled:{draggable:!1,droppable:!1}}),Mwe=e=>{let{id:t,items:r,activeIndex:n,overIndex:i}=e;return b9(r,n,i).indexOf(t)},Rwe=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:i,items:a,newIndex:u,previousItems:s,previousContainerId:f,transition:m}=e;return!m||!n||s!==a&&i===u?!1:r?!0:u!==i&&t===f},Dwe={duration:200,easing:"ease"},x9="transform",Owe=yb.Transition.toString({property:x9,duration:0,easing:"linear"}),Nwe={roleDescription:"sortable"};function Fwe(e){let{disabled:t,index:r,node:n,rect:i}=e;const[a,u]=V.useState(null),s=V.useRef(r);return o2(()=>{if(!t&&r!==s.current&&n.current){const f=i.current;if(f){const m=hk(n.current,{ignoreTransform:!0}),x={x:f.left-m.left,y:f.top-m.top,scaleX:f.width/m.width,scaleY:f.height/m.height};(x.x||x.y)&&u(x)}}r!==s.current&&(s.current=r)},[t,r,n,i]),V.useEffect(()=>{a&&u(null)},[a]),a}function $we(e){let{animateLayoutChanges:t=Rwe,attributes:r,disabled:n,data:i,getNewIndex:a=Mwe,id:u,strategy:s,resizeObserverConfig:f,transition:m=Dwe}=e;const{items:x,containerId:w,activeIndex:S,disabled:C,disableTransforms:L,sortedRects:k,overIndex:$,useDragOverlay:M,strategy:z}=V.useContext(Lwe),B=Bwe(n,C),q=x.indexOf(u),te=V.useMemo(()=>({sortable:{containerId:w,index:q,items:x},...i}),[w,i,q,x]),K=V.useMemo(()=>x.slice(x.indexOf(u)),[x,u]),{rect:ee,node:Q,isOver:ge,setNodeRef:Y}=Pwe({id:u,data:te,disabled:B.droppable,resizeObserverConfig:{updateMeasurementsFor:K,...f}}),{active:Z,activatorEvent:re,activeNodeRect:ye,attributes:fe,setNodeRef:Ae,listeners:ke,isDragging:Oe,over:_e,setActivatorNodeRef:Ne,transform:Ke}=Ewe({id:u,data:te,attributes:{...Nwe,...r},disabled:B.draggable}),pt=cwe(Y,Ae),ae=!!Z,me=ae&&!L&&xx(S)&&xx($),we=!M&&Oe,Re=we&&me?Ke:null,rt=me?Re??(s??z)({rects:k,activeNodeRect:ye,activeIndex:S,overIndex:$,index:q}):null,Ve=xx(S)&&xx($)?a({id:u,items:x,activeIndex:S,overIndex:$}):q,We=Z==null?void 0:Z.id,nt=V.useRef({activeId:We,items:x,newIndex:Ve,containerId:w}),ut=x!==nt.current.items,bt=t({active:Z,containerId:w,isDragging:Oe,isSorting:ae,id:u,index:q,items:x,newIndex:nt.current.newIndex,previousItems:nt.current.items,previousContainerId:nt.current.containerId,transition:m,wasDragging:nt.current.activeId!=null}),Ct=Fwe({disabled:!bt,index:q,node:Q,rect:ee});return V.useEffect(()=>{ae&&nt.current.newIndex!==Ve&&(nt.current.newIndex=Ve),w!==nt.current.containerId&&(nt.current.containerId=w),x!==nt.current.items&&(nt.current.items=x)},[ae,Ve,w,x]),V.useEffect(()=>{if(We===nt.current.activeId)return;if(We&&!nt.current.activeId){nt.current.activeId=We;return}const lt=setTimeout(()=>{nt.current.activeId=We},50);return()=>clearTimeout(lt)},[We]),{active:Z,activeIndex:S,attributes:fe,data:te,rect:ee,index:q,newIndex:Ve,items:x,isOver:ge,isSorting:ae,isDragging:Oe,listeners:ke,node:Q,overIndex:$,over:_e,setNodeRef:pt,setActivatorNodeRef:Ne,setDroppableNodeRef:Y,setDraggableNodeRef:Ae,transform:Ct??rt,transition:Et()};function Et(){if(Ct||ut&&nt.current.newIndex===q)return Owe;if(!(we&&!pwe(re)||!m)&&(ae||bt))return yb.Transition.toString({...m,property:x9})}}function Bwe(e,t){var r,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e==null?void 0:e.draggable)!=null?r:t.draggable,droppable:(n=e==null?void 0:e.droppable)!=null?n:t.droppable}}Jc.Down,Jc.Right,Jc.Up,Jc.Left;var fk={},zwe=sf;Object.defineProperty(fk,"__esModule",{value:!0});var _9=fk.default=void 0,jwe=zwe(lf()),Uwe=$e;_9=fk.default=(0,jwe.default)((0,Uwe.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");var hf={},ff={};function Vwe(e,t,r){if(r===void 0&&(r=Array.prototype),e&&typeof r.find=="function")return r.find.call(e,t);for(var n=0;n<e.length;n++)if(Object.prototype.hasOwnProperty.call(e,n)){var i=e[n];if(t.call(void 0,i,n,e))return i}}function pk(e,t){return t===void 0&&(t=Object),t&&typeof t.freeze=="function"?t.freeze(e):e}function qwe(e,t){if(e===null||typeof e!="object")throw new TypeError("target is not an object");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}var w9=pk({HTML:"text/html",isHTML:function(e){return e===w9.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),S9=pk({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===S9.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});ff.assign=qwe;ff.find=Vwe;ff.freeze=pk;ff.MIME_TYPE=w9;ff.NAMESPACE=S9;var C9=ff,nh=C9.find,vb=C9.NAMESPACE;function Hwe(e){return e!==""}function Wwe(e){return e?e.split(/[\t\n\f\r ]+/).filter(Hwe):[]}function Gwe(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function AO(e){if(!e)return[];var t=Wwe(e);return Object.keys(t.reduce(Gwe,{}))}function Kwe(e){return function(t){return e&&e.indexOf(t)!==-1}}function a2(e,t){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}function uu(e,t){var r=e.prototype;if(!(r instanceof t)){let n=function(){};n.prototype=t.prototype,n=new n,a2(r,n),e.prototype=r=n}r.constructor!=e&&(typeof e!="function"&&console.error("unknown Class:"+e),r.constructor=e)}var cu={},id=cu.ELEMENT_NODE=1,my=cu.ATTRIBUTE_NODE=2,Z_=cu.TEXT_NODE=3,E9=cu.CDATA_SECTION_NODE=4,A9=cu.ENTITY_REFERENCE_NODE=5,Xwe=cu.ENTITY_NODE=6,T9=cu.PROCESSING_INSTRUCTION_NODE=7,P9=cu.COMMENT_NODE=8,k9=cu.DOCUMENT_NODE=9,I9=cu.DOCUMENT_TYPE_NODE=10,Jh=cu.DOCUMENT_FRAGMENT_NODE=11,Zwe=cu.NOTATION_NODE=12,dl={},fs={};dl.INDEX_SIZE_ERR=(fs[1]="Index size error",1);dl.DOMSTRING_SIZE_ERR=(fs[2]="DOMString size error",2);var Jl=dl.HIERARCHY_REQUEST_ERR=(fs[3]="Hierarchy request error",3);dl.WRONG_DOCUMENT_ERR=(fs[4]="Wrong document",4);dl.INVALID_CHARACTER_ERR=(fs[5]="Invalid character",5);dl.NO_DATA_ALLOWED_ERR=(fs[6]="No data allowed",6);dl.NO_MODIFICATION_ALLOWED_ERR=(fs[7]="No modification allowed",7);var L9=dl.NOT_FOUND_ERR=(fs[8]="Not found",8);dl.NOT_SUPPORTED_ERR=(fs[9]="Not supported",9);var TO=dl.INUSE_ATTRIBUTE_ERR=(fs[10]="Attribute in use",10);dl.INVALID_STATE_ERR=(fs[11]="Invalid state",11);dl.SYNTAX_ERR=(fs[12]="Syntax error",12);dl.INVALID_MODIFICATION_ERR=(fs[13]="Invalid modification",13);dl.NAMESPACE_ERR=(fs[14]="Invalid namespace",14);dl.INVALID_ACCESS_ERR=(fs[15]="Invalid access",15);function xa(e,t){if(t instanceof Error)var r=t;else r=this,Error.call(this,fs[e]),this.message=fs[e],Error.captureStackTrace&&Error.captureStackTrace(this,xa);return r.code=e,t&&(this.message=this.message+": "+t),r}xa.prototype=Error.prototype;a2(dl,xa);function Hh(){}Hh.prototype={length:0,item:function(e){return e>=0&&e<this.length?this[e]:null},toString:function(e,t){for(var r=[],n=0;n<this.length;n++)S0(this[n],r,e,t);return r.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}};function gy(e,t){this._node=e,this._refresh=t,mk(this)}function mk(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!==t){var r=e._refresh(e._node);if(V9(e,"length",r.length),!e.$$length||r.length<e.$$length)for(var n=r.length;n in e;n++)Object.prototype.hasOwnProperty.call(e,n)&&delete e[n];a2(r,e),e._inc=t}}gy.prototype.item=function(e){return mk(this),this[e]||null};uu(gy,Hh);function Y_(){}function M9(e,t){for(var r=e.length;r--;)if(e[r]===t)return r}function PO(e,t,r,n){if(n?t[M9(t,n)]=r:t[t.length++]=r,e){r.ownerElement=e;var i=e.ownerDocument;i&&(n&&O9(i,e,n),Ywe(i,e,r))}}function kO(e,t,r){var n=M9(t,r);if(n>=0){for(var i=t.length-1;n<i;)t[n]=t[++n];if(t.length=i,e){var a=e.ownerDocument;a&&(O9(a,e,r),r.ownerElement=null)}}else throw new xa(L9,new Error(e.tagName+"@"+r))}Y_.prototype={length:0,item:Hh.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var r=this[t];if(r.nodeName==e)return r}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new xa(TO);var r=this.getNamedItem(e.nodeName);return PO(this._ownerElement,this,e,r),r},setNamedItemNS:function(e){var t=e.ownerElement,r;if(t&&t!=this._ownerElement)throw new xa(TO);return r=this.getNamedItemNS(e.namespaceURI,e.localName),PO(this._ownerElement,this,e,r),r},removeNamedItem:function(e){var t=this.getNamedItem(e);return kO(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var r=this.getNamedItemNS(e,t);return kO(this._ownerElement,this,r),r},getNamedItemNS:function(e,t){for(var r=this.length;r--;){var n=this[r];if(n.localName==t&&n.namespaceURI==e)return n}return null}};function R9(){}R9.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,r){var n=new s2;if(n.implementation=this,n.childNodes=new Hh,n.doctype=r||null,r&&n.appendChild(r),t){var i=n.createElementNS(e,t);n.appendChild(i)}return n},createDocumentType:function(e,t,r){var n=new eS;return n.name=e,n.nodeName=e,n.publicId=t||"",n.systemId=r||"",n}};function qi(){}qi.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return J_(this,e,t)},replaceChild:function(e,t){J_(this,e,t,F9),t&&this.removeChild(t)},removeChild:function(e){return N9(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(e){return DA(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==Z_&&e.nodeType==Z_?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var r=t._nsMap;if(r){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&r[n]===e)return n}t=t.nodeType==my?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var r=t._nsMap;if(r&&Object.prototype.hasOwnProperty.call(r,e))return r[e];t=t.nodeType==my?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){var t=this.lookupPrefix(e);return t==null}};function D9(e){return e=="<"&&"&lt;"||e==">"&&"&gt;"||e=="&"&&"&amp;"||e=='"'&&"&quot;"||"&#"+e.charCodeAt()+";"}a2(cu,qi);a2(cu,qi.prototype);function bb(e,t){if(t(e))return!0;if(e=e.firstChild)do if(bb(e,t))return!0;while(e=e.nextSibling)}function s2(){this.ownerDocument=this}function Ywe(e,t,r){e&&e._inc++;var n=r.namespaceURI;n===vb.XMLNS&&(t._nsMap[r.prefix?r.localName:""]=r.value)}function O9(e,t,r,n){e&&e._inc++;var i=r.namespaceURI;i===vb.XMLNS&&delete t._nsMap[r.prefix?r.localName:""]}function gk(e,t,r){if(e&&e._inc){e._inc++;var n=t.childNodes;if(r)n[n.length++]=r;else{for(var i=t.firstChild,a=0;i;)n[a++]=i,i=i.nextSibling;n.length=a,delete n[n.length]}}}function N9(e,t){var r=t.previousSibling,n=t.nextSibling;return r?r.nextSibling=n:e.firstChild=n,n?n.previousSibling=r:e.lastChild=r,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,gk(e.ownerDocument,e),t}function Jwe(e){return e&&(e.nodeType===qi.DOCUMENT_NODE||e.nodeType===qi.DOCUMENT_FRAGMENT_NODE||e.nodeType===qi.ELEMENT_NODE)}function Qwe(e){return e&&(ih(e)||yk(e)||Qh(e)||e.nodeType===qi.DOCUMENT_FRAGMENT_NODE||e.nodeType===qi.COMMENT_NODE||e.nodeType===qi.PROCESSING_INSTRUCTION_NODE)}function Qh(e){return e&&e.nodeType===qi.DOCUMENT_TYPE_NODE}function ih(e){return e&&e.nodeType===qi.ELEMENT_NODE}function yk(e){return e&&e.nodeType===qi.TEXT_NODE}function IO(e,t){var r=e.childNodes||[];if(nh(r,ih)||Qh(t))return!1;var n=nh(r,Qh);return!(t&&n&&r.indexOf(n)>r.indexOf(t))}function LO(e,t){var r=e.childNodes||[];function n(a){return ih(a)&&a!==t}if(nh(r,n))return!1;var i=nh(r,Qh);return!(t&&i&&r.indexOf(i)>r.indexOf(t))}function e5e(e,t,r){if(!Jwe(e))throw new xa(Jl,"Unexpected parent node type "+e.nodeType);if(r&&r.parentNode!==e)throw new xa(L9,"child not in parent");if(!Qwe(t)||Qh(t)&&e.nodeType!==qi.DOCUMENT_NODE)throw new xa(Jl,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)}function t5e(e,t,r){var n=e.childNodes||[],i=t.childNodes||[];if(t.nodeType===qi.DOCUMENT_FRAGMENT_NODE){var a=i.filter(ih);if(a.length>1||nh(i,yk))throw new xa(Jl,"More than one element or text in fragment");if(a.length===1&&!IO(e,r))throw new xa(Jl,"Element in fragment can not be inserted before doctype")}if(ih(t)&&!IO(e,r))throw new xa(Jl,"Only one element can be added and only after doctype");if(Qh(t)){if(nh(n,Qh))throw new xa(Jl,"Only one doctype is allowed");var u=nh(n,ih);if(r&&n.indexOf(u)<n.indexOf(r))throw new xa(Jl,"Doctype can only be inserted before an element");if(!r&&u)throw new xa(Jl,"Doctype can not be appended since element is present")}}function F9(e,t,r){var n=e.childNodes||[],i=t.childNodes||[];if(t.nodeType===qi.DOCUMENT_FRAGMENT_NODE){var a=i.filter(ih);if(a.length>1||nh(i,yk))throw new xa(Jl,"More than one element or text in fragment");if(a.length===1&&!LO(e,r))throw new xa(Jl,"Element in fragment can not be inserted before doctype")}if(ih(t)&&!LO(e,r))throw new xa(Jl,"Only one element can be added and only after doctype");if(Qh(t)){if(nh(n,function(f){return Qh(f)&&f!==r}))throw new xa(Jl,"Only one doctype is allowed");var u=nh(n,ih);if(r&&n.indexOf(u)<n.indexOf(r))throw new xa(Jl,"Doctype can only be inserted before an element")}}function J_(e,t,r,n){e5e(e,t,r),e.nodeType===qi.DOCUMENT_NODE&&(n||t5e)(e,t,r);var i=t.parentNode;if(i&&i.removeChild(t),t.nodeType===Jh){var a=t.firstChild;if(a==null)return t;var u=t.lastChild}else a=u=t;var s=r?r.previousSibling:e.lastChild;a.previousSibling=s,u.nextSibling=r,s?s.nextSibling=a:e.firstChild=a,r==null?e.lastChild=u:r.previousSibling=u;do a.parentNode=e;while(a!==u&&(a=a.nextSibling));return gk(e.ownerDocument||e,e),t.nodeType==Jh&&(t.firstChild=t.lastChild=null),t}function r5e(e,t){return t.parentNode&&t.parentNode.removeChild(t),t.parentNode=e,t.previousSibling=e.lastChild,t.nextSibling=null,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,e.lastChild=t,gk(e.ownerDocument,e,t),t}s2.prototype={nodeName:"#document",nodeType:k9,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==Jh){for(var r=e.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,t),r=n}return e}return J_(this,e,t),e.ownerDocument=this,this.documentElement===null&&e.nodeType===id&&(this.documentElement=e),e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),N9(this,e)},replaceChild:function(e,t){J_(this,e,t,F9),e.ownerDocument=this,t&&this.removeChild(t),ih(e)&&(this.documentElement=e)},importNode:function(e,t){return U9(this,e,t)},getElementById:function(e){var t=null;return bb(this.documentElement,function(r){if(r.nodeType==id&&r.getAttribute("id")==e)return t=r,!0}),t},getElementsByClassName:function(e){var t=AO(e);return new gy(this,function(r){var n=[];return t.length>0&&bb(r.documentElement,function(i){if(i!==r&&i.nodeType===id){var a=i.getAttribute("class");if(a){var u=e===a;if(!u){var s=AO(a);u=t.every(Kwe(s))}u&&n.push(i)}}}),n})},createElement:function(e){var t=new Mm;t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new Hh;var r=t.attributes=new Y_;return r._ownerElement=t,t},createDocumentFragment:function(){var e=new tS;return e.ownerDocument=this,e.childNodes=new Hh,e},createTextNode:function(e){var t=new vk;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new bk;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new xk;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var r=new wk;return r.ownerDocument=this,r.tagName=r.nodeName=r.target=e,r.nodeValue=r.data=t,r},createAttribute:function(e){var t=new Q_;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new _k;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var r=new Mm,n=t.split(":"),i=r.attributes=new Y_;return r.childNodes=new Hh,r.ownerDocument=this,r.nodeName=t,r.tagName=t,r.namespaceURI=e,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=t,i._ownerElement=r,r},createAttributeNS:function(e,t){var r=new Q_,n=t.split(":");return r.ownerDocument=this,r.nodeName=t,r.name=t,r.namespaceURI=e,r.specified=!0,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=t,r}};uu(s2,qi);function Mm(){this._nsMap={}}Mm.prototype={nodeType:id,hasAttribute:function(e){return this.getAttributeNode(e)!=null},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var r=this.ownerDocument.createAttribute(e);r.value=r.nodeValue=""+t,this.setAttributeNode(r)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===Jh?this.insertBefore(e,null):r5e(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);r&&this.removeAttributeNode(r)},hasAttributeNS:function(e,t){return this.getAttributeNodeNS(e,t)!=null},getAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);return r&&r.value||""},setAttributeNS:function(e,t,r){var n=this.ownerDocument.createAttributeNS(e,t);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new gy(this,function(t){var r=[];return bb(t,function(n){n!==t&&n.nodeType==id&&(e==="*"||n.tagName==e)&&r.push(n)}),r})},getElementsByTagNameNS:function(e,t){return new gy(this,function(r){var n=[];return bb(r,function(i){i!==r&&i.nodeType===id&&(e==="*"||i.namespaceURI===e)&&(t==="*"||i.localName==t)&&n.push(i)}),n})}};s2.prototype.getElementsByTagName=Mm.prototype.getElementsByTagName;s2.prototype.getElementsByTagNameNS=Mm.prototype.getElementsByTagNameNS;uu(Mm,qi);function Q_(){}Q_.prototype.nodeType=my;uu(Q_,qi);function l2(){}l2.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(fs[Jl])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,r){var n=this.data.substring(0,e),i=this.data.substring(e+t);r=n+r+i,this.nodeValue=this.data=r,this.length=r.length}};uu(l2,qi);function vk(){}vk.prototype={nodeName:"#text",nodeType:Z_,splitText:function(e){var t=this.data,r=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}};uu(vk,l2);function bk(){}bk.prototype={nodeName:"#comment",nodeType:P9};uu(bk,l2);function xk(){}xk.prototype={nodeName:"#cdata-section",nodeType:E9};uu(xk,l2);function eS(){}eS.prototype.nodeType=I9;uu(eS,qi);function $9(){}$9.prototype.nodeType=Zwe;uu($9,qi);function B9(){}B9.prototype.nodeType=Xwe;uu(B9,qi);function _k(){}_k.prototype.nodeType=A9;uu(_k,qi);function tS(){}tS.prototype.nodeName="#document-fragment";tS.prototype.nodeType=Jh;uu(tS,qi);function wk(){}wk.prototype.nodeType=T9;uu(wk,qi);function z9(){}z9.prototype.serializeToString=function(e,t,r){return j9.call(e,t,r)};qi.prototype.toString=j9;function j9(e,t){var r=[],n=this.nodeType==9&&this.documentElement||this,i=n.prefix,a=n.namespaceURI;if(a&&i==null){var i=n.lookupPrefix(a);if(i==null)var u=[{namespace:a,prefix:null}]}return S0(this,r,e,t,u),r.join("")}function MO(e,t,r){var n=e.prefix||"",i=e.namespaceURI;if(!i||n==="xml"&&i===vb.XML||i===vb.XMLNS)return!1;for(var a=r.length;a--;){var u=r[a];if(u.prefix===n)return u.namespace!==i}return!0}function R3(e,t,r){e.push(" ",t,'="',r.replace(/[<>&"\t\n\r]/g,D9),'"')}function S0(e,t,r,n,i){if(i||(i=[]),n)if(e=n(e),e){if(typeof e=="string"){t.push(e);return}}else return;switch(e.nodeType){case id:var a=e.attributes,u=a.length,M=e.firstChild,s=e.tagName;r=vb.isHTML(e.namespaceURI)||r;var f=s;if(!r&&!e.prefix&&e.namespaceURI){for(var m,x=0;x<a.length;x++)if(a.item(x).name==="xmlns"){m=a.item(x).value;break}if(!m)for(var w=i.length-1;w>=0;w--){var S=i[w];if(S.prefix===""&&S.namespace===e.namespaceURI){m=S.namespace;break}}if(m!==e.namespaceURI)for(var w=i.length-1;w>=0;w--){var S=i[w];if(S.namespace===e.namespaceURI){S.prefix&&(f=S.prefix+":"+s);break}}}t.push("<",f);for(var C=0;C<u;C++){var L=a.item(C);L.prefix=="xmlns"?i.push({prefix:L.localName,namespace:L.value}):L.nodeName=="xmlns"&&i.push({prefix:"",namespace:L.value})}for(var C=0;C<u;C++){var L=a.item(C);if(MO(L,r,i)){var k=L.prefix||"",$=L.namespaceURI;R3(t,k?"xmlns:"+k:"xmlns",$),i.push({prefix:k,namespace:$})}S0(L,t,r,n,i)}if(s===f&&MO(e,r,i)){var k=e.prefix||"",$=e.namespaceURI;R3(t,k?"xmlns:"+k:"xmlns",$),i.push({prefix:k,namespace:$})}if(M||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(s)){if(t.push(">"),r&&/^script$/i.test(s))for(;M;)M.data?t.push(M.data):S0(M,t,r,n,i.slice()),M=M.nextSibling;else for(;M;)S0(M,t,r,n,i.slice()),M=M.nextSibling;t.push("</",f,">")}else t.push("/>");return;case k9:case Jh:for(var M=e.firstChild;M;)S0(M,t,r,n,i.slice()),M=M.nextSibling;return;case my:return R3(t,e.name,e.value);case Z_:return t.push(e.data.replace(/[<&>]/g,D9));case E9:return t.push("<![CDATA[",e.data,"]]>");case P9:return t.push("<!--",e.data,"-->");case I9:var z=e.publicId,B=e.systemId;if(t.push("<!DOCTYPE ",e.name),z)t.push(" PUBLIC ",z),B&&B!="."&&t.push(" ",B),t.push(">");else if(B&&B!=".")t.push(" SYSTEM ",B,">");else{var q=e.internalSubset;q&&t.push(" [",q,"]"),t.push(">")}return;case T9:return t.push("<?",e.target," ",e.data,"?>");case A9:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function U9(e,t,r){var n;switch(t.nodeType){case id:n=t.cloneNode(!1),n.ownerDocument=e;case Jh:break;case my:r=!0;break}if(n||(n=t.cloneNode(!1)),n.ownerDocument=e,n.parentNode=null,r)for(var i=t.firstChild;i;)n.appendChild(U9(e,i,r)),i=i.nextSibling;return n}function DA(e,t,r){var n=new t.constructor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var a=t[i];typeof a!="object"&&a!=n[i]&&(n[i]=a)}switch(t.childNodes&&(n.childNodes=new Hh),n.ownerDocument=e,n.nodeType){case id:var u=t.attributes,s=n.attributes=new Y_,f=u.length;s._ownerElement=n;for(var m=0;m<f;m++)n.setAttributeNode(DA(e,u.item(m),!0));break;case my:r=!0}if(r)for(var x=t.firstChild;x;)n.appendChild(DA(e,x,r)),x=x.nextSibling;return n}function V9(e,t,r){e[t]=r}try{if(Object.defineProperty){let e=function(t){switch(t.nodeType){case id:case Jh:var r=[];for(t=t.firstChild;t;)t.nodeType!==7&&t.nodeType!==8&&r.push(e(t)),t=t.nextSibling;return r.join("");default:return t.nodeValue}};Object.defineProperty(gy.prototype,"length",{get:function(){return mk(this),this.$$length}}),Object.defineProperty(qi.prototype,"textContent",{get:function(){return e(this)},set:function(t){switch(this.nodeType){case id:case Jh:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),V9=function(t,r,n){t["$$"+r]=n}}}catch{}hf.DocumentType=eS;hf.DOMException=xa;hf.DOMImplementation=R9;hf.Element=Mm;hf.Node=qi;hf.NodeList=Hh;hf.XMLSerializer=z9;var q9={};(function(e){var t=ff.freeze;e.XML_ENTITIES=t({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),e.HTML_ENTITIES=t({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),e.entityMap=e.HTML_ENTITIES})(q9);var Sk={},xb=ff.NAMESPACE,OA=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,RO=new RegExp("[\\-\\.0-9"+OA.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),DO=new RegExp("^"+OA.source+RO.source+"*(?::"+OA.source+RO.source+"*)?$"),zv=0,If=1,kg=2,jv=3,Ig=4,Lg=5,Uv=6,_x=7;function yy(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,yy)}yy.prototype=new Error;yy.prototype.name=yy.name;function H9(){}H9.prototype={parse:function(e,t,r){var n=this.domBuilder;n.startDocument(),W9(t,t={}),n5e(e,t,r,n,this.errorHandler),n.endDocument()}};function n5e(e,t,r,n,i){function a(ke){if(ke>65535){ke-=65536;var Oe=55296+(ke>>10),_e=56320+(ke&1023);return String.fromCharCode(Oe,_e)}else return String.fromCharCode(ke)}function u(ke){var Oe=ke.slice(1,-1);return Object.hasOwnProperty.call(r,Oe)?r[Oe]:Oe.charAt(0)==="#"?a(parseInt(Oe.substr(1).replace("x","0x"))):(i.error("entity not found:"+ke),ke)}function s(ke){if(ke>k){var Oe=e.substring(k,ke).replace(/&#?\w+;/g,u);S&&f(k),n.characters(Oe,0,ke-k),k=ke}}function f(ke,Oe){for(;ke>=x&&(Oe=w.exec(e));)m=Oe.index,x=m+Oe[0].length,S.lineNumber++;S.columnNumber=ke-m+1}for(var m=0,x=0,w=/.*(?:\r\n?|\n)|.*$/g,S=n.locator,C=[{currentNSMap:t}],L={},k=0;;){try{var $=e.indexOf("<",k);if($<0){if(!e.substr(k).match(/^\s*$/)){var M=n.doc,z=M.createTextNode(e.substr(k));M.appendChild(z),n.currentElement=z}return}switch($>k&&s($),e.charAt($+1)){case"/":var Z=e.indexOf(">",$+3),B=e.substring($+2,Z).replace(/[ \t\n\r]+$/g,""),q=C.pop();Z<0?(B=e.substring($+2).replace(/[\s<].*/,""),i.error("end tag name: "+B+" is not complete:"+q.tagName),Z=$+1+B.length):B.match(/\s</)&&(B=B.replace(/[\s<].*/,""),i.error("end tag name: "+B+" maybe not complete"),Z=$+1+B.length);var te=q.localNSMap,K=q.tagName==B,ee=K||q.tagName&&q.tagName.toLowerCase()==B.toLowerCase();if(ee){if(n.endElement(q.uri,q.localName,B),te)for(var Q in te)Object.prototype.hasOwnProperty.call(te,Q)&&n.endPrefixMapping(Q);K||i.fatalError("end tag name: "+B+" is not match the current start tagName:"+q.tagName)}else C.push(q);Z++;break;case"?":S&&f($),Z=l5e(e,$,n);break;case"!":S&&f($),Z=s5e(e,$,n,i);break;default:S&&f($);var ge=new G9,Y=C[C.length-1].currentNSMap,Z=i5e(e,$,ge,Y,u,i),re=ge.length;if(!ge.closed&&a5e(e,Z,ge.tagName,L)&&(ge.closed=!0,r.nbsp||i.warning("unclosed xml attribute")),S&&re){for(var ye=OO(S,{}),fe=0;fe<re;fe++){var Ae=ge[fe];f(Ae.offset),Ae.locator=OO(S,{})}n.locator=ye,NO(ge,n,Y)&&C.push(ge),n.locator=S}else NO(ge,n,Y)&&C.push(ge);xb.isHTML(ge.uri)&&!ge.closed?Z=o5e(e,Z,ge.tagName,u,n):Z++}}catch(ke){if(ke instanceof yy)throw ke;i.error("element parse error: "+ke),Z=-1}Z>k?k=Z:s(Math.max($,k)+1)}}function OO(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function i5e(e,t,r,n,i,a){function u(S,C,L){r.attributeNames.hasOwnProperty(S)&&a.fatalError("Attribute "+S+" redefined"),r.addValue(S,C.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,i),L)}for(var s,f,m=++t,x=zv;;){var w=e.charAt(m);switch(w){case"=":if(x===If)s=e.slice(t,m),x=jv;else if(x===kg)x=jv;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(x===jv||x===If)if(x===If&&(a.warning('attribute value must after "="'),s=e.slice(t,m)),t=m+1,m=e.indexOf(w,t),m>0)f=e.slice(t,m),u(s,f,t-1),x=Lg;else throw new Error("attribute value no end '"+w+"' match");else if(x==Ig)f=e.slice(t,m),u(s,f,t),a.warning('attribute "'+s+'" missed start quot('+w+")!!"),t=m+1,x=Lg;else throw new Error('attribute value must after "="');break;case"/":switch(x){case zv:r.setTagName(e.slice(t,m));case Lg:case Uv:case _x:x=_x,r.closed=!0;case Ig:case If:break;case kg:r.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),x==zv&&r.setTagName(e.slice(t,m)),m;case">":switch(x){case zv:r.setTagName(e.slice(t,m));case Lg:case Uv:case _x:break;case Ig:case If:f=e.slice(t,m),f.slice(-1)==="/"&&(r.closed=!0,f=f.slice(0,-1));case kg:x===kg&&(f=s),x==Ig?(a.warning('attribute "'+f+'" missed quot(")!'),u(s,f,t)):((!xb.isHTML(n[""])||!f.match(/^(?:disabled|checked|selected)$/i))&&a.warning('attribute "'+f+'" missed value!! "'+f+'" instead!!'),u(f,f,t));break;case jv:throw new Error("attribute value missed!!")}return m;case"":w=" ";default:if(w<=" ")switch(x){case zv:r.setTagName(e.slice(t,m)),x=Uv;break;case If:s=e.slice(t,m),x=kg;break;case Ig:var f=e.slice(t,m);a.warning('attribute "'+f+'" missed quot(")!!'),u(s,f,t);case Lg:x=Uv;break}else switch(x){case kg:r.tagName,(!xb.isHTML(n[""])||!s.match(/^(?:disabled|checked|selected)$/i))&&a.warning('attribute "'+s+'" missed value!! "'+s+'" instead2!!'),u(s,s,t),t=m,x=If;break;case Lg:a.warning('attribute space is required"'+s+'"!!');case Uv:x=If,t=m;break;case jv:x=Ig,t=m;break;case _x:throw new Error("elements closed character '/' and '>' must be connected to")}}m++}}function NO(e,t,r){for(var n=e.tagName,i=null,w=e.length;w--;){var a=e[w],u=a.qName,s=a.value,S=u.indexOf(":");if(S>0)var f=a.prefix=u.slice(0,S),m=u.slice(S+1),x=f==="xmlns"&&m;else m=u,f=null,x=u==="xmlns"&&"";a.localName=m,x!==!1&&(i==null&&(i={},W9(r,r={})),r[x]=i[x]=s,a.uri=xb.XMLNS,t.startPrefixMapping(x,s))}for(var w=e.length;w--;){a=e[w];var f=a.prefix;f&&(f==="xml"&&(a.uri=xb.XML),f!=="xmlns"&&(a.uri=r[f||""]))}var S=n.indexOf(":");S>0?(f=e.prefix=n.slice(0,S),m=e.localName=n.slice(S+1)):(f=null,m=e.localName=n);var C=e.uri=r[f||""];if(t.startElement(C,m,n,e),e.closed){if(t.endElement(C,m,n),i)for(f in i)Object.prototype.hasOwnProperty.call(i,f)&&t.endPrefixMapping(f)}else return e.currentNSMap=r,e.localNSMap=i,!0}function o5e(e,t,r,n,i){if(/^(?:script|textarea)$/i.test(r)){var a=e.indexOf("</"+r+">",t),u=e.substring(t+1,a);if(/[&<]/.test(u))return/^script$/i.test(r)?(i.characters(u,0,u.length),a):(u=u.replace(/&#?\w+;/g,n),i.characters(u,0,u.length),a)}return t+1}function a5e(e,t,r,n){var i=n[r];return i==null&&(i=e.lastIndexOf("</"+r+">"),i<t&&(i=e.lastIndexOf("</"+r)),n[r]=i),i<t}function W9(e,t){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}function s5e(e,t,r,n){var i=e.charAt(t+2);switch(i){case"-":if(e.charAt(t+3)==="-"){var a=e.indexOf("-->",t+4);return a>t?(r.comment(e,t+4,a-t-4),a+3):(n.error("Unclosed comment"),-1)}else return-1;default:if(e.substr(t+3,6)=="CDATA["){var a=e.indexOf("]]>",t+9);return r.startCDATA(),r.characters(e,t+9,a-t-9),r.endCDATA(),a+3}var u=u5e(e,t),s=u.length;if(s>1&&/!doctype/i.test(u[0][0])){var f=u[1][0],m=!1,x=!1;s>3&&(/^public$/i.test(u[2][0])?(m=u[3][0],x=s>4&&u[4][0]):/^system$/i.test(u[2][0])&&(x=u[3][0]));var w=u[s-1];return r.startDTD(f,m,x),r.endDTD(),w.index+w[0].length}}return-1}function l5e(e,t,r){var n=e.indexOf("?>",t);if(n){var i=e.substring(t,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(i[0].length,r.processingInstruction(i[1],i[2]),n+2):-1}return-1}function G9(){this.attributeNames={}}G9.prototype={setTagName:function(e){if(!DO.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,r){if(!DO.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:r}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}};function u5e(e,t){var r,n=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=t,i.exec(e);r=i.exec(e);)if(n.push(r),r[1])return n}Sk.XMLReader=H9;Sk.ParseError=yy;var c5e=ff,d5e=hf,FO=q9,K9=Sk,h5e=d5e.DOMImplementation,$O=c5e.NAMESPACE,f5e=K9.ParseError,p5e=K9.XMLReader;function m5e(e){return e.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function g5e(e){this.options=e||{locator:{}}}g5e.prototype.parseFromString=function(e,t){var r=this.options,n=new p5e,i=r.domBuilder||new rS,a=r.errorHandler,u=r.locator,s=r.xmlns||{},f=/\/x?html?$/.test(t),m=f?FO.HTML_ENTITIES:FO.XML_ENTITIES;u&&i.setDocumentLocator(u),n.errorHandler=y5e(a,i,u),n.domBuilder=r.domBuilder||i,f&&(s[""]=$O.HTML),s.xml=s.xml||$O.XML;var x=r.normalizeLineEndings||m5e;return e&&typeof e=="string"?n.parse(x(e),s,m):n.errorHandler.error("invalid doc source"),i.doc};function y5e(e,t,r){if(!e){if(t instanceof rS)return t;e=t}var n={},i=e instanceof Function;r=r||{};function a(u){var s=e[u];!s&&i&&(s=e.length==2?function(f){e(u,f)}:e),n[u]=s&&function(f){s("[xmldom "+u+"]	"+f+NA(r))}||function(){}}return a("warning"),a("error"),a("fatalError"),n}function rS(){this.cdata=!1}function Mg(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}rS.prototype={startDocument:function(){this.doc=new h5e().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,r,n){var i=this.doc,a=i.createElementNS(e,r||t),u=n.length;wx(this,a),this.currentElement=a,this.locator&&Mg(this.locator,a);for(var s=0;s<u;s++){var e=n.getURI(s),f=n.getValue(s),r=n.getQName(s),m=i.createAttributeNS(e,r);this.locator&&Mg(n.getLocator(s),m),m.value=m.nodeValue=f,a.setAttributeNode(m)}},endElement:function(e,t,r){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var r=this.doc.createProcessingInstruction(e,t);this.locator&&Mg(this.locator,r),wx(this,r)},ignorableWhitespace:function(e,t,r){},characters:function(e,t,r){if(e=BO.apply(this,arguments),e){if(this.cdata)var n=this.doc.createCDATASection(e);else var n=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(e)&&this.doc.appendChild(n),this.locator&&Mg(this.locator,n)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,r){e=BO.apply(this,arguments);var n=this.doc.createComment(e);this.locator&&Mg(this.locator,n),wx(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var i=n.createDocumentType(e,t,r);this.locator&&Mg(this.locator,i),wx(this,i),this.doc.doctype=i}},warning:function(e){console.warn("[xmldom warning]	"+e,NA(this.locator))},error:function(e){console.error("[xmldom error]	"+e,NA(this.locator))},fatalError:function(e){throw new f5e(e,this.locator)}};function NA(e){if(e)return`
@`+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function BO(e,t,r){return typeof e=="string"?e.substr(t,r):e.length>=t+r||t?new java.lang.String(e,t,r)+"":e}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){rS.prototype[e]=function(){return null}});function wx(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}var v5e=hf,b5e=v5e.XMLSerializer;/**
 * wms-capabilities @0.6.0
 * @description WMS service Capabilities > JSON, based on openlayers 
 * @license BSD-2-Clause
 * @preserve
 */var Yn=e=>e!==void 0,X9=(e,t,r)=>t in e?e[t]:e[t]=r;const ew={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12};function Ck(e,t){return Z9(e,t,[]).join("")}function Z9(e,t,r){if(e.nodeType===ew.CDATA_SECTION||e.nodeType===ew.TEXT)r.push(e.nodeValue);else{var n;for(n=e.firstChild;n;n=n.nextSibling)Z9(n,t,r)}return r}function x5e(e,t,r,n){for(var i=_5e(t);i;i=w5e(i)){var a=i.namespaceURI||null,u=e[a];if(Yn(u)){var s=u[i.localName];Yn(s)&&s.call(n,i,r)}}}function _5e(e){let t=e.firstElementChild||e.firstChild;for(;t&&t.nodeType!==ew.ELEMENT;)t=t.nextSibling;return t}function w5e(e){let t=e.nextElementSibling||e.nextSibling;for(;t&&t.nodeType!==ew.ELEMENT;)t=t.nextSibling;return t}function Ds(e,t,r){return S5e(e,t,r)}function S5e(e,t,r){var n=Yn(r)?r:{},i,a;for(i=0,a=e.length;i<a;++i)n[e[i]]=t;return n}function Y9(e,t){return function(r,n){var i=e.call(Yn(t)?t:this,r,n);if(Yn(i)){var a=n[n.length-1];a.push(i)}}}function Os(e,t,r,n,i){return n.push(e),x5e(t,r,n,i),n.pop()}function rn(e,t,r){return function(n,i){let a=e.call(Yn(r)?r:this,n,i);if(Yn(a)){var u=i[i.length-1],s=Yn(t)?t:n.localName;u[s]=a}}}function Gl(e,t,r){return function(n,i){var a=e.call(Yn(r)?r:this,n,i);if(Yn(a)){var u=i[i.length-1],s=Yn(t)?t:n.localName,f=X9(u,s,[]);f.push(a)}}}const C5e=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function E5e(e){return e.replace(C5e,"")}function gm(e){const t=/^\s*(true|1)|(false|0)\s*$/.exec(e);if(t)return Yn(t[1])||!1}function C0(e){return jh(Ck(e,!1))}function jh(e){const t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(e);if(t)return parseFloat(t[1])}function D3(e){return tw(Ck(e,!1))}function tw(e){const t=/^\s*(\d+)\s*$/.exec(e);if(t)return parseInt(t[1],10)}function Ei(e){return E5e(Ck(e,!1))}const A5e="http://www.w3.org/1999/xlink";function Ek(e){return e.getAttributeNS(A5e,"href")}function T5e(e,t){return Os({},Q5e,e,t)}function J9(e){return[jh(e.getAttribute("minx")),jh(e.getAttribute("miny")),jh(e.getAttribute("maxx")),jh(e.getAttribute("maxy"))]}function P5e(e,t){const r=J9(e),n=[jh(e.getAttribute("resx")),jh(e.getAttribute("resy"))];return{crs:e.getAttribute("CRS")||e.getAttribute("SRS"),extent:r,res:n}}function k5e(e,t){const r=J9(e);if(!(!Yn(r[0])||!Yn(r[1])||!Yn(r[2])||!Yn(r[3])))return r}function I5e(e,t){const r=parseFloat(e.getAttribute("min")),n=parseFloat(e.getAttribute("max"));return{min:r,max:n}}function L5e(e,t){const r=Os({},eSe,e,t);if(!Yn(r))return;const n=r.westBoundLongitude,i=r.southBoundLatitude,a=r.eastBoundLongitude,u=r.northBoundLatitude;if(!(!Yn(n)||!Yn(i)||!Yn(a)||!Yn(u)))return[n,i,a,u]}function M5e(e,t){return Os({},G5e,e,t)}function R5e(e,t){return Os({},K5e,e,t)}function D5e(e,t){return Os({},X5e,e,t)}function O5e(e,t){return Os({},Z5e,e,t)}function N5e(e,t){return Os({},Y5e,e,t)}function F5e(e,t){return Os([],J5e,e,t)}function $5e(e,t){const r=gm(e.getAttribute("queryable"));return Os({queryable:Yn(r)?r:!1},tj,e,t)}function B5e(e,t){var r=t[t.length-1];const n=Os({},tj,e,t);if(!Yn(n))return;let i=gm(e.getAttribute("queryable"));Yn(i)||(i=r.queryable),n.queryable=Yn(i)?i:!1;let a=tw(e.getAttribute("cascaded"));Yn(a)||(a=r.cascaded),n.cascaded=a;let u=gm(e.getAttribute("opaque"));Yn(u)||(u=r.opaque),n.opaque=Yn(u)?u:!1;let s=gm(e.getAttribute("noSubsets"));Yn(s)||(s=r.noSubsets),n.noSubsets=Yn(s)?s:!1;let f=jh(e.getAttribute("fixedWidth"));Yn(f)||(f=r.fixedWidth),n.fixedWidth=f;let m=jh(e.getAttribute("fixedHeight"));Yn(m)||(m=r.fixedHeight),n.fixedHeight=m;const x=["Style","CRS","AuthorityURL"];for(let S=0,C=x.length;S<C;S++){const L=x[S],k=r[L];if(Yn(k)){let $=X9(n,L,[]);$=$.concat(k),n[L]=$}}const w=["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"];for(let S=0,C=w.length;S<C;S++){const L=w[S],k=n[L];if(!Yn(k)){const $=r[L];n[L]=$}}return n}function z5e(e,t){return{name:e.getAttribute("name"),units:e.getAttribute("units"),unitSymbol:e.getAttribute("unitSymbol"),default:e.getAttribute("default"),multipleValues:gm(e.getAttribute("multipleValues")),nearestValue:gm(e.getAttribute("nearestValue")),current:gm(e.getAttribute("current")),values:Ei(e)}}function ef(e,t){return Os({},aSe,e,t)}function j5e(e,t){return Os({},tSe,e,t)}function U5e(e,t){return Os({},nSe,e,t)}function V5e(e,t){return Os({},iSe,e,t)}function O3(e,t){return Os({},rSe,e,t)}function Q9(e,t){var r=ef(e,t);if(Yn(r)){const n=[tw(e.getAttribute("width")),tw(e.getAttribute("height"))];return r.size=n,r}}function q5e(e,t){var r=ef(e,t);if(Yn(r))return r.name=e.getAttribute("name"),r}function H5e(e,t){var r=ef(e,t);if(Yn(r))return r.type=e.getAttribute("type"),r}function W5e(e,t){return Os({},oSe,e,t)}function ej(e,t){return Os([],sSe,e,t)}const Ns=[null,"http://www.opengis.net/wms"];Ds(Ns,{Service:rn(R5e),Capability:rn(M5e)});const G5e=Ds(Ns,{Request:rn(j5e),Exception:rn(F5e),Layer:rn($5e)}),K5e=Ds(Ns,{Name:rn(Ei),Title:rn(Ei),Abstract:rn(Ei),KeywordList:rn(ej),OnlineResource:rn(Ek),ContactInformation:rn(D5e),Fees:rn(Ei),AccessConstraints:rn(Ei),LayerLimit:rn(D3),MaxWidth:rn(D3),MaxHeight:rn(D3)}),X5e=Ds(Ns,{ContactPersonPrimary:rn(O5e),ContactPosition:rn(Ei),ContactAddress:rn(N5e),ContactVoiceTelephone:rn(Ei),ContactFacsimileTelephone:rn(Ei),ContactElectronicMailAddress:rn(Ei)}),Z5e=Ds(Ns,{ContactPerson:rn(Ei),ContactOrganization:rn(Ei)}),Y5e=Ds(Ns,{AddressType:rn(Ei),Address:rn(Ei),City:rn(Ei),StateOrProvince:rn(Ei),PostCode:rn(Ei),Country:rn(Ei)}),J5e=Ds(Ns,{Format:Y9(Ei)}),tj=Ds(Ns,{Name:rn(Ei),Title:rn(Ei),Abstract:rn(Ei),KeywordList:rn(ej),CRS:Gl(Ei),SRS:Gl(Ei),EX_GeographicBoundingBox:rn(L5e),LatLonBoundingBox:rn(k5e),BoundingBox:Gl(P5e),Dimension:Gl(z5e),Attribution:rn(T5e),AuthorityURL:Gl(q5e),Identifier:Gl(Ei),MetadataURL:Gl(H5e),DataURL:Gl(ef),FeatureListURL:Gl(ef),Style:Gl(W5e),MinScaleDenominator:rn(C0),MaxScaleDenominator:rn(C0),ScaleHint:rn(I5e),Layer:Gl(B5e)}),Q5e=Ds(Ns,{Title:rn(Ei),OnlineResource:rn(Ek),LogoURL:rn(Q9)}),eSe=Ds(Ns,{westBoundLongitude:rn(C0),eastBoundLongitude:rn(C0),southBoundLatitude:rn(C0),northBoundLatitude:rn(C0)}),tSe=Ds(Ns,{GetCapabilities:rn(O3),GetMap:rn(O3),GetFeatureInfo:rn(O3)}),rSe=Ds(Ns,{Format:Gl(Ei),DCPType:Gl(U5e)}),nSe=Ds(Ns,{HTTP:rn(V5e)}),iSe=Ds(Ns,{Get:rn(ef),Post:rn(ef)}),oSe=Ds(Ns,{Name:rn(Ei),Title:rn(Ei),Abstract:rn(Ei),LegendURL:Gl(Q9),StyleSheetURL:rn(ef),StyleURL:rn(ef)}),aSe=Ds(Ns,{Format:rn(Ei),OnlineResource:rn(Ek)}),sSe=Ds(Ns,{Keyword:Y9(Ei)});var Ak={},lSe=sf;Object.defineProperty(Ak,"__esModule",{value:!0});var rj=Ak.default=void 0,uSe=lSe(lf()),N3=$e;rj=Ak.default=(0,uSe.default)([(0,N3.jsx)("circle",{cx:"7",cy:"14",r:"3"},"0"),(0,N3.jsx)("circle",{cx:"11",cy:"6",r:"3"},"1"),(0,N3.jsx)("circle",{cx:"16.6",cy:"17.6",r:"3"},"2")],"ScatterPlot");function nj(e){return new Function("d","return {"+e.map(function(t,r){return JSON.stringify(t)+": d["+r+"]"}).join(",")+"}")}function cSe(e,t){var r=nj(e);return function(n,i){return t(r(n),i,e)}}function dSe(e){var t=Object.create(null),r=[];return e.forEach(function(n){for(var i in n)i in t||r.push(t[i]=i)}),r}function Tk(e){var t=new RegExp('["'+e+`
]`),r=e.charCodeAt(0);function n(m,x){var w,S,C=i(m,function(L,k){if(w)return w(L,k-1);S=L,w=x?cSe(L,x):nj(L)});return C.columns=S,C}function i(m,x){var w={},S={},C=[],L=m.length,k=0,$=0,M,z;function B(){if(k>=L)return S;if(z)return z=!1,w;var te=k,K;if(m.charCodeAt(te)===34){for(var ee=te;ee++<L;)if(m.charCodeAt(ee)===34){if(m.charCodeAt(ee+1)!==34)break;++ee}return k=ee+2,K=m.charCodeAt(ee+1),K===13?(z=!0,m.charCodeAt(ee+2)===10&&++k):K===10&&(z=!0),m.slice(te+1,ee).replace(/""/g,'"')}for(;k<L;){var Q=1;if(K=m.charCodeAt(k++),K===10)z=!0;else if(K===13)z=!0,m.charCodeAt(k)===10&&(++k,++Q);else if(K!==r)continue;return m.slice(te,k-Q)}return m.slice(te)}for(;(M=B())!==S;){for(var q=[];M!==w&&M!==S;)q.push(M),M=B();x&&(q=x(q,$++))==null||C.push(q)}return C}function a(m,x){return x==null&&(x=dSe(m)),[x.map(f).join(e)].concat(m.map(function(w){return x.map(function(S){return f(w[S])}).join(e)})).join(`
`)}function u(m){return m.map(s).join(`
`)}function s(m){return m.map(f).join(e)}function f(m){return m==null?"":t.test(m+="")?'"'+m.replace(/\"/g,'""')+'"':m}return{parse:n,parseRows:i,format:a,formatRows:u}}var nS=Tk(","),hSe=nS.parse,fSe=nS.parseRows,pSe=nS.format,mSe=nS.formatRows,iS=Tk("	"),gSe=iS.parse,ySe=iS.parseRows,vSe=iS.format,bSe=iS.formatRows;const xSe=Object.freeze(Object.defineProperty({__proto__:null,csvFormat:pSe,csvFormatRows:mSe,csvParse:hSe,csvParseRows:fSe,dsvFormat:Tk,tsvFormat:vSe,tsvFormatRows:bSe,tsvParse:gSe,tsvParseRows:ySe},Symbol.toStringTag,{value:"Module"})),_Se=Y8(xSe);var Uy={exports:{}};Uy.exports=wSe;Uy.exports.pair=CSe;Uy.exports.format=FA;Uy.exports.formatPair=SSe;Uy.exports.coordToDMS=ij;function wSe(e,t){var r=$A(e,t);return r===null?null:r.val}function SSe(e){return FA(e.lat,"lat")+" "+FA(e.lon,"lon")}function FA(e,t){var r=ij(e,t);return r.whole+"° "+(r.minutes?r.minutes+"' ":"")+(r.seconds?r.seconds+'" ':"")+r.dir}function ij(e,t){var r={lat:["N","S"],lon:["E","W"]}[t]||"",n=r[e>=0?0:1],i=Math.abs(e),a=Math.floor(i),u=i-a,s=u*60,f=Math.floor(s),m=Math.floor((s-f)*60);return{whole:a,minutes:f,seconds:m,dir:n}}function $A(e,t){if(t||(t="NSEW"),typeof e!="string")return null;e=e.toUpperCase();var r=/^[\s\,]*([NSEW])?\s*([\-|\—|\―]?[0-9.]+)[°º˚]?\s*(?:([0-9.]+)['’′‘]\s*)?(?:([0-9.]+)(?:''|"|”|″)\s*)?([NSEW])?/,n=e.match(r);if(!n)return null;var i=n[0],a;if(n[1]&&n[5]?(a=n[1],i=i.slice(0,-1)):a=n[1]||n[5],a&&t.indexOf(a)===-1)return null;var u=n[2]?parseFloat(n[2]):0,s=n[3]?parseFloat(n[3])/60:0,f=n[4]?parseFloat(n[4])/3600:0,m=u<0?-1:1;return(a==="S"||a==="W")&&(m*=-1),{val:(Math.abs(u)+s+f)*m,dim:a,matched:i,remain:e.slice(i.length)}}function CSe(e,t){e=e.trim();var r=$A(e,t);if(!r)return null;e=r.remain.trim();var n=$A(e,t);return!n||n.remain?null:r.dim?ESe(r.val,n.val,r.dim):[r.val,n.val]}function ESe(e,t,r){if(r==="N"||r==="S")return[e,t];if(r==="W"||r==="E")return[t,e]}var ASe=Uy.exports,z0=_Se,zO=ASe,oj=/(Lat)(itude)?/gi,aj=/(L)(on|ng)(gitude)?/i;function sj(e,t){var r,n,i;for(var a in e)n=a.match(t),n&&(!r||n[0].length/a.length>i)&&(i=n[0].length/a.length,r=a);return r}function lj(e){return sj(e,oj)}function uj(e){return sj(e,aj)}function TSe(e){return!!e.match(oj)}function PSe(e){return!!e.match(aj)}function jO(e){return typeof e=="object"?Object.keys(e).length:0}function cj(e){var t=[",",";","	","|"],r=[];return t.forEach(function(n){var i=z0.dsvFormat(n).parse(e);if(i.length>=1){for(var a=jO(i[0]),u=0;u<i.length;u++)if(jO(i[u])!==a)return;r.push({delimiter:n,arity:Object.keys(i[0]).length})}}),r.length?r.sort(function(n,i){return i.arity-n.arity})[0].delimiter:null}function kSe(e){return delete e.columns,e}function ISe(e){var t=cj(e);return t?kSe(z0.dsvFormat(t).parse(e)):null}function LSe(e,t,r){r||(r=t,t={}),t.delimiter=t.delimiter||",";var n=t.latfield||"",i=t.lonfield||"",a=t.crs||"",u=[],s={type:"FeatureCollection",features:u};if(a!==""&&(s.crs={type:"name",properties:{name:a}}),t.delimiter==="auto"&&typeof e=="string"&&(t.delimiter=cj(e),!t.delimiter)){r({type:"Error",message:"Could not autodetect delimiter"});return}var f=t.numericFields?t.numericFields.split(","):null,m=typeof e=="string"?z0.dsvFormat(t.delimiter).parse(e,function(z){if(f)for(var B in z)f.includes(B)&&(z[B]=+z[B]);return z}):e;if(!m.length){r(null,s);return}var x=[],w;n||(n=lj(m[0])),i||(i=uj(m[0]));var S=!n||!i;if(S){for(w=0;w<m.length;w++)u.push({type:"Feature",properties:m[w],geometry:null});r(x.length?x:null,s);return}for(w=0;w<m.length;w++)if(m[w][i]!==void 0&&m[w][n]!==void 0){var C=m[w][i],L=m[w][n],k,$,M;M=zO(C,"EW"),M&&(C=M),M=zO(L,"NS"),M&&(L=M),k=parseFloat(C),$=parseFloat(L),isNaN(k)||isNaN($)?x.push({message:"A row contained an invalid value for latitude or longitude",row:m[w],index:w}):(t.includeLatLon||(delete m[w][i],delete m[w][n]),u.push({type:"Feature",properties:m[w],geometry:{type:"Point",coordinates:[parseFloat(k),parseFloat($)]}}))}r(x.length?x:null,s)}function MSe(e){for(var t=e.features,r={type:"Feature",geometry:{type:"LineString",coordinates:[]}},n=0;n<t.length;n++)r.geometry.coordinates.push(t[n].geometry.coordinates);return r.properties=t.reduce(function(i,a){for(var u in a.properties)i[u]||(i[u]=[]),i[u].push(a.properties[u]);return i},{}),{type:"FeatureCollection",features:[r]}}function RSe(e){for(var t=e.features,r={type:"Feature",geometry:{type:"Polygon",coordinates:[[]]}},n=0;n<t.length;n++)r.geometry.coordinates[0].push(t[n].geometry.coordinates);return r.properties=t.reduce(function(i,a){for(var u in a.properties)i[u]||(i[u]=[]),i[u].push(a.properties[u]);return i},{}),{type:"FeatureCollection",features:[r]}}z0.csvParse,z0.tsvParse;var DSe={value:()=>{}};function dj(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new t_(r)}function t_(e){this._=e}function OSe(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}t_.prototype=dj.prototype={constructor:t_,on:function(e,t){var r=this._,n=OSe(e+"",r),i,a=-1,u=n.length;if(arguments.length<2){for(;++a<u;)if((i=(e=n[a]).type)&&(i=NSe(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<u;)if(i=(e=n[a]).type)r[i]=UO(r[i],e.name,t);else if(t==null)for(i in r)r[i]=UO(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new t_(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,a;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],n=0,i=a.length;n<i;++n)a[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,a=n.length;i<a;++i)n[i].value.apply(t,r)}};function NSe(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function UO(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=DSe,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var BA="http://www.w3.org/1999/xhtml";const VO={svg:"http://www.w3.org/2000/svg",xhtml:BA,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function oS(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),VO.hasOwnProperty(t)?{space:VO[t],local:e}:e}function FSe(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===BA&&t.documentElement.namespaceURI===BA?t.createElement(e):t.createElementNS(r,e)}}function $Se(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function hj(e){var t=oS(e);return(t.local?$Se:FSe)(t)}function BSe(){}function Pk(e){return e==null?BSe:function(){return this.querySelector(e)}}function zSe(e){typeof e!="function"&&(e=Pk(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a=t[i],u=a.length,s=n[i]=new Array(u),f,m,x=0;x<u;++x)(f=a[x])&&(m=e.call(f,f.__data__,x,a))&&("__data__"in f&&(m.__data__=f.__data__),s[x]=m);return new ad(n,this._parents)}function jSe(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function USe(){return[]}function fj(e){return e==null?USe:function(){return this.querySelectorAll(e)}}function VSe(e){return function(){return jSe(e.apply(this,arguments))}}function qSe(e){typeof e=="function"?e=VSe(e):e=fj(e);for(var t=this._groups,r=t.length,n=[],i=[],a=0;a<r;++a)for(var u=t[a],s=u.length,f,m=0;m<s;++m)(f=u[m])&&(n.push(e.call(f,f.__data__,m,u)),i.push(f));return new ad(n,i)}function pj(e){return function(){return this.matches(e)}}function mj(e){return function(t){return t.matches(e)}}var HSe=Array.prototype.find;function WSe(e){return function(){return HSe.call(this.children,e)}}function GSe(){return this.firstElementChild}function KSe(e){return this.select(e==null?GSe:WSe(typeof e=="function"?e:mj(e)))}var XSe=Array.prototype.filter;function ZSe(){return Array.from(this.children)}function YSe(e){return function(){return XSe.call(this.children,e)}}function JSe(e){return this.selectAll(e==null?ZSe:YSe(typeof e=="function"?e:mj(e)))}function QSe(e){typeof e!="function"&&(e=pj(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a=t[i],u=a.length,s=n[i]=[],f,m=0;m<u;++m)(f=a[m])&&e.call(f,f.__data__,m,a)&&s.push(f);return new ad(n,this._parents)}function gj(e){return new Array(e.length)}function eCe(){return new ad(this._enter||this._groups.map(gj),this._parents)}function rw(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}rw.prototype={constructor:rw,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function tCe(e){return function(){return e}}function rCe(e,t,r,n,i,a){for(var u=0,s,f=t.length,m=a.length;u<m;++u)(s=t[u])?(s.__data__=a[u],n[u]=s):r[u]=new rw(e,a[u]);for(;u<f;++u)(s=t[u])&&(i[u]=s)}function nCe(e,t,r,n,i,a,u){var s,f,m=new Map,x=t.length,w=a.length,S=new Array(x),C;for(s=0;s<x;++s)(f=t[s])&&(S[s]=C=u.call(f,f.__data__,s,t)+"",m.has(C)?i[s]=f:m.set(C,f));for(s=0;s<w;++s)C=u.call(e,a[s],s,a)+"",(f=m.get(C))?(n[s]=f,f.__data__=a[s],m.delete(C)):r[s]=new rw(e,a[s]);for(s=0;s<x;++s)(f=t[s])&&m.get(S[s])===f&&(i[s]=f)}function iCe(e){return e.__data__}function oCe(e,t){if(!arguments.length)return Array.from(this,iCe);var r=t?nCe:rCe,n=this._parents,i=this._groups;typeof e!="function"&&(e=tCe(e));for(var a=i.length,u=new Array(a),s=new Array(a),f=new Array(a),m=0;m<a;++m){var x=n[m],w=i[m],S=w.length,C=aCe(e.call(x,x&&x.__data__,m,n)),L=C.length,k=s[m]=new Array(L),$=u[m]=new Array(L),M=f[m]=new Array(S);r(x,w,k,$,M,C,t);for(var z=0,B=0,q,te;z<L;++z)if(q=k[z]){for(z>=B&&(B=z+1);!(te=$[B])&&++B<L;);q._next=te||null}}return u=new ad(u,n),u._enter=s,u._exit=f,u}function aCe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function sCe(){return new ad(this._exit||this._groups.map(gj),this._parents)}function lCe(e,t,r){var n=this.enter(),i=this,a=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?a.remove():r(a),n&&i?n.merge(i).order():i}function uCe(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,a=n.length,u=Math.min(i,a),s=new Array(i),f=0;f<u;++f)for(var m=r[f],x=n[f],w=m.length,S=s[f]=new Array(w),C,L=0;L<w;++L)(C=m[L]||x[L])&&(S[L]=C);for(;f<i;++f)s[f]=r[f];return new ad(s,this._parents)}function cCe(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,a=n[i],u;--i>=0;)(u=n[i])&&(a&&u.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(u,a),a=u);return this}function dCe(e){e||(e=hCe);function t(w,S){return w&&S?e(w.__data__,S.__data__):!w-!S}for(var r=this._groups,n=r.length,i=new Array(n),a=0;a<n;++a){for(var u=r[a],s=u.length,f=i[a]=new Array(s),m,x=0;x<s;++x)(m=u[x])&&(f[x]=m);f.sort(t)}return new ad(i,this._parents).order()}function hCe(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function fCe(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function pCe(){return Array.from(this)}function mCe(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,a=n.length;i<a;++i){var u=n[i];if(u)return u}return null}function gCe(){let e=0;for(const t of this)++e;return e}function yCe(){return!this.node()}function vCe(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],a=0,u=i.length,s;a<u;++a)(s=i[a])&&e.call(s,s.__data__,a,i);return this}function bCe(e){return function(){this.removeAttribute(e)}}function xCe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function _Ce(e,t){return function(){this.setAttribute(e,t)}}function wCe(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function SCe(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function CCe(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function ECe(e,t){var r=oS(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?xCe:bCe:typeof t=="function"?r.local?CCe:SCe:r.local?wCe:_Ce)(r,t))}function yj(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function ACe(e){return function(){this.style.removeProperty(e)}}function TCe(e,t,r){return function(){this.style.setProperty(e,t,r)}}function PCe(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function kCe(e,t,r){return arguments.length>1?this.each((t==null?ACe:typeof t=="function"?PCe:TCe)(e,t,r??"")):vy(this.node(),e)}function vy(e,t){return e.style.getPropertyValue(t)||yj(e).getComputedStyle(e,null).getPropertyValue(t)}function ICe(e){return function(){delete this[e]}}function LCe(e,t){return function(){this[e]=t}}function MCe(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function RCe(e,t){return arguments.length>1?this.each((t==null?ICe:typeof t=="function"?MCe:LCe)(e,t)):this.node()[e]}function vj(e){return e.trim().split(/^|\s+/)}function kk(e){return e.classList||new bj(e)}function bj(e){this._node=e,this._names=vj(e.getAttribute("class")||"")}bj.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function xj(e,t){for(var r=kk(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function _j(e,t){for(var r=kk(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function DCe(e){return function(){xj(this,e)}}function OCe(e){return function(){_j(this,e)}}function NCe(e,t){return function(){(t.apply(this,arguments)?xj:_j)(this,e)}}function FCe(e,t){var r=vj(e+"");if(arguments.length<2){for(var n=kk(this.node()),i=-1,a=r.length;++i<a;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?NCe:t?DCe:OCe)(r,t))}function $Ce(){this.textContent=""}function BCe(e){return function(){this.textContent=e}}function zCe(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function jCe(e){return arguments.length?this.each(e==null?$Ce:(typeof e=="function"?zCe:BCe)(e)):this.node().textContent}function UCe(){this.innerHTML=""}function VCe(e){return function(){this.innerHTML=e}}function qCe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function HCe(e){return arguments.length?this.each(e==null?UCe:(typeof e=="function"?qCe:VCe)(e)):this.node().innerHTML}function WCe(){this.nextSibling&&this.parentNode.appendChild(this)}function GCe(){return this.each(WCe)}function KCe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function XCe(){return this.each(KCe)}function ZCe(e){var t=typeof e=="function"?e:hj(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function YCe(){return null}function JCe(e,t){var r=typeof e=="function"?e:hj(e),n=t==null?YCe:typeof t=="function"?t:Pk(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function QCe(){var e=this.parentNode;e&&e.removeChild(this)}function e3e(){return this.each(QCe)}function t3e(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function r3e(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function n3e(e){return this.select(e?r3e:t3e)}function i3e(e){return arguments.length?this.property("__data__",e):this.node().__data__}function o3e(e){return function(t){e.call(this,t,this.__data__)}}function a3e(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function s3e(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,i=t.length,a;r<i;++r)a=t[r],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++n]=a;++n?t.length=n:delete this.__on}}}function l3e(e,t,r){return function(){var n=this.__on,i,a=o3e(t);if(n){for(var u=0,s=n.length;u<s;++u)if((i=n[u]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=r),i.value=t;return}}this.addEventListener(e.type,a,r),i={type:e.type,name:e.name,value:t,listener:a,options:r},n?n.push(i):this.__on=[i]}}function u3e(e,t,r){var n=a3e(e+""),i,a=n.length,u;if(arguments.length<2){var s=this.node().__on;if(s){for(var f=0,m=s.length,x;f<m;++f)for(i=0,x=s[f];i<a;++i)if((u=n[i]).type===x.type&&u.name===x.name)return x.value}return}for(s=t?l3e:s3e,i=0;i<a;++i)this.each(s(n[i],t,r));return this}function wj(e,t,r){var n=yj(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function c3e(e,t){return function(){return wj(this,e,t)}}function d3e(e,t){return function(){return wj(this,e,t.apply(this,arguments))}}function h3e(e,t){return this.each((typeof t=="function"?d3e:c3e)(e,t))}function*f3e(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,a=n.length,u;i<a;++i)(u=n[i])&&(yield u)}var p3e=[null];function ad(e,t){this._groups=e,this._parents=t}function u2(){return new ad([[document.documentElement]],p3e)}function m3e(){return this}ad.prototype=u2.prototype={constructor:ad,select:zSe,selectAll:qSe,selectChild:KSe,selectChildren:JSe,filter:QSe,data:oCe,enter:eCe,exit:sCe,join:lCe,merge:uCe,selection:m3e,order:cCe,sort:dCe,call:fCe,nodes:pCe,node:mCe,size:gCe,empty:yCe,each:vCe,attr:ECe,style:kCe,property:RCe,classed:FCe,text:jCe,html:HCe,raise:GCe,lower:XCe,append:ZCe,insert:JCe,remove:e3e,clone:n3e,datum:i3e,on:u3e,dispatch:h3e,[Symbol.iterator]:f3e};function Ik(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Sj(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function c2(){}var _b=.7,nw=1/_b,j0="\\s*([+-]?\\d+)\\s*",wb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",oh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",g3e=/^#([0-9a-f]{3,8})$/,y3e=new RegExp(`^rgb\\(${j0},${j0},${j0}\\)$`),v3e=new RegExp(`^rgb\\(${oh},${oh},${oh}\\)$`),b3e=new RegExp(`^rgba\\(${j0},${j0},${j0},${wb}\\)$`),x3e=new RegExp(`^rgba\\(${oh},${oh},${oh},${wb}\\)$`),_3e=new RegExp(`^hsl\\(${wb},${oh},${oh}\\)$`),w3e=new RegExp(`^hsla\\(${wb},${oh},${oh},${wb}\\)$`),qO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ik(c2,Sb,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:HO,formatHex:HO,formatHex8:S3e,formatHsl:C3e,formatRgb:WO,toString:WO});function HO(){return this.rgb().formatHex()}function S3e(){return this.rgb().formatHex8()}function C3e(){return Cj(this).formatHsl()}function WO(){return this.rgb().formatRgb()}function Sb(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=g3e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?GO(t):r===3?new tu(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Sx(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Sx(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=y3e.exec(e))?new tu(t[1],t[2],t[3],1):(t=v3e.exec(e))?new tu(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=b3e.exec(e))?Sx(t[1],t[2],t[3],t[4]):(t=x3e.exec(e))?Sx(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=_3e.exec(e))?ZO(t[1],t[2]/100,t[3]/100,1):(t=w3e.exec(e))?ZO(t[1],t[2]/100,t[3]/100,t[4]):qO.hasOwnProperty(e)?GO(qO[e]):e==="transparent"?new tu(NaN,NaN,NaN,0):null}function GO(e){return new tu(e>>16&255,e>>8&255,e&255,1)}function Sx(e,t,r,n){return n<=0&&(e=t=r=NaN),new tu(e,t,r,n)}function E3e(e){return e instanceof c2||(e=Sb(e)),e?(e=e.rgb(),new tu(e.r,e.g,e.b,e.opacity)):new tu}function zA(e,t,r,n){return arguments.length===1?E3e(e):new tu(e,t,r,n??1)}function tu(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Ik(tu,zA,Sj(c2,{brighter(e){return e=e==null?nw:Math.pow(nw,e),new tu(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?_b:Math.pow(_b,e),new tu(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new tu(ym(this.r),ym(this.g),ym(this.b),iw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:KO,formatHex:KO,formatHex8:A3e,formatRgb:XO,toString:XO}));function KO(){return`#${rm(this.r)}${rm(this.g)}${rm(this.b)}`}function A3e(){return`#${rm(this.r)}${rm(this.g)}${rm(this.b)}${rm((isNaN(this.opacity)?1:this.opacity)*255)}`}function XO(){const e=iw(this.opacity);return`${e===1?"rgb(":"rgba("}${ym(this.r)}, ${ym(this.g)}, ${ym(this.b)}${e===1?")":`, ${e})`}`}function iw(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ym(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function rm(e){return e=ym(e),(e<16?"0":"")+e.toString(16)}function ZO(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Qc(e,t,r,n)}function Cj(e){if(e instanceof Qc)return new Qc(e.h,e.s,e.l,e.opacity);if(e instanceof c2||(e=Sb(e)),!e)return new Qc;if(e instanceof Qc)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),u=NaN,s=a-i,f=(a+i)/2;return s?(t===a?u=(r-n)/s+(r<n)*6:r===a?u=(n-t)/s+2:u=(t-r)/s+4,s/=f<.5?a+i:2-a-i,u*=60):s=f>0&&f<1?0:u,new Qc(u,s,f,e.opacity)}function T3e(e,t,r,n){return arguments.length===1?Cj(e):new Qc(e,t,r,n??1)}function Qc(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Ik(Qc,T3e,Sj(c2,{brighter(e){return e=e==null?nw:Math.pow(nw,e),new Qc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?_b:Math.pow(_b,e),new Qc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new tu(F3(e>=240?e-240:e+120,i,n),F3(e,i,n),F3(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Qc(YO(this.h),Cx(this.s),Cx(this.l),iw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=iw(this.opacity);return`${e===1?"hsl(":"hsla("}${YO(this.h)}, ${Cx(this.s)*100}%, ${Cx(this.l)*100}%${e===1?")":`, ${e})`}`}}));function YO(e){return e=(e||0)%360,e<0?e+360:e}function Cx(e){return Math.max(0,Math.min(1,e||0))}function F3(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Ej=e=>()=>e;function P3e(e,t){return function(r){return e+r*t}}function k3e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function I3e(e){return(e=+e)==1?Aj:function(t,r){return r-t?k3e(t,r,e):Ej(isNaN(t)?r:t)}}function Aj(e,t){var r=t-e;return r?P3e(e,r):Ej(isNaN(e)?t:e)}const JO=function e(t){var r=I3e(t);function n(i,a){var u=r((i=zA(i)).r,(a=zA(a)).r),s=r(i.g,a.g),f=r(i.b,a.b),m=Aj(i.opacity,a.opacity);return function(x){return i.r=u(x),i.g=s(x),i.b=f(x),i.opacity=m(x),i+""}}return n.gamma=e,n}(1);function Nf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var jA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$3=new RegExp(jA.source,"g");function L3e(e){return function(){return e}}function M3e(e){return function(t){return e(t)+""}}function R3e(e,t){var r=jA.lastIndex=$3.lastIndex=0,n,i,a,u=-1,s=[],f=[];for(e=e+"",t=t+"";(n=jA.exec(e))&&(i=$3.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),s[u]?s[u]+=a:s[++u]=a),(n=n[0])===(i=i[0])?s[u]?s[u]+=i:s[++u]=i:(s[++u]=null,f.push({i:u,x:Nf(n,i)})),r=$3.lastIndex;return r<t.length&&(a=t.slice(r),s[u]?s[u]+=a:s[++u]=a),s.length<2?f[0]?M3e(f[0].x):L3e(t):(t=f.length,function(m){for(var x=0,w;x<t;++x)s[(w=f[x]).i]=w.x(m);return s.join("")})}var QO=180/Math.PI,UA={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Tj(e,t,r,n,i,a){var u,s,f;return(u=Math.sqrt(e*e+t*t))&&(e/=u,t/=u),(f=e*r+t*n)&&(r-=e*f,n-=t*f),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,f/=s),e*n<t*r&&(e=-e,t=-t,f=-f,u=-u),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*QO,skewX:Math.atan(f)*QO,scaleX:u,scaleY:s}}var Ex;function D3e(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?UA:Tj(t.a,t.b,t.c,t.d,t.e,t.f)}function O3e(e){return e==null||(Ex||(Ex=document.createElementNS("http://www.w3.org/2000/svg","g")),Ex.setAttribute("transform",e),!(e=Ex.transform.baseVal.consolidate()))?UA:(e=e.matrix,Tj(e.a,e.b,e.c,e.d,e.e,e.f))}function Pj(e,t,r,n){function i(m){return m.length?m.pop()+" ":""}function a(m,x,w,S,C,L){if(m!==w||x!==S){var k=C.push("translate(",null,t,null,r);L.push({i:k-4,x:Nf(m,w)},{i:k-2,x:Nf(x,S)})}else(w||S)&&C.push("translate("+w+t+S+r)}function u(m,x,w,S){m!==x?(m-x>180?x+=360:x-m>180&&(m+=360),S.push({i:w.push(i(w)+"rotate(",null,n)-2,x:Nf(m,x)})):x&&w.push(i(w)+"rotate("+x+n)}function s(m,x,w,S){m!==x?S.push({i:w.push(i(w)+"skewX(",null,n)-2,x:Nf(m,x)}):x&&w.push(i(w)+"skewX("+x+n)}function f(m,x,w,S,C,L){if(m!==w||x!==S){var k=C.push(i(C)+"scale(",null,",",null,")");L.push({i:k-4,x:Nf(m,w)},{i:k-2,x:Nf(x,S)})}else(w!==1||S!==1)&&C.push(i(C)+"scale("+w+","+S+")")}return function(m,x){var w=[],S=[];return m=e(m),x=e(x),a(m.translateX,m.translateY,x.translateX,x.translateY,w,S),u(m.rotate,x.rotate,w,S),s(m.skewX,x.skewX,w,S),f(m.scaleX,m.scaleY,x.scaleX,x.scaleY,w,S),m=x=null,function(C){for(var L=-1,k=S.length,$;++L<k;)w[($=S[L]).i]=$.x(C);return w.join("")}}}var N3e=Pj(D3e,"px, ","px)","deg)"),F3e=Pj(O3e,", ",")",")"),by=0,l1=0,Vv=0,kj=1e3,ow,u1,aw=0,Rm=0,aS=0,Cb=typeof performance=="object"&&performance.now?performance:Date,Ij=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Lk(){return Rm||(Ij($3e),Rm=Cb.now()+aS)}function $3e(){Rm=0}function sw(){this._call=this._time=this._next=null}sw.prototype=Lj.prototype={constructor:sw,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Lk():+r)+(t==null?0:+t),!this._next&&u1!==this&&(u1?u1._next=this:ow=this,u1=this),this._call=e,this._time=r,VA()},stop:function(){this._call&&(this._call=null,this._time=1/0,VA())}};function Lj(e,t,r){var n=new sw;return n.restart(e,t,r),n}function B3e(){Lk(),++by;for(var e=ow,t;e;)(t=Rm-e._time)>=0&&e._call.call(void 0,t),e=e._next;--by}function eN(){Rm=(aw=Cb.now())+aS,by=l1=0;try{B3e()}finally{by=0,j3e(),Rm=0}}function z3e(){var e=Cb.now(),t=e-aw;t>kj&&(aS-=t,aw=e)}function j3e(){for(var e,t=ow,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:ow=r);u1=e,VA(n)}function VA(e){if(!by){l1&&(l1=clearTimeout(l1));var t=e-Rm;t>24?(e<1/0&&(l1=setTimeout(eN,e-Cb.now()-aS)),Vv&&(Vv=clearInterval(Vv))):(Vv||(aw=Cb.now(),Vv=setInterval(z3e,kj)),by=1,Ij(eN))}}function tN(e,t,r){var n=new sw;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}var U3e=dj("start","end","cancel","interrupt"),V3e=[],Mj=0,rN=1,qA=2,r_=3,nN=4,HA=5,n_=6;function sS(e,t,r,n,i,a){var u=e.__transition;if(!u)e.__transition={};else if(r in u)return;q3e(e,r,{name:t,index:n,group:i,on:U3e,tween:V3e,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Mj})}function Mk(e,t){var r=hd(e,t);if(r.state>Mj)throw new Error("too late; already scheduled");return r}function ch(e,t){var r=hd(e,t);if(r.state>r_)throw new Error("too late; already running");return r}function hd(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function q3e(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=Lj(a,0,r.time);function a(m){r.state=rN,r.timer.restart(u,r.delay,r.time),r.delay<=m&&u(m-r.delay)}function u(m){var x,w,S,C;if(r.state!==rN)return f();for(x in n)if(C=n[x],C.name===r.name){if(C.state===r_)return tN(u);C.state===nN?(C.state=n_,C.timer.stop(),C.on.call("interrupt",e,e.__data__,C.index,C.group),delete n[x]):+x<t&&(C.state=n_,C.timer.stop(),C.on.call("cancel",e,e.__data__,C.index,C.group),delete n[x])}if(tN(function(){r.state===r_&&(r.state=nN,r.timer.restart(s,r.delay,r.time),s(m))}),r.state=qA,r.on.call("start",e,e.__data__,r.index,r.group),r.state===qA){for(r.state=r_,i=new Array(S=r.tween.length),x=0,w=-1;x<S;++x)(C=r.tween[x].value.call(e,e.__data__,r.index,r.group))&&(i[++w]=C);i.length=w+1}}function s(m){for(var x=m<r.duration?r.ease.call(null,m/r.duration):(r.timer.restart(f),r.state=HA,1),w=-1,S=i.length;++w<S;)i[w].call(e,x);r.state===HA&&(r.on.call("end",e,e.__data__,r.index,r.group),f())}function f(){r.state=n_,r.timer.stop(),delete n[t];for(var m in n)return;delete e.__transition}}function H3e(e,t){var r=e.__transition,n,i,a=!0,u;if(r){t=t==null?null:t+"";for(u in r){if((n=r[u]).name!==t){a=!1;continue}i=n.state>qA&&n.state<HA,n.state=n_,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[u]}a&&delete e.__transition}}function W3e(e){return this.each(function(){H3e(this,e)})}function G3e(e,t){var r,n;return function(){var i=ch(this,e),a=i.tween;if(a!==r){n=r=a;for(var u=0,s=n.length;u<s;++u)if(n[u].name===t){n=n.slice(),n.splice(u,1);break}}i.tween=n}}function K3e(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var a=ch(this,e),u=a.tween;if(u!==n){i=(n=u).slice();for(var s={name:t,value:r},f=0,m=i.length;f<m;++f)if(i[f].name===t){i[f]=s;break}f===m&&i.push(s)}a.tween=i}}function X3e(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=hd(this.node(),r).tween,i=0,a=n.length,u;i<a;++i)if((u=n[i]).name===e)return u.value;return null}return this.each((t==null?G3e:K3e)(r,e,t))}function Rk(e,t,r){var n=e._id;return e.each(function(){var i=ch(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return hd(i,n).value[t]}}function Rj(e,t){var r;return(typeof t=="number"?Nf:t instanceof Sb?JO:(r=Sb(t))?(t=r,JO):R3e)(e,t)}function Z3e(e){return function(){this.removeAttribute(e)}}function Y3e(e){return function(){this.removeAttributeNS(e.space,e.local)}}function J3e(e,t,r){var n,i=r+"",a;return function(){var u=this.getAttribute(e);return u===i?null:u===n?a:a=t(n=u,r)}}function Q3e(e,t,r){var n,i=r+"",a;return function(){var u=this.getAttributeNS(e.space,e.local);return u===i?null:u===n?a:a=t(n=u,r)}}function eEe(e,t,r){var n,i,a;return function(){var u,s=r(this),f;return s==null?void this.removeAttribute(e):(u=this.getAttribute(e),f=s+"",u===f?null:u===n&&f===i?a:(i=f,a=t(n=u,s)))}}function tEe(e,t,r){var n,i,a;return function(){var u,s=r(this),f;return s==null?void this.removeAttributeNS(e.space,e.local):(u=this.getAttributeNS(e.space,e.local),f=s+"",u===f?null:u===n&&f===i?a:(i=f,a=t(n=u,s)))}}function rEe(e,t){var r=oS(e),n=r==="transform"?F3e:Rj;return this.attrTween(e,typeof t=="function"?(r.local?tEe:eEe)(r,n,Rk(this,"attr."+e,t)):t==null?(r.local?Y3e:Z3e)(r):(r.local?Q3e:J3e)(r,n,t))}function nEe(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function iEe(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function oEe(e,t){var r,n;function i(){var a=t.apply(this,arguments);return a!==n&&(r=(n=a)&&iEe(e,a)),r}return i._value=t,i}function aEe(e,t){var r,n;function i(){var a=t.apply(this,arguments);return a!==n&&(r=(n=a)&&nEe(e,a)),r}return i._value=t,i}function sEe(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=oS(e);return this.tween(r,(n.local?oEe:aEe)(n,t))}function lEe(e,t){return function(){Mk(this,e).delay=+t.apply(this,arguments)}}function uEe(e,t){return t=+t,function(){Mk(this,e).delay=t}}function cEe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?lEe:uEe)(t,e)):hd(this.node(),t).delay}function dEe(e,t){return function(){ch(this,e).duration=+t.apply(this,arguments)}}function hEe(e,t){return t=+t,function(){ch(this,e).duration=t}}function fEe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?dEe:hEe)(t,e)):hd(this.node(),t).duration}function pEe(e,t){if(typeof t!="function")throw new Error;return function(){ch(this,e).ease=t}}function mEe(e){var t=this._id;return arguments.length?this.each(pEe(t,e)):hd(this.node(),t).ease}function gEe(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;ch(this,e).ease=r}}function yEe(e){if(typeof e!="function")throw new Error;return this.each(gEe(this._id,e))}function vEe(e){typeof e!="function"&&(e=pj(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a=t[i],u=a.length,s=n[i]=[],f,m=0;m<u;++m)(f=a[m])&&e.call(f,f.__data__,m,a)&&s.push(f);return new tf(n,this._parents,this._name,this._id)}function bEe(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,a=Math.min(n,i),u=new Array(n),s=0;s<a;++s)for(var f=t[s],m=r[s],x=f.length,w=u[s]=new Array(x),S,C=0;C<x;++C)(S=f[C]||m[C])&&(w[C]=S);for(;s<n;++s)u[s]=t[s];return new tf(u,this._parents,this._name,this._id)}function xEe(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function _Ee(e,t,r){var n,i,a=xEe(t)?Mk:ch;return function(){var u=a(this,e),s=u.on;s!==n&&(i=(n=s).copy()).on(t,r),u.on=i}}function wEe(e,t){var r=this._id;return arguments.length<2?hd(this.node(),r).on.on(e):this.each(_Ee(r,e,t))}function SEe(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function CEe(){return this.on("end.remove",SEe(this._id))}function EEe(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Pk(e));for(var n=this._groups,i=n.length,a=new Array(i),u=0;u<i;++u)for(var s=n[u],f=s.length,m=a[u]=new Array(f),x,w,S=0;S<f;++S)(x=s[S])&&(w=e.call(x,x.__data__,S,s))&&("__data__"in x&&(w.__data__=x.__data__),m[S]=w,sS(m[S],t,r,S,m,hd(x,r)));return new tf(a,this._parents,t,r)}function AEe(e){var t=this._name,r=this._id;typeof e!="function"&&(e=fj(e));for(var n=this._groups,i=n.length,a=[],u=[],s=0;s<i;++s)for(var f=n[s],m=f.length,x,w=0;w<m;++w)if(x=f[w]){for(var S=e.call(x,x.__data__,w,f),C,L=hd(x,r),k=0,$=S.length;k<$;++k)(C=S[k])&&sS(C,t,r,k,S,L);a.push(S),u.push(x)}return new tf(a,u,t,r)}var TEe=u2.prototype.constructor;function PEe(){return new TEe(this._groups,this._parents)}function kEe(e,t){var r,n,i;return function(){var a=vy(this,e),u=(this.style.removeProperty(e),vy(this,e));return a===u?null:a===r&&u===n?i:i=t(r=a,n=u)}}function Dj(e){return function(){this.style.removeProperty(e)}}function IEe(e,t,r){var n,i=r+"",a;return function(){var u=vy(this,e);return u===i?null:u===n?a:a=t(n=u,r)}}function LEe(e,t,r){var n,i,a;return function(){var u=vy(this,e),s=r(this),f=s+"";return s==null&&(f=s=(this.style.removeProperty(e),vy(this,e))),u===f?null:u===n&&f===i?a:(i=f,a=t(n=u,s))}}function MEe(e,t){var r,n,i,a="style."+t,u="end."+a,s;return function(){var f=ch(this,e),m=f.on,x=f.value[a]==null?s||(s=Dj(t)):void 0;(m!==r||i!==x)&&(n=(r=m).copy()).on(u,i=x),f.on=n}}function REe(e,t,r){var n=(e+="")=="transform"?N3e:Rj;return t==null?this.styleTween(e,kEe(e,n)).on("end.style."+e,Dj(e)):typeof t=="function"?this.styleTween(e,LEe(e,n,Rk(this,"style."+e,t))).each(MEe(this._id,e)):this.styleTween(e,IEe(e,n,t),r).on("end.style."+e,null)}function DEe(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function OEe(e,t,r){var n,i;function a(){var u=t.apply(this,arguments);return u!==i&&(n=(i=u)&&DEe(e,u,r)),n}return a._value=t,a}function NEe(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,OEe(e,t,r??""))}function FEe(e){return function(){this.textContent=e}}function $Ee(e){return function(){var t=e(this);this.textContent=t??""}}function BEe(e){return this.tween("text",typeof e=="function"?$Ee(Rk(this,"text",e)):FEe(e==null?"":e+""))}function zEe(e){return function(t){this.textContent=e.call(this,t)}}function jEe(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&zEe(i)),t}return n._value=e,n}function UEe(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,jEe(e))}function VEe(){for(var e=this._name,t=this._id,r=Oj(),n=this._groups,i=n.length,a=0;a<i;++a)for(var u=n[a],s=u.length,f,m=0;m<s;++m)if(f=u[m]){var x=hd(f,t);sS(f,e,r,m,u,{time:x.time+x.delay+x.duration,delay:0,duration:x.duration,ease:x.ease})}return new tf(n,this._parents,e,r)}function qEe(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(a,u){var s={value:u},f={value:function(){--i===0&&a()}};r.each(function(){var m=ch(this,n),x=m.on;x!==e&&(t=(e=x).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(f)),m.on=t}),i===0&&a()})}var HEe=0;function tf(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function Oj(){return++HEe}var Mh=u2.prototype;tf.prototype={constructor:tf,select:EEe,selectAll:AEe,selectChild:Mh.selectChild,selectChildren:Mh.selectChildren,filter:vEe,merge:bEe,selection:PEe,transition:VEe,call:Mh.call,nodes:Mh.nodes,node:Mh.node,size:Mh.size,empty:Mh.empty,each:Mh.each,on:wEe,attr:rEe,attrTween:sEe,style:REe,styleTween:NEe,text:BEe,textTween:UEe,remove:CEe,tween:X3e,delay:cEe,duration:fEe,ease:mEe,easeVarying:yEe,end:qEe,[Symbol.iterator]:Mh[Symbol.iterator]};function WEe(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var GEe={time:null,delay:0,duration:250,ease:WEe};function KEe(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function XEe(e){var t,r;e instanceof tf?(t=e._id,e=e._name):(t=Oj(),(r=GEe).time=Lk(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,a=0;a<i;++a)for(var u=n[a],s=u.length,f,m=0;m<s;++m)(f=u[m])&&sS(f,e,t,m,u,r||KEe(f,t));return new tf(n,this._parents,e,t)}u2.prototype.interrupt=W3e;u2.prototype.transition=XEe;function c1(e,t,r){this.k=e,this.x=t,this.y=r}c1.prototype={constructor:c1,scale:function(e){return e===1?this:new c1(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new c1(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};c1.prototype;var Dk={},ZEe=sf;Object.defineProperty(Dk,"__esModule",{value:!0});var Nj=Dk.default=void 0,YEe=ZEe(lf()),JEe=$e;Nj=Dk.default=(0,YEe.default)((0,JEe.jsx)("path",{d:"M4 4h7V2H4c-1.1 0-2 .9-2 2v7h2zm6 9-4 5h12l-3-4-2.03 2.71zm7-4.5c0-.83-.67-1.5-1.5-1.5S14 7.67 14 8.5s.67 1.5 1.5 1.5S17 9.33 17 8.5M20 2h-7v2h7v7h2V4c0-1.1-.9-2-2-2m0 18h-7v2h7c1.1 0 2-.9 2-2v-7h-2zM4 13H2v7c0 1.1.9 2 2 2h7v-2H4z"}),"Wallpaper");var Ok={},QEe=sf;Object.defineProperty(Ok,"__esModule",{value:!0});var Fj=Ok.default=void 0,eAe=QEe(lf()),tAe=$e;Fj=Ok.default=(0,eAe.default)((0,tAe.jsx)("path",{d:"m11.99 18.54-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27z"}),"Layers");var Nk={},rAe=sf;Object.defineProperty(Nk,"__esModule",{value:!0});var $j=Nk.default=void 0,nAe=rAe(lf()),iAe=$e;$j=Nk.default=(0,nAe.default)((0,iAe.jsx)("path",{d:"m16.24 11.51 1.57-1.57-3.75-3.75-1.57 1.57-4.14-4.13c-.78-.78-2.05-.78-2.83 0l-1.9 1.9c-.78.78-.78 2.05 0 2.83l4.13 4.13L3 17.25V21h3.75l4.76-4.76 4.13 4.13c.95.95 2.23.6 2.83 0l1.9-1.9c.78-.78.78-2.05 0-2.83zm-7.06-.44L5.04 6.94l1.89-1.9L8.2 6.31 7.02 7.5l1.41 1.41 1.19-1.19 1.45 1.45zm7.88 7.89-4.13-4.13 1.9-1.9 1.45 1.45-1.19 1.19 1.41 1.41 1.19-1.19 1.27 1.27zm3.65-11.92c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.47-.47-1.12-.29-1.41 0l-1.83 1.83 3.75 3.75z"}),"DesignServices");var Fk={},oAe=sf;Object.defineProperty(Fk,"__esModule",{value:!0});var Bj=Fk.default=void 0,aAe=oAe(lf()),sAe=$e;Bj=Fk.default=(0,aAe.default)((0,sAe.jsx)("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5zm4-3H19v1h1.5V11H19v2h-1.5V7h3zM9 9.5h1v-1H9zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm10 5.5h1v-3h-1z"}),"PictureAsPdf");var un=function(){return un=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},un.apply(this,arguments)};function lS(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function lAe(e,t,r,n){function i(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function s(x){try{m(n.next(x))}catch(w){u(w)}}function f(x){try{m(n.throw(x))}catch(w){u(w)}}function m(x){x.done?a(x.value):i(x.value).then(s,f)}m((n=n.apply(e,[])).next())})}function uAe(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(m){return function(x){return f([m,x])}}function f(m){if(n)throw new TypeError("Generator is already executing.");for(;u&&(u=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(a=m[0]&2?i.return:m[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,m[1])).done)return a;switch(i=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){r.label=m[1];break}if(m[0]===6&&r.label<a[1]){r.label=a[1],a=m;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(m);break}a[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(x){m=[6,x],i=0}finally{n=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}function Uh(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var cAe=function(){function e(t){var r=this,n=this;this.registeredElements={},this.baseLayers=[],this.firstSymbolLayer=void 0,this.eventHandlers={layerchange:[],viewportchange:[],addsource:[],addlayer:[]},this.wrapper={on:function(f,m,x,w){if(n.eventHandlers[f]){typeof x=="string"&&(w=x,x={}),n.eventHandlers[f].push({handler:m,options:x});var S=[f,m];w&&typeof w=="string"&&(n.initRegisteredElements(w),n.registeredElements[w].wrapperEvents.push(S))}},off:function(f,m){n.eventHandlers[f]&&(n.eventHandlers[f]=n.eventHandlers[f].filter(function(x){return Object.is(x.handler,m)?!1:x}))},fire:function(f,m){if(n.eventHandlers[f]){var x=m||window,w=new Event(f);n.eventHandlers[f].forEach(function(S){S.handler.call(x,w,n,m)})}},layerState:[],layerStateString:"",oldLayerStateStrings:{},buildLayerObject:function(f){if(f)return{id:f.id,type:f.type,visible:f.visibility!=="none",baseLayer:n.baseLayers.indexOf(f.id)!==-1}},buildLayerObjects:function(){return n.map.style._order.map(function(f){return n.wrapper.buildLayerObject(n.map.style._layers[f])}).filter(function(f){return typeof f<"u"})},refreshLayerState:function(){n.wrapper.layerState=n.wrapper.buildLayerObjects(),JSON.stringify(n.wrapper.layerState)!==n.wrapper.layerStateString&&(n.wrapper.fire("layerchange"),n.wrapper.layerStateString=JSON.stringify(n.wrapper.layerState))},viewportState:{center:{lng:0,lat:0},zoom:0,bearing:0,pitch:0},viewportStateString:"{}",oldViewportStateString:"{}",getViewport:function(){return typeof n.map.getCenter=="function"?{center:function(f){var m=f.lng,x=f.lat;return{lng:m,lat:x}}(n.map.getCenter()),zoom:n.map.getZoom(),bearing:n.map.getBearing(),pitch:n.map.getPitch()}:{center:{lng:0,lat:0},zoom:0,bearing:0,pitch:0}},refreshViewport:function(){n.wrapper.viewportState=n.wrapper.getViewport()}},this.cancelled=!1,this.initRegisteredElements=function(f,m){(typeof n.registeredElements[f]>"u"||typeof m<"u"&&m)&&(n.registeredElements[f]={layers:[],sources:[],images:[],events:[],controls:[],wrapperEvents:[]})},this.addLayer=function(f,m,x){return n.map.style&&(x&&typeof x=="string"&&typeof f.id<"u"&&(n.initRegisteredElements(x),n.registeredElements[x].layers.push(f.id),f!=null&&f.source&&typeof(f==null?void 0:f.source)!="string"&&n.registeredElements[x].sources.push(f.id)),n.map.addLayer(f,m),n.wrapper.fire("addlayer",{layer_id:f.id})),r},this.addSource=function(f,m,x){return n.map.style&&(x&&typeof x=="string"&&typeof f<"u"&&(n.initRegisteredElements(x),n.registeredElements[x].sources.push(f)),n.map.addSource(f,m),n.wrapper.fire("addsource",{source_id:f})),r},this.addImage=function(f,m,x,w){return n.map.style?typeof x=="string"&&typeof w>"u"?n.addImage(f,m,void 0,x):(w&&typeof w=="string"&&typeof f<"u"&&(n.initRegisteredElements(w),n.registeredElements[w].images.push(f)),n.map.addImage(f,m,x),r):r},this.on=function(f,m,x,w){var S;if(typeof x=="string"&&typeof m=="function")return n.on.call(n,f,void 0,m,x);var C=[f,m,x];return m||(C=[f,x]),w&&typeof w=="string"&&(n.initRegisteredElements(w),n.registeredElements[w].events.push(C)),(S=n.map).on.apply(S,C),r},this.addControl=function(f,m,x){return x&&typeof x=="string"&&(n.initRegisteredElements(x),n.registeredElements[x].controls.push(f)),n.map.addControl(f,m),r},this.cleanup=function(f){n.map.style&&typeof n.registeredElements[f]<"u"&&(n.registeredElements[f].layers.forEach(function(m){n.map.style.getLayer(m)&&n.map.style.removeLayer(m)}),n.registeredElements[f].sources.forEach(function(m){n.map.style.getSource(m)&&n.map.style.removeSource(m)}),n.registeredElements[f].images.forEach(function(m){n.map.hasImage(m)&&n.map.style.removeImage(m)}),n.registeredElements[f].events.forEach(function(m){var x;(x=n.map).off.apply(x,m)}),n.registeredElements[f].controls.forEach(function(m){n.map.removeControl(m)}),n.registeredElements[f].wrapperEvents.forEach(function(m){var x;(x=n.wrapper).off.apply(x,m)}),n.initRegisteredElements(f,!0))};var i=["moveLayer","removeLayer","removeSource","setPaintProperty","setLayoutProperty"];i.forEach(function(f){r[f]=function(){for(var m,x=[],w=0;w<arguments.length;w++)x[w]=arguments[w];return n.map&&n.map.style&&typeof n.map.style[f]=="function"&&(m=n.map.style)[f].apply(m,x),n.map._update?n.map._update(!0):void 0}});var a=["getLayer","getSource","listImages","getPaintProperty","getLayoutProperty","removeImage"];a.forEach(function(f){r[f]=function(){for(var m,x=[],w=0;w<arguments.length;w++)x[w]=arguments[w];return n.map&&n.map.style?(m=n.map.style)[f].apply(m,x):!1}}),this.addNativeMaplibreFunctionsAndProps=function(){Object.getOwnPropertyNames(Object.getPrototypeOf(r.map)).forEach(function(f){typeof r[f]>"u"&&(r[f]=function(){for(var m,x=[],w=0;w<arguments.length;w++)x[w]=arguments[w];return(m=n.map)[f].apply(m,x)})}),Object.keys(r.map).forEach(function(f){typeof r[f]>"u"&&(r[f]=n.map[f])})};var u=["getZoom","setZoom","getCenter","setCenter","getBearing","setBearing","getPitch","setPitch","jumpTo","flyTo","panTo","panBy","panBy","zoomTo","zoomIn","zoomOut","getPadding","setPadding","rotateTo","resetNorth","resetNorthPitch","snapToNorth","cameraForBounds","fitBounds","fitScreenCoordinates","getFreeCameraOptions","setFreeCameraOptions","easeTo","stop"];u.forEach(function(f){r[f]=function(){for(var m,x=[],w=0;w<arguments.length;w++)x[w]=arguments[w];if(typeof n.map[f]=="function")return(m=n.map[f]).call.apply(m,Uh([n.map],x,!1))}});var s=function(){return lAe(r,void 0,void 0,function(){return uAe(this,function(f){switch(f.label){case 0:return typeof t.mapOptions.style=="string"&&t.mapOptions.style.indexOf("mapbox://")===-1?[4,fetch(t.mapOptions.style).then(function(m){if(m.ok)return m.json();throw new Error("error loading map style.json")}).then(function(m){m.layers.forEach(function(x){n.baseLayers.push(x.id),!n.firstSymbolLayer&&x.type==="symbol"&&(n.firstSymbolLayer=x.id)}),n.styleJson=m,t.mapOptions.style=m}).catch(function(m){console.log(m)})]:[3,2];case 1:f.sent(),f.label=2;case 2:return n.map=new LG.Map(t.mapOptions),n.addNativeMaplibreFunctionsAndProps(),n.wrapper.refreshViewport(),n.wrapper.fire("viewportchange"),n.map.on("load",function(){n.addNativeMaplibreFunctionsAndProps()}),n.map.on("move",function(){n.wrapper.viewportState=n.wrapper.getViewport(),n.wrapper.fire("viewportchange")}),n.map.on("idle",function(){n.wrapper.refreshLayerState()}),n.map.on("data",function(){n.wrapper.refreshLayerState()}),typeof t.onReady=="function"&&t.onReady(n.map,n),[2]}})})};s()}return e}(),dAe=Wb({palette:{mode:"light"}}),hAe=Wb({palette:{mode:"dark"}}),fAe=function(e){return un(un({},e==="light"?dAe:hAe),{palette:un({mode:e},e==="dark"?{primary:{main:"#009EE0"},secondary:{main:"#747577"},background:{paper:"#313131"},text:{primary:"#FFF",contrast:"#000"},topToolbar:{barColor:"#000"},navigation:{navColor:"#313131",navHover:"#747577"},GPS:{GPSActiveColor:"#fff",GPSInactiveColor:"#fff",GPSActiveBackgroundColor:"#747577"},compass:{compColor:"#313131",compHover:"#747577",compStroke:"#d3dce1",compNorth:"#cf003f",compSouth:"#d3dcf0"}}:{primary:{main:"#009EE0"},secondary:{main:"#747577"},text:{primary:"#000",contrast:"#fff"},topToolbar:{barColor:"#fff"},navigation:{navColor:"#fff",navHover:"#f5f5f5"},GPS:{GPSActiveColor:"#009EE0",GPSInactiveColor:"#000",GPSActiveBackgroundColor:"#fff"},compass:{compColor:"#fff",compHover:"#f5f5f5",compStroke:"#009ee0",compNorth:"#cf003f",compSouth:"#d3dcf0"}})})},pAe=function(e){var t,r=fAe(["light","dark"].includes(e)?e:"light");return Wb(r,{components:{MuiTypography:{styleOverrides:{root:{}}},MuiAppBar:{styleOverrides:{root:{backgroundColor:r.palette.topToolbar.barColor}}},MuiButton:{variants:[{props:{variant:"navtools"},style:(t={minWidth:"20px",minHeight:"20px",fontWeight:600},t[r.breakpoints.down("md")]={width:"50px",height:"50px",fontSize:"1.4em"},t[r.breakpoints.up("md")]={width:"30px",height:"30px",fontSize:"1.2em"},t.color=r.palette.text.primary,t.backgroundColor=r.palette.navigation.navColor,t.borderRadius="23%",t.margin="0.15px",t.marginTop="4px",t[":hover"]={backgroundColor:r.palette.navigation.navHover},t)}]},MuiListItemText:{styleOverrides:{primary:function(n){var i=n.ownerState;return(i==null?void 0:i.variant)==="layerlist"?{fontSize:"0.9rem"}:{}},secondary:function(n){var i=n.ownerState;return(i==null?void 0:i.variant)==="layerlist"?{fontSize:"0.7rem"}:{}}}}}})},mAe={source_openmaptiles_url:"https://wms.wheregroup.com/tileserver/tile/world-0-14.json",sprite:"https://wms.wheregroup.com/tileserver/sprites/osm-bright",glyphs:"https://wms.wheregroup.com/tileserver/fonts/{fontstack}/{range}.pbf",sourceOptions_tiles:["https://wms.wheregroup.com/tileserver/tile/world-0-14/{z}/{x}/{y}.pbf"]},gAe=Se.createContext({});function yAe(e){var t=Se.useState([]),r=t[0],n=t[1],i=Se.useState([]),a=i[0],u=i[1],s=Se.useState([]),f=s[0],m=s[1],x=Se.useState(mAe.sourceOptions_tiles[0]),w=x[0],S=x[1],C=V.useMemo(function(){return{layerId:"openmaptiles",sourceOptions:{type:"vector",tiles:[w]}}},[w]),L=function(B){if(B){var q=[],te=[];B.layers.forEach(function(K,ee){K.type==="symbol"?te.push(K):(ee===0&&(K.id=B.name||"background"),q.push(K))}),u(q),m(te)}};V.useEffect(function(){if(r.filter(function(q){return!(q!=null&&q.id)}).length){var B=Uh([],r,!0);B.forEach(function(q){q!=null&&q.id||(q.id=ub())}),n(B)}},[r]);var k=V.useCallback(function(B,q){var te,K=(te=r==null?void 0:r.filter)===null||te===void 0?void 0:te.call(r,function(Z){return Z.id===B});if(K.length>0){var ee=Uh([],r,!0),Q=K[0],ge=r.indexOf(Q),Y=q(ge);Y>=0&&Y<=r.length-1&&(ee.splice(ge,1),ee.splice(Y,0,Q),n(ee))}},[r]),$=V.useCallback(function(B){k(B,function(q){return q+1})},[k]),M=V.useCallback(function(B){k(B,function(q){return q-1})},[k]),z={layers:r,setLayers:n,backgroundLayers:a,setBackgroundLayers:u,symbolLayers:f,setSymbolLayers:m,updateStyle:L,vtLayerConfig:C,tileUrl:w,setTileUrl:S,moveUp:M,moveDown:$,moveLayer:k};return Se.createElement(gAe.Provider,{value:z},e.children)}var uS=Se.createContext({}),vAe=function(e){var t=e.children,r=V.useState(void 0),n=r[0],i=r[1],a=V.useState([]),u=a[0],s=a[1],f=V.useRef([]),m=V.useRef({}),x=function(C){if(C){typeof m.current[C]<"u"&&delete m.current[C];var L=f.current.indexOf(C);L>-1&&f.current.splice(L,1),s(Uh([],f.current,!0)),f.current.length===0&&n&&i(void 0)}else x("anonymous_map")},w=function(C){if(i(C),u.length===0){var L="anonymous_map";s(Uh(Uh([],u,!0),[L],!1)),m.current[L]=C}},S={map:n,setMap:w,maps:m.current,mapIds:u,registerMap:function(C,L){C&&L&&(m.current[C]=L,f.current.push(C),s(Uh([],f.current,!0)),(!n||(n==null?void 0:n.cancelled)===!0)&&i(L))},removeMap:x,mapExists:function(C){return C&&Object.keys(m.current).indexOf(C)===-1?!1:!(!C&&!n)},getMap:function(C){return C&&u.indexOf(C)!==-1?m.current[C]:!C&&n?n:null}};return Se.createElement(uS.Provider,{value:S},Se.createElement(yAe,null,Se.createElement(BZ,{theme:pAe("light")},t)))},i_={mapId:void 0,options:{center:{lng:8.607,lat:53.1409349},zoom:11,container:"",style:{version:8,name:"blank",center:[0,0],zoom:0,sources:{},sprite:"https://wms.wheregroup.com/tileserver/sprites/osm-bright",glyphs:"https://wms.wheregroup.com/tileserver/fonts/{fontstack}/{range}.pbf",layers:[{id:"_background",type:"background",paint:{"background-color":"rgba(0,0,0,0)"}}]}}},zj=function(e){var t,r,n=V.useRef(),i=V.useRef(),a=V.useContext(uS),u=V.useRef(e.mapId),s=V.useRef(!1),f=V.useRef((t=e.options)===null||t===void 0?void 0:t.style);return V.useEffect(function(){var m=u.current;return function(){var x,w;s.current=!1,a.removeMap(m),n.current&&((w=(x=n.current.map)===null||x===void 0?void 0:x.remove)===null||w===void 0||w.call(x),n.current.cancelled=!0,n.current=void 0)}},[]),V.useEffect(function(){var m,x;s.current||i.current&&(s.current=!0,n.current=new cAe({mapOptions:un(un(un({style:""},e.options),!((m=e==null?void 0:e.options)===null||m===void 0)&&m.style?{}:{style:(x=i_==null?void 0:i_.options)===null||x===void 0?void 0:x.style}),{container:i.current}),onReady:function(w,S){w.once("load",function(){S!=null&&S.cancelled?w.remove():(window._map=w,e.mapId?a.registerMap(e.mapId,S):a.setMap(S))})}}))},[e.options,e.mapId]),V.useEffect(function(){var m,x;!((m=n.current)===null||m===void 0)&&m.map&&(!((x=e==null?void 0:e.options)===null||x===void 0)&&x.style)&&f.current!==e.options.style&&(f.current=e.options.style,n.current.map.setStyle(e.options.style))},[(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.style]),Se.createElement("div",{ref:i,className:"mapContainer",style:e.style})};zj.defaultProps=i_;function jj(e){var t=V.useContext(uS),r=V.useRef(!1),n=V.useRef(),i=V.useState(),a=i[0],u=i[1],s=V.useRef(void 0),f=V.useState([]),m=f[0],x=f[1],w=V.useRef(),S=V.useRef(ub()),C=V.useCallback(function(k){var $,M;return!(!(($=e==null?void 0:e.filter)===null||$===void 0)&&$.includeBaseLayers)&&(k!=null&&k.baseLayer)?!1:typeof((M=e.filter)===null||M===void 0?void 0:M.matchLayerIds)<"u"?e.filter.matchLayerIds instanceof RegExp?e.filter.matchLayerIds.test(k.id):k.id.includes(e.filter.matchLayerIds):!0},[e.filter]),L=V.useCallback(function(){if(n.current){var k=n.current.wrapper.layerState.filter(C),$=JSON.stringify(k);w.current!==$&&(w.current=$,x(k))}},[C]);return V.useEffect(function(){var k=S.current;return function(){n.current&&(n.current.cleanup(k),n.current=void 0),r.current=!1}},[]),V.useEffect(function(){var k,$,M,z;if(!(!t.mapExists(e.mapId)||r.current)){if(r.current=!0,n.current=t.getMap(e.mapId),!n.current){r.current=!1;return}!((k=e==null?void 0:e.watch)===null||k===void 0)&&k.viewport&&(u(n.current.wrapper.viewportState),n.current.wrapper.on("viewportchange",function(){var B,q;s.current!==((B=n.current)===null||B===void 0?void 0:B.wrapper.viewportStateString)&&u((q=n.current)===null||q===void 0?void 0:q.wrapper.viewportState)},S.current)),!(($=e==null?void 0:e.watch)===null||$===void 0)&&$.layers&&(L(),n.current.wrapper.on("layerchange",L,{includeBaseLayers:(M=e==null?void 0:e.filter)===null||M===void 0?void 0:M.includeBaseLayers,matchLayerIds:(z=e==null?void 0:e.filter)===null||z===void 0?void 0:z.matchLayerIds},S.current))}},[t.mapIds,t,e.mapId,L,e]),{layers:m,viewport:a}}jj.defaultProps={mapId:void 0,watch:{layers:!0,sources:!1,viewport:!1},filter:{includeBaseLayers:!1}};function $k(e){var t=V.useContext(uS),r=V.useState({map:void 0,ready:!1}),n=r[0],i=r[1],a=jj({mapId:e==null?void 0:e.mapId,watch:{viewport:!1,layers:!!(e!=null&&e.waitForLayer),sources:!1},filter:{includeBaseLayers:!0}}),u=V.useRef(),s=V.useRef(ub()),f=function(){u.current&&u.current.cleanup(s.current)};return V.useEffect(function(){return function(){f(),u.current=void 0}},[]),V.useEffect(function(){var m;if(u.current&&u.current.cancelled===!0&&(u.current=void 0,i({map:void 0,ready:!1})),!(u.current||!t.mapExists(e==null?void 0:e.mapId))){if(e!=null&&e.waitForLayer){var x=!1;if((m=a==null?void 0:a.layers)===null||m===void 0||m.forEach(function(w){w.id===(e==null?void 0:e.waitForLayer)&&(x=!0)}),!x)return}u.current=t.getMap(e==null?void 0:e.mapId),i({map:u.current,ready:!0})}},[t.mapIds,a.layers,t,e]),{map:n.map,mapIsReady:n.ready,componentId:s.current,layers:a.layers,cleanup:f}}Se.createContext({});var iN=["fill","line","symbol","circle","heatmap","fill-extrusion","raster","hillshade","background"];function bAe(e){var t,r,n,i,a,u,s,f,m;return typeof e.options.source=="string"?{source:e.options.source}:e.geojson&&(!(!((t=e.options)===null||t===void 0)&&t.source)||typeof((r=e==null?void 0:e.options)===null||r===void 0?void 0:r.source)!="string"&&(!((i=(n=e.options)===null||n===void 0?void 0:n.source)===null||i===void 0)&&i.attribution)&&!(!((u=(a=e.options)===null||a===void 0?void 0:a.source)===null||u===void 0)&&u.type))?{source:{type:"geojson",data:e.geojson||"",attribution:typeof((s=e==null?void 0:e.options)===null||s===void 0?void 0:s.source)!="string"&&(!((f=e.options.source)===null||f===void 0)&&f.attribution)?(m=e.options.source)===null||m===void 0?void 0:m.attribution:""}}:{}}function xAe(e,t){var r;if(e!=null&&e.insertBeforeLayer)return e.insertBeforeLayer;if(e!=null&&e.insertBeforeFirstSymbolLayer)return(r=t==null?void 0:t.map)===null||r===void 0?void 0:r.firstSymbolLayer}function WA(e){var t,r=$k({mapId:e.mapId,waitForLayer:e.insertBeforeLayer}),n=V.useRef(""),i=V.useRef(""),a=V.useRef(""),u=V.useState(),s=u[0],f=u[1],m=V.useRef(e.layerId||(e.idPrefix?e.idPrefix:"Layer-")+r.componentId),x=V.useCallback(function(){var w,S,C,L,k,$,M;if(!(!r.map||r!=null&&r.map.cancelled)&&(r.map.map.getLayer(m.current)&&r.cleanup(),typeof((w=e==null?void 0:e.options)===null||w===void 0?void 0:w.source)!="string"&&r.map.map.getSource(m.current)&&r.map.map.removeSource(m.current),!(typeof e.options.source=="string"&&(e.options.source===""||!r.map.map.getSource(e.options.source)))&&!(typeof((S=e==null?void 0:e.options)===null||S===void 0?void 0:S.source)!="string"&&!e.geojson&&!(!((L=(C=e==null?void 0:e.options)===null||C===void 0?void 0:C.source)===null||L===void 0)&&L.data)&&((k=e==null?void 0:e.options)===null||k===void 0?void 0:k.type)!=="background")&&!(typeof e.options.type>"u"))){try{r.map.addLayer(un(un(un({},e.options),bAe(e)),{id:m.current}),xAe(e,r),r.componentId)}catch(q){console.error("Failed to add layer:",q)}f(function(){var q;return(q=r.map)===null||q===void 0?void 0:q.map.getLayer(m.current)});var z=function(){var q;!((q=r.map)===null||q===void 0)&&q.map.getLayer(m.current)||x()};r.map.on("styledata",z,r.componentId);var B=function(q,te,K){var ee,Q=K.source_id;r.map&&typeof((ee=e==null?void 0:e.options)===null||ee===void 0?void 0:ee.source)=="string"&&e.options.source===Q&&x()};r.map.wrapper.on("addsource",B,r.componentId),i.current=JSON.stringify(($=e.options)===null||$===void 0?void 0:$.paint),a.current=JSON.stringify((M=e.options)===null||M===void 0?void 0:M.layout),n.current=e.options.type}},[e,r]);return V.useEffect(function(){var w,S,C,L,k;r.map&&(!e.geojson&&!e.options.source&&((w=e==null?void 0:e.options)===null||w===void 0?void 0:w.type)!=="background"||((S=r.map)===null||S===void 0?void 0:S.cancelled)===!1&&(!((k=(L=(C=r==null?void 0:r.map)===null||C===void 0?void 0:C.map)===null||L===void 0?void 0:L.getLayer)===null||k===void 0)&&k.call(L,m.current))&&(iN.indexOf(e.options.type)===-1||iN.indexOf(e.options.type)!==-1&&e.options.type===n.current)||x())},[r.map,r.mapIsReady,e,x]),V.useEffect(function(){var w,S,C,L,k,$;((w=r.map)===null||w===void 0?void 0:w.cancelled)===!0||!(!((L=(C=(S=r.map)===null||S===void 0?void 0:S.map)===null||C===void 0?void 0:C.getSource)===null||L===void 0)&&L.call(C,m.current))||($=(k=r.map.map.getSource(m.current))===null||k===void 0?void 0:k.setData)===null||$===void 0||$.call(k,e.geojson)},[e.geojson,r.map,e.options.type]),V.useEffect(function(){var w,S,C,L,k,$;if(!(((w=r.map)===null||w===void 0?void 0:w.cancelled)===!0||!r.map||!(!((L=(C=(S=r.map)===null||S===void 0?void 0:S.map)===null||C===void 0?void 0:C.getLayer)===null||L===void 0)&&L.call(C,m.current))||e.options.type!==n.current)){var M,z=JSON.stringify(e.options.layout);if(e.options.layout&&z!==a.current){var B=JSON.parse(a.current);for(M in e.options.layout)!((k=e.options.layout)===null||k===void 0)&&k[M]&&e.options.layout[M]!==B[M]&&r.map.map.setLayoutProperty(m.current,M,e.options.layout[M]);a.current=z}var q=JSON.stringify(e.options.paint);if(q!==i.current){var te=JSON.parse(i.current);for(M in e.options.paint)!(($=e.options.paint)===null||$===void 0)&&$[M]&&e.options.paint[M]!==te[M]&&r.map.map.setPaintProperty(m.current,M,e.options.paint[M]);i.current=q}}},[e.options,r.map]),V.useEffect(function(){!e.insertBeforeLayer||!r.map||!r.map.getLayer(e.insertBeforeLayer)||!r.map.getLayer(m.current)||r.map.moveLayer(m.current,e.insertBeforeLayer)},[r.map,e.insertBeforeLayer]),V.useEffect(function(){return function(){r.cleanup()}},[]),V.useEffect(function(){var w;if(!(typeof((w=e==null?void 0:e.options)===null||w===void 0?void 0:w.source)!="string"||!r.map)){var S=function(){var L,k,$;typeof((L=e==null?void 0:e.options)===null||L===void 0?void 0:L.source)=="string"&&(!(($=(k=r==null?void 0:r.map)===null||k===void 0?void 0:k.getSource)===null||$===void 0)&&$.call(k,e.options.source))&&!r.map.getLayer(m.current)&&x()};r.map.on("sourcedataloading",S);var C=function(L,k,$){var M,z=$.source_id;r.map&&typeof((M=e==null?void 0:e.options)===null||M===void 0?void 0:M.source)=="string"&&e.options.source===z&&x()};return r.map.wrapper.on("addsource",C),function(){r!=null&&r.map&&(r.map.off("sourcedataloading",S),r.map.wrapper.off("addsource",C))}}},[r.map,(t=e.options)===null||t===void 0?void 0:t.source]),V.useEffect(function(){var w,S,C;if(!(!e.onClick||!(r!=null&&r.map)||!(!((S=(w=r==null?void 0:r.map)===null||w===void 0?void 0:w.getLayer)===null||S===void 0)&&S.call(w,m.current)))){var L=e.onClick;return(C=r.map)===null||C===void 0||C.on("click",m.current,L),function(){var k;L&&(r!=null&&r.map)&&((k=r.map)===null||k===void 0||k.off("click",m.current,L))}}},[r.map,e.onClick]),V.useEffect(function(){var w,S,C;if(!(!e.onHover||!(r!=null&&r.map)||!(!((S=(w=r==null?void 0:r.map)===null||w===void 0?void 0:w.getLayer)===null||S===void 0)&&S.call(w,m.current)))){var L=e.onHover;return(C=r.map)===null||C===void 0||C.on("mousemove",m.current,L),function(){var k;L&&(r!=null&&r.map)&&((k=r.map)===null||k===void 0||k.off("mousemove",m.current,L))}}},[r.map,e.onHover]),V.useEffect(function(){var w,S,C;if(!(!e.onLeave||!(r!=null&&r.map)||!(!((S=(w=r==null?void 0:r.map)===null||w===void 0?void 0:w.getLayer)===null||S===void 0)&&S.call(w,m.current)))){var L=e.onLeave;return(C=r.map)===null||C===void 0||C.on("mouseleave",m.current,L),function(){var k;L&&(r!=null&&r.map)&&((k=r.map)===null||k===void 0||k.off("mouseleave",m.current,L))}}},[r.map,e.onLeave]),{map:r.map,layer:s,layerId:m.current,componentId:r.componentId,mapHook:r}}WA.defaultProps={};var Uj=function(e,t){switch(e){case"fill":return t!=null&&t.fill?t.fill:{"fill-color":"rgba(10,240,256,0.6)","fill-outline-color":"rgba(20,230,256,0.8)"};case"line":return t!=null&&t.line?t.line:{"line-color":"rgb(203,211,2)","line-width":5,"line-blur":0};case"circle":return t!=null&&t.circle?t.circle:{"circle-color":"rgba(10,240,256,0.8)","circle-stroke-color":"#fff","circle-stroke-width":2,"circle-radius":4};default:return{}}},Ax={Position:"circle",Point:"circle",MultiPoint:"circle",LineString:"line",MultiLineString:"line",Polygon:"fill",MultiPolygon:"fill",GeometryCollection:"circle"},lw=function(e){var t;return(e==null?void 0:e.type)==="Feature"?Ax!=null&&Ax[(t=e==null?void 0:e.geometry)===null||t===void 0?void 0:t.type]?Ax[e.geometry.type]:"circle":(e==null?void 0:e.type)==="FeatureCollection"?e.features.length?lw(e.features[0]):"circle":"fill"};function _Ae(e){var t,r=$k({mapId:e.mapId}),n=V.useState(),i=n[0],a=n[1],u=V.useRef(e.sourceId||(e.idPrefix?e.idPrefix:"Source-")+r.componentId),s=V.useCallback(function(){var m,x;if(r.map&&(!((x=(m=r.map)===null||m===void 0?void 0:m.style)===null||x===void 0)&&x._layers)){for(var w=0,S=Object.entries(r.map.style._layers);w<S.length;w++){var C=S[w],L=C[0],k=C[1];k.source===u.current&&r.map.removeLayer(L)}r.map.getSource(u.current)&&r.map.removeSource(u.current)}},[r.map]),f=V.useCallback(function(){var m;r.map&&(e.source.type==="geojson"&&!e.source.data||(r.map.map.getSource(u.current)&&s(),(m=r.map)===null||m===void 0||m.addSource(u.current,un({},e.source)),a(r.map.map.getSource(u.current))))},[e,r,s]);return V.useEffect(function(){var m,x,w,S;!((x=(m=r.map)===null||m===void 0?void 0:m.map)===null||x===void 0)&&x.getSource(u.current)&&((S=(w=r.map.map.getSource(u.current))===null||w===void 0?void 0:w.setData)===null||S===void 0||S.call(w,e.source.data))},[(t=e.source)===null||t===void 0?void 0:t.data]),V.useEffect(function(){var m,x,w;!((w=(x=(m=r==null?void 0:r.map)===null||m===void 0?void 0:m.map)===null||x===void 0?void 0:x.getSource)===null||w===void 0)&&w.call(x,e.sourceId)&&e.sourceId===u.current||(u.current=e.sourceId,f())},[r.map,e,f]),V.useEffect(function(){if(r.map){var m=function(){var x,w;!((w=(x=r==null?void 0:r.map)===null||x===void 0?void 0:x.getSource)===null||w===void 0)&&w.call(x,e.sourceId)||f()};return r.map.on("styledata",m),function(){r!=null&&r.map&&r.map.off("styledata",m)}}},[r.map,f]),V.useEffect(function(){return function(){s()}},[s]),{map:r.map,source:i,componentId:r.componentId,mapHook:r}}var Bk=function(e){var t,r,n,i,a,u,s,f,m,x,w,S,C=e.type||lw(e.geojson),L=V.useRef(e.layerId||"MlGeoJsonLayer-"+ub()),k="label-".concat(L.current);return V.useEffect(function(){e.layerId?L.current=e.layerId:L.current="MlGeoJsonLayer-"+ub()},[e.layerId]),_Ae({mapId:e.mapId,sourceId:"source-"+L.current,source:un({type:"geojson",data:e.geojson},typeof((t=e==null?void 0:e.options)===null||t===void 0?void 0:t.source)<"u"&&typeof((r=e==null?void 0:e.options)===null||r===void 0?void 0:r.source)!="string"?e.options.source:{})}),WA({mapId:e.mapId,layerId:L.current,options:un(un({},typeof((n=e==null?void 0:e.options)===null||n===void 0?void 0:n.source)<"u"&&typeof((i=e==null?void 0:e.options)===null||i===void 0?void 0:i.source)=="string"?{source:e.options.source}:{source:"source-"+L.current}),{paint:un(un({},e.paint||Uj(C,e.defaultPaintOverrides)),(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.paint),layout:un(un({},(e==null?void 0:e.layout)||{}),(u=e==null?void 0:e.options)===null||u===void 0?void 0:u.layout),type:C}),insertBeforeLayer:e.insertBeforeLayer,onHover:e.onHover,onClick:e.onClick,onLeave:e.onLeave}),WA({mapId:e.mapId,options:un(un(un(un(un({},typeof((s=e==null?void 0:e.options)===null||s===void 0?void 0:s.source)<"u"&&typeof((f=e==null?void 0:e.options)===null||f===void 0?void 0:f.source)=="string"?{source:e.options.source}:{source:"source-"+L.current}),{id:k,type:"symbol",maxzoom:24,minzoom:1}),e!=null&&e.labelOptions?e.labelOptions:{}),!((m=e==null?void 0:e.options)===null||m===void 0)&&m.filter?{filter:e.options.filter}:{}),{layout:un(un({"text-font":["Open Sans Regular"],"text-field":"{".concat(e.labelProp,"}"),"text-size":12,"text-anchor":"top"},!((x=e==null?void 0:e.labelOptions)===null||x===void 0)&&x.layout?e.labelOptions.layout:{}),!((w=e==null?void 0:e.layout)===null||w===void 0)&&w.visibility?{visibility:e.layout.visibility}:{}),paint:un({"text-halo-width":1,"text-halo-color":"#fefefe","text-color":"#121212"},!((S=e==null?void 0:e.labelOptions)===null||S===void 0)&&S.paint?e.labelOptions.paint:{})})}),Se.createElement(Se.Fragment,null)},wAe=xr(nP)({marginTop:"15px"});function SAe(e){return Se.createElement(wAe,null,e==null?void 0:e.children)}var CAe=ky(iP)({paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:"4px"}),EAe=ky(xz)({minWidth:"30px"}),AAe=ky(Iy)({marginRight:"0px",padding:"0px"}),TAe=ky(dz)({padding:0,marginRight:"5px"}),PAe=ky(YX)(function(e){var t=e.open;return{display:t?"block":"none"}}),kAe=ky(nP)({marginLeft:"50px"});function IAe(e){var t=e.visible,r=t===void 0?!0:t,n=e.name,i=e.children,a=e.setVisible,u=V.useState(!1),s=u[0],f=u[1],m=V.useState(!0),x=m[0],w=m[1],S=V.useMemo(function(){return r?x:!1},[r,x]),C=V.useMemo(function(){return i?Array.isArray(i)?i.map(function(L){return Se.cloneElement(L,{visible:S})}):Se.cloneElement(i,{visible:S}):Se.createElement(Se.Fragment,null)},[S]);return Se.createElement(Se.Fragment,null,Se.createElement(CAe,null,Se.createElement(EAe,null,Se.createElement(AAe,{edge:"end","aria-label":"open",onClick:function(){return f(!s)}},s?Se.createElement(Goe,null):Se.createElement(Koe,null)),Se.createElement(TAe,{disabled:a?!1:!r,checked:a?r:x,onClick:function(){a?a(function(L){return!L}):w(function(L){return!L})}})),Se.createElement(oP,{primary:n,variant:"layerlist"})),Se.createElement(PAe,{open:s},Se.createElement(kAe,{disablePadding:!0},C)))}var d1={rgba:function(e){return"rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")")},rgb:function(e){return"rgb(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,")")},hex:function(e){return e.hex},rgba_rgb:function(e){return e.rgb.a===1?d1.rgb(e):d1.rgba(e)},rgba_hex:function(e){return e.rgb.a===1?d1.hex(e):d1.rgba(e)}},Vj=function(e){var t=e.convert,r=lS(e,["convert"]),n=V.useState(!1),i=n[0],a=n[1],u=V.useState((r==null?void 0:r.value)||""),s=u[0],f=u[1];return Se.createElement(Se.Fragment,null,Se.createElement(GM,{container:!0,sx:{flexWrap:"nowrap"}},Se.createElement(GM,{xs:12,item:!0},Se.createElement(eA,{variant:"outlined",onClick:function(){return a(!0)},sx:{minWidth:"100%",padding:"5px",marginBottom:"10px",justifyContent:"flex-start",borderColor:function(m){return m.palette.text.primary},color:function(m){return m.palette.text.primary}}},Se.createElement("div",{style:{width:"25px",height:"25px",marginRight:"10px",backgroundColor:s}}),s))),i&&Se.createElement("div",{style:{position:"relative",marginTop:0}},Se.createElement("div",{style:{position:"absolute",zIndex:1e3}},Se.createElement("div",{style:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"},onClick:function(){a(!1)}}),Se.createElement(R_e,{color:s,onChange:function(m){var x,w=d1[t](m);f(w),(x=r==null?void 0:r.onChange)===null||x===void 0||x.call(r,w)}}))))};Vj.defaultProps={convert:"rgba_hex",label:"Color",name:"color"};function LAe(e){var t=e.propKey,r=e.value,n=e.setPaintProps;return Se.createElement(Vj,{value:r,label:"Color",onChange:function(i){n(function(a){var u,s=un(un({},a),(u={},u[t]=i,u));return s})}})}var MAe=xr(Im)({marginLeft:"-100px",marginRight:"-21px",paddingLeft:"53px",borderRadius:"0px",boxShadow:"none",backgroundColor:"rgb(0, 0, 0, 0)"}),RAe=xr(qh)({marginLeft:"61px"}),qj={"circle-color":"colorpicker","circle-radius":"slider","circle-stroke-color":"colorpicker","circle-stroke-width":"slider","fill-color":"colorpicker","fill-outline-color":"colorpicker","line-color":"colorpicker","line-width":"slider","line-blur":"slider"},DAe=Object.keys(qj),OAe={"circle-stroke-width":{step:1,min:1,max:20},"circle-radius":{step:1,min:1,max:100},"line-blur":{step:1,min:1,max:100},"line-width":{step:1,min:1,max:100}};function Hj(e){var t=e.paintProps,r=t===void 0?{}:t,n=e.setPaintProps,i=V.useRef(Math.round(Math.random()*1e10)),a=V.useCallback(function(u){if(DAe.indexOf(u)!==-1&&(typeof r[u]=="number"||typeof r[u]=="string")){var s=Se.createElement(zh,{id:u+"_label",gutterBottom:!0},u);switch(qj[u]){case"slider":return Se.createElement(Se.Fragment,{key:u},s,Se.createElement(mre,un({},OAe[u],{inputProps:{inputMode:"decimal",pattern:"[0-9]*"},value:r[u],valueLabelDisplay:"auto",onChange:function(f,m){m&&n(function(x){var w;return un(un({},x),(w={},w[u]=m,w))})}})));case"numberfield":return Se.createElement(Se.Fragment,{key:u},s,Se.createElement(Ire,{inputProps:{inputMode:"decimal",pattern:"[0-9]*"},value:r[u],onChange:function(f){var m;!((m=f==null?void 0:f.target)===null||m===void 0)&&m.value&&n(function(x){var w;return un(un({},x),(w={},w[u]=parseInt(f.target.value),w))})}}));case"colorpicker":return Se.createElement(Se.Fragment,{key:u},s,Se.createElement(qh,{sx:{"& > div":{width:"initial !important"}}},Se.createElement(LAe,{key:u,value:r[u],propKey:u,setPaintProps:n})))}}return null},[r]);return Se.createElement(Se.Fragment,null,Se.createElement(MAe,null,Se.createElement(iP,{key:i+"_paintPropForm"},Se.createElement(RAe,null,Object.keys(r).map(function(u){return a(u)})))))}var Wj=xr(iP)(function(e){return{paddingRight:e?"56px":0,paddingLeft:0,paddingTop:0,paddingBottom:"4px"}}),NAe=xr(Iy)({padding:"4px",marginTop:"-3px"}),Gj=xr(xz)({minWidth:"30px"}),Kj=xr(dz)({padding:0});function Xj(e){var t=e.configurable,r=e.vtProps,n=e.setVtProps,i=e.id,a=lS(e,["configurable","vtProps","setVtProps","id"]),u=V.useState(!1),s=u[0],f=u[1],m=V.useState(!0),x=m[0],w=m[1],S=V.useState(r.layers[i].paint),C=S[0],L=S[1];return V.useEffect(function(){var k,$,M,z,B,q;if(!(!n||typeof(($=(k=r.layers[i])===null||k===void 0?void 0:k.layout)===null||$===void 0?void 0:$.visibility)>"u"&&x||!x&&((z=(M=r.layers[i])===null||M===void 0?void 0:M.layout)===null||z===void 0?void 0:z.visibility)==="none"||x&&((q=(B=r.layers[i])===null||B===void 0?void 0:B.layout)===null||q===void 0?void 0:q.visibility)==="visible")){var te=Uh([],r.layers,!0);te[i].layout?te[i].layout.visibility=x?"visible":"none":te[i].layout={visibility:x?"visible":"none"},n(un(un({},r),{layers:te}))}},[x,i,n,r]),V.useEffect(function(){w(!!a.visibleMaster)},[a.visibleMaster]),V.useEffect(function(){if(n&&JSON.stringify(C)!==JSON.stringify(r.layers[i].paint)){var k=un({},C),$=Uh([],r.layers,!0);$[i].paint=k,n(un(un({},r),{layers:$}))}},[C,i,n,r]),Se.createElement(Se.Fragment,null,Se.createElement(Wj,{key:i,secondaryAction:t?Se.createElement(NAe,{edge:"end","aria-label":"comments",onClick:function(){f(function(k){return!k})}},Se.createElement(p9,null)):void 0},Se.createElement(Gj,null,Se.createElement(Kj,{checked:x,onClick:function(){w(function(k){return!k})}})),Se.createElement(oP,{primary:r.layers[i].id,variant:"layerlist"})),t&&s&&Se.createElement(Hj,{paintProps:C,setPaintProps:L,layerType:r.layers[i].type}))}Xj.defaultProps={configurable:!0};function Zj(e){return V.createElement(V.Fragment,null,V.createElement(hQ,{open:e.open,onClose:e.onCancel,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},V.createElement(RQ,{id:"alert-dialog-title"},e.title),V.createElement(CQ,null,V.createElement(kQ,{id:"alert-dialog-description"},e.text)),V.createElement(yQ,null,V.createElement(eA,{onClick:e.onCancel},"Cancel"),V.createElement(eA,{onClick:e.onConfirm,autoFocus:!0},"Confirm"))))}Zj.defaultProps={title:"Confirm",text:"Are you sure?"};function FAe(e){var t=e.children,r=e.layerId,n=$we({id:r}),i=n.attributes,a=n.listeners,u=n.setNodeRef,s=n.transform,f={transform:yb.Transform.toString(s)};return Se.createElement("li",un({ref:u,style:f},i,a),t)}var $Ae=xr(Iy)({padding:"4px",marginTop:"-3px"}),BAe=xr(Iy)({marginLeft:"20px"});function zk(e){var t,r,n,i,a,u,s,f,m,x,w,S,C,L,k=e.layerComponent,$=e.visible,M=e.type,z=e.name,B=e.description,q=e.configurable,te=e.setLayerState,K=lS(e,["layerComponent","visible","type","name","description","configurable","setLayerState"]),ee=V.useState(!0),Q=ee[0],ge=ee[1],Y=V.useState(!1),Z=Y[0],re=Y[1],ye=V.useState(!1),fe=ye[0],Ae=ye[1],ke=V.useRef(!1),Oe=V.useRef($),_e=V.useState(((t=k==null?void 0:k.props)===null||t===void 0?void 0:t.paint)||((n=(r=k==null?void 0:k.props)===null||r===void 0?void 0:r.options)===null||n===void 0?void 0:n.paint)||Uj(((i=k==null?void 0:k.props)===null||i===void 0?void 0:i.type)||lw(k.props.geojson))),Ne=_e[0],Ke=_e[1],pt=V.useMemo(function(){return $?Q:!1},[$,Q]);V.useEffect(function(){var Re,Fe,rt;if(!(!te||!(!((Re=k==null?void 0:k.props)===null||Re===void 0)&&Re.layers)||pt===Oe.current)){Oe.current=pt;var Ve=un({},k==null?void 0:k.props);switch(k.type.name){case"MlWmsLayer":break;case"MlVectorTileLayer":!((Fe=k==null?void 0:k.props)===null||Fe===void 0)&&Fe.layers&&!ke.current&&(Ve.layers=(rt=k==null?void 0:k.props)===null||rt===void 0?void 0:rt.layers.map(function(We){return We.layout?We.layout.visibility=pt?"visible":"none":We.layout={visibility:pt?"visible":"none"},We}),console.log("setLayerState",Ve.layers),te(Ve));break}}},[pt,te,k]),V.useEffect(function(){var Re,Fe;!te||ke.current||!Ne||!((Re=k==null?void 0:k.props)===null||Re===void 0)&&Re.layers||JSON.stringify(Ne)!==JSON.stringify((Fe=k.props)===null||Fe===void 0?void 0:Fe.paint)&&te(un(un({},k.props),{paint:Ne}))},[Ne,te,(a=k.props)===null||a===void 0?void 0:a.paint]);var ae=V.useMemo(function(){var Re;if(k&&M==="layer")switch(k.type.displayName){case"MlWmsLayer":return Se.cloneElement(k,un(un({},k==null?void 0:k.props),{visible:pt}));case"MlVectorTileLayer":return Se.cloneElement(k,un({},k==null?void 0:k.props));default:case"MlGeoJsonLayer":return Se.cloneElement(k,{layout:{visibility:pt?"visible":"none"},options:un(un({},(Re=k==null?void 0:k.props)===null||Re===void 0?void 0:Re.options),te?{}:{paint:Ne})})}return Se.createElement(Se.Fragment,null)},[M,k,Ne,pt,(u=k==null?void 0:k.props)===null||u===void 0?void 0:u.layers,te]),me=V.useMemo(function(){if(k&&M==="layer"){if(k.props.type)return k.props.type;if(k.props.geojson)return lw(k.props.geojson)}},[k]),we=Se.createElement(Wj,{sx:un({},K.listItemSx),secondaryAction:q&&((s=Object.keys(Ne))===null||s===void 0?void 0:s.length)>0?Se.createElement(Se.Fragment,null,K==null?void 0:K.buttons,Se.createElement($Ae,{edge:"end","aria-label":"settings",onClick:function(){re(function(Re){return!Re})}},Se.createElement(Xoe,null))):void 0},Se.createElement(Gj,null,Se.createElement(Kj,{disabled:!$,checked:Q,onClick:function(){ge(function(Re){return!Re})}})),Se.createElement(oP,{variant:"layerlist",primary:z,secondary:B,primaryTypographyProps:{overflow:"hidden"}}));return Se.createElement(Se.Fragment,null,K.sortable&&K.layerId&&!(!((f=k==null?void 0:k.props)===null||f===void 0)&&f.layers)&&Se.createElement(FAe,{layerId:K.layerId},we),!K.sortable&&!(!((m=k==null?void 0:k.props)===null||m===void 0)&&m.layers)&&we,ae,!(!((x=k==null?void 0:k.props)===null||x===void 0)&&x.layers)&&Object.keys(Ne).length>0&&q&&Z&&Se.createElement(Se.Fragment,null,K.showDeleteButton&&Se.createElement(Se.Fragment,null,Se.createElement(BAe,{edge:"end","aria-label":"delete",onClick:function(){typeof te=="function"&&Ae(!0)}},Se.createElement(Woe,null)),fe&&Se.createElement(Zj,{open:fe,onConfirm:function(){typeof te=="function"&&(ke.current=!0,te(!1),Ae(!1))},onCancel:function(){Ae(!1)},title:"Delete layer",text:"Are you sure you want to delete this layer?"})),Se.createElement(Hj,{paintProps:Ne,setPaintProps:Ke,layerType:me})),((w=k==null?void 0:k.props)===null||w===void 0?void 0:w.layers)&&Se.createElement(IAe,{visible:Q,setVisible:ge,name:z},(L=(C=(S=k==null?void 0:k.props)===null||S===void 0?void 0:S.layers)===null||C===void 0?void 0:C.map)===null||L===void 0?void 0:L.call(C,function(Re,Fe){return Se.createElement(Xj,{vtProps:k==null?void 0:k.props,setVtProps:te,id:""+Fe,key:""+Fe,visibleMaster:pt})})))}zk.defaultProps={type:"layer",visible:!0,showDeleteButton:!1,buttons:Se.createElement(Se.Fragment,null)};var zAe=xr("div")(function(){return{display:"flex",alignItems:"center"}}),jAe=56,UAe=xr(qh)(function(e){var t=e.theme;return{width:30,height:6,backgroundColor:t.palette.text.primary,borderRadius:3,position:"absolute",top:8,left:"calc(50% - 15px)"}});function VAe(e){var t=e.drawerPaperProps,r=e.drawerHeaderProps,n=e.setOpen,i=lS(e,["drawerPaperProps","drawerHeaderProps","setOpen"]),a=Tee(function(x){return x.breakpoints.down("sm")}),u=V.useState(!1),s=u[0],f=u[1],m=i.drawerBleeding?i.drawerBleeding:jAe;return Se.createElement(Se.Fragment,null,a?Se.createElement(qh,{sx:{display:{xs:"flex",sm:"none"}}},Se.createElement(OB,{styles:{".MuiDrawer-root > .MuiPaper-root":{height:"calc(50% - ".concat(m,"px)"),overflow:"visible"}}}),Se.createElement(Cre,{anchor:"bottom",open:typeof i.open>"u"?s:i.open,onClose:n?function(){n==null||n(!1)}:function(){f(!1)},onOpen:n?function(){n==null||n(!0)}:function(){f(!0)},swipeAreaWidth:m,disableSwipeToOpen:!1,hideBackdrop:!0,ModalProps:{keepMounted:!0,sx:{top:"calc(90%)"}}},Se.createElement(Im,{sx:{position:"absolute",top:-m,borderTopLeftRadius:8,borderTopRightRadius:8,visibility:"visible",right:0,left:0}},Se.createElement(UAe,null),Se.createElement(zh,{variant:"h6",sx:{p:"13px"}},i.name)),Se.createElement(Im,{sx:{px:"15px",pb:"15px",height:"100%",overflow:"auto",paddingTop:"20px"}},i.children))):Se.createElement(qh,{sx:{display:{xs:"none",sm:"flex"},mr:1}},Se.createElement(mz,un({transitionDuration:0,variant:"persistent",anchor:"left",open:typeof i.open>"u"?s:i.open,PaperProps:un(un({},t),{sx:un({maxWidth:{lg:"30%",md:"40%",sm:"50%",xs:"78%"},padding:{sm:"84px 20px 20px 20px",xs:"74px 10px 10px 10px"},width:{xs:"80%",sm:"60%",md:"350px",lg:"350px"},boxSizing:"border-box"},t==null?void 0:t.sx)}),sx:un({flexGrow:1,zIndex:105,position:"absolute",bottom:0,display:"flex",flexDirection:"column",maxWidth:{lg:"30%",md:"40%",sm:"50%",xs:"78%"}},s?{}:{left:a?"-90vw":"-20vw"})},i),Se.createElement(zAe,un({},r),Se.createElement(zh,{variant:"h6"},i.name),Se.createElement(Iy,{onClick:n?function(){n==null||n(!1)}:function(){f(!1)},sx:{position:"absolute",right:"20px"}},Se.createElement(_9,null))),Se.createElement(qh,null,i.children))),";")}xr(qh)(function(e){var t,r=e.theme;return t={zIndex:1e3,cursor:"pointer",transform:"scale(1)"},t[r.breakpoints.down("md")]={transform:"scale(1.6)"},t});xr(qh)(function(e){var t,r=e.theme;return t={position:"absolute",right:"-10px",top:"-52px",width:"52px",height:"52px",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},t[r.breakpoints.down("md")]={right:"0px",top:"-52px"},t.circle={fill:r.palette.compass.compColor,stroke:r.palette.compass.compStroke},t.path={fill:r.palette.compass.compStroke},t["&:hover circle"]={fill:r.palette.compass.compHover},t});xr(qh)(function(e){var t=e.theme;return{display:"flex",flexDirection:"row","path:nth-of-type(2)":{fill:t.palette.compass.compSouth},"path:nth-of-type(1)":{fill:t.palette.compass.compNorth}}});function N1(e){"@babel/helpers - typeof";return N1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N1(e)}(function(){var e=/\s*/g,t=/^\s*|\s*$/g,r=/\s+/;function n(K){if(!K||!K.length)return 0;for(var ee=0,Q=0;ee<K.length;ee++)Q=(Q<<5)-Q+K.charCodeAt(ee)|0;return Q}function i(K,ee){return K.getElementsByTagName(ee)}function a(K,ee){return K.getAttribute(ee)}function u(K,ee){return parseFloat(a(K,ee))}function s(K,ee){var Q=i(K,ee);return Q.length?Q[0]:null}function f(K){return K.normalize&&K.normalize(),K}function m(K){for(var ee=0,Q=[];ee<K.length;ee++)Q[ee]=parseFloat(K[ee]);return Q}function x(K){return K&&f(K),K&&K.textContent||""}function w(K,ee){var Q={},ge,Y;for(Y=0;Y<ee.length;Y++)ge=s(K,ee[Y]),ge&&(Q[ee[Y]]=x(ge));return Q}function S(K,ee){for(var Q in ee)K[Q]=ee[Q]}function C(K){return m(K.replace(e,"").split(","))}function L(K){for(var ee=K.replace(t,"").split(r),Q=[],ge=0;ge<ee.length;ge++)Q.push(C(ee[ge]));return Q}function k(K){var ee=[u(K,"lon"),u(K,"lat")],Q=s(K,"ele"),ge=s(K,"gpxtpx:hr")||s(K,"hr"),Y=s(K,"time"),Z;return Q&&(Z=parseFloat(x(Q)),isNaN(Z)||ee.push(Z)),{coordinates:ee,time:Y?x(Y):null,heartRate:ge?parseFloat(x(ge)):null}}function $(){return{type:"FeatureCollection",features:[]}}var M;if(typeof XMLSerializer<"u")M=new XMLSerializer;else{var z=(typeof process>"u"?"undefined":N1(process))==="object"&&!process.browser,B=(typeof Titanium>"u"?"undefined":N1(Titanium))==="object";if((typeof exports>"u"?"undefined":N1(exports))==="object"&&(z||B))M=b5e;else throw new Error("Unable to initialize serializer")}function q(K){return K.xml!==void 0?K.xml:M.serializeToString(K)}var te={kml:function(ee){for(var Q=$(),ge={},Y={},Z={},re=["Polygon","LineString","Point","Track","gx:Track"],ye=i(ee,"Placemark"),fe=i(ee,"Style"),Ae=i(ee,"StyleMap"),ke=0;ke<fe.length;ke++){var Oe=n(q(fe[ke])).toString(16);ge["#"+a(fe[ke],"id")]=Oe,Y[Oe]=fe[ke]}for(var _e=0;_e<Ae.length;_e++){ge["#"+a(Ae[_e],"id")]=n(q(Ae[_e])).toString(16);for(var Ne=i(Ae[_e],"Pair"),Ke={},pt=0;pt<Ne.length;pt++)Ke[x(s(Ne[pt],"key"))]=x(s(Ne[pt],"styleUrl"));Z["#"+a(Ae[_e],"id")]=Ke}for(var ae=0;ae<ye.length;ae++)Q.features=Q.features.concat(rt(ye[ae]));function me(Ve){var We,nt;return Ve=Ve||"",Ve.substr(0,1)==="#"&&(Ve=Ve.substr(1)),(Ve.length===6||Ve.length===3)&&(We=Ve),Ve.length===8&&(nt=parseInt(Ve.substr(0,2),16)/255,We="#"+Ve.substr(6,2)+Ve.substr(4,2)+Ve.substr(2,2)),[We,isNaN(nt)?void 0:nt]}function we(Ve){return m(Ve.split(" "))}function Re(Ve){var We=i(Ve,"coord"),nt=[],ut=[];We.length===0&&(We=i(Ve,"gx:coord"));for(var bt=0;bt<We.length;bt++)nt.push(we(x(We[bt])));for(var Ct=i(Ve,"when"),Et=0;Et<Ct.length;Et++)ut.push(x(Ct[Et]));return{coords:nt,times:ut}}function Fe(Ve){var We,nt,ut,bt,Ct,Et=[],lt=[];if(s(Ve,"MultiGeometry"))return Fe(s(Ve,"MultiGeometry"));if(s(Ve,"MultiTrack"))return Fe(s(Ve,"MultiTrack"));if(s(Ve,"gx:MultiTrack"))return Fe(s(Ve,"gx:MultiTrack"));for(ut=0;ut<re.length;ut++)if(nt=i(Ve,re[ut]),nt){for(bt=0;bt<nt.length;bt++)if(We=nt[bt],re[ut]==="Point")Et.push({type:"Point",coordinates:C(x(s(We,"coordinates")))});else if(re[ut]==="LineString")Et.push({type:"LineString",coordinates:L(x(s(We,"coordinates")))});else if(re[ut]==="Polygon"){var ce=i(We,"LinearRing"),ur=[];for(Ct=0;Ct<ce.length;Ct++)ur.push(L(x(s(ce[Ct],"coordinates"))));Et.push({type:"Polygon",coordinates:ur})}else if(re[ut]==="Track"||re[ut]==="gx:Track"){var qt=Re(We);Et.push({type:"LineString",coordinates:qt.coords}),qt.times.length&&lt.push(qt.times)}}return{geoms:Et,coordTimes:lt}}function rt(Ve){var We=Fe(Ve),nt,ut={},bt=x(s(Ve,"name")),Ct=x(s(Ve,"address")),Et=x(s(Ve,"styleUrl")),lt=x(s(Ve,"description")),ce=s(Ve,"TimeSpan"),ur=s(Ve,"TimeStamp"),qt=s(Ve,"ExtendedData"),wt=s(Ve,"LineStyle"),Mt=s(Ve,"PolyStyle"),It=s(Ve,"visibility");if(!We.geoms.length)return[];if(bt&&(ut.name=bt),Ct&&(ut.address=Ct),Et){Et[0]!=="#"&&(Et="#"+Et),ut.styleUrl=Et,ge[Et]&&(ut.styleHash=ge[Et]),Z[Et]&&(ut.styleMapHash=Z[Et],ut.styleHash=ge[Z[Et].normal]);var Gt=Y[ut.styleHash];if(Gt){wt||(wt=s(Gt,"LineStyle")),Mt||(Mt=s(Gt,"PolyStyle"));var Lt=s(Gt,"IconStyle");if(Lt){var Jt=s(Lt,"Icon");if(Jt){var _r=x(s(Jt,"href"));_r&&(ut.icon=_r)}}}}if(lt&&(ut.description=lt),ce){var Cr=x(s(ce,"begin")),Ir=x(s(ce,"end"));ut.timespan={begin:Cr,end:Ir}}if(ur&&(ut.timestamp=x(s(ur,"when"))),wt){var Ze=me(x(s(wt,"color"))),gt=Ze[0],Ft=Ze[1],At=parseFloat(x(s(wt,"width")));gt&&(ut.stroke=gt),isNaN(Ft)||(ut["stroke-opacity"]=Ft),isNaN(At)||(ut["stroke-width"]=At)}if(Mt){var Ar=me(x(s(Mt,"color"))),ot=Ar[0],kt=Ar[1],Dt=x(s(Mt,"fill")),cr=x(s(Mt,"outline"));ot&&(ut.fill=ot),isNaN(kt)||(ut["fill-opacity"]=kt),Dt&&(ut["fill-opacity"]=Dt==="1"?ut["fill-opacity"]||1:0),cr&&(ut["stroke-opacity"]=cr==="1"?ut["stroke-opacity"]||1:0)}if(qt){var Wr=i(qt,"Data"),nr=i(qt,"SimpleData");for(nt=0;nt<Wr.length;nt++)ut[Wr[nt].getAttribute("name")]=x(s(Wr[nt],"value"));for(nt=0;nt<nr.length;nt++)ut[nr[nt].getAttribute("name")]=x(nr[nt])}It&&(ut.visibility=x(It)),We.coordTimes.length&&(ut.coordTimes=We.coordTimes.length===1?We.coordTimes[0]:We.coordTimes);var ei={type:"Feature",geometry:We.geoms.length===1?We.geoms[0]:{type:"GeometryCollection",geometries:We.geoms},properties:ut};return a(Ve,"id")&&(ei.id=a(Ve,"id")),[ei]}return Q},gpx:function(ee){var Q,ge=i(ee,"trk"),Y=i(ee,"rte"),Z=i(ee,"wpt"),re=$(),ye;for(Q=0;Q<ge.length;Q++)ye=ke(ge[Q]),ye&&re.features.push(ye);for(Q=0;Q<Y.length;Q++)ye=Oe(Y[Q]),ye&&re.features.push(ye);for(Q=0;Q<Z.length;Q++)re.features.push(_e(Z[Q]));function fe(pt,ae){for(var me=0;me<ae;me++)pt.push(null);return pt}function Ae(pt,ae){var me=i(pt,ae),we=[],Re=[],Fe=[],rt=me.length;if(rt<2)return{};for(var Ve=0;Ve<rt;Ve++){var We=k(me[Ve]);we.push(We.coordinates),We.time&&Re.push(We.time),(We.heartRate||Fe.length)&&(Fe.length||fe(Fe,Ve),Fe.push(We.heartRate||null))}return{line:we,times:Re,heartRates:Fe}}function ke(pt){for(var ae=i(pt,"trkseg"),me=[],we=[],Re=[],Fe,rt=0;rt<ae.length;rt++)if(Fe=Ae(ae[rt],"trkpt"),Fe&&(Fe.line&&me.push(Fe.line),Fe.times&&Fe.times.length&&we.push(Fe.times),Re.length||Fe.heartRates&&Fe.heartRates.length)){if(!Re.length)for(var Ve=0;Ve<rt;Ve++)Re.push(fe([],me[Ve].length));Fe.heartRates&&Fe.heartRates.length?Re.push(Fe.heartRates):Re.push(fe([],Fe.line.length||0))}if(me.length!==0){var We=Ke(pt);return S(We,Ne(s(pt,"extensions"))),we.length&&(We.coordTimes=me.length===1?we[0]:we),Re.length&&(We.heartRates=me.length===1?Re[0]:Re),{type:"Feature",properties:We,geometry:{type:me.length===1?"LineString":"MultiLineString",coordinates:me.length===1?me[0]:me}}}}function Oe(pt){var ae=Ae(pt,"rtept");if(ae.line){var me=Ke(pt);S(me,Ne(s(pt,"extensions")));var we={type:"Feature",properties:me,geometry:{type:"LineString",coordinates:ae.line}};return we}}function _e(pt){var ae=Ke(pt);return S(ae,w(pt,["sym"])),{type:"Feature",properties:ae,geometry:{type:"Point",coordinates:k(pt).coordinates}}}function Ne(pt){var ae={};if(pt){var me=s(pt,"line");if(me){var we=x(s(me,"color")),Re=parseFloat(x(s(me,"opacity"))),Fe=parseFloat(x(s(me,"width")));we&&(ae.stroke=we),isNaN(Re)||(ae["stroke-opacity"]=Re),isNaN(Fe)||(ae["stroke-width"]=Fe*96/25.4)}}return ae}function Ke(pt){var ae=w(pt,["name","cmt","desc","type","time","keywords"]),me=i(pt,"link");me.length&&(ae.links=[]);for(var we=0,Re;we<me.length;we++)Re={href:a(me[we],"href")},S(Re,w(me[we],["text","type"])),ae.links.push(Re);return ae}return re}};return te})();var qAe=Se.createContext({});qAe.Provider;var HAe=function(){var e=Object.fromEntries(new URLSearchParams(window.location.search));return e.layers=JSON.parse(e!=null&&e.layers?e.layers:"[]"),e};HAe();sr.string;sr.string;var WAe={visible:!0,urlParameters:{bbox:"{bbox-epsg-3857}",format:"image/png",service:"WMS",version:"1.1.1",request:"GetMap",srs:"EPSG:3857",width:256,height:256,styles:""},attribution:"",sourceOptions:{minZoom:0,maxZoom:20},layerOptions:{minZoom:0,maxZoom:20}};un({},WAe);sr.string.isRequired,sr.shape({layers:sr.string.isRequired,bbox:sr.string,format:sr.string,service:sr.string,version:sr.string,request:sr.string,srs:sr.string,width:sr.number,height:sr.number}),sr.string,sr.string,sr.object,sr.object,sr.string,sr.bool;Se.createElement(rj,null),Se.createElement(Jz,null),Se.createElement(Qz,null);var GAe=Se.createContext({});GAe.Provider;sr.node.isRequired;xr(Iy)({padding:"4px",marginTop:"-3px",background:"none","&:hover":{background:"none"}});Se.createElement(Bj,null),Se.createElement($j,null),Se.createElement(Fj,null),Se.createElement(Nj,null);var Vy=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xy=typeof window>"u"||"Deno"in globalThis;function cc(){}function KAe(e,t){return typeof e=="function"?e(t):e}function GA(e){return typeof e=="number"&&e>=0&&e!==1/0}function Yj(e,t){return Math.max(e+(t||0)-Date.now(),0)}function U0(e,t){return typeof e=="function"?e(t):e}function Yc(e,t){return typeof e=="function"?e(t):e}function oN(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:u,stale:s}=e;if(u){if(n){if(t.queryHash!==jk(u,t.options))return!1}else if(!Ab(t.queryKey,u))return!1}if(r!=="all"){const f=t.isActive();if(r==="active"&&!f||r==="inactive"&&f)return!1}return!(typeof s=="boolean"&&t.isStale()!==s||i&&i!==t.state.fetchStatus||a&&!a(t))}function aN(e,t){const{exact:r,status:n,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Eb(t.options.mutationKey)!==Eb(a))return!1}else if(!Ab(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function jk(e,t){return((t==null?void 0:t.queryKeyHashFn)||Eb)(e)}function Eb(e){return JSON.stringify(e,(t,r)=>XA(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Ab(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Ab(e[r],t[r])):!1}function Uk(e,t){if(e===t)return e;const r=sN(e)&&sN(t);if(r||XA(e)&&XA(t)){const n=r?e:Object.keys(e),i=n.length,a=r?t:Object.keys(t),u=a.length,s=r?[]:{};let f=0;for(let m=0;m<u;m++){const x=r?m:a[m];(!r&&n.includes(x)||r)&&e[x]===void 0&&t[x]===void 0?(s[x]=void 0,f++):(s[x]=Uk(e[x],t[x]),s[x]===e[x]&&e[x]!==void 0&&f++)}return i===u&&f===i?e:s}return t}function KA(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function sN(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function XA(e){if(!lN(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!lN(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function lN(e){return Object.prototype.toString.call(e)==="[object Object]"}function XAe(e){return new Promise(t=>{setTimeout(t,e)})}function ZA(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Uk(e,t):t}function ZAe(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function YAe(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Vk=Symbol();function Jj(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Vk?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var im,jf,q0,z8,JAe=(z8=class extends Vy{constructor(){super();hn(this,im);hn(this,jf);hn(this,q0);Mr(this,q0,t=>{if(!xy&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){mt(this,jf)||this.setEventListener(mt(this,q0))}onUnsubscribe(){var t;this.hasListeners()||((t=mt(this,jf))==null||t.call(this),Mr(this,jf,void 0))}setEventListener(t){var r;Mr(this,q0,t),(r=mt(this,jf))==null||r.call(this),Mr(this,jf,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){mt(this,im)!==t&&(Mr(this,im,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof mt(this,im)=="boolean"?mt(this,im):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},im=new WeakMap,jf=new WeakMap,q0=new WeakMap,z8),qk=new JAe,H0,Uf,W0,j8,QAe=(j8=class extends Vy{constructor(){super();hn(this,H0,!0);hn(this,Uf);hn(this,W0);Mr(this,W0,t=>{if(!xy&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){mt(this,Uf)||this.setEventListener(mt(this,W0))}onUnsubscribe(){var t;this.hasListeners()||((t=mt(this,Uf))==null||t.call(this),Mr(this,Uf,void 0))}setEventListener(t){var r;Mr(this,W0,t),(r=mt(this,Uf))==null||r.call(this),Mr(this,Uf,t(this.setOnline.bind(this)))}setOnline(t){mt(this,H0)!==t&&(Mr(this,H0,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return mt(this,H0)}},H0=new WeakMap,Uf=new WeakMap,W0=new WeakMap,j8),uw=new QAe;function YA(){let e,t;const r=new Promise((i,a)=>{e=i,t=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}function e4e(e){return Math.min(1e3*2**e,3e4)}function Qj(e){return(e??"online")==="online"?uw.isOnline():!0}var eU=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function B3(e){return e instanceof eU}function tU(e){let t=!1,r=0,n=!1,i;const a=YA(),u=k=>{var $;n||(S(new eU(k)),($=e.abort)==null||$.call(e))},s=()=>{t=!0},f=()=>{t=!1},m=()=>qk.isFocused()&&(e.networkMode==="always"||uw.isOnline())&&e.canRun(),x=()=>Qj(e.networkMode)&&e.canRun(),w=k=>{var $;n||(n=!0,($=e.onSuccess)==null||$.call(e,k),i==null||i(),a.resolve(k))},S=k=>{var $;n||(n=!0,($=e.onError)==null||$.call(e,k),i==null||i(),a.reject(k))},C=()=>new Promise(k=>{var $;i=M=>{(n||m())&&k(M)},($=e.onPause)==null||$.call(e)}).then(()=>{var k;i=void 0,n||(k=e.onContinue)==null||k.call(e)}),L=()=>{if(n)return;let k;const $=r===0?e.initialPromise:void 0;try{k=$??e.fn()}catch(M){k=Promise.reject(M)}Promise.resolve(k).then(w).catch(M=>{var K;if(n)return;const z=e.retry??(xy?0:3),B=e.retryDelay??e4e,q=typeof B=="function"?B(r,M):B,te=z===!0||typeof z=="number"&&r<z||typeof z=="function"&&z(r,M);if(t||!te){S(M);return}r++,(K=e.onFail)==null||K.call(e,r,M),XAe(q).then(()=>m()?void 0:C()).then(()=>{t?S(M):L()})})};return{promise:a,cancel:u,continue:()=>(i==null||i(),a),cancelRetry:s,continueRetry:f,canStart:x,start:()=>(x()?L():C().then(L),a)}}function t4e(){let e=[],t=0,r=s=>{s()},n=s=>{s()},i=s=>setTimeout(s,0);const a=s=>{t?e.push(s):i(()=>{r(s)})},u=()=>{const s=e;e=[],s.length&&i(()=>{n(()=>{s.forEach(f=>{r(f)})})})};return{batch:s=>{let f;t++;try{f=s()}finally{t--,t||u()}return f},batchCalls:s=>(...f)=>{a(()=>{s(...f)})},schedule:a,setNotifyFunction:s=>{r=s},setBatchNotifyFunction:s=>{n=s},setScheduler:s=>{i=s}}}var Ya=t4e(),om,U8,rU=(U8=class{constructor(){hn(this,om)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),GA(this.gcTime)&&Mr(this,om,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(xy?1/0:5*60*1e3))}clearGcTimeout(){mt(this,om)&&(clearTimeout(mt(this,om)),Mr(this,om,void 0))}},om=new WeakMap,U8),G0,K0,lc,ol,Ib,am,Gc,Dh,V8,r4e=(V8=class extends rU{constructor(t){super();hn(this,Gc);hn(this,G0);hn(this,K0);hn(this,lc);hn(this,ol);hn(this,Ib);hn(this,am);Mr(this,am,!1),Mr(this,Ib,t.defaultOptions),this.setOptions(t.options),this.observers=[],Mr(this,lc,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Mr(this,G0,n4e(this.options)),this.state=t.state??mt(this,G0),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=mt(this,ol))==null?void 0:t.promise}setOptions(t){this.options={...mt(this,Ib),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&mt(this,lc).remove(this)}setData(t,r){const n=ZA(this.state.data,t,this.options);return Pn(this,Gc,Dh).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Pn(this,Gc,Dh).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,i;const r=(n=mt(this,ol))==null?void 0:n.promise;return(i=mt(this,ol))==null||i.cancel(t),r?r.then(cc).catch(cc):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(mt(this,G0))}isActive(){return this.observers.some(t=>Yc(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Vk||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Yj(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=mt(this,ol))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=mt(this,ol))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),mt(this,lc).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(mt(this,ol)&&(mt(this,am)?mt(this,ol).cancel({revert:!0}):mt(this,ol).cancelRetry()),this.scheduleGc()),mt(this,lc).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Pn(this,Gc,Dh).call(this,{type:"invalidate"})}fetch(t,r){var f,m,x;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(mt(this,ol))return mt(this,ol).continueRetry(),mt(this,ol).promise}if(t&&this.setOptions(t),!this.options.queryFn){const w=this.observers.find(S=>S.options.queryFn);w&&this.setOptions(w.options)}const n=new AbortController,i=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(Mr(this,am,!0),n.signal)})},a=()=>{const w=Jj(this.options,r),S={queryKey:this.queryKey,meta:this.meta};return i(S),Mr(this,am,!1),this.options.persister?this.options.persister(w,S,this):w(S)},u={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(u),(f=this.options.behavior)==null||f.onFetch(u,this),Mr(this,K0,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=u.fetchOptions)==null?void 0:m.meta))&&Pn(this,Gc,Dh).call(this,{type:"fetch",meta:(x=u.fetchOptions)==null?void 0:x.meta});const s=w=>{var S,C,L,k;B3(w)&&w.silent||Pn(this,Gc,Dh).call(this,{type:"error",error:w}),B3(w)||((C=(S=mt(this,lc).config).onError)==null||C.call(S,w,this),(k=(L=mt(this,lc).config).onSettled)==null||k.call(L,this.state.data,w,this)),this.scheduleGc()};return Mr(this,ol,tU({initialPromise:r==null?void 0:r.initialPromise,fn:u.fetchFn,abort:n.abort.bind(n),onSuccess:w=>{var S,C,L,k;if(w===void 0){s(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(w)}catch($){s($);return}(C=(S=mt(this,lc).config).onSuccess)==null||C.call(S,w,this),(k=(L=mt(this,lc).config).onSettled)==null||k.call(L,w,this.state.error,this),this.scheduleGc()},onError:s,onFail:(w,S)=>{Pn(this,Gc,Dh).call(this,{type:"failed",failureCount:w,error:S})},onPause:()=>{Pn(this,Gc,Dh).call(this,{type:"pause"})},onContinue:()=>{Pn(this,Gc,Dh).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),mt(this,ol).start()}},G0=new WeakMap,K0=new WeakMap,lc=new WeakMap,ol=new WeakMap,Ib=new WeakMap,am=new WeakMap,Gc=new WeakSet,Dh=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...nU(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return B3(i)&&i.revert&&mt(this,K0)?{...mt(this,K0),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Ya.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),mt(this,lc).notify({query:this,type:"updated",action:t})})},V8);function nU(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Qj(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function n4e(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Bd,q8,i4e=(q8=class extends Vy{constructor(t={}){super();hn(this,Bd);this.config=t,Mr(this,Bd,new Map)}build(t,r,n){const i=r.queryKey,a=r.queryHash??jk(i,r);let u=this.get(a);return u||(u=new r4e({cache:this,queryKey:i,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(u)),u}add(t){mt(this,Bd).has(t.queryHash)||(mt(this,Bd).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=mt(this,Bd).get(t.queryHash);r&&(t.destroy(),r===t&&mt(this,Bd).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ya.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return mt(this,Bd).get(t)}getAll(){return[...mt(this,Bd).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>oN(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>oN(t,n)):r}notify(t){Ya.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Ya.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ya.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Bd=new WeakMap,q8),zd,wl,sm,jd,Lf,H8,o4e=(H8=class extends rU{constructor(t){super();hn(this,jd);hn(this,zd);hn(this,wl);hn(this,sm);this.mutationId=t.mutationId,Mr(this,wl,t.mutationCache),Mr(this,zd,[]),this.state=t.state||a4e(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){mt(this,zd).includes(t)||(mt(this,zd).push(t),this.clearGcTimeout(),mt(this,wl).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Mr(this,zd,mt(this,zd).filter(r=>r!==t)),this.scheduleGc(),mt(this,wl).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){mt(this,zd).length||(this.state.status==="pending"?this.scheduleGc():mt(this,wl).remove(this))}continue(){var t;return((t=mt(this,sm))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,u,s,f,m,x,w,S,C,L,k,$,M,z,B,q,te,K,ee;Mr(this,sm,tU({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(Q,ge)=>{Pn(this,jd,Lf).call(this,{type:"failed",failureCount:Q,error:ge})},onPause:()=>{Pn(this,jd,Lf).call(this,{type:"pause"})},onContinue:()=>{Pn(this,jd,Lf).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>mt(this,wl).canRun(this)}));const r=this.state.status==="pending",n=!mt(this,sm).canStart();try{if(!r){Pn(this,jd,Lf).call(this,{type:"pending",variables:t,isPaused:n}),await((a=(i=mt(this,wl).config).onMutate)==null?void 0:a.call(i,t,this));const ge=await((s=(u=this.options).onMutate)==null?void 0:s.call(u,t));ge!==this.state.context&&Pn(this,jd,Lf).call(this,{type:"pending",context:ge,variables:t,isPaused:n})}const Q=await mt(this,sm).start();return await((m=(f=mt(this,wl).config).onSuccess)==null?void 0:m.call(f,Q,t,this.state.context,this)),await((w=(x=this.options).onSuccess)==null?void 0:w.call(x,Q,t,this.state.context)),await((C=(S=mt(this,wl).config).onSettled)==null?void 0:C.call(S,Q,null,this.state.variables,this.state.context,this)),await((k=(L=this.options).onSettled)==null?void 0:k.call(L,Q,null,t,this.state.context)),Pn(this,jd,Lf).call(this,{type:"success",data:Q}),Q}catch(Q){try{throw await((M=($=mt(this,wl).config).onError)==null?void 0:M.call($,Q,t,this.state.context,this)),await((B=(z=this.options).onError)==null?void 0:B.call(z,Q,t,this.state.context)),await((te=(q=mt(this,wl).config).onSettled)==null?void 0:te.call(q,void 0,Q,this.state.variables,this.state.context,this)),await((ee=(K=this.options).onSettled)==null?void 0:ee.call(K,void 0,Q,t,this.state.context)),Q}finally{Pn(this,jd,Lf).call(this,{type:"error",error:Q})}}finally{mt(this,wl).runNext(this)}}},zd=new WeakMap,wl=new WeakMap,sm=new WeakMap,jd=new WeakSet,Lf=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ya.batch(()=>{mt(this,zd).forEach(n=>{n.onMutationUpdate(t)}),mt(this,wl).notify({mutation:this,type:"updated",action:t})})},H8);function a4e(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ku,Lb,W8,s4e=(W8=class extends Vy{constructor(t={}){super();hn(this,ku);hn(this,Lb);this.config=t,Mr(this,ku,new Map),Mr(this,Lb,Date.now())}build(t,r,n){const i=new o4e({mutationCache:this,mutationId:++N2(this,Lb)._,options:t.defaultMutationOptions(r),state:n});return this.add(i),i}add(t){const r=Tx(t),n=mt(this,ku).get(r)??[];n.push(t),mt(this,ku).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=Tx(t);if(mt(this,ku).has(r)){const i=(n=mt(this,ku).get(r))==null?void 0:n.filter(a=>a!==t);i&&(i.length===0?mt(this,ku).delete(r):mt(this,ku).set(r,i))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=mt(this,ku).get(Tx(t)))==null?void 0:n.find(i=>i.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=mt(this,ku).get(Tx(t)))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Ya.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...mt(this,ku).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>aN(r,n))}findAll(t={}){return this.getAll().filter(r=>aN(t,r))}notify(t){Ya.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Ya.batch(()=>Promise.all(t.map(r=>r.continue().catch(cc))))}},ku=new WeakMap,Lb=new WeakMap,W8);function Tx(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function uN(e){return{onFetch:(t,r)=>{var x,w,S,C,L;const n=t.options,i=(S=(w=(x=t.fetchOptions)==null?void 0:x.meta)==null?void 0:w.fetchMore)==null?void 0:S.direction,a=((C=t.state.data)==null?void 0:C.pages)||[],u=((L=t.state.data)==null?void 0:L.pageParams)||[];let s={pages:[],pageParams:[]},f=0;const m=async()=>{let k=!1;const $=B=>{Object.defineProperty(B,"signal",{enumerable:!0,get:()=>(t.signal.aborted?k=!0:t.signal.addEventListener("abort",()=>{k=!0}),t.signal)})},M=Jj(t.options,t.fetchOptions),z=async(B,q,te)=>{if(k)return Promise.reject();if(q==null&&B.pages.length)return Promise.resolve(B);const K={queryKey:t.queryKey,pageParam:q,direction:te?"backward":"forward",meta:t.options.meta};$(K);const ee=await M(K),{maxPages:Q}=t.options,ge=te?YAe:ZAe;return{pages:ge(B.pages,ee,Q),pageParams:ge(B.pageParams,q,Q)}};if(i&&a.length){const B=i==="backward",q=B?l4e:cN,te={pages:a,pageParams:u},K=q(n,te);s=await z(te,K,B)}else{const B=e??a.length;do{const q=f===0?u[0]??n.initialPageParam:cN(n,s);if(f>0&&q==null)break;s=await z(s,q),f++}while(f<B)}return s};t.options.persister?t.fetchFn=()=>{var k,$;return($=(k=t.options).persister)==null?void 0:$.call(k,m,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=m}}}function cN(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function l4e(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var sa,Vf,qf,X0,Z0,Hf,Y0,J0,G8,u4e=(G8=class{constructor(e={}){hn(this,sa);hn(this,Vf);hn(this,qf);hn(this,X0);hn(this,Z0);hn(this,Hf);hn(this,Y0);hn(this,J0);Mr(this,sa,e.queryCache||new i4e),Mr(this,Vf,e.mutationCache||new s4e),Mr(this,qf,e.defaultOptions||{}),Mr(this,X0,new Map),Mr(this,Z0,new Map),Mr(this,Hf,0)}mount(){N2(this,Hf)._++,mt(this,Hf)===1&&(Mr(this,Y0,qk.subscribe(async e=>{e&&(await this.resumePausedMutations(),mt(this,sa).onFocus())})),Mr(this,J0,uw.subscribe(async e=>{e&&(await this.resumePausedMutations(),mt(this,sa).onOnline())})))}unmount(){var e,t;N2(this,Hf)._--,mt(this,Hf)===0&&((e=mt(this,Y0))==null||e.call(this),Mr(this,Y0,void 0),(t=mt(this,J0))==null||t.call(this),Mr(this,J0,void 0))}isFetching(e){return mt(this,sa).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return mt(this,Vf).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=mt(this,sa).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=mt(this,sa).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(U0(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return mt(this,sa).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=mt(this,sa).get(n.queryHash),a=i==null?void 0:i.state.data,u=KAe(t,a);if(u!==void 0)return mt(this,sa).build(this,n).setData(u,{...r,manual:!0})}setQueriesData(e,t,r){return Ya.batch(()=>mt(this,sa).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=mt(this,sa).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=mt(this,sa);Ya.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=mt(this,sa),n={type:"active",...e};return Ya.batch(()=>(r.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=Ya.batch(()=>mt(this,sa).findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(cc).catch(cc)}invalidateQueries(e={},t={}){return Ya.batch(()=>{if(mt(this,sa).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=Ya.batch(()=>mt(this,sa).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(cc)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(cc)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=mt(this,sa).build(this,t);return r.isStaleByTime(U0(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(cc).catch(cc)}fetchInfiniteQuery(e){return e.behavior=uN(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(cc).catch(cc)}ensureInfiniteQueryData(e){return e.behavior=uN(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return uw.isOnline()?mt(this,Vf).resumePausedMutations():Promise.resolve()}getQueryCache(){return mt(this,sa)}getMutationCache(){return mt(this,Vf)}getDefaultOptions(){return mt(this,qf)}setDefaultOptions(e){Mr(this,qf,e)}setQueryDefaults(e,t){mt(this,X0).set(Eb(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...mt(this,X0).values()];let r={};return t.forEach(n=>{Ab(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){mt(this,Z0).set(Eb(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...mt(this,Z0).values()];let r={};return t.forEach(n=>{Ab(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...mt(this,qf).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=jk(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Vk&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...mt(this,qf).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){mt(this,sa).clear(),mt(this,Vf).clear()}},sa=new WeakMap,Vf=new WeakMap,qf=new WeakMap,X0=new WeakMap,Z0=new WeakMap,Hf=new WeakMap,Y0=new WeakMap,J0=new WeakMap,G8),Kl,ui,Mb,Sl,lm,Q0,Wf,Ud,Rb,ey,ty,um,cm,Gf,ry,Ri,h1,JA,QA,e4,t4,r4,n4,i4,oU,K8,iU=(K8=class extends Vy{constructor(t,r){super();hn(this,Ri);hn(this,Kl);hn(this,ui);hn(this,Mb);hn(this,Sl);hn(this,lm);hn(this,Q0);hn(this,Wf);hn(this,Ud);hn(this,Rb);hn(this,ey);hn(this,ty);hn(this,um);hn(this,cm);hn(this,Gf);hn(this,ry,new Set);this.options=r,Mr(this,Kl,t),Mr(this,Ud,null),Mr(this,Wf,YA()),this.options.experimental_prefetchInRender||mt(this,Wf).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(mt(this,ui).addObserver(this),dN(mt(this,ui),this.options)?Pn(this,Ri,h1).call(this):this.updateResult(),Pn(this,Ri,t4).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return o4(mt(this,ui),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return o4(mt(this,ui),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Pn(this,Ri,r4).call(this),Pn(this,Ri,n4).call(this),mt(this,ui).removeObserver(this)}setOptions(t,r){const n=this.options,i=mt(this,ui);if(this.options=mt(this,Kl).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Yc(this.options.enabled,mt(this,ui))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Pn(this,Ri,i4).call(this),mt(this,ui).setOptions(this.options),n._defaulted&&!KA(this.options,n)&&mt(this,Kl).getQueryCache().notify({type:"observerOptionsUpdated",query:mt(this,ui),observer:this});const a=this.hasListeners();a&&hN(mt(this,ui),i,this.options,n)&&Pn(this,Ri,h1).call(this),this.updateResult(r),a&&(mt(this,ui)!==i||Yc(this.options.enabled,mt(this,ui))!==Yc(n.enabled,mt(this,ui))||U0(this.options.staleTime,mt(this,ui))!==U0(n.staleTime,mt(this,ui)))&&Pn(this,Ri,JA).call(this);const u=Pn(this,Ri,QA).call(this);a&&(mt(this,ui)!==i||Yc(this.options.enabled,mt(this,ui))!==Yc(n.enabled,mt(this,ui))||u!==mt(this,Gf))&&Pn(this,Ri,e4).call(this,u)}getOptimisticResult(t){const r=mt(this,Kl).getQueryCache().build(mt(this,Kl),t),n=this.createResult(r,t);return d4e(this,n)&&(Mr(this,Sl,n),Mr(this,Q0,this.options),Mr(this,lm,mt(this,ui).state)),n}getCurrentResult(){return mt(this,Sl)}trackResult(t,r){const n={};return Object.keys(t).forEach(i=>{Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),r==null||r(i),t[i])})}),n}trackProp(t){mt(this,ry).add(t)}getCurrentQuery(){return mt(this,ui)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=mt(this,Kl).defaultQueryOptions(t),n=mt(this,Kl).getQueryCache().build(mt(this,Kl),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Pn(this,Ri,h1).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),mt(this,Sl)))}createResult(t,r){var Q;const n=mt(this,ui),i=this.options,a=mt(this,Sl),u=mt(this,lm),s=mt(this,Q0),m=t!==n?t.state:mt(this,Mb),{state:x}=t;let w={...x},S=!1,C;if(r._optimisticResults){const ge=this.hasListeners(),Y=!ge&&dN(t,r),Z=ge&&hN(t,n,r,i);(Y||Z)&&(w={...w,...nU(x.data,t.options)}),r._optimisticResults==="isRestoring"&&(w.fetchStatus="idle")}let{error:L,errorUpdatedAt:k,status:$}=w;if(r.select&&w.data!==void 0)if(a&&w.data===(u==null?void 0:u.data)&&r.select===mt(this,Rb))C=mt(this,ey);else try{Mr(this,Rb,r.select),C=r.select(w.data),C=ZA(a==null?void 0:a.data,C,r),Mr(this,ey,C),Mr(this,Ud,null)}catch(ge){Mr(this,Ud,ge)}else C=w.data;if(r.placeholderData!==void 0&&C===void 0&&$==="pending"){let ge;if(a!=null&&a.isPlaceholderData&&r.placeholderData===(s==null?void 0:s.placeholderData))ge=a.data;else if(ge=typeof r.placeholderData=="function"?r.placeholderData((Q=mt(this,ty))==null?void 0:Q.state.data,mt(this,ty)):r.placeholderData,r.select&&ge!==void 0)try{ge=r.select(ge),Mr(this,Ud,null)}catch(Y){Mr(this,Ud,Y)}ge!==void 0&&($="success",C=ZA(a==null?void 0:a.data,ge,r),S=!0)}mt(this,Ud)&&(L=mt(this,Ud),C=mt(this,ey),k=Date.now(),$="error");const M=w.fetchStatus==="fetching",z=$==="pending",B=$==="error",q=z&&M,te=C!==void 0,ee={status:$,fetchStatus:w.fetchStatus,isPending:z,isSuccess:$==="success",isError:B,isInitialLoading:q,isLoading:q,data:C,dataUpdatedAt:w.dataUpdatedAt,error:L,errorUpdatedAt:k,failureCount:w.fetchFailureCount,failureReason:w.fetchFailureReason,errorUpdateCount:w.errorUpdateCount,isFetched:w.dataUpdateCount>0||w.errorUpdateCount>0,isFetchedAfterMount:w.dataUpdateCount>m.dataUpdateCount||w.errorUpdateCount>m.errorUpdateCount,isFetching:M,isRefetching:M&&!z,isLoadingError:B&&!te,isPaused:w.fetchStatus==="paused",isPlaceholderData:S,isRefetchError:B&&te,isStale:Hk(t,r),refetch:this.refetch,promise:mt(this,Wf)};if(this.options.experimental_prefetchInRender){const ge=re=>{ee.status==="error"?re.reject(ee.error):ee.data!==void 0&&re.resolve(ee.data)},Y=()=>{const re=Mr(this,Wf,ee.promise=YA());ge(re)},Z=mt(this,Wf);switch(Z.status){case"pending":t.queryHash===n.queryHash&&ge(Z);break;case"fulfilled":(ee.status==="error"||ee.data!==Z.value)&&Y();break;case"rejected":(ee.status!=="error"||ee.error!==Z.reason)&&Y();break}}return ee}updateResult(t){const r=mt(this,Sl),n=this.createResult(mt(this,ui),this.options);if(Mr(this,lm,mt(this,ui).state),Mr(this,Q0,this.options),mt(this,lm).data!==void 0&&Mr(this,ty,mt(this,ui)),KA(n,r))return;Mr(this,Sl,n);const i={},a=()=>{if(!r)return!0;const{notifyOnChangeProps:u}=this.options,s=typeof u=="function"?u():u;if(s==="all"||!s&&!mt(this,ry).size)return!0;const f=new Set(s??mt(this,ry));return this.options.throwOnError&&f.add("error"),Object.keys(mt(this,Sl)).some(m=>{const x=m;return mt(this,Sl)[x]!==r[x]&&f.has(x)})};(t==null?void 0:t.listeners)!==!1&&a()&&(i.listeners=!0),Pn(this,Ri,oU).call(this,{...i,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Pn(this,Ri,t4).call(this)}},Kl=new WeakMap,ui=new WeakMap,Mb=new WeakMap,Sl=new WeakMap,lm=new WeakMap,Q0=new WeakMap,Wf=new WeakMap,Ud=new WeakMap,Rb=new WeakMap,ey=new WeakMap,ty=new WeakMap,um=new WeakMap,cm=new WeakMap,Gf=new WeakMap,ry=new WeakMap,Ri=new WeakSet,h1=function(t){Pn(this,Ri,i4).call(this);let r=mt(this,ui).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(cc)),r},JA=function(){Pn(this,Ri,r4).call(this);const t=U0(this.options.staleTime,mt(this,ui));if(xy||mt(this,Sl).isStale||!GA(t))return;const n=Yj(mt(this,Sl).dataUpdatedAt,t)+1;Mr(this,um,setTimeout(()=>{mt(this,Sl).isStale||this.updateResult()},n))},QA=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(mt(this,ui)):this.options.refetchInterval)??!1},e4=function(t){Pn(this,Ri,n4).call(this),Mr(this,Gf,t),!(xy||Yc(this.options.enabled,mt(this,ui))===!1||!GA(mt(this,Gf))||mt(this,Gf)===0)&&Mr(this,cm,setInterval(()=>{(this.options.refetchIntervalInBackground||qk.isFocused())&&Pn(this,Ri,h1).call(this)},mt(this,Gf)))},t4=function(){Pn(this,Ri,JA).call(this),Pn(this,Ri,e4).call(this,Pn(this,Ri,QA).call(this))},r4=function(){mt(this,um)&&(clearTimeout(mt(this,um)),Mr(this,um,void 0))},n4=function(){mt(this,cm)&&(clearInterval(mt(this,cm)),Mr(this,cm,void 0))},i4=function(){const t=mt(this,Kl).getQueryCache().build(mt(this,Kl),this.options);if(t===mt(this,ui))return;const r=mt(this,ui);Mr(this,ui,t),Mr(this,Mb,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},oU=function(t){Ya.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(mt(this,Sl))}),mt(this,Kl).getQueryCache().notify({query:mt(this,ui),type:"observerResultsUpdated"})})},K8);function c4e(e,t){return Yc(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function dN(e,t){return c4e(e,t)||e.state.data!==void 0&&o4(e,t,t.refetchOnMount)}function o4(e,t,r){if(Yc(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Hk(e,t)}return!1}function hN(e,t,r,n){return(e!==t||Yc(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Hk(e,r)}function Hk(e,t){return Yc(t.enabled,e)!==!1&&e.isStaleByTime(U0(t.staleTime,e))}function d4e(e,t){return!KA(e.getCurrentResult(),t)}function fN(e,t){return e.filter(r=>!t.includes(r))}function h4e(e,t,r){const n=e.slice(0);return n[t]=r,n}var ny,uc,dm,iy,Iu,Kf,Db,Ob,hs,a4,s4,o_,l4,u4,X8,f4e=(X8=class extends Vy{constructor(t,r,n){super();hn(this,hs);hn(this,ny);hn(this,uc);hn(this,dm);hn(this,iy);hn(this,Iu);hn(this,Kf);hn(this,Db);hn(this,Ob);Mr(this,ny,t),Mr(this,iy,n),Mr(this,dm,[]),Mr(this,Iu,[]),Mr(this,uc,[]),this.setQueries(r)}onSubscribe(){this.listeners.size===1&&mt(this,Iu).forEach(t=>{t.subscribe(r=>{Pn(this,hs,l4).call(this,t,r)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,mt(this,Iu).forEach(t=>{t.destroy()})}setQueries(t,r,n){Mr(this,dm,t),Mr(this,iy,r),Ya.batch(()=>{const i=mt(this,Iu),a=Pn(this,hs,o_).call(this,mt(this,dm));a.forEach(m=>m.observer.setOptions(m.defaultedQueryOptions,n));const u=a.map(m=>m.observer),s=u.map(m=>m.getCurrentResult()),f=u.some((m,x)=>m!==i[x]);i.length===u.length&&!f||(Mr(this,Iu,u),Mr(this,uc,s),this.hasListeners()&&(fN(i,u).forEach(m=>{m.destroy()}),fN(u,i).forEach(m=>{m.subscribe(x=>{Pn(this,hs,l4).call(this,m,x)})}),Pn(this,hs,u4).call(this)))})}getCurrentResult(){return mt(this,uc)}getQueries(){return mt(this,Iu).map(t=>t.getCurrentQuery())}getObservers(){return mt(this,Iu)}getOptimisticResult(t,r){const i=Pn(this,hs,o_).call(this,t).map(a=>a.observer.getOptimisticResult(a.defaultedQueryOptions));return[i,a=>Pn(this,hs,s4).call(this,a??i,r),()=>Pn(this,hs,a4).call(this,i,t)]}},ny=new WeakMap,uc=new WeakMap,dm=new WeakMap,iy=new WeakMap,Iu=new WeakMap,Kf=new WeakMap,Db=new WeakMap,Ob=new WeakMap,hs=new WeakSet,a4=function(t,r){const n=Pn(this,hs,o_).call(this,r);return n.map((i,a)=>{const u=t[a];return i.defaultedQueryOptions.notifyOnChangeProps?u:i.observer.trackResult(u,s=>{n.forEach(f=>{f.observer.trackProp(s)})})})},s4=function(t,r){return r?((!mt(this,Kf)||mt(this,uc)!==mt(this,Ob)||r!==mt(this,Db))&&(Mr(this,Db,r),Mr(this,Ob,mt(this,uc)),Mr(this,Kf,Uk(mt(this,Kf),r(t)))),mt(this,Kf)):t},o_=function(t){const r=new Map(mt(this,Iu).map(i=>[i.options.queryHash,i])),n=[];return t.forEach(i=>{const a=mt(this,ny).defaultQueryOptions(i),u=r.get(a.queryHash);if(u)n.push({defaultedQueryOptions:a,observer:u});else{const s=mt(this,Iu).find(f=>f.options.queryHash===a.queryHash);n.push({defaultedQueryOptions:a,observer:s??new iU(mt(this,ny),a)})}}),n.sort((i,a)=>t.findIndex(u=>u.queryHash===i.defaultedQueryOptions.queryHash)-t.findIndex(u=>u.queryHash===a.defaultedQueryOptions.queryHash))},l4=function(t,r){const n=mt(this,Iu).indexOf(t);n!==-1&&(Mr(this,uc,h4e(mt(this,uc),n,r)),Pn(this,hs,u4).call(this))},u4=function(){var t;if(this.hasListeners()){const r=mt(this,Kf),n=Pn(this,hs,s4).call(this,Pn(this,hs,a4).call(this,mt(this,uc),mt(this,dm)),(t=mt(this,iy))==null?void 0:t.combine);r!==n&&Ya.batch(()=>{this.listeners.forEach(i=>{i(mt(this,uc))})})}},X8),aU=V.createContext(void 0),p4e=e=>{const t=V.useContext(aU);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},m4e=({client:e,children:t})=>(V.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),$e.jsx(aU.Provider,{value:e,children:t})),sU=V.createContext(!1),g4e=()=>V.useContext(sU);sU.Provider;function y4e(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var v4e=V.createContext(y4e()),b4e=()=>V.useContext(v4e);function x4e(e,t){return typeof e=="function"?e(...t):!!e}function _4e(){}var w4e=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},S4e=e=>{V.useEffect(()=>{e.clearReset()},[e])},C4e=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&x4e(r,[e.error,n]),E4e=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},A4e=(e,t)=>e.isLoading&&e.isFetching&&!t,pN=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,mN=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function T4e({queries:e,...t},r){const n=p4e(),i=g4e(),a=b4e(),u=V.useMemo(()=>e.map(L=>{const k=n.defaultQueryOptions(L);return k._optimisticResults=i?"isRestoring":"optimistic",k}),[e,n,i]);u.forEach(L=>{E4e(L),w4e(L,a)}),S4e(a);const[s]=V.useState(()=>new f4e(n,u,t)),[f,m,x]=s.getOptimisticResult(u,t.combine);V.useSyncExternalStore(V.useCallback(L=>i?_4e:s.subscribe(Ya.batchCalls(L)),[s,i]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),V.useEffect(()=>{s.setQueries(u,t,{listeners:!1})},[u,t,s]);const S=f.some((L,k)=>pN(u[k],L))?f.flatMap((L,k)=>{const $=u[k];if($){const M=new iU(n,$);if(pN($,L))return mN($,M,a);A4e(L,i)&&mN($,M,a)}return[]}):[];if(S.length>0)throw Promise.all(S);const C=f.find((L,k)=>{const $=u[k];return $&&C4e({result:L,errorResetBoundary:a,throwOnError:$.throwOnError,query:n.getQueryCache().get($.queryHash)})});if(C!=null&&C.error)throw C.error;return m(x())}const lU=window.location.origin+"/react-map-components-apps/multi_tab/",qy=V.createContext(void 0),gN=["park.json","restaurant.json"],P4e=({children:e})=>{const t=T4e({queries:gN.map(a=>({queryKey:["geoJson:",a],queryFn:async()=>{const u=await fetch(lU+a);if(!u.ok)throw new Error("Failed to fetch!");return u.json()}}))}),i=t.every(a=>a.isSuccess)?t.reduce((a,u,s)=>(a[gN[s]]=u.data,a),{}):{};return $e.jsx(qy.Provider,{value:i,children:e})};function k4e({setSelected:e,setSrc:t}){const r="park.json",n=V.useContext(qy);if(n&&n[r])return $e.jsx($e.Fragment,{children:$e.jsx(zk,{configurable:!0,type:"layer",layerId:"park",name:"Parks",layerComponent:$e.jsx(Bk,{layerId:"parks",geojson:n[r],onClick:i=>{var a,u;e((u=(a=i==null?void 0:i.features)==null?void 0:a[0])==null?void 0:u.properties["@id"]),t(r)},options:{paint:{"fill-color":"#176A17","fill-outline-color":"#000","fill-opacity":.5}},labelProp:"name"})})})}const c4=e=>{navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"BROADCAST",message:e})};function I4e({setSelected:e,setSrc:t}){const r="restaurant.json",n=V.useContext(qy);if(n)return $e.jsx($e.Fragment,{children:$e.jsx(zk,{configurable:!0,type:"layer",layerId:"restaurant",name:"Restaurants",layerComponent:$e.jsx(Bk,{geojson:n[r],layerId:"restaurants",type:"circle",onClick:i=>{e(i==null?void 0:i.features[0].properties["@id"]),t(r)},options:{paint:{"circle-color":"#ffbf00","circle-opacity":.75,"circle-stroke-color":"#000","circle-stroke-width":1,"circle-radius":5}},labelProp:"name"})})})}const uU=e=>{const t=e.variant||"outline",[r,n]=V.useState(),[i,a]=V.useState(),[u,s]=V.useState("circle"),m={dark:{color:"#555555",opacity:.5},outline:{color:"#40e0d0",lineColor:"#40e0d0",lineWidth:6,opacity:1},hell:{color:"#40e0d0",opacity:1}};function x(w){const S=w;switch(w.geometry.type){case"Polygon":e.variant=="outline"?(a({"line-color":m.outline.color,"line-width":m.outline.lineWidth,"line-offset":e.offset,...e.paint}),s("line")):(a({"fill-color":m[t].color,"fill-opacity":m[t].opacity,...e.paint}),s("fill"));break;case"LineString":t!="outline"&&(a({"line-color":m[t].color,"line-opacity":m[t].opacity,...e.paint}),s("line"));break;case"Point":t=="outline"?(s("circle"),a({"circle-stroke-color":m[t].lineColor,"circle-opacity":0,"circle-stroke-width":2,"circle-radius":e.offset&&Math.abs(e.offset),...e.paint})):(a({"circle-color":m[t].color,"circle-opacity":m[t].opacity,...e.paint}),s("circle"));break}return S}return V.useEffect(()=>{if(!e.features){n(void 0);return}const w=[];e.features.forEach(S=>w.push(x(S))),n($oe(w))},[e.features]),$e.jsx($e.Fragment,{children:r&&$e.jsx(Bk,{mapId:e.mapId,geojson:r,layerId:"MlHighlightFeature",type:u,options:{paint:i},insertBeforeLayer:e.insertBeforeLayer})})};uU.defaultProps={mapId:void 0,offset:0,variant:"outlined"};const L4e=(e,t,r)=>{for(const n of e)if(t===n.id){if(r==="restaurant.json")return n.geometry.coordinates;{const i=n.geometry.coordinates;return M4e(i)}}throw new Error(`Feature with id ${t} not found`)},M4e=e=>{var a;if(!Array.isArray(e)||e.length===0)throw new Error("Invalid coordinates");const t=[],r=[];(a=e[0])==null||a.forEach(([u,s])=>{t.push(u),r.push(s)});const n=t.reduce((u,s)=>u+s,0)/t.length,i=r.reduce((u,s)=>u+s,0)/r.length;return[n,i]},R4e=(e,t)=>{for(const r of Object.values(e)){const n=r.features.find(i=>i.id===t);if(n)return n}return null};function D4e(){const e=$k(),[t,r]=V.useState(),[n,i]=V.useState(),[a,u]=V.useState(null),s=V.useContext(qy);return V.useEffect(()=>{if("serviceWorker"in navigator){const f=m=>{var x,w;m.data.type==="selectedFromDataTable"&&(r((x=m.data.message)==null?void 0:x.selected),u((w=m.data.message)==null?void 0:w.src))};return navigator.serviceWorker.addEventListener("message",f),()=>{navigator.serviceWorker.removeEventListener("message",f)}}},[r]),V.useEffect(()=>{var x;if(!e.map||!t)return;i(R4e(s,t));const f=L4e((x=s[a])==null?void 0:x.features,t,a),m=a==="park.json"?15:17;e.map.flyTo({center:f,zoom:m}),c4({type:"selectedFromLayerManager",message:{selected:t,src:a}})},[t,a,e.map,s]),V.useEffect(()=>{if(!e.map||!e.map.getLayer("parks")||!e.map.getLayer("restaurants"))return;const f=()=>{const m=[];e.map.queryRenderedFeatures({layers:["parks","restaurants"]}).forEach(w=>{const S=w==null?void 0:w.properties["@id"];S&&!m.includes(S)&&m.push(S)}),c4({type:"showObjects",message:m})};return e.map.on("moveend",f),()=>{e.map.off("moveend",f)}},[e.map]),$e.jsx($e.Fragment,{children:$e.jsxs(VAe,{open:!0,name:"Layers",children:[$e.jsxs(SAe,{children:[$e.jsx(k4e,{selected:t,setSelected:r,setSrc:u}),$e.jsx(I4e,{selected:t,setSelected:r,setSrc:u})]}),n&&$e.jsx(uU,{features:[n],variant:"hell",offset:1})]})})}const Tb={black:"#000",white:"#fff"},Rg={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Dg={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Og={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Ng={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Fg={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},qv={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},O4e={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Dm(e,...t){const r=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(n=>r.searchParams.append("args[]",n)),`Minified MUI error #${e}; visit ${r} for the full message.`}const cS="$$material";function d4(e,...t){const r=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(n=>r.searchParams.append("args[]",n)),`Minified MUI error #${e}; visit ${r} for the full message.`}function N4e(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var F4e=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,$4e=N4e(function(e){return F4e.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),B4e=!1;function z4e(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function j4e(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var U4e=function(){function e(r){var n=this;this._insertTag=function(i){var a;n.tags.length===0?n.insertionPoint?a=n.insertionPoint.nextSibling:n.prepend?a=n.container.firstChild:a=n.before:a=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,a),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!B4e:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(j4e(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=z4e(i);try{a.insertRule(n,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var i;return(i=n.parentNode)==null?void 0:i.removeChild(n)}),this.tags=[],this.ctr=0},e}(),V4e=function(t,r,n){for(var i=0,a=0;i=a,a=Bu(),i===38&&a===12&&(r[n]=1),!Am(a);)Pl();return Py(t,ul)},q4e=function(t,r){var n=-1,i=44;do switch(Am(i)){case 0:i===38&&Bu()===12&&(r[n]=1),t[n]+=V4e(ul-1,r,n);break;case 2:t[n]+=E1(i);break;case 4:if(i===44){t[++n]=Bu()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=Ub(i)}while(i=Pl());return t},H4e=function(t,r){return kT(q4e(PT(t),r))},yN=new WeakMap,W4e=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,i=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!yN.get(n))&&!i){yN.set(t,!0);for(var a=[],u=H4e(r,a),s=n.props,f=0,m=0;f<u.length;f++)for(var x=0;x<s.length;x++,m++)t.props[m]=a[f]?u[f].replace(/&\f/g,s[x]):s[x]+" "+u[f]}}},G4e=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function cU(e,t){switch(fB(e,t)){case 5103:return Jr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Jr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Jr+e+cp+e+Ci+e+e;case 6828:case 4268:return Jr+e+Ci+e+e;case 6165:return Jr+e+Ci+"flex-"+e+e;case 5187:return Jr+e+an(e,/(\w+).+(:[^]+)/,Jr+"box-$1$2"+Ci+"flex-$1$2")+e;case 5443:return Jr+e+Ci+"flex-item-"+an(e,/flex-|-self/,"")+e;case 4675:return Jr+e+Ci+"flex-line-pack"+an(e,/align-content|flex-|-self/,"")+e;case 5548:return Jr+e+Ci+an(e,"shrink","negative")+e;case 5292:return Jr+e+Ci+an(e,"basis","preferred-size")+e;case 6060:return Jr+"box-"+an(e,"-grow","")+Jr+e+Ci+an(e,"grow","positive")+e;case 4554:return Jr+an(e,/([^-])(transform)/g,"$1"+Jr+"$2")+e;case 6187:return an(an(an(e,/(zoom-|grab)/,Jr+"$1"),/(image-set)/,Jr+"$1"),e,"")+e;case 5495:case 3959:return an(e,/(image-set\([^]*)/,Jr+"$1$`$1");case 4968:return an(an(e,/(.+:)(flex-)?(.*)/,Jr+"box-pack:$3"+Ci+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Jr+e+e;case 4095:case 3583:case 4068:case 2532:return an(e,/(.+)-inline(.+)/,Jr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(mc(e)-1-t>6)switch(Oo(e,t+1)){case 109:if(Oo(e,t+4)!==45)break;case 102:return an(e,/(.+:)(.+)-([^]+)/,"$1"+Jr+"$2-$3$1"+cp+(Oo(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~nb(e,"stretch")?cU(an(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Oo(e,t+1)!==115)break;case 6444:switch(Oo(e,mc(e)-3-(~nb(e,"!important")&&10))){case 107:return an(e,":",":"+Jr)+e;case 101:return an(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Jr+(Oo(e,14)===45?"inline-":"")+"box$3$1"+Jr+"$2$3$1"+Ci+"$2box$3")+e}break;case 5936:switch(Oo(e,t+11)){case 114:return Jr+e+Ci+an(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Jr+e+Ci+an(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Jr+e+Ci+an(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Jr+e+Ci+e+e}return e}var K4e=function(t,r,n,i){if(t.length>-1&&!t.return)switch(t.type){case Dw:t.return=cU(t.value,t.length);break;case AT:return Qd([Xd(t,{value:an(t.value,"@","@"+Jr)})],i);case Rw:if(t.length)return gB(t.props,function(a){switch(mB(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Qd([Xd(t,{props:[an(a,/:(read-\w+)/,":"+cp+"$1")]})],i);case"::placeholder":return Qd([Xd(t,{props:[an(a,/:(plac\w+)/,":"+Jr+"input-$1")]}),Xd(t,{props:[an(a,/:(plac\w+)/,":"+cp+"$1")]}),Xd(t,{props:[an(a,/:(plac\w+)/,Ci+"input-$1")]})],i)}return""})}},X4e=[K4e],Z4e=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(k){var $=k.getAttribute("data-emotion");$.indexOf(" ")!==-1&&(document.head.appendChild(k),k.setAttribute("data-s",""))})}var i=t.stylisPlugins||X4e,a={},u,s=[];u=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(k){for(var $=k.getAttribute("data-emotion").split(" "),M=1;M<$.length;M++)a[$[M]]=!0;s.push(k)});var f,m=[W4e,G4e];{var x,w=[bB,_B(function(k){x.insert(k)})],S=xB(m.concat(i,w)),C=function($){return Qd(vB($),S)};f=function($,M,z,B){x=z,C($?$+"{"+M.styles+"}":M.styles),B&&(L.inserted[M.name]=!0)}}var L={key:r,sheet:new U4e({key:r,container:u,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:f};return L.sheet.hydrate(s),L},Y4e=function(t,r,n){t.key+""+r.name},J4e=function(t,r,n){Y4e(t,r);var i=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var a=r;do t.insert(r===a?"."+i:"",a,t.sheet,!0),a=a.next;while(a!==void 0)}};function Q4e(e){for(var t=0,r,n=0,i=e.length;i>=4;++n,i-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var eTe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function tTe(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var rTe=!1,nTe=/[A-Z]|^ms/g,iTe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,dU=function(t){return t.charCodeAt(1)===45},vN=function(t){return t!=null&&typeof t!="boolean"},z3=tTe(function(e){return dU(e)?e:e.replace(nTe,"-$&").toLowerCase()}),bN=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(iTe,function(n,i,a){return Wd={name:i,styles:a,next:Wd},i})}return eTe[t]!==1&&!dU(t)&&typeof r=="number"&&r!==0?r+"px":r},oTe="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Pb(e,t,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var i=r;if(i.anim===1)return Wd={name:i.name,styles:i.styles,next:Wd},i.name;var a=r;if(a.styles!==void 0){var u=a.next;if(u!==void 0)for(;u!==void 0;)Wd={name:u.name,styles:u.styles,next:Wd},u=u.next;var s=a.styles+";";return s}return aTe(e,t,r)}case"function":{if(e!==void 0){var f=Wd,m=r(e);return Wd=f,Pb(e,t,m)}break}}var x=r;if(t==null)return x;var w=t[x];return w!==void 0?w:x}function aTe(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=Pb(e,t,r[i])+";";else for(var a in r){var u=r[a];if(typeof u!="object"){var s=u;t!=null&&t[s]!==void 0?n+=a+"{"+t[s]+"}":vN(s)&&(n+=z3(a)+":"+bN(a,s)+";")}else{if(a==="NO_COMPONENT_SELECTOR"&&rTe)throw new Error(oTe);if(Array.isArray(u)&&typeof u[0]=="string"&&(t==null||t[u[0]]===void 0))for(var f=0;f<u.length;f++)vN(u[f])&&(n+=z3(a)+":"+bN(a,u[f])+";");else{var m=Pb(e,t,u);switch(a){case"animation":case"animationName":{n+=z3(a)+":"+m+";";break}default:n+=a+"{"+m+"}"}}}}return n}var xN=/label:\s*([^\s;{]+)\s*(;|$)/g,Wd;function dS(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,i="";Wd=void 0;var a=e[0];if(a==null||a.raw===void 0)n=!1,i+=Pb(r,t,a);else{var u=a;i+=u[0]}for(var s=1;s<e.length;s++)if(i+=Pb(r,t,e[s]),n){var f=a;i+=f[s]}xN.lastIndex=0;for(var m="",x;(x=xN.exec(i))!==null;)m+="-"+x[1];var w=Q4e(i)+m;return{name:w,styles:i,next:Wd}}var sTe=Wh.useInsertionEffect?Wh.useInsertionEffect:!1,_N=sTe||V.useLayoutEffect,hU=V.createContext(typeof HTMLElement<"u"?Z4e({key:"css"}):null);hU.Provider;var fU=function(t){return V.forwardRef(function(r,n){var i=V.useContext(hU);return t(r,i,n)})},Wk=V.createContext({}),lTe=fU(function(e,t){var r=e.styles,n=dS([r],void 0,V.useContext(Wk)),i=V.useRef();return _N(function(){var a=t.key+"-global",u=new t.sheet.constructor({key:a,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),s=!1,f=document.querySelector('style[data-emotion="'+a+" "+n.name+'"]');return t.sheet.tags.length&&(u.before=t.sheet.tags[0]),f!==null&&(s=!0,f.setAttribute("data-emotion",a),u.hydrate([f])),i.current=[u,s],function(){u.flush()}},[t]),_N(function(){var a=i.current,u=a[0],s=a[1];if(s){a[1]=!1;return}if(n.next!==void 0&&J4e(t,n.next),u.tags.length){var f=u.tags[u.tags.length-1].nextElementSibling;u.before=f,u.flush()}t.insert("",n,u,!1)},[t,n.name]),null});function uTe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return dS(t)}var Gk=function(){var t=uTe.apply(void 0,arguments),r="animation-"+t.name;return{name:r,styles:"@keyframes "+r+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},cTe=!0;function dTe(e,t,r){var n="";return r.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(n+=i+" ")}),n}var pU=function(t,r,n){var i=t.key+"-"+r.name;(n===!1||cTe===!1)&&t.registered[i]===void 0&&(t.registered[i]=r.styles)},hTe=function(t,r,n){pU(t,r,n);var i=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var a=r;do t.insert(r===a?"."+i:"",a,t.sheet,!0),a=a.next;while(a!==void 0)}},fTe=function(t){return t()},pTe=Wh.useInsertionEffect?Wh.useInsertionEffect:!1,mTe=pTe||fTe,gTe=$4e,yTe=function(t){return t!=="theme"},wN=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?gTe:yTe},SN=function(t,r,n){var i;if(r){var a=r.shouldForwardProp;i=t.__emotion_forwardProp&&a?function(u){return t.__emotion_forwardProp(u)&&a(u)}:a}return typeof i!="function"&&n&&(i=t.__emotion_forwardProp),i},vTe=!1,bTe=function(t){var r=t.cache,n=t.serialized,i=t.isStringTag;return pU(r,n,i),mTe(function(){return hTe(r,n,i)}),null},xTe=function e(t,r){var n=t.__emotion_real===t,i=n&&t.__emotion_base||t,a,u;r!==void 0&&(a=r.label,u=r.target);var s=SN(t,r,n),f=s||wN(i),m=!f("as");return function(){var x=arguments,w=n&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(a!==void 0&&w.push("label:"+a+";"),x[0]==null||x[0].raw===void 0)w.push.apply(w,x);else{w.push(x[0][0]);for(var S=x.length,C=1;C<S;C++)w.push(x[C],x[0][C])}var L=fU(function(k,$,M){var z=m&&k.as||i,B="",q=[],te=k;if(k.theme==null){te={};for(var K in k)te[K]=k[K];te.theme=V.useContext(Wk)}typeof k.className=="string"?B=dTe($.registered,q,k.className):k.className!=null&&(B=k.className+" ");var ee=dS(w.concat(q),$.registered,te);B+=$.key+"-"+ee.name,u!==void 0&&(B+=" "+u);var Q=m&&s===void 0?wN(z):f,ge={};for(var Y in k)m&&Y==="as"||Q(Y)&&(ge[Y]=k[Y]);return ge.className=B,M&&(ge.ref=M),V.createElement(V.Fragment,null,V.createElement(bTe,{cache:$,serialized:ee,isStringTag:typeof z=="string"}),V.createElement(z,ge))});return L.displayName=a!==void 0?a:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",L.defaultProps=t.defaultProps,L.__emotion_real=L,L.__emotion_base=i,L.__emotion_styles=w,L.__emotion_forwardProp=s,Object.defineProperty(L,"toString",{value:function(){return u===void 0&&vTe?"NO_COMPONENT_SELECTOR":"."+u}}),L.withComponent=function(k,$){return e(k,rb({},r,$,{shouldForwardProp:SN(L,$,!0)})).apply(void 0,w)},L}},_Te=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],h4=xTe.bind();_Te.forEach(function(e){h4[e]=h4(e)});function wTe(e){return e==null||Object.keys(e).length===0}function STe(e){const{styles:t,defaultTheme:r={}}=e,n=typeof t=="function"?i=>t(wTe(i)?r:i):t;return $e.jsx(lTe,{styles:n})}/**
 * @mui/styled-engine v6.1.7
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function mU(e,t){return h4(e,t)}function CTe(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const CN=[];function EN(e){return CN[0]=e,dS(CN)}function Bf(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function gU(e){if(!Bf(e))return e;const t={};return Object.keys(e).forEach(r=>{t[r]=gU(e[r])}),t}function vm(e,t,r={clone:!0}){const n=r.clone?{...e}:e;return Bf(e)&&Bf(t)&&Object.keys(t).forEach(i=>{Bf(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&Bf(e[i])?n[i]=vm(e[i],t[i],r):r.clone?n[i]=Bf(t[i])?gU(t[i]):t[i]:n[i]=t[i]}),n}const ETe=e=>{const t=Object.keys(e).map(r=>({key:r,val:e[r]}))||[];return t.sort((r,n)=>r.val-n.val),t.reduce((r,n)=>({...r,[n.key]:n.val}),{})};function ATe(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5,...i}=e,a=ETe(t),u=Object.keys(a);function s(S){return`@media (min-width:${typeof t[S]=="number"?t[S]:S}${r})`}function f(S){return`@media (max-width:${(typeof t[S]=="number"?t[S]:S)-n/100}${r})`}function m(S,C){const L=u.indexOf(C);return`@media (min-width:${typeof t[S]=="number"?t[S]:S}${r}) and (max-width:${(L!==-1&&typeof t[u[L]]=="number"?t[u[L]]:C)-n/100}${r})`}function x(S){return u.indexOf(S)+1<u.length?m(S,u[u.indexOf(S)+1]):s(S)}function w(S){const C=u.indexOf(S);return C===0?s(u[1]):C===u.length-1?f(u[C]):m(S,u[u.indexOf(S)+1]).replace("@media","@media not all and")}return{keys:u,values:a,up:s,down:f,between:m,only:x,not:w,unit:r,...i}}function TTe(e,t){if(!e.containerQueries)return t;const r=Object.keys(t).filter(n=>n.startsWith("@container")).sort((n,i)=>{var u,s;const a=/min-width:\s*([0-9.]+)/;return+(((u=n.match(a))==null?void 0:u[1])||0)-+(((s=i.match(a))==null?void 0:s[1])||0)});return r.length?r.reduce((n,i)=>{const a=t[i];return delete n[i],n[i]=a,n},{...t}):t}function PTe(e,t){return t==="@"||t.startsWith("@")&&(e.some(r=>t.startsWith(`@${r}`))||!!t.match(/^@\d/))}function kTe(e,t){const r=t.match(/^@([^/]+)?\/?(.+)?$/);if(!r)return null;const[,n,i]=r,a=Number.isNaN(+n)?n||0:+n;return e.containerQueries(i).up(a)}function ITe(e){const t=(a,u)=>a.replace("@media",u?`@container ${u}`:"@container");function r(a,u){a.up=(...s)=>t(e.breakpoints.up(...s),u),a.down=(...s)=>t(e.breakpoints.down(...s),u),a.between=(...s)=>t(e.breakpoints.between(...s),u),a.only=(...s)=>t(e.breakpoints.only(...s),u),a.not=(...s)=>{const f=t(e.breakpoints.not(...s),u);return f.includes("not all and")?f.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):f}}const n={},i=a=>(r(n,a),n);return r(i),{...e,containerQueries:i}}const LTe={borderRadius:4};function F1(e,t){return t?vm(e,t,{clone:!1}):e}const hS={xs:0,sm:600,md:900,lg:1200,xl:1536},AN={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${hS[e]}px)`},MTe={containerQueries:e=>({up:t=>{let r=typeof t=="number"?t:hS[t]||t;return typeof r=="number"&&(r=`${r}px`),e?`@container ${e} (min-width:${r})`:`@container (min-width:${r})`}})};function rf(e,t,r){const n=e.theme||{};if(Array.isArray(t)){const a=n.breakpoints||AN;return t.reduce((u,s,f)=>(u[a.up(a.keys[f])]=r(t[f]),u),{})}if(typeof t=="object"){const a=n.breakpoints||AN;return Object.keys(t).reduce((u,s)=>{if(PTe(a.keys,s)){const f=kTe(n.containerQueries?n:MTe,s);f&&(u[f]=r(t[s],s))}else if(Object.keys(a.values||hS).includes(s)){const f=a.up(s);u[f]=r(t[s],s)}else{const f=s;u[f]=t[f]}return u},{})}return r(t)}function RTe(e={}){var r;return((r=e.keys)==null?void 0:r.reduce((n,i)=>{const a=e.up(i);return n[a]={},n},{}))||{}}function DTe(e,t){return e.reduce((r,n)=>{const i=r[n];return(!i||Object.keys(i).length===0)&&delete r[n],r},t)}function yU(e){if(typeof e!="string")throw new Error(d4(7));return e.charAt(0).toUpperCase()+e.slice(1)}function fS(e,t,r=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&r){const n=`vars.${t}`.split(".").reduce((i,a)=>i&&i[a]?i[a]:null,e);if(n!=null)return n}return t.split(".").reduce((n,i)=>n&&n[i]!=null?n[i]:null,e)}function cw(e,t,r,n=r){let i;return typeof e=="function"?i=e(r):Array.isArray(e)?i=e[r]||n:i=fS(e,r)||n,t&&(i=t(i,n,e)),i}function Sa(e){const{prop:t,cssProperty:r=e.prop,themeKey:n,transform:i}=e,a=u=>{if(u[t]==null)return null;const s=u[t],f=u.theme,m=fS(f,n)||{};return rf(u,s,w=>{let S=cw(m,i,w);return w===S&&typeof w=="string"&&(S=cw(m,i,`${t}${w==="default"?"":yU(w)}`,w)),r===!1?S:{[r]:S}})};return a.propTypes={},a.filterProps=[t],a}function OTe(e){const t={};return r=>(t[r]===void 0&&(t[r]=e(r)),t[r])}const NTe={m:"margin",p:"padding"},FTe={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},TN={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},$Te=OTe(e=>{if(e.length>2)if(TN[e])e=TN[e];else return[e];const[t,r]=e.split(""),n=NTe[t],i=FTe[r]||"";return Array.isArray(i)?i.map(a=>n+a):[n+i]}),Kk=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Xk=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Kk,...Xk];function d2(e,t,r,n){const i=fS(e,t,!0)??r;return typeof i=="number"||typeof i=="string"?a=>typeof a=="string"?a:typeof i=="string"?`calc(${a} * ${i})`:i*a:Array.isArray(i)?a=>{if(typeof a=="string")return a;const u=Math.abs(a),s=i[u];return a>=0?s:typeof s=="number"?-s:`-${s}`}:typeof i=="function"?i:()=>{}}function Zk(e){return d2(e,"spacing",8)}function h2(e,t){return typeof t=="string"||t==null?t:e(t)}function BTe(e,t){return r=>e.reduce((n,i)=>(n[i]=h2(t,r),n),{})}function zTe(e,t,r,n){if(!t.includes(r))return null;const i=$Te(r),a=BTe(i,n),u=e[r];return rf(e,u,a)}function vU(e,t){const r=Zk(e.theme);return Object.keys(e).map(n=>zTe(e,t,n,r)).reduce(F1,{})}function oa(e){return vU(e,Kk)}oa.propTypes={};oa.filterProps=Kk;function aa(e){return vU(e,Xk)}aa.propTypes={};aa.filterProps=Xk;function bU(e=8,t=Zk({spacing:e})){if(e.mui)return e;const r=(...n)=>(n.length===0?[1]:n).map(a=>{const u=t(a);return typeof u=="number"?`${u}px`:u}).join(" ");return r.mui=!0,r}function pS(...e){const t=e.reduce((n,i)=>(i.filterProps.forEach(a=>{n[a]=i}),n),{}),r=n=>Object.keys(n).reduce((i,a)=>t[a]?F1(i,t[a](n)):i,{});return r.propTypes={},r.filterProps=e.reduce((n,i)=>n.concat(i.filterProps),[]),r}function vc(e){return typeof e!="number"?e:`${e}px solid`}function kc(e,t){return Sa({prop:e,themeKey:"borders",transform:t})}const jTe=kc("border",vc),UTe=kc("borderTop",vc),VTe=kc("borderRight",vc),qTe=kc("borderBottom",vc),HTe=kc("borderLeft",vc),WTe=kc("borderColor"),GTe=kc("borderTopColor"),KTe=kc("borderRightColor"),XTe=kc("borderBottomColor"),ZTe=kc("borderLeftColor"),YTe=kc("outline",vc),JTe=kc("outlineColor"),mS=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=d2(e.theme,"shape.borderRadius",4),r=n=>({borderRadius:h2(t,n)});return rf(e,e.borderRadius,r)}return null};mS.propTypes={};mS.filterProps=["borderRadius"];pS(jTe,UTe,VTe,qTe,HTe,WTe,GTe,KTe,XTe,ZTe,mS,YTe,JTe);const gS=e=>{if(e.gap!==void 0&&e.gap!==null){const t=d2(e.theme,"spacing",8),r=n=>({gap:h2(t,n)});return rf(e,e.gap,r)}return null};gS.propTypes={};gS.filterProps=["gap"];const yS=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=d2(e.theme,"spacing",8),r=n=>({columnGap:h2(t,n)});return rf(e,e.columnGap,r)}return null};yS.propTypes={};yS.filterProps=["columnGap"];const vS=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=d2(e.theme,"spacing",8),r=n=>({rowGap:h2(t,n)});return rf(e,e.rowGap,r)}return null};vS.propTypes={};vS.filterProps=["rowGap"];const QTe=Sa({prop:"gridColumn"}),ePe=Sa({prop:"gridRow"}),tPe=Sa({prop:"gridAutoFlow"}),rPe=Sa({prop:"gridAutoColumns"}),nPe=Sa({prop:"gridAutoRows"}),iPe=Sa({prop:"gridTemplateColumns"}),oPe=Sa({prop:"gridTemplateRows"}),aPe=Sa({prop:"gridTemplateAreas"}),sPe=Sa({prop:"gridArea"});pS(gS,yS,vS,QTe,ePe,tPe,rPe,nPe,iPe,oPe,aPe,sPe);function V0(e,t){return t==="grey"?t:e}const lPe=Sa({prop:"color",themeKey:"palette",transform:V0}),uPe=Sa({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:V0}),cPe=Sa({prop:"backgroundColor",themeKey:"palette",transform:V0});pS(lPe,uPe,cPe);function Ou(e){return e<=1&&e!==0?`${e*100}%`:e}const dPe=Sa({prop:"width",transform:Ou}),Yk=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=r=>{var i,a,u,s,f;const n=((u=(a=(i=e.theme)==null?void 0:i.breakpoints)==null?void 0:a.values)==null?void 0:u[r])||hS[r];return n?((f=(s=e.theme)==null?void 0:s.breakpoints)==null?void 0:f.unit)!=="px"?{maxWidth:`${n}${e.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:Ou(r)}};return rf(e,e.maxWidth,t)}return null};Yk.filterProps=["maxWidth"];const hPe=Sa({prop:"minWidth",transform:Ou}),fPe=Sa({prop:"height",transform:Ou}),pPe=Sa({prop:"maxHeight",transform:Ou}),mPe=Sa({prop:"minHeight",transform:Ou});Sa({prop:"size",cssProperty:"width",transform:Ou});Sa({prop:"size",cssProperty:"height",transform:Ou});const gPe=Sa({prop:"boxSizing"});pS(dPe,Yk,hPe,fPe,pPe,mPe,gPe);const f2={border:{themeKey:"borders",transform:vc},borderTop:{themeKey:"borders",transform:vc},borderRight:{themeKey:"borders",transform:vc},borderBottom:{themeKey:"borders",transform:vc},borderLeft:{themeKey:"borders",transform:vc},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:vc},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:mS},color:{themeKey:"palette",transform:V0},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:V0},backgroundColor:{themeKey:"palette",transform:V0},p:{style:aa},pt:{style:aa},pr:{style:aa},pb:{style:aa},pl:{style:aa},px:{style:aa},py:{style:aa},padding:{style:aa},paddingTop:{style:aa},paddingRight:{style:aa},paddingBottom:{style:aa},paddingLeft:{style:aa},paddingX:{style:aa},paddingY:{style:aa},paddingInline:{style:aa},paddingInlineStart:{style:aa},paddingInlineEnd:{style:aa},paddingBlock:{style:aa},paddingBlockStart:{style:aa},paddingBlockEnd:{style:aa},m:{style:oa},mt:{style:oa},mr:{style:oa},mb:{style:oa},ml:{style:oa},mx:{style:oa},my:{style:oa},margin:{style:oa},marginTop:{style:oa},marginRight:{style:oa},marginBottom:{style:oa},marginLeft:{style:oa},marginX:{style:oa},marginY:{style:oa},marginInline:{style:oa},marginInlineStart:{style:oa},marginInlineEnd:{style:oa},marginBlock:{style:oa},marginBlockStart:{style:oa},marginBlockEnd:{style:oa},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:gS},rowGap:{style:vS},columnGap:{style:yS},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ou},maxWidth:{style:Yk},minWidth:{transform:Ou},height:{transform:Ou},maxHeight:{transform:Ou},minHeight:{transform:Ou},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function yPe(...e){const t=e.reduce((n,i)=>n.concat(Object.keys(i)),[]),r=new Set(t);return e.every(n=>r.size===Object.keys(n).length)}function vPe(e,t){return typeof e=="function"?e(t):e}function bPe(){function e(r,n,i,a){const u={[r]:n,theme:i},s=a[r];if(!s)return{[r]:n};const{cssProperty:f=r,themeKey:m,transform:x,style:w}=s;if(n==null)return null;if(m==="typography"&&n==="inherit")return{[r]:n};const S=fS(i,m)||{};return w?w(u):rf(u,n,L=>{let k=cw(S,x,L);return L===k&&typeof L=="string"&&(k=cw(S,x,`${r}${L==="default"?"":yU(L)}`,L)),f===!1?k:{[f]:k}})}function t(r){const{sx:n,theme:i={}}=r||{};if(!n)return null;const a=i.unstable_sxConfig??f2;function u(s){let f=s;if(typeof s=="function")f=s(i);else if(typeof s!="object")return s;if(!f)return null;const m=RTe(i.breakpoints),x=Object.keys(m);let w=m;return Object.keys(f).forEach(S=>{const C=vPe(f[S],i);if(C!=null)if(typeof C=="object")if(a[S])w=F1(w,e(S,C,i,a));else{const L=rf({theme:i},C,k=>({[S]:k}));yPe(L,C)?w[S]=t({sx:C,theme:i}):w=F1(w,L)}else w=F1(w,e(S,C,i,a))}),TTe(i,DTe(x,w))}return Array.isArray(n)?n.map(u):u(n)}return t}const Om=bPe();Om.filterProps=["sx"];function xPe(e,t){var n;const r=this;if(r.vars){if(!((n=r.colorSchemes)!=null&&n[e])||typeof r.getColorSchemeSelector!="function")return{};let i=r.getColorSchemeSelector(e);return i==="&"?t:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:t})}return r.palette.mode===e?t:{}}function Jk(e={},...t){const{breakpoints:r={},palette:n={},spacing:i,shape:a={},...u}=e,s=ATe(r),f=bU(i);let m=vm({breakpoints:s,direction:"ltr",components:{},palette:{mode:"light",...n},spacing:f,shape:{...LTe,...a}},u);return m=ITe(m),m.applyStyles=xPe,m=t.reduce((x,w)=>vm(x,w),m),m.unstable_sxConfig={...f2,...u==null?void 0:u.unstable_sxConfig},m.unstable_sx=function(w){return Om({sx:w,theme:this})},m}function _Pe(e){return Object.keys(e).length===0}function wPe(e=null){const t=V.useContext(Wk);return!t||_Pe(t)?e:t}const SPe=Jk();function Qk(e=SPe){return wPe(e)}function CPe({styles:e,themeId:t,defaultTheme:r={}}){const n=Qk(r),i=typeof e=="function"?e(t&&n[t]||n):e;return $e.jsx(STe,{styles:i})}const EPe=e=>{var n;const t={systemProps:{},otherProps:{}},r=((n=e==null?void 0:e.theme)==null?void 0:n.unstable_sxConfig)??f2;return Object.keys(e).forEach(i=>{r[i]?t.systemProps[i]=e[i]:t.otherProps[i]=e[i]}),t};function xU(e){const{sx:t,...r}=e,{systemProps:n,otherProps:i}=EPe(r);let a;return Array.isArray(t)?a=[n,...t]:typeof t=="function"?a=(...u)=>{const s=t(...u);return Bf(s)?{...n,...s}:n}:a={...n,...t},{...i,sx:a}}function _U(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=_U(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function APe(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=_U(e))&&(n&&(n+=" "),n+=t);return n}function TPe(e={}){const{themeId:t,defaultTheme:r,defaultClassName:n="MuiBox-root",generateClassName:i}=e,a=mU("div",{shouldForwardProp:s=>s!=="theme"&&s!=="sx"&&s!=="as"})(Om);return V.forwardRef(function(f,m){const x=Qk(r),{className:w,component:S="div",...C}=xU(f);return $e.jsx(a,{as:S,ref:m,className:APe(w,i?i(n):n),theme:t&&x[t]||x,...C})})}function wU(e){const{variants:t,...r}=e,n={variants:t,style:EN(r),isProcessed:!0};return n.style===r||t&&t.forEach(i=>{typeof i.style!="function"&&(i.style=EN(i.style))}),n}const PPe=Jk();function j3(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function kPe(e){return e?(t,r)=>r[e]:null}function IPe(e,t,r){e.theme=RPe(e.theme)?r:e.theme[t]||e.theme}function a_(e,t){const r=typeof t=="function"?t(e):t;if(Array.isArray(r))return r.flatMap(n=>a_(e,n));if(Array.isArray(r==null?void 0:r.variants)){let n;if(r.isProcessed)n=r.style;else{const{variants:i,...a}=r;n=a}return SU(e,r.variants,[n])}return r!=null&&r.isProcessed?r.style:r}function SU(e,t,r=[]){var i;let n;e:for(let a=0;a<t.length;a+=1){const u=t[a];if(typeof u.props=="function"){if(n??(n={...e,...e.ownerState,ownerState:e.ownerState}),!u.props(n))continue}else for(const s in u.props)if(e[s]!==u.props[s]&&((i=e.ownerState)==null?void 0:i[s])!==u.props[s])continue e;typeof u.style=="function"?(n??(n={...e,...e.ownerState,ownerState:e.ownerState}),r.push(u.style(n))):r.push(u.style)}return r}function LPe(e={}){const{themeId:t,defaultTheme:r=PPe,rootShouldForwardProp:n=j3,slotShouldForwardProp:i=j3}=e;function a(s){IPe(s,t,r)}return(s,f={})=>{CTe(s,te=>te.filter(K=>K!==Om));const{name:m,slot:x,skipVariantsResolver:w,skipSx:S,overridesResolver:C=kPe(OPe(x)),...L}=f,k=w!==void 0?w:x&&x!=="Root"&&x!=="root"||!1,$=S||!1;let M=j3;x==="Root"||x==="root"?M=n:x?M=i:DPe(s)&&(M=void 0);const z=mU(s,{shouldForwardProp:M,label:MPe(),...L}),B=te=>{if(typeof te=="function"&&te.__emotion_real!==te)return function(ee){return a_(ee,te)};if(Bf(te)){const K=wU(te);return K.variants?function(Q){return a_(Q,K)}:K.style}return te},q=(...te)=>{const K=[],ee=te.map(B),Q=[];if(K.push(a),m&&C&&Q.push(function(re){var ke,Oe;const fe=(Oe=(ke=re.theme.components)==null?void 0:ke[m])==null?void 0:Oe.styleOverrides;if(!fe)return null;const Ae={};for(const _e in fe)Ae[_e]=a_(re,fe[_e]);return C(re,Ae)}),m&&!k&&Q.push(function(re){var Ae,ke;const ye=re.theme,fe=(ke=(Ae=ye==null?void 0:ye.components)==null?void 0:Ae[m])==null?void 0:ke.variants;return fe?SU(re,fe):null}),$||Q.push(Om),Array.isArray(ee[0])){const Z=ee.shift(),re=new Array(K.length).fill(""),ye=new Array(Q.length).fill("");let fe;fe=[...re,...Z,...ye],fe.raw=[...re,...Z.raw,...ye],K.unshift(fe)}const ge=[...K,...ee,...Q],Y=z(...ge);return s.muiName&&(Y.muiName=s.muiName),Y};return z.withConfig&&(q.withConfig=z.withConfig),q}}function MPe(e,t){return void 0}function RPe(e){for(const t in e)return!1;return!0}function DPe(e){return typeof e=="string"&&e.charCodeAt(0)>96}function OPe(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function f4(e,t){const r={...t};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const i=n;if(i==="components"||i==="slots")r[i]={...e[i],...r[i]};else if(i==="componentsProps"||i==="slotProps"){const a=e[i],u=t[i];if(!u)r[i]=a||{};else if(!a)r[i]=u;else{r[i]={...u};for(const s in a)if(Object.prototype.hasOwnProperty.call(a,s)){const f=s;r[i][f]=f4(a[f],u[f])}}}else r[i]===void 0&&(r[i]=e[i])}return r}function NPe(e,t=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,r))}function eI(e,t=0,r=1){return NPe(e,t,r)}function FPe(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(t);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function mp(e){if(e.type)return e;if(e.charAt(0)==="#")return mp(FPe(e));const t=e.indexOf("("),r=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(r))throw new Error(d4(9,e));let n=e.substring(t+1,e.length-1),i;if(r==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(d4(10,i))}else n=n.split(",");return n=n.map(a=>parseFloat(a)),{type:r,values:n,colorSpace:i}}const $Pe=e=>{const t=mp(e);return t.values.slice(0,3).map((r,n)=>t.type.includes("hsl")&&n!==0?`${r}%`:r).join(" ")},f1=(e,t)=>{try{return $Pe(e)}catch{return e}};function bS(e){const{type:t,colorSpace:r}=e;let{values:n}=e;return t.includes("rgb")?n=n.map((i,a)=>a<3?parseInt(i,10):i):t.includes("hsl")&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),t.includes("color")?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${t}(${n})`}function CU(e){e=mp(e);const{values:t}=e,r=t[0],n=t[1]/100,i=t[2]/100,a=n*Math.min(i,1-i),u=(m,x=(m+r/30)%12)=>i-a*Math.max(Math.min(x-3,9-x,1),-1);let s="rgb";const f=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return e.type==="hsla"&&(s+="a",f.push(t[3])),bS({type:s,values:f})}function p4(e){e=mp(e);let t=e.type==="hsl"||e.type==="hsla"?mp(CU(e)).values:e.values;return t=t.map(r=>(e.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function BPe(e,t){const r=p4(e),n=p4(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function sl(e,t){return e=mp(e),t=eI(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,bS(e)}function Px(e,t,r){try{return sl(e,t)}catch{return e}}function xS(e,t){if(e=mp(e),t=eI(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]*=1-t;return bS(e)}function io(e,t,r){try{return xS(e,t)}catch{return e}}function _S(e,t){if(e=mp(e),t=eI(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return bS(e)}function oo(e,t,r){try{return _S(e,t)}catch{return e}}function zPe(e,t=.15){return p4(e)>.5?xS(e,t):_S(e,t)}function kx(e,t,r){try{return zPe(e,t)}catch{return e}}const jPe=V.createContext(),UPe=()=>V.useContext(jPe)??!1,VPe=V.createContext(void 0);function qPe(e){const{theme:t,name:r,props:n}=e;if(!t||!t.components||!t.components[r])return n;const i=t.components[r];return i.defaultProps?f4(i.defaultProps,n):!i.styleOverrides&&!i.variants?f4(i,n):n}function HPe({props:e,name:t}){const r=V.useContext(VPe);return qPe({props:e,name:t,theme:{components:r}})}const PN={theme:void 0};function WPe(e){let t,r;return function(i){let a=t;return(a===void 0||i.theme!==r)&&(PN.theme=i.theme,a=wU(e(PN)),t=a,r=i.theme),a}}function GPe(e=""){function t(...n){if(!n.length)return"";const i=n[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${i}${t(...n.slice(1))})`:`, ${i}`}return(n,...i)=>`var(--${e?`${e}-`:""}${n}${t(...i)})`}const kN=(e,t,r,n=[])=>{let i=e;t.forEach((a,u)=>{u===t.length-1?Array.isArray(i)?i[Number(a)]=r:i&&typeof i=="object"&&(i[a]=r):i&&typeof i=="object"&&(i[a]||(i[a]=n.includes(a)?[]:{}),i=i[a])})},KPe=(e,t,r)=>{function n(i,a=[],u=[]){Object.entries(i).forEach(([s,f])=>{(!r||r&&!r([...a,s]))&&f!=null&&(typeof f=="object"&&Object.keys(f).length>0?n(f,[...a,s],Array.isArray(f)?[...u,s]:u):t([...a,s],f,u))})}n(e)},XPe=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(n=>e.includes(n))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function U3(e,t){const{prefix:r,shouldSkipGeneratingVar:n}=t||{},i={},a={},u={};return KPe(e,(s,f,m)=>{if((typeof f=="string"||typeof f=="number")&&(!n||!n(s,f))){const x=`--${r?`${r}-`:""}${s.join("-")}`,w=XPe(s,f);Object.assign(i,{[x]:w}),kN(a,s,`var(${x})`,m),kN(u,s,`var(${x}, ${w})`,m)}},s=>s[0]==="vars"),{css:i,vars:a,varsWithDefaults:u}}function ZPe(e,t={}){const{getSelector:r=$,disableCssColorScheme:n,colorSchemeSelector:i}=t,{colorSchemes:a={},components:u,defaultColorScheme:s="light",...f}=e,{vars:m,css:x,varsWithDefaults:w}=U3(f,t);let S=w;const C={},{[s]:L,...k}=a;if(Object.entries(k||{}).forEach(([B,q])=>{const{vars:te,css:K,varsWithDefaults:ee}=U3(q,t);S=vm(S,ee),C[B]={css:K,vars:te}}),L){const{css:B,vars:q,varsWithDefaults:te}=U3(L,t);S=vm(S,te),C[s]={css:B,vars:q}}function $(B,q){var K,ee;let te=i;if(i==="class"&&(te=".%s"),i==="data"&&(te="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(te=`[${i}="%s"]`),B){if(te==="media")return e.defaultColorScheme===B?":root":{[`@media (prefers-color-scheme: ${((ee=(K=a[B])==null?void 0:K.palette)==null?void 0:ee.mode)||B})`]:{":root":q}};if(te)return e.defaultColorScheme===B?`:root, ${te.replace("%s",String(B))}`:te.replace("%s",String(B))}return":root"}return{vars:S,generateThemeVars:()=>{let B={...m};return Object.entries(C).forEach(([,{vars:q}])=>{B=vm(B,q)}),B},generateStyleSheets:()=>{var Q,ge;const B=[],q=e.defaultColorScheme||"light";function te(Y,Z){Object.keys(Z).length&&B.push(typeof Y=="string"?{[Y]:{...Z}}:Y)}te(r(void 0,{...x}),x);const{[q]:K,...ee}=C;if(K){const{css:Y}=K,Z=(ge=(Q=a[q])==null?void 0:Q.palette)==null?void 0:ge.mode,re=!n&&Z?{colorScheme:Z,...Y}:{...Y};te(r(q,{...re}),re)}return Object.entries(ee).forEach(([Y,{css:Z}])=>{var fe,Ae;const re=(Ae=(fe=a[Y])==null?void 0:fe.palette)==null?void 0:Ae.mode,ye=!n&&re?{colorScheme:re,...Z}:{...Z};te(r(Y,{...ye}),ye)}),B}}}function YPe(e){return function(r){return e==="media"?`@media (prefers-color-scheme: ${r})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${r}"] &`:e==="class"?`.${r} &`:e==="data"?`[data-${r}] &`:`${e.replace("%s",r)} &`:"&"}}function zf(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function EU(e){if(!zf(e))return e;const t={};return Object.keys(e).forEach(r=>{t[r]=EU(e[r])}),t}function ah(e,t,r={clone:!0}){const n=r.clone?{...e}:e;return zf(e)&&zf(t)&&Object.keys(t).forEach(i=>{zf(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&zf(e[i])?n[i]=ah(e[i],t[i],r):r.clone?n[i]=zf(t[i])?EU(t[i]):t[i]:n[i]=t[i]}),n}function AU(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Tb.white,default:Tb.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const JPe=AU();function TU(){return{text:{primary:Tb.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Tb.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const IN=TU();function LN(e,t,r,n){const i=n.light||n,a=n.dark||n*1.5;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:t==="light"?e.light=_S(e.main,i):t==="dark"&&(e.dark=xS(e.main,a)))}function QPe(e="light"){return e==="dark"?{main:Og[200],light:Og[50],dark:Og[400]}:{main:Og[700],light:Og[400],dark:Og[800]}}function eke(e="light"){return e==="dark"?{main:Dg[200],light:Dg[50],dark:Dg[400]}:{main:Dg[500],light:Dg[300],dark:Dg[700]}}function tke(e="light"){return e==="dark"?{main:Rg[500],light:Rg[300],dark:Rg[700]}:{main:Rg[700],light:Rg[400],dark:Rg[800]}}function rke(e="light"){return e==="dark"?{main:Ng[400],light:Ng[300],dark:Ng[700]}:{main:Ng[700],light:Ng[500],dark:Ng[900]}}function nke(e="light"){return e==="dark"?{main:Fg[400],light:Fg[300],dark:Fg[700]}:{main:Fg[800],light:Fg[500],dark:Fg[900]}}function ike(e="light"){return e==="dark"?{main:qv[400],light:qv[300],dark:qv[700]}:{main:"#ed6c02",light:qv[500],dark:qv[900]}}function tI(e){const{mode:t="light",contrastThreshold:r=3,tonalOffset:n=.2,...i}=e,a=e.primary||QPe(t),u=e.secondary||eke(t),s=e.error||tke(t),f=e.info||rke(t),m=e.success||nke(t),x=e.warning||ike(t);function w(k){return BPe(k,IN.text.primary)>=r?IN.text.primary:JPe.text.primary}const S=({color:k,name:$,mainShade:M=500,lightShade:z=300,darkShade:B=700})=>{if(k={...k},!k.main&&k[M]&&(k.main=k[M]),!k.hasOwnProperty("main"))throw new Error(Dm(11,$?` (${$})`:"",M));if(typeof k.main!="string")throw new Error(Dm(12,$?` (${$})`:"",JSON.stringify(k.main)));return LN(k,"light",z,n),LN(k,"dark",B,n),k.contrastText||(k.contrastText=w(k.main)),k};let C;return t==="light"?C=AU():t==="dark"&&(C=TU()),ah({common:{...Tb},mode:t,primary:S({color:a,name:"primary"}),secondary:S({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:S({color:s,name:"error"}),warning:S({color:x,name:"warning"}),info:S({color:f,name:"info"}),success:S({color:m,name:"success"}),grey:O4e,contrastThreshold:r,getContrastText:w,augmentColor:S,tonalOffset:n,...C},i)}function oke(e){const t={};return Object.entries(e).forEach(n=>{const[i,a]=n;typeof a=="object"&&(t[i]=`${a.fontStyle?`${a.fontStyle} `:""}${a.fontVariant?`${a.fontVariant} `:""}${a.fontWeight?`${a.fontWeight} `:""}${a.fontStretch?`${a.fontStretch} `:""}${a.fontSize||""}${a.lineHeight?`/${a.lineHeight} `:""}${a.fontFamily||""}`)}),t}const MN=e=>e,ake=()=>{let e=MN;return{configure(t){e=t},generate(t){return e(t)},reset(){e=MN}}},PU=ake(),ske={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function po(e,t,r="Mui"){const n=ske[t];return n?`${r}-${n}`:`${PU.generate(e)}-${t}`}function lke(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function uke(e){return Math.round(e*1e5)/1e5}const RN={textTransform:"uppercase"},DN='"Roboto", "Helvetica", "Arial", sans-serif';function cke(e,t){const{fontFamily:r=DN,fontSize:n=14,fontWeightLight:i=300,fontWeightRegular:a=400,fontWeightMedium:u=500,fontWeightBold:s=700,htmlFontSize:f=16,allVariants:m,pxToRem:x,...w}=typeof t=="function"?t(e):t,S=n/14,C=x||($=>`${$/f*S}rem`),L=($,M,z,B,q)=>({fontFamily:r,fontWeight:$,fontSize:C(M),lineHeight:z,...r===DN?{letterSpacing:`${uke(B/M)}em`}:{},...q,...m}),k={h1:L(i,96,1.167,-1.5),h2:L(i,60,1.2,-.5),h3:L(a,48,1.167,0),h4:L(a,34,1.235,.25),h5:L(a,24,1.334,0),h6:L(u,20,1.6,.15),subtitle1:L(a,16,1.75,.15),subtitle2:L(u,14,1.57,.1),body1:L(a,16,1.5,.15),body2:L(a,14,1.43,.15),button:L(u,14,1.75,.4,RN),caption:L(a,12,1.66,.4),overline:L(a,12,2.66,1,RN),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ah({htmlFontSize:f,pxToRem:C,fontFamily:r,fontSize:n,fontWeightLight:i,fontWeightRegular:a,fontWeightMedium:u,fontWeightBold:s,...k},w,{clone:!1})}const dke=.2,hke=.14,fke=.12;function Mo(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${dke})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${hke})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${fke})`].join(",")}const pke=["none",Mo(0,2,1,-1,0,1,1,0,0,1,3,0),Mo(0,3,1,-2,0,2,2,0,0,1,5,0),Mo(0,3,3,-2,0,3,4,0,0,1,8,0),Mo(0,2,4,-1,0,4,5,0,0,1,10,0),Mo(0,3,5,-1,0,5,8,0,0,1,14,0),Mo(0,3,5,-1,0,6,10,0,0,1,18,0),Mo(0,4,5,-2,0,7,10,1,0,2,16,1),Mo(0,5,5,-3,0,8,10,1,0,3,14,2),Mo(0,5,6,-3,0,9,12,1,0,3,16,2),Mo(0,6,6,-3,0,10,14,1,0,4,18,3),Mo(0,6,7,-4,0,11,15,1,0,4,20,3),Mo(0,7,8,-4,0,12,17,2,0,5,22,4),Mo(0,7,8,-4,0,13,19,2,0,5,24,4),Mo(0,7,9,-4,0,14,21,2,0,5,26,4),Mo(0,8,9,-5,0,15,22,2,0,6,28,5),Mo(0,8,10,-5,0,16,24,2,0,6,30,5),Mo(0,8,11,-5,0,17,26,2,0,6,32,5),Mo(0,9,11,-5,0,18,28,2,0,7,34,6),Mo(0,9,12,-6,0,19,29,2,0,7,36,6),Mo(0,10,13,-6,0,20,31,3,0,8,38,7),Mo(0,10,13,-6,0,21,33,3,0,8,40,7),Mo(0,10,14,-6,0,22,35,3,0,8,42,7),Mo(0,11,14,-7,0,23,36,3,0,9,44,8),Mo(0,11,15,-7,0,24,38,3,0,9,46,8)],mke={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},gke={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function ON(e){return`${Math.round(e)}ms`}function yke(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function vke(e){const t={...mke,...e.easing},r={...gke,...e.duration};return{getAutoHeightDuration:yke,create:(i=["all"],a={})=>{const{duration:u=r.standard,easing:s=t.easeInOut,delay:f=0,...m}=a;return(Array.isArray(i)?i:[i]).map(x=>`${x} ${typeof u=="string"?u:ON(u)} ${s} ${typeof f=="string"?f:ON(f)}`).join(",")},...e,easing:t,duration:r}}const bke={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function xke(e){return zf(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function kU(e={}){const t={...e};function r(n){const i=Object.entries(n);for(let a=0;a<i.length;a++){const[u,s]=i[a];!xke(s)||u.startsWith("unstable_")?delete n[u]:zf(s)&&(n[u]={...s},r(n[u]))}}return r(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function m4(e={},...t){const{breakpoints:r,mixins:n={},spacing:i,palette:a={},transitions:u={},typography:s={},shape:f,...m}=e;if(e.vars)throw new Error(Dm(20));const x=tI(a),w=Jk(e);let S=ah(w,{mixins:lke(w.breakpoints,n),palette:x,shadows:pke.slice(),typography:cke(x,s),transitions:vke(u),zIndex:{...bke}});return S=ah(S,m),S=t.reduce((C,L)=>ah(C,L),S),S.unstable_sxConfig={...f2,...m==null?void 0:m.unstable_sxConfig},S.unstable_sx=function(L){return Om({sx:L,theme:this})},S.toRuntimeSource=kU,S}function g4(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const _ke=[...Array(25)].map((e,t)=>{if(t===0)return"none";const r=g4(t);return`linear-gradient(rgba(255 255 255 / ${r}), rgba(255 255 255 / ${r}))`});function IU(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function LU(e){return e==="dark"?_ke:[]}function wke(e){const{palette:t={mode:"light"},opacity:r,overlays:n,...i}=e,a=tI(t);return{palette:a,opacity:{...IU(a.mode),...r},overlays:n||LU(a.mode),...i}}function Ske(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((t=e[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const Cke=e=>[...[...Array(25)].map((t,r)=>`--${e?`${e}-`:""}overlays-${r}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],Eke=e=>(t,r)=>{const n=e.rootSelector||":root",i=e.colorSchemeSelector;let a=i;if(i==="class"&&(a=".%s"),i==="data"&&(a="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(a=`[${i}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const u={};return Cke(e.cssVarPrefix).forEach(s=>{u[s]=r[s],delete r[s]}),a==="media"?{[n]:r,"@media (prefers-color-scheme: dark)":{[n]:u}}:a?{[a.replace("%s",t)]:u,[`${n}, ${a.replace("%s",t)}`]:r}:{[n]:{...r,...u}}}if(a&&a!=="media")return`${n}, ${a.replace("%s",String(t))}`}else if(t){if(a==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[n]:r}};if(a)return a.replace("%s",String(t))}return n};function Ake(e,t){t.forEach(r=>{e[r]||(e[r]={})})}function Vt(e,t,r){!e[t]&&r&&(e[t]=r)}function p1(e){return!e||!e.startsWith("hsl")?e:CU(e)}function Rh(e,t){`${t}Channel`in e||(e[`${t}Channel`]=f1(p1(e[t]),`MUI: Can't create \`palette.${t}Channel\` because \`palette.${t}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${t}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function Tke(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const Od=e=>{try{return e()}catch{}},Pke=(e="mui")=>GPe(e);function V3(e,t,r,n){if(!t)return;t=t===!0?{}:t;const i=n==="dark"?"dark":"light";if(!r){e[n]=wke({...t,palette:{mode:i,...t==null?void 0:t.palette}});return}const{palette:a,...u}=m4({...r,palette:{mode:i,...t==null?void 0:t.palette}});return e[n]={...t,palette:a,opacity:{...IU(i),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||LU(i)},u}function kke(e={},...t){const{colorSchemes:r={light:!0},defaultColorScheme:n,disableCssColorScheme:i=!1,cssVarPrefix:a="mui",shouldSkipGeneratingVar:u=Ske,colorSchemeSelector:s=r.light&&r.dark?"media":void 0,rootSelector:f=":root",...m}=e,x=Object.keys(r)[0],w=n||(r.light&&x!=="light"?"light":x),S=Pke(a),{[w]:C,light:L,dark:k,...$}=r,M={...$};let z=C;if((w==="dark"&&!("dark"in r)||w==="light"&&!("light"in r))&&(z=!0),!z)throw new Error(Dm(21,w));const B=V3(M,z,m,w);L&&!M.light&&V3(M,L,void 0,"light"),k&&!M.dark&&V3(M,k,void 0,"dark");let q={defaultColorScheme:w,...B,cssVarPrefix:a,colorSchemeSelector:s,rootSelector:f,getCssVar:S,colorSchemes:M,font:{...oke(B.typography),...B.font},spacing:Tke(m.spacing)};Object.keys(q.colorSchemes).forEach(ge=>{const Y=q.colorSchemes[ge].palette,Z=re=>{const ye=re.split("-"),fe=ye[1],Ae=ye[2];return S(re,Y[fe][Ae])};if(Y.mode==="light"&&(Vt(Y.common,"background","#fff"),Vt(Y.common,"onBackground","#000")),Y.mode==="dark"&&(Vt(Y.common,"background","#000"),Vt(Y.common,"onBackground","#fff")),Ake(Y,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),Y.mode==="light"){Vt(Y.Alert,"errorColor",io(Y.error.light,.6)),Vt(Y.Alert,"infoColor",io(Y.info.light,.6)),Vt(Y.Alert,"successColor",io(Y.success.light,.6)),Vt(Y.Alert,"warningColor",io(Y.warning.light,.6)),Vt(Y.Alert,"errorFilledBg",Z("palette-error-main")),Vt(Y.Alert,"infoFilledBg",Z("palette-info-main")),Vt(Y.Alert,"successFilledBg",Z("palette-success-main")),Vt(Y.Alert,"warningFilledBg",Z("palette-warning-main")),Vt(Y.Alert,"errorFilledColor",Od(()=>Y.getContrastText(Y.error.main))),Vt(Y.Alert,"infoFilledColor",Od(()=>Y.getContrastText(Y.info.main))),Vt(Y.Alert,"successFilledColor",Od(()=>Y.getContrastText(Y.success.main))),Vt(Y.Alert,"warningFilledColor",Od(()=>Y.getContrastText(Y.warning.main))),Vt(Y.Alert,"errorStandardBg",oo(Y.error.light,.9)),Vt(Y.Alert,"infoStandardBg",oo(Y.info.light,.9)),Vt(Y.Alert,"successStandardBg",oo(Y.success.light,.9)),Vt(Y.Alert,"warningStandardBg",oo(Y.warning.light,.9)),Vt(Y.Alert,"errorIconColor",Z("palette-error-main")),Vt(Y.Alert,"infoIconColor",Z("palette-info-main")),Vt(Y.Alert,"successIconColor",Z("palette-success-main")),Vt(Y.Alert,"warningIconColor",Z("palette-warning-main")),Vt(Y.AppBar,"defaultBg",Z("palette-grey-100")),Vt(Y.Avatar,"defaultBg",Z("palette-grey-400")),Vt(Y.Button,"inheritContainedBg",Z("palette-grey-300")),Vt(Y.Button,"inheritContainedHoverBg",Z("palette-grey-A100")),Vt(Y.Chip,"defaultBorder",Z("palette-grey-400")),Vt(Y.Chip,"defaultAvatarColor",Z("palette-grey-700")),Vt(Y.Chip,"defaultIconColor",Z("palette-grey-700")),Vt(Y.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Vt(Y.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Vt(Y.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Vt(Y.LinearProgress,"primaryBg",oo(Y.primary.main,.62)),Vt(Y.LinearProgress,"secondaryBg",oo(Y.secondary.main,.62)),Vt(Y.LinearProgress,"errorBg",oo(Y.error.main,.62)),Vt(Y.LinearProgress,"infoBg",oo(Y.info.main,.62)),Vt(Y.LinearProgress,"successBg",oo(Y.success.main,.62)),Vt(Y.LinearProgress,"warningBg",oo(Y.warning.main,.62)),Vt(Y.Skeleton,"bg",`rgba(${Z("palette-text-primaryChannel")} / 0.11)`),Vt(Y.Slider,"primaryTrack",oo(Y.primary.main,.62)),Vt(Y.Slider,"secondaryTrack",oo(Y.secondary.main,.62)),Vt(Y.Slider,"errorTrack",oo(Y.error.main,.62)),Vt(Y.Slider,"infoTrack",oo(Y.info.main,.62)),Vt(Y.Slider,"successTrack",oo(Y.success.main,.62)),Vt(Y.Slider,"warningTrack",oo(Y.warning.main,.62));const re=kx(Y.background.default,.8);Vt(Y.SnackbarContent,"bg",re),Vt(Y.SnackbarContent,"color",Od(()=>Y.getContrastText(re))),Vt(Y.SpeedDialAction,"fabHoverBg",kx(Y.background.paper,.15)),Vt(Y.StepConnector,"border",Z("palette-grey-400")),Vt(Y.StepContent,"border",Z("palette-grey-400")),Vt(Y.Switch,"defaultColor",Z("palette-common-white")),Vt(Y.Switch,"defaultDisabledColor",Z("palette-grey-100")),Vt(Y.Switch,"primaryDisabledColor",oo(Y.primary.main,.62)),Vt(Y.Switch,"secondaryDisabledColor",oo(Y.secondary.main,.62)),Vt(Y.Switch,"errorDisabledColor",oo(Y.error.main,.62)),Vt(Y.Switch,"infoDisabledColor",oo(Y.info.main,.62)),Vt(Y.Switch,"successDisabledColor",oo(Y.success.main,.62)),Vt(Y.Switch,"warningDisabledColor",oo(Y.warning.main,.62)),Vt(Y.TableCell,"border",oo(Px(Y.divider,1),.88)),Vt(Y.Tooltip,"bg",Px(Y.grey[700],.92))}if(Y.mode==="dark"){Vt(Y.Alert,"errorColor",oo(Y.error.light,.6)),Vt(Y.Alert,"infoColor",oo(Y.info.light,.6)),Vt(Y.Alert,"successColor",oo(Y.success.light,.6)),Vt(Y.Alert,"warningColor",oo(Y.warning.light,.6)),Vt(Y.Alert,"errorFilledBg",Z("palette-error-dark")),Vt(Y.Alert,"infoFilledBg",Z("palette-info-dark")),Vt(Y.Alert,"successFilledBg",Z("palette-success-dark")),Vt(Y.Alert,"warningFilledBg",Z("palette-warning-dark")),Vt(Y.Alert,"errorFilledColor",Od(()=>Y.getContrastText(Y.error.dark))),Vt(Y.Alert,"infoFilledColor",Od(()=>Y.getContrastText(Y.info.dark))),Vt(Y.Alert,"successFilledColor",Od(()=>Y.getContrastText(Y.success.dark))),Vt(Y.Alert,"warningFilledColor",Od(()=>Y.getContrastText(Y.warning.dark))),Vt(Y.Alert,"errorStandardBg",io(Y.error.light,.9)),Vt(Y.Alert,"infoStandardBg",io(Y.info.light,.9)),Vt(Y.Alert,"successStandardBg",io(Y.success.light,.9)),Vt(Y.Alert,"warningStandardBg",io(Y.warning.light,.9)),Vt(Y.Alert,"errorIconColor",Z("palette-error-main")),Vt(Y.Alert,"infoIconColor",Z("palette-info-main")),Vt(Y.Alert,"successIconColor",Z("palette-success-main")),Vt(Y.Alert,"warningIconColor",Z("palette-warning-main")),Vt(Y.AppBar,"defaultBg",Z("palette-grey-900")),Vt(Y.AppBar,"darkBg",Z("palette-background-paper")),Vt(Y.AppBar,"darkColor",Z("palette-text-primary")),Vt(Y.Avatar,"defaultBg",Z("palette-grey-600")),Vt(Y.Button,"inheritContainedBg",Z("palette-grey-800")),Vt(Y.Button,"inheritContainedHoverBg",Z("palette-grey-700")),Vt(Y.Chip,"defaultBorder",Z("palette-grey-700")),Vt(Y.Chip,"defaultAvatarColor",Z("palette-grey-300")),Vt(Y.Chip,"defaultIconColor",Z("palette-grey-300")),Vt(Y.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Vt(Y.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Vt(Y.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Vt(Y.LinearProgress,"primaryBg",io(Y.primary.main,.5)),Vt(Y.LinearProgress,"secondaryBg",io(Y.secondary.main,.5)),Vt(Y.LinearProgress,"errorBg",io(Y.error.main,.5)),Vt(Y.LinearProgress,"infoBg",io(Y.info.main,.5)),Vt(Y.LinearProgress,"successBg",io(Y.success.main,.5)),Vt(Y.LinearProgress,"warningBg",io(Y.warning.main,.5)),Vt(Y.Skeleton,"bg",`rgba(${Z("palette-text-primaryChannel")} / 0.13)`),Vt(Y.Slider,"primaryTrack",io(Y.primary.main,.5)),Vt(Y.Slider,"secondaryTrack",io(Y.secondary.main,.5)),Vt(Y.Slider,"errorTrack",io(Y.error.main,.5)),Vt(Y.Slider,"infoTrack",io(Y.info.main,.5)),Vt(Y.Slider,"successTrack",io(Y.success.main,.5)),Vt(Y.Slider,"warningTrack",io(Y.warning.main,.5));const re=kx(Y.background.default,.98);Vt(Y.SnackbarContent,"bg",re),Vt(Y.SnackbarContent,"color",Od(()=>Y.getContrastText(re))),Vt(Y.SpeedDialAction,"fabHoverBg",kx(Y.background.paper,.15)),Vt(Y.StepConnector,"border",Z("palette-grey-600")),Vt(Y.StepContent,"border",Z("palette-grey-600")),Vt(Y.Switch,"defaultColor",Z("palette-grey-300")),Vt(Y.Switch,"defaultDisabledColor",Z("palette-grey-600")),Vt(Y.Switch,"primaryDisabledColor",io(Y.primary.main,.55)),Vt(Y.Switch,"secondaryDisabledColor",io(Y.secondary.main,.55)),Vt(Y.Switch,"errorDisabledColor",io(Y.error.main,.55)),Vt(Y.Switch,"infoDisabledColor",io(Y.info.main,.55)),Vt(Y.Switch,"successDisabledColor",io(Y.success.main,.55)),Vt(Y.Switch,"warningDisabledColor",io(Y.warning.main,.55)),Vt(Y.TableCell,"border",io(Px(Y.divider,1),.68)),Vt(Y.Tooltip,"bg",Px(Y.grey[700],.92))}Rh(Y.background,"default"),Rh(Y.background,"paper"),Rh(Y.common,"background"),Rh(Y.common,"onBackground"),Rh(Y,"divider"),Object.keys(Y).forEach(re=>{const ye=Y[re];ye&&typeof ye=="object"&&(ye.main&&Vt(Y[re],"mainChannel",f1(p1(ye.main))),ye.light&&Vt(Y[re],"lightChannel",f1(p1(ye.light))),ye.dark&&Vt(Y[re],"darkChannel",f1(p1(ye.dark))),ye.contrastText&&Vt(Y[re],"contrastTextChannel",f1(p1(ye.contrastText))),re==="text"&&(Rh(Y[re],"primary"),Rh(Y[re],"secondary")),re==="action"&&(ye.active&&Rh(Y[re],"active"),ye.selected&&Rh(Y[re],"selected")))})}),q=t.reduce((ge,Y)=>ah(ge,Y),q);const te={prefix:a,disableCssColorScheme:i,shouldSkipGeneratingVar:u,getSelector:Eke(q)},{vars:K,generateThemeVars:ee,generateStyleSheets:Q}=ZPe(q,te);return q.vars=K,Object.entries(q.colorSchemes[q.defaultColorScheme]).forEach(([ge,Y])=>{q[ge]=Y}),q.generateThemeVars=ee,q.generateStyleSheets=Q,q.generateSpacing=function(){return bU(m.spacing,Zk(this))},q.getColorSchemeSelector=YPe(s),q.spacing=q.generateSpacing(),q.shouldSkipGeneratingVar=u,q.unstable_sxConfig={...f2,...m==null?void 0:m.unstable_sxConfig},q.unstable_sx=function(Y){return Om({sx:Y,theme:this})},q.toRuntimeSource=kU,q}function NN(e,t,r){e.colorSchemes&&r&&(e.colorSchemes[t]={...r!==!0&&r,palette:tI({...r===!0?{}:r.palette,mode:t})})}function MU(e={},...t){const{palette:r,cssVariables:n=!1,colorSchemes:i=r?void 0:{light:!0},defaultColorScheme:a=r==null?void 0:r.mode,...u}=e,s=a||"light",f=i==null?void 0:i[s],m={...i,...r?{[s]:{...typeof f!="boolean"&&f,palette:r}}:void 0};if(n===!1){if(!("colorSchemes"in e))return m4(e,...t);let x=r;"palette"in e||m[s]&&(m[s]!==!0?x=m[s].palette:s==="dark"&&(x={mode:"dark"}));const w=m4({...e,palette:x},...t);return w.defaultColorScheme=s,w.colorSchemes=m,w.palette.mode==="light"&&(w.colorSchemes.light={...m.light!==!0&&m.light,palette:w.palette},NN(w,"dark",m.dark)),w.palette.mode==="dark"&&(w.colorSchemes.dark={...m.dark!==!0&&m.dark,palette:w.palette},NN(w,"light",m.light)),w}return!r&&!("light"in m)&&s==="light"&&(m.light=!0),kke({...u,colorSchemes:m,defaultColorScheme:s,...typeof n!="boolean"&&n},...t)}const rI=MU();function nI(){const e=Qk(rI);return e[cS]||e}function RU(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const fd=e=>RU(e)&&e!=="classes",Sn=LPe({themeId:cS,defaultTheme:rI,rootShouldForwardProp:fd});var Qi={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iI=Symbol.for("react.element"),oI=Symbol.for("react.portal"),wS=Symbol.for("react.fragment"),SS=Symbol.for("react.strict_mode"),CS=Symbol.for("react.profiler"),ES=Symbol.for("react.provider"),AS=Symbol.for("react.context"),Ike=Symbol.for("react.server_context"),TS=Symbol.for("react.forward_ref"),PS=Symbol.for("react.suspense"),kS=Symbol.for("react.suspense_list"),IS=Symbol.for("react.memo"),LS=Symbol.for("react.lazy"),Lke=Symbol.for("react.offscreen"),DU;DU=Symbol.for("react.module.reference");function Ic(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case iI:switch(e=e.type,e){case wS:case CS:case SS:case PS:case kS:return e;default:switch(e=e&&e.$$typeof,e){case Ike:case AS:case TS:case LS:case IS:case ES:return e;default:return t}}case oI:return t}}}Qi.ContextConsumer=AS;Qi.ContextProvider=ES;Qi.Element=iI;Qi.ForwardRef=TS;Qi.Fragment=wS;Qi.Lazy=LS;Qi.Memo=IS;Qi.Portal=oI;Qi.Profiler=CS;Qi.StrictMode=SS;Qi.Suspense=PS;Qi.SuspenseList=kS;Qi.isAsyncMode=function(){return!1};Qi.isConcurrentMode=function(){return!1};Qi.isContextConsumer=function(e){return Ic(e)===AS};Qi.isContextProvider=function(e){return Ic(e)===ES};Qi.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===iI};Qi.isForwardRef=function(e){return Ic(e)===TS};Qi.isFragment=function(e){return Ic(e)===wS};Qi.isLazy=function(e){return Ic(e)===LS};Qi.isMemo=function(e){return Ic(e)===IS};Qi.isPortal=function(e){return Ic(e)===oI};Qi.isProfiler=function(e){return Ic(e)===CS};Qi.isStrictMode=function(e){return Ic(e)===SS};Qi.isSuspense=function(e){return Ic(e)===PS};Qi.isSuspenseList=function(e){return Ic(e)===kS};Qi.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===wS||e===CS||e===SS||e===PS||e===kS||e===Lke||typeof e=="object"&&e!==null&&(e.$$typeof===LS||e.$$typeof===IS||e.$$typeof===ES||e.$$typeof===AS||e.$$typeof===TS||e.$$typeof===DU||e.getModuleId!==void 0)};Qi.typeOf=Ic;function oi(e){if(typeof e!="string")throw new Error(Dm(7));return e.charAt(0).toUpperCase()+e.slice(1)}function FN(...e){return e.reduce((t,r)=>r==null?t:function(...i){t.apply(this,i),r.apply(this,i)},()=>{})}function OU(e,t=166){let r;function n(...i){const a=()=>{e.apply(this,i)};clearTimeout(r),r=setTimeout(a,t)}return n.clear=()=>{clearTimeout(r)},n}function sd(e){return e&&e.ownerDocument||document}function nf(e){return sd(e).defaultView||window}function y4(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const gp=typeof window<"u"?V.useLayoutEffect:V.useEffect;let $N=0;function Mke(e){const[t,r]=V.useState(e),n=t;return V.useEffect(()=>{t==null&&($N+=1,r(`mui-${$N}`))},[t]),n}const Rke={...Wh},BN=Rke.useId;function Dke(e){return BN!==void 0?BN():Mke(e)}function zN({controlled:e,default:t,name:r,state:n="value"}){const{current:i}=V.useRef(e!==void 0),[a,u]=V.useState(t),s=i?e:a,f=V.useCallback(m=>{i||u(m)},[]);return[s,f]}function E0(e){const t=V.useRef(e);return gp(()=>{t.current=e}),V.useRef((...r)=>(0,t.current)(...r)).current}function Rs(...e){return V.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(r=>{y4(r,t)})},e)}const jN={};function NU(e,t){const r=V.useRef(jN);return r.current===jN&&(r.current=e(t)),r}const Oke=[];function Nke(e){V.useEffect(e,Oke)}class aI{constructor(){vv(this,"currentId",null);vv(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});vv(this,"disposeEffect",()=>this.clear)}static create(){return new aI}start(t,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},t)}}function FU(){const e=NU(aI.create).current;return Nke(e.disposeEffect),e}function UN(e){try{return e.matches(":focus-visible")}catch{}return!1}function $U(e=window){const t=e.document.documentElement.clientWidth;return e.innerWidth-t}function BU(e,t){const r={...t};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const i=n;if(i==="components"||i==="slots")r[i]={...e[i],...r[i]};else if(i==="componentsProps"||i==="slotProps"){const a=e[i],u=t[i];if(!u)r[i]=a||{};else if(!a)r[i]=u;else{r[i]={...u};for(const s in a)if(Object.prototype.hasOwnProperty.call(a,s)){const f=s;r[i][f]=BU(a[f],u[f])}}}else r[i]===void 0&&(r[i]=e[i])}return r}function Eo(e,t,r=void 0){const n={};for(const i in e){const a=e[i];let u="",s=!0;for(let f=0;f<a.length;f+=1){const m=a[f];m&&(u+=(s===!0?"":" ")+t(m),s=!1,r&&r[m]&&(u+=" "+r[m]))}n[i]=u}return n}function Di(e,t,r="Mui"){const n={};return t.forEach(i=>{n[i]=po(e,i,r)}),n}function Fke(e){return typeof e=="string"}function zU(e,t,r){return e===void 0||Fke(e)?t:{...t,ownerState:{...t.ownerState,...r}}}function jU(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=jU(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function qn(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=jU(e))&&(n&&(n+=" "),n+=t);return n}function UU(e,t=[]){if(e===void 0)return{};const r={};return Object.keys(e).filter(n=>n.match(/^on[A-Z]/)&&typeof e[n]=="function"&&!t.includes(n)).forEach(n=>{r[n]=e[n]}),r}function VN(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(r=>!(r.match(/^on[A-Z]/)&&typeof e[r]=="function")).forEach(r=>{t[r]=e[r]}),t}function VU(e){const{getSlotProps:t,additionalProps:r,externalSlotProps:n,externalForwardedProps:i,className:a}=e;if(!t){const C=qn(r==null?void 0:r.className,a,i==null?void 0:i.className,n==null?void 0:n.className),L={...r==null?void 0:r.style,...i==null?void 0:i.style,...n==null?void 0:n.style},k={...r,...i,...n};return C.length>0&&(k.className=C),Object.keys(L).length>0&&(k.style=L),{props:k,internalRef:void 0}}const u=UU({...i,...n}),s=VN(n),f=VN(i),m=t(u),x=qn(m==null?void 0:m.className,r==null?void 0:r.className,a,i==null?void 0:i.className,n==null?void 0:n.className),w={...m==null?void 0:m.style,...r==null?void 0:r.style,...i==null?void 0:i.style,...n==null?void 0:n.style},S={...m,...r,...f,...s};return x.length>0&&(S.className=x),Object.keys(w).length>0&&(S.style=w),{props:S,internalRef:m.ref}}function qU(e,t,r){return typeof e=="function"?e(t,r):e}function qN(e){var w;const{elementType:t,externalSlotProps:r,ownerState:n,skipResolvingSlotProps:i=!1,...a}=e,u=i?{}:qU(r,n),{props:s,internalRef:f}=VU({...a,externalSlotProps:u}),m=Rs(f,u==null?void 0:u.ref,(w=e.additionalProps)==null?void 0:w.ref);return zU(t,{...s,ref:m},n)}function p2(e){var t;return parseInt(V.version,10)>=19?((t=e==null?void 0:e.props)==null?void 0:t.ref)||null:(e==null?void 0:e.ref)||null}function $ke(e){return $e.jsx(CPe,{...e,defaultTheme:rI,themeId:cS})}function Bke(e){return function(r){return $e.jsx($ke,{styles:typeof e=="function"?n=>e({theme:n,...r}):e})}}function zke(){return xU}const za=WPe;function Ao(e){return HPe(e)}function jke(e){return po("MuiSvgIcon",e)}Di("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Uke=e=>{const{color:t,fontSize:r,classes:n}=e,i={root:["root",t!=="inherit"&&`color${oi(t)}`,`fontSize${oi(r)}`]};return Eo(i,jke,n)},Vke=Sn("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="inherit"&&t[`color${oi(r.color)}`],t[`fontSize${oi(r.fontSize)}`]]}})(za(({theme:e})=>{var t,r,n,i,a,u,s,f,m,x,w,S,C,L;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(t=e.transitions)==null?void 0:t.create)==null?void 0:i.call(t,"fill",{duration:(n=(r=(e.vars??e).transitions)==null?void 0:r.duration)==null?void 0:n.shorter}),variants:[{props:k=>!k.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((u=(a=e.typography)==null?void 0:a.pxToRem)==null?void 0:u.call(a,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((f=(s=e.typography)==null?void 0:s.pxToRem)==null?void 0:f.call(s,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((x=(m=e.typography)==null?void 0:m.pxToRem)==null?void 0:x.call(m,35))||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,k])=>k&&k.main).map(([k])=>{var $,M;return{props:{color:k},style:{color:(M=($=(e.vars??e).palette)==null?void 0:$[k])==null?void 0:M.main}}}),{props:{color:"action"},style:{color:(S=(w=(e.vars??e).palette)==null?void 0:w.action)==null?void 0:S.active}},{props:{color:"disabled"},style:{color:(L=(C=(e.vars??e).palette)==null?void 0:C.action)==null?void 0:L.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),dw=V.forwardRef(function(t,r){const n=Ao({props:t,name:"MuiSvgIcon"}),{children:i,className:a,color:u="inherit",component:s="svg",fontSize:f="medium",htmlColor:m,inheritViewBox:x=!1,titleAccess:w,viewBox:S="0 0 24 24",...C}=n,L=V.isValidElement(i)&&i.type==="svg",k={...n,color:u,component:s,fontSize:f,instanceFontSize:t.fontSize,inheritViewBox:x,viewBox:S,hasSvgAsChild:L},$={};x||($.viewBox=S);const M=Uke(k);return $e.jsxs(Vke,{as:s,className:qn(M.root,a),focusable:"false",color:m,"aria-hidden":w?void 0:!0,role:w?"img":void 0,ref:r,...$,...C,...L&&i.props,ownerState:k,children:[L?i.props.children:i,w?$e.jsx("title",{children:w}):null]})});dw&&(dw.muiName="SvgIcon");function qke(e,t){function r(n,i){return $e.jsx(dw,{"data-testid":`${t}Icon`,ref:i,...n,children:e})}return r.muiName=dw.muiName,V.memo(V.forwardRef(r))}const HU=e=>e.scrollTop;function hw(e,t){const{timeout:r,easing:n,style:i={}}=e;return{duration:i.transitionDuration??(typeof r=="number"?r:r[t.mode]||0),easing:i.transitionTimingFunction??(typeof n=="object"?n[t.mode]:n),delay:i.transitionDelay}}function Hke(e){return po("MuiPaper",e)}Di("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Wke=e=>{const{square:t,elevation:r,variant:n,classes:i}=e,a={root:["root",n,!t&&"rounded",n==="elevation"&&`elevation${r}`]};return Eo(a,Hke,i)},Gke=Sn("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],!r.square&&t.rounded,r.variant==="elevation"&&t[`elevation${r.elevation}`]]}})(za(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),WU=V.forwardRef(function(t,r){var C;const n=Ao({props:t,name:"MuiPaper"}),i=nI(),{className:a,component:u="div",elevation:s=1,square:f=!1,variant:m="elevation",...x}=n,w={...n,component:u,elevation:s,square:f,variant:m},S=Wke(w);return $e.jsx(Gke,{as:u,ownerState:w,className:qn(S.root,a),ref:r,...x,style:{...m==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[s],...i.vars&&{"--Paper-overlay":(C=i.vars.overlays)==null?void 0:C[s]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${sl("#fff",g4(s))}, ${sl("#fff",g4(s))})`}},...x.style}})});function _y(e,t){const{className:r,elementType:n,ownerState:i,externalForwardedProps:a,getSlotOwnerState:u,internalForwardedProps:s,...f}=t,{component:m,slots:x={[e]:void 0},slotProps:w={[e]:void 0},...S}=a,C=x[e]||n,L=qU(w[e],i),{props:{component:k,...$},internalRef:M}=VU({className:r,...f,externalForwardedProps:e==="root"?S:void 0,externalSlotProps:L}),z=Rs(M,L==null?void 0:L.ref,t.ref),B=u?u($):{},q={...i,...B},te=e==="root"?k||m:k,K=zU(C,{...e==="root"&&!m&&!x[e]&&s,...e!=="root"&&!x[e]&&s,...$,...te&&{as:te},ref:z},q);return Object.keys(B).forEach(ee=>{delete K[ee]}),[C,K]}class fw{constructor(){vv(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new fw}static use(){const t=NU(fw.create).current,[r,n]=V.useState(!1);return t.shouldMount=r,t.setShouldMount=n,V.useEffect(t.mountEffect,[r]),t}mount(){return this.mounted||(this.mounted=Xke(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...t){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.start(...t)})}stop(...t){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.stop(...t)})}pulsate(...t){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.pulsate(...t)})}}function Kke(){return fw.use()}function Xke(){let e,t;const r=new Promise((n,i)=>{e=n,t=i});return r.resolve=e,r.reject=t,r}function Zke(e){const{className:t,classes:r,pulsate:n=!1,rippleX:i,rippleY:a,rippleSize:u,in:s,onExited:f,timeout:m}=e,[x,w]=V.useState(!1),S=qn(t,r.ripple,r.rippleVisible,n&&r.ripplePulsate),C={width:u,height:u,top:-(u/2)+a,left:-(u/2)+i},L=qn(r.child,x&&r.childLeaving,n&&r.childPulsate);return!s&&!x&&w(!0),V.useEffect(()=>{if(!s&&f!=null){const k=setTimeout(f,m);return()=>{clearTimeout(k)}}},[f,s,m]),$e.jsx("span",{className:S,style:C,children:$e.jsx("span",{className:L})})}const hc=Di("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),v4=550,Yke=80,Jke=Gk`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,Qke=Gk`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,eIe=Gk`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,tIe=Sn("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),rIe=Sn(Zke,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${hc.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${Jke};
    animation-duration: ${v4}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${hc.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${hc.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${hc.childLeaving} {
    opacity: 0;
    animation-name: ${Qke};
    animation-duration: ${v4}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${hc.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${eIe};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,nIe=V.forwardRef(function(t,r){const n=Ao({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:a={},className:u,...s}=n,[f,m]=V.useState([]),x=V.useRef(0),w=V.useRef(null);V.useEffect(()=>{w.current&&(w.current(),w.current=null)},[f]);const S=V.useRef(!1),C=FU(),L=V.useRef(null),k=V.useRef(null),$=V.useCallback(q=>{const{pulsate:te,rippleX:K,rippleY:ee,rippleSize:Q,cb:ge}=q;m(Y=>[...Y,$e.jsx(rIe,{classes:{ripple:qn(a.ripple,hc.ripple),rippleVisible:qn(a.rippleVisible,hc.rippleVisible),ripplePulsate:qn(a.ripplePulsate,hc.ripplePulsate),child:qn(a.child,hc.child),childLeaving:qn(a.childLeaving,hc.childLeaving),childPulsate:qn(a.childPulsate,hc.childPulsate)},timeout:v4,pulsate:te,rippleX:K,rippleY:ee,rippleSize:Q},x.current)]),x.current+=1,w.current=ge},[a]),M=V.useCallback((q={},te={},K=()=>{})=>{const{pulsate:ee=!1,center:Q=i||te.pulsate,fakeElement:ge=!1}=te;if((q==null?void 0:q.type)==="mousedown"&&S.current){S.current=!1;return}(q==null?void 0:q.type)==="touchstart"&&(S.current=!0);const Y=ge?null:k.current,Z=Y?Y.getBoundingClientRect():{width:0,height:0,left:0,top:0};let re,ye,fe;if(Q||q===void 0||q.clientX===0&&q.clientY===0||!q.clientX&&!q.touches)re=Math.round(Z.width/2),ye=Math.round(Z.height/2);else{const{clientX:Ae,clientY:ke}=q.touches&&q.touches.length>0?q.touches[0]:q;re=Math.round(Ae-Z.left),ye=Math.round(ke-Z.top)}if(Q)fe=Math.sqrt((2*Z.width**2+Z.height**2)/3),fe%2===0&&(fe+=1);else{const Ae=Math.max(Math.abs((Y?Y.clientWidth:0)-re),re)*2+2,ke=Math.max(Math.abs((Y?Y.clientHeight:0)-ye),ye)*2+2;fe=Math.sqrt(Ae**2+ke**2)}q!=null&&q.touches?L.current===null&&(L.current=()=>{$({pulsate:ee,rippleX:re,rippleY:ye,rippleSize:fe,cb:K})},C.start(Yke,()=>{L.current&&(L.current(),L.current=null)})):$({pulsate:ee,rippleX:re,rippleY:ye,rippleSize:fe,cb:K})},[i,$,C]),z=V.useCallback(()=>{M({},{pulsate:!0})},[M]),B=V.useCallback((q,te)=>{if(C.clear(),(q==null?void 0:q.type)==="touchend"&&L.current){L.current(),L.current=null,C.start(0,()=>{B(q,te)});return}L.current=null,m(K=>K.length>0?K.slice(1):K),w.current=te},[C]);return V.useImperativeHandle(r,()=>({pulsate:z,start:M,stop:B}),[z,M,B]),$e.jsx(tIe,{className:qn(hc.root,a.root,u),ref:k,...s,children:$e.jsx(_5,{component:null,exit:!0,children:f})})});function iIe(e){return po("MuiButtonBase",e)}const oIe=Di("MuiButtonBase",["root","disabled","focusVisible"]),aIe=e=>{const{disabled:t,focusVisible:r,focusVisibleClassName:n,classes:i}=e,u=Eo({root:["root",t&&"disabled",r&&"focusVisible"]},iIe,i);return r&&n&&(u.root+=` ${n}`),u},sIe=Sn("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${oIe.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),GU=V.forwardRef(function(t,r){const n=Ao({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:a=!1,children:u,className:s,component:f="button",disabled:m=!1,disableRipple:x=!1,disableTouchRipple:w=!1,focusRipple:S=!1,focusVisibleClassName:C,LinkComponent:L="a",onBlur:k,onClick:$,onContextMenu:M,onDragLeave:z,onFocus:B,onFocusVisible:q,onKeyDown:te,onKeyUp:K,onMouseDown:ee,onMouseLeave:Q,onMouseUp:ge,onTouchEnd:Y,onTouchMove:Z,onTouchStart:re,tabIndex:ye=0,TouchRippleProps:fe,touchRippleRef:Ae,type:ke,...Oe}=n,_e=V.useRef(null),Ne=Kke(),Ke=Rs(Ne.ref,Ae),[pt,ae]=V.useState(!1);m&&pt&&ae(!1),V.useImperativeHandle(i,()=>({focusVisible:()=>{ae(!0),_e.current.focus()}}),[]);const me=Ne.shouldMount&&!x&&!m;V.useEffect(()=>{pt&&S&&!x&&Ne.pulsate()},[x,S,pt,Ne]);function we(Lt,Jt,_r=w){return E0(Cr=>(Jt&&Jt(Cr),_r||Ne[Lt](Cr),!0))}const Re=we("start",ee),Fe=we("stop",M),rt=we("stop",z),Ve=we("stop",ge),We=we("stop",Lt=>{pt&&Lt.preventDefault(),Q&&Q(Lt)}),nt=we("start",re),ut=we("stop",Y),bt=we("stop",Z),Ct=we("stop",Lt=>{UN(Lt.target)||ae(!1),k&&k(Lt)},!1),Et=E0(Lt=>{_e.current||(_e.current=Lt.currentTarget),UN(Lt.target)&&(ae(!0),q&&q(Lt)),B&&B(Lt)}),lt=()=>{const Lt=_e.current;return f&&f!=="button"&&!(Lt.tagName==="A"&&Lt.href)},ce=E0(Lt=>{S&&!Lt.repeat&&pt&&Lt.key===" "&&Ne.stop(Lt,()=>{Ne.start(Lt)}),Lt.target===Lt.currentTarget&&lt()&&Lt.key===" "&&Lt.preventDefault(),te&&te(Lt),Lt.target===Lt.currentTarget&&lt()&&Lt.key==="Enter"&&!m&&(Lt.preventDefault(),$&&$(Lt))}),ur=E0(Lt=>{S&&Lt.key===" "&&pt&&!Lt.defaultPrevented&&Ne.stop(Lt,()=>{Ne.pulsate(Lt)}),K&&K(Lt),$&&Lt.target===Lt.currentTarget&&lt()&&Lt.key===" "&&!Lt.defaultPrevented&&$(Lt)});let qt=f;qt==="button"&&(Oe.href||Oe.to)&&(qt=L);const wt={};qt==="button"?(wt.type=ke===void 0?"button":ke,wt.disabled=m):(!Oe.href&&!Oe.to&&(wt.role="button"),m&&(wt["aria-disabled"]=m));const Mt=Rs(r,_e),It={...n,centerRipple:a,component:f,disabled:m,disableRipple:x,disableTouchRipple:w,focusRipple:S,tabIndex:ye,focusVisible:pt},Gt=aIe(It);return $e.jsxs(sIe,{as:qt,className:qn(Gt.root,s),ownerState:It,onBlur:Ct,onClick:$,onContextMenu:Fe,onFocus:Et,onKeyDown:ce,onKeyUp:ur,onMouseDown:Re,onMouseLeave:We,onMouseUp:Ve,onDragLeave:rt,onTouchEnd:ut,onTouchMove:bt,onTouchStart:nt,ref:Mt,tabIndex:m?-1:ye,type:ke,...wt,...Oe,children:[u,me?$e.jsx(nIe,{ref:Ke,center:a,...fe}):null]})});function lIe(e){return typeof e.main=="string"}function uIe(e,t=[]){if(!lIe(e))return!1;for(const r of t)if(!e.hasOwnProperty(r)||typeof e[r]!="string")return!1;return!0}function Hy(e=[]){return([,t])=>t&&uIe(t,e)}function cIe(e){return po("MuiTypography",e)}Di("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const dIe={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},hIe=zke(),fIe=e=>{const{align:t,gutterBottom:r,noWrap:n,paragraph:i,variant:a,classes:u}=e,s={root:["root",a,e.align!=="inherit"&&`align${oi(t)}`,r&&"gutterBottom",n&&"noWrap",i&&"paragraph"]};return Eo(s,cIe,u)},pIe=Sn("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],r.align!=="inherit"&&t[`align${oi(r.align)}`],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})(za(({theme:e})=>{var t;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([r,n])=>r!=="inherit"&&n&&typeof n=="object").map(([r,n])=>({props:{variant:r},style:n})),...Object.entries(e.palette).filter(Hy()).map(([r])=>({props:{color:r},style:{color:(e.vars||e).palette[r].main}})),...Object.entries(((t=e.palette)==null?void 0:t.text)||{}).filter(([,r])=>typeof r=="string").map(([r])=>({props:{color:`text${oi(r)}`},style:{color:(e.vars||e).palette.text[r]}})),{props:({ownerState:r})=>r.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:r})=>r.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:r})=>r.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:r})=>r.paragraph,style:{marginBottom:16}}]}})),HN={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},mIe=V.forwardRef(function(t,r){const{color:n,...i}=Ao({props:t,name:"MuiTypography"}),a=!dIe[n],u=hIe({...i,...a&&{color:n}}),{align:s="inherit",className:f,component:m,gutterBottom:x=!1,noWrap:w=!1,paragraph:S=!1,variant:C="body1",variantMapping:L=HN,...k}=u,$={...u,align:s,color:n,className:f,component:m,gutterBottom:x,noWrap:w,paragraph:S,variant:C,variantMapping:L},M=m||(S?"p":L[C]||HN[C])||"span",z=fIe($);return $e.jsx(pIe,{as:M,ref:r,className:qn(z.root,f),...k,ownerState:$,style:{...s!=="inherit"&&{"--Typography-textAlign":s},...k.style}})});function gIe(e){return po("MuiAppBar",e)}Di("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const yIe=e=>{const{color:t,position:r,classes:n}=e,i={root:["root",`color${oi(t)}`,`position${oi(r)}`]};return Eo(i,gIe,n)},WN=(e,t)=>e?`${e==null?void 0:e.replace(")","")}, ${t})`:t,vIe=Sn(WU,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`position${oi(r.position)}`],t[`color${oi(r.color)}`]]}})(za(({theme:e})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[100],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[100]),...e.applyStyles("dark",{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[900],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[900])})}},...Object.entries(e.palette).filter(Hy(["contrastText"])).map(([t])=>({props:{color:t},style:{"--AppBar-background":(e.vars??e).palette[t].main,"--AppBar-color":(e.vars??e).palette[t].contrastText}})),{props:t=>t.enableColorOnDark===!0&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:t=>t.enableColorOnDark===!1&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundColor:e.vars?WN(e.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:e.vars?WN(e.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundImage:"none"})}}]}))),bIe=V.forwardRef(function(t,r){const n=Ao({props:t,name:"MuiAppBar"}),{className:i,color:a="primary",enableColorOnDark:u=!1,position:s="fixed",...f}=n,m={...n,color:a,position:s,enableColorOnDark:u},x=yIe(m);return $e.jsx(vIe,{square:!0,component:"header",ownerState:m,elevation:4,className:qn(x.root,i,s==="fixed"&&"mui-fixed"),ref:r,...f})});function xIe(e){return typeof e=="function"?e():e}const _Ie=V.forwardRef(function(t,r){const{children:n,container:i,disablePortal:a=!1}=t,[u,s]=V.useState(null),f=Rs(V.isValidElement(n)?p2(n):null,r);if(gp(()=>{a||s(xIe(i)||document.body)},[i,a]),gp(()=>{if(u&&!a)return y4(r,u),()=>{y4(r,null)}},[r,u,a]),a){if(V.isValidElement(n)){const m={ref:f};return V.cloneElement(n,m)}return $e.jsx(V.Fragment,{children:n})}return $e.jsx(V.Fragment,{children:u&&up.createPortal(n,u)})});function Ix(e){return parseInt(e,10)||0}const wIe={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function SIe(e){return e==null||Object.keys(e).length===0||e.outerHeightStyle===0&&!e.overflowing}const CIe=V.forwardRef(function(t,r){const{onChange:n,maxRows:i,minRows:a=1,style:u,value:s,...f}=t,{current:m}=V.useRef(s!=null),x=V.useRef(null),w=Rs(r,x),S=V.useRef(null),C=V.useRef(null),L=V.useCallback(()=>{const M=x.current,B=nf(M).getComputedStyle(M);if(B.width==="0px")return{outerHeightStyle:0,overflowing:!1};const q=C.current;q.style.width=B.width,q.value=M.value||t.placeholder||"x",q.value.slice(-1)===`
`&&(q.value+=" ");const te=B.boxSizing,K=Ix(B.paddingBottom)+Ix(B.paddingTop),ee=Ix(B.borderBottomWidth)+Ix(B.borderTopWidth),Q=q.scrollHeight;q.value="x";const ge=q.scrollHeight;let Y=Q;a&&(Y=Math.max(Number(a)*ge,Y)),i&&(Y=Math.min(Number(i)*ge,Y)),Y=Math.max(Y,ge);const Z=Y+(te==="border-box"?K+ee:0),re=Math.abs(Y-Q)<=1;return{outerHeightStyle:Z,overflowing:re}},[i,a,t.placeholder]),k=V.useCallback(()=>{const M=L();if(SIe(M))return;const z=M.outerHeightStyle,B=x.current;S.current!==z&&(S.current=z,B.style.height=`${z}px`),B.style.overflow=M.overflowing?"hidden":""},[L]);gp(()=>{const M=()=>{k()};let z;const B=OU(M),q=x.current,te=nf(q);te.addEventListener("resize",B);let K;return typeof ResizeObserver<"u"&&(K=new ResizeObserver(M),K.observe(q)),()=>{B.clear(),cancelAnimationFrame(z),te.removeEventListener("resize",B),K&&K.disconnect()}},[L,k]),gp(()=>{k()});const $=M=>{m||k(),n&&n(M)};return $e.jsxs(V.Fragment,{children:[$e.jsx("textarea",{value:s,onChange:$,ref:w,rows:a,style:u,...f}),$e.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:C,tabIndex:-1,style:{...wIe.shadow,...u,paddingTop:0,paddingBottom:0}})]})});function b4(e){return typeof e=="string"}function sI({props:e,states:t,muiFormControl:r}){return t.reduce((n,i)=>(n[i]=e[i],r&&typeof e[i]>"u"&&(n[i]=r[i]),n),{})}const KU=V.createContext(void 0);function lI(){return V.useContext(KU)}function GN(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function XU(e,t=!1){return e&&(GN(e.value)&&e.value!==""||t&&GN(e.defaultValue)&&e.defaultValue!=="")}function EIe(e){return po("MuiInputBase",e)}const wy=Di("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var KN;const MS=(e,t)=>{const{ownerState:r}=e;return[t.root,r.formControl&&t.formControl,r.startAdornment&&t.adornedStart,r.endAdornment&&t.adornedEnd,r.error&&t.error,r.size==="small"&&t.sizeSmall,r.multiline&&t.multiline,r.color&&t[`color${oi(r.color)}`],r.fullWidth&&t.fullWidth,r.hiddenLabel&&t.hiddenLabel]},RS=(e,t)=>{const{ownerState:r}=e;return[t.input,r.size==="small"&&t.inputSizeSmall,r.multiline&&t.inputMultiline,r.type==="search"&&t.inputTypeSearch,r.startAdornment&&t.inputAdornedStart,r.endAdornment&&t.inputAdornedEnd,r.hiddenLabel&&t.inputHiddenLabel]},AIe=e=>{const{classes:t,color:r,disabled:n,error:i,endAdornment:a,focused:u,formControl:s,fullWidth:f,hiddenLabel:m,multiline:x,readOnly:w,size:S,startAdornment:C,type:L}=e,k={root:["root",`color${oi(r)}`,n&&"disabled",i&&"error",f&&"fullWidth",u&&"focused",s&&"formControl",S&&S!=="medium"&&`size${oi(S)}`,x&&"multiline",C&&"adornedStart",a&&"adornedEnd",m&&"hiddenLabel",w&&"readOnly"],input:["input",n&&"disabled",L==="search"&&"inputTypeSearch",x&&"inputMultiline",S==="small"&&"inputSizeSmall",m&&"inputHiddenLabel",C&&"inputAdornedStart",a&&"inputAdornedEnd",w&&"readOnly"]};return Eo(k,EIe,t)},DS=Sn("div",{name:"MuiInputBase",slot:"Root",overridesResolver:MS})(za(({theme:e})=>({...e.typography.body1,color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${wy.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:t})=>t.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:t,size:r})=>t.multiline&&r==="small",style:{paddingTop:1}},{props:({ownerState:t})=>t.fullWidth,style:{width:"100%"}}]}))),OS=Sn("input",{name:"MuiInputBase",slot:"Input",overridesResolver:RS})(za(({theme:e})=>{const t=e.palette.mode==="light",r={color:"currentColor",...e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5},transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},n={opacity:"0 !important"},i=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${wy.formControl} &`]:{"&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${wy.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},variants:[{props:({ownerState:a})=>!a.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:a})=>a.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),XN=Bke({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),uI=V.forwardRef(function(t,r){const n=Ao({props:t,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:a,autoFocus:u,className:s,color:f,components:m={},componentsProps:x={},defaultValue:w,disabled:S,disableInjectingGlobalStyles:C,endAdornment:L,error:k,fullWidth:$=!1,id:M,inputComponent:z="input",inputProps:B={},inputRef:q,margin:te,maxRows:K,minRows:ee,multiline:Q=!1,name:ge,onBlur:Y,onChange:Z,onClick:re,onFocus:ye,onKeyDown:fe,onKeyUp:Ae,placeholder:ke,readOnly:Oe,renderSuffix:_e,rows:Ne,size:Ke,slotProps:pt={},slots:ae={},startAdornment:me,type:we="text",value:Re,...Fe}=n,rt=B.value!=null?B.value:Re,{current:Ve}=V.useRef(rt!=null),We=V.useRef(),nt=V.useCallback(At=>{},[]),ut=Rs(We,q,B.ref,nt),[bt,Ct]=V.useState(!1),Et=lI(),lt=sI({props:n,muiFormControl:Et,states:["color","disabled","error","hiddenLabel","size","required","filled"]});lt.focused=Et?Et.focused:bt,V.useEffect(()=>{!Et&&S&&bt&&(Ct(!1),Y&&Y())},[Et,S,bt,Y]);const ce=Et&&Et.onFilled,ur=Et&&Et.onEmpty,qt=V.useCallback(At=>{XU(At)?ce&&ce():ur&&ur()},[ce,ur]);gp(()=>{Ve&&qt({value:rt})},[rt,qt,Ve]);const wt=At=>{ye&&ye(At),B.onFocus&&B.onFocus(At),Et&&Et.onFocus?Et.onFocus(At):Ct(!0)},Mt=At=>{Y&&Y(At),B.onBlur&&B.onBlur(At),Et&&Et.onBlur?Et.onBlur(At):Ct(!1)},It=(At,...Ar)=>{if(!Ve){const ot=At.target||We.current;if(ot==null)throw new Error(Dm(1));qt({value:ot.value})}B.onChange&&B.onChange(At,...Ar),Z&&Z(At,...Ar)};V.useEffect(()=>{qt(We.current)},[]);const Gt=At=>{We.current&&At.currentTarget===At.target&&We.current.focus(),re&&re(At)};let Lt=z,Jt=B;Q&&Lt==="input"&&(Ne?Jt={type:void 0,minRows:Ne,maxRows:Ne,...Jt}:Jt={type:void 0,maxRows:K,minRows:ee,...Jt},Lt=CIe);const _r=At=>{qt(At.animationName==="mui-auto-fill-cancel"?We.current:{value:"x"})};V.useEffect(()=>{Et&&Et.setAdornedStart(!!me)},[Et,me]);const Cr={...n,color:lt.color||"primary",disabled:lt.disabled,endAdornment:L,error:lt.error,focused:lt.focused,formControl:Et,fullWidth:$,hiddenLabel:lt.hiddenLabel,multiline:Q,size:lt.size,startAdornment:me,type:we},Ir=AIe(Cr),Ze=ae.root||m.Root||DS,gt=pt.root||x.root||{},Ft=ae.input||m.Input||OS;return Jt={...Jt,...pt.input??x.input},$e.jsxs(V.Fragment,{children:[!C&&typeof XN=="function"&&(KN||(KN=$e.jsx(XN,{}))),$e.jsxs(Ze,{...gt,ref:r,onClick:Gt,...Fe,...!b4(Ze)&&{ownerState:{...Cr,...gt.ownerState}},className:qn(Ir.root,gt.className,s,Oe&&"MuiInputBase-readOnly"),children:[me,$e.jsx(KU.Provider,{value:null,children:$e.jsx(Ft,{"aria-invalid":lt.error,"aria-describedby":i,autoComplete:a,autoFocus:u,defaultValue:w,disabled:lt.disabled,id:M,onAnimationStart:_r,name:ge,placeholder:ke,readOnly:Oe,required:lt.required,rows:Ne,value:rt,onKeyDown:fe,onKeyUp:Ae,type:we,...Jt,...!b4(Ft)&&{as:Lt,ownerState:{...Cr,...Jt.ownerState}},ref:ut,className:qn(Ir.input,Jt.className,Oe&&"MuiInputBase-readOnly"),onBlur:Mt,onChange:It,onFocus:wt})}),L,_e?_e({...lt,startAdornment:me}):null]})]})});function TIe(e){return po("MuiInput",e)}const Hv={...wy,...Di("MuiInput",["root","underline","input"])};function PIe(e){return po("MuiOutlinedInput",e)}const Nd={...wy,...Di("MuiOutlinedInput",["root","notchedOutline","input"])};function kIe(e){return po("MuiFilledInput",e)}const zp={...wy,...Di("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},IIe=qke($e.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),LIe={entering:{opacity:1},entered:{opacity:1}},MIe=V.forwardRef(function(t,r){const n=nI(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:a,appear:u=!0,children:s,easing:f,in:m,onEnter:x,onEntered:w,onEntering:S,onExit:C,onExited:L,onExiting:k,style:$,timeout:M=i,TransitionComponent:z=Gu,...B}=t,q=V.useRef(null),te=Rs(q,p2(s),r),K=fe=>Ae=>{if(fe){const ke=q.current;Ae===void 0?fe(ke):fe(ke,Ae)}},ee=K(S),Q=K((fe,Ae)=>{HU(fe);const ke=hw({style:$,timeout:M,easing:f},{mode:"enter"});fe.style.webkitTransition=n.transitions.create("opacity",ke),fe.style.transition=n.transitions.create("opacity",ke),x&&x(fe,Ae)}),ge=K(w),Y=K(k),Z=K(fe=>{const Ae=hw({style:$,timeout:M,easing:f},{mode:"exit"});fe.style.webkitTransition=n.transitions.create("opacity",Ae),fe.style.transition=n.transitions.create("opacity",Ae),C&&C(fe)}),re=K(L),ye=fe=>{a&&a(q.current,fe)};return $e.jsx(z,{appear:u,in:m,nodeRef:q,onEnter:Q,onEntered:ge,onEntering:ee,onExit:Z,onExited:re,onExiting:Y,addEndListener:ye,timeout:M,...B,children:(fe,Ae)=>V.cloneElement(s,{style:{opacity:0,visibility:fe==="exited"&&!m?"hidden":void 0,...LIe[fe],...$,...s.props.style},ref:te,...Ae})})});function RIe(e){return po("MuiBackdrop",e)}Di("MuiBackdrop",["root","invisible"]);const DIe=e=>{const{ownerState:t,...r}=e;return r},OIe=e=>{const{classes:t,invisible:r}=e;return Eo({root:["root",r&&"invisible"]},RIe,t)},NIe=Sn("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),FIe=V.forwardRef(function(t,r){const n=Ao({props:t,name:"MuiBackdrop"}),{children:i,className:a,component:u="div",invisible:s=!1,open:f,components:m={},componentsProps:x={},slotProps:w={},slots:S={},TransitionComponent:C,transitionDuration:L,...k}=n,$={...n,component:u,invisible:s},M=OIe($),z={transition:C,root:m.Root,...S},B={...x,...w},q={slots:z,slotProps:B},[te,K]=_y("root",{elementType:NIe,externalForwardedProps:q,className:qn(M.root,a),ownerState:$}),[ee,Q]=_y("transition",{elementType:MIe,externalForwardedProps:q,ownerState:$}),ge=DIe(Q);return $e.jsx(ee,{in:f,timeout:L,...k,...ge,children:$e.jsx(te,{"aria-hidden":!0,...K,classes:M,ref:r,children:i})})}),$Ie=Di("MuiBox",["root"]),BIe=MU(),l0=TPe({themeId:cS,defaultTheme:BIe,defaultClassName:$Ie.root,generateClassName:PU.generate});function zIe(e){return po("MuiButton",e)}const $g=Di("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),jIe=V.createContext({}),UIe=V.createContext(void 0),VIe=e=>{const{color:t,disableElevation:r,fullWidth:n,size:i,variant:a,classes:u}=e,s={root:["root",a,`${a}${oi(t)}`,`size${oi(i)}`,`${a}Size${oi(i)}`,`color${oi(t)}`,r&&"disableElevation",n&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${oi(i)}`],endIcon:["icon","endIcon",`iconSize${oi(i)}`]},f=Eo(s,zIe,u);return{...u,...f}},ZU=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],qIe=Sn(GU,{shouldForwardProp:e=>fd(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${oi(r.color)}`],t[`size${oi(r.size)}`],t[`${r.variant}Size${oi(r.size)}`],r.color==="inherit"&&t.colorInherit,r.disableElevation&&t.disableElevation,r.fullWidth&&t.fullWidth]}})(za(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],r=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${$g.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${$g.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${$g.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${$g.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(Hy()).map(([n])=>({props:{color:n},style:{"--variant-textColor":(e.vars||e).palette[n].main,"--variant-outlinedColor":(e.vars||e).palette[n].main,"--variant-outlinedBorder":e.vars?`rgba(${e.vars.palette[n].mainChannel} / 0.5)`:sl(e.palette[n].main,.5),"--variant-containedColor":(e.vars||e).palette[n].contrastText,"--variant-containedBg":(e.vars||e).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[n].dark,"--variant-textBg":e.vars?`rgba(${e.vars.palette[n].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:sl(e.palette[n].main,e.palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[n].main,"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette[n].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:sl(e.palette[n].main,e.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:sl(e.palette.text.primary,e.palette.action.hoverOpacity),"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:sl(e.palette.text.primary,e.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${$g.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${$g.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}}]}})),HIe=Sn("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.startIcon,t[`iconSize${oi(r.size)}`]]}})({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},...ZU]}),WIe=Sn("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.endIcon,t[`iconSize${oi(r.size)}`]]}})({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},...ZU]}),YU=V.forwardRef(function(t,r){const n=V.useContext(jIe),i=V.useContext(UIe),a=BU(n,t),u=Ao({props:a,name:"MuiButton"}),{children:s,color:f="primary",component:m="button",className:x,disabled:w=!1,disableElevation:S=!1,disableFocusRipple:C=!1,endIcon:L,focusVisibleClassName:k,fullWidth:$=!1,size:M="medium",startIcon:z,type:B,variant:q="text",...te}=u,K={...u,color:f,component:m,disabled:w,disableElevation:S,disableFocusRipple:C,fullWidth:$,size:M,type:B,variant:q},ee=VIe(K),Q=z&&$e.jsx(HIe,{className:ee.startIcon,ownerState:K,children:z}),ge=L&&$e.jsx(WIe,{className:ee.endIcon,ownerState:K,children:L}),Y=i||"";return $e.jsxs(qIe,{ownerState:K,className:qn(n.className,ee.root,x,Y),component:m,disabled:w,focusRipple:!C,focusVisibleClassName:qn(ee.focusVisible,k),ref:r,type:B,...te,classes:ee,children:[Q,s,ge]})});function GIe(e){const t=sd(e);return t.body===e?nf(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function $1(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function ZN(e){return parseInt(nf(e).getComputedStyle(e).paddingRight,10)||0}function KIe(e){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),n=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return r||n}function YN(e,t,r,n,i){const a=[t,r,...n];[].forEach.call(e.children,u=>{const s=!a.includes(u),f=!KIe(u);s&&f&&$1(u,i)})}function q3(e,t){let r=-1;return e.some((n,i)=>t(n)?(r=i,!0):!1),r}function XIe(e,t){const r=[],n=e.container;if(!t.disableScrollLock){if(GIe(n)){const u=$U(nf(n));r.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${ZN(n)+u}px`;const s=sd(n).querySelectorAll(".mui-fixed");[].forEach.call(s,f=>{r.push({value:f.style.paddingRight,property:"padding-right",el:f}),f.style.paddingRight=`${ZN(f)+u}px`})}let a;if(n.parentNode instanceof DocumentFragment)a=sd(n).body;else{const u=n.parentElement,s=nf(n);a=(u==null?void 0:u.nodeName)==="HTML"&&s.getComputedStyle(u).overflowY==="scroll"?u:n}r.push({value:a.style.overflow,property:"overflow",el:a},{value:a.style.overflowX,property:"overflow-x",el:a},{value:a.style.overflowY,property:"overflow-y",el:a}),a.style.overflow="hidden"}return()=>{r.forEach(({value:a,el:u,property:s})=>{a?u.style.setProperty(s,a):u.style.removeProperty(s)})}}function ZIe(e){const t=[];return[].forEach.call(e.children,r=>{r.getAttribute("aria-hidden")==="true"&&t.push(r)}),t}class YIe{constructor(){this.modals=[],this.containers=[]}add(t,r){let n=this.modals.indexOf(t);if(n!==-1)return n;n=this.modals.length,this.modals.push(t),t.modalRef&&$1(t.modalRef,!1);const i=ZIe(r);YN(r,t.mount,t.modalRef,i,!0);const a=q3(this.containers,u=>u.container===r);return a!==-1?(this.containers[a].modals.push(t),n):(this.containers.push({modals:[t],container:r,restore:null,hiddenSiblings:i}),n)}mount(t,r){const n=q3(this.containers,a=>a.modals.includes(t)),i=this.containers[n];i.restore||(i.restore=XIe(i,r))}remove(t,r=!0){const n=this.modals.indexOf(t);if(n===-1)return n;const i=q3(this.containers,u=>u.modals.includes(t)),a=this.containers[i];if(a.modals.splice(a.modals.indexOf(t),1),this.modals.splice(n,1),a.modals.length===0)a.restore&&a.restore(),t.modalRef&&$1(t.modalRef,r),YN(a.container,t.mount,t.modalRef,a.hiddenSiblings,!1),this.containers.splice(i,1);else{const u=a.modals[a.modals.length-1];u.modalRef&&$1(u.modalRef,!1)}return n}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const JIe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function QIe(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function e6e(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=n=>e.ownerDocument.querySelector(`input[type="radio"]${n}`);let r=t(`[name="${e.name}"]:checked`);return r||(r=t(`[name="${e.name}"]`)),r!==e}function t6e(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||e6e(e))}function r6e(e){const t=[],r=[];return Array.from(e.querySelectorAll(JIe)).forEach((n,i)=>{const a=QIe(n);a===-1||!t6e(n)||(a===0?t.push(n):r.push({documentOrder:i,tabIndex:a,node:n}))}),r.sort((n,i)=>n.tabIndex===i.tabIndex?n.documentOrder-i.documentOrder:n.tabIndex-i.tabIndex).map(n=>n.node).concat(t)}function n6e(){return!0}function i6e(e){const{children:t,disableAutoFocus:r=!1,disableEnforceFocus:n=!1,disableRestoreFocus:i=!1,getTabbable:a=r6e,isEnabled:u=n6e,open:s}=e,f=V.useRef(!1),m=V.useRef(null),x=V.useRef(null),w=V.useRef(null),S=V.useRef(null),C=V.useRef(!1),L=V.useRef(null),k=Rs(p2(t),L),$=V.useRef(null);V.useEffect(()=>{!s||!L.current||(C.current=!r)},[r,s]),V.useEffect(()=>{if(!s||!L.current)return;const B=sd(L.current);return L.current.contains(B.activeElement)||(L.current.hasAttribute("tabIndex")||L.current.setAttribute("tabIndex","-1"),C.current&&L.current.focus()),()=>{i||(w.current&&w.current.focus&&(f.current=!0,w.current.focus()),w.current=null)}},[s]),V.useEffect(()=>{if(!s||!L.current)return;const B=sd(L.current),q=ee=>{$.current=ee,!(n||!u()||ee.key!=="Tab")&&B.activeElement===L.current&&ee.shiftKey&&(f.current=!0,x.current&&x.current.focus())},te=()=>{var ge,Y;const ee=L.current;if(ee===null)return;if(!B.hasFocus()||!u()||f.current){f.current=!1;return}if(ee.contains(B.activeElement)||n&&B.activeElement!==m.current&&B.activeElement!==x.current)return;if(B.activeElement!==S.current)S.current=null;else if(S.current!==null)return;if(!C.current)return;let Q=[];if((B.activeElement===m.current||B.activeElement===x.current)&&(Q=a(L.current)),Q.length>0){const Z=!!((ge=$.current)!=null&&ge.shiftKey&&((Y=$.current)==null?void 0:Y.key)==="Tab"),re=Q[0],ye=Q[Q.length-1];typeof re!="string"&&typeof ye!="string"&&(Z?ye.focus():re.focus())}else ee.focus()};B.addEventListener("focusin",te),B.addEventListener("keydown",q,!0);const K=setInterval(()=>{B.activeElement&&B.activeElement.tagName==="BODY"&&te()},50);return()=>{clearInterval(K),B.removeEventListener("focusin",te),B.removeEventListener("keydown",q,!0)}},[r,n,i,u,s,a]);const M=B=>{w.current===null&&(w.current=B.relatedTarget),C.current=!0,S.current=B.target;const q=t.props.onFocus;q&&q(B)},z=B=>{w.current===null&&(w.current=B.relatedTarget),C.current=!0};return $e.jsxs(V.Fragment,{children:[$e.jsx("div",{tabIndex:s?0:-1,onFocus:z,ref:m,"data-testid":"sentinelStart"}),V.cloneElement(t,{ref:k,onFocus:M}),$e.jsx("div",{tabIndex:s?0:-1,onFocus:z,ref:x,"data-testid":"sentinelEnd"})]})}function o6e(e){return typeof e=="function"?e():e}function a6e(e){return e?e.props.hasOwnProperty("in"):!1}const Lx=new YIe;function s6e(e){const{container:t,disableEscapeKeyDown:r=!1,disableScrollLock:n=!1,closeAfterTransition:i=!1,onTransitionEnter:a,onTransitionExited:u,children:s,onClose:f,open:m,rootRef:x}=e,w=V.useRef({}),S=V.useRef(null),C=V.useRef(null),L=Rs(C,x),[k,$]=V.useState(!m),M=a6e(s);let z=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(z=!1);const B=()=>sd(S.current),q=()=>(w.current.modalRef=C.current,w.current.mount=S.current,w.current),te=()=>{Lx.mount(q(),{disableScrollLock:n}),C.current&&(C.current.scrollTop=0)},K=E0(()=>{const Ae=o6e(t)||B().body;Lx.add(q(),Ae),C.current&&te()}),ee=()=>Lx.isTopModal(q()),Q=E0(Ae=>{S.current=Ae,Ae&&(m&&ee()?te():C.current&&$1(C.current,z))}),ge=V.useCallback(()=>{Lx.remove(q(),z)},[z]);V.useEffect(()=>()=>{ge()},[ge]),V.useEffect(()=>{m?K():(!M||!i)&&ge()},[m,ge,M,i,K]);const Y=Ae=>ke=>{var Oe;(Oe=Ae.onKeyDown)==null||Oe.call(Ae,ke),!(ke.key!=="Escape"||ke.which===229||!ee())&&(r||(ke.stopPropagation(),f&&f(ke,"escapeKeyDown")))},Z=Ae=>ke=>{var Oe;(Oe=Ae.onClick)==null||Oe.call(Ae,ke),ke.target===ke.currentTarget&&f&&f(ke,"backdropClick")};return{getRootProps:(Ae={})=>{const ke=UU(e);delete ke.onTransitionEnter,delete ke.onTransitionExited;const Oe={...ke,...Ae};return{role:"presentation",...Oe,onKeyDown:Y(Oe),ref:L}},getBackdropProps:(Ae={})=>{const ke=Ae;return{"aria-hidden":!0,...ke,onClick:Z(ke),open:m}},getTransitionProps:()=>{const Ae=()=>{$(!1),a&&a()},ke=()=>{$(!0),u&&u(),i&&ge()};return{onEnter:FN(Ae,s==null?void 0:s.props.onEnter),onExited:FN(ke,s==null?void 0:s.props.onExited)}},rootRef:L,portalRef:Q,isTopModal:ee,exited:k,hasTransition:M}}function l6e(e){return po("MuiModal",e)}Di("MuiModal",["root","hidden","backdrop"]);const u6e=e=>{const{open:t,exited:r,classes:n}=e;return Eo({root:["root",!t&&r&&"hidden"],backdrop:["backdrop"]},l6e,n)},c6e=Sn("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.open&&r.exited&&t.hidden]}})(za(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),d6e=Sn(FIe,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),h6e=V.forwardRef(function(t,r){const n=Ao({name:"MuiModal",props:t}),{BackdropComponent:i=d6e,BackdropProps:a,classes:u,className:s,closeAfterTransition:f=!1,children:m,container:x,component:w,components:S={},componentsProps:C={},disableAutoFocus:L=!1,disableEnforceFocus:k=!1,disableEscapeKeyDown:$=!1,disablePortal:M=!1,disableRestoreFocus:z=!1,disableScrollLock:B=!1,hideBackdrop:q=!1,keepMounted:te=!1,onBackdropClick:K,onClose:ee,onTransitionEnter:Q,onTransitionExited:ge,open:Y,slotProps:Z={},slots:re={},theme:ye,...fe}=n,Ae={...n,closeAfterTransition:f,disableAutoFocus:L,disableEnforceFocus:k,disableEscapeKeyDown:$,disablePortal:M,disableRestoreFocus:z,disableScrollLock:B,hideBackdrop:q,keepMounted:te},{getRootProps:ke,getBackdropProps:Oe,getTransitionProps:_e,portalRef:Ne,isTopModal:Ke,exited:pt,hasTransition:ae}=s6e({...Ae,rootRef:r}),me={...Ae,exited:pt},we=u6e(me),Re={};if(m.props.tabIndex===void 0&&(Re.tabIndex="-1"),ae){const{onEnter:bt,onExited:Ct}=_e();Re.onEnter=bt,Re.onExited=Ct}const Fe={...fe,slots:{root:S.Root,backdrop:S.Backdrop,...re},slotProps:{...C,...Z}},[rt,Ve]=_y("root",{elementType:c6e,externalForwardedProps:Fe,getSlotProps:ke,additionalProps:{ref:r,as:w},ownerState:me,className:qn(s,we==null?void 0:we.root,!me.open&&me.exited&&(we==null?void 0:we.hidden))}),[We,nt]=_y("backdrop",{elementType:i,externalForwardedProps:Fe,additionalProps:a,getSlotProps:bt=>Oe({...bt,onClick:Ct=>{K&&K(Ct),bt!=null&&bt.onClick&&bt.onClick(Ct)}}),className:qn(a==null?void 0:a.className,we==null?void 0:we.backdrop),ownerState:me}),ut=Rs(a==null?void 0:a.ref,nt.ref);return!te&&!Y&&(!ae||pt)?null:$e.jsx(_Ie,{ref:Ne,container:x,disablePortal:M,children:$e.jsxs(rt,{...Ve,children:[!q&&i?$e.jsx(We,{...nt,ref:ut}):null,$e.jsx(i6e,{disableEnforceFocus:k,disableAutoFocus:L,disableRestoreFocus:z,isEnabled:Ke,open:Y,children:V.cloneElement(m,Re)})]})})}),JN=Di("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),f6e=e=>{const{classes:t,disableUnderline:r,startAdornment:n,endAdornment:i,size:a,hiddenLabel:u,multiline:s}=e,f={root:["root",!r&&"underline",n&&"adornedStart",i&&"adornedEnd",a==="small"&&`size${oi(a)}`,u&&"hiddenLabel",s&&"multiline"],input:["input"]},m=Eo(f,kIe,t);return{...t,...m}},p6e=Sn(DS,{shouldForwardProp:e=>fd(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...MS(e,t),!r.disableUnderline&&t.underline]}})(za(({theme:e})=>{const t=e.palette.mode==="light",r=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",n=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:n,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:n}},[`&.${zp.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:n},[`&.${zp.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:a},variants:[{props:({ownerState:u})=>!u.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${zp.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${zp.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${zp.disabled}, .${zp.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${zp.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(Hy()).map(([u])=>{var s;return{props:{disableUnderline:!1,color:u},style:{"&::after":{borderBottom:`2px solid ${(s=(e.vars||e).palette[u])==null?void 0:s.main}`}}}}),{props:({ownerState:u})=>u.startAdornment,style:{paddingLeft:12}},{props:({ownerState:u})=>u.endAdornment,style:{paddingRight:12}},{props:({ownerState:u})=>u.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:u,size:s})=>u.multiline&&s==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:u})=>u.multiline&&u.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:u})=>u.multiline&&u.hiddenLabel&&u.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),m6e=Sn(OS,{name:"MuiFilledInput",slot:"Input",overridesResolver:RS})(za(({theme:e})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:t})=>t.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}},{props:({ownerState:t})=>t.hiddenLabel&&t.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:t})=>t.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),x4=V.forwardRef(function(t,r){const n=Ao({props:t,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:a={},componentsProps:u,fullWidth:s=!1,hiddenLabel:f,inputComponent:m="input",multiline:x=!1,slotProps:w,slots:S={},type:C="text",...L}=n,k={...n,disableUnderline:i,fullWidth:s,inputComponent:m,multiline:x,type:C},$=f6e(n),M={root:{ownerState:k},input:{ownerState:k}},z=w??u?ah(M,w??u):M,B=S.root??a.Root??p6e,q=S.input??a.Input??m6e;return $e.jsx(uI,{slots:{root:B,input:q},componentsProps:z,fullWidth:s,inputComponent:m,multiline:x,ref:r,type:C,...L,classes:$})});x4&&(x4.muiName="Input");function _4(e){return`scale(${e}, ${e**2})`}const g6e={entering:{opacity:1,transform:_4(1)},entered:{opacity:1,transform:"none"}},H3=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),w4=V.forwardRef(function(t,r){const{addEndListener:n,appear:i=!0,children:a,easing:u,in:s,onEnter:f,onEntered:m,onEntering:x,onExit:w,onExited:S,onExiting:C,style:L,timeout:k="auto",TransitionComponent:$=Gu,...M}=t,z=FU(),B=V.useRef(),q=nI(),te=V.useRef(null),K=Rs(te,p2(a),r),ee=Ae=>ke=>{if(Ae){const Oe=te.current;ke===void 0?Ae(Oe):Ae(Oe,ke)}},Q=ee(x),ge=ee((Ae,ke)=>{HU(Ae);const{duration:Oe,delay:_e,easing:Ne}=hw({style:L,timeout:k,easing:u},{mode:"enter"});let Ke;k==="auto"?(Ke=q.transitions.getAutoHeightDuration(Ae.clientHeight),B.current=Ke):Ke=Oe,Ae.style.transition=[q.transitions.create("opacity",{duration:Ke,delay:_e}),q.transitions.create("transform",{duration:H3?Ke:Ke*.666,delay:_e,easing:Ne})].join(","),f&&f(Ae,ke)}),Y=ee(m),Z=ee(C),re=ee(Ae=>{const{duration:ke,delay:Oe,easing:_e}=hw({style:L,timeout:k,easing:u},{mode:"exit"});let Ne;k==="auto"?(Ne=q.transitions.getAutoHeightDuration(Ae.clientHeight),B.current=Ne):Ne=ke,Ae.style.transition=[q.transitions.create("opacity",{duration:Ne,delay:Oe}),q.transitions.create("transform",{duration:H3?Ne:Ne*.666,delay:H3?Oe:Oe||Ne*.333,easing:_e})].join(","),Ae.style.opacity=0,Ae.style.transform=_4(.75),w&&w(Ae)}),ye=ee(S),fe=Ae=>{k==="auto"&&z.start(B.current||0,Ae),n&&n(te.current,Ae)};return $e.jsx($,{appear:i,in:s,nodeRef:te,onEnter:ge,onEntered:Y,onEntering:Q,onExit:re,onExited:ye,onExiting:Z,addEndListener:fe,timeout:k==="auto"?null:k,...M,children:(Ae,ke)=>V.cloneElement(a,{style:{opacity:0,transform:_4(.75),visibility:Ae==="exited"&&!s?"hidden":void 0,...g6e[Ae],...L,...a.props.style},ref:K,...ke})})});w4&&(w4.muiSupportAuto=!0);const y6e=e=>{const{classes:t,disableUnderline:r}=e,i=Eo({root:["root",!r&&"underline"],input:["input"]},TIe,t);return{...t,...i}},v6e=Sn(DS,{shouldForwardProp:e=>fd(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...MS(e,t),!r.disableUnderline&&t.underline]}})(za(({theme:e})=>{let r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(r=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:n})=>n.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:n})=>!n.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Hv.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Hv.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Hv.disabled}, .${Hv.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Hv.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(Hy()).map(([n])=>({props:{color:n,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[n].main}`}}}))]}})),b6e=Sn(OS,{name:"MuiInput",slot:"Input",overridesResolver:RS})({}),S4=V.forwardRef(function(t,r){const n=Ao({props:t,name:"MuiInput"}),{disableUnderline:i=!1,components:a={},componentsProps:u,fullWidth:s=!1,inputComponent:f="input",multiline:m=!1,slotProps:x,slots:w={},type:S="text",...C}=n,L=y6e(n),$={root:{ownerState:{disableUnderline:i}}},M=x??u?ah(x??u,$):$,z=w.root??a.Root??v6e,B=w.input??a.Input??b6e;return $e.jsx(uI,{slots:{root:z,input:B},slotProps:M,fullWidth:s,inputComponent:f,multiline:m,ref:r,type:S,...C,classes:L})});S4&&(S4.muiName="Input");const C4=V.createContext({});function x6e(e){return po("MuiList",e)}Di("MuiList",["root","padding","dense","subheader"]);const _6e=e=>{const{classes:t,disablePadding:r,dense:n,subheader:i}=e;return Eo({root:["root",!r&&"padding",n&&"dense",i&&"subheader"]},x6e,t)},w6e=Sn("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disablePadding&&t.padding,r.dense&&t.dense,r.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>e.subheader,style:{paddingTop:0}}]}),S6e=V.forwardRef(function(t,r){const n=Ao({props:t,name:"MuiList"}),{children:i,className:a,component:u="ul",dense:s=!1,disablePadding:f=!1,subheader:m,...x}=n,w=V.useMemo(()=>({dense:s}),[s]),S={...n,component:u,dense:s,disablePadding:f},C=_6e(S);return $e.jsx(C4.Provider,{value:w,children:$e.jsxs(w6e,{as:u,className:qn(C.root,a),ref:r,ownerState:S,...x,children:[m,i]})})}),QN=Di("MuiListItemIcon",["root","alignItemsFlexStart"]),e8=Di("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function W3(e,t,r){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:r?null:e.firstChild}function t8(e,t,r){return e===t?r?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:r?null:e.lastChild}function JU(e,t){if(t===void 0)return!0;let r=e.innerText;return r===void 0&&(r=e.textContent),r=r.trim().toLowerCase(),r.length===0?!1:t.repeating?r[0]===t.keys[0]:r.startsWith(t.keys.join(""))}function Wv(e,t,r,n,i,a){let u=!1,s=i(e,t,t?r:!1);for(;s;){if(s===e.firstChild){if(u)return!1;u=!0}const f=n?!1:s.disabled||s.getAttribute("aria-disabled")==="true";if(!s.hasAttribute("tabindex")||!JU(s,a)||f)s=i(e,s,r);else return s.focus(),!0}return!1}const C6e=V.forwardRef(function(t,r){const{actions:n,autoFocus:i=!1,autoFocusItem:a=!1,children:u,className:s,disabledItemsFocusable:f=!1,disableListWrap:m=!1,onKeyDown:x,variant:w="selectedMenu",...S}=t,C=V.useRef(null),L=V.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});gp(()=>{i&&C.current.focus()},[i]),V.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(B,{direction:q})=>{const te=!C.current.style.width;if(B.clientHeight<C.current.clientHeight&&te){const K=`${$U(nf(B))}px`;C.current.style[q==="rtl"?"paddingLeft":"paddingRight"]=K,C.current.style.width=`calc(100% + ${K})`}return C.current}}),[]);const k=B=>{const q=C.current,te=B.key;if(B.ctrlKey||B.metaKey||B.altKey){x&&x(B);return}const ee=sd(q).activeElement;if(te==="ArrowDown")B.preventDefault(),Wv(q,ee,m,f,W3);else if(te==="ArrowUp")B.preventDefault(),Wv(q,ee,m,f,t8);else if(te==="Home")B.preventDefault(),Wv(q,null,m,f,W3);else if(te==="End")B.preventDefault(),Wv(q,null,m,f,t8);else if(te.length===1){const Q=L.current,ge=te.toLowerCase(),Y=performance.now();Q.keys.length>0&&(Y-Q.lastTime>500?(Q.keys=[],Q.repeating=!0,Q.previousKeyMatched=!0):Q.repeating&&ge!==Q.keys[0]&&(Q.repeating=!1)),Q.lastTime=Y,Q.keys.push(ge);const Z=ee&&!Q.repeating&&JU(ee,Q);Q.previousKeyMatched&&(Z||Wv(q,ee,!1,f,W3,Q))?B.preventDefault():Q.previousKeyMatched=!1}x&&x(B)},$=Rs(C,r);let M=-1;V.Children.forEach(u,(B,q)=>{if(!V.isValidElement(B)){M===q&&(M+=1,M>=u.length&&(M=-1));return}B.props.disabled||(w==="selectedMenu"&&B.props.selected||M===-1)&&(M=q),M===q&&(B.props.disabled||B.props.muiSkipListHighlight||B.type.muiSkipListHighlight)&&(M+=1,M>=u.length&&(M=-1))});const z=V.Children.map(u,(B,q)=>{if(q===M){const te={};return a&&(te.autoFocus=!0),B.props.tabIndex===void 0&&w==="selectedMenu"&&(te.tabIndex=0),V.cloneElement(B,te)}return B});return $e.jsx(S6e,{role:"menu",ref:$,className:s,onKeyDown:k,tabIndex:i?0:-1,...S,children:z})});function E6e(e){return po("MuiPopover",e)}Di("MuiPopover",["root","paper"]);function r8(e,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=e.height/2:t==="bottom"&&(r=e.height),r}function n8(e,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=e.width/2:t==="right"&&(r=e.width),r}function i8(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function G3(e){return typeof e=="function"?e():e}const A6e=e=>{const{classes:t}=e;return Eo({root:["root"],paper:["paper"]},E6e,t)},T6e=Sn(h6e,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),QU=Sn(WU,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),P6e=V.forwardRef(function(t,r){const n=Ao({props:t,name:"MuiPopover"}),{action:i,anchorEl:a,anchorOrigin:u={vertical:"top",horizontal:"left"},anchorPosition:s,anchorReference:f="anchorEl",children:m,className:x,container:w,elevation:S=8,marginThreshold:C=16,open:L,PaperProps:k={},slots:$={},slotProps:M={},transformOrigin:z={vertical:"top",horizontal:"left"},TransitionComponent:B=w4,transitionDuration:q="auto",TransitionProps:{onEntering:te,...K}={},disableScrollLock:ee=!1,...Q}=n,ge=(M==null?void 0:M.paper)??k,Y=V.useRef(),Z={...n,anchorOrigin:u,anchorReference:f,elevation:S,marginThreshold:C,externalPaperSlotProps:ge,transformOrigin:z,TransitionComponent:B,transitionDuration:q,TransitionProps:K},re=A6e(Z),ye=V.useCallback(()=>{if(f==="anchorPosition")return s;const nt=G3(a),bt=(nt&&nt.nodeType===1?nt:sd(Y.current).body).getBoundingClientRect();return{top:bt.top+r8(bt,u.vertical),left:bt.left+n8(bt,u.horizontal)}},[a,u.horizontal,u.vertical,s,f]),fe=V.useCallback(nt=>({vertical:r8(nt,z.vertical),horizontal:n8(nt,z.horizontal)}),[z.horizontal,z.vertical]),Ae=V.useCallback(nt=>{const ut={width:nt.offsetWidth,height:nt.offsetHeight},bt=fe(ut);if(f==="none")return{top:null,left:null,transformOrigin:i8(bt)};const Ct=ye();let Et=Ct.top-bt.vertical,lt=Ct.left-bt.horizontal;const ce=Et+ut.height,ur=lt+ut.width,qt=nf(G3(a)),wt=qt.innerHeight-C,Mt=qt.innerWidth-C;if(C!==null&&Et<C){const It=Et-C;Et-=It,bt.vertical+=It}else if(C!==null&&ce>wt){const It=ce-wt;Et-=It,bt.vertical+=It}if(C!==null&&lt<C){const It=lt-C;lt-=It,bt.horizontal+=It}else if(ur>Mt){const It=ur-Mt;lt-=It,bt.horizontal+=It}return{top:`${Math.round(Et)}px`,left:`${Math.round(lt)}px`,transformOrigin:i8(bt)}},[a,f,ye,fe,C]),[ke,Oe]=V.useState(L),_e=V.useCallback(()=>{const nt=Y.current;if(!nt)return;const ut=Ae(nt);ut.top!==null&&nt.style.setProperty("top",ut.top),ut.left!==null&&(nt.style.left=ut.left),nt.style.transformOrigin=ut.transformOrigin,Oe(!0)},[Ae]);V.useEffect(()=>(ee&&window.addEventListener("scroll",_e),()=>window.removeEventListener("scroll",_e)),[a,ee,_e]);const Ne=(nt,ut)=>{te&&te(nt,ut),_e()},Ke=()=>{Oe(!1)};V.useEffect(()=>{L&&_e()}),V.useImperativeHandle(i,()=>L?{updatePosition:()=>{_e()}}:null,[L,_e]),V.useEffect(()=>{if(!L)return;const nt=OU(()=>{_e()}),ut=nf(a);return ut.addEventListener("resize",nt),()=>{nt.clear(),ut.removeEventListener("resize",nt)}},[a,L,_e]);let pt=q;q==="auto"&&!B.muiSupportAuto&&(pt=void 0);const ae=w||(a?sd(G3(a)).body:void 0),me={slots:$,slotProps:{...M,paper:ge}},[we,Re]=_y("paper",{elementType:QU,externalForwardedProps:me,additionalProps:{elevation:S,className:qn(re.paper,ge==null?void 0:ge.className),style:ke?ge.style:{...ge.style,opacity:0}},ownerState:Z}),[Fe,{slotProps:rt,...Ve}]=_y("root",{elementType:T6e,externalForwardedProps:me,additionalProps:{slotProps:{backdrop:{invisible:!0}},container:ae,open:L},ownerState:Z,className:qn(re.root,x)}),We=Rs(Y,Re.ref);return $e.jsx(Fe,{...Ve,...!b4(Fe)&&{slotProps:rt,disableScrollLock:ee},...Q,ref:r,children:$e.jsx(B,{appear:!0,in:L,onEntering:Ne,onExited:Ke,timeout:pt,...K,children:$e.jsx(we,{...Re,ref:We,children:m})})})});function k6e(e){return po("MuiMenu",e)}Di("MuiMenu",["root","paper","list"]);const I6e={vertical:"top",horizontal:"right"},L6e={vertical:"top",horizontal:"left"},M6e=e=>{const{classes:t}=e;return Eo({root:["root"],paper:["paper"],list:["list"]},k6e,t)},R6e=Sn(P6e,{shouldForwardProp:e=>fd(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),D6e=Sn(QU,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),O6e=Sn(C6e,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),N6e=V.forwardRef(function(t,r){const n=Ao({props:t,name:"MuiMenu"}),{autoFocus:i=!0,children:a,className:u,disableAutoFocusItem:s=!1,MenuListProps:f={},onClose:m,open:x,PaperProps:w={},PopoverClasses:S,transitionDuration:C="auto",TransitionProps:{onEntering:L,...k}={},variant:$="selectedMenu",slots:M={},slotProps:z={},...B}=n,q=UPe(),te={...n,autoFocus:i,disableAutoFocusItem:s,MenuListProps:f,onEntering:L,PaperProps:w,transitionDuration:C,TransitionProps:k,variant:$},K=M6e(te),ee=i&&!s&&x,Q=V.useRef(null),ge=(ke,Oe)=>{Q.current&&Q.current.adjustStyleForScrollbar(ke,{direction:q?"rtl":"ltr"}),L&&L(ke,Oe)},Y=ke=>{ke.key==="Tab"&&(ke.preventDefault(),m&&m(ke,"tabKeyDown"))};let Z=-1;V.Children.map(a,(ke,Oe)=>{V.isValidElement(ke)&&(ke.props.disabled||($==="selectedMenu"&&ke.props.selected||Z===-1)&&(Z=Oe))});const re=M.paper??D6e,ye=z.paper??w,fe=qN({elementType:M.root,externalSlotProps:z.root,ownerState:te,className:[K.root,u]}),Ae=qN({elementType:re,externalSlotProps:ye,ownerState:te,className:K.paper});return $e.jsx(R6e,{onClose:m,anchorOrigin:{vertical:"bottom",horizontal:q?"right":"left"},transformOrigin:q?I6e:L6e,slots:{paper:re,root:M.root},slotProps:{root:fe,paper:Ae},open:x,ref:r,transitionDuration:C,TransitionProps:{onEntering:ge,...k},ownerState:te,...B,classes:S,children:$e.jsx(O6e,{onKeyDown:Y,actions:Q,autoFocus:i&&(Z===-1||s),autoFocusItem:ee,variant:$,...f,className:qn(K.list,f.className),children:a})})});function F6e(e){return po("MuiMenuItem",e)}const Gv=Di("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),$6e=(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.divider&&t.divider,!r.disableGutters&&t.gutters]},B6e=e=>{const{disabled:t,dense:r,divider:n,disableGutters:i,selected:a,classes:u}=e,f=Eo({root:["root",r&&"dense",t&&"disabled",!i&&"gutters",n&&"divider",a&&"selected"]},F6e,u);return{...u,...f}},z6e=Sn(GU,{shouldForwardProp:e=>fd(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:$6e})(za(({theme:e})=>({...e.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Gv.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:sl(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Gv.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:sl(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Gv.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:sl(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:sl(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${Gv.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Gv.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${JN.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${JN.inset}`]:{marginLeft:52},[`& .${e8.root}`]:{marginTop:0,marginBottom:0},[`& .${e8.inset}`]:{paddingLeft:36},[`& .${QN.root}`]:{minWidth:36},variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>!t.dense,style:{[e.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:t})=>t.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...e.typography.body2,[`& .${QN.root} svg`]:{fontSize:"1.25rem"}}}]}))),o8=V.forwardRef(function(t,r){const n=Ao({props:t,name:"MuiMenuItem"}),{autoFocus:i=!1,component:a="li",dense:u=!1,divider:s=!1,disableGutters:f=!1,focusVisibleClassName:m,role:x="menuitem",tabIndex:w,className:S,...C}=n,L=V.useContext(C4),k=V.useMemo(()=>({dense:u||L.dense||!1,disableGutters:f}),[L.dense,u,f]),$=V.useRef(null);gp(()=>{i&&$.current&&$.current.focus()},[i]);const M={...n,dense:k.dense,divider:s,disableGutters:f},z=B6e(n),B=Rs($,r);let q;return n.disabled||(q=w!==void 0?w:-1),$e.jsx(C4.Provider,{value:k,children:$e.jsx(z6e,{ref:B,role:x,tabIndex:q,component:a,focusVisibleClassName:qn(z.focusVisible,m),className:qn(z.root,S),...C,ownerState:M,classes:z})})});function j6e(e){return po("MuiNativeSelect",e)}const cI=Di("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),U6e=e=>{const{classes:t,variant:r,disabled:n,multiple:i,open:a,error:u}=e,s={select:["select",r,n&&"disabled",i&&"multiple",u&&"error"],icon:["icon",`icon${oi(r)}`,a&&"iconOpen",n&&"disabled"]};return Eo(s,j6e,t)},eV=Sn("select")(({theme:e})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${cI.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},variants:[{props:({ownerState:t})=>t.variant!=="filled"&&t.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}}]})),V6e=Sn(eV,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:fd,overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.select,t[r.variant],r.error&&t.error,{[`&.${cI.multiple}`]:t.multiple}]}})({}),tV=Sn("svg")(({theme:e})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${cI.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:({ownerState:t})=>t.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),q6e=Sn(tV,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${oi(r.variant)}`],r.open&&t.iconOpen]}})({}),H6e=V.forwardRef(function(t,r){const{className:n,disabled:i,error:a,IconComponent:u,inputRef:s,variant:f="standard",...m}=t,x={...t,disabled:i,variant:f,error:a},w=U6e(x);return $e.jsxs(V.Fragment,{children:[$e.jsx(V6e,{ownerState:x,className:qn(w.select,n),disabled:i,ref:s||r,...m}),t.multiple?null:$e.jsx(q6e,{as:u,ownerState:x,className:w.icon})]})});var a8;const W6e=Sn("fieldset",{shouldForwardProp:fd})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),G6e=Sn("legend",{shouldForwardProp:fd})(za(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:t})=>!t.withLabel,style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:({ownerState:t})=>t.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:t})=>t.withLabel&&t.notched,style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]})));function K6e(e){const{children:t,classes:r,className:n,label:i,notched:a,...u}=e,s=i!=null&&i!=="",f={...e,notched:a,withLabel:s};return $e.jsx(W6e,{"aria-hidden":!0,className:n,ownerState:f,...u,children:$e.jsx(G6e,{ownerState:f,children:s?$e.jsx("span",{children:i}):a8||(a8=$e.jsx("span",{className:"notranslate",children:"​"}))})})}const X6e=e=>{const{classes:t}=e,n=Eo({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},PIe,t);return{...t,...n}},Z6e=Sn(DS,{shouldForwardProp:e=>fd(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:MS})(za(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Nd.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Nd.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}},[`&.${Nd.focused} .${Nd.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(e.palette).filter(Hy()).map(([r])=>({props:{color:r},style:{[`&.${Nd.focused} .${Nd.notchedOutline}`]:{borderColor:(e.vars||e).palette[r].main}}})),{props:{},style:{[`&.${Nd.error} .${Nd.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${Nd.disabled} .${Nd.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}}},{props:({ownerState:r})=>r.startAdornment,style:{paddingLeft:14}},{props:({ownerState:r})=>r.endAdornment,style:{paddingRight:14}},{props:({ownerState:r})=>r.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:r,size:n})=>r.multiline&&n==="small",style:{padding:"8.5px 14px"}}]}})),Y6e=Sn(K6e,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(za(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}})),J6e=Sn(OS,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:RS})(za(({theme:e})=>({padding:"16.5px 14px",...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:t})=>t.multiline,style:{padding:0}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}}]}))),E4=V.forwardRef(function(t,r){var n;const i=Ao({props:t,name:"MuiOutlinedInput"}),{components:a={},fullWidth:u=!1,inputComponent:s="input",label:f,multiline:m=!1,notched:x,slots:w={},type:S="text",...C}=i,L=X6e(i),k=lI(),$=sI({props:i,muiFormControl:k,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),M={...i,color:$.color||"primary",disabled:$.disabled,error:$.error,focused:$.focused,formControl:k,fullWidth:u,hiddenLabel:$.hiddenLabel,multiline:m,size:$.size,type:S},z=w.root??a.Root??Z6e,B=w.input??a.Input??J6e;return $e.jsx(uI,{slots:{root:z,input:B},renderSuffix:q=>$e.jsx(Y6e,{ownerState:M,className:L.notchedOutline,label:f!=null&&f!==""&&$.required?n||(n=$e.jsxs(V.Fragment,{children:[f," ","*"]})):f,notched:typeof x<"u"?x:!!(q.startAdornment||q.filled||q.focused)}),fullWidth:u,inputComponent:s,multiline:m,ref:r,type:S,...C,classes:{...L,notchedOutline:null}})});E4&&(E4.muiName="Input");function Q6e(e){return po("MuiSelect",e)}const Kv=Di("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var s8;const eLe=Sn(eV,{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`&.${Kv.select}`]:t.select},{[`&.${Kv.select}`]:t[r.variant]},{[`&.${Kv.error}`]:t.error},{[`&.${Kv.multiple}`]:t.multiple}]}})({[`&.${Kv.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),tLe=Sn(tV,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${oi(r.variant)}`],r.open&&t.iconOpen]}})({}),rLe=Sn("input",{shouldForwardProp:e=>RU(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function l8(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function nLe(e){return e==null||typeof e=="string"&&!e.trim()}const iLe=e=>{const{classes:t,variant:r,disabled:n,multiple:i,open:a,error:u}=e,s={select:["select",r,n&&"disabled",i&&"multiple",u&&"error"],icon:["icon",`icon${oi(r)}`,a&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return Eo(s,Q6e,t)},oLe=V.forwardRef(function(t,r){var ot;const{"aria-describedby":n,"aria-label":i,autoFocus:a,autoWidth:u,children:s,className:f,defaultOpen:m,defaultValue:x,disabled:w,displayEmpty:S,error:C=!1,IconComponent:L,inputRef:k,labelId:$,MenuProps:M={},multiple:z,name:B,onBlur:q,onChange:te,onClose:K,onFocus:ee,onOpen:Q,open:ge,readOnly:Y,renderValue:Z,SelectDisplayProps:re={},tabIndex:ye,type:fe,value:Ae,variant:ke="standard",...Oe}=t,[_e,Ne]=zN({controlled:Ae,default:x,name:"Select"}),[Ke,pt]=zN({controlled:ge,default:m,name:"Select"}),ae=V.useRef(null),me=V.useRef(null),[we,Re]=V.useState(null),{current:Fe}=V.useRef(ge!=null),[rt,Ve]=V.useState(),We=Rs(r,k),nt=V.useCallback(kt=>{me.current=kt,kt&&Re(kt)},[]),ut=we==null?void 0:we.parentNode;V.useImperativeHandle(We,()=>({focus:()=>{me.current.focus()},node:ae.current,value:_e}),[_e]),V.useEffect(()=>{m&&Ke&&we&&!Fe&&(Ve(u?null:ut.clientWidth),me.current.focus())},[we,u]),V.useEffect(()=>{a&&me.current.focus()},[a]),V.useEffect(()=>{if(!$)return;const kt=sd(me.current).getElementById($);if(kt){const Dt=()=>{getSelection().isCollapsed&&me.current.focus()};return kt.addEventListener("click",Dt),()=>{kt.removeEventListener("click",Dt)}}},[$]);const bt=(kt,Dt)=>{kt?Q&&Q(Dt):K&&K(Dt),Fe||(Ve(u?null:ut.clientWidth),pt(kt))},Ct=kt=>{kt.button===0&&(kt.preventDefault(),me.current.focus(),bt(!0,kt))},Et=kt=>{bt(!1,kt)},lt=V.Children.toArray(s),ce=kt=>{const Dt=lt.find(cr=>cr.props.value===kt.target.value);Dt!==void 0&&(Ne(Dt.props.value),te&&te(kt,Dt))},ur=kt=>Dt=>{let cr;if(Dt.currentTarget.hasAttribute("tabindex")){if(z){cr=Array.isArray(_e)?_e.slice():[];const Wr=_e.indexOf(kt.props.value);Wr===-1?cr.push(kt.props.value):cr.splice(Wr,1)}else cr=kt.props.value;if(kt.props.onClick&&kt.props.onClick(Dt),_e!==cr&&(Ne(cr),te)){const Wr=Dt.nativeEvent||Dt,nr=new Wr.constructor(Wr.type,Wr);Object.defineProperty(nr,"target",{writable:!0,value:{value:cr,name:B}}),te(nr,kt)}z||bt(!1,Dt)}},qt=kt=>{Y||[" ","ArrowUp","ArrowDown","Enter"].includes(kt.key)&&(kt.preventDefault(),bt(!0,kt))},wt=we!==null&&Ke,Mt=kt=>{!wt&&q&&(Object.defineProperty(kt,"target",{writable:!0,value:{value:_e,name:B}}),q(kt))};delete Oe["aria-invalid"];let It,Gt;const Lt=[];let Jt=!1;(XU({value:_e})||S)&&(Z?It=Z(_e):Jt=!0);const _r=lt.map(kt=>{if(!V.isValidElement(kt))return null;let Dt;if(z){if(!Array.isArray(_e))throw new Error(Dm(2));Dt=_e.some(cr=>l8(cr,kt.props.value)),Dt&&Jt&&Lt.push(kt.props.children)}else Dt=l8(_e,kt.props.value),Dt&&Jt&&(Gt=kt.props.children);return V.cloneElement(kt,{"aria-selected":Dt?"true":"false",onClick:ur(kt),onKeyUp:cr=>{cr.key===" "&&cr.preventDefault(),kt.props.onKeyUp&&kt.props.onKeyUp(cr)},role:"option",selected:Dt,value:void 0,"data-value":kt.props.value})});Jt&&(z?Lt.length===0?It=null:It=Lt.reduce((kt,Dt,cr)=>(kt.push(Dt),cr<Lt.length-1&&kt.push(", "),kt),[]):It=Gt);let Cr=rt;!u&&Fe&&we&&(Cr=ut.clientWidth);let Ir;typeof ye<"u"?Ir=ye:Ir=w?null:0;const Ze=re.id||(B?`mui-component-select-${B}`:void 0),gt={...t,variant:ke,value:_e,open:wt,error:C},Ft=iLe(gt),At={...M.PaperProps,...(ot=M.slotProps)==null?void 0:ot.paper},Ar=Dke();return $e.jsxs(V.Fragment,{children:[$e.jsx(eLe,{as:"div",ref:nt,tabIndex:Ir,role:"combobox","aria-controls":Ar,"aria-disabled":w?"true":void 0,"aria-expanded":wt?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[$,Ze].filter(Boolean).join(" ")||void 0,"aria-describedby":n,onKeyDown:qt,onMouseDown:w||Y?null:Ct,onBlur:Mt,onFocus:ee,...re,ownerState:gt,className:qn(re.className,Ft.select,f),id:Ze,children:nLe(It)?s8||(s8=$e.jsx("span",{className:"notranslate",children:"​"})):It}),$e.jsx(rLe,{"aria-invalid":C,value:Array.isArray(_e)?_e.join(","):_e,name:B,ref:ae,"aria-hidden":!0,onChange:ce,tabIndex:-1,disabled:w,className:Ft.nativeInput,autoFocus:a,...Oe,ownerState:gt}),$e.jsx(tLe,{as:L,className:Ft.icon,ownerState:gt}),$e.jsx(N6e,{id:`menu-${B||""}`,anchorEl:ut,open:wt,onClose:Et,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...M,MenuListProps:{"aria-labelledby":$,role:"listbox","aria-multiselectable":z?"true":void 0,disableListWrap:!0,id:Ar,...M.MenuListProps},slotProps:{...M.slotProps,paper:{...At,style:{minWidth:Cr,...At!=null?At.style:null}}},children:_r})]})}),aLe=e=>{const{classes:t}=e;return t},dI={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>fd(e)&&e!=="variant",slot:"Root"},sLe=Sn(S4,dI)(""),lLe=Sn(E4,dI)(""),uLe=Sn(x4,dI)(""),rV=V.forwardRef(function(t,r){const n=Ao({name:"MuiSelect",props:t}),{autoWidth:i=!1,children:a,classes:u={},className:s,defaultOpen:f=!1,displayEmpty:m=!1,IconComponent:x=IIe,id:w,input:S,inputProps:C,label:L,labelId:k,MenuProps:$,multiple:M=!1,native:z=!1,onClose:B,onOpen:q,open:te,renderValue:K,SelectDisplayProps:ee,variant:Q="outlined",...ge}=n,Y=z?H6e:oLe,Z=lI(),re=sI({props:n,muiFormControl:Z,states:["variant","error"]}),ye=re.variant||Q,fe={...n,variant:ye,classes:u},Ae=aLe(fe),{root:ke,...Oe}=Ae,_e=S||{standard:$e.jsx(sLe,{ownerState:fe}),outlined:$e.jsx(lLe,{label:L,ownerState:fe}),filled:$e.jsx(uLe,{ownerState:fe})}[ye],Ne=Rs(r,p2(_e));return $e.jsx(V.Fragment,{children:V.cloneElement(_e,{inputComponent:Y,inputProps:{children:a,error:re.error,IconComponent:x,variant:ye,type:void 0,multiple:M,...z?{id:w}:{autoWidth:i,defaultOpen:f,displayEmpty:m,labelId:k,MenuProps:$,onClose:B,onOpen:q,open:te,renderValue:K,SelectDisplayProps:{id:w,...ee}},...C,classes:C?ah(Oe,C.classes):Oe,...S?S.props.inputProps:{}},...(M&&z||m)&&ye==="outlined"?{notched:!0}:{},ref:Ne,className:qn(_e.props.className,s,Ae.root),...!S&&{variant:ye},...ge})})});rV.muiName="Select";const nV=V.createContext();function cLe(e){return po("MuiTable",e)}Di("MuiTable",["root","stickyHeader"]);const dLe=e=>{const{classes:t,stickyHeader:r}=e;return Eo({root:["root",r&&"stickyHeader"]},cLe,t)},hLe=Sn("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.stickyHeader&&t.stickyHeader]}})(za(({theme:e})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...e.typography.body2,padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:t})=>t.stickyHeader,style:{borderCollapse:"separate"}}]}))),u8="table",fLe=V.forwardRef(function(t,r){const n=Ao({props:t,name:"MuiTable"}),{className:i,component:a=u8,padding:u="normal",size:s="medium",stickyHeader:f=!1,...m}=n,x={...n,component:a,padding:u,size:s,stickyHeader:f},w=dLe(x),S=V.useMemo(()=>({padding:u,size:s,stickyHeader:f}),[u,s,f]);return $e.jsx(nV.Provider,{value:S,children:$e.jsx(hLe,{as:a,role:a===u8?null:"table",ref:r,className:qn(w.root,i),ownerState:x,...m})})}),NS=V.createContext();function pLe(e){return po("MuiTableBody",e)}Di("MuiTableBody",["root"]);const mLe=e=>{const{classes:t}=e;return Eo({root:["root"]},pLe,t)},gLe=Sn("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),yLe={variant:"body"},c8="tbody",vLe=V.forwardRef(function(t,r){const n=Ao({props:t,name:"MuiTableBody"}),{className:i,component:a=c8,...u}=n,s={...n,component:a},f=mLe(s);return $e.jsx(NS.Provider,{value:yLe,children:$e.jsx(gLe,{className:qn(f.root,i),as:a,ref:r,role:a===c8?null:"rowgroup",ownerState:s,...u})})});function bLe(e){return po("MuiTableCell",e)}const xLe=Di("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),_Le=e=>{const{classes:t,variant:r,align:n,padding:i,size:a,stickyHeader:u}=e,s={root:["root",r,u&&"stickyHeader",n!=="inherit"&&`align${oi(n)}`,i!=="normal"&&`padding${oi(i)}`,`size${oi(a)}`]};return Eo(s,bLe,t)},wLe=Sn("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`size${oi(r.size)}`],r.padding!=="normal"&&t[`padding${oi(r.padding)}`],r.align!=="inherit"&&t[`align${oi(r.align)}`],r.stickyHeader&&t.stickyHeader]}})(za(({theme:e})=>({...e.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?_S(sl(e.palette.divider,1),.88):xS(sl(e.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(e.vars||e).palette.text.primary}},{props:{variant:"footer"},style:{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${xLe.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:t})=>t.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default}}]}))),d8=V.forwardRef(function(t,r){const n=Ao({props:t,name:"MuiTableCell"}),{align:i="inherit",className:a,component:u,padding:s,scope:f,size:m,sortDirection:x,variant:w,...S}=n,C=V.useContext(nV),L=V.useContext(NS),k=L&&L.variant==="head";let $;u?$=u:$=k?"th":"td";let M=f;$==="td"?M=void 0:!M&&k&&(M="col");const z=w||L&&L.variant,B={...n,align:i,component:$,padding:s||(C&&C.padding?C.padding:"normal"),size:m||(C&&C.size?C.size:"medium"),sortDirection:x,stickyHeader:z==="head"&&C&&C.stickyHeader,variant:z},q=_Le(B);let te=null;return x&&(te=x==="asc"?"ascending":"descending"),$e.jsx(wLe,{as:$,ref:r,className:qn(q.root,a),"aria-sort":te,scope:M,ownerState:B,...S})});function SLe(e){return po("MuiTableContainer",e)}Di("MuiTableContainer",["root"]);const CLe=e=>{const{classes:t}=e;return Eo({root:["root"]},SLe,t)},ELe=Sn("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),ALe=V.forwardRef(function(t,r){const n=Ao({props:t,name:"MuiTableContainer"}),{className:i,component:a="div",...u}=n,s={...n,component:a},f=CLe(s);return $e.jsx(ELe,{ref:r,as:a,className:qn(f.root,i),ownerState:s,...u})});function TLe(e){return po("MuiTableHead",e)}Di("MuiTableHead",["root"]);const PLe=e=>{const{classes:t}=e;return Eo({root:["root"]},TLe,t)},kLe=Sn("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),ILe={variant:"head"},h8="thead",LLe=V.forwardRef(function(t,r){const n=Ao({props:t,name:"MuiTableHead"}),{className:i,component:a=h8,...u}=n,s={...n,component:a},f=PLe(s);return $e.jsx(NS.Provider,{value:ILe,children:$e.jsx(kLe,{as:a,className:qn(f.root,i),ref:r,role:a===h8?null:"rowgroup",ownerState:s,...u})})});function MLe(e){return po("MuiToolbar",e)}Di("MuiToolbar",["root","gutters","regular","dense"]);const RLe=e=>{const{classes:t,disableGutters:r,variant:n}=e;return Eo({root:["root",!r&&"gutters",n]},MLe,t)},DLe=Sn("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disableGutters&&t.gutters,t[r.variant]]}})(za(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:e.mixins.toolbar}]}))),OLe=V.forwardRef(function(t,r){const n=Ao({props:t,name:"MuiToolbar"}),{className:i,component:a="div",disableGutters:u=!1,variant:s="regular",...f}=n,m={...n,component:a,disableGutters:u,variant:s},x=RLe(m);return $e.jsx(DLe,{as:a,className:qn(x.root,i),ref:r,ownerState:m,...f})});function NLe(e){return po("MuiTableRow",e)}const f8=Di("MuiTableRow",["root","selected","hover","head","footer"]),FLe=e=>{const{classes:t,selected:r,hover:n,head:i,footer:a}=e;return Eo({root:["root",r&&"selected",n&&"hover",i&&"head",a&&"footer"]},NLe,t)},$Le=Sn("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.head&&t.head,r.footer&&t.footer]}})(za(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${f8.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${f8.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:sl(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:sl(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}}))),p8="tr",m8=V.forwardRef(function(t,r){const n=Ao({props:t,name:"MuiTableRow"}),{className:i,component:a=p8,hover:u=!1,selected:s=!1,...f}=n,m=V.useContext(NS),x={...n,component:a,hover:u,selected:s,head:m&&m.variant==="head",footer:m&&m.variant==="footer"},w=FLe(x);return $e.jsx($Le,{as:a,ref:r,className:qn(w.root,i),role:a===p8?null:"row",ownerState:x,...f})});function BLe(){const[e,t]=V.useState(!1),r=()=>{if(!e){const n=`${window.location.href}table`;window.open(n,"_blank","popup"),t(!0)}};return $e.jsxs($e.Fragment,{children:[$e.jsx(zj,{options:{style:"https://wms.wheregroup.com/tileserver/style/osm-bright.json",zoom:12.75,center:[7.1,50.73]},style:{position:"absolute",top:0,bottom:0,left:0,right:0}}),$e.jsx(D4e,{}),$e.jsx(YU,{sx:{left:"93%"},variant:"contained",color:"primary",onClick:()=>r(),children:"show table"})]})}const zLe="https://mapcomponents.github.io/react-map-components-maplibre/",jLe=zLe+"assets/WG-MapComponents-Logo_rgb.svg";function ULe(e){const t=V.useContext(qy),r=t?Object.keys(t).map(a=>a.replace(".json","")):[],n=a=>{e.setSelectedLayer(a.target.value)},i=()=>{const a=!e.tableSplit;e.setTableSplit(a)};return $e.jsx(bIe,{sx:{minHeight:"62px",position:"absolute",backgroundColor:"transparent",zIndex:1300,top:0},children:$e.jsx(OLe,{disableGutters:!0,children:e.logo?e.logo:$e.jsxs(l0,{sx:{marginLeft:"25px",display:{xs:"none",md:"flex"},flexGrow:{md:"30"}},children:[$e.jsx("img",{src:jLe,style:{width:"100%",maxWidth:"250px"},alt:"WhereGroupLogo"}),r.length>0?$e.jsxs(rV,{variant:"outlined",value:e.selectedLayer,onChange:n,children:[$e.jsx(o8,{value:"all",children:"all"}),r.map(a=>$e.jsx(o8,{value:a,children:a},a))]}):$e.jsx(mIe,{variant:"body1",children:"No layers available"}),e.selectedLayer==="all"&&$e.jsx(YU,{variant:"outlined",onClick:i,children:e.tableSplit?"merge table":"split table"})]})})})}const VLe=(e,t,r)=>(console.log(e),console.log(t),console.log(r),e?Object.values(e).flatMap(n=>n.features.filter(i=>{const a=t.length===0||t.includes(i.id),u=r==="all"||i.properties.amenity===r;return a&&u})):[]),qLe=e=>{if(!e)return[];const t=[];for(const r of Object.values(e))t.push(r.properties);return t},HLe=e=>{const t={},r=e.length<4?0:4;return e.forEach(n=>{Object.keys(n).forEach(i=>{t[i]=(t[i]||0)+1})}),Object.keys(t).filter(n=>t[n]>=r).sort()},WLe=(e,t)=>{c4({type:"selectedFromDataTable",message:{selected:e,src:t}})},GLe=e=>{const t=V.useMemo(()=>VLe(e.data,e.visibleIDs,e.selectedLayer),[e.data,e.visibleIDs,e.selectedLayer]);console.log(t);const r=V.useMemo(()=>qLe(t),[t]),n=V.useMemo(()=>HLe(r),[r]);return t&&r&&n&&$e.jsx(ALe,{sx:{maxHeight:"calc(100vh - 78px)",overflowX:"auto"},children:$e.jsxs(fLe,{stickyHeader:!0,sx:{fontSize:"100%",overflowWrap:"break-word"},children:[$e.jsx(LLe,{sx:{userSelect:"none",textTransform:"uppercase"},children:$e.jsx(m8,{children:n==null?void 0:n.map(i=>$e.jsx(d8,{sx:{maxWidth:"150px"},children:i},i))})}),$e.jsx(vLe,{children:r==null?void 0:r.map(i=>$e.jsx(m8,{hover:i["@id"]!==e.selected,onClick:()=>WLe(i["@id"],`${i.amenity}.json`),sx:{background:i["@id"]===e.selected?"#b1b1ff":"#fff"},children:n==null?void 0:n.map(a=>$e.jsx(d8,{sx:{maxWidth:"150px"},children:i[a]||"----"},a))},i["@id"]))})]})})},K3=Se.memo(GLe);function KLe(){const e=V.useContext(qy),[t,r]=V.useState([]),[n,i]=V.useState(null),[a,u]=V.useState("all"),[s,f]=V.useState(!1);return V.useEffect(()=>{if("serviceWorker"in navigator){const m=x=>{const{type:w,message:S}=x.data;switch(w){case"showObjects":r(S);break;case"selectedFromLayerManager":i(S.selected);break;default:console.warn(`Unhandled message type: ${w}`)}};return navigator.serviceWorker.addEventListener("message",m),()=>{navigator.serviceWorker.removeEventListener("message",m)}}},[]),V.useEffect(()=>{},[t,a,e]),e?$e.jsxs(l0,{sx:{display:"flex",flexDirection:"column"},children:[$e.jsx(ULe,{selectedLayer:a,setSelectedLayer:u,tableSplit:s,setTableSplit:f}),$e.jsx(l0,{sx:{flexGrow:1,paddingTop:"62px"},children:s?$e.jsx($e.Fragment,{children:$e.jsxs(l0,{display:"flex",alignItems:"center",justifyContent:"center",children:[$e.jsx(l0,{sx:{width:"calc(50vw - 10px)",height:"calc(100vh - 80px)"},children:$e.jsx(K3,{data:e,visibleIDs:t,selectedLayer:"park",selected:n})}),$e.jsx(l0,{sx:{width:"calc(50vw - 10px)",height:"calc(100vh - 80px)"},children:$e.jsx(K3,{data:e,visibleIDs:t,selectedLayer:"restaurant",selected:n})})]})}):$e.jsx(K3,{data:e,visibleIDs:t,selectedLayer:a,selected:n})})]}):$e.jsx("div",{children:"Loading data..."})}/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ro(){return Ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ro.apply(this,arguments)}var Oa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Oa||(Oa={}));const g8="popstate";function XLe(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:u,hash:s}=n.location;return kb("",{pathname:a,search:u,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:m2(i)}return YLe(t,r,null,e)}function bi(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Sy(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ZLe(){return Math.random().toString(36).substr(2,8)}function y8(e,t){return{usr:e.state,key:e.key,idx:t}}function kb(e,t,r,n){return r===void 0&&(r=null),Ro({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?_p(t):t,{state:r,key:t&&t.key||n||ZLe()})}function m2(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function _p(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function YLe(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,u=i.history,s=Oa.Pop,f=null,m=x();m==null&&(m=0,u.replaceState(Ro({},u.state,{idx:m}),""));function x(){return(u.state||{idx:null}).idx}function w(){s=Oa.Pop;let $=x(),M=$==null?null:$-m;m=$,f&&f({action:s,location:k.location,delta:M})}function S($,M){s=Oa.Push;let z=kb(k.location,$,M);m=x()+1;let B=y8(z,m),q=k.createHref(z);try{u.pushState(B,"",q)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;i.location.assign(q)}a&&f&&f({action:s,location:k.location,delta:1})}function C($,M){s=Oa.Replace;let z=kb(k.location,$,M);m=x();let B=y8(z,m),q=k.createHref(z);u.replaceState(B,"",q),a&&f&&f({action:s,location:k.location,delta:0})}function L($){let M=i.location.origin!=="null"?i.location.origin:i.location.href,z=typeof $=="string"?$:m2($);return z=z.replace(/ $/,"%20"),bi(M,"No window.location.(origin|href) available to create URL for href: "+z),new URL(z,M)}let k={get action(){return s},get location(){return e(i,u)},listen($){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(g8,w),f=$,()=>{i.removeEventListener(g8,w),f=null}},createHref($){return t(i,$)},createURL:L,encodeLocation($){let M=L($);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:S,replace:C,go($){return u.go($)}};return k}var Yi;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Yi||(Yi={}));const JLe=new Set(["lazy","caseSensitive","path","id","index","children"]);function QLe(e){return e.index===!0}function pw(e,t,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),e.map((i,a)=>{let u=[...r,String(a)],s=typeof i.id=="string"?i.id:u.join("-");if(bi(i.index!==!0||!i.children,"Cannot specify children on an index route"),bi(!n[s],'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),QLe(i)){let f=Ro({},i,t(i),{id:s});return n[s]=f,f}else{let f=Ro({},i,t(i),{id:s,children:void 0});return n[s]=f,i.children&&(f.children=pw(i.children,t,u,n)),f}})}function Zp(e,t,r){return r===void 0&&(r="/"),s_(e,t,r,!1)}function s_(e,t,r,n){let i=typeof t=="string"?_p(t):t,a=g2(i.pathname||"/",r);if(a==null)return null;let u=iV(e);tMe(u);let s=null;for(let f=0;s==null&&f<u.length;++f){let m=hMe(a);s=cMe(u[f],m,n)}return s}function eMe(e,t){let{route:r,pathname:n,params:i}=e;return{id:r.id,pathname:n,params:i,data:t[r.id],handle:r.handle}}function iV(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,u,s)=>{let f={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(bi(f.relativePath.startsWith(n),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(n.length));let m=bm([n,f.relativePath]),x=r.concat(f);a.children&&a.children.length>0&&(bi(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),iV(a.children,t,x,m)),!(a.path==null&&!a.index)&&t.push({path:m,score:lMe(m,a.index),routesMeta:x})};return e.forEach((a,u)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,u);else for(let f of oV(a.path))i(a,u,f)}),t}function oV(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let u=oV(n.join("/")),s=[];return s.push(...u.map(f=>f===""?a:[a,f].join("/"))),i&&s.push(...u),s.map(f=>e.startsWith("/")&&f===""?"/":f)}function tMe(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:uMe(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const rMe=/^:[\w-]+$/,nMe=3,iMe=2,oMe=1,aMe=10,sMe=-2,v8=e=>e==="*";function lMe(e,t){let r=e.split("/"),n=r.length;return r.some(v8)&&(n+=sMe),t&&(n+=iMe),r.filter(i=>!v8(i)).reduce((i,a)=>i+(rMe.test(a)?nMe:a===""?oMe:aMe),n)}function uMe(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function cMe(e,t,r){r===void 0&&(r=!1);let{routesMeta:n}=e,i={},a="/",u=[];for(let s=0;s<n.length;++s){let f=n[s],m=s===n.length-1,x=a==="/"?t:t.slice(a.length)||"/",w=b8({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},x),S=f.route;if(!w&&m&&r&&!n[n.length-1].route.index&&(w=b8({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},x)),!w)return null;Object.assign(i,w.params),u.push({params:i,pathname:bm([a,w.pathname]),pathnameBase:yMe(bm([a,w.pathnameBase])),route:S}),w.pathnameBase!=="/"&&(a=bm([a,w.pathnameBase]))}return u}function b8(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=dMe(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],u=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((m,x,w)=>{let{paramName:S,isOptional:C}=x;if(S==="*"){let k=s[w]||"";u=a.slice(0,a.length-k.length).replace(/(.)\/+$/,"$1")}const L=s[w];return C&&!L?m[S]=void 0:m[S]=(L||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:e}}function dMe(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Sy(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,s,f)=>(n.push({paramName:s,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function hMe(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Sy(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function g2(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function fMe(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?_p(e):e;return{pathname:r?r.startsWith("/")?r:pMe(r,t):t,search:vMe(n),hash:bMe(i)}}function pMe(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function X3(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function aV(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function mMe(e,t){let r=aV(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function gMe(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=_p(e):(i=Ro({},e),bi(!i.pathname||!i.pathname.includes("?"),X3("?","pathname","search",i)),bi(!i.pathname||!i.pathname.includes("#"),X3("#","pathname","hash",i)),bi(!i.search||!i.search.includes("#"),X3("#","search","hash",i)));let a=e===""||i.pathname==="",u=a?"/":i.pathname,s;if(u==null)s=r;else{let w=t.length-1;if(!n&&u.startsWith("..")){let S=u.split("/");for(;S[0]==="..";)S.shift(),w-=1;i.pathname=S.join("/")}s=w>=0?t[w]:"/"}let f=fMe(i,s),m=u&&u!=="/"&&u.endsWith("/"),x=(a||u===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(m||x)&&(f.pathname+="/"),f}const bm=e=>e.join("/").replace(/\/\/+/g,"/"),yMe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),vMe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,bMe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class mw{constructor(t,r,n,i){i===void 0&&(i=!1),this.status=t,this.statusText=r||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function FS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const sV=["post","put","patch","delete"],xMe=new Set(sV),_Me=["get",...sV],wMe=new Set(_Me),SMe=new Set([301,302,303,307,308]),CMe=new Set([307,308]),Z3={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},EMe={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Xv={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},hI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,AMe=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),lV="remix-router-transitions";function TMe(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",n=!r;bi(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let pe=e.detectErrorBoundary;i=ve=>({hasErrorBoundary:pe(ve)})}else i=AMe;let a={},u=pw(e.routes,i,void 0,a),s,f=e.basename||"/",m=e.dataStrategy||LMe,x=e.patchRoutesOnNavigation,w=Ro({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),S=null,C=new Set,L=null,k=null,$=null,M=e.hydrationData!=null,z=Zp(u,e.history.location,f),B=null;if(z==null&&!x){let pe=Xl(404,{pathname:e.history.location.pathname}),{matches:ve,route:Be}=I8(u);z=ve,B={[Be.id]:pe}}z&&!e.hydrationData&&Pe(z,u,e.history.location.pathname).active&&(z=null);let q;if(z)if(z.some(pe=>pe.route.lazy))q=!1;else if(!z.some(pe=>pe.route.loader))q=!0;else if(w.v7_partialHydration){let pe=e.hydrationData?e.hydrationData.loaderData:null,ve=e.hydrationData?e.hydrationData.errors:null;if(ve){let Be=z.findIndex(Ye=>ve[Ye.route.id]!==void 0);q=z.slice(0,Be+1).every(Ye=>!T4(Ye.route,pe,ve))}else q=z.every(Be=>!T4(Be.route,pe,ve))}else q=e.hydrationData!=null;else if(q=!1,z=[],w.v7_partialHydration){let pe=Pe(null,u,e.history.location.pathname);pe.active&&pe.matches&&(z=pe.matches)}let te,K={historyAction:e.history.action,location:e.history.location,matches:z,initialized:q,navigation:Z3,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||B,fetchers:new Map,blockers:new Map},ee=Oa.Pop,Q=!1,ge,Y=!1,Z=new Map,re=null,ye=!1,fe=!1,Ae=[],ke=new Set,Oe=new Map,_e=0,Ne=-1,Ke=new Map,pt=new Set,ae=new Map,me=new Map,we=new Set,Re=new Map,Fe=new Map,rt;function Ve(){if(S=e.history.listen(pe=>{let{action:ve,location:Be,delta:Ye}=pe;if(rt){rt(),rt=void 0;return}Sy(Fe.size===0||Ye!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let et=ei({currentLocation:K.location,nextLocation:Be,historyAction:ve});if(et&&Ye!=null){let St=new Promise(Bt=>{rt=Bt});e.history.go(Ye*-1),nr(et,{state:"blocked",location:Be,proceed(){nr(et,{state:"proceeding",proceed:void 0,reset:void 0,location:Be}),St.then(()=>e.history.go(Ye))},reset(){let Bt=new Map(K.blockers);Bt.set(et,Xv),ut({blockers:Bt})}});return}return lt(ve,Be)}),r){HMe(t,Z);let pe=()=>WMe(t,Z);t.addEventListener("pagehide",pe),re=()=>t.removeEventListener("pagehide",pe)}return K.initialized||lt(Oa.Pop,K.location,{initialHydration:!0}),te}function We(){S&&S(),re&&re(),C.clear(),ge&&ge.abort(),K.fetchers.forEach((pe,ve)=>Ft(ve)),K.blockers.forEach((pe,ve)=>Wr(ve))}function nt(pe){return C.add(pe),()=>C.delete(pe)}function ut(pe,ve){ve===void 0&&(ve={}),K=Ro({},K,pe);let Be=[],Ye=[];w.v7_fetcherPersist&&K.fetchers.forEach((et,St)=>{et.state==="idle"&&(we.has(St)?Ye.push(St):Be.push(St))}),[...C].forEach(et=>et(K,{deletedFetchers:Ye,viewTransitionOpts:ve.viewTransitionOpts,flushSync:ve.flushSync===!0})),w.v7_fetcherPersist&&(Be.forEach(et=>K.fetchers.delete(et)),Ye.forEach(et=>Ft(et)))}function bt(pe,ve,Be){var Ye,et;let{flushSync:St}=Be===void 0?{}:Be,Bt=K.actionData!=null&&K.navigation.formMethod!=null&&Xc(K.navigation.formMethod)&&K.navigation.state==="loading"&&((Ye=pe.state)==null?void 0:Ye._isRedirect)!==!0,Ot;ve.actionData?Object.keys(ve.actionData).length>0?Ot=ve.actionData:Ot=null:Bt?Ot=K.actionData:Ot=null;let Yt=ve.loaderData?P8(K.loaderData,ve.loaderData,ve.matches||[],ve.errors):K.loaderData,$t=K.blockers;$t.size>0&&($t=new Map($t),$t.forEach((gr,yr)=>$t.set(yr,Xv)));let Qt=Q===!0||K.navigation.formMethod!=null&&Xc(K.navigation.formMethod)&&((et=pe.state)==null?void 0:et._isRedirect)!==!0;s&&(u=s,s=void 0),ye||ee===Oa.Pop||(ee===Oa.Push?e.history.push(pe,pe.state):ee===Oa.Replace&&e.history.replace(pe,pe.state));let hr;if(ee===Oa.Pop){let gr=Z.get(K.location.pathname);gr&&gr.has(pe.pathname)?hr={currentLocation:K.location,nextLocation:pe}:Z.has(pe.pathname)&&(hr={currentLocation:pe,nextLocation:K.location})}else if(Y){let gr=Z.get(K.location.pathname);gr?gr.add(pe.pathname):(gr=new Set([pe.pathname]),Z.set(K.location.pathname,gr)),hr={currentLocation:K.location,nextLocation:pe}}ut(Ro({},ve,{actionData:Ot,loaderData:Yt,historyAction:ee,location:pe,initialized:!0,navigation:Z3,revalidation:"idle",restoreScrollPosition:de(pe,ve.matches||K.matches),preventScrollReset:Qt,blockers:$t}),{viewTransitionOpts:hr,flushSync:St===!0}),ee=Oa.Pop,Q=!1,Y=!1,ye=!1,fe=!1,Ae=[]}async function Ct(pe,ve){if(typeof pe=="number"){e.history.go(pe);return}let Be=A4(K.location,K.matches,f,w.v7_prependBasename,pe,w.v7_relativeSplatPath,ve==null?void 0:ve.fromRouteId,ve==null?void 0:ve.relative),{path:Ye,submission:et,error:St}=x8(w.v7_normalizeFormMethod,!1,Be,ve),Bt=K.location,Ot=kb(K.location,Ye,ve&&ve.state);Ot=Ro({},Ot,e.history.encodeLocation(Ot));let Yt=ve&&ve.replace!=null?ve.replace:void 0,$t=Oa.Push;Yt===!0?$t=Oa.Replace:Yt===!1||et!=null&&Xc(et.formMethod)&&et.formAction===K.location.pathname+K.location.search&&($t=Oa.Replace);let Qt=ve&&"preventScrollReset"in ve?ve.preventScrollReset===!0:void 0,hr=(ve&&ve.flushSync)===!0,gr=ei({currentLocation:Bt,nextLocation:Ot,historyAction:$t});if(gr){nr(gr,{state:"blocked",location:Ot,proceed(){nr(gr,{state:"proceeding",proceed:void 0,reset:void 0,location:Ot}),Ct(pe,ve)},reset(){let yr=new Map(K.blockers);yr.set(gr,Xv),ut({blockers:yr})}});return}return await lt($t,Ot,{submission:et,pendingError:St,preventScrollReset:Qt,replace:ve&&ve.replace,enableViewTransition:ve&&ve.viewTransition,flushSync:hr})}function Et(){if(Cr(),ut({revalidation:"loading"}),K.navigation.state!=="submitting"){if(K.navigation.state==="idle"){lt(K.historyAction,K.location,{startUninterruptedRevalidation:!0});return}lt(ee||K.historyAction,K.navigation.location,{overrideNavigation:K.navigation,enableViewTransition:Y===!0})}}async function lt(pe,ve,Be){ge&&ge.abort(),ge=null,ee=pe,ye=(Be&&Be.startUninterruptedRevalidation)===!0,se(K.location,K.matches),Q=(Be&&Be.preventScrollReset)===!0,Y=(Be&&Be.enableViewTransition)===!0;let Ye=s||u,et=Be&&Be.overrideNavigation,St=Zp(Ye,ve,f),Bt=(Be&&Be.flushSync)===!0,Ot=Pe(St,Ye,ve.pathname);if(Ot.active&&Ot.matches&&(St=Ot.matches),!St){let{error:vr,notFoundMatches:Tr,route:zr}=On(ve.pathname);bt(ve,{matches:Tr,loaderData:{},errors:{[zr.id]:vr}},{flushSync:Bt});return}if(K.initialized&&!fe&&FMe(K.location,ve)&&!(Be&&Be.submission&&Xc(Be.submission.formMethod))){bt(ve,{matches:St},{flushSync:Bt});return}ge=new AbortController;let Yt=Bg(e.history,ve,ge.signal,Be&&Be.submission),$t;if(Be&&Be.pendingError)$t=[Yp(St).route.id,{type:Yi.error,error:Be.pendingError}];else if(Be&&Be.submission&&Xc(Be.submission.formMethod)){let vr=await ce(Yt,ve,Be.submission,St,Ot.active,{replace:Be.replace,flushSync:Bt});if(vr.shortCircuited)return;if(vr.pendingActionResult){let[Tr,zr]=vr.pendingActionResult;if(Mu(zr)&&FS(zr.error)&&zr.error.status===404){ge=null,bt(ve,{matches:vr.matches,loaderData:{},errors:{[Tr]:zr.error}});return}}St=vr.matches||St,$t=vr.pendingActionResult,et=Y3(ve,Be.submission),Bt=!1,Ot.active=!1,Yt=Bg(e.history,Yt.url,Yt.signal)}let{shortCircuited:Qt,matches:hr,loaderData:gr,errors:yr}=await ur(Yt,ve,St,Ot.active,et,Be&&Be.submission,Be&&Be.fetcherSubmission,Be&&Be.replace,Be&&Be.initialHydration===!0,Bt,$t);Qt||(ge=null,bt(ve,Ro({matches:hr||St},k8($t),{loaderData:gr,errors:yr})))}async function ce(pe,ve,Be,Ye,et,St){St===void 0&&(St={}),Cr();let Bt=VMe(ve,Be);if(ut({navigation:Bt},{flushSync:St.flushSync===!0}),et){let $t=await ze(Ye,ve.pathname,pe.signal);if($t.type==="aborted")return{shortCircuited:!0};if($t.type==="error"){let Qt=Yp($t.partialMatches).route.id;return{matches:$t.partialMatches,pendingActionResult:[Qt,{type:Yi.error,error:$t.error}]}}else if($t.matches)Ye=$t.matches;else{let{notFoundMatches:Qt,error:hr,route:gr}=On(ve.pathname);return{matches:Qt,pendingActionResult:[gr.id,{type:Yi.error,error:hr}]}}}let Ot,Yt=m1(Ye,ve);if(!Yt.route.action&&!Yt.route.lazy)Ot={type:Yi.error,error:Xl(405,{method:pe.method,pathname:ve.pathname,routeId:Yt.route.id})};else if(Ot=(await Jt("action",K,pe,[Yt],Ye,null))[Yt.route.id],pe.signal.aborted)return{shortCircuited:!0};if(nm(Ot)){let $t;return St&&St.replace!=null?$t=St.replace:$t=E8(Ot.response.headers.get("Location"),new URL(pe.url),f)===K.location.pathname+K.location.search,await Lt(pe,Ot,!0,{submission:Be,replace:$t}),{shortCircuited:!0}}if(Jf(Ot))throw Xl(400,{type:"defer-action"});if(Mu(Ot)){let $t=Yp(Ye,Yt.route.id);return(St&&St.replace)!==!0&&(ee=Oa.Push),{matches:Ye,pendingActionResult:[$t.route.id,Ot]}}return{matches:Ye,pendingActionResult:[Yt.route.id,Ot]}}async function ur(pe,ve,Be,Ye,et,St,Bt,Ot,Yt,$t,Qt){let hr=et||Y3(ve,St),gr=St||Bt||M8(hr),yr=!ye&&(!w.v7_partialHydration||!Yt);if(Ye){if(yr){let xn=qt(Qt);ut(Ro({navigation:hr},xn!==void 0?{actionData:xn}:{}),{flushSync:$t})}let Mn=await ze(Be,ve.pathname,pe.signal);if(Mn.type==="aborted")return{shortCircuited:!0};if(Mn.type==="error"){let xn=Yp(Mn.partialMatches).route.id;return{matches:Mn.partialMatches,loaderData:{},errors:{[xn]:Mn.error}}}else if(Mn.matches)Be=Mn.matches;else{let{error:xn,notFoundMatches:Wn,route:Fo}=On(ve.pathname);return{matches:Wn,loaderData:{},errors:{[Fo.id]:xn}}}}let vr=s||u,[Tr,zr]=w8(e.history,K,Be,gr,ve,w.v7_partialHydration&&Yt===!0,w.v7_skipActionErrorRevalidation,fe,Ae,ke,we,ae,pt,vr,f,Qt);if(hi(Mn=>!(Be&&Be.some(xn=>xn.route.id===Mn))||Tr&&Tr.some(xn=>xn.route.id===Mn)),Ne=++_e,Tr.length===0&&zr.length===0){let Mn=kt();return bt(ve,Ro({matches:Be,loaderData:{},errors:Qt&&Mu(Qt[1])?{[Qt[0]]:Qt[1].error}:null},k8(Qt),Mn?{fetchers:new Map(K.fetchers)}:{}),{flushSync:$t}),{shortCircuited:!0}}if(yr){let Mn={};if(!Ye){Mn.navigation=hr;let xn=qt(Qt);xn!==void 0&&(Mn.actionData=xn)}zr.length>0&&(Mn.fetchers=wt(zr)),ut(Mn,{flushSync:$t})}zr.forEach(Mn=>{Ar(Mn.key),Mn.controller&&Oe.set(Mn.key,Mn.controller)});let Kn=()=>zr.forEach(Mn=>Ar(Mn.key));ge&&ge.signal.addEventListener("abort",Kn);let{loaderResults:fi,fetcherResults:Hn}=await _r(K,Be,Tr,zr,pe);if(pe.signal.aborted)return{shortCircuited:!0};ge&&ge.signal.removeEventListener("abort",Kn),zr.forEach(Mn=>Oe.delete(Mn.key));let so=Mx(fi);if(so)return await Lt(pe,so.result,!0,{replace:Ot}),{shortCircuited:!0};if(so=Mx(Hn),so)return pt.add(so.key),await Lt(pe,so.result,!0,{replace:Ot}),{shortCircuited:!0};let{loaderData:In,errors:ja}=T8(K,Be,fi,Qt,zr,Hn,Re);Re.forEach((Mn,xn)=>{Mn.subscribe(Wn=>{(Wn||Mn.done)&&Re.delete(xn)})}),w.v7_partialHydration&&Yt&&K.errors&&(ja=Ro({},K.errors,ja));let To=kt(),Ln=Dt(Ne),eo=To||Ln||zr.length>0;return Ro({matches:Be,loaderData:In,errors:ja},eo?{fetchers:new Map(K.fetchers)}:{})}function qt(pe){if(pe&&!Mu(pe[1]))return{[pe[0]]:pe[1].data};if(K.actionData)return Object.keys(K.actionData).length===0?null:K.actionData}function wt(pe){return pe.forEach(ve=>{let Be=K.fetchers.get(ve.key),Ye=Zv(void 0,Be?Be.data:void 0);K.fetchers.set(ve.key,Ye)}),new Map(K.fetchers)}function Mt(pe,ve,Be,Ye){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Ar(pe);let et=(Ye&&Ye.flushSync)===!0,St=s||u,Bt=A4(K.location,K.matches,f,w.v7_prependBasename,Be,w.v7_relativeSplatPath,ve,Ye==null?void 0:Ye.relative),Ot=Zp(St,Bt,f),Yt=Pe(Ot,St,Bt);if(Yt.active&&Yt.matches&&(Ot=Yt.matches),!Ot){Ze(pe,ve,Xl(404,{pathname:Bt}),{flushSync:et});return}let{path:$t,submission:Qt,error:hr}=x8(w.v7_normalizeFormMethod,!0,Bt,Ye);if(hr){Ze(pe,ve,hr,{flushSync:et});return}let gr=m1(Ot,$t),yr=(Ye&&Ye.preventScrollReset)===!0;if(Qt&&Xc(Qt.formMethod)){It(pe,ve,$t,gr,Ot,Yt.active,et,yr,Qt);return}ae.set(pe,{routeId:ve,path:$t}),Gt(pe,ve,$t,gr,Ot,Yt.active,et,yr,Qt)}async function It(pe,ve,Be,Ye,et,St,Bt,Ot,Yt){Cr(),ae.delete(pe);function $t(Rn){if(!Rn.route.action&&!Rn.route.lazy){let zn=Xl(405,{method:Yt.formMethod,pathname:Be,routeId:ve});return Ze(pe,ve,zn,{flushSync:Bt}),!0}return!1}if(!St&&$t(Ye))return;let Qt=K.fetchers.get(pe);Ir(pe,qMe(Yt,Qt),{flushSync:Bt});let hr=new AbortController,gr=Bg(e.history,Be,hr.signal,Yt);if(St){let Rn=await ze(et,Be,gr.signal);if(Rn.type==="aborted")return;if(Rn.type==="error"){Ze(pe,ve,Rn.error,{flushSync:Bt});return}else if(Rn.matches){if(et=Rn.matches,Ye=m1(et,Be),$t(Ye))return}else{Ze(pe,ve,Xl(404,{pathname:Be}),{flushSync:Bt});return}}Oe.set(pe,hr);let yr=_e,Tr=(await Jt("action",K,gr,[Ye],et,pe))[Ye.route.id];if(gr.signal.aborted){Oe.get(pe)===hr&&Oe.delete(pe);return}if(w.v7_fetcherPersist&&we.has(pe)){if(nm(Tr)||Mu(Tr)){Ir(pe,Mf(void 0));return}}else{if(nm(Tr))if(Oe.delete(pe),Ne>yr){Ir(pe,Mf(void 0));return}else return pt.add(pe),Ir(pe,Zv(Yt)),Lt(gr,Tr,!1,{fetcherSubmission:Yt,preventScrollReset:Ot});if(Mu(Tr)){Ze(pe,ve,Tr.error);return}}if(Jf(Tr))throw Xl(400,{type:"defer-action"});let zr=K.navigation.location||K.location,Kn=Bg(e.history,zr,hr.signal),fi=s||u,Hn=K.navigation.state!=="idle"?Zp(fi,K.navigation.location,f):K.matches;bi(Hn,"Didn't find any matches after fetcher action");let so=++_e;Ke.set(pe,so);let In=Zv(Yt,Tr.data);K.fetchers.set(pe,In);let[ja,To]=w8(e.history,K,Hn,Yt,zr,!1,w.v7_skipActionErrorRevalidation,fe,Ae,ke,we,ae,pt,fi,f,[Ye.route.id,Tr]);To.filter(Rn=>Rn.key!==pe).forEach(Rn=>{let zn=Rn.key,ai=K.fetchers.get(zn),Ko=Zv(void 0,ai?ai.data:void 0);K.fetchers.set(zn,Ko),Ar(zn),Rn.controller&&Oe.set(zn,Rn.controller)}),ut({fetchers:new Map(K.fetchers)});let Ln=()=>To.forEach(Rn=>Ar(Rn.key));hr.signal.addEventListener("abort",Ln);let{loaderResults:eo,fetcherResults:Mn}=await _r(K,Hn,ja,To,Kn);if(hr.signal.aborted)return;hr.signal.removeEventListener("abort",Ln),Ke.delete(pe),Oe.delete(pe),To.forEach(Rn=>Oe.delete(Rn.key));let xn=Mx(eo);if(xn)return Lt(Kn,xn.result,!1,{preventScrollReset:Ot});if(xn=Mx(Mn),xn)return pt.add(xn.key),Lt(Kn,xn.result,!1,{preventScrollReset:Ot});let{loaderData:Wn,errors:Fo}=T8(K,Hn,eo,void 0,To,Mn,Re);if(K.fetchers.has(pe)){let Rn=Mf(Tr.data);K.fetchers.set(pe,Rn)}Dt(so),K.navigation.state==="loading"&&so>Ne?(bi(ee,"Expected pending action"),ge&&ge.abort(),bt(K.navigation.location,{matches:Hn,loaderData:Wn,errors:Fo,fetchers:new Map(K.fetchers)})):(ut({errors:Fo,loaderData:P8(K.loaderData,Wn,Hn,Fo),fetchers:new Map(K.fetchers)}),fe=!1)}async function Gt(pe,ve,Be,Ye,et,St,Bt,Ot,Yt){let $t=K.fetchers.get(pe);Ir(pe,Zv(Yt,$t?$t.data:void 0),{flushSync:Bt});let Qt=new AbortController,hr=Bg(e.history,Be,Qt.signal);if(St){let Tr=await ze(et,Be,hr.signal);if(Tr.type==="aborted")return;if(Tr.type==="error"){Ze(pe,ve,Tr.error,{flushSync:Bt});return}else if(Tr.matches)et=Tr.matches,Ye=m1(et,Be);else{Ze(pe,ve,Xl(404,{pathname:Be}),{flushSync:Bt});return}}Oe.set(pe,Qt);let gr=_e,vr=(await Jt("loader",K,hr,[Ye],et,pe))[Ye.route.id];if(Jf(vr)&&(vr=await fI(vr,hr.signal,!0)||vr),Oe.get(pe)===Qt&&Oe.delete(pe),!hr.signal.aborted){if(we.has(pe)){Ir(pe,Mf(void 0));return}if(nm(vr))if(Ne>gr){Ir(pe,Mf(void 0));return}else{pt.add(pe),await Lt(hr,vr,!1,{preventScrollReset:Ot});return}if(Mu(vr)){Ze(pe,ve,vr.error);return}bi(!Jf(vr),"Unhandled fetcher deferred data"),Ir(pe,Mf(vr.data))}}async function Lt(pe,ve,Be,Ye){let{submission:et,fetcherSubmission:St,preventScrollReset:Bt,replace:Ot}=Ye===void 0?{}:Ye;ve.response.headers.has("X-Remix-Revalidate")&&(fe=!0);let Yt=ve.response.headers.get("Location");bi(Yt,"Expected a Location header on the redirect Response"),Yt=E8(Yt,new URL(pe.url),f);let $t=kb(K.location,Yt,{_isRedirect:!0});if(r){let Tr=!1;if(ve.response.headers.has("X-Remix-Reload-Document"))Tr=!0;else if(hI.test(Yt)){const zr=e.history.createURL(Yt);Tr=zr.origin!==t.location.origin||g2(zr.pathname,f)==null}if(Tr){Ot?t.location.replace(Yt):t.location.assign(Yt);return}}ge=null;let Qt=Ot===!0||ve.response.headers.has("X-Remix-Replace")?Oa.Replace:Oa.Push,{formMethod:hr,formAction:gr,formEncType:yr}=K.navigation;!et&&!St&&hr&&gr&&yr&&(et=M8(K.navigation));let vr=et||St;if(CMe.has(ve.response.status)&&vr&&Xc(vr.formMethod))await lt(Qt,$t,{submission:Ro({},vr,{formAction:Yt}),preventScrollReset:Bt||Q,enableViewTransition:Be?Y:void 0});else{let Tr=Y3($t,et);await lt(Qt,$t,{overrideNavigation:Tr,fetcherSubmission:St,preventScrollReset:Bt||Q,enableViewTransition:Be?Y:void 0})}}async function Jt(pe,ve,Be,Ye,et,St){let Bt,Ot={};try{Bt=await MMe(m,pe,ve,Be,Ye,et,St,a,i)}catch(Yt){return Ye.forEach($t=>{Ot[$t.route.id]={type:Yi.error,error:Yt}}),Ot}for(let[Yt,$t]of Object.entries(Bt))if($Me($t)){let Qt=$t.result;Ot[Yt]={type:Yi.redirect,response:OMe(Qt,Be,Yt,et,f,w.v7_relativeSplatPath)}}else Ot[Yt]=await DMe($t);return Ot}async function _r(pe,ve,Be,Ye,et){let St=pe.matches,Bt=Jt("loader",pe,et,Be,ve,null),Ot=Promise.all(Ye.map(async Qt=>{if(Qt.matches&&Qt.match&&Qt.controller){let gr=(await Jt("loader",pe,Bg(e.history,Qt.path,Qt.controller.signal),[Qt.match],Qt.matches,Qt.key))[Qt.match.route.id];return{[Qt.key]:gr}}else return Promise.resolve({[Qt.key]:{type:Yi.error,error:Xl(404,{pathname:Qt.path})}})})),Yt=await Bt,$t=(await Ot).reduce((Qt,hr)=>Object.assign(Qt,hr),{});return await Promise.all([jMe(ve,Yt,et.signal,St,pe.loaderData),UMe(ve,$t,Ye)]),{loaderResults:Yt,fetcherResults:$t}}function Cr(){fe=!0,Ae.push(...hi()),ae.forEach((pe,ve)=>{Oe.has(ve)&&ke.add(ve),Ar(ve)})}function Ir(pe,ve,Be){Be===void 0&&(Be={}),K.fetchers.set(pe,ve),ut({fetchers:new Map(K.fetchers)},{flushSync:(Be&&Be.flushSync)===!0})}function Ze(pe,ve,Be,Ye){Ye===void 0&&(Ye={});let et=Yp(K.matches,ve);Ft(pe),ut({errors:{[et.route.id]:Be},fetchers:new Map(K.fetchers)},{flushSync:(Ye&&Ye.flushSync)===!0})}function gt(pe){return w.v7_fetcherPersist&&(me.set(pe,(me.get(pe)||0)+1),we.has(pe)&&we.delete(pe)),K.fetchers.get(pe)||EMe}function Ft(pe){let ve=K.fetchers.get(pe);Oe.has(pe)&&!(ve&&ve.state==="loading"&&Ke.has(pe))&&Ar(pe),ae.delete(pe),Ke.delete(pe),pt.delete(pe),we.delete(pe),ke.delete(pe),K.fetchers.delete(pe)}function At(pe){if(w.v7_fetcherPersist){let ve=(me.get(pe)||0)-1;ve<=0?(me.delete(pe),we.add(pe)):me.set(pe,ve)}else Ft(pe);ut({fetchers:new Map(K.fetchers)})}function Ar(pe){let ve=Oe.get(pe);ve&&(ve.abort(),Oe.delete(pe))}function ot(pe){for(let ve of pe){let Be=gt(ve),Ye=Mf(Be.data);K.fetchers.set(ve,Ye)}}function kt(){let pe=[],ve=!1;for(let Be of pt){let Ye=K.fetchers.get(Be);bi(Ye,"Expected fetcher: "+Be),Ye.state==="loading"&&(pt.delete(Be),pe.push(Be),ve=!0)}return ot(pe),ve}function Dt(pe){let ve=[];for(let[Be,Ye]of Ke)if(Ye<pe){let et=K.fetchers.get(Be);bi(et,"Expected fetcher: "+Be),et.state==="loading"&&(Ar(Be),Ke.delete(Be),ve.push(Be))}return ot(ve),ve.length>0}function cr(pe,ve){let Be=K.blockers.get(pe)||Xv;return Fe.get(pe)!==ve&&Fe.set(pe,ve),Be}function Wr(pe){K.blockers.delete(pe),Fe.delete(pe)}function nr(pe,ve){let Be=K.blockers.get(pe)||Xv;bi(Be.state==="unblocked"&&ve.state==="blocked"||Be.state==="blocked"&&ve.state==="blocked"||Be.state==="blocked"&&ve.state==="proceeding"||Be.state==="blocked"&&ve.state==="unblocked"||Be.state==="proceeding"&&ve.state==="unblocked","Invalid blocker state transition: "+Be.state+" -> "+ve.state);let Ye=new Map(K.blockers);Ye.set(pe,ve),ut({blockers:Ye})}function ei(pe){let{currentLocation:ve,nextLocation:Be,historyAction:Ye}=pe;if(Fe.size===0)return;Fe.size>1&&Sy(!1,"A router only supports one blocker at a time");let et=Array.from(Fe.entries()),[St,Bt]=et[et.length-1],Ot=K.blockers.get(St);if(!(Ot&&Ot.state==="proceeding")&&Bt({currentLocation:ve,nextLocation:Be,historyAction:Ye}))return St}function On(pe){let ve=Xl(404,{pathname:pe}),Be=s||u,{matches:Ye,route:et}=I8(Be);return hi(),{notFoundMatches:Ye,route:et,error:ve}}function hi(pe){let ve=[];return Re.forEach((Be,Ye)=>{(!pe||pe(Ye))&&(Be.cancel(),ve.push(Ye),Re.delete(Ye))}),ve}function Vn(pe,ve,Be){if(L=pe,$=ve,k=Be||null,!M&&K.navigation===Z3){M=!0;let Ye=de(K.location,K.matches);Ye!=null&&ut({restoreScrollPosition:Ye})}return()=>{L=null,$=null,k=null}}function je(pe,ve){return k&&k(pe,ve.map(Ye=>eMe(Ye,K.loaderData)))||pe.key}function se(pe,ve){if(L&&$){let Be=je(pe,ve);L[Be]=$()}}function de(pe,ve){if(L){let Be=je(pe,ve),Ye=L[Be];if(typeof Ye=="number")return Ye}return null}function Pe(pe,ve,Be){if(x)if(pe){if(Object.keys(pe[0].params).length>0)return{active:!0,matches:s_(ve,Be,f,!0)}}else return{active:!0,matches:s_(ve,Be,f,!0)||[]};return{active:!1,matches:null}}async function ze(pe,ve,Be){if(!x)return{type:"success",matches:pe};let Ye=pe;for(;;){let et=s==null,St=s||u,Bt=a;try{await x({path:ve,matches:Ye,patch:($t,Qt)=>{Be.aborted||C8($t,Qt,St,Bt,i)}})}catch($t){return{type:"error",error:$t,partialMatches:Ye}}finally{et&&!Be.aborted&&(u=[...u])}if(Be.aborted)return{type:"aborted"};let Ot=Zp(St,ve,f);if(Ot)return{type:"success",matches:Ot};let Yt=s_(St,ve,f,!0);if(!Yt||Ye.length===Yt.length&&Ye.every(($t,Qt)=>$t.route.id===Yt[Qt].route.id))return{type:"success",matches:null};Ye=Yt}}function it(pe){a={},s=pw(pe,i,void 0,a)}function ct(pe,ve){let Be=s==null;C8(pe,ve,s||u,a,i),Be&&(u=[...u],ut({}))}return te={get basename(){return f},get future(){return w},get state(){return K},get routes(){return u},get window(){return t},initialize:Ve,subscribe:nt,enableScrollRestoration:Vn,navigate:Ct,fetch:Mt,revalidate:Et,createHref:pe=>e.history.createHref(pe),encodeLocation:pe=>e.history.encodeLocation(pe),getFetcher:gt,deleteFetcher:At,dispose:We,getBlocker:cr,deleteBlocker:Wr,patchRoutes:ct,_internalFetchControllers:Oe,_internalActiveDeferreds:Re,_internalSetRoutes:it},te}function PMe(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function A4(e,t,r,n,i,a,u,s){let f,m;if(u){f=[];for(let w of t)if(f.push(w),w.route.id===u){m=w;break}}else f=t,m=t[t.length-1];let x=gMe(i||".",mMe(f,a),g2(e.pathname,r)||e.pathname,s==="path");if(i==null&&(x.search=e.search,x.hash=e.hash),(i==null||i===""||i===".")&&m){let w=pI(x.search);if(m.route.index&&!w)x.search=x.search?x.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&w){let S=new URLSearchParams(x.search),C=S.getAll("index");S.delete("index"),C.filter(k=>k).forEach(k=>S.append("index",k));let L=S.toString();x.search=L?"?"+L:""}}return n&&r!=="/"&&(x.pathname=x.pathname==="/"?r:bm([r,x.pathname])),m2(x)}function x8(e,t,r,n){if(!n||!PMe(n))return{path:r};if(n.formMethod&&!zMe(n.formMethod))return{path:r,error:Xl(405,{method:n.formMethod})};let i=()=>({path:r,error:Xl(400,{type:"invalid-body"})}),a=n.formMethod||"get",u=e?a.toUpperCase():a.toLowerCase(),s=dV(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Xc(u))return i();let S=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((C,L)=>{let[k,$]=L;return""+C+k+"="+$+`
`},""):String(n.body);return{path:r,submission:{formMethod:u,formAction:s,formEncType:n.formEncType,formData:void 0,json:void 0,text:S}}}else if(n.formEncType==="application/json"){if(!Xc(u))return i();try{let S=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:u,formAction:s,formEncType:n.formEncType,formData:void 0,json:S,text:void 0}}}catch{return i()}}}bi(typeof FormData=="function","FormData is not available in this environment");let f,m;if(n.formData)f=P4(n.formData),m=n.formData;else if(n.body instanceof FormData)f=P4(n.body),m=n.body;else if(n.body instanceof URLSearchParams)f=n.body,m=A8(f);else if(n.body==null)f=new URLSearchParams,m=new FormData;else try{f=new URLSearchParams(n.body),m=A8(f)}catch{return i()}let x={formMethod:u,formAction:s,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:m,json:void 0,text:void 0};if(Xc(x.formMethod))return{path:r,submission:x};let w=_p(r);return t&&w.search&&pI(w.search)&&f.append("index",""),w.search="?"+f,{path:m2(w),submission:x}}function _8(e,t,r){r===void 0&&(r=!1);let n=e.findIndex(i=>i.route.id===t);return n>=0?e.slice(0,r?n+1:n):e}function w8(e,t,r,n,i,a,u,s,f,m,x,w,S,C,L,k){let $=k?Mu(k[1])?k[1].error:k[1].data:void 0,M=e.createURL(t.location),z=e.createURL(i),B=r;a&&t.errors?B=_8(r,Object.keys(t.errors)[0],!0):k&&Mu(k[1])&&(B=_8(r,k[0]));let q=k?k[1].statusCode:void 0,te=u&&q&&q>=400,K=B.filter((Q,ge)=>{let{route:Y}=Q;if(Y.lazy)return!0;if(Y.loader==null)return!1;if(a)return T4(Y,t.loaderData,t.errors);if(kMe(t.loaderData,t.matches[ge],Q)||f.some(ye=>ye===Q.route.id))return!0;let Z=t.matches[ge],re=Q;return S8(Q,Ro({currentUrl:M,currentParams:Z.params,nextUrl:z,nextParams:re.params},n,{actionResult:$,actionStatus:q,defaultShouldRevalidate:te?!1:s||M.pathname+M.search===z.pathname+z.search||M.search!==z.search||uV(Z,re)}))}),ee=[];return w.forEach((Q,ge)=>{if(a||!r.some(fe=>fe.route.id===Q.routeId)||x.has(ge))return;let Y=Zp(C,Q.path,L);if(!Y){ee.push({key:ge,routeId:Q.routeId,path:Q.path,matches:null,match:null,controller:null});return}let Z=t.fetchers.get(ge),re=m1(Y,Q.path),ye=!1;S.has(ge)?ye=!1:m.has(ge)?(m.delete(ge),ye=!0):Z&&Z.state!=="idle"&&Z.data===void 0?ye=s:ye=S8(re,Ro({currentUrl:M,currentParams:t.matches[t.matches.length-1].params,nextUrl:z,nextParams:r[r.length-1].params},n,{actionResult:$,actionStatus:q,defaultShouldRevalidate:te?!1:s})),ye&&ee.push({key:ge,routeId:Q.routeId,path:Q.path,matches:Y,match:re,controller:new AbortController})}),[K,ee]}function T4(e,t,r){if(e.lazy)return!0;if(!e.loader)return!1;let n=t!=null&&t[e.id]!==void 0,i=r!=null&&r[e.id]!==void 0;return!n&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!n&&!i}function kMe(e,t,r){let n=!t||r.route.id!==t.route.id,i=e[r.route.id]===void 0;return n||i}function uV(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function S8(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function C8(e,t,r,n,i){var a;let u;if(e){let m=n[e];bi(m,"No route found to patch children into: routeId = "+e),m.children||(m.children=[]),u=m.children}else u=r;let s=t.filter(m=>!u.some(x=>cV(m,x))),f=pw(s,i,[e||"_","patch",String(((a=u)==null?void 0:a.length)||"0")],n);u.push(...f)}function cV(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,n)=>{var i;return(i=t.children)==null?void 0:i.some(a=>cV(r,a))}):!1}async function IMe(e,t,r){if(!e.lazy)return;let n=await e.lazy();if(!e.lazy)return;let i=r[e.id];bi(i,"No route found in manifest");let a={};for(let u in n){let f=i[u]!==void 0&&u!=="hasErrorBoundary";Sy(!f,'Route "'+i.id+'" has a static property "'+u+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+u+'" will be ignored.')),!f&&!JLe.has(u)&&(a[u]=n[u])}Object.assign(i,a),Object.assign(i,Ro({},t(i),{lazy:void 0}))}async function LMe(e){let{matches:t}=e,r=t.filter(i=>i.shouldLoad);return(await Promise.all(r.map(i=>i.resolve()))).reduce((i,a,u)=>Object.assign(i,{[r[u].route.id]:a}),{})}async function MMe(e,t,r,n,i,a,u,s,f,m){let x=a.map(C=>C.route.lazy?IMe(C.route,f,s):void 0),w=a.map((C,L)=>{let k=x[L],$=i.some(z=>z.route.id===C.route.id);return Ro({},C,{shouldLoad:$,resolve:async z=>(z&&n.method==="GET"&&(C.route.lazy||C.route.loader)&&($=!0),$?RMe(t,n,C,k,z,m):Promise.resolve({type:Yi.data,result:void 0}))})}),S=await e({matches:w,request:n,params:a[0].params,fetcherKey:u,context:m});try{await Promise.all(x)}catch{}return S}async function RMe(e,t,r,n,i,a){let u,s,f=m=>{let x,w=new Promise((L,k)=>x=k);s=()=>x(),t.signal.addEventListener("abort",s);let S=L=>typeof m!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+r.route.id+"]"))):m({request:t,params:r.params,context:a},...L!==void 0?[L]:[]),C=(async()=>{try{return{type:"data",result:await(i?i(k=>S(k)):S())}}catch(L){return{type:"error",result:L}}})();return Promise.race([C,w])};try{let m=r.route[e];if(n)if(m){let x,[w]=await Promise.all([f(m).catch(S=>{x=S}),n]);if(x!==void 0)throw x;u=w}else if(await n,m=r.route[e],m)u=await f(m);else if(e==="action"){let x=new URL(t.url),w=x.pathname+x.search;throw Xl(405,{method:t.method,pathname:w,routeId:r.route.id})}else return{type:Yi.data,result:void 0};else if(m)u=await f(m);else{let x=new URL(t.url),w=x.pathname+x.search;throw Xl(404,{pathname:w})}bi(u.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(m){return{type:Yi.error,result:m}}finally{s&&t.signal.removeEventListener("abort",s)}return u}async function DMe(e){let{result:t,type:r}=e;if(hV(t)){let m;try{let x=t.headers.get("Content-Type");x&&/\bapplication\/json\b/.test(x)?t.body==null?m=null:m=await t.json():m=await t.text()}catch(x){return{type:Yi.error,error:x}}return r===Yi.error?{type:Yi.error,error:new mw(t.status,t.statusText,m),statusCode:t.status,headers:t.headers}:{type:Yi.data,data:m,statusCode:t.status,headers:t.headers}}if(r===Yi.error){if(L8(t)){var n;if(t.data instanceof Error){var i;return{type:Yi.error,error:t.data,statusCode:(i=t.init)==null?void 0:i.status}}t=new mw(((n=t.init)==null?void 0:n.status)||500,void 0,t.data)}return{type:Yi.error,error:t,statusCode:FS(t)?t.status:void 0}}if(BMe(t)){var a,u;return{type:Yi.deferred,deferredData:t,statusCode:(a=t.init)==null?void 0:a.status,headers:((u=t.init)==null?void 0:u.headers)&&new Headers(t.init.headers)}}if(L8(t)){var s,f;return{type:Yi.data,data:t.data,statusCode:(s=t.init)==null?void 0:s.status,headers:(f=t.init)!=null&&f.headers?new Headers(t.init.headers):void 0}}return{type:Yi.data,data:t}}function OMe(e,t,r,n,i,a){let u=e.headers.get("Location");if(bi(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!hI.test(u)){let s=n.slice(0,n.findIndex(f=>f.route.id===r)+1);u=A4(new URL(t.url),s,i,!0,u,a),e.headers.set("Location",u)}return e}function E8(e,t,r){if(hI.test(e)){let n=e,i=n.startsWith("//")?new URL(t.protocol+n):new URL(n),a=g2(i.pathname,r)!=null;if(i.origin===t.origin&&a)return i.pathname+i.search+i.hash}return e}function Bg(e,t,r,n){let i=e.createURL(dV(t)).toString(),a={signal:r};if(n&&Xc(n.formMethod)){let{formMethod:u,formEncType:s}=n;a.method=u.toUpperCase(),s==="application/json"?(a.headers=new Headers({"Content-Type":s}),a.body=JSON.stringify(n.json)):s==="text/plain"?a.body=n.text:s==="application/x-www-form-urlencoded"&&n.formData?a.body=P4(n.formData):a.body=n.formData}return new Request(i,a)}function P4(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function A8(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function NMe(e,t,r,n,i){let a={},u=null,s,f=!1,m={},x=r&&Mu(r[1])?r[1].error:void 0;return e.forEach(w=>{if(!(w.route.id in t))return;let S=w.route.id,C=t[S];if(bi(!nm(C),"Cannot handle redirect results in processLoaderData"),Mu(C)){let L=C.error;x!==void 0&&(L=x,x=void 0),u=u||{};{let k=Yp(e,S);u[k.route.id]==null&&(u[k.route.id]=L)}a[S]=void 0,f||(f=!0,s=FS(C.error)?C.error.status:500),C.headers&&(m[S]=C.headers)}else Jf(C)?(n.set(S,C.deferredData),a[S]=C.deferredData.data,C.statusCode!=null&&C.statusCode!==200&&!f&&(s=C.statusCode),C.headers&&(m[S]=C.headers)):(a[S]=C.data,C.statusCode&&C.statusCode!==200&&!f&&(s=C.statusCode),C.headers&&(m[S]=C.headers))}),x!==void 0&&r&&(u={[r[0]]:x},a[r[0]]=void 0),{loaderData:a,errors:u,statusCode:s||200,loaderHeaders:m}}function T8(e,t,r,n,i,a,u){let{loaderData:s,errors:f}=NMe(t,r,n,u);return i.forEach(m=>{let{key:x,match:w,controller:S}=m,C=a[x];if(bi(C,"Did not find corresponding fetcher result"),!(S&&S.signal.aborted))if(Mu(C)){let L=Yp(e.matches,w==null?void 0:w.route.id);f&&f[L.route.id]||(f=Ro({},f,{[L.route.id]:C.error})),e.fetchers.delete(x)}else if(nm(C))bi(!1,"Unhandled fetcher revalidation redirect");else if(Jf(C))bi(!1,"Unhandled fetcher deferred data");else{let L=Mf(C.data);e.fetchers.set(x,L)}}),{loaderData:s,errors:f}}function P8(e,t,r,n){let i=Ro({},t);for(let a of r){let u=a.route.id;if(t.hasOwnProperty(u)?t[u]!==void 0&&(i[u]=t[u]):e[u]!==void 0&&a.route.loader&&(i[u]=e[u]),n&&n.hasOwnProperty(u))break}return i}function k8(e){return e?Mu(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Yp(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function I8(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Xl(e,t){let{pathname:r,routeId:n,method:i,type:a,message:u}=t===void 0?{}:t,s="Unknown Server Error",f="Unknown @remix-run/router error";return e===400?(s="Bad Request",i&&r&&n?f="You made a "+i+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":a==="defer-action"?f="defer() is not supported in actions":a==="invalid-body"&&(f="Unable to encode submission body")):e===403?(s="Forbidden",f='Route "'+n+'" does not match URL "'+r+'"'):e===404?(s="Not Found",f='No route matches URL "'+r+'"'):e===405&&(s="Method Not Allowed",i&&r&&n?f="You made a "+i.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":i&&(f='Invalid request method "'+i.toUpperCase()+'"')),new mw(e||500,s,new Error(f),!0)}function Mx(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[n,i]=t[r];if(nm(i))return{key:n,result:i}}}function dV(e){let t=typeof e=="string"?_p(e):e;return m2(Ro({},t,{hash:""}))}function FMe(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function $Me(e){return hV(e.result)&&SMe.has(e.result.status)}function Jf(e){return e.type===Yi.deferred}function Mu(e){return e.type===Yi.error}function nm(e){return(e&&e.type)===Yi.redirect}function L8(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function BMe(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function hV(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function zMe(e){return wMe.has(e.toLowerCase())}function Xc(e){return xMe.has(e.toLowerCase())}async function jMe(e,t,r,n,i){let a=Object.entries(t);for(let u=0;u<a.length;u++){let[s,f]=a[u],m=e.find(S=>(S==null?void 0:S.route.id)===s);if(!m)continue;let x=n.find(S=>S.route.id===m.route.id),w=x!=null&&!uV(x,m)&&(i&&i[m.route.id])!==void 0;Jf(f)&&w&&await fI(f,r,!1).then(S=>{S&&(t[s]=S)})}}async function UMe(e,t,r){for(let n=0;n<r.length;n++){let{key:i,routeId:a,controller:u}=r[n],s=t[i];e.find(m=>(m==null?void 0:m.route.id)===a)&&Jf(s)&&(bi(u,"Expected an AbortController for revalidating fetcher deferred result"),await fI(s,u.signal,!0).then(m=>{m&&(t[i]=m)}))}}async function fI(e,t,r){if(r===void 0&&(r=!1),!await e.deferredData.resolveData(t)){if(r)try{return{type:Yi.data,data:e.deferredData.unwrappedData}}catch(i){return{type:Yi.error,error:i}}return{type:Yi.data,data:e.deferredData.data}}}function pI(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function m1(e,t){let r=typeof t=="string"?_p(t).search:t.search;if(e[e.length-1].route.index&&pI(r||""))return e[e.length-1];let n=aV(e);return n[n.length-1]}function M8(e){let{formMethod:t,formAction:r,formEncType:n,text:i,formData:a,json:u}=e;if(!(!t||!r||!n)){if(i!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:t,formAction:r,formEncType:n,formData:a,json:void 0,text:void 0};if(u!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:u,text:void 0}}}function Y3(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function VMe(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Zv(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function qMe(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Mf(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function HMe(e,t){try{let r=e.sessionStorage.getItem(lV);if(r){let n=JSON.parse(r);for(let[i,a]of Object.entries(n||{}))a&&Array.isArray(a)&&t.set(i,new Set(a||[]))}}catch{}}function WMe(e,t){if(t.size>0){let r={};for(let[n,i]of t)r[n]=[...i];try{e.sessionStorage.setItem(lV,JSON.stringify(r))}catch(n){Sy(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function k4(){return k4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k4.apply(this,arguments)}const fV=V.createContext(null),pV=V.createContext(null),mV=V.createContext(null),mI=V.createContext(null),$S=V.createContext({outlet:null,matches:[],isDataRoute:!1}),gV=V.createContext(null);function gI(){return V.useContext(mI)!=null}function GMe(){return gI()||bi(!1),V.useContext(mI).location}function KMe(e,t,r,n){gI()||bi(!1);let{navigator:i}=V.useContext(mV),{matches:a}=V.useContext($S),u=a[a.length-1],s=u?u.params:{};u&&u.pathname;let f=u?u.pathnameBase:"/";u&&u.route;let m=GMe(),x;x=m;let w=x.pathname||"/",S=w;if(f!=="/"){let k=f.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(k.length).join("/")}let C=Zp(e,{pathname:S});return QMe(C&&C.map(k=>Object.assign({},k,{params:Object.assign({},s,k.params),pathname:bm([f,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?f:bm([f,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,r,n)}function XMe(){let e=nRe(),t=FS(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},t),r?V.createElement("pre",{style:i},r):null,null)}const ZMe=V.createElement(XMe,null);class YMe extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?V.createElement($S.Provider,{value:this.props.routeContext},V.createElement(gV.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function JMe(e){let{routeContext:t,match:r,children:n}=e,i=V.useContext(fV);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),V.createElement($S.Provider,{value:t},n)}function QMe(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let u=e,s=(i=r)==null?void 0:i.errors;if(s!=null){let x=u.findIndex(w=>w.route.id&&(s==null?void 0:s[w.route.id])!==void 0);x>=0||bi(!1),u=u.slice(0,Math.min(u.length,x+1))}let f=!1,m=-1;if(r&&n&&n.v7_partialHydration)for(let x=0;x<u.length;x++){let w=u[x];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(m=x),w.route.id){let{loaderData:S,errors:C}=r,L=w.route.loader&&S[w.route.id]===void 0&&(!C||C[w.route.id]===void 0);if(w.route.lazy||L){f=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}return u.reduceRight((x,w,S)=>{let C,L=!1,k=null,$=null;r&&(C=s&&w.route.id?s[w.route.id]:void 0,k=w.route.errorElement||ZMe,f&&(m<0&&S===0?(iRe("route-fallback"),L=!0,$=null):m===S&&(L=!0,$=w.route.hydrateFallbackElement||null)));let M=t.concat(u.slice(0,S+1)),z=()=>{let B;return C?B=k:L?B=$:w.route.Component?B=V.createElement(w.route.Component,null):w.route.element?B=w.route.element:B=x,V.createElement(JMe,{match:w,routeContext:{outlet:x,matches:M,isDataRoute:r!=null},children:B})};return r&&(w.route.ErrorBoundary||w.route.errorElement||S===0)?V.createElement(YMe,{location:r.location,revalidation:r.revalidation,component:k,error:C,children:z(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):z()},null)}var I4=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(I4||{});function eRe(e){let t=V.useContext(pV);return t||bi(!1),t}function tRe(e){let t=V.useContext($S);return t||bi(!1),t}function rRe(e){let t=tRe(),r=t.matches[t.matches.length-1];return r.route.id||bi(!1),r.route.id}function nRe(){var e;let t=V.useContext(gV),r=eRe(I4.UseRouteError),n=rRe(I4.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}const R8={};function iRe(e,t,r){R8[e]||(R8[e]=!0)}const D8={};function oRe(e,t){D8[t]||(D8[t]=!0,console.warn(t))}const zg=(e,t,r)=>oRe(e,"⚠️ React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function aRe(e,t){e!=null&&e.v7_startTransition||zg("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(e!=null&&e.v7_relativeSplatPath)&&(!t||!t.v7_relativeSplatPath)&&zg("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),t&&(t.v7_fetcherPersist||zg("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),t.v7_normalizeFormMethod||zg("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),t.v7_partialHydration||zg("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),t.v7_skipActionErrorRevalidation||zg("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}function sRe(e){let{basename:t="/",children:r=null,location:n,navigationType:i=Oa.Pop,navigator:a,static:u=!1,future:s}=e;gI()&&bi(!1);let f=t.replace(/^\/*/,"/"),m=V.useMemo(()=>({basename:f,navigator:a,static:u,future:k4({v7_relativeSplatPath:!1},s)}),[f,s,a,u]);typeof n=="string"&&(n=_p(n));let{pathname:x="/",search:w="",hash:S="",state:C=null,key:L="default"}=n,k=V.useMemo(()=>{let $=g2(x,f);return $==null?null:{location:{pathname:$,search:w,hash:S,state:C,key:L},navigationType:i}},[f,x,w,S,C,L,i]);return k==null?null:V.createElement(mV.Provider,{value:m},V.createElement(mI.Provider,{children:r,value:k}))}new Promise(()=>{});function lRe(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:V.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:V.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:V.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gw(){return gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gw.apply(this,arguments)}const uRe="6";try{window.__reactRouterVersion=uRe}catch{}function cRe(e,t){return TMe({basename:void 0,future:gw({},void 0,{v7_prependBasename:!0}),history:XLe({window:void 0}),hydrationData:dRe(),routes:e,mapRouteProperties:lRe,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function dRe(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=gw({},t,{errors:hRe(t.errors)})),t}function hRe(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,i]of t)if(i&&i.__type==="RouteErrorResponse")r[n]=new mw(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let u=new a(i.message);u.stack="",r[n]=u}catch{}}if(r[n]==null){let a=new Error(i.message);a.stack="",r[n]=a}}else r[n]=i;return r}const fRe=V.createContext({isTransitioning:!1}),pRe=V.createContext(new Map),mRe="startTransition",O8=Wh[mRe],gRe="flushSync",N8=IG[gRe];function yRe(e){O8?O8(e):e()}function Yv(e){N8?N8(e):e()}class vRe{constructor(){this.status="pending",this.promise=new Promise((t,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}}function bRe(e){let{fallbackElement:t,router:r,future:n}=e,[i,a]=V.useState(r.state),[u,s]=V.useState(),[f,m]=V.useState({isTransitioning:!1}),[x,w]=V.useState(),[S,C]=V.useState(),[L,k]=V.useState(),$=V.useRef(new Map),{v7_startTransition:M}=n||{},z=V.useCallback(Q=>{M?yRe(Q):Q()},[M]),B=V.useCallback((Q,ge)=>{let{deletedFetchers:Y,flushSync:Z,viewTransitionOpts:re}=ge;Y.forEach(fe=>$.current.delete(fe)),Q.fetchers.forEach((fe,Ae)=>{fe.data!==void 0&&$.current.set(Ae,fe.data)});let ye=r.window==null||r.window.document==null||typeof r.window.document.startViewTransition!="function";if(!re||ye){Z?Yv(()=>a(Q)):z(()=>a(Q));return}if(Z){Yv(()=>{S&&(x&&x.resolve(),S.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:re.currentLocation,nextLocation:re.nextLocation})});let fe=r.window.document.startViewTransition(()=>{Yv(()=>a(Q))});fe.finished.finally(()=>{Yv(()=>{w(void 0),C(void 0),s(void 0),m({isTransitioning:!1})})}),Yv(()=>C(fe));return}S?(x&&x.resolve(),S.skipTransition(),k({state:Q,currentLocation:re.currentLocation,nextLocation:re.nextLocation})):(s(Q),m({isTransitioning:!0,flushSync:!1,currentLocation:re.currentLocation,nextLocation:re.nextLocation}))},[r.window,S,x,$,z]);V.useLayoutEffect(()=>r.subscribe(B),[r,B]),V.useEffect(()=>{f.isTransitioning&&!f.flushSync&&w(new vRe)},[f]),V.useEffect(()=>{if(x&&u&&r.window){let Q=u,ge=x.promise,Y=r.window.document.startViewTransition(async()=>{z(()=>a(Q)),await ge});Y.finished.finally(()=>{w(void 0),C(void 0),s(void 0),m({isTransitioning:!1})}),C(Y)}},[z,u,x,r.window]),V.useEffect(()=>{x&&u&&i.location.key===u.location.key&&x.resolve()},[x,S,i.location,u]),V.useEffect(()=>{!f.isTransitioning&&L&&(s(L.state),m({isTransitioning:!0,flushSync:!1,currentLocation:L.currentLocation,nextLocation:L.nextLocation}),k(void 0))},[f.isTransitioning,L]),V.useEffect(()=>{},[]);let q=V.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:Q=>r.navigate(Q),push:(Q,ge,Y)=>r.navigate(Q,{state:ge,preventScrollReset:Y==null?void 0:Y.preventScrollReset}),replace:(Q,ge,Y)=>r.navigate(Q,{replace:!0,state:ge,preventScrollReset:Y==null?void 0:Y.preventScrollReset})}),[r]),te=r.basename||"/",K=V.useMemo(()=>({router:r,navigator:q,static:!1,basename:te}),[r,q,te]),ee=V.useMemo(()=>({v7_relativeSplatPath:r.future.v7_relativeSplatPath}),[r.future.v7_relativeSplatPath]);return V.useEffect(()=>aRe(n,r.future),[n,r.future]),V.createElement(V.Fragment,null,V.createElement(fV.Provider,{value:K},V.createElement(pV.Provider,{value:i},V.createElement(pRe.Provider,{value:$.current},V.createElement(fRe.Provider,{value:f},V.createElement(sRe,{basename:te,location:i.location,navigationType:i.historyAction,navigator:q,future:ee},i.initialized||r.future.v7_partialHydration?V.createElement(xRe,{routes:r.routes,future:r.future,state:i}):t))))),null)}const xRe=V.memo(_Re);function _Re(e){let{routes:t,future:r,state:n}=e;return KMe(t,void 0,n,r)}var F8;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(F8||(F8={}));var $8;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})($8||($8={}));const wRe=new u4e;"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register(lU+"service-worker.js").then(e=>{console.log("ServiceWorker registration successful with scope: ",e.scope)}).catch(e=>{console.log("ServiceWorker registration failed: ",e)})});const B8=window.location.pathname,SRe=cRe([{path:B8+"/",element:$e.jsx(BLe,{})},{path:B8+"/table",element:$e.jsx(KLe,{})}]);J3.createRoot(document.getElementById("root")).render($e.jsx(Se.StrictMode,{children:$e.jsx(m4e,{client:wRe,children:$e.jsx(vAe,{children:$e.jsx(P4e,{children:$e.jsx(bRe,{router:SRe})})})})}));export{Ui as _,Gd as c,L4 as g};
